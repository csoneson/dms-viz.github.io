var FN=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var n3=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var i3=(e,t,n)=>(FN(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const RB=document.querySelector(".modal"),IB=document.querySelector(".trigger"),NN=document.querySelector(".close-button"),PN=document.querySelectorAll(".accordion"),FB=document.getElementById("sidebar"),NB=document.getElementById("sidebar-toggle"),UN=document.getElementById("header"),HN=document.getElementById("main"),DN=document.getElementById("local-file"),GN=document.getElementById("remote-file");function G4(){RB.classList.toggle("show-modal")}function QN(e){e.target===RB&&G4()}function Q4(){FB.classList.toggle("sidebar--collapsed"),NB.classList.toggle("bx-x"),UN.classList.toggle("body-pad"),HN.classList.toggle("body-pad")}function kN(e){if(FB.classList.contains("sidebar--collapsed"))Q4(),setTimeout(()=>{window.dispatchEvent(new Event("resize")),e.classList.toggle("is-open");let t=e.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"},500);else{e.classList.toggle("is-open");let t=e.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}}IB.addEventListener("click",G4);NN.addEventListener("click",G4);window.addEventListener("click",QN);PN.forEach(e=>{e.onclick=function(){kN(this)}});NB.addEventListener("click",()=>{Q4(),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},500),document.querySelectorAll(".accordion").forEach(t=>{t.classList.remove("is-open");let n=t.nextElementSibling;n.style.maxHeight=null})});window.addEventListener("load",()=>{window.matchMedia("(max-width: 1000px)").matches&&Q4()});function PB(){const e=document.getElementById("help-message"),t=document.querySelector(".help");IB.classList.remove("glow"),t.classList.remove("active"),e.remove(),document.removeEventListener("mousedown",PB)}document.addEventListener("mousedown",PB);function UB({target:e}){Array.from(e.parentNode.querySelectorAll("button")).forEach(n=>n.classList.remove("upload-method")),e.classList.add("upload-method"),e.id==="local-file"?(document.getElementById("local-file-input").style.display="block",document.getElementById("remote-url-input").style.display="none"):e.id==="remote-file"&&(document.getElementById("remote-url-input").style.display="block",document.getElementById("local-file-input").style.display="none")}DN.addEventListener("click",UB);GN.addEventListener("click",UB);function E1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VN(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HB(e){let t,n,i;e.length!==2?(t=E1,n=(o,c)=>E1(e(o),c),i=(o,c)=>e(o)-c):(t=e===E1||e===VN?e:KN,n=e,i=e);function r(o,c,p=0,A=o.length){if(p<A){if(t(c,c)!==0)return A;do{const l=p+A>>>1;n(o[l],c)<0?p=l+1:A=l}while(p<A)}return p}function s(o,c,p=0,A=o.length){if(p<A){if(t(c,c)!==0)return A;do{const l=p+A>>>1;n(o[l],c)<=0?p=l+1:A=l}while(p<A)}return p}function a(o,c,p=0,A=o.length){const l=r(o,c,p,A-1);return l>p&&i(o[l-1],c)>-i(o[l],c)?l-1:l}return{left:r,center:a,right:s}}function KN(){return 0}function zN(e){return e===null?NaN:+e}const YN=HB(E1),WN=YN.right;HB(zN).center;const $N=WN;function $A(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}return[n,i]}class x2 extends Map{constructor(t,n=qN){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(J5(this,t))}has(t){return super.has(J5(this,t))}set(t,n){return super.set(jN(this,t),n)}delete(t){return super.delete(XN(this,t))}}function J5({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function jN({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function XN({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function qN(e){return e!==null&&typeof e=="object"?e.valueOf():e}function T2(e){return e}function ZN(e,...t){return DB(e,T2,T2,t)}function JN(e,t,...n){return DB(e,T2,t,n)}function DB(e,t,n,i){return function r(s,a){if(a>=i.length)return n(s);const o=new x2,c=i[a++];let p=-1;for(const A of s){const l=c(A,++p,s),u=o.get(l);u?u.push(A):o.set(l,[A])}for(const[A,l]of o)o.set(A,r(l,a));return t(o)}(e,0)}var B2=Math.sqrt(50),M2=Math.sqrt(10),S2=Math.sqrt(2);function eP(e,t,n){var i,r=-1,s,a,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(s=e,e=t,t=s),(o=GB(e,t,n))===0||!isFinite(o))return[];if(o>0){let c=Math.round(e/o),p=Math.round(t/o);for(c*o<e&&++c,p*o>t&&--p,a=new Array(s=p-c+1);++r<s;)a[r]=(c+r)*o}else{o=-o;let c=Math.round(e*o),p=Math.round(t*o);for(c/o<e&&++c,p/o>t&&--p,a=new Array(s=p-c+1);++r<s;)a[r]=(c+r)/o}return i&&a.reverse(),a}function GB(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=B2?10:s>=M2?5:s>=S2?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=B2?10:s>=M2?5:s>=S2?2:1)}function tP(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=B2?r*=10:s>=M2?r*=5:s>=S2&&(r*=2),t<e?-r:r}function Ds(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function sf(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function nP(e,t){let n=0,i=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(s=+s)>=s&&(++n,i+=s)}if(n)return i/n}function iP(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(r);++i<r;)s[i]=e+i*n;return s}function rP(e,t){let n=0;if(t===void 0)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}function sP(e){return e}var r3=1,y1=2,O2=3,af=4,eC=1e-6;function aP(e){return"translate("+e+",0)"}function oP(e){return"translate(0,"+e+")"}function cP(e){return t=>+e(t)}function pP(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function AP(){return!this.__axis}function k4(e,t){var n=[],i=null,r=null,s=6,a=6,o=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,p=e===r3||e===af?-1:1,A=e===af||e===y1?"x":"y",l=e===r3||e===O2?aP:oP;function u(d){var m=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,y=r==null?t.tickFormat?t.tickFormat.apply(t,n):sP:r,g=Math.max(s,0)+o,E=t.range(),w=+E[0]+c,b=+E[E.length-1]+c,_=(t.bandwidth?pP:cP)(t.copy(),c),C=d.selection?d.selection():d,T=C.selectAll(".domain").data([null]),x=C.selectAll(".tick").data(m,t).order(),O=x.exit(),M=x.enter().append("g").attr("class","tick"),H=x.select("line"),R=x.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),H=H.merge(M.append("line").attr("stroke","currentColor").attr(A+"2",p*s)),R=R.merge(M.append("text").attr("fill","currentColor").attr(A,p*g).attr("dy",e===r3?"0em":e===O2?"0.71em":"0.32em")),d!==C&&(T=T.transition(d),x=x.transition(d),H=H.transition(d),R=R.transition(d),O=O.transition(d).attr("opacity",eC).attr("transform",function(D){return isFinite(D=_(D))?l(D+c):this.getAttribute("transform")}),M.attr("opacity",eC).attr("transform",function(D){var P=this.parentNode.__axis;return l((P&&isFinite(P=P(D))?P:_(D))+c)})),O.remove(),T.attr("d",e===af||e===y1?a?"M"+p*a+","+w+"H"+c+"V"+b+"H"+p*a:"M"+c+","+w+"V"+b:a?"M"+w+","+p*a+"V"+c+"H"+b+"V"+p*a:"M"+w+","+c+"H"+b),x.attr("opacity",1).attr("transform",function(D){return l(_(D)+c)}),H.attr(A+"2",p*s),R.attr(A,p*g).text(y),C.filter(AP).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===y1?"start":e===af?"end":"middle"),C.each(function(){this.__axis=_})}return u.scale=function(d){return arguments.length?(t=d,u):t},u.ticks=function(){return n=Array.from(arguments),u},u.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),u):n.slice()},u.tickValues=function(d){return arguments.length?(i=d==null?null:Array.from(d),u):i&&i.slice()},u.tickFormat=function(d){return arguments.length?(r=d,u):r},u.tickSize=function(d){return arguments.length?(s=a=+d,u):s},u.tickSizeInner=function(d){return arguments.length?(s=+d,u):s},u.tickSizeOuter=function(d){return arguments.length?(a=+d,u):a},u.tickPadding=function(d){return arguments.length?(o=+d,u):o},u.offset=function(d){return arguments.length?(c=+d,u):c},u}function lP(e){return k4(y1,e)}function s3(e){return k4(O2,e)}function a3(e){return k4(af,e)}var uP={value:()=>{}};function fE(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new g1(n)}function g1(e){this._=e}function fP(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}g1.prototype=fE.prototype={constructor:g1,on:function(e,t){var n=this._,i=fP(e+"",n),r,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((r=(e=i[s]).type)&&(r=dP(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(r=(e=i[s]).type)n[r]=tC(n[r],e.name,t);else if(t==null)for(r in n)n[r]=tC(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new g1(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function dP(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function tC(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=uP,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var L2="http://www.w3.org/1999/xhtml";const nC={svg:"http://www.w3.org/2000/svg",xhtml:L2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dE(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),nC.hasOwnProperty(t)?{space:nC[t],local:e}:e}function hP(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===L2&&t.documentElement.namespaceURI===L2?t.createElement(e):t.createElementNS(n,e)}}function mP(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function QB(e){var t=dE(e);return(t.local?mP:hP)(t)}function EP(){}function V4(e){return e==null?EP:function(){return this.querySelector(e)}}function yP(e){typeof e!="function"&&(e=V4(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],a=s.length,o=i[r]=new Array(a),c,p,A=0;A<a;++A)(c=s[A])&&(p=e.call(c,c.__data__,A,s))&&("__data__"in c&&(p.__data__=c.__data__),o[A]=p);return new Ir(i,this._parents)}function kB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gP(){return[]}function VB(e){return e==null?gP:function(){return this.querySelectorAll(e)}}function wP(e){return function(){return kB(e.apply(this,arguments))}}function _P(e){typeof e=="function"?e=wP(e):e=VB(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var a=t[s],o=a.length,c,p=0;p<o;++p)(c=a[p])&&(i.push(e.call(c,c.__data__,p,a)),r.push(c));return new Ir(i,r)}function KB(e){return function(){return this.matches(e)}}function zB(e){return function(t){return t.matches(e)}}var vP=Array.prototype.find;function CP(e){return function(){return vP.call(this.children,e)}}function bP(){return this.firstElementChild}function xP(e){return this.select(e==null?bP:CP(typeof e=="function"?e:zB(e)))}var TP=Array.prototype.filter;function BP(){return Array.from(this.children)}function MP(e){return function(){return TP.call(this.children,e)}}function SP(e){return this.selectAll(e==null?BP:MP(typeof e=="function"?e:zB(e)))}function OP(e){typeof e!="function"&&(e=KB(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],a=s.length,o=i[r]=[],c,p=0;p<a;++p)(c=s[p])&&e.call(c,c.__data__,p,s)&&o.push(c);return new Ir(i,this._parents)}function YB(e){return new Array(e.length)}function LP(){return new Ir(this._enter||this._groups.map(YB),this._parents)}function Y1(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Y1.prototype={constructor:Y1,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function RP(e){return function(){return e}}function IP(e,t,n,i,r,s){for(var a=0,o,c=t.length,p=s.length;a<p;++a)(o=t[a])?(o.__data__=s[a],i[a]=o):n[a]=new Y1(e,s[a]);for(;a<c;++a)(o=t[a])&&(r[a]=o)}function FP(e,t,n,i,r,s,a){var o,c,p=new Map,A=t.length,l=s.length,u=new Array(A),d;for(o=0;o<A;++o)(c=t[o])&&(u[o]=d=a.call(c,c.__data__,o,t)+"",p.has(d)?r[o]=c:p.set(d,c));for(o=0;o<l;++o)d=a.call(e,s[o],o,s)+"",(c=p.get(d))?(i[o]=c,c.__data__=s[o],p.delete(d)):n[o]=new Y1(e,s[o]);for(o=0;o<A;++o)(c=t[o])&&p.get(u[o])===c&&(r[o]=c)}function NP(e){return e.__data__}function PP(e,t){if(!arguments.length)return Array.from(this,NP);var n=t?FP:IP,i=this._parents,r=this._groups;typeof e!="function"&&(e=RP(e));for(var s=r.length,a=new Array(s),o=new Array(s),c=new Array(s),p=0;p<s;++p){var A=i[p],l=r[p],u=l.length,d=UP(e.call(A,A&&A.__data__,p,i)),m=d.length,y=o[p]=new Array(m),g=a[p]=new Array(m),E=c[p]=new Array(u);n(A,l,y,g,E,d,t);for(var w=0,b=0,_,C;w<m;++w)if(_=y[w]){for(w>=b&&(b=w+1);!(C=g[b])&&++b<m;);_._next=C||null}}return a=new Ir(a,i),a._enter=o,a._exit=c,a}function UP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HP(){return new Ir(this._exit||this._groups.map(YB),this._parents)}function DP(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function GP(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,a=Math.min(r,s),o=new Array(r),c=0;c<a;++c)for(var p=n[c],A=i[c],l=p.length,u=o[c]=new Array(l),d,m=0;m<l;++m)(d=p[m]||A[m])&&(u[m]=d);for(;c<r;++c)o[c]=n[c];return new Ir(o,this._parents)}function QP(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],a;--r>=0;)(a=i[r])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function kP(e){e||(e=VP);function t(l,u){return l&&u?e(l.__data__,u.__data__):!l-!u}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var a=n[s],o=a.length,c=r[s]=new Array(o),p,A=0;A<o;++A)(p=a[A])&&(c[A]=p);c.sort(t)}return new Ir(r,this._parents).order()}function VP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function KP(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zP(){return Array.from(this)}function YP(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var a=i[r];if(a)return a}return null}function WP(){let e=0;for(const t of this)++e;return e}function $P(){return!this.node()}function jP(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,a=r.length,o;s<a;++s)(o=r[s])&&e.call(o,o.__data__,s,r);return this}function XP(e){return function(){this.removeAttribute(e)}}function qP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ZP(e,t){return function(){this.setAttribute(e,t)}}function JP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function eU(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function tU(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function nU(e,t){var n=dE(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?qP:XP:typeof t=="function"?n.local?tU:eU:n.local?JP:ZP)(n,t))}function WB(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function iU(e){return function(){this.style.removeProperty(e)}}function rU(e,t,n){return function(){this.style.setProperty(e,t,n)}}function sU(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function aU(e,t,n){return arguments.length>1?this.each((t==null?iU:typeof t=="function"?sU:rU)(e,t,n==null?"":n)):Bl(this.node(),e)}function Bl(e,t){return e.style.getPropertyValue(t)||WB(e).getComputedStyle(e,null).getPropertyValue(t)}function oU(e){return function(){delete this[e]}}function cU(e,t){return function(){this[e]=t}}function pU(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function AU(e,t){return arguments.length>1?this.each((t==null?oU:typeof t=="function"?pU:cU)(e,t)):this.node()[e]}function $B(e){return e.trim().split(/^|\s+/)}function K4(e){return e.classList||new jB(e)}function jB(e){this._node=e,this._names=$B(e.getAttribute("class")||"")}jB.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function XB(e,t){for(var n=K4(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function qB(e,t){for(var n=K4(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function lU(e){return function(){XB(this,e)}}function uU(e){return function(){qB(this,e)}}function fU(e,t){return function(){(t.apply(this,arguments)?XB:qB)(this,e)}}function dU(e,t){var n=$B(e+"");if(arguments.length<2){for(var i=K4(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?fU:t?lU:uU)(n,t))}function hU(){this.textContent=""}function mU(e){return function(){this.textContent=e}}function EU(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function yU(e){return arguments.length?this.each(e==null?hU:(typeof e=="function"?EU:mU)(e)):this.node().textContent}function gU(){this.innerHTML=""}function wU(e){return function(){this.innerHTML=e}}function _U(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function vU(e){return arguments.length?this.each(e==null?gU:(typeof e=="function"?_U:wU)(e)):this.node().innerHTML}function CU(){this.nextSibling&&this.parentNode.appendChild(this)}function bU(){return this.each(CU)}function xU(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TU(){return this.each(xU)}function BU(e){var t=typeof e=="function"?e:QB(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function MU(){return null}function SU(e,t){var n=typeof e=="function"?e:QB(e),i=t==null?MU:typeof t=="function"?t:V4(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function OU(){var e=this.parentNode;e&&e.removeChild(this)}function LU(){return this.each(OU)}function RU(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function IU(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FU(e){return this.select(e?IU:RU)}function NU(e){return arguments.length?this.property("__data__",e):this.node().__data__}function PU(e){return function(t){e.call(this,t,this.__data__)}}function UU(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function HU(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function DU(e,t,n){return function(){var i=this.__on,r,s=PU(t);if(i){for(var a=0,o=i.length;a<o;++a)if((r=i[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function GU(e,t,n){var i=UU(e+""),r,s=i.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,p=o.length,A;c<p;++c)for(r=0,A=o[c];r<s;++r)if((a=i[r]).type===A.type&&a.name===A.name)return A.value}return}for(o=t?DU:HU,r=0;r<s;++r)this.each(o(i[r],t,n));return this}function ZB(e,t,n){var i=WB(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function QU(e,t){return function(){return ZB(this,e,t)}}function kU(e,t){return function(){return ZB(this,e,t.apply(this,arguments))}}function VU(e,t){return this.each((typeof t=="function"?kU:QU)(e,t))}function*KU(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,a;r<s;++r)(a=i[r])&&(yield a)}var z4=[null];function Ir(e,t){this._groups=e,this._parents=t}function Ud(){return new Ir([[document.documentElement]],z4)}function zU(){return this}Ir.prototype=Ud.prototype={constructor:Ir,select:yP,selectAll:_P,selectChild:xP,selectChildren:SP,filter:OP,data:PP,enter:LP,exit:HP,join:DP,merge:GP,selection:zU,order:QP,sort:kP,call:KP,nodes:zP,node:YP,size:WP,empty:$P,each:jP,attr:nU,style:aU,property:AU,classed:dU,text:yU,html:vU,raise:bU,lower:TU,append:BU,insert:SU,remove:LU,clone:FU,datum:NU,on:GU,dispatch:VU,[Symbol.iterator]:KU};function Rt(e){return typeof e=="string"?new Ir([[document.querySelector(e)]],[document.documentElement]):new Ir([[e]],z4)}function YU(e){let t;for(;t=e.sourceEvent;)e=t;return e}function iC(e,t){if(e=YU(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}function Y4(e){return typeof e=="string"?new Ir([document.querySelectorAll(e)],[document.documentElement]):new Ir([kB(e)],z4)}const R2={capture:!0,passive:!1};function I2(e){e.preventDefault(),e.stopImmediatePropagation()}function WU(e){var t=e.document.documentElement,n=Rt(e).on("dragstart.drag",I2,R2);"onselectstart"in t?n.on("selectstart.drag",I2,R2):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $U(e,t){var n=e.document.documentElement,i=Rt(e).on("dragstart.drag",null);t&&(i.on("click.drag",I2,R2),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function W4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function JB(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Hd(){}var Qf=.7,W1=1/Qf,gl="\\s*([+-]?\\d+)\\s*",kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jU=/^#([0-9a-f]{3,8})$/,XU=new RegExp(`^rgb\\(${gl},${gl},${gl}\\)$`),qU=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),ZU=new RegExp(`^rgba\\(${gl},${gl},${gl},${kf}\\)$`),JU=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${kf}\\)$`),eH=new RegExp(`^hsl\\(${kf},${Ka},${Ka}\\)$`),tH=new RegExp(`^hsla\\(${kf},${Ka},${Ka},${kf}\\)$`),rC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W4(Hd,Qc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sC,formatHex:sC,formatHex8:nH,formatHsl:iH,formatRgb:aC,toString:aC});function sC(){return this.rgb().formatHex()}function nH(){return this.rgb().formatHex8()}function iH(){return eM(this).formatHsl()}function aC(){return this.rgb().formatRgb()}function Qc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jU.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oC(t):n===3?new Wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?H0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?H0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XU.exec(e))?new Wr(t[1],t[2],t[3],1):(t=qU.exec(e))?new Wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZU.exec(e))?H0(t[1],t[2],t[3],t[4]):(t=JU.exec(e))?H0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eH.exec(e))?AC(t[1],t[2]/100,t[3]/100,1):(t=tH.exec(e))?AC(t[1],t[2]/100,t[3]/100,t[4]):rC.hasOwnProperty(e)?oC(rC[e]):e==="transparent"?new Wr(NaN,NaN,NaN,0):null}function oC(e){return new Wr(e>>16&255,e>>8&255,e&255,1)}function H0(e,t,n,i){return i<=0&&(e=t=n=NaN),new Wr(e,t,n,i)}function rH(e){return e instanceof Hd||(e=Qc(e)),e?(e=e.rgb(),new Wr(e.r,e.g,e.b,e.opacity)):new Wr}function F2(e,t,n,i){return arguments.length===1?rH(e):new Wr(e,t,n,i==null?1:i)}function Wr(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}W4(Wr,F2,JB(Hd,{brighter(e){return e=e==null?W1:Math.pow(W1,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qf:Math.pow(Qf,e),new Wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wr(Mp(this.r),Mp(this.g),Mp(this.b),$1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cC,formatHex:cC,formatHex8:sH,formatRgb:pC,toString:pC}));function cC(){return`#${Tp(this.r)}${Tp(this.g)}${Tp(this.b)}`}function sH(){return`#${Tp(this.r)}${Tp(this.g)}${Tp(this.b)}${Tp((isNaN(this.opacity)?1:this.opacity)*255)}`}function pC(){const e=$1(this.opacity);return`${e===1?"rgb(":"rgba("}${Mp(this.r)}, ${Mp(this.g)}, ${Mp(this.b)}${e===1?")":`, ${e})`}`}function $1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tp(e){return e=Mp(e),(e<16?"0":"")+e.toString(16)}function AC(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ma(e,t,n,i)}function eM(e){if(e instanceof ma)return new ma(e.h,e.s,e.l,e.opacity);if(e instanceof Hd||(e=Qc(e)),!e)return new ma;if(e instanceof ma)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),a=NaN,o=s-r,c=(s+r)/2;return o?(t===s?a=(n-i)/o+(n<i)*6:n===s?a=(i-t)/o+2:a=(t-n)/o+4,o/=c<.5?s+r:2-s-r,a*=60):o=c>0&&c<1?0:a,new ma(a,o,c,e.opacity)}function aH(e,t,n,i){return arguments.length===1?eM(e):new ma(e,t,n,i==null?1:i)}function ma(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}W4(ma,aH,JB(Hd,{brighter(e){return e=e==null?W1:Math.pow(W1,e),new ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qf:Math.pow(Qf,e),new ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Wr(o3(e>=240?e-240:e+120,r,i),o3(e,r,i),o3(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new ma(lC(this.h),D0(this.s),D0(this.l),$1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$1(this.opacity);return`${e===1?"hsl(":"hsla("}${lC(this.h)}, ${D0(this.s)*100}%, ${D0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lC(e){return e=(e||0)%360,e<0?e+360:e}function D0(e){return Math.max(0,Math.min(1,e||0))}function o3(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $4=e=>()=>e;function oH(e,t){return function(n){return e+n*t}}function cH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function pH(e){return(e=+e)==1?tM:function(t,n){return n-t?cH(t,n,e):$4(isNaN(t)?n:t)}}function tM(e,t){var n=t-e;return n?oH(e,n):$4(isNaN(e)?t:e)}const j1=function e(t){var n=pH(t);function i(r,s){var a=n((r=F2(r)).r,(s=F2(s)).r),o=n(r.g,s.g),c=n(r.b,s.b),p=tM(r.opacity,s.opacity);return function(A){return r.r=a(A),r.g=o(A),r.b=c(A),r.opacity=p(A),r+""}}return i.gamma=e,i}(1);function AH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i}}function lH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uH(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),a;for(a=0;a<i;++a)r[a]=Dd(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function fH(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function da(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dH(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Dd(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var N2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c3=new RegExp(N2.source,"g");function hH(e){return function(){return e}}function mH(e){return function(t){return e(t)+""}}function nM(e,t){var n=N2.lastIndex=c3.lastIndex=0,i,r,s,a=-1,o=[],c=[];for(e=e+"",t=t+"";(i=N2.exec(e))&&(r=c3.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,c.push({i:a,x:da(i,r)})),n=c3.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?mH(c[0].x):hH(t):(t=c.length,function(p){for(var A=0,l;A<t;++A)o[(l=c[A]).i]=l.x(p);return o.join("")})}function Dd(e,t){var n=typeof t,i;return t==null||n==="boolean"?$4(t):(n==="number"?da:n==="string"?(i=Qc(t))?(t=i,j1):nM:t instanceof Qc?j1:t instanceof Date?fH:lH(t)?AH:Array.isArray(t)?uH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dH:da)(e,t)}function EH(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var uC=180/Math.PI,P2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iM(e,t,n,i,r,s){var a,o,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,c/=o),e*i<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*uC,skewX:Math.atan(c)*uC,scaleX:a,scaleY:o}}var G0;function yH(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?P2:iM(t.a,t.b,t.c,t.d,t.e,t.f)}function gH(e){return e==null||(G0||(G0=document.createElementNS("http://www.w3.org/2000/svg","g")),G0.setAttribute("transform",e),!(e=G0.transform.baseVal.consolidate()))?P2:(e=e.matrix,iM(e.a,e.b,e.c,e.d,e.e,e.f))}function rM(e,t,n,i){function r(p){return p.length?p.pop()+" ":""}function s(p,A,l,u,d,m){if(p!==l||A!==u){var y=d.push("translate(",null,t,null,n);m.push({i:y-4,x:da(p,l)},{i:y-2,x:da(A,u)})}else(l||u)&&d.push("translate("+l+t+u+n)}function a(p,A,l,u){p!==A?(p-A>180?A+=360:A-p>180&&(p+=360),u.push({i:l.push(r(l)+"rotate(",null,i)-2,x:da(p,A)})):A&&l.push(r(l)+"rotate("+A+i)}function o(p,A,l,u){p!==A?u.push({i:l.push(r(l)+"skewX(",null,i)-2,x:da(p,A)}):A&&l.push(r(l)+"skewX("+A+i)}function c(p,A,l,u,d,m){if(p!==l||A!==u){var y=d.push(r(d)+"scale(",null,",",null,")");m.push({i:y-4,x:da(p,l)},{i:y-2,x:da(A,u)})}else(l!==1||u!==1)&&d.push(r(d)+"scale("+l+","+u+")")}return function(p,A){var l=[],u=[];return p=e(p),A=e(A),s(p.translateX,p.translateY,A.translateX,A.translateY,l,u),a(p.rotate,A.rotate,l,u),o(p.skewX,A.skewX,l,u),c(p.scaleX,p.scaleY,A.scaleX,A.scaleY,l,u),p=A=null,function(d){for(var m=-1,y=u.length,g;++m<y;)l[(g=u[m]).i]=g.x(d);return l.join("")}}}var wH=rM(yH,"px, ","px)","deg)"),_H=rM(gH,", ",")",")");function vH(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}var Ml=0,of=0,Ou=0,sM=1e3,X1,cf,q1=0,Dp=0,hE=0,Vf=typeof performance=="object"&&performance.now?performance:Date,aM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function j4(){return Dp||(aM(CH),Dp=Vf.now()+hE)}function CH(){Dp=0}function Z1(){this._call=this._time=this._next=null}Z1.prototype=oM.prototype={constructor:Z1,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?j4():+n)+(t==null?0:+t),!this._next&&cf!==this&&(cf?cf._next=this:X1=this,cf=this),this._call=e,this._time=n,U2()},stop:function(){this._call&&(this._call=null,this._time=1/0,U2())}};function oM(e,t,n){var i=new Z1;return i.restart(e,t,n),i}function bH(){j4(),++Ml;for(var e=X1,t;e;)(t=Dp-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ml}function fC(){Dp=(q1=Vf.now())+hE,Ml=of=0;try{bH()}finally{Ml=0,TH(),Dp=0}}function xH(){var e=Vf.now(),t=e-q1;t>sM&&(hE-=t,q1=e)}function TH(){for(var e,t=X1,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:X1=n);cf=e,U2(i)}function U2(e){if(!Ml){of&&(of=clearTimeout(of));var t=e-Dp;t>24?(e<1/0&&(of=setTimeout(fC,e-Vf.now()-hE)),Ou&&(Ou=clearInterval(Ou))):(Ou||(q1=Vf.now(),Ou=setInterval(xH,sM)),Ml=1,aM(fC))}}function dC(e,t,n){var i=new Z1;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var BH=fE("start","end","cancel","interrupt"),MH=[],cM=0,hC=1,H2=2,w1=3,mC=4,D2=5,_1=6;function mE(e,t,n,i,r,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;SH(e,n,{name:t,index:i,group:r,on:BH,tween:MH,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:cM})}function X4(e,t){var n=va(e,t);if(n.state>cM)throw new Error("too late; already scheduled");return n}function eo(e,t){var n=va(e,t);if(n.state>w1)throw new Error("too late; already running");return n}function va(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function SH(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=oM(s,0,n.time);function s(p){n.state=hC,n.timer.restart(a,n.delay,n.time),n.delay<=p&&a(p-n.delay)}function a(p){var A,l,u,d;if(n.state!==hC)return c();for(A in i)if(d=i[A],d.name===n.name){if(d.state===w1)return dC(a);d.state===mC?(d.state=_1,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[A]):+A<t&&(d.state=_1,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[A])}if(dC(function(){n.state===w1&&(n.state=mC,n.timer.restart(o,n.delay,n.time),o(p))}),n.state=H2,n.on.call("start",e,e.__data__,n.index,n.group),n.state===H2){for(n.state=w1,r=new Array(u=n.tween.length),A=0,l=-1;A<u;++A)(d=n.tween[A].value.call(e,e.__data__,n.index,n.group))&&(r[++l]=d);r.length=l+1}}function o(p){for(var A=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(c),n.state=D2,1),l=-1,u=r.length;++l<u;)r[l].call(e,A);n.state===D2&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=_1,n.timer.stop(),delete i[t];for(var p in i)return;delete e.__transition}}function G2(e,t){var n=e.__transition,i,r,s=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((i=n[a]).name!==t){s=!1;continue}r=i.state>H2&&i.state<D2,i.state=_1,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[a]}s&&delete e.__transition}}function OH(e){return this.each(function(){G2(this,e)})}function LH(e,t){var n,i;return function(){var r=eo(this,e),s=r.tween;if(s!==n){i=n=s;for(var a=0,o=i.length;a<o;++a)if(i[a].name===t){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function RH(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=eo(this,e),a=s.tween;if(a!==i){r=(i=a).slice();for(var o={name:t,value:n},c=0,p=r.length;c<p;++c)if(r[c].name===t){r[c]=o;break}c===p&&r.push(o)}s.tween=r}}function IH(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=va(this.node(),n).tween,r=0,s=i.length,a;r<s;++r)if((a=i[r]).name===e)return a.value;return null}return this.each((t==null?LH:RH)(n,e,t))}function q4(e,t,n){var i=e._id;return e.each(function(){var r=eo(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return va(r,i).value[t]}}function pM(e,t){var n;return(typeof t=="number"?da:t instanceof Qc?j1:(n=Qc(t))?(t=n,j1):nM)(e,t)}function FH(e){return function(){this.removeAttribute(e)}}function NH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PH(e,t,n){var i,r=n+"",s;return function(){var a=this.getAttribute(e);return a===r?null:a===i?s:s=t(i=a,n)}}function UH(e,t,n){var i,r=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===i?s:s=t(i=a,n)}}function HH(e,t,n){var i,r,s;return function(){var a,o=n(this),c;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=o+"",a===c?null:a===i&&c===r?s:(r=c,s=t(i=a,o)))}}function DH(e,t,n){var i,r,s;return function(){var a,o=n(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=o+"",a===c?null:a===i&&c===r?s:(r=c,s=t(i=a,o)))}}function GH(e,t){var n=dE(e),i=n==="transform"?_H:pM;return this.attrTween(e,typeof t=="function"?(n.local?DH:HH)(n,i,q4(this,"attr."+e,t)):t==null?(n.local?NH:FH)(n):(n.local?UH:PH)(n,i,t))}function QH(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function kH(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function VH(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&kH(e,s)),n}return r._value=t,r}function KH(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&QH(e,s)),n}return r._value=t,r}function zH(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=dE(e);return this.tween(n,(i.local?VH:KH)(i,t))}function YH(e,t){return function(){X4(this,e).delay=+t.apply(this,arguments)}}function WH(e,t){return t=+t,function(){X4(this,e).delay=t}}function $H(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?YH:WH)(t,e)):va(this.node(),t).delay}function jH(e,t){return function(){eo(this,e).duration=+t.apply(this,arguments)}}function XH(e,t){return t=+t,function(){eo(this,e).duration=t}}function qH(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jH:XH)(t,e)):va(this.node(),t).duration}function ZH(e,t){if(typeof t!="function")throw new Error;return function(){eo(this,e).ease=t}}function JH(e){var t=this._id;return arguments.length?this.each(ZH(t,e)):va(this.node(),t).ease}function eD(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;eo(this,e).ease=n}}function tD(e){if(typeof e!="function")throw new Error;return this.each(eD(this._id,e))}function nD(e){typeof e!="function"&&(e=KB(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],a=s.length,o=i[r]=[],c,p=0;p<a;++p)(c=s[p])&&e.call(c,c.__data__,p,s)&&o.push(c);return new No(i,this._parents,this._name,this._id)}function iD(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),a=new Array(i),o=0;o<s;++o)for(var c=t[o],p=n[o],A=c.length,l=a[o]=new Array(A),u,d=0;d<A;++d)(u=c[d]||p[d])&&(l[d]=u);for(;o<i;++o)a[o]=t[o];return new No(a,this._parents,this._name,this._id)}function rD(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function sD(e,t,n){var i,r,s=rD(t)?X4:eo;return function(){var a=s(this,e),o=a.on;o!==i&&(r=(i=o).copy()).on(t,n),a.on=r}}function aD(e,t){var n=this._id;return arguments.length<2?va(this.node(),n).on.on(e):this.each(sD(n,e,t))}function oD(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function cD(){return this.on("end.remove",oD(this._id))}function pD(e){var t=this._name,n=this._id;typeof e!="function"&&(e=V4(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var o=i[a],c=o.length,p=s[a]=new Array(c),A,l,u=0;u<c;++u)(A=o[u])&&(l=e.call(A,A.__data__,u,o))&&("__data__"in A&&(l.__data__=A.__data__),p[u]=l,mE(p[u],t,n,u,p,va(A,n)));return new No(s,this._parents,t,n)}function AD(e){var t=this._name,n=this._id;typeof e!="function"&&(e=VB(e));for(var i=this._groups,r=i.length,s=[],a=[],o=0;o<r;++o)for(var c=i[o],p=c.length,A,l=0;l<p;++l)if(A=c[l]){for(var u=e.call(A,A.__data__,l,c),d,m=va(A,n),y=0,g=u.length;y<g;++y)(d=u[y])&&mE(d,t,n,y,u,m);s.push(u),a.push(A)}return new No(s,a,t,n)}var lD=Ud.prototype.constructor;function uD(){return new lD(this._groups,this._parents)}function fD(e,t){var n,i,r;return function(){var s=Bl(this,e),a=(this.style.removeProperty(e),Bl(this,e));return s===a?null:s===n&&a===i?r:r=t(n=s,i=a)}}function AM(e){return function(){this.style.removeProperty(e)}}function dD(e,t,n){var i,r=n+"",s;return function(){var a=Bl(this,e);return a===r?null:a===i?s:s=t(i=a,n)}}function hD(e,t,n){var i,r,s;return function(){var a=Bl(this,e),o=n(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),Bl(this,e))),a===c?null:a===i&&c===r?s:(r=c,s=t(i=a,o))}}function mD(e,t){var n,i,r,s="style."+t,a="end."+s,o;return function(){var c=eo(this,e),p=c.on,A=c.value[s]==null?o||(o=AM(t)):void 0;(p!==n||r!==A)&&(i=(n=p).copy()).on(a,r=A),c.on=i}}function ED(e,t,n){var i=(e+="")=="transform"?wH:pM;return t==null?this.styleTween(e,fD(e,i)).on("end.style."+e,AM(e)):typeof t=="function"?this.styleTween(e,hD(e,i,q4(this,"style."+e,t))).each(mD(this._id,e)):this.styleTween(e,dD(e,i,t),n).on("end.style."+e,null)}function yD(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function gD(e,t,n){var i,r;function s(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&yD(e,a,n)),i}return s._value=t,s}function wD(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,gD(e,t,n==null?"":n))}function _D(e){return function(){this.textContent=e}}function vD(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function CD(e){return this.tween("text",typeof e=="function"?vD(q4(this,"text",e)):_D(e==null?"":e+""))}function bD(e){return function(t){this.textContent=e.call(this,t)}}function xD(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&bD(r)),t}return i._value=e,i}function TD(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,xD(e))}function BD(){for(var e=this._name,t=this._id,n=lM(),i=this._groups,r=i.length,s=0;s<r;++s)for(var a=i[s],o=a.length,c,p=0;p<o;++p)if(c=a[p]){var A=va(c,t);mE(c,e,n,p,a,{time:A.time+A.delay+A.duration,delay:0,duration:A.duration,ease:A.ease})}return new No(i,this._parents,e,n)}function MD(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,a){var o={value:a},c={value:function(){--r===0&&s()}};n.each(function(){var p=eo(this,i),A=p.on;A!==e&&(t=(e=A).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),p.on=t}),r===0&&s()})}var SD=0;function No(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function lM(){return++SD}var fo=Ud.prototype;No.prototype={constructor:No,select:pD,selectAll:AD,selectChild:fo.selectChild,selectChildren:fo.selectChildren,filter:nD,merge:iD,selection:uD,transition:BD,call:fo.call,nodes:fo.nodes,node:fo.node,size:fo.size,empty:fo.empty,each:fo.each,on:aD,attr:GH,attrTween:zH,style:ED,styleTween:wD,text:CD,textTween:TD,remove:cD,tween:IH,delay:$H,duration:qH,ease:JH,easeVarying:tD,end:MD,[Symbol.iterator]:fo[Symbol.iterator]};function OD(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var LD={time:null,delay:0,duration:250,ease:OD};function RD(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ID(e){var t,n;e instanceof No?(t=e._id,e=e._name):(t=lM(),(n=LD).time=j4(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var a=i[s],o=a.length,c,p=0;p<o;++p)(c=a[p])&&mE(c,e,t,p,a,n||RD(c,t));return new No(i,this._parents,e,t)}Ud.prototype.interrupt=OH;Ud.prototype.transition=ID;const p3=e=>()=>e;function FD(e,{sourceEvent:t,target:n,selection:i,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ND(e){e.stopImmediatePropagation()}function A3(e){e.preventDefault(),e.stopImmediatePropagation()}var EC={name:"drag"},l3={name:"space"},mA={name:"handle"},EA={name:"center"};const{abs:yC,max:cr,min:pr}=Math;function gC(e){return[+e[0],+e[1]]}function Q2(e){return[gC(e[0]),gC(e[1])]}var v1={name:"x",handles:["w","e"].map(Kf),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},u3={name:"y",handles:["n","s"].map(Kf),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},PD={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Kf),input:function(e){return e==null?null:Q2(e)},output:function(e){return e}},ho={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wC={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_C={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},UD={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},HD={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Kf(e){return{type:e}}function DD(e){return!e.ctrlKey&&!e.button}function GD(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function QD(){return navigator.maxTouchPoints||"ontouchstart"in this}function f3(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function kD(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function VD(){return uM(v1)}function KD(){return uM(PD)}function uM(e){var t=GD,n=DD,i=QD,r=!0,s=fE("start","brush","end"),a=6,o;function c(g){var E=g.property("__brush",y).selectAll(".overlay").data([Kf("overlay")]);E.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ho.overlay).merge(E).each(function(){var b=f3(this).extent;Rt(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),g.selectAll(".selection").data([Kf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ho.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=g.selectAll(".handle").data(e.handles,function(b){return b.type});w.exit().remove(),w.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return ho[b.type]}),g.each(p).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(i).on("touchstart.brush",u).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(g,E,w){g.tween?g.on("start.brush",function(b){A(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){A(this,arguments).end(b)}).tween("brush",function(){var b=this,_=b.__brush,C=A(b,arguments),T=_.selection,x=e.input(typeof E=="function"?E.apply(this,arguments):E,_.extent),O=Dd(T,x);function M(H){_.selection=H===1&&x===null?null:O(H),p.call(b),C.brush()}return T!==null&&x!==null?M:M(1)}):g.each(function(){var b=this,_=arguments,C=b.__brush,T=e.input(typeof E=="function"?E.apply(b,_):E,C.extent),x=A(b,_).beforestart();G2(b),C.selection=T===null?null:T,p.call(b),x.start(w).brush(w).end(w)})},c.clear=function(g,E){c.move(g,null,E)};function p(){var g=Rt(this),E=f3(this).selection;E?(g.selectAll(".selection").style("display",null).attr("x",E[0][0]).attr("y",E[0][1]).attr("width",E[1][0]-E[0][0]).attr("height",E[1][1]-E[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?E[1][0]-a/2:E[0][0]-a/2}).attr("y",function(w){return w.type[0]==="s"?E[1][1]-a/2:E[0][1]-a/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?E[1][0]-E[0][0]+a:a}).attr("height",function(w){return w.type==="e"||w.type==="w"?E[1][1]-E[0][1]+a:a})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function A(g,E,w){var b=g.__brush.emitter;return b&&(!w||!b.clean)?b:new l(g,E,w)}function l(g,E,w){this.that=g,this.args=E,this.state=g.__brush,this.active=0,this.clean=w}l.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,E){return this.starting?(this.starting=!1,this.emit("start",g,E)):this.emit("brush",g),this},brush:function(g,E){return this.emit("brush",g,E),this},end:function(g,E){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,E)),this},emit:function(g,E,w){var b=Rt(this.that).datum();s.call(g,this.that,new FD(g,{sourceEvent:E,target:c,selection:e.output(this.state.selection),mode:w,dispatch:s}),b)}};function u(g){if(o&&!g.touches||!n.apply(this,arguments))return;var E=this,w=g.target.__data__.type,b=(r&&g.metaKey?w="overlay":w)==="selection"?EC:r&&g.altKey?EA:mA,_=e===u3?null:UD[w],C=e===v1?null:HD[w],T=f3(E),x=T.extent,O=T.selection,M=x[0][0],H,R,D=x[0][1],P,I,L=x[1][0],k,K,W=x[1][1],ee,le,J=0,re=0,te,ge=_&&C&&r&&g.shiftKey,me,ie,fe=Array.from(g.touches||[g],V=>{const j=V.identifier;return V=iC(V,E),V.point0=V.slice(),V.identifier=j,V});G2(E);var pe=A(E,arguments,!0).beforestart();if(w==="overlay"){O&&(te=!0);const V=[fe[0],fe[1]||fe[0]];T.selection=O=[[H=e===u3?M:pr(V[0][0],V[1][0]),P=e===v1?D:pr(V[0][1],V[1][1])],[k=e===u3?L:cr(V[0][0],V[1][0]),ee=e===v1?W:cr(V[0][1],V[1][1])]],fe.length>1&&Ae(g)}else H=O[0][0],P=O[0][1],k=O[1][0],ee=O[1][1];R=H,I=P,K=k,le=ee;var Ee=Rt(E).attr("pointer-events","none"),q=Ee.selectAll(".overlay").attr("cursor",ho[w]);if(g.touches)pe.moved=ae,pe.ended=we;else{var Z=Rt(g.view).on("mousemove.brush",ae,!0).on("mouseup.brush",we,!0);r&&Z.on("keydown.brush",xe,!0).on("keyup.brush",Le,!0),WU(g.view)}p.call(E),pe.start(g,b.name);function ae(V){for(const j of V.changedTouches||[V])for(const ve of fe)ve.identifier===j.identifier&&(ve.cur=iC(j,E));if(ge&&!me&&!ie&&fe.length===1){const j=fe[0];yC(j.cur[0]-j[0])>yC(j.cur[1]-j[1])?ie=!0:me=!0}for(const j of fe)j.cur&&(j[0]=j.cur[0],j[1]=j.cur[1]);te=!0,A3(V),Ae(V)}function Ae(V){const j=fe[0],ve=j.point0;var he;switch(J=j[0]-ve[0],re=j[1]-ve[1],b){case l3:case EC:{_&&(J=cr(M-H,pr(L-k,J)),R=H+J,K=k+J),C&&(re=cr(D-P,pr(W-ee,re)),I=P+re,le=ee+re);break}case mA:{fe[1]?(_&&(R=cr(M,pr(L,fe[0][0])),K=cr(M,pr(L,fe[1][0])),_=1),C&&(I=cr(D,pr(W,fe[0][1])),le=cr(D,pr(W,fe[1][1])),C=1)):(_<0?(J=cr(M-H,pr(L-H,J)),R=H+J,K=k):_>0&&(J=cr(M-k,pr(L-k,J)),R=H,K=k+J),C<0?(re=cr(D-P,pr(W-P,re)),I=P+re,le=ee):C>0&&(re=cr(D-ee,pr(W-ee,re)),I=P,le=ee+re));break}case EA:{_&&(R=cr(M,pr(L,H-J*_)),K=cr(M,pr(L,k+J*_))),C&&(I=cr(D,pr(W,P-re*C)),le=cr(D,pr(W,ee+re*C)));break}}K<R&&(_*=-1,he=H,H=k,k=he,he=R,R=K,K=he,w in wC&&q.attr("cursor",ho[w=wC[w]])),le<I&&(C*=-1,he=P,P=ee,ee=he,he=I,I=le,le=he,w in _C&&q.attr("cursor",ho[w=_C[w]])),T.selection&&(O=T.selection),me&&(R=O[0][0],K=O[1][0]),ie&&(I=O[0][1],le=O[1][1]),(O[0][0]!==R||O[0][1]!==I||O[1][0]!==K||O[1][1]!==le)&&(T.selection=[[R,I],[K,le]],p.call(E),pe.brush(V,b.name))}function we(V){if(ND(V),V.touches){if(V.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else $U(V.view,te),Z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ee.attr("pointer-events","all"),q.attr("cursor",ho.overlay),T.selection&&(O=T.selection),kD(O)&&(T.selection=null,p.call(E)),pe.end(V,b.name)}function xe(V){switch(V.keyCode){case 16:{ge=_&&C;break}case 18:{b===mA&&(_&&(k=K-J*_,H=R+J*_),C&&(ee=le-re*C,P=I+re*C),b=EA,Ae(V));break}case 32:{(b===mA||b===EA)&&(_<0?k=K-J:_>0&&(H=R-J),C<0?ee=le-re:C>0&&(P=I-re),b=l3,q.attr("cursor",ho.selection),Ae(V));break}default:return}A3(V)}function Le(V){switch(V.keyCode){case 16:{ge&&(me=ie=ge=!1,Ae(V));break}case 18:{b===EA&&(_<0?k=K:_>0&&(H=R),C<0?ee=le:C>0&&(P=I),b=mA,Ae(V));break}case 32:{b===l3&&(V.altKey?(_&&(k=K-J*_,H=R+J*_),C&&(ee=le-re*C,P=I+re*C),b=EA):(_<0?k=K:_>0&&(H=R),C<0?ee=le:C>0&&(P=I),b=mA),q.attr("cursor",ho[w]),Ae(V));break}default:return}A3(V)}}function d(g){A(this,arguments).moved(g)}function m(g){A(this,arguments).ended(g)}function y(){var g=this.__brush||{selection:null};return g.extent=Q2(t.apply(this,arguments)),g.dim=e,g}return c.extent=function(g){return arguments.length?(t=typeof g=="function"?g:p3(Q2(g)),c):t},c.filter=function(g){return arguments.length?(n=typeof g=="function"?g:p3(!!g),c):n},c.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:p3(!!g),c):i},c.handleSize=function(g){return arguments.length?(a=+g,c):a},c.keyModifiers=function(g){return arguments.length?(r=!!g,c):r},c.on=function(){var g=s.on.apply(s,arguments);return g===s?c:g},c}const k2=Math.PI,V2=2*k2,wp=1e-6,zD=V2-wp;function K2(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Z4(){return new K2}K2.prototype=Z4.prototype={constructor:K2,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var s=this._x1,a=this._y1,o=n-e,c=i-t,p=s-e,A=a-t,l=p*p+A*A;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(l>wp)if(!(Math.abs(A*o-c*p)>wp)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var u=n-s,d=i-a,m=o*o+c*c,y=u*u+d*d,g=Math.sqrt(m),E=Math.sqrt(l),w=r*Math.tan((k2-Math.acos((m+l-y)/(2*g*E)))/2),b=w/E,_=w/g;Math.abs(b-1)>wp&&(this._+="L"+(e+b*p)+","+(t+b*A)),this._+="A"+r+","+r+",0,0,"+ +(A*u>p*d)+","+(this._x1=e+_*o)+","+(this._y1=t+_*c)}},arc:function(e,t,n,i,r,s){e=+e,t=+t,n=+n,s=!!s;var a=n*Math.cos(i),o=n*Math.sin(i),c=e+a,p=t+o,A=1^s,l=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+p:(Math.abs(this._x1-c)>wp||Math.abs(this._y1-p)>wp)&&(this._+="L"+c+","+p),n&&(l<0&&(l=l%V2+V2),l>zD?this._+="A"+n+","+n+",0,1,"+A+","+(e-a)+","+(t-o)+"A"+n+","+n+",0,1,"+A+","+(this._x1=c)+","+(this._y1=p):l>wp&&(this._+="A"+n+","+n+",0,"+ +(l>=k2)+","+A+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function YD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function J1(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Sl(e){return e=J1(Math.abs(e)),e?e[1]:NaN}function WD(e,t){return function(n,i){for(var r=n.length,s=[],a=0,o=e[0],c=0;r>0&&o>0&&(c+o+1>i&&(o=Math.max(1,i-c)),s.push(n.substring(r-=o,r+o)),!((c+=o+1)>i));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function $D(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function em(e){if(!(t=jD.exec(e)))throw new Error("invalid format: "+e);var t;return new J4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}em.prototype=J4.prototype;function J4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XD(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var fM;function qD(e,t){var n=J1(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(fM=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+J1(e,Math.max(0,t+s-1))[0]}function vC(e,t){var n=J1(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const CC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vC(e*100,t),r:vC,s:qD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bC(e){return e}var xC=Array.prototype.map,TC=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ZD(e){var t=e.grouping===void 0||e.thousands===void 0?bC:WD(xC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?bC:$D(xC.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function p(l){l=em(l);var u=l.fill,d=l.align,m=l.sign,y=l.symbol,g=l.zero,E=l.width,w=l.comma,b=l.precision,_=l.trim,C=l.type;C==="n"?(w=!0,C="g"):CC[C]||(b===void 0&&(b=12),_=!0,C="g"),(g||u==="0"&&d==="=")&&(g=!0,u="0",d="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",x=y==="$"?i:/[%p]/.test(C)?a:"",O=CC[C],M=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function H(R){var D=T,P=x,I,L,k;if(C==="c")P=O(R)+P,R="";else{R=+R;var K=R<0||1/R<0;if(R=isNaN(R)?c:O(Math.abs(R),b),_&&(R=XD(R)),K&&+R==0&&m!=="+"&&(K=!1),D=(K?m==="("?m:o:m==="-"||m==="("?"":m)+D,P=(C==="s"?TC[8+fM/3]:"")+P+(K&&m==="("?")":""),M){for(I=-1,L=R.length;++I<L;)if(k=R.charCodeAt(I),48>k||k>57){P=(k===46?r+R.slice(I+1):R.slice(I))+P,R=R.slice(0,I);break}}}w&&!g&&(R=t(R,1/0));var W=D.length+R.length+P.length,ee=W<E?new Array(E-W+1).join(u):"";switch(w&&g&&(R=t(ee+R,ee.length?E-P.length:1/0),ee=""),d){case"<":R=D+R+P+ee;break;case"=":R=D+ee+R+P;break;case"^":R=ee.slice(0,W=ee.length>>1)+D+R+P+ee.slice(W);break;default:R=ee+D+R+P;break}return s(R)}return H.toString=function(){return l+""},H}function A(l,u){var d=p((l=em(l),l.type="f",l)),m=Math.max(-8,Math.min(8,Math.floor(Sl(u)/3)))*3,y=Math.pow(10,-m),g=TC[8+m/3];return function(E){return d(y*E)+g}}return{format:p,formatPrefix:A}}var Q0,Sp,dM;JD({thousands:",",grouping:[3],currency:["$",""]});function JD(e){return Q0=ZD(e),Sp=Q0.format,dM=Q0.formatPrefix,Q0}function eG(e){return Math.max(0,-Sl(Math.abs(e)))}function tG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sl(t)/3)))*3-Sl(Math.abs(e)))}function nG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sl(t)-Sl(e))+1}function e_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const BC=Symbol("implicit");function hM(){var e=new x2,t=[],n=[],i=BC;function r(s){let a=e.get(s);if(a===void 0){if(i!==BC)return i;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new x2;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return hM(t,n).unknown(i)},e_.apply(r,arguments),r}function z2(){var e=hM().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,s,a,o=!1,c=0,p=0,A=.5;delete e.unknown;function l(){var u=t().length,d=r<i,m=d?r:i,y=d?i:r;s=(y-m)/Math.max(1,u-c+p*2),o&&(s=Math.floor(s)),m+=(y-m-s*(u-c))*A,a=s*(1-c),o&&(m=Math.round(m),a=Math.round(a));var g=iP(u).map(function(E){return m+s*E});return n(d?g.reverse():g)}return e.domain=function(u){return arguments.length?(t(u),l()):t()},e.range=function(u){return arguments.length?([i,r]=u,i=+i,r=+r,l()):[i,r]},e.rangeRound=function(u){return[i,r]=u,i=+i,r=+r,o=!0,l()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(u){return arguments.length?(o=!!u,l()):o},e.padding=function(u){return arguments.length?(c=Math.min(1,p=+u),l()):c},e.paddingInner=function(u){return arguments.length?(c=Math.min(1,u),l()):c},e.paddingOuter=function(u){return arguments.length?(p=+u,l()):p},e.align=function(u){return arguments.length?(A=Math.max(0,Math.min(1,u)),l()):A},e.copy=function(){return z2(t(),[i,r]).round(o).paddingInner(c).paddingOuter(p).align(A)},e_.apply(l(),arguments)}function iG(e){return function(){return e}}function rG(e){return+e}var MC=[0,1];function ol(e){return e}function Y2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:iG(isNaN(t)?NaN:.5)}function sG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function aG(e,t,n){var i=e[0],r=e[1],s=t[0],a=t[1];return r<i?(i=Y2(r,i),s=n(a,s)):(i=Y2(i,r),s=n(s,a)),function(o){return s(i(o))}}function oG(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Y2(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var c=$N(e,o,1,i)-1;return s[c](r[c](o))}}function cG(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pG(){var e=MC,t=MC,n=Dd,i,r,s,a=ol,o,c,p;function A(){var u=Math.min(e.length,t.length);return a!==ol&&(a=sG(e[0],e[u-1])),o=u>2?oG:aG,c=p=null,l}function l(u){return u==null||isNaN(u=+u)?s:(c||(c=o(e.map(i),t,n)))(i(a(u)))}return l.invert=function(u){return a(r((p||(p=o(t,e.map(i),da)))(u)))},l.domain=function(u){return arguments.length?(e=Array.from(u,rG),A()):e.slice()},l.range=function(u){return arguments.length?(t=Array.from(u),A()):t.slice()},l.rangeRound=function(u){return t=Array.from(u),n=EH,A()},l.clamp=function(u){return arguments.length?(a=u?!0:ol,A()):a!==ol},l.interpolate=function(u){return arguments.length?(n=u,A()):n},l.unknown=function(u){return arguments.length?(s=u,l):s},function(u,d){return i=u,r=d,A()}}function AG(){return pG()(ol,ol)}function lG(e,t,n,i){var r=tP(e,t,n),s;switch(i=em(i==null?",f":i),i.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=tG(r,a))&&(i.precision=s),dM(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=nG(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=eG(r))&&(i.precision=s-(i.type==="%")*2);break}}return Sp(i)}function uG(e){var t=e.domain;return e.ticks=function(n){var i=t();return eP(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var r=t();return lG(r[0],r[r.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,a=i[r],o=i[s],c,p,A=10;for(o<a&&(p=a,a=o,o=p,p=r,r=s,s=p);A-- >0;){if(p=GB(a,o,n),p===c)return i[r]=a,i[s]=o,t(i);if(p>0)a=Math.floor(a/p)*p,o=Math.ceil(o/p)*p;else if(p<0)a=Math.ceil(a*p)/p,o=Math.floor(o*p)/p;else break;c=p}return e},e}function Bc(){var e=AG();return e.copy=function(){return cG(e,Bc())},e_.apply(e,arguments),uG(e)}function Wi(e){return function(){return e}}function mM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EM(e){this._context=e}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tm(e){return new EM(e)}function yM(e){return e[0]}function gM(e){return e[1]}function wM(e,t){var n=Wi(!0),i=null,r=tm,s=null;e=typeof e=="function"?e:e===void 0?yM:Wi(e),t=typeof t=="function"?t:t===void 0?gM:Wi(t);function a(o){var c,p=(o=mM(o)).length,A,l=!1,u;for(i==null&&(s=r(u=Z4())),c=0;c<=p;++c)!(c<p&&n(A=o[c],c,o))===l&&((l=!l)?s.lineStart():s.lineEnd()),l&&s.point(+e(A,c,o),+t(A,c,o));if(u)return s=null,u+""||null}return a.x=function(o){return arguments.length?(e=typeof o=="function"?o:Wi(+o),a):e},a.y=function(o){return arguments.length?(t=typeof o=="function"?o:Wi(+o),a):t},a.defined=function(o){return arguments.length?(n=typeof o=="function"?o:Wi(!!o),a):n},a.curve=function(o){return arguments.length?(r=o,i!=null&&(s=r(i)),a):r},a.context=function(o){return arguments.length?(o==null?i=s=null:s=r(i=o),a):i},a}function fG(e,t,n){var i=null,r=Wi(!0),s=null,a=tm,o=null;e=typeof e=="function"?e:e===void 0?yM:Wi(+e),t=typeof t=="function"?t:Wi(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?gM:Wi(+n);function c(A){var l,u,d,m=(A=mM(A)).length,y,g=!1,E,w=new Array(m),b=new Array(m);for(s==null&&(o=a(E=Z4())),l=0;l<=m;++l){if(!(l<m&&r(y=A[l],l,A))===g)if(g=!g)u=l,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),d=l-1;d>=u;--d)o.point(w[d],b[d]);o.lineEnd(),o.areaEnd()}g&&(w[l]=+e(y,l,A),b[l]=+t(y,l,A),o.point(i?+i(y,l,A):w[l],n?+n(y,l,A):b[l]))}if(E)return o=null,E+""||null}function p(){return wM().defined(r).curve(a).context(s)}return c.x=function(A){return arguments.length?(e=typeof A=="function"?A:Wi(+A),i=null,c):e},c.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Wi(+A),c):e},c.x1=function(A){return arguments.length?(i=A==null?null:typeof A=="function"?A:Wi(+A),c):i},c.y=function(A){return arguments.length?(t=typeof A=="function"?A:Wi(+A),n=null,c):t},c.y0=function(A){return arguments.length?(t=typeof A=="function"?A:Wi(+A),c):t},c.y1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Wi(+A),c):n},c.lineX0=c.lineY0=function(){return p().x(e).y(t)},c.lineY1=function(){return p().x(e).y(n)},c.lineX1=function(){return p().x(i).y(t)},c.defined=function(A){return arguments.length?(r=typeof A=="function"?A:Wi(!!A),c):r},c.curve=function(A){return arguments.length?(a=A,s!=null&&(o=a(s)),c):a},c.context=function(A){return arguments.length?(A==null?s=o=null:o=a(s=A),c):s},c}function cl(e,t,n){this.k=e,this.x=t,this.y=n}cl.prototype={constructor:cl,scale:function(e){return e===1?this:new cl(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new cl(1,0,0);cl.prototype;var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",p=500,A="__lodash_placeholder__",l=1,u=2,d=4,m=1,y=2,g=1,E=2,w=4,b=8,_=16,C=32,T=64,x=128,O=256,M=512,H=30,R="...",D=800,P=16,I=1,L=2,k=3,K=1/0,W=9007199254740991,ee=17976931348623157e292,le=0/0,J=4294967295,re=J-1,te=J>>>1,ge=[["ary",x],["bind",g],["bindKey",E],["curry",b],["curryRight",_],["flip",M],["partial",C],["partialRight",T],["rearg",O]],me="[object Arguments]",ie="[object Array]",fe="[object AsyncFunction]",pe="[object Boolean]",Ee="[object Date]",q="[object DOMException]",Z="[object Error]",ae="[object Function]",Ae="[object GeneratorFunction]",we="[object Map]",xe="[object Number]",Le="[object Null]",V="[object Object]",j="[object Promise]",ve="[object Proxy]",he="[object RegExp]",oe="[object Set]",ue="[object String]",Oe="[object Symbol]",Pe="[object Undefined]",Te="[object WeakMap]",Ne="[object WeakSet]",Se="[object ArrayBuffer]",ze="[object DataView]",Ge="[object Float32Array]",Ue="[object Float64Array]",nt="[object Int8Array]",vt="[object Int16Array]",gt="[object Int32Array]",Et="[object Uint8Array]",Mt="[object Uint8ClampedArray]",Lt="[object Uint16Array]",Bt="[object Uint32Array]",at=/\b__p \+= '';/g,Wt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rt=/&(?:amp|lt|gt|quot|#39);/g,Vt=/[&<>"']/g,Ze=RegExp(rt.source),it=RegExp(Vt.source),yt=/<%-([\s\S]+?)%>/g,ne=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g,Me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/[\\^$.*+?()[\]{}|]/g,z=RegExp(U.source),Y=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ye=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,Re=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ke=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,Ye=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,et=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,Ln=/^(?:0|[1-9]\d*)$/,An=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mi=/($^)/,wr=/['\n\r\u2028\u2029\\]/g,Pt="\\ud800-\\udfff",Ve="\\u0300-\\u036f",ut="\\ufe20-\\ufe2f",Kt="\\u20d0-\\u20ff",rn=Ve+ut+Kt,St="\\u2700-\\u27bf",sn="a-z\\xdf-\\xf6\\xf8-\\xff",Zt="\\xac\\xb1\\xd7\\xf7",bn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",di="\\u2000-\\u206f",$t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rn="A-Z\\xc0-\\xd6\\xd8-\\xde",gs="\\ufe0e\\ufe0f",Nr=Zt+bn+di+$t,ws="['\u2019]",_s="["+Pt+"]",Xr="["+Nr+"]",_r="["+rn+"]",qr="\\d+",ba="["+St+"]",js="["+sn+"]",qo="[^"+Pt+Nr+qr+St+sn+Rn+"]",Xs="\\ud83c[\\udffb-\\udfff]",io="(?:"+_r+"|"+Xs+")",xa="[^"+Pt+"]",qs="(?:\\ud83c[\\udde6-\\uddff]){2}",Pr="[\\ud800-\\udbff][\\udc00-\\udfff]",vs="["+Rn+"]",Zo="\\u200d",Jo="(?:"+js+"|"+qo+")",Zc="(?:"+vs+"|"+qo+")",Zs="(?:"+ws+"(?:d|ll|m|re|s|t|ve))?",Jc="(?:"+ws+"(?:D|LL|M|RE|S|T|VE))?",uu=io+"?",Zr="["+gs+"]?",ep="(?:"+Zo+"(?:"+[xa,qs,Pr].join("|")+")"+Zr+uu+")*",fu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",du="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",z_=Zr+uu+ep,Q7="(?:"+[ba,qs,Pr].join("|")+")"+z_,k7="(?:"+[xa+_r+"?",_r,qs,Pr,_s].join("|")+")",V7=RegExp(ws,"g"),K7=RegExp(_r,"g"),XE=RegExp(Xs+"(?="+Xs+")|"+k7+z_,"g"),z7=RegExp([vs+"?"+js+"+"+Zs+"(?="+[Xr,vs,"$"].join("|")+")",Zc+"+"+Jc+"(?="+[Xr,vs+Jo,"$"].join("|")+")",vs+"?"+Jo+"+"+Zs,vs+"+"+Jc,du,fu,qr,Q7].join("|"),"g"),Y7=RegExp("["+Zo+Pt+rn+gs+"]"),W7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$7=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],j7=-1,ei={};ei[Ge]=ei[Ue]=ei[nt]=ei[vt]=ei[gt]=ei[Et]=ei[Mt]=ei[Lt]=ei[Bt]=!0,ei[me]=ei[ie]=ei[Se]=ei[pe]=ei[ze]=ei[Ee]=ei[Z]=ei[ae]=ei[we]=ei[xe]=ei[V]=ei[he]=ei[oe]=ei[ue]=ei[Te]=!1;var Xn={};Xn[me]=Xn[ie]=Xn[Se]=Xn[ze]=Xn[pe]=Xn[Ee]=Xn[Ge]=Xn[Ue]=Xn[nt]=Xn[vt]=Xn[gt]=Xn[we]=Xn[xe]=Xn[V]=Xn[he]=Xn[oe]=Xn[ue]=Xn[Oe]=Xn[Et]=Xn[Mt]=Xn[Lt]=Xn[Bt]=!0,Xn[Z]=Xn[ae]=Xn[Te]=!1;var X7={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},q7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z7={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},J7={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e9=parseFloat,t9=parseInt,Y_=typeof Cp=="object"&&Cp&&Cp.Object===Object&&Cp,n9=typeof self=="object"&&self&&self.Object===Object&&self,ji=Y_||n9||Function("return this")(),qE=t&&!t.nodeType&&t,tp=qE&&!0&&e&&!e.nodeType&&e,W_=tp&&tp.exports===qE,ZE=W_&&Y_.process,Cs=function(){try{var Ce=tp&&tp.require&&tp.require("util").types;return Ce||ZE&&ZE.binding&&ZE.binding("util")}catch{}}(),$_=Cs&&Cs.isArrayBuffer,j_=Cs&&Cs.isDate,X_=Cs&&Cs.isMap,q_=Cs&&Cs.isRegExp,Z_=Cs&&Cs.isSet,J_=Cs&&Cs.isTypedArray;function Jr(Ce,Qe,He){switch(He.length){case 0:return Ce.call(Qe);case 1:return Ce.call(Qe,He[0]);case 2:return Ce.call(Qe,He[0],He[1]);case 3:return Ce.call(Qe,He[0],He[1],He[2])}return Ce.apply(Qe,He)}function i9(Ce,Qe,He,mt){for(var Jt=-1,Mn=Ce==null?0:Ce.length;++Jt<Mn;){var Fi=Ce[Jt];Qe(mt,Fi,He(Fi),Ce)}return mt}function bs(Ce,Qe){for(var He=-1,mt=Ce==null?0:Ce.length;++He<mt&&Qe(Ce[He],He,Ce)!==!1;);return Ce}function r9(Ce,Qe){for(var He=Ce==null?0:Ce.length;He--&&Qe(Ce[He],He,Ce)!==!1;);return Ce}function ev(Ce,Qe){for(var He=-1,mt=Ce==null?0:Ce.length;++He<mt;)if(!Qe(Ce[He],He,Ce))return!1;return!0}function ec(Ce,Qe){for(var He=-1,mt=Ce==null?0:Ce.length,Jt=0,Mn=[];++He<mt;){var Fi=Ce[He];Qe(Fi,He,Ce)&&(Mn[Jt++]=Fi)}return Mn}function Jd(Ce,Qe){var He=Ce==null?0:Ce.length;return!!He&&iA(Ce,Qe,0)>-1}function JE(Ce,Qe,He){for(var mt=-1,Jt=Ce==null?0:Ce.length;++mt<Jt;)if(He(Qe,Ce[mt]))return!0;return!1}function ri(Ce,Qe){for(var He=-1,mt=Ce==null?0:Ce.length,Jt=Array(mt);++He<mt;)Jt[He]=Qe(Ce[He],He,Ce);return Jt}function tc(Ce,Qe){for(var He=-1,mt=Qe.length,Jt=Ce.length;++He<mt;)Ce[Jt+He]=Qe[He];return Ce}function ey(Ce,Qe,He,mt){var Jt=-1,Mn=Ce==null?0:Ce.length;for(mt&&Mn&&(He=Ce[++Jt]);++Jt<Mn;)He=Qe(He,Ce[Jt],Jt,Ce);return He}function s9(Ce,Qe,He,mt){var Jt=Ce==null?0:Ce.length;for(mt&&Jt&&(He=Ce[--Jt]);Jt--;)He=Qe(He,Ce[Jt],Jt,Ce);return He}function ty(Ce,Qe){for(var He=-1,mt=Ce==null?0:Ce.length;++He<mt;)if(Qe(Ce[He],He,Ce))return!0;return!1}var a9=ny("length");function o9(Ce){return Ce.split("")}function c9(Ce){return Ce.match(Re)||[]}function tv(Ce,Qe,He){var mt;return He(Ce,function(Jt,Mn,Fi){if(Qe(Jt,Mn,Fi))return mt=Mn,!1}),mt}function e0(Ce,Qe,He,mt){for(var Jt=Ce.length,Mn=He+(mt?1:-1);mt?Mn--:++Mn<Jt;)if(Qe(Ce[Mn],Mn,Ce))return Mn;return-1}function iA(Ce,Qe,He){return Qe===Qe?w9(Ce,Qe,He):e0(Ce,nv,He)}function p9(Ce,Qe,He,mt){for(var Jt=He-1,Mn=Ce.length;++Jt<Mn;)if(mt(Ce[Jt],Qe))return Jt;return-1}function nv(Ce){return Ce!==Ce}function iv(Ce,Qe){var He=Ce==null?0:Ce.length;return He?ry(Ce,Qe)/He:le}function ny(Ce){return function(Qe){return Qe==null?n:Qe[Ce]}}function iy(Ce){return function(Qe){return Ce==null?n:Ce[Qe]}}function rv(Ce,Qe,He,mt,Jt){return Jt(Ce,function(Mn,Fi,Wn){He=mt?(mt=!1,Mn):Qe(He,Mn,Fi,Wn)}),He}function A9(Ce,Qe){var He=Ce.length;for(Ce.sort(Qe);He--;)Ce[He]=Ce[He].value;return Ce}function ry(Ce,Qe){for(var He,mt=-1,Jt=Ce.length;++mt<Jt;){var Mn=Qe(Ce[mt]);Mn!==n&&(He=He===n?Mn:He+Mn)}return He}function sy(Ce,Qe){for(var He=-1,mt=Array(Ce);++He<Ce;)mt[He]=Qe(He);return mt}function l9(Ce,Qe){return ri(Qe,function(He){return[He,Ce[He]]})}function sv(Ce){return Ce&&Ce.slice(0,pv(Ce)+1).replace(Y,"")}function es(Ce){return function(Qe){return Ce(Qe)}}function ay(Ce,Qe){return ri(Qe,function(He){return Ce[He]})}function hu(Ce,Qe){return Ce.has(Qe)}function av(Ce,Qe){for(var He=-1,mt=Ce.length;++He<mt&&iA(Qe,Ce[He],0)>-1;);return He}function ov(Ce,Qe){for(var He=Ce.length;He--&&iA(Qe,Ce[He],0)>-1;);return He}function u9(Ce,Qe){for(var He=Ce.length,mt=0;He--;)Ce[He]===Qe&&++mt;return mt}var f9=iy(X7),d9=iy(q7);function h9(Ce){return"\\"+J7[Ce]}function m9(Ce,Qe){return Ce==null?n:Ce[Qe]}function rA(Ce){return Y7.test(Ce)}function E9(Ce){return W7.test(Ce)}function y9(Ce){for(var Qe,He=[];!(Qe=Ce.next()).done;)He.push(Qe.value);return He}function oy(Ce){var Qe=-1,He=Array(Ce.size);return Ce.forEach(function(mt,Jt){He[++Qe]=[Jt,mt]}),He}function cv(Ce,Qe){return function(He){return Ce(Qe(He))}}function nc(Ce,Qe){for(var He=-1,mt=Ce.length,Jt=0,Mn=[];++He<mt;){var Fi=Ce[He];(Fi===Qe||Fi===A)&&(Ce[He]=A,Mn[Jt++]=He)}return Mn}function t0(Ce){var Qe=-1,He=Array(Ce.size);return Ce.forEach(function(mt){He[++Qe]=mt}),He}function g9(Ce){var Qe=-1,He=Array(Ce.size);return Ce.forEach(function(mt){He[++Qe]=[mt,mt]}),He}function w9(Ce,Qe,He){for(var mt=He-1,Jt=Ce.length;++mt<Jt;)if(Ce[mt]===Qe)return mt;return-1}function _9(Ce,Qe,He){for(var mt=He+1;mt--;)if(Ce[mt]===Qe)return mt;return mt}function sA(Ce){return rA(Ce)?C9(Ce):a9(Ce)}function Js(Ce){return rA(Ce)?b9(Ce):o9(Ce)}function pv(Ce){for(var Qe=Ce.length;Qe--&&se.test(Ce.charAt(Qe)););return Qe}var v9=iy(Z7);function C9(Ce){for(var Qe=XE.lastIndex=0;XE.test(Ce);)++Qe;return Qe}function b9(Ce){return Ce.match(XE)||[]}function x9(Ce){return Ce.match(z7)||[]}var T9=function Ce(Qe){Qe=Qe==null?ji:aA.defaults(ji.Object(),Qe,aA.pick(ji,$7));var He=Qe.Array,mt=Qe.Date,Jt=Qe.Error,Mn=Qe.Function,Fi=Qe.Math,Wn=Qe.Object,cy=Qe.RegExp,B9=Qe.String,xs=Qe.TypeError,n0=He.prototype,M9=Mn.prototype,oA=Wn.prototype,i0=Qe["__core-js_shared__"],r0=M9.toString,Pn=oA.hasOwnProperty,S9=0,Av=function(){var f=/[^.]+$/.exec(i0&&i0.keys&&i0.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),s0=oA.toString,O9=r0.call(Wn),L9=ji._,R9=cy("^"+r0.call(Pn).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),a0=W_?Qe.Buffer:n,ic=Qe.Symbol,o0=Qe.Uint8Array,lv=a0?a0.allocUnsafe:n,c0=cv(Wn.getPrototypeOf,Wn),uv=Wn.create,fv=oA.propertyIsEnumerable,p0=n0.splice,dv=ic?ic.isConcatSpreadable:n,mu=ic?ic.iterator:n,np=ic?ic.toStringTag:n,A0=function(){try{var f=op(Wn,"defineProperty");return f({},"",{}),f}catch{}}(),I9=Qe.clearTimeout!==ji.clearTimeout&&Qe.clearTimeout,F9=mt&&mt.now!==ji.Date.now&&mt.now,N9=Qe.setTimeout!==ji.setTimeout&&Qe.setTimeout,l0=Fi.ceil,u0=Fi.floor,py=Wn.getOwnPropertySymbols,P9=a0?a0.isBuffer:n,hv=Qe.isFinite,U9=n0.join,H9=cv(Wn.keys,Wn),Ni=Fi.max,ar=Fi.min,D9=mt.now,G9=Qe.parseInt,mv=Fi.random,Q9=n0.reverse,Ay=op(Qe,"DataView"),Eu=op(Qe,"Map"),ly=op(Qe,"Promise"),cA=op(Qe,"Set"),yu=op(Qe,"WeakMap"),gu=op(Wn,"create"),f0=yu&&new yu,pA={},k9=cp(Ay),V9=cp(Eu),K9=cp(ly),z9=cp(cA),Y9=cp(yu),d0=ic?ic.prototype:n,wu=d0?d0.valueOf:n,Ev=d0?d0.toString:n;function $(f){if(hi(f)&&!en(f)&&!(f instanceof mn)){if(f instanceof Ts)return f;if(Pn.call(f,"__wrapped__"))return y5(f)}return new Ts(f)}var AA=function(){function f(){}return function(h){if(!ci(h))return{};if(uv)return uv(h);f.prototype=h;var v=new f;return f.prototype=n,v}}();function h0(){}function Ts(f,h){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}$.templateSettings={escape:yt,evaluate:ne,interpolate:Ie,variable:"",imports:{_:$}},$.prototype=h0.prototype,$.prototype.constructor=$,Ts.prototype=AA(h0.prototype),Ts.prototype.constructor=Ts;function mn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function W9(){var f=new mn(this.__wrapped__);return f.__actions__=Ur(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Ur(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Ur(this.__views__),f}function $9(){if(this.__filtered__){var f=new mn(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function j9(){var f=this.__wrapped__.value(),h=this.__dir__,v=en(f),S=h<0,Q=v?f.length:0,X=oL(0,Q,this.__views__),de=X.start,_e=X.end,be=_e-de,$e=S?_e:de-1,je=this.__iteratees__,qe=je.length,st=0,Ct=ar(be,this.__takeCount__);if(!v||!S&&Q==be&&Ct==be)return Qv(f,this.__actions__);var Dt=[];e:for(;be--&&st<Ct;){$e+=h;for(var cn=-1,Gt=f[$e];++cn<qe;){var dn=je[cn],wn=dn.iteratee,is=dn.type,br=wn(Gt);if(is==L)Gt=br;else if(!br){if(is==I)continue e;break e}}Dt[st++]=Gt}return Dt}mn.prototype=AA(h0.prototype),mn.prototype.constructor=mn;function ip(f){var h=-1,v=f==null?0:f.length;for(this.clear();++h<v;){var S=f[h];this.set(S[0],S[1])}}function X9(){this.__data__=gu?gu(null):{},this.size=0}function q9(f){var h=this.has(f)&&delete this.__data__[f];return this.size-=h?1:0,h}function Z9(f){var h=this.__data__;if(gu){var v=h[f];return v===c?n:v}return Pn.call(h,f)?h[f]:n}function J9(f){var h=this.__data__;return gu?h[f]!==n:Pn.call(h,f)}function eO(f,h){var v=this.__data__;return this.size+=this.has(f)?0:1,v[f]=gu&&h===n?c:h,this}ip.prototype.clear=X9,ip.prototype.delete=q9,ip.prototype.get=Z9,ip.prototype.has=J9,ip.prototype.set=eO;function ro(f){var h=-1,v=f==null?0:f.length;for(this.clear();++h<v;){var S=f[h];this.set(S[0],S[1])}}function tO(){this.__data__=[],this.size=0}function nO(f){var h=this.__data__,v=m0(h,f);if(v<0)return!1;var S=h.length-1;return v==S?h.pop():p0.call(h,v,1),--this.size,!0}function iO(f){var h=this.__data__,v=m0(h,f);return v<0?n:h[v][1]}function rO(f){return m0(this.__data__,f)>-1}function sO(f,h){var v=this.__data__,S=m0(v,f);return S<0?(++this.size,v.push([f,h])):v[S][1]=h,this}ro.prototype.clear=tO,ro.prototype.delete=nO,ro.prototype.get=iO,ro.prototype.has=rO,ro.prototype.set=sO;function so(f){var h=-1,v=f==null?0:f.length;for(this.clear();++h<v;){var S=f[h];this.set(S[0],S[1])}}function aO(){this.size=0,this.__data__={hash:new ip,map:new(Eu||ro),string:new ip}}function oO(f){var h=M0(this,f).delete(f);return this.size-=h?1:0,h}function cO(f){return M0(this,f).get(f)}function pO(f){return M0(this,f).has(f)}function AO(f,h){var v=M0(this,f),S=v.size;return v.set(f,h),this.size+=v.size==S?0:1,this}so.prototype.clear=aO,so.prototype.delete=oO,so.prototype.get=cO,so.prototype.has=pO,so.prototype.set=AO;function rp(f){var h=-1,v=f==null?0:f.length;for(this.__data__=new so;++h<v;)this.add(f[h])}function lO(f){return this.__data__.set(f,c),this}function uO(f){return this.__data__.has(f)}rp.prototype.add=rp.prototype.push=lO,rp.prototype.has=uO;function ea(f){var h=this.__data__=new ro(f);this.size=h.size}function fO(){this.__data__=new ro,this.size=0}function dO(f){var h=this.__data__,v=h.delete(f);return this.size=h.size,v}function hO(f){return this.__data__.get(f)}function mO(f){return this.__data__.has(f)}function EO(f,h){var v=this.__data__;if(v instanceof ro){var S=v.__data__;if(!Eu||S.length<r-1)return S.push([f,h]),this.size=++v.size,this;v=this.__data__=new so(S)}return v.set(f,h),this.size=v.size,this}ea.prototype.clear=fO,ea.prototype.delete=dO,ea.prototype.get=hO,ea.prototype.has=mO,ea.prototype.set=EO;function yv(f,h){var v=en(f),S=!v&&pp(f),Q=!v&&!S&&cc(f),X=!v&&!S&&!Q&&dA(f),de=v||S||Q||X,_e=de?sy(f.length,B9):[],be=_e.length;for(var $e in f)(h||Pn.call(f,$e))&&!(de&&($e=="length"||Q&&($e=="offset"||$e=="parent")||X&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||po($e,be)))&&_e.push($e);return _e}function gv(f){var h=f.length;return h?f[vy(0,h-1)]:n}function yO(f,h){return S0(Ur(f),sp(h,0,f.length))}function gO(f){return S0(Ur(f))}function uy(f,h,v){(v!==n&&!ta(f[h],v)||v===n&&!(h in f))&&ao(f,h,v)}function _u(f,h,v){var S=f[h];(!(Pn.call(f,h)&&ta(S,v))||v===n&&!(h in f))&&ao(f,h,v)}function m0(f,h){for(var v=f.length;v--;)if(ta(f[v][0],h))return v;return-1}function wO(f,h,v,S){return rc(f,function(Q,X,de){h(S,Q,v(Q),de)}),S}function wv(f,h){return f&&Ba(h,ki(h),f)}function _O(f,h){return f&&Ba(h,Dr(h),f)}function ao(f,h,v){h=="__proto__"&&A0?A0(f,h,{configurable:!0,enumerable:!0,value:v,writable:!0}):f[h]=v}function fy(f,h){for(var v=-1,S=h.length,Q=He(S),X=f==null;++v<S;)Q[v]=X?n:Wy(f,h[v]);return Q}function sp(f,h,v){return f===f&&(v!==n&&(f=f<=v?f:v),h!==n&&(f=f>=h?f:h)),f}function Bs(f,h,v,S,Q,X){var de,_e=h&l,be=h&u,$e=h&d;if(v&&(de=Q?v(f,S,Q,X):v(f)),de!==n)return de;if(!ci(f))return f;var je=en(f);if(je){if(de=pL(f),!_e)return Ur(f,de)}else{var qe=or(f),st=qe==ae||qe==Ae;if(cc(f))return Kv(f,_e);if(qe==V||qe==me||st&&!Q){if(de=be||st?{}:p5(f),!_e)return be?ZO(f,_O(de,f)):qO(f,wv(de,f))}else{if(!Xn[qe])return Q?f:{};de=AL(f,qe,_e)}}X||(X=new ea);var Ct=X.get(f);if(Ct)return Ct;X.set(f,de),H5(f)?f.forEach(function(Gt){de.add(Bs(Gt,h,v,Gt,f,X))}):P5(f)&&f.forEach(function(Gt,dn){de.set(dn,Bs(Gt,h,v,dn,f,X))});var Dt=$e?be?Iy:Ry:be?Dr:ki,cn=je?n:Dt(f);return bs(cn||f,function(Gt,dn){cn&&(dn=Gt,Gt=f[dn]),_u(de,dn,Bs(Gt,h,v,dn,f,X))}),de}function vO(f){var h=ki(f);return function(v){return _v(v,f,h)}}function _v(f,h,v){var S=v.length;if(f==null)return!S;for(f=Wn(f);S--;){var Q=v[S],X=h[Q],de=f[Q];if(de===n&&!(Q in f)||!X(de))return!1}return!0}function vv(f,h,v){if(typeof f!="function")throw new xs(a);return Mu(function(){f.apply(n,v)},h)}function vu(f,h,v,S){var Q=-1,X=Jd,de=!0,_e=f.length,be=[],$e=h.length;if(!_e)return be;v&&(h=ri(h,es(v))),S?(X=JE,de=!1):h.length>=r&&(X=hu,de=!1,h=new rp(h));e:for(;++Q<_e;){var je=f[Q],qe=v==null?je:v(je);if(je=S||je!==0?je:0,de&&qe===qe){for(var st=$e;st--;)if(h[st]===qe)continue e;be.push(je)}else X(h,qe,S)||be.push(je)}return be}var rc=jv(Ta),Cv=jv(hy,!0);function CO(f,h){var v=!0;return rc(f,function(S,Q,X){return v=!!h(S,Q,X),v}),v}function E0(f,h,v){for(var S=-1,Q=f.length;++S<Q;){var X=f[S],de=h(X);if(de!=null&&(_e===n?de===de&&!ns(de):v(de,_e)))var _e=de,be=X}return be}function bO(f,h,v,S){var Q=f.length;for(v=an(v),v<0&&(v=-v>Q?0:Q+v),S=S===n||S>Q?Q:an(S),S<0&&(S+=Q),S=v>S?0:G5(S);v<S;)f[v++]=h;return f}function bv(f,h){var v=[];return rc(f,function(S,Q,X){h(S,Q,X)&&v.push(S)}),v}function Xi(f,h,v,S,Q){var X=-1,de=f.length;for(v||(v=uL),Q||(Q=[]);++X<de;){var _e=f[X];h>0&&v(_e)?h>1?Xi(_e,h-1,v,S,Q):tc(Q,_e):S||(Q[Q.length]=_e)}return Q}var dy=Xv(),xv=Xv(!0);function Ta(f,h){return f&&dy(f,h,ki)}function hy(f,h){return f&&xv(f,h,ki)}function y0(f,h){return ec(h,function(v){return Ao(f[v])})}function ap(f,h){h=ac(h,f);for(var v=0,S=h.length;f!=null&&v<S;)f=f[Ma(h[v++])];return v&&v==S?f:n}function Tv(f,h,v){var S=h(f);return en(f)?S:tc(S,v(f))}function vr(f){return f==null?f===n?Pe:Le:np&&np in Wn(f)?aL(f):gL(f)}function my(f,h){return f>h}function xO(f,h){return f!=null&&Pn.call(f,h)}function TO(f,h){return f!=null&&h in Wn(f)}function BO(f,h,v){return f>=ar(h,v)&&f<Ni(h,v)}function Ey(f,h,v){for(var S=v?JE:Jd,Q=f[0].length,X=f.length,de=X,_e=He(X),be=1/0,$e=[];de--;){var je=f[de];de&&h&&(je=ri(je,es(h))),be=ar(je.length,be),_e[de]=!v&&(h||Q>=120&&je.length>=120)?new rp(de&&je):n}je=f[0];var qe=-1,st=_e[0];e:for(;++qe<Q&&$e.length<be;){var Ct=je[qe],Dt=h?h(Ct):Ct;if(Ct=v||Ct!==0?Ct:0,!(st?hu(st,Dt):S($e,Dt,v))){for(de=X;--de;){var cn=_e[de];if(!(cn?hu(cn,Dt):S(f[de],Dt,v)))continue e}st&&st.push(Dt),$e.push(Ct)}}return $e}function MO(f,h,v,S){return Ta(f,function(Q,X,de){h(S,v(Q),X,de)}),S}function Cu(f,h,v){h=ac(h,f),f=f5(f,h);var S=f==null?f:f[Ma(Ss(h))];return S==null?n:Jr(S,f,v)}function Bv(f){return hi(f)&&vr(f)==me}function SO(f){return hi(f)&&vr(f)==Se}function OO(f){return hi(f)&&vr(f)==Ee}function bu(f,h,v,S,Q){return f===h?!0:f==null||h==null||!hi(f)&&!hi(h)?f!==f&&h!==h:LO(f,h,v,S,bu,Q)}function LO(f,h,v,S,Q,X){var de=en(f),_e=en(h),be=de?ie:or(f),$e=_e?ie:or(h);be=be==me?V:be,$e=$e==me?V:$e;var je=be==V,qe=$e==V,st=be==$e;if(st&&cc(f)){if(!cc(h))return!1;de=!0,je=!1}if(st&&!je)return X||(X=new ea),de||dA(f)?a5(f,h,v,S,Q,X):rL(f,h,be,v,S,Q,X);if(!(v&m)){var Ct=je&&Pn.call(f,"__wrapped__"),Dt=qe&&Pn.call(h,"__wrapped__");if(Ct||Dt){var cn=Ct?f.value():f,Gt=Dt?h.value():h;return X||(X=new ea),Q(cn,Gt,v,S,X)}}return st?(X||(X=new ea),sL(f,h,v,S,Q,X)):!1}function RO(f){return hi(f)&&or(f)==we}function yy(f,h,v,S){var Q=v.length,X=Q,de=!S;if(f==null)return!X;for(f=Wn(f);Q--;){var _e=v[Q];if(de&&_e[2]?_e[1]!==f[_e[0]]:!(_e[0]in f))return!1}for(;++Q<X;){_e=v[Q];var be=_e[0],$e=f[be],je=_e[1];if(de&&_e[2]){if($e===n&&!(be in f))return!1}else{var qe=new ea;if(S)var st=S($e,je,be,f,h,qe);if(!(st===n?bu(je,$e,m|y,S,qe):st))return!1}}return!0}function Mv(f){if(!ci(f)||dL(f))return!1;var h=Ao(f)?R9:_t;return h.test(cp(f))}function IO(f){return hi(f)&&vr(f)==he}function FO(f){return hi(f)&&or(f)==oe}function NO(f){return hi(f)&&N0(f.length)&&!!ei[vr(f)]}function Sv(f){return typeof f=="function"?f:f==null?Gr:typeof f=="object"?en(f)?Rv(f[0],f[1]):Lv(f):q5(f)}function gy(f){if(!Bu(f))return H9(f);var h=[];for(var v in Wn(f))Pn.call(f,v)&&v!="constructor"&&h.push(v);return h}function PO(f){if(!ci(f))return yL(f);var h=Bu(f),v=[];for(var S in f)S=="constructor"&&(h||!Pn.call(f,S))||v.push(S);return v}function wy(f,h){return f<h}function Ov(f,h){var v=-1,S=Hr(f)?He(f.length):[];return rc(f,function(Q,X,de){S[++v]=h(Q,X,de)}),S}function Lv(f){var h=Ny(f);return h.length==1&&h[0][2]?l5(h[0][0],h[0][1]):function(v){return v===f||yy(v,f,h)}}function Rv(f,h){return Uy(f)&&A5(h)?l5(Ma(f),h):function(v){var S=Wy(v,f);return S===n&&S===h?$y(v,f):bu(h,S,m|y)}}function g0(f,h,v,S,Q){f!==h&&dy(h,function(X,de){if(Q||(Q=new ea),ci(X))UO(f,h,de,v,g0,S,Q);else{var _e=S?S(Dy(f,de),X,de+"",f,h,Q):n;_e===n&&(_e=X),uy(f,de,_e)}},Dr)}function UO(f,h,v,S,Q,X,de){var _e=Dy(f,v),be=Dy(h,v),$e=de.get(be);if($e){uy(f,v,$e);return}var je=X?X(_e,be,v+"",f,h,de):n,qe=je===n;if(qe){var st=en(be),Ct=!st&&cc(be),Dt=!st&&!Ct&&dA(be);je=be,st||Ct||Dt?en(_e)?je=_e:gi(_e)?je=Ur(_e):Ct?(qe=!1,je=Kv(be,!0)):Dt?(qe=!1,je=zv(be,!0)):je=[]:Su(be)||pp(be)?(je=_e,pp(_e)?je=Q5(_e):(!ci(_e)||Ao(_e))&&(je=p5(be))):qe=!1}qe&&(de.set(be,je),Q(je,be,S,X,de),de.delete(be)),uy(f,v,je)}function Iv(f,h){var v=f.length;if(!!v)return h+=h<0?v:0,po(h,v)?f[h]:n}function Fv(f,h,v){h.length?h=ri(h,function(X){return en(X)?function(de){return ap(de,X.length===1?X[0]:X)}:X}):h=[Gr];var S=-1;h=ri(h,es(Ut()));var Q=Ov(f,function(X,de,_e){var be=ri(h,function($e){return $e(X)});return{criteria:be,index:++S,value:X}});return A9(Q,function(X,de){return XO(X,de,v)})}function HO(f,h){return Nv(f,h,function(v,S){return $y(f,S)})}function Nv(f,h,v){for(var S=-1,Q=h.length,X={};++S<Q;){var de=h[S],_e=ap(f,de);v(_e,de)&&xu(X,ac(de,f),_e)}return X}function DO(f){return function(h){return ap(h,f)}}function _y(f,h,v,S){var Q=S?p9:iA,X=-1,de=h.length,_e=f;for(f===h&&(h=Ur(h)),v&&(_e=ri(f,es(v)));++X<de;)for(var be=0,$e=h[X],je=v?v($e):$e;(be=Q(_e,je,be,S))>-1;)_e!==f&&p0.call(_e,be,1),p0.call(f,be,1);return f}function Pv(f,h){for(var v=f?h.length:0,S=v-1;v--;){var Q=h[v];if(v==S||Q!==X){var X=Q;po(Q)?p0.call(f,Q,1):xy(f,Q)}}return f}function vy(f,h){return f+u0(mv()*(h-f+1))}function GO(f,h,v,S){for(var Q=-1,X=Ni(l0((h-f)/(v||1)),0),de=He(X);X--;)de[S?X:++Q]=f,f+=v;return de}function Cy(f,h){var v="";if(!f||h<1||h>W)return v;do h%2&&(v+=f),h=u0(h/2),h&&(f+=f);while(h);return v}function pn(f,h){return Gy(u5(f,h,Gr),f+"")}function QO(f){return gv(hA(f))}function kO(f,h){var v=hA(f);return S0(v,sp(h,0,v.length))}function xu(f,h,v,S){if(!ci(f))return f;h=ac(h,f);for(var Q=-1,X=h.length,de=X-1,_e=f;_e!=null&&++Q<X;){var be=Ma(h[Q]),$e=v;if(be==="__proto__"||be==="constructor"||be==="prototype")return f;if(Q!=de){var je=_e[be];$e=S?S(je,be,_e):n,$e===n&&($e=ci(je)?je:po(h[Q+1])?[]:{})}_u(_e,be,$e),_e=_e[be]}return f}var Uv=f0?function(f,h){return f0.set(f,h),f}:Gr,VO=A0?function(f,h){return A0(f,"toString",{configurable:!0,enumerable:!1,value:Xy(h),writable:!0})}:Gr;function KO(f){return S0(hA(f))}function Ms(f,h,v){var S=-1,Q=f.length;h<0&&(h=-h>Q?0:Q+h),v=v>Q?Q:v,v<0&&(v+=Q),Q=h>v?0:v-h>>>0,h>>>=0;for(var X=He(Q);++S<Q;)X[S]=f[S+h];return X}function zO(f,h){var v;return rc(f,function(S,Q,X){return v=h(S,Q,X),!v}),!!v}function w0(f,h,v){var S=0,Q=f==null?S:f.length;if(typeof h=="number"&&h===h&&Q<=te){for(;S<Q;){var X=S+Q>>>1,de=f[X];de!==null&&!ns(de)&&(v?de<=h:de<h)?S=X+1:Q=X}return Q}return by(f,h,Gr,v)}function by(f,h,v,S){var Q=0,X=f==null?0:f.length;if(X===0)return 0;h=v(h);for(var de=h!==h,_e=h===null,be=ns(h),$e=h===n;Q<X;){var je=u0((Q+X)/2),qe=v(f[je]),st=qe!==n,Ct=qe===null,Dt=qe===qe,cn=ns(qe);if(de)var Gt=S||Dt;else $e?Gt=Dt&&(S||st):_e?Gt=Dt&&st&&(S||!Ct):be?Gt=Dt&&st&&!Ct&&(S||!cn):Ct||cn?Gt=!1:Gt=S?qe<=h:qe<h;Gt?Q=je+1:X=je}return ar(X,re)}function Hv(f,h){for(var v=-1,S=f.length,Q=0,X=[];++v<S;){var de=f[v],_e=h?h(de):de;if(!v||!ta(_e,be)){var be=_e;X[Q++]=de===0?0:de}}return X}function Dv(f){return typeof f=="number"?f:ns(f)?le:+f}function ts(f){if(typeof f=="string")return f;if(en(f))return ri(f,ts)+"";if(ns(f))return Ev?Ev.call(f):"";var h=f+"";return h=="0"&&1/f==-K?"-0":h}function sc(f,h,v){var S=-1,Q=Jd,X=f.length,de=!0,_e=[],be=_e;if(v)de=!1,Q=JE;else if(X>=r){var $e=h?null:nL(f);if($e)return t0($e);de=!1,Q=hu,be=new rp}else be=h?[]:_e;e:for(;++S<X;){var je=f[S],qe=h?h(je):je;if(je=v||je!==0?je:0,de&&qe===qe){for(var st=be.length;st--;)if(be[st]===qe)continue e;h&&be.push(qe),_e.push(je)}else Q(be,qe,v)||(be!==_e&&be.push(qe),_e.push(je))}return _e}function xy(f,h){return h=ac(h,f),f=f5(f,h),f==null||delete f[Ma(Ss(h))]}function Gv(f,h,v,S){return xu(f,h,v(ap(f,h)),S)}function _0(f,h,v,S){for(var Q=f.length,X=S?Q:-1;(S?X--:++X<Q)&&h(f[X],X,f););return v?Ms(f,S?0:X,S?X+1:Q):Ms(f,S?X+1:0,S?Q:X)}function Qv(f,h){var v=f;return v instanceof mn&&(v=v.value()),ey(h,function(S,Q){return Q.func.apply(Q.thisArg,tc([S],Q.args))},v)}function Ty(f,h,v){var S=f.length;if(S<2)return S?sc(f[0]):[];for(var Q=-1,X=He(S);++Q<S;)for(var de=f[Q],_e=-1;++_e<S;)_e!=Q&&(X[Q]=vu(X[Q]||de,f[_e],h,v));return sc(Xi(X,1),h,v)}function kv(f,h,v){for(var S=-1,Q=f.length,X=h.length,de={};++S<Q;){var _e=S<X?h[S]:n;v(de,f[S],_e)}return de}function By(f){return gi(f)?f:[]}function My(f){return typeof f=="function"?f:Gr}function ac(f,h){return en(f)?f:Uy(f,h)?[f]:E5(In(f))}var YO=pn;function oc(f,h,v){var S=f.length;return v=v===n?S:v,!h&&v>=S?f:Ms(f,h,v)}var Vv=I9||function(f){return ji.clearTimeout(f)};function Kv(f,h){if(h)return f.slice();var v=f.length,S=lv?lv(v):new f.constructor(v);return f.copy(S),S}function Sy(f){var h=new f.constructor(f.byteLength);return new o0(h).set(new o0(f)),h}function WO(f,h){var v=h?Sy(f.buffer):f.buffer;return new f.constructor(v,f.byteOffset,f.byteLength)}function $O(f){var h=new f.constructor(f.source,We.exec(f));return h.lastIndex=f.lastIndex,h}function jO(f){return wu?Wn(wu.call(f)):{}}function zv(f,h){var v=h?Sy(f.buffer):f.buffer;return new f.constructor(v,f.byteOffset,f.length)}function Yv(f,h){if(f!==h){var v=f!==n,S=f===null,Q=f===f,X=ns(f),de=h!==n,_e=h===null,be=h===h,$e=ns(h);if(!_e&&!$e&&!X&&f>h||X&&de&&be&&!_e&&!$e||S&&de&&be||!v&&be||!Q)return 1;if(!S&&!X&&!$e&&f<h||$e&&v&&Q&&!S&&!X||_e&&v&&Q||!de&&Q||!be)return-1}return 0}function XO(f,h,v){for(var S=-1,Q=f.criteria,X=h.criteria,de=Q.length,_e=v.length;++S<de;){var be=Yv(Q[S],X[S]);if(be){if(S>=_e)return be;var $e=v[S];return be*($e=="desc"?-1:1)}}return f.index-h.index}function Wv(f,h,v,S){for(var Q=-1,X=f.length,de=v.length,_e=-1,be=h.length,$e=Ni(X-de,0),je=He(be+$e),qe=!S;++_e<be;)je[_e]=h[_e];for(;++Q<de;)(qe||Q<X)&&(je[v[Q]]=f[Q]);for(;$e--;)je[_e++]=f[Q++];return je}function $v(f,h,v,S){for(var Q=-1,X=f.length,de=-1,_e=v.length,be=-1,$e=h.length,je=Ni(X-_e,0),qe=He(je+$e),st=!S;++Q<je;)qe[Q]=f[Q];for(var Ct=Q;++be<$e;)qe[Ct+be]=h[be];for(;++de<_e;)(st||Q<X)&&(qe[Ct+v[de]]=f[Q++]);return qe}function Ur(f,h){var v=-1,S=f.length;for(h||(h=He(S));++v<S;)h[v]=f[v];return h}function Ba(f,h,v,S){var Q=!v;v||(v={});for(var X=-1,de=h.length;++X<de;){var _e=h[X],be=S?S(v[_e],f[_e],_e,v,f):n;be===n&&(be=f[_e]),Q?ao(v,_e,be):_u(v,_e,be)}return v}function qO(f,h){return Ba(f,Py(f),h)}function ZO(f,h){return Ba(f,o5(f),h)}function v0(f,h){return function(v,S){var Q=en(v)?i9:wO,X=h?h():{};return Q(v,f,Ut(S,2),X)}}function lA(f){return pn(function(h,v){var S=-1,Q=v.length,X=Q>1?v[Q-1]:n,de=Q>2?v[2]:n;for(X=f.length>3&&typeof X=="function"?(Q--,X):n,de&&Cr(v[0],v[1],de)&&(X=Q<3?n:X,Q=1),h=Wn(h);++S<Q;){var _e=v[S];_e&&f(h,_e,S,X)}return h})}function jv(f,h){return function(v,S){if(v==null)return v;if(!Hr(v))return f(v,S);for(var Q=v.length,X=h?Q:-1,de=Wn(v);(h?X--:++X<Q)&&S(de[X],X,de)!==!1;);return v}}function Xv(f){return function(h,v,S){for(var Q=-1,X=Wn(h),de=S(h),_e=de.length;_e--;){var be=de[f?_e:++Q];if(v(X[be],be,X)===!1)break}return h}}function JO(f,h,v){var S=h&g,Q=Tu(f);function X(){var de=this&&this!==ji&&this instanceof X?Q:f;return de.apply(S?v:this,arguments)}return X}function qv(f){return function(h){h=In(h);var v=rA(h)?Js(h):n,S=v?v[0]:h.charAt(0),Q=v?oc(v,1).join(""):h.slice(1);return S[f]()+Q}}function uA(f){return function(h){return ey(j5($5(h).replace(V7,"")),f,"")}}function Tu(f){return function(){var h=arguments;switch(h.length){case 0:return new f;case 1:return new f(h[0]);case 2:return new f(h[0],h[1]);case 3:return new f(h[0],h[1],h[2]);case 4:return new f(h[0],h[1],h[2],h[3]);case 5:return new f(h[0],h[1],h[2],h[3],h[4]);case 6:return new f(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new f(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var v=AA(f.prototype),S=f.apply(v,h);return ci(S)?S:v}}function eL(f,h,v){var S=Tu(f);function Q(){for(var X=arguments.length,de=He(X),_e=X,be=fA(Q);_e--;)de[_e]=arguments[_e];var $e=X<3&&de[0]!==be&&de[X-1]!==be?[]:nc(de,be);if(X-=$e.length,X<v)return n5(f,h,C0,Q.placeholder,n,de,$e,n,n,v-X);var je=this&&this!==ji&&this instanceof Q?S:f;return Jr(je,this,de)}return Q}function Zv(f){return function(h,v,S){var Q=Wn(h);if(!Hr(h)){var X=Ut(v,3);h=ki(h),v=function(_e){return X(Q[_e],_e,Q)}}var de=f(h,v,S);return de>-1?Q[X?h[de]:de]:n}}function Jv(f){return co(function(h){var v=h.length,S=v,Q=Ts.prototype.thru;for(f&&h.reverse();S--;){var X=h[S];if(typeof X!="function")throw new xs(a);if(Q&&!de&&B0(X)=="wrapper")var de=new Ts([],!0)}for(S=de?S:v;++S<v;){X=h[S];var _e=B0(X),be=_e=="wrapper"?Fy(X):n;be&&Hy(be[0])&&be[1]==(x|b|C|O)&&!be[4].length&&be[9]==1?de=de[B0(be[0])].apply(de,be[3]):de=X.length==1&&Hy(X)?de[_e]():de.thru(X)}return function(){var $e=arguments,je=$e[0];if(de&&$e.length==1&&en(je))return de.plant(je).value();for(var qe=0,st=v?h[qe].apply(this,$e):je;++qe<v;)st=h[qe].call(this,st);return st}})}function C0(f,h,v,S,Q,X,de,_e,be,$e){var je=h&x,qe=h&g,st=h&E,Ct=h&(b|_),Dt=h&M,cn=st?n:Tu(f);function Gt(){for(var dn=arguments.length,wn=He(dn),is=dn;is--;)wn[is]=arguments[is];if(Ct)var br=fA(Gt),rs=u9(wn,br);if(S&&(wn=Wv(wn,S,Q,Ct)),X&&(wn=$v(wn,X,de,Ct)),dn-=rs,Ct&&dn<$e){var wi=nc(wn,br);return n5(f,h,C0,Gt.placeholder,v,wn,wi,_e,be,$e-dn)}var na=qe?v:this,uo=st?na[f]:f;return dn=wn.length,_e?wn=wL(wn,_e):Dt&&dn>1&&wn.reverse(),je&&be<dn&&(wn.length=be),this&&this!==ji&&this instanceof Gt&&(uo=cn||Tu(uo)),uo.apply(na,wn)}return Gt}function e5(f,h){return function(v,S){return MO(v,f,h(S),{})}}function b0(f,h){return function(v,S){var Q;if(v===n&&S===n)return h;if(v!==n&&(Q=v),S!==n){if(Q===n)return S;typeof v=="string"||typeof S=="string"?(v=ts(v),S=ts(S)):(v=Dv(v),S=Dv(S)),Q=f(v,S)}return Q}}function Oy(f){return co(function(h){return h=ri(h,es(Ut())),pn(function(v){var S=this;return f(h,function(Q){return Jr(Q,S,v)})})})}function x0(f,h){h=h===n?" ":ts(h);var v=h.length;if(v<2)return v?Cy(h,f):h;var S=Cy(h,l0(f/sA(h)));return rA(h)?oc(Js(S),0,f).join(""):S.slice(0,f)}function tL(f,h,v,S){var Q=h&g,X=Tu(f);function de(){for(var _e=-1,be=arguments.length,$e=-1,je=S.length,qe=He(je+be),st=this&&this!==ji&&this instanceof de?X:f;++$e<je;)qe[$e]=S[$e];for(;be--;)qe[$e++]=arguments[++_e];return Jr(st,Q?v:this,qe)}return de}function t5(f){return function(h,v,S){return S&&typeof S!="number"&&Cr(h,v,S)&&(v=S=n),h=lo(h),v===n?(v=h,h=0):v=lo(v),S=S===n?h<v?1:-1:lo(S),GO(h,v,S,f)}}function T0(f){return function(h,v){return typeof h=="string"&&typeof v=="string"||(h=Os(h),v=Os(v)),f(h,v)}}function n5(f,h,v,S,Q,X,de,_e,be,$e){var je=h&b,qe=je?de:n,st=je?n:de,Ct=je?X:n,Dt=je?n:X;h|=je?C:T,h&=~(je?T:C),h&w||(h&=~(g|E));var cn=[f,h,Q,Ct,qe,Dt,st,_e,be,$e],Gt=v.apply(n,cn);return Hy(f)&&d5(Gt,cn),Gt.placeholder=S,h5(Gt,f,h)}function Ly(f){var h=Fi[f];return function(v,S){if(v=Os(v),S=S==null?0:ar(an(S),292),S&&hv(v)){var Q=(In(v)+"e").split("e"),X=h(Q[0]+"e"+(+Q[1]+S));return Q=(In(X)+"e").split("e"),+(Q[0]+"e"+(+Q[1]-S))}return h(v)}}var nL=cA&&1/t0(new cA([,-0]))[1]==K?function(f){return new cA(f)}:Jy;function i5(f){return function(h){var v=or(h);return v==we?oy(h):v==oe?g9(h):l9(h,f(h))}}function oo(f,h,v,S,Q,X,de,_e){var be=h&E;if(!be&&typeof f!="function")throw new xs(a);var $e=S?S.length:0;if($e||(h&=~(C|T),S=Q=n),de=de===n?de:Ni(an(de),0),_e=_e===n?_e:an(_e),$e-=Q?Q.length:0,h&T){var je=S,qe=Q;S=Q=n}var st=be?n:Fy(f),Ct=[f,h,v,S,Q,je,qe,X,de,_e];if(st&&EL(Ct,st),f=Ct[0],h=Ct[1],v=Ct[2],S=Ct[3],Q=Ct[4],_e=Ct[9]=Ct[9]===n?be?0:f.length:Ni(Ct[9]-$e,0),!_e&&h&(b|_)&&(h&=~(b|_)),!h||h==g)var Dt=JO(f,h,v);else h==b||h==_?Dt=eL(f,h,_e):(h==C||h==(g|C))&&!Q.length?Dt=tL(f,h,v,S):Dt=C0.apply(n,Ct);var cn=st?Uv:d5;return h5(cn(Dt,Ct),f,h)}function r5(f,h,v,S){return f===n||ta(f,oA[v])&&!Pn.call(S,v)?h:f}function s5(f,h,v,S,Q,X){return ci(f)&&ci(h)&&(X.set(h,f),g0(f,h,n,s5,X),X.delete(h)),f}function iL(f){return Su(f)?n:f}function a5(f,h,v,S,Q,X){var de=v&m,_e=f.length,be=h.length;if(_e!=be&&!(de&&be>_e))return!1;var $e=X.get(f),je=X.get(h);if($e&&je)return $e==h&&je==f;var qe=-1,st=!0,Ct=v&y?new rp:n;for(X.set(f,h),X.set(h,f);++qe<_e;){var Dt=f[qe],cn=h[qe];if(S)var Gt=de?S(cn,Dt,qe,h,f,X):S(Dt,cn,qe,f,h,X);if(Gt!==n){if(Gt)continue;st=!1;break}if(Ct){if(!ty(h,function(dn,wn){if(!hu(Ct,wn)&&(Dt===dn||Q(Dt,dn,v,S,X)))return Ct.push(wn)})){st=!1;break}}else if(!(Dt===cn||Q(Dt,cn,v,S,X))){st=!1;break}}return X.delete(f),X.delete(h),st}function rL(f,h,v,S,Q,X,de){switch(v){case ze:if(f.byteLength!=h.byteLength||f.byteOffset!=h.byteOffset)return!1;f=f.buffer,h=h.buffer;case Se:return!(f.byteLength!=h.byteLength||!X(new o0(f),new o0(h)));case pe:case Ee:case xe:return ta(+f,+h);case Z:return f.name==h.name&&f.message==h.message;case he:case ue:return f==h+"";case we:var _e=oy;case oe:var be=S&m;if(_e||(_e=t0),f.size!=h.size&&!be)return!1;var $e=de.get(f);if($e)return $e==h;S|=y,de.set(f,h);var je=a5(_e(f),_e(h),S,Q,X,de);return de.delete(f),je;case Oe:if(wu)return wu.call(f)==wu.call(h)}return!1}function sL(f,h,v,S,Q,X){var de=v&m,_e=Ry(f),be=_e.length,$e=Ry(h),je=$e.length;if(be!=je&&!de)return!1;for(var qe=be;qe--;){var st=_e[qe];if(!(de?st in h:Pn.call(h,st)))return!1}var Ct=X.get(f),Dt=X.get(h);if(Ct&&Dt)return Ct==h&&Dt==f;var cn=!0;X.set(f,h),X.set(h,f);for(var Gt=de;++qe<be;){st=_e[qe];var dn=f[st],wn=h[st];if(S)var is=de?S(wn,dn,st,h,f,X):S(dn,wn,st,f,h,X);if(!(is===n?dn===wn||Q(dn,wn,v,S,X):is)){cn=!1;break}Gt||(Gt=st=="constructor")}if(cn&&!Gt){var br=f.constructor,rs=h.constructor;br!=rs&&"constructor"in f&&"constructor"in h&&!(typeof br=="function"&&br instanceof br&&typeof rs=="function"&&rs instanceof rs)&&(cn=!1)}return X.delete(f),X.delete(h),cn}function co(f){return Gy(u5(f,n,_5),f+"")}function Ry(f){return Tv(f,ki,Py)}function Iy(f){return Tv(f,Dr,o5)}var Fy=f0?function(f){return f0.get(f)}:Jy;function B0(f){for(var h=f.name+"",v=pA[h],S=Pn.call(pA,h)?v.length:0;S--;){var Q=v[S],X=Q.func;if(X==null||X==f)return Q.name}return h}function fA(f){var h=Pn.call($,"placeholder")?$:f;return h.placeholder}function Ut(){var f=$.iteratee||qy;return f=f===qy?Sv:f,arguments.length?f(arguments[0],arguments[1]):f}function M0(f,h){var v=f.__data__;return fL(h)?v[typeof h=="string"?"string":"hash"]:v.map}function Ny(f){for(var h=ki(f),v=h.length;v--;){var S=h[v],Q=f[S];h[v]=[S,Q,A5(Q)]}return h}function op(f,h){var v=m9(f,h);return Mv(v)?v:n}function aL(f){var h=Pn.call(f,np),v=f[np];try{f[np]=n;var S=!0}catch{}var Q=s0.call(f);return S&&(h?f[np]=v:delete f[np]),Q}var Py=py?function(f){return f==null?[]:(f=Wn(f),ec(py(f),function(h){return fv.call(f,h)}))}:e3,o5=py?function(f){for(var h=[];f;)tc(h,Py(f)),f=c0(f);return h}:e3,or=vr;(Ay&&or(new Ay(new ArrayBuffer(1)))!=ze||Eu&&or(new Eu)!=we||ly&&or(ly.resolve())!=j||cA&&or(new cA)!=oe||yu&&or(new yu)!=Te)&&(or=function(f){var h=vr(f),v=h==V?f.constructor:n,S=v?cp(v):"";if(S)switch(S){case k9:return ze;case V9:return we;case K9:return j;case z9:return oe;case Y9:return Te}return h});function oL(f,h,v){for(var S=-1,Q=v.length;++S<Q;){var X=v[S],de=X.size;switch(X.type){case"drop":f+=de;break;case"dropRight":h-=de;break;case"take":h=ar(h,f+de);break;case"takeRight":f=Ni(f,h-de);break}}return{start:f,end:h}}function cL(f){var h=f.match(ye);return h?h[1].split(Fe):[]}function c5(f,h,v){h=ac(h,f);for(var S=-1,Q=h.length,X=!1;++S<Q;){var de=Ma(h[S]);if(!(X=f!=null&&v(f,de)))break;f=f[de]}return X||++S!=Q?X:(Q=f==null?0:f.length,!!Q&&N0(Q)&&po(de,Q)&&(en(f)||pp(f)))}function pL(f){var h=f.length,v=new f.constructor(h);return h&&typeof f[0]=="string"&&Pn.call(f,"index")&&(v.index=f.index,v.input=f.input),v}function p5(f){return typeof f.constructor=="function"&&!Bu(f)?AA(c0(f)):{}}function AL(f,h,v){var S=f.constructor;switch(h){case Se:return Sy(f);case pe:case Ee:return new S(+f);case ze:return WO(f,v);case Ge:case Ue:case nt:case vt:case gt:case Et:case Mt:case Lt:case Bt:return zv(f,v);case we:return new S;case xe:case ue:return new S(f);case he:return $O(f);case oe:return new S;case Oe:return jO(f)}}function lL(f,h){var v=h.length;if(!v)return f;var S=v-1;return h[S]=(v>1?"& ":"")+h[S],h=h.join(v>2?", ":" "),f.replace(ce,`{
/* [wrapped with `+h+`] */
`)}function uL(f){return en(f)||pp(f)||!!(dv&&f&&f[dv])}function po(f,h){var v=typeof f;return h=h==null?W:h,!!h&&(v=="number"||v!="symbol"&&Ln.test(f))&&f>-1&&f%1==0&&f<h}function Cr(f,h,v){if(!ci(v))return!1;var S=typeof h;return(S=="number"?Hr(v)&&po(h,v.length):S=="string"&&h in v)?ta(v[h],f):!1}function Uy(f,h){if(en(f))return!1;var v=typeof f;return v=="number"||v=="symbol"||v=="boolean"||f==null||ns(f)?!0:B.test(f)||!Me.test(f)||h!=null&&f in Wn(h)}function fL(f){var h=typeof f;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?f!=="__proto__":f===null}function Hy(f){var h=B0(f),v=$[h];if(typeof v!="function"||!(h in mn.prototype))return!1;if(f===v)return!0;var S=Fy(v);return!!S&&f===S[0]}function dL(f){return!!Av&&Av in f}var hL=i0?Ao:t3;function Bu(f){var h=f&&f.constructor,v=typeof h=="function"&&h.prototype||oA;return f===v}function A5(f){return f===f&&!ci(f)}function l5(f,h){return function(v){return v==null?!1:v[f]===h&&(h!==n||f in Wn(v))}}function mL(f){var h=I0(f,function(S){return v.size===p&&v.clear(),S}),v=h.cache;return h}function EL(f,h){var v=f[1],S=h[1],Q=v|S,X=Q<(g|E|x),de=S==x&&v==b||S==x&&v==O&&f[7].length<=h[8]||S==(x|O)&&h[7].length<=h[8]&&v==b;if(!(X||de))return f;S&g&&(f[2]=h[2],Q|=v&g?0:w);var _e=h[3];if(_e){var be=f[3];f[3]=be?Wv(be,_e,h[4]):_e,f[4]=be?nc(f[3],A):h[4]}return _e=h[5],_e&&(be=f[5],f[5]=be?$v(be,_e,h[6]):_e,f[6]=be?nc(f[5],A):h[6]),_e=h[7],_e&&(f[7]=_e),S&x&&(f[8]=f[8]==null?h[8]:ar(f[8],h[8])),f[9]==null&&(f[9]=h[9]),f[0]=h[0],f[1]=Q,f}function yL(f){var h=[];if(f!=null)for(var v in Wn(f))h.push(v);return h}function gL(f){return s0.call(f)}function u5(f,h,v){return h=Ni(h===n?f.length-1:h,0),function(){for(var S=arguments,Q=-1,X=Ni(S.length-h,0),de=He(X);++Q<X;)de[Q]=S[h+Q];Q=-1;for(var _e=He(h+1);++Q<h;)_e[Q]=S[Q];return _e[h]=v(de),Jr(f,this,_e)}}function f5(f,h){return h.length<2?f:ap(f,Ms(h,0,-1))}function wL(f,h){for(var v=f.length,S=ar(h.length,v),Q=Ur(f);S--;){var X=h[S];f[S]=po(X,v)?Q[X]:n}return f}function Dy(f,h){if(!(h==="constructor"&&typeof f[h]=="function")&&h!="__proto__")return f[h]}var d5=m5(Uv),Mu=N9||function(f,h){return ji.setTimeout(f,h)},Gy=m5(VO);function h5(f,h,v){var S=h+"";return Gy(f,lL(S,_L(cL(S),v)))}function m5(f){var h=0,v=0;return function(){var S=D9(),Q=P-(S-v);if(v=S,Q>0){if(++h>=D)return arguments[0]}else h=0;return f.apply(n,arguments)}}function S0(f,h){var v=-1,S=f.length,Q=S-1;for(h=h===n?S:h;++v<h;){var X=vy(v,Q),de=f[X];f[X]=f[v],f[v]=de}return f.length=h,f}var E5=mL(function(f){var h=[];return f.charCodeAt(0)===46&&h.push(""),f.replace(N,function(v,S,Q,X){h.push(Q?X.replace(tt,"$1"):S||v)}),h});function Ma(f){if(typeof f=="string"||ns(f))return f;var h=f+"";return h=="0"&&1/f==-K?"-0":h}function cp(f){if(f!=null){try{return r0.call(f)}catch{}try{return f+""}catch{}}return""}function _L(f,h){return bs(ge,function(v){var S="_."+v[0];h&v[1]&&!Jd(f,S)&&f.push(S)}),f.sort()}function y5(f){if(f instanceof mn)return f.clone();var h=new Ts(f.__wrapped__,f.__chain__);return h.__actions__=Ur(f.__actions__),h.__index__=f.__index__,h.__values__=f.__values__,h}function vL(f,h,v){(v?Cr(f,h,v):h===n)?h=1:h=Ni(an(h),0);var S=f==null?0:f.length;if(!S||h<1)return[];for(var Q=0,X=0,de=He(l0(S/h));Q<S;)de[X++]=Ms(f,Q,Q+=h);return de}function CL(f){for(var h=-1,v=f==null?0:f.length,S=0,Q=[];++h<v;){var X=f[h];X&&(Q[S++]=X)}return Q}function bL(){var f=arguments.length;if(!f)return[];for(var h=He(f-1),v=arguments[0],S=f;S--;)h[S-1]=arguments[S];return tc(en(v)?Ur(v):[v],Xi(h,1))}var xL=pn(function(f,h){return gi(f)?vu(f,Xi(h,1,gi,!0)):[]}),TL=pn(function(f,h){var v=Ss(h);return gi(v)&&(v=n),gi(f)?vu(f,Xi(h,1,gi,!0),Ut(v,2)):[]}),BL=pn(function(f,h){var v=Ss(h);return gi(v)&&(v=n),gi(f)?vu(f,Xi(h,1,gi,!0),n,v):[]});function ML(f,h,v){var S=f==null?0:f.length;return S?(h=v||h===n?1:an(h),Ms(f,h<0?0:h,S)):[]}function SL(f,h,v){var S=f==null?0:f.length;return S?(h=v||h===n?1:an(h),h=S-h,Ms(f,0,h<0?0:h)):[]}function OL(f,h){return f&&f.length?_0(f,Ut(h,3),!0,!0):[]}function LL(f,h){return f&&f.length?_0(f,Ut(h,3),!0):[]}function RL(f,h,v,S){var Q=f==null?0:f.length;return Q?(v&&typeof v!="number"&&Cr(f,h,v)&&(v=0,S=Q),bO(f,h,v,S)):[]}function g5(f,h,v){var S=f==null?0:f.length;if(!S)return-1;var Q=v==null?0:an(v);return Q<0&&(Q=Ni(S+Q,0)),e0(f,Ut(h,3),Q)}function w5(f,h,v){var S=f==null?0:f.length;if(!S)return-1;var Q=S-1;return v!==n&&(Q=an(v),Q=v<0?Ni(S+Q,0):ar(Q,S-1)),e0(f,Ut(h,3),Q,!0)}function _5(f){var h=f==null?0:f.length;return h?Xi(f,1):[]}function IL(f){var h=f==null?0:f.length;return h?Xi(f,K):[]}function FL(f,h){var v=f==null?0:f.length;return v?(h=h===n?1:an(h),Xi(f,h)):[]}function NL(f){for(var h=-1,v=f==null?0:f.length,S={};++h<v;){var Q=f[h];S[Q[0]]=Q[1]}return S}function v5(f){return f&&f.length?f[0]:n}function PL(f,h,v){var S=f==null?0:f.length;if(!S)return-1;var Q=v==null?0:an(v);return Q<0&&(Q=Ni(S+Q,0)),iA(f,h,Q)}function UL(f){var h=f==null?0:f.length;return h?Ms(f,0,-1):[]}var HL=pn(function(f){var h=ri(f,By);return h.length&&h[0]===f[0]?Ey(h):[]}),DL=pn(function(f){var h=Ss(f),v=ri(f,By);return h===Ss(v)?h=n:v.pop(),v.length&&v[0]===f[0]?Ey(v,Ut(h,2)):[]}),GL=pn(function(f){var h=Ss(f),v=ri(f,By);return h=typeof h=="function"?h:n,h&&v.pop(),v.length&&v[0]===f[0]?Ey(v,n,h):[]});function QL(f,h){return f==null?"":U9.call(f,h)}function Ss(f){var h=f==null?0:f.length;return h?f[h-1]:n}function kL(f,h,v){var S=f==null?0:f.length;if(!S)return-1;var Q=S;return v!==n&&(Q=an(v),Q=Q<0?Ni(S+Q,0):ar(Q,S-1)),h===h?_9(f,h,Q):e0(f,nv,Q,!0)}function VL(f,h){return f&&f.length?Iv(f,an(h)):n}var KL=pn(C5);function C5(f,h){return f&&f.length&&h&&h.length?_y(f,h):f}function zL(f,h,v){return f&&f.length&&h&&h.length?_y(f,h,Ut(v,2)):f}function YL(f,h,v){return f&&f.length&&h&&h.length?_y(f,h,n,v):f}var WL=co(function(f,h){var v=f==null?0:f.length,S=fy(f,h);return Pv(f,ri(h,function(Q){return po(Q,v)?+Q:Q}).sort(Yv)),S});function $L(f,h){var v=[];if(!(f&&f.length))return v;var S=-1,Q=[],X=f.length;for(h=Ut(h,3);++S<X;){var de=f[S];h(de,S,f)&&(v.push(de),Q.push(S))}return Pv(f,Q),v}function Qy(f){return f==null?f:Q9.call(f)}function jL(f,h,v){var S=f==null?0:f.length;return S?(v&&typeof v!="number"&&Cr(f,h,v)?(h=0,v=S):(h=h==null?0:an(h),v=v===n?S:an(v)),Ms(f,h,v)):[]}function XL(f,h){return w0(f,h)}function qL(f,h,v){return by(f,h,Ut(v,2))}function ZL(f,h){var v=f==null?0:f.length;if(v){var S=w0(f,h);if(S<v&&ta(f[S],h))return S}return-1}function JL(f,h){return w0(f,h,!0)}function eR(f,h,v){return by(f,h,Ut(v,2),!0)}function tR(f,h){var v=f==null?0:f.length;if(v){var S=w0(f,h,!0)-1;if(ta(f[S],h))return S}return-1}function nR(f){return f&&f.length?Hv(f):[]}function iR(f,h){return f&&f.length?Hv(f,Ut(h,2)):[]}function rR(f){var h=f==null?0:f.length;return h?Ms(f,1,h):[]}function sR(f,h,v){return f&&f.length?(h=v||h===n?1:an(h),Ms(f,0,h<0?0:h)):[]}function aR(f,h,v){var S=f==null?0:f.length;return S?(h=v||h===n?1:an(h),h=S-h,Ms(f,h<0?0:h,S)):[]}function oR(f,h){return f&&f.length?_0(f,Ut(h,3),!1,!0):[]}function cR(f,h){return f&&f.length?_0(f,Ut(h,3)):[]}var pR=pn(function(f){return sc(Xi(f,1,gi,!0))}),AR=pn(function(f){var h=Ss(f);return gi(h)&&(h=n),sc(Xi(f,1,gi,!0),Ut(h,2))}),lR=pn(function(f){var h=Ss(f);return h=typeof h=="function"?h:n,sc(Xi(f,1,gi,!0),n,h)});function uR(f){return f&&f.length?sc(f):[]}function fR(f,h){return f&&f.length?sc(f,Ut(h,2)):[]}function dR(f,h){return h=typeof h=="function"?h:n,f&&f.length?sc(f,n,h):[]}function ky(f){if(!(f&&f.length))return[];var h=0;return f=ec(f,function(v){if(gi(v))return h=Ni(v.length,h),!0}),sy(h,function(v){return ri(f,ny(v))})}function b5(f,h){if(!(f&&f.length))return[];var v=ky(f);return h==null?v:ri(v,function(S){return Jr(h,n,S)})}var hR=pn(function(f,h){return gi(f)?vu(f,h):[]}),mR=pn(function(f){return Ty(ec(f,gi))}),ER=pn(function(f){var h=Ss(f);return gi(h)&&(h=n),Ty(ec(f,gi),Ut(h,2))}),yR=pn(function(f){var h=Ss(f);return h=typeof h=="function"?h:n,Ty(ec(f,gi),n,h)}),gR=pn(ky);function wR(f,h){return kv(f||[],h||[],_u)}function _R(f,h){return kv(f||[],h||[],xu)}var vR=pn(function(f){var h=f.length,v=h>1?f[h-1]:n;return v=typeof v=="function"?(f.pop(),v):n,b5(f,v)});function x5(f){var h=$(f);return h.__chain__=!0,h}function CR(f,h){return h(f),f}function O0(f,h){return h(f)}var bR=co(function(f){var h=f.length,v=h?f[0]:0,S=this.__wrapped__,Q=function(X){return fy(X,f)};return h>1||this.__actions__.length||!(S instanceof mn)||!po(v)?this.thru(Q):(S=S.slice(v,+v+(h?1:0)),S.__actions__.push({func:O0,args:[Q],thisArg:n}),new Ts(S,this.__chain__).thru(function(X){return h&&!X.length&&X.push(n),X}))});function xR(){return x5(this)}function TR(){return new Ts(this.value(),this.__chain__)}function BR(){this.__values__===n&&(this.__values__=D5(this.value()));var f=this.__index__>=this.__values__.length,h=f?n:this.__values__[this.__index__++];return{done:f,value:h}}function MR(){return this}function SR(f){for(var h,v=this;v instanceof h0;){var S=y5(v);S.__index__=0,S.__values__=n,h?Q.__wrapped__=S:h=S;var Q=S;v=v.__wrapped__}return Q.__wrapped__=f,h}function OR(){var f=this.__wrapped__;if(f instanceof mn){var h=f;return this.__actions__.length&&(h=new mn(this)),h=h.reverse(),h.__actions__.push({func:O0,args:[Qy],thisArg:n}),new Ts(h,this.__chain__)}return this.thru(Qy)}function LR(){return Qv(this.__wrapped__,this.__actions__)}var RR=v0(function(f,h,v){Pn.call(f,v)?++f[v]:ao(f,v,1)});function IR(f,h,v){var S=en(f)?ev:CO;return v&&Cr(f,h,v)&&(h=n),S(f,Ut(h,3))}function FR(f,h){var v=en(f)?ec:bv;return v(f,Ut(h,3))}var NR=Zv(g5),PR=Zv(w5);function UR(f,h){return Xi(L0(f,h),1)}function HR(f,h){return Xi(L0(f,h),K)}function DR(f,h,v){return v=v===n?1:an(v),Xi(L0(f,h),v)}function T5(f,h){var v=en(f)?bs:rc;return v(f,Ut(h,3))}function B5(f,h){var v=en(f)?r9:Cv;return v(f,Ut(h,3))}var GR=v0(function(f,h,v){Pn.call(f,v)?f[v].push(h):ao(f,v,[h])});function QR(f,h,v,S){f=Hr(f)?f:hA(f),v=v&&!S?an(v):0;var Q=f.length;return v<0&&(v=Ni(Q+v,0)),P0(f)?v<=Q&&f.indexOf(h,v)>-1:!!Q&&iA(f,h,v)>-1}var kR=pn(function(f,h,v){var S=-1,Q=typeof h=="function",X=Hr(f)?He(f.length):[];return rc(f,function(de){X[++S]=Q?Jr(h,de,v):Cu(de,h,v)}),X}),VR=v0(function(f,h,v){ao(f,v,h)});function L0(f,h){var v=en(f)?ri:Ov;return v(f,Ut(h,3))}function KR(f,h,v,S){return f==null?[]:(en(h)||(h=h==null?[]:[h]),v=S?n:v,en(v)||(v=v==null?[]:[v]),Fv(f,h,v))}var zR=v0(function(f,h,v){f[v?0:1].push(h)},function(){return[[],[]]});function YR(f,h,v){var S=en(f)?ey:rv,Q=arguments.length<3;return S(f,Ut(h,4),v,Q,rc)}function WR(f,h,v){var S=en(f)?s9:rv,Q=arguments.length<3;return S(f,Ut(h,4),v,Q,Cv)}function $R(f,h){var v=en(f)?ec:bv;return v(f,F0(Ut(h,3)))}function jR(f){var h=en(f)?gv:QO;return h(f)}function XR(f,h,v){(v?Cr(f,h,v):h===n)?h=1:h=an(h);var S=en(f)?yO:kO;return S(f,h)}function qR(f){var h=en(f)?gO:KO;return h(f)}function ZR(f){if(f==null)return 0;if(Hr(f))return P0(f)?sA(f):f.length;var h=or(f);return h==we||h==oe?f.size:gy(f).length}function JR(f,h,v){var S=en(f)?ty:zO;return v&&Cr(f,h,v)&&(h=n),S(f,Ut(h,3))}var eI=pn(function(f,h){if(f==null)return[];var v=h.length;return v>1&&Cr(f,h[0],h[1])?h=[]:v>2&&Cr(h[0],h[1],h[2])&&(h=[h[0]]),Fv(f,Xi(h,1),[])}),R0=F9||function(){return ji.Date.now()};function tI(f,h){if(typeof h!="function")throw new xs(a);return f=an(f),function(){if(--f<1)return h.apply(this,arguments)}}function M5(f,h,v){return h=v?n:h,h=f&&h==null?f.length:h,oo(f,x,n,n,n,n,h)}function S5(f,h){var v;if(typeof h!="function")throw new xs(a);return f=an(f),function(){return--f>0&&(v=h.apply(this,arguments)),f<=1&&(h=n),v}}var Vy=pn(function(f,h,v){var S=g;if(v.length){var Q=nc(v,fA(Vy));S|=C}return oo(f,S,h,v,Q)}),O5=pn(function(f,h,v){var S=g|E;if(v.length){var Q=nc(v,fA(O5));S|=C}return oo(h,S,f,v,Q)});function L5(f,h,v){h=v?n:h;var S=oo(f,b,n,n,n,n,n,h);return S.placeholder=L5.placeholder,S}function R5(f,h,v){h=v?n:h;var S=oo(f,_,n,n,n,n,n,h);return S.placeholder=R5.placeholder,S}function I5(f,h,v){var S,Q,X,de,_e,be,$e=0,je=!1,qe=!1,st=!0;if(typeof f!="function")throw new xs(a);h=Os(h)||0,ci(v)&&(je=!!v.leading,qe="maxWait"in v,X=qe?Ni(Os(v.maxWait)||0,h):X,st="trailing"in v?!!v.trailing:st);function Ct(wi){var na=S,uo=Q;return S=Q=n,$e=wi,de=f.apply(uo,na),de}function Dt(wi){return $e=wi,_e=Mu(dn,h),je?Ct(wi):de}function cn(wi){var na=wi-be,uo=wi-$e,Z5=h-na;return qe?ar(Z5,X-uo):Z5}function Gt(wi){var na=wi-be,uo=wi-$e;return be===n||na>=h||na<0||qe&&uo>=X}function dn(){var wi=R0();if(Gt(wi))return wn(wi);_e=Mu(dn,cn(wi))}function wn(wi){return _e=n,st&&S?Ct(wi):(S=Q=n,de)}function is(){_e!==n&&Vv(_e),$e=0,S=be=Q=_e=n}function br(){return _e===n?de:wn(R0())}function rs(){var wi=R0(),na=Gt(wi);if(S=arguments,Q=this,be=wi,na){if(_e===n)return Dt(be);if(qe)return Vv(_e),_e=Mu(dn,h),Ct(be)}return _e===n&&(_e=Mu(dn,h)),de}return rs.cancel=is,rs.flush=br,rs}var nI=pn(function(f,h){return vv(f,1,h)}),iI=pn(function(f,h,v){return vv(f,Os(h)||0,v)});function rI(f){return oo(f,M)}function I0(f,h){if(typeof f!="function"||h!=null&&typeof h!="function")throw new xs(a);var v=function(){var S=arguments,Q=h?h.apply(this,S):S[0],X=v.cache;if(X.has(Q))return X.get(Q);var de=f.apply(this,S);return v.cache=X.set(Q,de)||X,de};return v.cache=new(I0.Cache||so),v}I0.Cache=so;function F0(f){if(typeof f!="function")throw new xs(a);return function(){var h=arguments;switch(h.length){case 0:return!f.call(this);case 1:return!f.call(this,h[0]);case 2:return!f.call(this,h[0],h[1]);case 3:return!f.call(this,h[0],h[1],h[2])}return!f.apply(this,h)}}function sI(f){return S5(2,f)}var aI=YO(function(f,h){h=h.length==1&&en(h[0])?ri(h[0],es(Ut())):ri(Xi(h,1),es(Ut()));var v=h.length;return pn(function(S){for(var Q=-1,X=ar(S.length,v);++Q<X;)S[Q]=h[Q].call(this,S[Q]);return Jr(f,this,S)})}),Ky=pn(function(f,h){var v=nc(h,fA(Ky));return oo(f,C,n,h,v)}),F5=pn(function(f,h){var v=nc(h,fA(F5));return oo(f,T,n,h,v)}),oI=co(function(f,h){return oo(f,O,n,n,n,h)});function cI(f,h){if(typeof f!="function")throw new xs(a);return h=h===n?h:an(h),pn(f,h)}function pI(f,h){if(typeof f!="function")throw new xs(a);return h=h==null?0:Ni(an(h),0),pn(function(v){var S=v[h],Q=oc(v,0,h);return S&&tc(Q,S),Jr(f,this,Q)})}function AI(f,h,v){var S=!0,Q=!0;if(typeof f!="function")throw new xs(a);return ci(v)&&(S="leading"in v?!!v.leading:S,Q="trailing"in v?!!v.trailing:Q),I5(f,h,{leading:S,maxWait:h,trailing:Q})}function lI(f){return M5(f,1)}function uI(f,h){return Ky(My(h),f)}function fI(){if(!arguments.length)return[];var f=arguments[0];return en(f)?f:[f]}function dI(f){return Bs(f,d)}function hI(f,h){return h=typeof h=="function"?h:n,Bs(f,d,h)}function mI(f){return Bs(f,l|d)}function EI(f,h){return h=typeof h=="function"?h:n,Bs(f,l|d,h)}function yI(f,h){return h==null||_v(f,h,ki(h))}function ta(f,h){return f===h||f!==f&&h!==h}var gI=T0(my),wI=T0(function(f,h){return f>=h}),pp=Bv(function(){return arguments}())?Bv:function(f){return hi(f)&&Pn.call(f,"callee")&&!fv.call(f,"callee")},en=He.isArray,_I=$_?es($_):SO;function Hr(f){return f!=null&&N0(f.length)&&!Ao(f)}function gi(f){return hi(f)&&Hr(f)}function vI(f){return f===!0||f===!1||hi(f)&&vr(f)==pe}var cc=P9||t3,CI=j_?es(j_):OO;function bI(f){return hi(f)&&f.nodeType===1&&!Su(f)}function xI(f){if(f==null)return!0;if(Hr(f)&&(en(f)||typeof f=="string"||typeof f.splice=="function"||cc(f)||dA(f)||pp(f)))return!f.length;var h=or(f);if(h==we||h==oe)return!f.size;if(Bu(f))return!gy(f).length;for(var v in f)if(Pn.call(f,v))return!1;return!0}function TI(f,h){return bu(f,h)}function BI(f,h,v){v=typeof v=="function"?v:n;var S=v?v(f,h):n;return S===n?bu(f,h,n,v):!!S}function zy(f){if(!hi(f))return!1;var h=vr(f);return h==Z||h==q||typeof f.message=="string"&&typeof f.name=="string"&&!Su(f)}function MI(f){return typeof f=="number"&&hv(f)}function Ao(f){if(!ci(f))return!1;var h=vr(f);return h==ae||h==Ae||h==fe||h==ve}function N5(f){return typeof f=="number"&&f==an(f)}function N0(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=W}function ci(f){var h=typeof f;return f!=null&&(h=="object"||h=="function")}function hi(f){return f!=null&&typeof f=="object"}var P5=X_?es(X_):RO;function SI(f,h){return f===h||yy(f,h,Ny(h))}function OI(f,h,v){return v=typeof v=="function"?v:n,yy(f,h,Ny(h),v)}function LI(f){return U5(f)&&f!=+f}function RI(f){if(hL(f))throw new Jt(s);return Mv(f)}function II(f){return f===null}function FI(f){return f==null}function U5(f){return typeof f=="number"||hi(f)&&vr(f)==xe}function Su(f){if(!hi(f)||vr(f)!=V)return!1;var h=c0(f);if(h===null)return!0;var v=Pn.call(h,"constructor")&&h.constructor;return typeof v=="function"&&v instanceof v&&r0.call(v)==O9}var Yy=q_?es(q_):IO;function NI(f){return N5(f)&&f>=-W&&f<=W}var H5=Z_?es(Z_):FO;function P0(f){return typeof f=="string"||!en(f)&&hi(f)&&vr(f)==ue}function ns(f){return typeof f=="symbol"||hi(f)&&vr(f)==Oe}var dA=J_?es(J_):NO;function PI(f){return f===n}function UI(f){return hi(f)&&or(f)==Te}function HI(f){return hi(f)&&vr(f)==Ne}var DI=T0(wy),GI=T0(function(f,h){return f<=h});function D5(f){if(!f)return[];if(Hr(f))return P0(f)?Js(f):Ur(f);if(mu&&f[mu])return y9(f[mu]());var h=or(f),v=h==we?oy:h==oe?t0:hA;return v(f)}function lo(f){if(!f)return f===0?f:0;if(f=Os(f),f===K||f===-K){var h=f<0?-1:1;return h*ee}return f===f?f:0}function an(f){var h=lo(f),v=h%1;return h===h?v?h-v:h:0}function G5(f){return f?sp(an(f),0,J):0}function Os(f){if(typeof f=="number")return f;if(ns(f))return le;if(ci(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=ci(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=sv(f);var v=dt.test(f);return v||ht.test(f)?t9(f.slice(2),v?2:8):et.test(f)?le:+f}function Q5(f){return Ba(f,Dr(f))}function QI(f){return f?sp(an(f),-W,W):f===0?f:0}function In(f){return f==null?"":ts(f)}var kI=lA(function(f,h){if(Bu(h)||Hr(h)){Ba(h,ki(h),f);return}for(var v in h)Pn.call(h,v)&&_u(f,v,h[v])}),k5=lA(function(f,h){Ba(h,Dr(h),f)}),U0=lA(function(f,h,v,S){Ba(h,Dr(h),f,S)}),VI=lA(function(f,h,v,S){Ba(h,ki(h),f,S)}),KI=co(fy);function zI(f,h){var v=AA(f);return h==null?v:wv(v,h)}var YI=pn(function(f,h){f=Wn(f);var v=-1,S=h.length,Q=S>2?h[2]:n;for(Q&&Cr(h[0],h[1],Q)&&(S=1);++v<S;)for(var X=h[v],de=Dr(X),_e=-1,be=de.length;++_e<be;){var $e=de[_e],je=f[$e];(je===n||ta(je,oA[$e])&&!Pn.call(f,$e))&&(f[$e]=X[$e])}return f}),WI=pn(function(f){return f.push(n,s5),Jr(V5,n,f)});function $I(f,h){return tv(f,Ut(h,3),Ta)}function jI(f,h){return tv(f,Ut(h,3),hy)}function XI(f,h){return f==null?f:dy(f,Ut(h,3),Dr)}function qI(f,h){return f==null?f:xv(f,Ut(h,3),Dr)}function ZI(f,h){return f&&Ta(f,Ut(h,3))}function JI(f,h){return f&&hy(f,Ut(h,3))}function eF(f){return f==null?[]:y0(f,ki(f))}function tF(f){return f==null?[]:y0(f,Dr(f))}function Wy(f,h,v){var S=f==null?n:ap(f,h);return S===n?v:S}function nF(f,h){return f!=null&&c5(f,h,xO)}function $y(f,h){return f!=null&&c5(f,h,TO)}var iF=e5(function(f,h,v){h!=null&&typeof h.toString!="function"&&(h=s0.call(h)),f[h]=v},Xy(Gr)),rF=e5(function(f,h,v){h!=null&&typeof h.toString!="function"&&(h=s0.call(h)),Pn.call(f,h)?f[h].push(v):f[h]=[v]},Ut),sF=pn(Cu);function ki(f){return Hr(f)?yv(f):gy(f)}function Dr(f){return Hr(f)?yv(f,!0):PO(f)}function aF(f,h){var v={};return h=Ut(h,3),Ta(f,function(S,Q,X){ao(v,h(S,Q,X),S)}),v}function oF(f,h){var v={};return h=Ut(h,3),Ta(f,function(S,Q,X){ao(v,Q,h(S,Q,X))}),v}var cF=lA(function(f,h,v){g0(f,h,v)}),V5=lA(function(f,h,v,S){g0(f,h,v,S)}),pF=co(function(f,h){var v={};if(f==null)return v;var S=!1;h=ri(h,function(X){return X=ac(X,f),S||(S=X.length>1),X}),Ba(f,Iy(f),v),S&&(v=Bs(v,l|u|d,iL));for(var Q=h.length;Q--;)xy(v,h[Q]);return v});function AF(f,h){return K5(f,F0(Ut(h)))}var lF=co(function(f,h){return f==null?{}:HO(f,h)});function K5(f,h){if(f==null)return{};var v=ri(Iy(f),function(S){return[S]});return h=Ut(h),Nv(f,v,function(S,Q){return h(S,Q[0])})}function uF(f,h,v){h=ac(h,f);var S=-1,Q=h.length;for(Q||(Q=1,f=n);++S<Q;){var X=f==null?n:f[Ma(h[S])];X===n&&(S=Q,X=v),f=Ao(X)?X.call(f):X}return f}function fF(f,h,v){return f==null?f:xu(f,h,v)}function dF(f,h,v,S){return S=typeof S=="function"?S:n,f==null?f:xu(f,h,v,S)}var z5=i5(ki),Y5=i5(Dr);function hF(f,h,v){var S=en(f),Q=S||cc(f)||dA(f);if(h=Ut(h,4),v==null){var X=f&&f.constructor;Q?v=S?new X:[]:ci(f)?v=Ao(X)?AA(c0(f)):{}:v={}}return(Q?bs:Ta)(f,function(de,_e,be){return h(v,de,_e,be)}),v}function mF(f,h){return f==null?!0:xy(f,h)}function EF(f,h,v){return f==null?f:Gv(f,h,My(v))}function yF(f,h,v,S){return S=typeof S=="function"?S:n,f==null?f:Gv(f,h,My(v),S)}function hA(f){return f==null?[]:ay(f,ki(f))}function gF(f){return f==null?[]:ay(f,Dr(f))}function wF(f,h,v){return v===n&&(v=h,h=n),v!==n&&(v=Os(v),v=v===v?v:0),h!==n&&(h=Os(h),h=h===h?h:0),sp(Os(f),h,v)}function _F(f,h,v){return h=lo(h),v===n?(v=h,h=0):v=lo(v),f=Os(f),BO(f,h,v)}function vF(f,h,v){if(v&&typeof v!="boolean"&&Cr(f,h,v)&&(h=v=n),v===n&&(typeof h=="boolean"?(v=h,h=n):typeof f=="boolean"&&(v=f,f=n)),f===n&&h===n?(f=0,h=1):(f=lo(f),h===n?(h=f,f=0):h=lo(h)),f>h){var S=f;f=h,h=S}if(v||f%1||h%1){var Q=mv();return ar(f+Q*(h-f+e9("1e-"+((Q+"").length-1))),h)}return vy(f,h)}var CF=uA(function(f,h,v){return h=h.toLowerCase(),f+(v?W5(h):h)});function W5(f){return jy(In(f).toLowerCase())}function $5(f){return f=In(f),f&&f.replace(An,f9).replace(K7,"")}function bF(f,h,v){f=In(f),h=ts(h);var S=f.length;v=v===n?S:sp(an(v),0,S);var Q=v;return v-=h.length,v>=0&&f.slice(v,Q)==h}function xF(f){return f=In(f),f&&it.test(f)?f.replace(Vt,d9):f}function TF(f){return f=In(f),f&&z.test(f)?f.replace(U,"\\$&"):f}var BF=uA(function(f,h,v){return f+(v?"-":"")+h.toLowerCase()}),MF=uA(function(f,h,v){return f+(v?" ":"")+h.toLowerCase()}),SF=qv("toLowerCase");function OF(f,h,v){f=In(f),h=an(h);var S=h?sA(f):0;if(!h||S>=h)return f;var Q=(h-S)/2;return x0(u0(Q),v)+f+x0(l0(Q),v)}function LF(f,h,v){f=In(f),h=an(h);var S=h?sA(f):0;return h&&S<h?f+x0(h-S,v):f}function RF(f,h,v){f=In(f),h=an(h);var S=h?sA(f):0;return h&&S<h?x0(h-S,v)+f:f}function IF(f,h,v){return v||h==null?h=0:h&&(h=+h),G9(In(f).replace(Y,""),h||0)}function FF(f,h,v){return(v?Cr(f,h,v):h===n)?h=1:h=an(h),Cy(In(f),h)}function NF(){var f=arguments,h=In(f[0]);return f.length<3?h:h.replace(f[1],f[2])}var PF=uA(function(f,h,v){return f+(v?"_":"")+h.toLowerCase()});function UF(f,h,v){return v&&typeof v!="number"&&Cr(f,h,v)&&(h=v=n),v=v===n?J:v>>>0,v?(f=In(f),f&&(typeof h=="string"||h!=null&&!Yy(h))&&(h=ts(h),!h&&rA(f))?oc(Js(f),0,v):f.split(h,v)):[]}var HF=uA(function(f,h,v){return f+(v?" ":"")+jy(h)});function DF(f,h,v){return f=In(f),v=v==null?0:sp(an(v),0,f.length),h=ts(h),f.slice(v,v+h.length)==h}function GF(f,h,v){var S=$.templateSettings;v&&Cr(f,h,v)&&(h=n),f=In(f),h=U0({},h,S,r5);var Q=U0({},h.imports,S.imports,r5),X=ki(Q),de=ay(Q,X),_e,be,$e=0,je=h.interpolate||Mi,qe="__p += '",st=cy((h.escape||Mi).source+"|"+je.source+"|"+(je===Ie?Ye:Mi).source+"|"+(h.evaluate||Mi).source+"|$","g"),Ct="//# sourceURL="+(Pn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++j7+"]")+`
`;f.replace(st,function(Gt,dn,wn,is,br,rs){return wn||(wn=is),qe+=f.slice($e,rs).replace(wr,h9),dn&&(_e=!0,qe+=`' +
__e(`+dn+`) +
'`),br&&(be=!0,qe+=`';
`+br+`;
__p += '`),wn&&(qe+=`' +
((__t = (`+wn+`)) == null ? '' : __t) +
'`),$e=rs+Gt.length,Gt}),qe+=`';
`;var Dt=Pn.call(h,"variable")&&h.variable;if(!Dt)qe=`with (obj) {
`+qe+`
}
`;else if(ke.test(Dt))throw new Jt(o);qe=(be?qe.replace(at,""):qe).replace(Wt,"$1").replace(wt,"$1;"),qe="function("+(Dt||"obj")+`) {
`+(Dt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_e?", __e = _.escape":"")+(be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qe+`return __p
}`;var cn=X5(function(){return Mn(X,Ct+"return "+qe).apply(n,de)});if(cn.source=qe,zy(cn))throw cn;return cn}function QF(f){return In(f).toLowerCase()}function kF(f){return In(f).toUpperCase()}function VF(f,h,v){if(f=In(f),f&&(v||h===n))return sv(f);if(!f||!(h=ts(h)))return f;var S=Js(f),Q=Js(h),X=av(S,Q),de=ov(S,Q)+1;return oc(S,X,de).join("")}function KF(f,h,v){if(f=In(f),f&&(v||h===n))return f.slice(0,pv(f)+1);if(!f||!(h=ts(h)))return f;var S=Js(f),Q=ov(S,Js(h))+1;return oc(S,0,Q).join("")}function zF(f,h,v){if(f=In(f),f&&(v||h===n))return f.replace(Y,"");if(!f||!(h=ts(h)))return f;var S=Js(f),Q=av(S,Js(h));return oc(S,Q).join("")}function YF(f,h){var v=H,S=R;if(ci(h)){var Q="separator"in h?h.separator:Q;v="length"in h?an(h.length):v,S="omission"in h?ts(h.omission):S}f=In(f);var X=f.length;if(rA(f)){var de=Js(f);X=de.length}if(v>=X)return f;var _e=v-sA(S);if(_e<1)return S;var be=de?oc(de,0,_e).join(""):f.slice(0,_e);if(Q===n)return be+S;if(de&&(_e+=be.length-_e),Yy(Q)){if(f.slice(_e).search(Q)){var $e,je=be;for(Q.global||(Q=cy(Q.source,In(We.exec(Q))+"g")),Q.lastIndex=0;$e=Q.exec(je);)var qe=$e.index;be=be.slice(0,qe===n?_e:qe)}}else if(f.indexOf(ts(Q),_e)!=_e){var st=be.lastIndexOf(Q);st>-1&&(be=be.slice(0,st))}return be+S}function WF(f){return f=In(f),f&&Ze.test(f)?f.replace(rt,v9):f}var $F=uA(function(f,h,v){return f+(v?" ":"")+h.toUpperCase()}),jy=qv("toUpperCase");function j5(f,h,v){return f=In(f),h=v?n:h,h===n?E9(f)?x9(f):c9(f):f.match(h)||[]}var X5=pn(function(f,h){try{return Jr(f,n,h)}catch(v){return zy(v)?v:new Jt(v)}}),jF=co(function(f,h){return bs(h,function(v){v=Ma(v),ao(f,v,Vy(f[v],f))}),f});function XF(f){var h=f==null?0:f.length,v=Ut();return f=h?ri(f,function(S){if(typeof S[1]!="function")throw new xs(a);return[v(S[0]),S[1]]}):[],pn(function(S){for(var Q=-1;++Q<h;){var X=f[Q];if(Jr(X[0],this,S))return Jr(X[1],this,S)}})}function qF(f){return vO(Bs(f,l))}function Xy(f){return function(){return f}}function ZF(f,h){return f==null||f!==f?h:f}var JF=Jv(),eN=Jv(!0);function Gr(f){return f}function qy(f){return Sv(typeof f=="function"?f:Bs(f,l))}function tN(f){return Lv(Bs(f,l))}function nN(f,h){return Rv(f,Bs(h,l))}var iN=pn(function(f,h){return function(v){return Cu(v,f,h)}}),rN=pn(function(f,h){return function(v){return Cu(f,v,h)}});function Zy(f,h,v){var S=ki(h),Q=y0(h,S);v==null&&!(ci(h)&&(Q.length||!S.length))&&(v=h,h=f,f=this,Q=y0(h,ki(h)));var X=!(ci(v)&&"chain"in v)||!!v.chain,de=Ao(f);return bs(Q,function(_e){var be=h[_e];f[_e]=be,de&&(f.prototype[_e]=function(){var $e=this.__chain__;if(X||$e){var je=f(this.__wrapped__),qe=je.__actions__=Ur(this.__actions__);return qe.push({func:be,args:arguments,thisArg:f}),je.__chain__=$e,je}return be.apply(f,tc([this.value()],arguments))})}),f}function sN(){return ji._===this&&(ji._=L9),this}function Jy(){}function aN(f){return f=an(f),pn(function(h){return Iv(h,f)})}var oN=Oy(ri),cN=Oy(ev),pN=Oy(ty);function q5(f){return Uy(f)?ny(Ma(f)):DO(f)}function AN(f){return function(h){return f==null?n:ap(f,h)}}var lN=t5(),uN=t5(!0);function e3(){return[]}function t3(){return!1}function fN(){return{}}function dN(){return""}function hN(){return!0}function mN(f,h){if(f=an(f),f<1||f>W)return[];var v=J,S=ar(f,J);h=Ut(h),f-=J;for(var Q=sy(S,h);++v<f;)h(v);return Q}function EN(f){return en(f)?ri(f,Ma):ns(f)?[f]:Ur(E5(In(f)))}function yN(f){var h=++S9;return In(f)+h}var gN=b0(function(f,h){return f+h},0),wN=Ly("ceil"),_N=b0(function(f,h){return f/h},1),vN=Ly("floor");function CN(f){return f&&f.length?E0(f,Gr,my):n}function bN(f,h){return f&&f.length?E0(f,Ut(h,2),my):n}function xN(f){return iv(f,Gr)}function TN(f,h){return iv(f,Ut(h,2))}function BN(f){return f&&f.length?E0(f,Gr,wy):n}function MN(f,h){return f&&f.length?E0(f,Ut(h,2),wy):n}var SN=b0(function(f,h){return f*h},1),ON=Ly("round"),LN=b0(function(f,h){return f-h},0);function RN(f){return f&&f.length?ry(f,Gr):0}function IN(f,h){return f&&f.length?ry(f,Ut(h,2)):0}return $.after=tI,$.ary=M5,$.assign=kI,$.assignIn=k5,$.assignInWith=U0,$.assignWith=VI,$.at=KI,$.before=S5,$.bind=Vy,$.bindAll=jF,$.bindKey=O5,$.castArray=fI,$.chain=x5,$.chunk=vL,$.compact=CL,$.concat=bL,$.cond=XF,$.conforms=qF,$.constant=Xy,$.countBy=RR,$.create=zI,$.curry=L5,$.curryRight=R5,$.debounce=I5,$.defaults=YI,$.defaultsDeep=WI,$.defer=nI,$.delay=iI,$.difference=xL,$.differenceBy=TL,$.differenceWith=BL,$.drop=ML,$.dropRight=SL,$.dropRightWhile=OL,$.dropWhile=LL,$.fill=RL,$.filter=FR,$.flatMap=UR,$.flatMapDeep=HR,$.flatMapDepth=DR,$.flatten=_5,$.flattenDeep=IL,$.flattenDepth=FL,$.flip=rI,$.flow=JF,$.flowRight=eN,$.fromPairs=NL,$.functions=eF,$.functionsIn=tF,$.groupBy=GR,$.initial=UL,$.intersection=HL,$.intersectionBy=DL,$.intersectionWith=GL,$.invert=iF,$.invertBy=rF,$.invokeMap=kR,$.iteratee=qy,$.keyBy=VR,$.keys=ki,$.keysIn=Dr,$.map=L0,$.mapKeys=aF,$.mapValues=oF,$.matches=tN,$.matchesProperty=nN,$.memoize=I0,$.merge=cF,$.mergeWith=V5,$.method=iN,$.methodOf=rN,$.mixin=Zy,$.negate=F0,$.nthArg=aN,$.omit=pF,$.omitBy=AF,$.once=sI,$.orderBy=KR,$.over=oN,$.overArgs=aI,$.overEvery=cN,$.overSome=pN,$.partial=Ky,$.partialRight=F5,$.partition=zR,$.pick=lF,$.pickBy=K5,$.property=q5,$.propertyOf=AN,$.pull=KL,$.pullAll=C5,$.pullAllBy=zL,$.pullAllWith=YL,$.pullAt=WL,$.range=lN,$.rangeRight=uN,$.rearg=oI,$.reject=$R,$.remove=$L,$.rest=cI,$.reverse=Qy,$.sampleSize=XR,$.set=fF,$.setWith=dF,$.shuffle=qR,$.slice=jL,$.sortBy=eI,$.sortedUniq=nR,$.sortedUniqBy=iR,$.split=UF,$.spread=pI,$.tail=rR,$.take=sR,$.takeRight=aR,$.takeRightWhile=oR,$.takeWhile=cR,$.tap=CR,$.throttle=AI,$.thru=O0,$.toArray=D5,$.toPairs=z5,$.toPairsIn=Y5,$.toPath=EN,$.toPlainObject=Q5,$.transform=hF,$.unary=lI,$.union=pR,$.unionBy=AR,$.unionWith=lR,$.uniq=uR,$.uniqBy=fR,$.uniqWith=dR,$.unset=mF,$.unzip=ky,$.unzipWith=b5,$.update=EF,$.updateWith=yF,$.values=hA,$.valuesIn=gF,$.without=hR,$.words=j5,$.wrap=uI,$.xor=mR,$.xorBy=ER,$.xorWith=yR,$.zip=gR,$.zipObject=wR,$.zipObjectDeep=_R,$.zipWith=vR,$.entries=z5,$.entriesIn=Y5,$.extend=k5,$.extendWith=U0,Zy($,$),$.add=gN,$.attempt=X5,$.camelCase=CF,$.capitalize=W5,$.ceil=wN,$.clamp=wF,$.clone=dI,$.cloneDeep=mI,$.cloneDeepWith=EI,$.cloneWith=hI,$.conformsTo=yI,$.deburr=$5,$.defaultTo=ZF,$.divide=_N,$.endsWith=bF,$.eq=ta,$.escape=xF,$.escapeRegExp=TF,$.every=IR,$.find=NR,$.findIndex=g5,$.findKey=$I,$.findLast=PR,$.findLastIndex=w5,$.findLastKey=jI,$.floor=vN,$.forEach=T5,$.forEachRight=B5,$.forIn=XI,$.forInRight=qI,$.forOwn=ZI,$.forOwnRight=JI,$.get=Wy,$.gt=gI,$.gte=wI,$.has=nF,$.hasIn=$y,$.head=v5,$.identity=Gr,$.includes=QR,$.indexOf=PL,$.inRange=_F,$.invoke=sF,$.isArguments=pp,$.isArray=en,$.isArrayBuffer=_I,$.isArrayLike=Hr,$.isArrayLikeObject=gi,$.isBoolean=vI,$.isBuffer=cc,$.isDate=CI,$.isElement=bI,$.isEmpty=xI,$.isEqual=TI,$.isEqualWith=BI,$.isError=zy,$.isFinite=MI,$.isFunction=Ao,$.isInteger=N5,$.isLength=N0,$.isMap=P5,$.isMatch=SI,$.isMatchWith=OI,$.isNaN=LI,$.isNative=RI,$.isNil=FI,$.isNull=II,$.isNumber=U5,$.isObject=ci,$.isObjectLike=hi,$.isPlainObject=Su,$.isRegExp=Yy,$.isSafeInteger=NI,$.isSet=H5,$.isString=P0,$.isSymbol=ns,$.isTypedArray=dA,$.isUndefined=PI,$.isWeakMap=UI,$.isWeakSet=HI,$.join=QL,$.kebabCase=BF,$.last=Ss,$.lastIndexOf=kL,$.lowerCase=MF,$.lowerFirst=SF,$.lt=DI,$.lte=GI,$.max=CN,$.maxBy=bN,$.mean=xN,$.meanBy=TN,$.min=BN,$.minBy=MN,$.stubArray=e3,$.stubFalse=t3,$.stubObject=fN,$.stubString=dN,$.stubTrue=hN,$.multiply=SN,$.nth=VL,$.noConflict=sN,$.noop=Jy,$.now=R0,$.pad=OF,$.padEnd=LF,$.padStart=RF,$.parseInt=IF,$.random=vF,$.reduce=YR,$.reduceRight=WR,$.repeat=FF,$.replace=NF,$.result=uF,$.round=ON,$.runInContext=Ce,$.sample=jR,$.size=ZR,$.snakeCase=PF,$.some=JR,$.sortedIndex=XL,$.sortedIndexBy=qL,$.sortedIndexOf=ZL,$.sortedLastIndex=JL,$.sortedLastIndexBy=eR,$.sortedLastIndexOf=tR,$.startCase=HF,$.startsWith=DF,$.subtract=LN,$.sum=RN,$.sumBy=IN,$.template=GF,$.times=mN,$.toFinite=lo,$.toInteger=an,$.toLength=G5,$.toLower=QF,$.toNumber=Os,$.toSafeInteger=QI,$.toString=In,$.toUpper=kF,$.trim=VF,$.trimEnd=KF,$.trimStart=zF,$.truncate=YF,$.unescape=WF,$.uniqueId=yN,$.upperCase=$F,$.upperFirst=jy,$.each=T5,$.eachRight=B5,$.first=v5,Zy($,function(){var f={};return Ta($,function(h,v){Pn.call($.prototype,v)||(f[v]=h)}),f}(),{chain:!1}),$.VERSION=i,bs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){$[f].placeholder=$}),bs(["drop","take"],function(f,h){mn.prototype[f]=function(v){v=v===n?1:Ni(an(v),0);var S=this.__filtered__&&!h?new mn(this):this.clone();return S.__filtered__?S.__takeCount__=ar(v,S.__takeCount__):S.__views__.push({size:ar(v,J),type:f+(S.__dir__<0?"Right":"")}),S},mn.prototype[f+"Right"]=function(v){return this.reverse()[f](v).reverse()}}),bs(["filter","map","takeWhile"],function(f,h){var v=h+1,S=v==I||v==k;mn.prototype[f]=function(Q){var X=this.clone();return X.__iteratees__.push({iteratee:Ut(Q,3),type:v}),X.__filtered__=X.__filtered__||S,X}}),bs(["head","last"],function(f,h){var v="take"+(h?"Right":"");mn.prototype[f]=function(){return this[v](1).value()[0]}}),bs(["initial","tail"],function(f,h){var v="drop"+(h?"":"Right");mn.prototype[f]=function(){return this.__filtered__?new mn(this):this[v](1)}}),mn.prototype.compact=function(){return this.filter(Gr)},mn.prototype.find=function(f){return this.filter(f).head()},mn.prototype.findLast=function(f){return this.reverse().find(f)},mn.prototype.invokeMap=pn(function(f,h){return typeof f=="function"?new mn(this):this.map(function(v){return Cu(v,f,h)})}),mn.prototype.reject=function(f){return this.filter(F0(Ut(f)))},mn.prototype.slice=function(f,h){f=an(f);var v=this;return v.__filtered__&&(f>0||h<0)?new mn(v):(f<0?v=v.takeRight(-f):f&&(v=v.drop(f)),h!==n&&(h=an(h),v=h<0?v.dropRight(-h):v.take(h-f)),v)},mn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},mn.prototype.toArray=function(){return this.take(J)},Ta(mn.prototype,function(f,h){var v=/^(?:filter|find|map|reject)|While$/.test(h),S=/^(?:head|last)$/.test(h),Q=$[S?"take"+(h=="last"?"Right":""):h],X=S||/^find/.test(h);!Q||($.prototype[h]=function(){var de=this.__wrapped__,_e=S?[1]:arguments,be=de instanceof mn,$e=_e[0],je=be||en(de),qe=function(dn){var wn=Q.apply($,tc([dn],_e));return S&&st?wn[0]:wn};je&&v&&typeof $e=="function"&&$e.length!=1&&(be=je=!1);var st=this.__chain__,Ct=!!this.__actions__.length,Dt=X&&!st,cn=be&&!Ct;if(!X&&je){de=cn?de:new mn(this);var Gt=f.apply(de,_e);return Gt.__actions__.push({func:O0,args:[qe],thisArg:n}),new Ts(Gt,st)}return Dt&&cn?f.apply(this,_e):(Gt=this.thru(qe),Dt?S?Gt.value()[0]:Gt.value():Gt)})}),bs(["pop","push","shift","sort","splice","unshift"],function(f){var h=n0[f],v=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",S=/^(?:pop|shift)$/.test(f);$.prototype[f]=function(){var Q=arguments;if(S&&!this.__chain__){var X=this.value();return h.apply(en(X)?X:[],Q)}return this[v](function(de){return h.apply(en(de)?de:[],Q)})}}),Ta(mn.prototype,function(f,h){var v=$[h];if(v){var S=v.name+"";Pn.call(pA,S)||(pA[S]=[]),pA[S].push({name:h,func:v})}}),pA[C0(n,E).name]=[{name:"wrapper",func:n}],mn.prototype.clone=W9,mn.prototype.reverse=$9,mn.prototype.value=j9,$.prototype.at=bR,$.prototype.chain=xR,$.prototype.commit=TR,$.prototype.next=BR,$.prototype.plant=SR,$.prototype.reverse=OR,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=LR,$.prototype.first=$.prototype.head,mu&&($.prototype[mu]=MR),$},aA=T9();tp?((tp.exports=aA)._=aA,qE._=aA):ji._=aA}).call(Cp)})(nm,nm.exports);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var W2=function(e,t){return W2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},W2(e,t)};function Ca(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");W2(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $2=function(){return $2=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$2.apply(this,arguments)};function Br(e,t,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(A){try{p(i.next(A))}catch(l){a(l)}}function c(A){try{p(i.throw(A))}catch(l){a(l)}}function p(A){A.done?s(A.value):r(A.value).then(o,c)}p((i=i.apply(e,t||[])).next())})}function fr(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(p){return function(A){return c([p,A])}}function c(p){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(A){p=[6,A],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function k0(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||t)}var Po=function(){function e(t,n,i,r){this.left=t,this.top=n,this.width=i,this.height=r}return e.prototype.add=function(t,n,i,r){return new e(this.left+t,this.top+n,this.width+i,this.height+r)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var i=Array.from(n).find(function(r){return r.width!==0});return i?new e(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),EE=function(e,t){return Po.fromClientRect(e,t.getBoundingClientRect())},dG=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Po(0,0,i,r)},yE=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((r&1023)<<10)+(s&1023)+65536):(t.push(r),n--)}else t.push(r)}return t},Ti=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,s="";++r<n;){var a=e[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===n||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},SC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var V0=0;V0<SC.length;V0++)hG[SC.charCodeAt(V0)]=V0;var OC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var K0=0;K0<OC.length;K0++)pf[OC.charCodeAt(K0)]=K0;var mG=function(e){var t=e.length*.75,n=e.length,i,r=0,s,a,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var p=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),A=Array.isArray(p)?p:new Uint8Array(p);for(i=0;i<n;i+=4)s=pf[e.charCodeAt(i)],a=pf[e.charCodeAt(i+1)],o=pf[e.charCodeAt(i+2)],c=pf[e.charCodeAt(i+3)],A[r++]=s<<2|a>>4,A[r++]=(a&15)<<4|o>>2,A[r++]=(o&3)<<6|c&63;return p},EG=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},yG=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},Op=5,t_=6+5,d3=2,gG=t_-Op,_M=65536>>Op,wG=1<<Op,h3=wG-1,_G=1024>>Op,vG=_M+_G,CG=vG,bG=32,xG=CG+bG,TG=65536>>t_,BG=1<<gG,MG=BG-1,LC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},SG=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},OG=function(e,t){var n=mG(e),i=Array.isArray(n)?yG(n):new Uint32Array(n),r=Array.isArray(n)?EG(n):new Uint16Array(n),s=24,a=LC(r,s/2,i[4]/2),o=i[5]===2?LC(r,(s+i[4])/2):SG(i,Math.ceil((s+i[4])/4));return new LG(i[0],i[1],i[2],i[3],a,o)},LG=function(){function e(t,n,i,r,s,a){this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Op],n=(n<<d3)+(t&h3),this.data[n];if(t<=65535)return n=this.index[_M+(t-55296>>Op)],n=(n<<d3)+(t&h3),this.data[n];if(t<this.highStart)return n=xG-TG+(t>>t_),n=this.index[n],n+=t>>Op&MG,n=this.index[n],n=(n<<d3)+(t&h3),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),RC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var z0=0;z0<RC.length;z0++)RG[RC.charCodeAt(z0)]=z0;var IG="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",IC=50,FG=1,vM=2,CM=3,NG=4,PG=5,FC=7,bM=8,NC=9,Sc=10,j2=11,PC=12,X2=13,UG=14,Af=15,q2=16,Y0=17,Lu=18,HG=19,UC=20,Z2=21,Ru=22,m3=23,yA=24,os=25,lf=26,uf=27,gA=28,DG=29,bp=30,GG=31,W0=32,$0=33,J2=34,ew=35,tw=36,zf=37,nw=38,C1=39,b1=40,E3=41,xM=42,QG=43,kG=[9001,65288],TM="!",gn="\xD7",j0="\xF7",iw=OG(IG),mo=[bp,tw],rw=[FG,vM,CM,PG],BM=[Sc,bM],HC=[uf,lf],VG=rw.concat(BM),DC=[nw,C1,b1,J2,ew],KG=[Af,X2],zG=function(e,t){t===void 0&&(t="strict");var n=[],i=[],r=[];return e.forEach(function(s,a){var o=iw.get(s);if(o>IC?(r.push(!0),o-=IC):r.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),n.push(q2);if(o===NG||o===j2){if(a===0)return i.push(a),n.push(bp);var c=n[a-1];return VG.indexOf(c)===-1?(i.push(i[a-1]),n.push(c)):(i.push(a),n.push(bp))}if(i.push(a),o===GG)return n.push(t==="strict"?Z2:zf);if(o===xM||o===DG)return n.push(bp);if(o===QG)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(zf):n.push(bp);n.push(o)}),[i,n,r]},y3=function(e,t,n,i){var r=i[n];if(Array.isArray(e)?e.indexOf(r)!==-1:e===r)for(var s=n;s<=i.length;){s++;var a=i[s];if(a===t)return!0;if(a!==Sc)break}if(r===Sc)for(var s=n;s>0;){s--;var o=i[s];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=n;c<=i.length;){c++;var a=i[c];if(a===t)return!0;if(a!==Sc)break}if(o!==Sc)break}return!1},GC=function(e,t){for(var n=e;n>=0;){var i=t[n];if(i===Sc)n--;else return i}return 0},YG=function(e,t,n,i,r){if(n[i]===0)return gn;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return gn;var a=s-1,o=s+1,c=t[s],p=a>=0?t[a]:0,A=t[o];if(c===vM&&A===CM)return gn;if(rw.indexOf(c)!==-1)return TM;if(rw.indexOf(A)!==-1||BM.indexOf(A)!==-1)return gn;if(GC(s,t)===bM)return j0;if(iw.get(e[s])===j2||(c===W0||c===$0)&&iw.get(e[o])===j2||c===FC||A===FC||c===NC||[Sc,X2,Af].indexOf(c)===-1&&A===NC||[Y0,Lu,HG,yA,gA].indexOf(A)!==-1||GC(s,t)===Ru||y3(m3,Ru,s,t)||y3([Y0,Lu],Z2,s,t)||y3(PC,PC,s,t))return gn;if(c===Sc)return j0;if(c===m3||A===m3)return gn;if(A===q2||c===q2)return j0;if([X2,Af,Z2].indexOf(A)!==-1||c===UG||p===tw&&KG.indexOf(c)!==-1||c===gA&&A===tw||A===UC||mo.indexOf(A)!==-1&&c===os||mo.indexOf(c)!==-1&&A===os||c===uf&&[zf,W0,$0].indexOf(A)!==-1||[zf,W0,$0].indexOf(c)!==-1&&A===lf||mo.indexOf(c)!==-1&&HC.indexOf(A)!==-1||HC.indexOf(c)!==-1&&mo.indexOf(A)!==-1||[uf,lf].indexOf(c)!==-1&&(A===os||[Ru,Af].indexOf(A)!==-1&&t[o+1]===os)||[Ru,Af].indexOf(c)!==-1&&A===os||c===os&&[os,gA,yA].indexOf(A)!==-1)return gn;if([os,gA,yA,Y0,Lu].indexOf(A)!==-1)for(var l=s;l>=0;){var u=t[l];if(u===os)return gn;if([gA,yA].indexOf(u)!==-1)l--;else break}if([uf,lf].indexOf(A)!==-1)for(var l=[Y0,Lu].indexOf(c)!==-1?a:s;l>=0;){var u=t[l];if(u===os)return gn;if([gA,yA].indexOf(u)!==-1)l--;else break}if(nw===c&&[nw,C1,J2,ew].indexOf(A)!==-1||[C1,J2].indexOf(c)!==-1&&[C1,b1].indexOf(A)!==-1||[b1,ew].indexOf(c)!==-1&&A===b1||DC.indexOf(c)!==-1&&[UC,lf].indexOf(A)!==-1||DC.indexOf(A)!==-1&&c===uf||mo.indexOf(c)!==-1&&mo.indexOf(A)!==-1||c===yA&&mo.indexOf(A)!==-1||mo.concat(os).indexOf(c)!==-1&&A===Ru&&kG.indexOf(e[o])===-1||mo.concat(os).indexOf(A)!==-1&&c===Lu)return gn;if(c===E3&&A===E3){for(var d=n[s],m=1;d>0&&(d--,t[d]===E3);)m++;if(m%2!==0)return gn}return c===W0&&A===$0?gn:j0},WG=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=zG(e,t.lineBreak),i=n[0],r=n[1],s=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(r=r.map(function(o){return[os,bp,xM].indexOf(o)!==-1?zf:o}));var a=t.wordBreak==="keep-all"?s.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[i,r,a]},$G=function(){function e(t,n,i,r){this.codePoints=t,this.required=n===TM,this.start=i,this.end=r}return e.prototype.slice=function(){return Ti.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),jG=function(e,t){var n=yE(e),i=WG(n,t),r=i[0],s=i[1],a=i[2],o=n.length,c=0,p=0;return{next:function(){if(p>=o)return{done:!0,value:null};for(var A=gn;p<o&&(A=YG(n,s,r,++p,a))===gn;);if(A!==gn||p===o){var l=new $G(n,A,c,p);return c=p,{value:l,done:!1}}return{done:!0,value:null}}}},XG=1<<0,qG=1<<1,Gd=1<<2,QC=1<<3,im=10,kC=47,xf=92,ZG=9,JG=32,X0=34,Iu=61,eQ=35,tQ=36,nQ=37,q0=39,Z0=40,Fu=41,iQ=95,zr=45,rQ=33,sQ=60,aQ=62,oQ=64,cQ=91,pQ=93,AQ=61,lQ=123,J0=63,uQ=125,VC=124,fQ=126,dQ=128,KC=65533,g3=42,Bp=43,hQ=44,mQ=58,EQ=59,Yf=46,yQ=0,gQ=8,wQ=11,_Q=14,vQ=31,CQ=127,Sa=-1,MM=48,SM=97,OM=101,bQ=102,xQ=117,TQ=122,LM=65,RM=69,IM=70,BQ=85,MQ=90,hr=function(e){return e>=MM&&e<=57},SQ=function(e){return e>=55296&&e<=57343},wA=function(e){return hr(e)||e>=LM&&e<=IM||e>=SM&&e<=bQ},OQ=function(e){return e>=SM&&e<=TQ},LQ=function(e){return e>=LM&&e<=MQ},RQ=function(e){return OQ(e)||LQ(e)},IQ=function(e){return e>=dQ},eh=function(e){return e===im||e===ZG||e===JG},rm=function(e){return RQ(e)||IQ(e)||e===iQ},zC=function(e){return rm(e)||hr(e)||e===zr},FQ=function(e){return e>=yQ&&e<=gQ||e===wQ||e>=_Q&&e<=vQ||e===CQ},xc=function(e,t){return e!==xf?!1:t!==im},th=function(e,t,n){return e===zr?rm(t)||xc(t,n):rm(e)?!0:!!(e===xf&&xc(e,t))},w3=function(e,t,n){return e===Bp||e===zr?hr(t)?!0:t===Yf&&hr(n):hr(e===Yf?t:e)},NQ=function(e){var t=0,n=1;(e[t]===Bp||e[t]===zr)&&(e[t]===zr&&(n=-1),t++);for(var i=[];hr(e[t]);)i.push(e[t++]);var r=i.length?parseInt(Ti.apply(void 0,i),10):0;e[t]===Yf&&t++;for(var s=[];hr(e[t]);)s.push(e[t++]);var a=s.length,o=a?parseInt(Ti.apply(void 0,s),10):0;(e[t]===RM||e[t]===OM)&&t++;var c=1;(e[t]===Bp||e[t]===zr)&&(e[t]===zr&&(c=-1),t++);for(var p=[];hr(e[t]);)p.push(e[t++]);var A=p.length?parseInt(Ti.apply(void 0,p),10):0;return n*(r+o*Math.pow(10,-a))*Math.pow(10,c*A)},PQ={type:2},UQ={type:3},HQ={type:4},DQ={type:13},GQ={type:8},QQ={type:21},kQ={type:9},VQ={type:10},KQ={type:11},zQ={type:12},YQ={type:14},nh={type:23},WQ={type:1},$Q={type:25},jQ={type:24},XQ={type:26},qQ={type:27},ZQ={type:28},JQ={type:29},ek={type:31},sw={type:32},FM=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(yE(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==sw;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case X0:return this.consumeStringToken(X0);case eQ:var n=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(zC(n)||xc(i,r)){var s=th(n,i,r)?qG:XG,a=this.consumeName();return{type:5,value:a,flags:s}}break;case tQ:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),DQ;break;case q0:return this.consumeStringToken(q0);case Z0:return PQ;case Fu:return UQ;case g3:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),YQ;break;case Bp:if(w3(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case hQ:return HQ;case zr:var o=t,c=this.peekCodePoint(0),p=this.peekCodePoint(1);if(w3(o,c,p))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(th(o,c,p))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===zr&&p===aQ)return this.consumeCodePoint(),this.consumeCodePoint(),jQ;break;case Yf:if(w3(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case kC:if(this.peekCodePoint(0)===g3)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===g3&&(A=this.consumeCodePoint(),A===kC))return this.consumeToken();if(A===Sa)return this.consumeToken()}break;case mQ:return XQ;case EQ:return qQ;case sQ:if(this.peekCodePoint(0)===rQ&&this.peekCodePoint(1)===zr&&this.peekCodePoint(2)===zr)return this.consumeCodePoint(),this.consumeCodePoint(),$Q;break;case oQ:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(th(l,u,d)){var a=this.consumeName();return{type:7,value:a}}break;case cQ:return ZQ;case xf:if(xc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case pQ:return JQ;case AQ:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),GQ;break;case lQ:return KQ;case uQ:return zQ;case xQ:case BQ:var m=this.peekCodePoint(0),y=this.peekCodePoint(1);return m===Bp&&(wA(y)||y===J0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case VC:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),kQ;if(this.peekCodePoint(0)===VC)return this.consumeCodePoint(),QQ;break;case fQ:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),VQ;break;case Sa:return sw}return eh(t)?(this.consumeWhiteSpace(),ek):hr(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):rm(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ti(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();wA(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var i=!1;n===J0&&t.length<6;)t.push(n),n=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(Ti.apply(void 0,t.map(function(c){return c===J0?MM:c})),16),s=parseInt(Ti.apply(void 0,t.map(function(c){return c===J0?IM:c})),16);return{type:30,start:r,end:s}}var a=parseInt(Ti.apply(void 0,t),16);if(this.peekCodePoint(0)===zr&&wA(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];wA(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var s=parseInt(Ti.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Z0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Z0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Sa)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===q0||n===X0){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Sa||this.peekCodePoint(0)===Fu)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),nh)}for(;;){var r=this.consumeCodePoint();if(r===Sa||r===Fu)return{type:22,value:Ti.apply(void 0,t)};if(eh(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Sa||this.peekCodePoint(0)===Fu?(this.consumeCodePoint(),{type:22,value:Ti.apply(void 0,t)}):(this.consumeBadUrlRemnants(),nh);if(r===X0||r===q0||r===Z0||FQ(r))return this.consumeBadUrlRemnants(),nh;if(r===xf)if(xc(r,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),nh;else t.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;eh(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Fu||t===Sa)return;xc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,i="";t>0;){var r=Math.min(n,t);i+=Ti.apply(void 0,this._value.splice(0,r)),t-=r}return this._value.shift(),i},e.prototype.consumeStringToken=function(t){var n="",i=0;do{var r=this._value[i];if(r===Sa||r===void 0||r===t)return n+=this.consumeStringSlice(i),{type:0,value:n};if(r===im)return this._value.splice(0,i),WQ;if(r===xf){var s=this._value[i+1];s!==Sa&&s!==void 0&&(s===im?(n+=this.consumeStringSlice(i),i=-1,this._value.shift()):xc(r,s)&&(n+=this.consumeStringSlice(i),n+=Ti(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Gd,i=this.peekCodePoint(0);for((i===Bp||i===zr)&&t.push(this.consumeCodePoint());hr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===Yf&&hr(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=QC;hr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===RM||i===OM)&&((r===Bp||r===zr)&&hr(s)||hr(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=QC;hr(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[NQ(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],i=t[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(th(r,s,a)){var o=this.consumeName();return{type:15,number:n,flags:i,unit:o}}return r===nQ?(this.consumeCodePoint(),{type:16,number:n,flags:i}):{type:17,number:n,flags:i}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(wA(t)){for(var n=Ti(t);wA(this.peekCodePoint(0))&&n.length<6;)n+=Ti(this.consumeCodePoint());eh(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(n,16);return i===0||SQ(i)||i>1114111?KC:i}return t===Sa?KC:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(zC(n))t+=Ti(n);else if(xc(n,this.peekCodePoint(0)))t+=Ti(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),NM=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new FM;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},i=this.consumeToken();;){if(i.type===32||nk(i,t))return n;this.reconsumeToken(i),n.values.push(this.consumeComponentValue()),i=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return n;this.reconsumeToken(i),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?sw:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Qd=function(e){return e.type===15},tu=function(e){return e.type===17},Kn=function(e){return e.type===20},tk=function(e){return e.type===0},aw=function(e,t){return Kn(e)&&e.value===t},PM=function(e){return e.type!==31},Ol=function(e){return e.type!==31&&e.type!==4},to=function(e){var t=[],n=[];return e.forEach(function(i){if(i.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}i.type!==31&&n.push(i)}),n.length&&t.push(n),t},nk=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},kc=function(e){return e.type===17||e.type===15},Oi=function(e){return e.type===16||kc(e)},UM=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ir={type:17,number:0,flags:Gd},n_={type:16,number:50,flags:Gd},Oc={type:16,number:100,flags:Gd},ff=function(e,t,n){var i=e[0],r=e[1];return[Zn(i,t),Zn(typeof r<"u"?r:i,n)]},Zn=function(e,t){if(e.type===16)return e.number/100*t;if(Qd(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},HM="deg",DM="grad",GM="rad",QM="turn",gE={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case HM:return Math.PI*t.number/180;case DM:return Math.PI/200*t.number;case GM:return t.number;case QM:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},kM=function(e){return e.type===15&&(e.unit===HM||e.unit===DM||e.unit===GM||e.unit===QM)},VM=function(e){var t=e.filter(Kn).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ir,ir];case"to top":case"bottom":return Qs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ir,Oc];case"to right":case"left":return Qs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Oc,Oc];case"to bottom":case"top":return Qs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Oc,ir];case"to left":case"right":return Qs(270)}return 0},Qs=function(e){return Math.PI*e/180},Ic={name:"color",parse:function(e,t){if(t.type===18){var n=ik[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var i=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3);return Lc(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(t.value.length===4){var i=t.value.substring(0,1),r=t.value.substring(1,2),s=t.value.substring(2,3),a=t.value.substring(3,4);return Lc(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(t.value.length===6){var i=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6);return Lc(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(t.value.length===8){var i=t.value.substring(0,2),r=t.value.substring(2,4),s=t.value.substring(4,6),a=t.value.substring(6,8);return Lc(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(t.type===20){var o=Io[t.value.toUpperCase()];if(typeof o<"u")return o}return Io.TRANSPARENT}},Fc=function(e){return(255&e)===0},zi=function(e){var t=255&e,n=255&e>>8,i=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+i+","+n+","+t/255+")":"rgb("+r+","+i+","+n+")"},Lc=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(i*255)<<0)>>>0},YC=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},WC=function(e,t){var n=t.filter(Ol);if(n.length===3){var i=n.map(YC),r=i[0],s=i[1],a=i[2];return Lc(r,s,a,1)}if(n.length===4){var o=n.map(YC),r=o[0],s=o[1],a=o[2],c=o[3];return Lc(r,s,a,c)}return 0};function _3(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var $C=function(e,t){var n=t.filter(Ol),i=n[0],r=n[1],s=n[2],a=n[3],o=(i.type===17?Qs(i.number):gE.parse(e,i))/(Math.PI*2),c=Oi(r)?r.number/100:0,p=Oi(s)?s.number/100:0,A=typeof a<"u"&&Oi(a)?Zn(a,1):1;if(c===0)return Lc(p*255,p*255,p*255,1);var l=p<=.5?p*(c+1):p+c-p*c,u=p*2-l,d=_3(u,l,o+1/3),m=_3(u,l,o),y=_3(u,l,o-1/3);return Lc(d*255,m*255,y*255,A)},ik={hsl:$C,hsla:$C,rgb:WC,rgba:WC},Tf=function(e,t){return Ic.parse(e,NM.create(t).parseComponentValue())},Io={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},rk={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Kn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sk={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wE=function(e,t){var n=Ic.parse(e,t[0]),i=t[1];return i&&Oi(i)?{color:n,stop:i}:{color:n,stop:null}},jC=function(e,t){var n=e[0],i=e[e.length-1];n.stop===null&&(n.stop=ir),i.stop===null&&(i.stop=Oc);for(var r=[],s=0,a=0;a<e.length;a++){var o=e[a].stop;if(o!==null){var c=Zn(o,t);c>s?r.push(c):r.push(s),s=c}else r.push(null)}for(var p=null,a=0;a<r.length;a++){var A=r[a];if(A===null)p===null&&(p=a);else if(p!==null){for(var l=a-p,u=r[p-1],d=(A-u)/(l+1),m=1;m<=l;m++)r[p+m-1]=d*m;p=null}}return e.map(function(y,g){var E=y.color;return{color:E,stop:Math.max(Math.min(1,r[g]/t),0)}})},ak=function(e,t,n){var i=t/2,r=n/2,s=Zn(e[0],t)-i,a=r-Zn(e[1],n);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},ok=function(e,t,n){var i=typeof e=="number"?e:ak(e,t,n),r=Math.abs(t*Math.sin(i))+Math.abs(n*Math.cos(i)),s=t/2,a=n/2,o=r/2,c=Math.sin(i-Math.PI/2)*o,p=Math.cos(i-Math.PI/2)*o;return[r,s-p,s+p,a-c,a+c]},pa=function(e,t){return Math.sqrt(e*e+t*t)},XC=function(e,t,n,i,r){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(a,o){var c=o[0],p=o[1],A=pa(n-c,i-p);return(r?A<a.optimumDistance:A>a.optimumDistance)?{optimumCorner:o,optimumDistance:A}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},ck=function(e,t,n,i,r){var s=0,a=0;switch(e.size){case 0:e.shape===0?s=a=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-i)),a=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(e.shape===0)s=a=Math.min(pa(t,n),pa(t,n-r),pa(t-i,n),pa(t-i,n-r));else if(e.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)),c=XC(i,r,t,n,!0),p=c[0],A=c[1];s=pa(p-t,(A-n)/o),a=o*s}break;case 1:e.shape===0?s=a=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-i)),a=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(e.shape===0)s=a=Math.max(pa(t,n),pa(t,n-r),pa(t-i,n),pa(t-i,n-r));else if(e.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i)),l=XC(i,r,t,n,!1),p=l[0],A=l[1];s=pa(p-t,(A-n)/o),a=o*s}break}return Array.isArray(e.size)&&(s=Zn(e.size[0],i),a=e.size.length===2?Zn(e.size[1],r):s),[s,a]},pk=function(e,t){var n=Qs(180),i=[];return to(t).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){n=VM(r);return}else if(kM(a)){n=gE.parse(e,a);return}}var o=wE(e,r);i.push(o)}),{angle:n,stops:i,type:1}},ih=function(e,t){var n=Qs(180),i=[];return to(t).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=VM(r);return}else if(kM(a)){n=(gE.parse(e,a)+Qs(270))%Qs(360);return}}var o=wE(e,r);i.push(o)}),{angle:n,stops:i,type:1}},Ak=function(e,t){var n=Qs(180),i=[],r=1,s=0,a=3,o=[];return to(t).forEach(function(c,p){var A=c[0];if(p===0){if(Kn(A)&&A.value==="linear"){r=1;return}else if(Kn(A)&&A.value==="radial"){r=2;return}}if(A.type===18){if(A.name==="from"){var l=Ic.parse(e,A.values[0]);i.push({stop:ir,color:l})}else if(A.name==="to"){var l=Ic.parse(e,A.values[0]);i.push({stop:Oc,color:l})}else if(A.name==="color-stop"){var u=A.values.filter(Ol);if(u.length===2){var l=Ic.parse(e,u[1]),d=u[0];tu(d)&&i.push({stop:{type:16,number:d.number*100,flags:d.flags},color:l})}}}}),r===1?{angle:(n+Qs(180))%Qs(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},KM="closest-side",zM="farthest-side",YM="closest-corner",WM="farthest-corner",$M="circle",jM="ellipse",XM="cover",qM="contain",lk=function(e,t){var n=0,i=3,r=[],s=[];return to(t).forEach(function(a,o){var c=!0;if(o===0){var p=!1;c=a.reduce(function(l,u){if(p)if(Kn(u))switch(u.value){case"center":return s.push(n_),l;case"top":case"left":return s.push(ir),l;case"right":case"bottom":return s.push(Oc),l}else(Oi(u)||kc(u))&&s.push(u);else if(Kn(u))switch(u.value){case $M:return n=0,!1;case jM:return n=1,!1;case"at":return p=!0,!1;case KM:return i=0,!1;case XM:case zM:return i=1,!1;case qM:case YM:return i=2,!1;case WM:return i=3,!1}else if(kc(u)||Oi(u))return Array.isArray(i)||(i=[]),i.push(u),!1;return l},c)}if(c){var A=wE(e,a);r.push(A)}}),{size:i,shape:n,stops:r,position:s,type:2}},rh=function(e,t){var n=0,i=3,r=[],s=[];return to(t).forEach(function(a,o){var c=!0;if(o===0?c=a.reduce(function(A,l){if(Kn(l))switch(l.value){case"center":return s.push(n_),!1;case"top":case"left":return s.push(ir),!1;case"right":case"bottom":return s.push(Oc),!1}else if(Oi(l)||kc(l))return s.push(l),!1;return A},c):o===1&&(c=a.reduce(function(A,l){if(Kn(l))switch(l.value){case $M:return n=0,!1;case jM:return n=1,!1;case qM:case KM:return i=0,!1;case zM:return i=1,!1;case YM:return i=2,!1;case XM:case WM:return i=3,!1}else if(kc(l)||Oi(l))return Array.isArray(i)||(i=[]),i.push(l),!1;return A},c)),c){var p=wE(e,a);r.push(p)}}),{size:i,shape:n,stops:r,position:s,type:2}},uk=function(e){return e.type===1},fk=function(e){return e.type===2},i_={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var i=ZM[t.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function dk(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!ZM[e.name])}var ZM={"linear-gradient":pk,"-moz-linear-gradient":ih,"-ms-linear-gradient":ih,"-o-linear-gradient":ih,"-webkit-linear-gradient":ih,"radial-gradient":lk,"-moz-radial-gradient":rh,"-ms-radial-gradient":rh,"-o-radial-gradient":rh,"-webkit-radial-gradient":rh,"-webkit-gradient":Ak},hk={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(i){return Ol(i)&&dk(i)}).map(function(i){return i_.parse(e,i)})}},mk={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Kn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ek={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return to(t).map(function(n){return n.filter(Oi)}).map(UM)}},yk={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return to(t).map(function(n){return n.filter(Kn).map(function(i){return i.value}).join(" ")}).map(gk)}},gk=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},wl;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(wl||(wl={}));var wk={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return to(t).map(function(n){return n.filter(_k)})}},_k=function(e){return Kn(e)||Oi(e)},_E=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vk=_E("top"),Ck=_E("right"),bk=_E("bottom"),xk=_E("left"),vE=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return UM(n.filter(Oi))}}},Tk=vE("top-left"),Bk=vE("top-right"),Mk=vE("bottom-right"),Sk=vE("bottom-left"),CE=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ok=CE("top"),Lk=CE("right"),Rk=CE("bottom"),Ik=CE("left"),bE=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Qd(n)?n.number:0}}},Fk=bE("top"),Nk=bE("right"),Pk=bE("bottom"),Uk=bE("left"),Hk={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dk={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Gk={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Kn).reduce(function(n,i){return n|Qk(i.value)},0)}},Qk=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kk={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Vk={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},sm;(function(e){e.NORMAL="normal",e.STRICT="strict"})(sm||(sm={}));var Kk={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return sm.STRICT;case"normal":default:return sm.NORMAL}}},zk={name:"line-height",initialValue:"normal",prefix:!1,type:4},qC=function(e,t){return Kn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Oi(e)?Zn(e,t):t},Yk={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:i_.parse(e,t)}},Wk={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},ow={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},xE=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},$k=xE("top"),jk=xE("right"),Xk=xE("bottom"),qk=xE("left"),Zk={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Kn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Jk={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},TE=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},eV=TE("top"),tV=TE("right"),nV=TE("bottom"),iV=TE("left"),rV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},sV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},aV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&aw(t[0],"none")?[]:to(t).map(function(n){for(var i={color:Io.TRANSPARENT,offsetX:ir,offsetY:ir,blur:ir},r=0,s=0;s<n.length;s++){var a=n[s];kc(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=Ic.parse(e,a)}return i})}},oV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},cV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=lV[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},pV=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},AV=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=t[0],i=t[1];t[2],t[3];var r=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],o=t[13];return t[14],t[15],t.length===16?[n,i,r,s,a,o]:null},lV={matrix:pV,matrix3d:AV},ZC={type:16,number:50,flags:Gd},uV=[ZC,ZC],fV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Oi);return n.length!==2?uV:[n[0],n[1]]}},dV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Bf;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Bf||(Bf={}));var hV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Bf.BREAK_ALL;case"keep-all":return Bf.KEEP_ALL;case"normal":default:return Bf.NORMAL}}},mV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(tu(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},JM={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},EV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return tu(t)?t.number:1}},yV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Kn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},wV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],i=[];return t.forEach(function(r){switch(r.type){case 20:case 0:n.push(r.value);break;case 17:n.push(r.number.toString());break;case 4:i.push(n.join(" ")),n.length=0;break}}),n.length&&i.push(n.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},_V={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vV={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(tu(t))return t.number;if(Kn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},CV={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Kn).map(function(n){return n.value})}},bV={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Di=function(e,t){return(e&t)!==0},xV={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},TV={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var i=[],r=t.filter(PM),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var c=o&&tu(o)?o.number:1;i.push({counter:a.value,increment:c})}}return i}},BV={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],i=t.filter(PM),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(Kn(s)&&s.value!=="none"){var o=a&&tu(a)?a.number:0;n.push({counter:s.value,reset:o})}}return n}},MV={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Qd).map(function(n){return JM.parse(e,n)})}},SV={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var i=[],r=t.filter(tk);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},JC=function(e,t,n){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?n?i.open:i.close:""},OV={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&aw(t[0],"none")?[]:to(t).map(function(n){for(var i={color:255,offsetX:ir,offsetY:ir,blur:ir,spread:ir,inset:!1},r=0,s=0;s<n.length;s++){var a=n[s];aw(a,"inset")?i.inset=!0:kc(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=Ic.parse(e,a)}return i})}},LV={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],i=[];return t.filter(Kn).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),n.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},RV={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},IV={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Qd(t)?t.number:0}},FV=function(){function e(t,n){var i,r;this.animationDuration=ft(t,MV,n.animationDuration),this.backgroundClip=ft(t,rk,n.backgroundClip),this.backgroundColor=ft(t,sk,n.backgroundColor),this.backgroundImage=ft(t,hk,n.backgroundImage),this.backgroundOrigin=ft(t,mk,n.backgroundOrigin),this.backgroundPosition=ft(t,Ek,n.backgroundPosition),this.backgroundRepeat=ft(t,yk,n.backgroundRepeat),this.backgroundSize=ft(t,wk,n.backgroundSize),this.borderTopColor=ft(t,vk,n.borderTopColor),this.borderRightColor=ft(t,Ck,n.borderRightColor),this.borderBottomColor=ft(t,bk,n.borderBottomColor),this.borderLeftColor=ft(t,xk,n.borderLeftColor),this.borderTopLeftRadius=ft(t,Tk,n.borderTopLeftRadius),this.borderTopRightRadius=ft(t,Bk,n.borderTopRightRadius),this.borderBottomRightRadius=ft(t,Mk,n.borderBottomRightRadius),this.borderBottomLeftRadius=ft(t,Sk,n.borderBottomLeftRadius),this.borderTopStyle=ft(t,Ok,n.borderTopStyle),this.borderRightStyle=ft(t,Lk,n.borderRightStyle),this.borderBottomStyle=ft(t,Rk,n.borderBottomStyle),this.borderLeftStyle=ft(t,Ik,n.borderLeftStyle),this.borderTopWidth=ft(t,Fk,n.borderTopWidth),this.borderRightWidth=ft(t,Nk,n.borderRightWidth),this.borderBottomWidth=ft(t,Pk,n.borderBottomWidth),this.borderLeftWidth=ft(t,Uk,n.borderLeftWidth),this.boxShadow=ft(t,OV,n.boxShadow),this.color=ft(t,Hk,n.color),this.direction=ft(t,Dk,n.direction),this.display=ft(t,Gk,n.display),this.float=ft(t,kk,n.cssFloat),this.fontFamily=ft(t,wV,n.fontFamily),this.fontSize=ft(t,_V,n.fontSize),this.fontStyle=ft(t,bV,n.fontStyle),this.fontVariant=ft(t,CV,n.fontVariant),this.fontWeight=ft(t,vV,n.fontWeight),this.letterSpacing=ft(t,Vk,n.letterSpacing),this.lineBreak=ft(t,Kk,n.lineBreak),this.lineHeight=ft(t,zk,n.lineHeight),this.listStyleImage=ft(t,Yk,n.listStyleImage),this.listStylePosition=ft(t,Wk,n.listStylePosition),this.listStyleType=ft(t,ow,n.listStyleType),this.marginTop=ft(t,$k,n.marginTop),this.marginRight=ft(t,jk,n.marginRight),this.marginBottom=ft(t,Xk,n.marginBottom),this.marginLeft=ft(t,qk,n.marginLeft),this.opacity=ft(t,EV,n.opacity);var s=ft(t,Zk,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ft(t,Jk,n.overflowWrap),this.paddingTop=ft(t,eV,n.paddingTop),this.paddingRight=ft(t,tV,n.paddingRight),this.paddingBottom=ft(t,nV,n.paddingBottom),this.paddingLeft=ft(t,iV,n.paddingLeft),this.paintOrder=ft(t,LV,n.paintOrder),this.position=ft(t,sV,n.position),this.textAlign=ft(t,rV,n.textAlign),this.textDecorationColor=ft(t,yV,(i=n.textDecorationColor)!==null&&i!==void 0?i:n.color),this.textDecorationLine=ft(t,gV,(r=n.textDecorationLine)!==null&&r!==void 0?r:n.textDecoration),this.textShadow=ft(t,aV,n.textShadow),this.textTransform=ft(t,oV,n.textTransform),this.transform=ft(t,cV,n.transform),this.transformOrigin=ft(t,fV,n.transformOrigin),this.visibility=ft(t,dV,n.visibility),this.webkitTextStrokeColor=ft(t,RV,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ft(t,IV,n.webkitTextStrokeWidth),this.wordBreak=ft(t,hV,n.wordBreak),this.zIndex=ft(t,mV,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Fc(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Di(this.display,4)||Di(this.display,33554432)||Di(this.display,268435456)||Di(this.display,536870912)||Di(this.display,67108864)||Di(this.display,134217728)},e}(),NV=function(){function e(t,n){this.content=ft(t,xV,n.content),this.quotes=ft(t,SV,n.quotes)}return e}(),eb=function(){function e(t,n){this.counterIncrement=ft(t,TV,n.counterIncrement),this.counterReset=ft(t,BV,n.counterReset)}return e}(),ft=function(e,t,n){var i=new FM,r=n!==null&&typeof n<"u"?n.toString():t.initialValue;i.write(r);var s=new NM(i.read());switch(t.type){case 2:var a=s.parseComponentValue();return t.parse(e,Kn(a)?a.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return gE.parse(e,s.parseComponentValue());case"color":return Ic.parse(e,s.parseComponentValue());case"image":return i_.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return kc(o)?o:ir;case"length-percentage":var c=s.parseComponentValue();return Oi(c)?c:ir;case"time":return JM.parse(e,s.parseComponentValue())}break}},PV="data-html2canvas-debug",UV=function(e){var t=e.getAttribute(PV);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},cw=function(e,t){var n=UV(e);return n===1||t===n},no=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,cw(n,3))debugger;this.styles=new FV(t,window.getComputedStyle(n,null)),lw(n)&&(this.styles.animationDuration.some(function(i){return i>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=EE(this.context,n),cw(n,4)&&(this.flags|=16)}return e}(),HV="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",df=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sh=0;sh<tb.length;sh++)df[tb.charCodeAt(sh)]=sh;var DV=function(e){var t=e.length*.75,n=e.length,i,r=0,s,a,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var p=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),A=Array.isArray(p)?p:new Uint8Array(p);for(i=0;i<n;i+=4)s=df[e.charCodeAt(i)],a=df[e.charCodeAt(i+1)],o=df[e.charCodeAt(i+2)],c=df[e.charCodeAt(i+3)],A[r++]=s<<2|a>>4,A[r++]=(a&15)<<4|o>>2,A[r++]=(o&3)<<6|c&63;return p},GV=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},QV=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},Lp=5,r_=6+5,v3=2,kV=r_-Lp,e8=65536>>Lp,VV=1<<Lp,C3=VV-1,KV=1024>>Lp,zV=e8+KV,YV=zV,WV=32,$V=YV+WV,jV=65536>>r_,XV=1<<kV,qV=XV-1,nb=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},ZV=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},JV=function(e,t){var n=DV(e),i=Array.isArray(n)?QV(n):new Uint32Array(n),r=Array.isArray(n)?GV(n):new Uint16Array(n),s=24,a=nb(r,s/2,i[4]/2),o=i[5]===2?nb(r,(s+i[4])/2):ZV(i,Math.ceil((s+i[4])/4));return new eK(i[0],i[1],i[2],i[3],a,o)},eK=function(){function e(t,n,i,r,s,a){this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Lp],n=(n<<v3)+(t&C3),this.data[n];if(t<=65535)return n=this.index[e8+(t-55296>>Lp)],n=(n<<v3)+(t&C3),this.data[n];if(t<this.highStart)return n=$V-jV+(t>>r_),n=this.index[n],n+=t>>Lp&qV,n=this.index[n],n=(n<<v3)+(t&C3),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ah=0;ah<ib.length;ah++)tK[ib.charCodeAt(ah)]=ah;var nK=1,b3=2,x3=3,rb=4,sb=5,iK=7,ab=8,T3=9,B3=10,ob=11,cb=12,pb=13,Ab=14,M3=15,rK=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((r&1023)<<10)+(s&1023)+65536):(t.push(r),n--)}else t.push(r)}return t},sK=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,s="";++r<n;){var a=e[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===n||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},aK=JV(HV),Us="\xD7",S3="\xF7",oK=function(e){return aK.get(e)},cK=function(e,t,n){var i=n-2,r=t[i],s=t[n-1],a=t[n];if(s===b3&&a===x3)return Us;if(s===b3||s===x3||s===rb||a===b3||a===x3||a===rb)return S3;if(s===ab&&[ab,T3,ob,cb].indexOf(a)!==-1||(s===ob||s===T3)&&(a===T3||a===B3)||(s===cb||s===B3)&&a===B3||a===pb||a===sb||a===iK||s===nK)return Us;if(s===pb&&a===Ab){for(;r===sb;)r=t[--i];if(r===Ab)return Us}if(s===M3&&a===M3){for(var o=0;r===M3;)o++,r=t[--i];if(o%2===0)return Us}return S3},pK=function(e){var t=rK(e),n=t.length,i=0,r=0,s=t.map(oK);return{next:function(){if(i>=n)return{done:!0,value:null};for(var a=Us;i<n&&(a=cK(t,s,++i))===Us;);if(a!==Us||i===n){var o=sK.apply(null,t.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},AK=function(e){for(var t=pK(e),n=[],i;!(i=t.next()).done;)i.value&&n.push(i.value.slice());return n},lK=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var i=e.createElement("boundtest");i.style.height=t+"px",i.style.display="block",e.body.appendChild(i),n.selectNode(i);var r=n.getBoundingClientRect(),s=Math.round(r.height);if(e.body.removeChild(i),s===t)return!0}}return!1},uK=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=t.firstChild,r=yE(i.data).map(function(c){return Ti(c)}),s=0,a={},o=r.every(function(c,p){n.setStart(i,s),n.setEnd(i,s+c.length);var A=n.getBoundingClientRect();s+=c.length;var l=A.x>a.x||A.y>a.y;return a=A,p===0?!0:l});return e.body.removeChild(t),o},fK=function(){return typeof new Image().crossOrigin<"u"},dK=function(){return typeof new XMLHttpRequest().responseType=="string"},hK=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},lb=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},mK=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,n,n);var r=new Image,s=t.toDataURL();r.src=s;var a=pw(n,n,0,0,r);return i.fillStyle="red",i.fillRect(0,0,n,n),ub(a).then(function(o){i.drawImage(o,0,0);var c=i.getImageData(0,0,n,n).data;i.fillStyle="red",i.fillRect(0,0,n,n);var p=e.createElement("div");return p.style.backgroundImage="url("+s+")",p.style.height=n+"px",lb(c)?ub(pw(n,n,0,0,p)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),lb(i.getImageData(0,0,n,n).data)}).catch(function(){return!1})},pw=function(e,t,n,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},ub=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},er={get SUPPORT_RANGE_BOUNDS(){var e=lK(document);return Object.defineProperty(er,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=er.SUPPORT_RANGE_BOUNDS&&uK(document);return Object.defineProperty(er,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=hK(document);return Object.defineProperty(er,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?mK(document):Promise.resolve(!1);return Object.defineProperty(er,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=fK();return Object.defineProperty(er,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=dK();return Object.defineProperty(er,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(er,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(er,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Mf=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),EK=function(e,t,n,i){var r=wK(t,n),s=[],a=0;return r.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(er.SUPPORT_RANGE_BOUNDS){var c=fb(i,a,o.length).getClientRects();if(c.length>1){var p=s_(o),A=0;p.forEach(function(u){s.push(new Mf(u,Po.fromDOMRectList(e,fb(i,A+a,u.length).getClientRects()))),A+=u.length})}else s.push(new Mf(o,Po.fromDOMRectList(e,c)))}else{var l=i.splitText(o.length);s.push(new Mf(o,yK(e,i))),i=l}else er.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},yK=function(e,t){var n=t.ownerDocument;if(n){var i=n.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(i,t);var s=EE(e,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return Po.EMPTY},fb=function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(e,t),r.setEnd(e,t+n),r},s_=function(e){if(er.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return AK(e)},gK=function(e,t){if(er.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(i){return i.segment})}return vK(e,t)},wK=function(e,t){return t.letterSpacing!==0?s_(e):gK(e,t)},_K=[32,160,4961,65792,65793,4153,4241],vK=function(e,t){for(var n=jG(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=yE(a),c="";o.forEach(function(p){_K.indexOf(p)===-1?c+=Ti(p):(c.length&&i.push(c),i.push(Ti(p)),c="")}),c.length&&i.push(c)}};!(r=n.next()).done;)s();return i},CK=function(){function e(t,n,i){this.text=bK(n.data,i.textTransform),this.textBounds=EK(t,this.text,i,n)}return e}(),bK=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(xK,TK);case 2:return e.toUpperCase();default:return e}},xK=/(^|\s|:|-|\(|\))([a-z])/g,TK=function(e,t,n){return e.length>0?t+n.toUpperCase():e},t8=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return t}(no),n8=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return t}(no),i8=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this,s=new XMLSerializer,a=EE(n,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t}(no),r8=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.value=i.value,r}return t}(no),Aw=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return t}(no),BK=[{type:15,flags:0,unit:"px",number:3}],MK=[{type:16,flags:0,number:50}],SK=function(e){return e.width>e.height?new Po(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Po(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},OK=function(e){var t=e.type===LK?new Array(e.value.length+1).join("\u2022"):e.value;return t.length===0?e.placeholder||"":t},am="checkbox",om="radio",LK="password",db=707406591,a_=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=OK(i),(r.type===am||r.type===om)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=SK(r.bounds)),r.type){case am:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=BK;break;case om:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=MK;break}return r}return t}(no),s8=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return t}(no),a8=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.value=i.value,r}return t}(no),o8=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=p8(n,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?Tf(n,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):Io.TRANSPARENT,a=i.contentWindow.document.body?Tf(n,getComputedStyle(i.contentWindow.document.body).backgroundColor):Io.TRANSPARENT;r.backgroundColor=Fc(s)?Fc(a)?r.styles.backgroundColor:a:s}}catch{}return r}return t}(no),RK=["OL","UL","MENU"],x1=function(e,t,n,i){for(var r=t.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,A8(r)&&r.data.trim().length>0)n.textNodes.push(new CK(e,r,n.styles));else if(pl(r))if(d8(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return x1(e,o,n,i)});else{var a=c8(e,r);a.styles.isVisible()&&(IK(r,a,i)?a.flags|=4:FK(a.styles)&&(a.flags|=2),RK.indexOf(r.tagName)!==-1&&(a.flags|=8),n.elements.push(a),r.slot,r.shadowRoot?x1(e,r.shadowRoot,a,i):!cm(r)&&!l8(r)&&!pm(r)&&x1(e,r,a,i))}},c8=function(e,t){return uw(t)?new t8(e,t):u8(t)?new n8(e,t):l8(t)?new i8(e,t):NK(t)?new r8(e,t):PK(t)?new Aw(e,t):UK(t)?new a_(e,t):pm(t)?new s8(e,t):cm(t)?new a8(e,t):f8(t)?new o8(e,t):new no(e,t)},p8=function(e,t){var n=c8(e,t);return n.flags|=4,x1(e,t,n,n),n},IK=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||o_(e)&&n.styles.isTransparent()},FK=function(e){return e.isPositioned()||e.isFloating()},A8=function(e){return e.nodeType===Node.TEXT_NODE},pl=function(e){return e.nodeType===Node.ELEMENT_NODE},lw=function(e){return pl(e)&&typeof e.style<"u"&&!T1(e)},T1=function(e){return typeof e.className=="object"},NK=function(e){return e.tagName==="LI"},PK=function(e){return e.tagName==="OL"},UK=function(e){return e.tagName==="INPUT"},HK=function(e){return e.tagName==="HTML"},l8=function(e){return e.tagName==="svg"},o_=function(e){return e.tagName==="BODY"},u8=function(e){return e.tagName==="CANVAS"},hb=function(e){return e.tagName==="VIDEO"},uw=function(e){return e.tagName==="IMG"},f8=function(e){return e.tagName==="IFRAME"},mb=function(e){return e.tagName==="STYLE"},DK=function(e){return e.tagName==="SCRIPT"},cm=function(e){return e.tagName==="TEXTAREA"},pm=function(e){return e.tagName==="SELECT"},d8=function(e){return e.tagName==="SLOT"},Eb=function(e){return e.tagName.indexOf("-")>0},GK=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(i){return n.counters[i].pop()})},e.prototype.parse=function(t){var n=this,i=t.counterIncrement,r=t.counterReset,s=!0;i!==null&&i.forEach(function(o){var c=n.counters[o.counter];c&&o.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var c=n.counters[o.counter];a.push(o.counter),c||(c=n.counters[o.counter]=[]),c.push(o.reset)}),a},e}(),yb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},gb={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},QK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},kK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},_A=function(e,t,n,i,r,s){return e<t||e>n?Wf(e,r,s.length>0):i.integers.reduce(function(a,o,c){for(;e>=o;)e-=o,a+=i.values[c];return a},"")+s},h8=function(e,t,n,i){var r="";do n||e--,r=i(e)+r,e/=t;while(e*t>=t);return r},_i=function(e,t,n,i,r){var s=n-t+1;return(e<0?"-":"")+(h8(Math.abs(e),s,i,function(a){return Ti(Math.floor(a%s)+t)})+r)},Ap=function(e,t,n){n===void 0&&(n=". ");var i=t.length;return h8(Math.abs(e),i,!1,function(r){return t[Math.floor(r%i)]})+n},jA=1<<0,wc=1<<1,_c=1<<2,hf=1<<3,Eo=function(e,t,n,i,r,s){if(e<-9999||e>9999)return Wf(e,4,r.length>0);var a=Math.abs(e),o=r;if(a===0)return t[0]+o;for(var c=0;a>0&&c<=4;c++){var p=a%10;p===0&&Di(s,jA)&&o!==""?o=t[p]+o:p>1||p===1&&c===0||p===1&&c===1&&Di(s,wc)||p===1&&c===1&&Di(s,_c)&&e>100||p===1&&c>1&&Di(s,hf)?o=t[p]+(c>0?n[c-1]:"")+o:p===1&&c>0&&(o=n[c-1]+o),a=Math.floor(a/10)}return(e<0?i:"")+o},wb="\u5341\u767E\u5343\u842C",_b="\u62FE\u4F70\u4EDF\u842C",vb="\u30DE\u30A4\u30CA\u30B9",O3="\uB9C8\uC774\uB108\uC2A4",Wf=function(e,t,n){var i=n?". ":"",r=n?"\u3001":"",s=n?", ":"",a=n?" ":"";switch(t){case 0:return"\u2022"+a;case 1:return"\u25E6"+a;case 2:return"\u25FE"+a;case 5:var o=_i(e,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return Ap(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",r);case 6:return _A(e,1,3999,yb,3,i).toLowerCase();case 7:return _A(e,1,3999,yb,3,i);case 8:return _i(e,945,969,!1,i);case 9:return _i(e,97,122,!1,i);case 10:return _i(e,65,90,!1,i);case 11:return _i(e,1632,1641,!0,i);case 12:case 49:return _A(e,1,9999,gb,3,i);case 35:return _A(e,1,9999,gb,3,i).toLowerCase();case 13:return _i(e,2534,2543,!0,i);case 14:case 30:return _i(e,6112,6121,!0,i);case 15:return Ap(e,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",r);case 16:return Ap(e,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",r);case 17:case 48:return Eo(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",wb,"\u8CA0",r,wc|_c|hf);case 47:return Eo(e,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",_b,"\u8CA0",r,jA|wc|_c|hf);case 42:return Eo(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",wb,"\u8D1F",r,wc|_c|hf);case 41:return Eo(e,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",_b,"\u8D1F",r,jA|wc|_c|hf);case 26:return Eo(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",vb,r,0);case 25:return Eo(e,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",vb,r,jA|wc|_c);case 31:return Eo(e,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",O3,s,jA|wc|_c);case 33:return Eo(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",O3,s,0);case 32:return Eo(e,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",O3,s,jA|wc|_c);case 18:return _i(e,2406,2415,!0,i);case 20:return _A(e,1,19999,kK,3,i);case 21:return _i(e,2790,2799,!0,i);case 22:return _i(e,2662,2671,!0,i);case 22:return _A(e,1,10999,QK,3,i);case 23:return Ap(e,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Ap(e,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return _i(e,3302,3311,!0,i);case 28:return Ap(e,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",r);case 29:return Ap(e,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",r);case 34:return _i(e,3792,3801,!0,i);case 37:return _i(e,6160,6169,!0,i);case 38:return _i(e,4160,4169,!0,i);case 39:return _i(e,2918,2927,!0,i);case 40:return _i(e,1776,1785,!0,i);case 43:return _i(e,3046,3055,!0,i);case 44:return _i(e,3174,3183,!0,i);case 45:return _i(e,3664,3673,!0,i);case 46:return _i(e,3872,3881,!0,i);case 3:default:return _i(e,48,57,!0,i)}},m8="data-html2canvas-ignore",Cb=function(){function e(t,n,i){if(this.context=t,this.options=i,this.scrolledElements=[],this.referenceElement=n,this.counters=new GK,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var i=this,r=VK(t,n);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,o=r.contentWindow,c=o.document,p=YK(r).then(function(){return Br(i,void 0,void 0,function(){var A,l;return fr(this,function(u){switch(u.label){case 0:return this.scrolledElements.forEach(XK),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),A=this.options.onclone,l=this.clonedReferenceElement,typeof l>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:u.sent(),u.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,zK(c)]:[3,4];case 3:u.sent(),u.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,l)}).then(function(){return r})]:[2,r]}})})});return c.open(),c.write($K(document.doctype)+"<html></html>"),jK(this.referenceElement.ownerDocument,s,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),p},e.prototype.createElementClone=function(t){if(cw(t,2))debugger;if(u8(t))return this.createCanvasClone(t);if(hb(t))return this.createVideoClone(t);if(mb(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return uw(n)&&(uw(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),Eb(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return L3(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var i=[].slice.call(n.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=t.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var i=t.ownerDocument.createElement("img");try{return i.src=t.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var r=t.cloneNode(!1);try{r.width=t.width,r.height=t.height;var s=t.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var o=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return r},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var i=n.getContext("2d");try{return i&&(i.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||i.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var r=t.ownerDocument.createElement("canvas");return r.width=t.offsetWidth,r.height=t.offsetHeight,r},e.prototype.appendChildNode=function(t,n,i){(!pl(n)||!DK(n)&&!n.hasAttribute(m8)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!pl(n)||!mb(n))&&t.appendChild(this.cloneNode(n,i))},e.prototype.cloneChildNodes=function(t,n,i){for(var r=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(pl(s)&&d8(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(n,o,i)})}else this.appendChildNode(n,s,i)},e.prototype.cloneNode=function(t,n){if(A8(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var i=t.ownerDocument.defaultView;if(i&&pl(t)&&(lw(t)||T1(t))){var r=this.createElementClone(t);r.style.transitionProperty="none";var s=i.getComputedStyle(t),a=i.getComputedStyle(t,":before"),o=i.getComputedStyle(t,":after");this.referenceElement===t&&lw(r)&&(this.clonedReferenceElement=r),o_(r)&&JK(r);var c=this.counters.parse(new eb(this.context,s)),p=this.resolvePseudoContent(t,r,a,Sf.BEFORE);Eb(t)&&(n=!0),hb(t)||this.cloneChildNodes(t,r,n),p&&r.insertBefore(p,r.firstChild);var A=this.resolvePseudoContent(t,r,o,Sf.AFTER);return A&&r.appendChild(A),this.counters.pop(c),(s&&(this.options.copyStyles||T1(t))&&!f8(t)||n)&&L3(s,r),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([r,t.scrollLeft,t.scrollTop]),(cm(t)||pm(t))&&(cm(r)||pm(r))&&(r.value=t.value),r}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,i,r){var s=this;if(!!i){var a=i.content,o=n.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new eb(this.context,i));var c=new NV(this.context,i),p=o.createElement("html2canvaspseudoelement");L3(i,p),c.content.forEach(function(l){if(l.type===0)p.appendChild(o.createTextNode(l.value));else if(l.type===22){var u=o.createElement("img");u.src=l.value,u.style.opacity="1",p.appendChild(u)}else if(l.type===18){if(l.name==="attr"){var d=l.values.filter(Kn);d.length&&p.appendChild(o.createTextNode(t.getAttribute(d[0].value)||""))}else if(l.name==="counter"){var m=l.values.filter(Ol),y=m[0],g=m[1];if(y&&Kn(y)){var E=s.counters.getCounterValue(y.value),w=g&&Kn(g)?ow.parse(s.context,g.value):3;p.appendChild(o.createTextNode(Wf(E,w,!1)))}}else if(l.name==="counters"){var b=l.values.filter(Ol),y=b[0],_=b[1],g=b[2];if(y&&Kn(y)){var C=s.counters.getCounterValues(y.value),T=g&&Kn(g)?ow.parse(s.context,g.value):3,x=_&&_.type===0?_.value:"",O=C.map(function(R){return Wf(R,T,!1)}).join(x);p.appendChild(o.createTextNode(O))}}}else if(l.type===20)switch(l.value){case"open-quote":p.appendChild(o.createTextNode(JC(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":p.appendChild(o.createTextNode(JC(c.quotes,--s.quoteDepth,!1)));break;default:p.appendChild(o.createTextNode(l.value))}}),p.className=fw+" "+dw;var A=r===Sf.BEFORE?" "+fw:" "+dw;return T1(n)?n.className.baseValue+=A:n.className+=A,p}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Sf;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Sf||(Sf={}));var VK=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(m8,"true"),e.body.appendChild(n),n},KK=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},zK=function(e){return Promise.all([].slice.call(e.images,0).map(KK))},YK=function(e){return new Promise(function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=function(){i.onload=e.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},WK=["all","d","content"],L3=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e.item(n);WK.indexOf(i)===-1&&t.style.setProperty(i,e.getPropertyValue(i))}return t},$K=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},jK=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},XK=function(e){var t=e[0],n=e[1],i=e[2];t.scrollLeft=n,t.scrollTop=i},qK=":before",ZK=":after",fw="___html2canvas___pseudoelement_before",dw="___html2canvas___pseudoelement_after",bb=`{
    content: "" !important;
    display: none !important;
}`,JK=function(e){ez(e,"."+fw+qK+bb+`
         .`+dw+ZK+bb)},ez=function(e,t){var n=e.ownerDocument;if(n){var i=n.createElement("style");i.textContent=t,e.appendChild(i)}},E8=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),tz=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(I3(t)||sz(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Br(this,void 0,void 0,function(){var n,i,r,s,a=this;return fr(this,function(o){switch(o.label){case 0:return n=E8.isSameOrigin(t),i=!R3(t)&&this._options.useCORS===!0&&er.SUPPORT_CORS_IMAGES&&!n,r=!R3(t)&&!n&&!I3(t)&&typeof this._options.proxy=="string"&&er.SUPPORT_CORS_XHR&&!i,!n&&this._options.allowTaint===!1&&!R3(t)&&!I3(t)&&!r&&!i?[2]:(s=t,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,p){var A=new Image;A.onload=function(){return c(A)},A.onerror=p,(az(s)||i)&&(A.crossOrigin="anonymous"),A.src=s,A.complete===!0&&setTimeout(function(){return c(A)},500),a._options.imageTimeout>0&&setTimeout(function(){return p("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise(function(s,a){var o=er.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")s(c.response);else{var l=new FileReader;l.addEventListener("load",function(){return s(l.result)},!1),l.addEventListener("error",function(u){return a(u)},!1),l.readAsDataURL(c.response)}else a("Failed to proxy resource "+r+" with status code "+c.status)},c.onerror=a;var p=i.indexOf("?")>-1?"&":"?";if(c.open("GET",""+i+p+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),n._options.imageTimeout){var A=n._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+r)}}c.send()})},e}(),nz=/^data:image\/svg\+xml/i,iz=/^data:image\/.*;base64,/i,rz=/^data:image\/.*/i,sz=function(e){return er.SUPPORT_SVG_DRAWING||!oz(e)},R3=function(e){return rz.test(e)},az=function(e){return iz.test(e)},I3=function(e){return e.substr(0,4)==="blob"},oz=function(e){return e.substr(-3).toLowerCase()==="svg"||nz.test(e)},At=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),vA=function(e,t,n){return new At(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},oh=function(){function e(t,n,i,r){this.type=1,this.start=t,this.startControl=n,this.endControl=i,this.end=r}return e.prototype.subdivide=function(t,n){var i=vA(this.start,this.startControl,t),r=vA(this.startControl,this.endControl,t),s=vA(this.endControl,this.end,t),a=vA(i,r,t),o=vA(r,s,t),c=vA(a,o,t);return n?new e(this.start,i,a,c):new e(c,o,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Gs=function(e){return e.type===1},cz=function(){function e(t){var n=t.styles,i=t.bounds,r=ff(n.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=ff(n.borderTopRightRadius,i.width,i.height),c=o[0],p=o[1],A=ff(n.borderBottomRightRadius,i.width,i.height),l=A[0],u=A[1],d=ff(n.borderBottomLeftRadius,i.width,i.height),m=d[0],y=d[1],g=[];g.push((s+c)/i.width),g.push((m+l)/i.width),g.push((a+y)/i.height),g.push((p+u)/i.height);var E=Math.max.apply(Math,g);E>1&&(s/=E,a/=E,c/=E,p/=E,l/=E,u/=E,m/=E,y/=E);var w=i.width-c,b=i.height-u,_=i.width-l,C=i.height-y,T=n.borderTopWidth,x=n.borderRightWidth,O=n.borderBottomWidth,M=n.borderLeftWidth,H=Zn(n.paddingTop,t.bounds.width),R=Zn(n.paddingRight,t.bounds.width),D=Zn(n.paddingBottom,t.bounds.width),P=Zn(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?si(i.left+M/3,i.top+T/3,s-M/3,a-T/3,Fn.TOP_LEFT):new At(i.left+M/3,i.top+T/3),this.topRightBorderDoubleOuterBox=s>0||a>0?si(i.left+w,i.top+T/3,c-x/3,p-T/3,Fn.TOP_RIGHT):new At(i.left+i.width-x/3,i.top+T/3),this.bottomRightBorderDoubleOuterBox=l>0||u>0?si(i.left+_,i.top+b,l-x/3,u-O/3,Fn.BOTTOM_RIGHT):new At(i.left+i.width-x/3,i.top+i.height-O/3),this.bottomLeftBorderDoubleOuterBox=m>0||y>0?si(i.left+M/3,i.top+C,m-M/3,y-O/3,Fn.BOTTOM_LEFT):new At(i.left+M/3,i.top+i.height-O/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?si(i.left+M*2/3,i.top+T*2/3,s-M*2/3,a-T*2/3,Fn.TOP_LEFT):new At(i.left+M*2/3,i.top+T*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?si(i.left+w,i.top+T*2/3,c-x*2/3,p-T*2/3,Fn.TOP_RIGHT):new At(i.left+i.width-x*2/3,i.top+T*2/3),this.bottomRightBorderDoubleInnerBox=l>0||u>0?si(i.left+_,i.top+b,l-x*2/3,u-O*2/3,Fn.BOTTOM_RIGHT):new At(i.left+i.width-x*2/3,i.top+i.height-O*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||y>0?si(i.left+M*2/3,i.top+C,m-M*2/3,y-O*2/3,Fn.BOTTOM_LEFT):new At(i.left+M*2/3,i.top+i.height-O*2/3),this.topLeftBorderStroke=s>0||a>0?si(i.left+M/2,i.top+T/2,s-M/2,a-T/2,Fn.TOP_LEFT):new At(i.left+M/2,i.top+T/2),this.topRightBorderStroke=s>0||a>0?si(i.left+w,i.top+T/2,c-x/2,p-T/2,Fn.TOP_RIGHT):new At(i.left+i.width-x/2,i.top+T/2),this.bottomRightBorderStroke=l>0||u>0?si(i.left+_,i.top+b,l-x/2,u-O/2,Fn.BOTTOM_RIGHT):new At(i.left+i.width-x/2,i.top+i.height-O/2),this.bottomLeftBorderStroke=m>0||y>0?si(i.left+M/2,i.top+C,m-M/2,y-O/2,Fn.BOTTOM_LEFT):new At(i.left+M/2,i.top+i.height-O/2),this.topLeftBorderBox=s>0||a>0?si(i.left,i.top,s,a,Fn.TOP_LEFT):new At(i.left,i.top),this.topRightBorderBox=c>0||p>0?si(i.left+w,i.top,c,p,Fn.TOP_RIGHT):new At(i.left+i.width,i.top),this.bottomRightBorderBox=l>0||u>0?si(i.left+_,i.top+b,l,u,Fn.BOTTOM_RIGHT):new At(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=m>0||y>0?si(i.left,i.top+C,m,y,Fn.BOTTOM_LEFT):new At(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?si(i.left+M,i.top+T,Math.max(0,s-M),Math.max(0,a-T),Fn.TOP_LEFT):new At(i.left+M,i.top+T),this.topRightPaddingBox=c>0||p>0?si(i.left+Math.min(w,i.width-x),i.top+T,w>i.width+x?0:Math.max(0,c-x),Math.max(0,p-T),Fn.TOP_RIGHT):new At(i.left+i.width-x,i.top+T),this.bottomRightPaddingBox=l>0||u>0?si(i.left+Math.min(_,i.width-M),i.top+Math.min(b,i.height-O),Math.max(0,l-x),Math.max(0,u-O),Fn.BOTTOM_RIGHT):new At(i.left+i.width-x,i.top+i.height-O),this.bottomLeftPaddingBox=m>0||y>0?si(i.left+M,i.top+Math.min(C,i.height-O),Math.max(0,m-M),Math.max(0,y-O),Fn.BOTTOM_LEFT):new At(i.left+M,i.top+i.height-O),this.topLeftContentBox=s>0||a>0?si(i.left+M+P,i.top+T+H,Math.max(0,s-(M+P)),Math.max(0,a-(T+H)),Fn.TOP_LEFT):new At(i.left+M+P,i.top+T+H),this.topRightContentBox=c>0||p>0?si(i.left+Math.min(w,i.width+M+P),i.top+T+H,w>i.width+M+P?0:c-M+P,p-(T+H),Fn.TOP_RIGHT):new At(i.left+i.width-(x+R),i.top+T+H),this.bottomRightContentBox=l>0||u>0?si(i.left+Math.min(_,i.width-(M+P)),i.top+Math.min(b,i.height+T+H),Math.max(0,l-(x+R)),u-(O+D),Fn.BOTTOM_RIGHT):new At(i.left+i.width-(x+R),i.top+i.height-(O+D)),this.bottomLeftContentBox=m>0||y>0?si(i.left+M+P,i.top+C,Math.max(0,m-(M+P)),y-(O+D),Fn.BOTTOM_LEFT):new At(i.left+M+P,i.top+i.height-(O+D))}return e}(),Fn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Fn||(Fn={}));var si=function(e,t,n,i,r){var s=4*((Math.sqrt(2)-1)/3),a=n*s,o=i*s,c=e+n,p=t+i;switch(r){case Fn.TOP_LEFT:return new oh(new At(e,p),new At(e,p-o),new At(c-a,t),new At(c,t));case Fn.TOP_RIGHT:return new oh(new At(e,t),new At(e+a,t),new At(c,p-o),new At(c,p));case Fn.BOTTOM_RIGHT:return new oh(new At(c,t),new At(c,t+o),new At(e+a,p),new At(e,p));case Fn.BOTTOM_LEFT:default:return new oh(new At(c,p),new At(c-a,p),new At(e,t+o),new At(e,t))}},Am=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},pz=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},lm=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Az=function(){function e(t,n,i){this.offsetX=t,this.offsetY=n,this.matrix=i,this.type=0,this.target=6}return e}(),ch=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),lz=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),uz=function(e){return e.type===0},y8=function(e){return e.type===1},fz=function(e){return e.type===2},xb=function(e,t){return e.length===t.length?e.some(function(n,i){return n===t[i]}):!1},dz=function(e,t,n,i,r){return e.map(function(s,a){switch(a){case 0:return s.add(t,n);case 1:return s.add(t+i,n);case 2:return s.add(t+i,n+r);case 3:return s.add(t,n+r)}return s})},g8=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),w8=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new cz(this.container),this.container.styles.opacity<1&&this.effects.push(new lz(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Az(i,r,s))}if(this.container.styles.overflowX!==0){var a=Am(this.curves),o=lm(this.curves);xb(a,o)?this.effects.push(new ch(a,6)):(this.effects.push(new ch(a,2)),this.effects.push(new ch(o,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(c){return!y8(c)});if(n||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),n=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=Am(i.curves),o=lm(i.curves);xb(a,o)||r.unshift(new ch(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(c){return Di(c.target,t)})},e}(),hw=function(e,t,n,i){e.container.elements.forEach(function(r){var s=Di(r.flags,4),a=Di(r.flags,2),o=new w8(r,e);Di(r.styles.display,2048)&&i.push(o);var c=Di(r.flags,8)?[]:i;if(s||a){var p=s||r.styles.isPositioned()?n:t,A=new g8(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var l=r.styles.zIndex.order;if(l<0){var u=0;p.negativeZIndex.some(function(m,y){return l>m.element.container.styles.zIndex.order?(u=y,!1):u>0}),p.negativeZIndex.splice(u,0,A)}else if(l>0){var d=0;p.positiveZIndex.some(function(m,y){return l>=m.element.container.styles.zIndex.order?(d=y+1,!1):d>0}),p.positiveZIndex.splice(d,0,A)}else p.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else r.styles.isFloating()?p.nonPositionedFloats.push(A):p.nonPositionedInlineLevel.push(A);hw(o,A,s?A:n,c)}else r.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),hw(o,t,n,c);Di(r.flags,8)&&_8(r,c)})},_8=function(e,t){for(var n=e instanceof Aw?e.start:1,i=e instanceof Aw?e.reversed:!1,r=0;r<t.length;r++){var s=t[r];s.container instanceof r8&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Wf(n,s.container.styles.listStyleType,!0),n+=i?-1:1}},hz=function(e){var t=new w8(e,null),n=new g8(t),i=[];return hw(t,n,n,i),_8(t.container,i),n},Tb=function(e,t){switch(t){case 0:return ks(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ks(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ks(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ks(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},mz=function(e,t){switch(t){case 0:return ks(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ks(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ks(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ks(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Ez=function(e,t){switch(t){case 0:return ks(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ks(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ks(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ks(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},yz=function(e,t){switch(t){case 0:return ph(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ph(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ph(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return ph(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ph=function(e,t){var n=[];return Gs(e)?n.push(e.subdivide(.5,!1)):n.push(e),Gs(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ks=function(e,t,n,i){var r=[];return Gs(e)?r.push(e.subdivide(.5,!1)):r.push(e),Gs(n)?r.push(n.subdivide(.5,!0)):r.push(n),Gs(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Gs(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},v8=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},um=function(e){var t=e.styles,n=e.bounds,i=Zn(t.paddingLeft,n.width),r=Zn(t.paddingRight,n.width),s=Zn(t.paddingTop,n.width),a=Zn(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+s+a))},gz=function(e,t){return e===0?t.bounds:e===2?um(t):v8(t)},wz=function(e,t){return e===0?t.bounds:e===2?um(t):v8(t)},F3=function(e,t,n){var i=gz(XA(e.styles.backgroundOrigin,t),e),r=wz(XA(e.styles.backgroundClip,t),e),s=_z(XA(e.styles.backgroundSize,t),n,i),a=s[0],o=s[1],c=ff(XA(e.styles.backgroundPosition,t),i.width-a,i.height-o),p=vz(XA(e.styles.backgroundRepeat,t),c,s,i,r),A=Math.round(i.left+c[0]),l=Math.round(i.top+c[1]);return[p,A,l,a,o]},CA=function(e){return Kn(e)&&e.value===wl.AUTO},Ah=function(e){return typeof e=="number"},_z=function(e,t,n){var i=t[0],r=t[1],s=t[2],a=e[0],o=e[1];if(!a)return[0,0];if(Oi(a)&&o&&Oi(o))return[Zn(a,n.width),Zn(o,n.height)];var c=Ah(s);if(Kn(a)&&(a.value===wl.CONTAIN||a.value===wl.COVER)){if(Ah(s)){var p=n.width/n.height;return p<s!=(a.value===wl.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var A=Ah(i),l=Ah(r),u=A||l;if(CA(a)&&(!o||CA(o))){if(A&&l)return[i,r];if(!c&&!u)return[n.width,n.height];if(u&&c){var d=A?i:r*s,m=l?r:i/s;return[d,m]}var y=A?i:n.width,g=l?r:n.height;return[y,g]}if(c){var E=0,w=0;return Oi(a)?E=Zn(a,n.width):Oi(o)&&(w=Zn(o,n.height)),CA(a)?E=w*s:(!o||CA(o))&&(w=E/s),[E,w]}var b=null,_=null;if(Oi(a)?b=Zn(a,n.width):o&&Oi(o)&&(_=Zn(o,n.height)),b!==null&&(!o||CA(o))&&(_=A&&l?b/i*r:n.height),_!==null&&CA(a)&&(b=A&&l?_/r*i:n.width),b!==null&&_!==null)return[b,_];throw new Error("Unable to calculate background-size for element")},XA=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},vz=function(e,t,n,i,r){var s=t[0],a=t[1],o=n[0],c=n[1];switch(e){case 2:return[new At(Math.round(i.left),Math.round(i.top+a)),new At(Math.round(i.left+i.width),Math.round(i.top+a)),new At(Math.round(i.left+i.width),Math.round(c+i.top+a)),new At(Math.round(i.left),Math.round(c+i.top+a))];case 3:return[new At(Math.round(i.left+s),Math.round(i.top)),new At(Math.round(i.left+s+o),Math.round(i.top)),new At(Math.round(i.left+s+o),Math.round(i.height+i.top)),new At(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new At(Math.round(i.left+s),Math.round(i.top+a)),new At(Math.round(i.left+s+o),Math.round(i.top+a)),new At(Math.round(i.left+s+o),Math.round(i.top+a+c)),new At(Math.round(i.left+s),Math.round(i.top+a+c))];default:return[new At(Math.round(r.left),Math.round(r.top)),new At(Math.round(r.left+r.width),Math.round(r.top)),new At(Math.round(r.left+r.width),Math.round(r.height+r.top)),new At(Math.round(r.left),Math.round(r.height+r.top))]}},Cz="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Bb="Hidden Text",bz=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=Cz,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Bb)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(Bb)),i.style.lineHeight="normal",r.style.verticalAlign="super";var c=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,n){var i=t+" "+n;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(t,n)),this._data[i]},e}(),C8=function(){function e(t,n){this.context=t,this.options=n}return e}(),xz=1e4,Tz=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new bz(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return t.prototype.applyEffects=function(n){for(var i=this;this._activeEffects.length;)this.popEffect();n.forEach(function(r){return i.applyEffect(r)})},t.prototype.applyEffect=function(n){this.ctx.save(),fz(n)&&(this.ctx.globalAlpha=n.opacity),uz(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),y8(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return Br(this,void 0,void 0,function(){var i;return fr(this,function(r){switch(r.label){case 0:return i=n.element.container.styles,i.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return Br(this,void 0,void 0,function(){return fr(this,function(i){switch(i.label){case 0:if(Di(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(n)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,i,r){var s=this;if(i===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+r);else{var a=s_(n.text);a.reduce(function(o,c){return s.ctx.fillText(c,o,n.bounds.top+r),o+s.ctx.measureText(c).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var i=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=Lz(n.fontFamily).join(", "),s=Qd(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,i,n.fontWeight,s,r].join(" "),r,s]},t.prototype.renderTextNode=function(n,i){return Br(this,void 0,void 0,function(){var r,s,a,o,c,p,A,l,u=this;return fr(this,function(d){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(a,o),p=c.baseline,A=c.middle,l=i.paintOrder,n.textBounds.forEach(function(m){l.forEach(function(y){switch(y){case 0:u.ctx.fillStyle=zi(i.color),u.renderTextWithLetterSpacing(m,i.letterSpacing,p);var g=i.textShadow;g.length&&m.text.trim().length&&(g.slice(0).reverse().forEach(function(E){u.ctx.shadowColor=zi(E.color),u.ctx.shadowOffsetX=E.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=E.offsetY.number*u.options.scale,u.ctx.shadowBlur=E.blur.number,u.renderTextWithLetterSpacing(m,i.letterSpacing,p)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),i.textDecorationLine.length&&(u.ctx.fillStyle=zi(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(E){switch(E){case 1:u.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+p),m.bounds.width,1);break;case 2:u.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:u.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+A),m.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&m.text.trim().length&&(u.ctx.strokeStyle=zi(i.webkitTextStrokeColor),u.ctx.lineWidth=i.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+p)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,i,r){if(r&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=um(n),a=lm(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return Br(this,void 0,void 0,function(){var i,r,s,a,o,c,w,w,p,A,l,u,_,d,m,C,y,g,E,w,b,_,C;return fr(this,function(T){switch(T.label){case 0:this.applyEffects(n.getEffects(4)),i=n.container,r=n.curves,s=i.styles,a=0,o=i.textNodes,T.label=1;case 1:return a<o.length?(c=o[a],[4,this.renderTextNode(c,s)]):[3,4];case 2:T.sent(),T.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof t8))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return w=T.sent(),this.renderReplacedElement(i,r,w),[3,8];case 7:return T.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof n8&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof i8))return[3,12];T.label=9;case 9:return T.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return w=T.sent(),this.renderReplacedElement(i,r,w),[3,12];case 11:return T.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof o8&&i.tree?(p=new t(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,p.render(i.tree)]):[3,14];case 13:A=T.sent(),i.width&&i.height&&this.ctx.drawImage(A,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),T.label=14;case 14:if(i instanceof a_&&(l=Math.min(i.bounds.width,i.bounds.height),i.type===am?i.checked&&(this.ctx.save(),this.path([new At(i.bounds.left+l*.39363,i.bounds.top+l*.79),new At(i.bounds.left+l*.16,i.bounds.top+l*.5549),new At(i.bounds.left+l*.27347,i.bounds.top+l*.44071),new At(i.bounds.left+l*.39694,i.bounds.top+l*.5649),new At(i.bounds.left+l*.72983,i.bounds.top+l*.23),new At(i.bounds.left+l*.84,i.bounds.top+l*.34085),new At(i.bounds.left+l*.39363,i.bounds.top+l*.79)]),this.ctx.fillStyle=zi(db),this.ctx.fill(),this.ctx.restore()):i.type===om&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+l/2,i.bounds.top+l/2,l/4,0,Math.PI*2,!0),this.ctx.fillStyle=zi(db),this.ctx.fill(),this.ctx.restore())),Bz(i)&&i.value.length){switch(u=this.createFontStyle(s),_=u[0],d=u[1],m=this.fontMetrics.getMetrics(_,d).baseline,this.ctx.font=_,this.ctx.fillStyle=zi(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Sz(i.styles.textAlign),C=um(i),y=0,i.styles.textAlign){case 1:y+=C.width/2;break;case 2:y+=C.width;break}g=C.add(y,0,0,-C.height/2+1),this.ctx.save(),this.path([new At(C.left,C.top),new At(C.left+C.width,C.top),new At(C.left+C.width,C.top+C.height),new At(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Mf(i.value,g),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Di(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(E=i.styles.listStyleImage,E.type!==0)return[3,18];w=void 0,b=E.url,T.label=15;case 15:return T.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return w=T.sent(),this.ctx.drawImage(w,i.bounds.left-(w.width+10),i.bounds.top),[3,18];case 17:return T.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&i.styles.listStyleType!==-1&&(_=this.createFontStyle(s)[0],this.ctx.font=_,this.ctx.fillStyle=zi(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new Po(i.bounds.left,i.bounds.top+Zn(i.styles.paddingTop,i.bounds.width),i.bounds.width,qC(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Mf(n.listValue,C),s.letterSpacing,qC(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),T.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return Br(this,void 0,void 0,function(){var i,r,E,s,a,E,o,c,E,p,A,E,l,u,E,d,m,E,y,g,E;return fr(this,function(w){switch(w.label){case 0:if(Di(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),i=0,r=n.negativeZIndex,w.label=2;case 2:return i<r.length?(E=r[i],[4,this.renderStack(E)]):[3,5];case 3:w.sent(),w.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),s=0,a=n.nonInlineLevel,w.label=7;case 7:return s<a.length?(E=a[s],[4,this.renderNode(E)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,c=n.nonPositionedFloats,w.label=11;case 11:return o<c.length?(E=c[o],[4,this.renderStack(E)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:p=0,A=n.nonPositionedInlineLevel,w.label=15;case 15:return p<A.length?(E=A[p],[4,this.renderStack(E)]):[3,18];case 16:w.sent(),w.label=17;case 17:return p++,[3,15];case 18:l=0,u=n.inlineLevel,w.label=19;case 19:return l<u.length?(E=u[l],[4,this.renderNode(E)]):[3,22];case 20:w.sent(),w.label=21;case 21:return l++,[3,19];case 22:d=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return d<m.length?(E=m[d],[4,this.renderStack(E)]):[3,26];case 24:w.sent(),w.label=25;case 25:return d++,[3,23];case 26:y=0,g=n.positiveZIndex,w.label=27;case 27:return y<g.length?(E=g[y],[4,this.renderStack(E)]):[3,30];case 28:w.sent(),w.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var i=this;n.forEach(function(r,s){var a=Gs(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),Gs(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},t.prototype.renderRepeat=function(n,i,r,s){this.path(n),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},t.prototype.resizeImage=function(n,i,r){var s;if(n.width===i&&n.height===r)return n;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var c=o.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,i,r),o},t.prototype.renderBackgroundImage=function(n){return Br(this,void 0,void 0,function(){var i,r,s,a,o,c;return fr(this,function(p){switch(p.label){case 0:i=n.styles.backgroundImage.length-1,r=function(A){var l,u,d,H,k,K,P,I,O,m,H,k,K,P,I,y,g,E,w,b,_,C,T,x,O,M,H,R,D,P,I,L,k,K,W,ee,le,J,re,te,ge,me;return fr(this,function(ie){switch(ie.label){case 0:if(A.type!==0)return[3,5];l=void 0,u=A.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,s.context.cache.match(u)];case 2:return l=ie.sent(),[3,4];case 3:return ie.sent(),s.context.logger.error("Error loading background-image "+u),[3,4];case 4:return l&&(d=F3(n,i,[l.width,l.height,l.width/l.height]),H=d[0],k=d[1],K=d[2],P=d[3],I=d[4],O=s.ctx.createPattern(s.resizeImage(l,P,I),"repeat"),s.renderRepeat(H,O,k,K)),[3,6];case 5:uk(A)?(m=F3(n,i,[null,null,null]),H=m[0],k=m[1],K=m[2],P=m[3],I=m[4],y=ok(A.angle,P,I),g=y[0],E=y[1],w=y[2],b=y[3],_=y[4],C=document.createElement("canvas"),C.width=P,C.height=I,T=C.getContext("2d"),x=T.createLinearGradient(E,b,w,_),jC(A.stops,g).forEach(function(fe){return x.addColorStop(fe.stop,zi(fe.color))}),T.fillStyle=x,T.fillRect(0,0,P,I),P>0&&I>0&&(O=s.ctx.createPattern(C,"repeat"),s.renderRepeat(H,O,k,K))):fk(A)&&(M=F3(n,i,[null,null,null]),H=M[0],R=M[1],D=M[2],P=M[3],I=M[4],L=A.position.length===0?[n_]:A.position,k=Zn(L[0],P),K=Zn(L[L.length-1],I),W=ck(A,k,K,P,I),ee=W[0],le=W[1],ee>0&&le>0&&(J=s.ctx.createRadialGradient(R+k,D+K,0,R+k,D+K,ee),jC(A.stops,ee*2).forEach(function(fe){return J.addColorStop(fe.stop,zi(fe.color))}),s.path(H),s.ctx.fillStyle=J,ee!==le?(re=n.bounds.left+.5*n.bounds.width,te=n.bounds.top+.5*n.bounds.height,ge=le/ee,me=1/ge,s.ctx.save(),s.ctx.translate(re,te),s.ctx.transform(1,0,0,ge,0,0),s.ctx.translate(-re,-te),s.ctx.fillRect(R,me*(D-te)+te,P,I*me),s.ctx.restore()):s.ctx.fill())),ie.label=6;case 6:return i--,[2]}})},s=this,a=0,o=n.styles.backgroundImage.slice(0).reverse(),p.label=1;case 1:return a<o.length?(c=o[a],[5,r(c)]):[3,4];case 2:p.sent(),p.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,i,r){return Br(this,void 0,void 0,function(){return fr(this,function(s){return this.path(Tb(r,i)),this.ctx.fillStyle=zi(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,i,r,s){return Br(this,void 0,void 0,function(){var a,o;return fr(this,function(c){switch(c.label){case 0:return i<3?[4,this.renderSolidBorder(n,r,s)]:[3,2];case 1:return c.sent(),[2];case 2:return a=mz(s,r),this.path(a),this.ctx.fillStyle=zi(n),this.ctx.fill(),o=Ez(s,r),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return Br(this,void 0,void 0,function(){var i,r,s,a,o,c,p,A,l=this;return fr(this,function(u){switch(u.label){case 0:return this.applyEffects(n.getEffects(2)),i=n.container.styles,r=!Fc(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=Mz(XA(i.backgroundClip,0),n.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Fc(i.backgroundColor)||(this.ctx.fillStyle=zi(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(d){l.ctx.save();var m=Am(n.curves),y=d.inset?0:xz,g=dz(m,-y+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(l.path(m),l.ctx.clip(),l.mask(g)):(l.mask(m),l.ctx.clip(),l.path(g)),l.ctx.shadowOffsetX=d.offsetX.number+y,l.ctx.shadowOffsetY=d.offsetY.number,l.ctx.shadowColor=zi(d.color),l.ctx.shadowBlur=d.blur.number,l.ctx.fillStyle=d.inset?zi(d.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()}),u.label=2;case 2:o=0,c=0,p=s,u.label=3;case 3:return c<p.length?(A=p[c],A.style!==0&&!Fc(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return u.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,n.curves,3)];case 6:return u.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,n.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,n.curves)];case 10:u.sent(),u.label=11;case 11:o++,u.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,i,r,s,a){return Br(this,void 0,void 0,function(){var o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,C,T;return fr(this,function(x){return this.ctx.save(),o=yz(s,r),c=Tb(s,r),a===2&&(this.path(c),this.ctx.clip()),Gs(c[0])?(p=c[0].start.x,A=c[0].start.y):(p=c[0].x,A=c[0].y),Gs(c[1])?(l=c[1].end.x,u=c[1].end.y):(l=c[1].x,u=c[1].y),r===0||r===2?d=Math.abs(p-l):d=Math.abs(A-u),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(c.slice(0,2)),m=i<3?i*3:i*2,y=i<3?i*2:i,a===3&&(m=i,y=i),g=!0,d<=m*2?g=!1:d<=m*2+y?(E=d/(2*m+y),m*=E,y*=E):(w=Math.floor((d+y)/(m+y)),b=(d-w*m)/(w-1),_=(d-(w+1)*m)/w,y=_<=0||Math.abs(y-b)<Math.abs(y-_)?b:_),g&&(a===3?this.ctx.setLineDash([0,m+y]):this.ctx.setLineDash([m,y])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=zi(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Gs(c[0])&&(C=c[3],T=c[0],this.ctx.beginPath(),this.formatPath([new At(C.end.x,C.end.y),new At(T.start.x,T.start.y)]),this.ctx.stroke()),Gs(c[1])&&(C=c[1],T=c[2],this.ctx.beginPath(),this.formatPath([new At(C.end.x,C.end.y),new At(T.start.x,T.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return Br(this,void 0,void 0,function(){var i;return fr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=hz(n),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(C8),Bz=function(e){return e instanceof a8||e instanceof s8?!0:e instanceof a_&&e.type!==om&&e.type!==am},Mz=function(e,t){switch(e){case 0:return Am(t);case 2:return pz(t);case 1:default:return lm(t)}},Sz=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Oz=["-apple-system","system-ui"],Lz=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Oz.indexOf(t)===-1}):e},Rz=function(e){Ca(t,e);function t(n,i){var r=e.call(this,n,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return t.prototype.render=function(n){return Br(this,void 0,void 0,function(){var i,r;return fr(this,function(s){switch(s.label){case 0:return i=pw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Iz(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(C8),Iz=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Fz=function(){function e(t){var n=t.id,i=t.enabled;this.id=n,this.enabled=i,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,k0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,k0([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,k0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,k0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Nz=function(){function e(t,n){var i;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Fz({id:this.instanceName,enabled:t.logging}),this.cache=(i=t.cache)!==null&&i!==void 0?i:new tz(this,t)}return e.instanceCount=1,e}(),Pz=function(e,t){return t===void 0&&(t={}),Uz(e,t)};typeof window<"u"&&E8.setContext(window);var Uz=function(e,t){return Br(void 0,void 0,void 0,function(){var n,i,r,s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,x,T,x,O,M,H,R,D,P,I,L,k,K,W,ee,le,J,re,te,ge;return fr(this,function(me){switch(me.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(i=n.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(O=t.allowTaint)!==null&&O!==void 0?O:!1,imageTimeout:(M=t.imageTimeout)!==null&&M!==void 0?M:15e3,proxy:t.proxy,useCORS:(H=t.useCORS)!==null&&H!==void 0?H:!1},s=$2({logging:(R=t.logging)!==null&&R!==void 0?R:!0,cache:t.cache},r),a={windowWidth:(D=t.windowWidth)!==null&&D!==void 0?D:i.innerWidth,windowHeight:(P=t.windowHeight)!==null&&P!==void 0?P:i.innerHeight,scrollX:(I=t.scrollX)!==null&&I!==void 0?I:i.pageXOffset,scrollY:(L=t.scrollY)!==null&&L!==void 0?L:i.pageYOffset},o=new Po(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),c=new Nz(s,o),p=(k=t.foreignObjectRendering)!==null&&k!==void 0?k:!1,A={allowTaint:(K=t.allowTaint)!==null&&K!==void 0?K:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),l=new Cb(c,e,A),u=l.clonedReferenceElement,u?[4,l.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=me.sent(),m=o_(u)||HK(u)?dG(u.ownerDocument):EE(c,u),y=m.width,g=m.height,E=m.left,w=m.top,b=Hz(c,u,t.backgroundColor),_={canvas:t.canvas,backgroundColor:b,scale:(ee=(W=t.scale)!==null&&W!==void 0?W:i.devicePixelRatio)!==null&&ee!==void 0?ee:1,x:((le=t.x)!==null&&le!==void 0?le:0)+E,y:((J=t.y)!==null&&J!==void 0?J:0)+w,width:(re=t.width)!==null&&re!==void 0?re:Math.ceil(y),height:(te=t.height)!==null&&te!==void 0?te:Math.ceil(g)},p?(c.logger.debug("Document cloned, using foreign object rendering"),x=new Rz(c,_),[4,x.render(u)]):[3,3];case 2:return C=me.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+E+","+w+" with size "+y+"x"+g+" using computed rendering"),c.logger.debug("Starting DOM parsing"),T=p8(c,u),b===T.styles.backgroundColor&&(T.styles.backgroundColor=Io.TRANSPARENT),c.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),x=new Tz(c,_),[4,x.render(T)];case 4:C=me.sent(),me.label=5;case 5:return(!((ge=t.removeContainer)!==null&&ge!==void 0)||ge)&&(Cb.destroy(d)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},Hz=function(e,t,n){var i=t.ownerDocument,r=i.documentElement?Tf(e,getComputedStyle(i.documentElement).backgroundColor):Io.TRANSPARENT,s=i.body?Tf(e,getComputedStyle(i.body).backgroundColor):Io.TRANSPARENT,a=typeof n=="string"?Tf(e,n):n===null?Io.TRANSPARENT:4294967295;return t===i.documentElement?Fc(r)?Fc(s)?a:s:r:a};function b8(e){const t=JN(e,i=>i.every(r=>r.metric===null)?{mean:null,sum:null,min:null,max:null}:{mean:nP(i,r=>r.metric),sum:rP(i,r=>r.metric),min:sf(i,r=>r.metric),max:Ds(i,r=>r.metric)},i=>i.site,i=>i.condition);return e.map(i=>({condition:i.condition,site:i.site,site_reference:i.site_reference,site_protein:i.site_protein,site_chain:i.site_chain,wildtype:i.wildtype,...t.get(i.site).get(i.condition)})).filter((i,r,s)=>r===s.findIndex(a=>a.site===i.site&&a.condition===i.condition))}function mw(e){const t=e.replace("#",""),n=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),r=parseInt(t.substring(4,6),16);return"#"+((16777215^(n<<16|i<<8|r))>>>0).toString(16)}class Dz{constructor(t,n){this.config=t,this.config={dataset:t.dataset,chartConditions:t.chartConditions,summary:t.summary,floor:t.floor,metric:t.metric,tooltips:t.tooltips,filters:t.filters,parentElement:t.parentElement,width:1100,height:300,scaling:{top:.025,left:.1,bottom:.15,right:.06,innerTop:.05,innerRight:.08,focusContextRatio:.15,focusHeatmapRatio:.03}},this.data=JSON.parse(JSON.stringify(n)),this.dispatch=fE("updateSites"),this.selection=[],this.initVis()}initVis(){let t=this;document.querySelector(this.config.parentElement).innerHTML="",Y4(".tooltip").remove(),t.margin={top:t.config.height*t.config.scaling.top,left:t.config.width*t.config.scaling.left,bottom:t.config.height*t.config.scaling.bottom,right:t.config.width*t.config.scaling.right,innerTop:t.config.height*t.config.scaling.innerTop,innerRight:t.config.width*t.config.scaling.innerRight};const n=t.config.height-t.margin.top-t.margin.bottom-t.margin.innerTop,i=t.config.width-t.margin.left-t.margin.right-t.margin.innerRight;t.bounds={context:{height:n*t.config.scaling.focusContextRatio,width:i*(1-t.config.scaling.focusHeatmapRatio)},focus:{height:n*(1-t.config.scaling.focusContextRatio),width:i*(1-t.config.scaling.focusHeatmapRatio)},heatmap:{height:t.config.height-t.margin.top-t.margin.bottom,width:i*t.config.scaling.focusHeatmapRatio}},t.aspect=t.config.width/t.config.height,t.svg=Rt(t.config.parentElement).append("svg").attr("width",t.config.width).attr("height",t.config.height).attr("class","wrapper"),t.svg.attr("viewBox",`0 0 ${t.config.width} ${t.config.height}`).attr("preserveAspectRatio","xMidYMid").call(function(){t.resize()}),t.boundedArea=t.svg.append("g").style("transform",`translate(${t.margin.left}px, ${t.margin.top}px)`),t.contextPlot=t.boundedArea.append("g").attr("class","context"),t.contextPlot.append("clipPath").attr("id","contextClipPath").append("rect").attr("width",t.bounds.context.width).attr("height",t.bounds.context.height),t.contextAreaG=t.contextPlot.append("g").attr("class","context-area-group"),t.focusPlot=t.boundedArea.append("g").style("transform",`translateY(${t.margin.innerTop+t.bounds.context.height}px)`).attr("class","focus").on("dblclick",function(){t.deselectSites()}),t.focusPlot.append("clipPath").attr("id","focusClipPath").append("rect").attr("transform","translate(0,"+-5+")").attr("width",t.bounds.focus.width).attr("height",t.bounds.focus.height+5),t.focusLineG=t.focusPlot.append("g").attr("class","focus-line-group"),t.focusCircleG=t.focusPlot.append("g").attr("class","focus-circle-group"),t.focusLegend=t.focusPlot.append("g").attr("class","legend").attr("transform",`translate(0,${t.bounds.focus.height+t.margin.bottom})`),t.heatmapPlot=t.boundedArea.append("g").style("transform",`translateX(${t.margin.innerRight+t.bounds.context.width}px)`).attr("class","heatmap"),t.heatmapPlot.append("rect").attr("width",t.bounds.heatmap.width).attr("height",t.bounds.heatmap.height).style("fill","none").style("stroke","black"),t.heatmapPlotG=t.heatmapPlot.append("g").attr("class","heatmap-group"),t.heatmapLegend=t.heatmapPlot.append("g").attr("class","legend").attr("transform",`translate(${t.bounds.heatmap.width+10})`),t.legendLinearGradient=t.heatmapLegend.append("defs").append("linearGradient").attr("id","linear-gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%"),t.legendColorRamp=t.heatmapLegend.append("rect").attr("width",`${t.bounds.heatmap.width/2}px`).attr("height",`${t.bounds.heatmap.height/2}px`).style("fill","url(#linear-gradient)"),t.focusTooltip=Rt("body").append("div").attr("class","focus-tooltip").style("position","absolute").style("opacity",0),t.heatmapTooltip=Rt("body").append("div").attr("class","heatmap-tooltip").style("position","absolute").style("opacity",0),t.yScaleContext=Bc().range([t.bounds.context.height,0]),t.xScaleContext=Bc().range([0,t.bounds.context.width]).nice(),t.xScaleFocus=Bc().range([0,t.bounds.focus.width]).nice(),t.yScaleFocus=Bc().range([t.bounds.focus.height,0]),t.xScaleHeatmap=z2().range([0,t.bounds.heatmap.width]).padding(.1),t.yScaleHeatmap=z2().range([0,t.bounds.heatmap.height]).padding(.1),t.colorScaleHeatmap=Bc(),t.legendScaleHeatmap=t.colorScaleHeatmap.copy(),t.xAxisContext=s3(t.xScaleContext).tickSizeOuter(0),t.xAxisContextG=t.contextPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.context.height})`),t.yAxisContext=a3(t.yScaleContext).ticks(2).tickSizeOuter(0),t.yAxisContextG=t.contextPlot.append("g").attr("class","axis y-axis"),t.xAxisFocus=s3(t.xScaleFocus).tickSizeOuter(0),t.xAxisFocusG=t.focusPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.focus.height})`),t.xAxisFocusG.append("text").attr("class","axis-label").attr("x",t.bounds.focus.width/2).attr("y",40).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle").text("Site"),t.yAxisFocus=a3(t.yScaleFocus).tickSizeOuter(0).ticks(6).tickFormat(r=>{var s=Math.abs(r),a=r.toString().split(".")[1]?r.toString().split(".")[1].length:0;return(s>1e3||s<.001)&&s!==0?Sp(".2e")(r):a>3?Sp(".3f")(r):Sp("")(r)}),t.yAxisFocusG=t.focusPlot.append("g").attr("class","axis y-axis"),t.yAxisFocusG.append("text").attr("class","axis-label").text(`${t.config.summary.charAt(0).toUpperCase()+t.config.summary.slice(1)} of ${t.config.metric}`).attr("transform","rotate(-90)").attr("x",-(t.bounds.focus.height/2)).attr("y",-60).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle"),t.xAxisHeatmap=s3(t.xScaleHeatmap).tickSizeOuter(0),t.xAxisHeatmapG=t.heatmapPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.heatmap.height})`),t.yAxisHeatmap=a3(t.yScaleHeatmap).tickSizeOuter(0),t.yAxisHeatmapG=t.heatmapPlot.append("g").attr("class","axis y-axis"),t.yAxisHeatmapLegend=lP(t.legendScaleHeatmap).ticks(6).tickSize(0),t.yAxisHeatmapLegendG=t.heatmapLegend.append("g").attr("transform",`translate(${t.bounds.heatmap.width/2})`).attr("class","axis legend-axis"),t.brushG=t.contextPlot.append("g").attr("class","brush context-brush"),t.brush=VD().extent([[0,0],[t.bounds.context.width,t.bounds.context.height]]).on("brush",function(r){r.selection&&t.brushed(r.selection)}).on("end",function(r){r.selection||t.brushed(null)}),t.focusBrushG=t.focusCircleG.append("g").attr("class","brush focus-brush"),t.focusBrush=KD().extent([[0,0],[t.bounds.focus.width,t.bounds.focus.height+5]]).on("end",function(r){r.selection&&(r.sourceEvent.altKey?t.deselectSites(r.selection):t.brushedPoints(r.selection))}).keyModifiers(!1),t.updateVis()}updateVis(){let t=this;t.originalMutMetric=t.data[t.config.dataset].mut_metric_df,t.mutMetric=t.originalMutMetric.map(c=>{let p={...c};for(let A in t.config.filters){let l=t.config.filters[A];if(p[A]<l){p.metric=null;break}}return p}),t.mutMetricSummary=b8(t.mutMetric).filter(c=>t.config.chartConditions.includes(c.condition)),t.mutMetricSummaryPerCondition=Array.from(ZN(t.mutMetricSummary.map(c=>({condition:c.condition,site:c.site,[t.config.summary]:c[t.config.summary]})),c=>c.condition),([c,p])=>({condition:c,data:p}));const[n,i]=$A(t.mutMetricSummary,c=>c.site);if(t.mutMetricSummaryPerCondition.forEach(c=>{let p=c.data;const A=c.condition;let l=new Map(p.map(u=>[u.site,u]));for(let u=n;u<=i;u++)l.has(u)||p.push({condition:A,site:u,[t.config.summary]:null});p.sort((u,d)=>u.site-d.site)}),t.filteredMutMetricSummary=t.mutMetricSummary.filter(c=>c[t.config.summary]!==null),t.filteredMutMetricSummary.length===0){t.renderEmpty();return}t.initSiteSelection=t.mutMetricSummary.filter(c=>c[t.config.summary]===Ds(t.mutMetricSummary,p=>p[t.config.summary]))[0].site,t.initConditionSelection=t.mutMetricSummary.filter(c=>c[t.config.summary]===Ds(t.mutMetricSummary,p=>p[t.config.summary]))[0].condition,t.mutMetricHeatmap=t.mutMetric.filter(c=>c.site===t.initSiteSelection&&c.condition===t.initConditionSelection),t.positiveColor=t.data[t.config.dataset].condition_colors[t.initConditionSelection],t.negativeColor=mw(t.positiveColor),t.alphabet=t.data[t.config.dataset].alphabet,t.wildtype=t.mutMetricHeatmap.map(c=>c.wildtype)[0],t.siteMap=new Map,Object.entries(t.data[t.config.dataset].sitemap).forEach(c=>{const[p,A]=c;t.siteMap.set(A.sequential_site,p)}),t.xAccessorContext=c=>c.site,t.yAccessorContext=c=>t.config.floor&&c[t.config.summary]<0?0:c[t.config.summary],t.xAccessorFocus=c=>c.site,t.yAccessorFocus=c=>t.config.floor&&c[t.config.summary]<0?0:c[t.config.summary],t.xAccessorHeatmap=c=>c.site,t.yAccessorHeatmap=c=>c.mutant,t.colorAccessorHeatmap=c=>t.config.floor&&c.metric<0?0:c.metric;const r=$A(t.mutMetricSummary,t.xAccessorFocus),s=r[1]-r[0],a=$A(t.mutMetricSummary,t.yAccessorFocus),o=a[1]-a[0];t.yScaleContext.domain([a[0],a[1]+o*.05]),t.xScaleContext.domain([r[0],r[1]+s*.05]),t.xScaleFocus.domain([r[0],r[1]+s*.05]),t.yScaleFocus.domain([a[0],a[1]+o*.05]),t.xScaleHeatmap.domain([Ds(t.mutMetricHeatmap,t.xAccessorHeatmap)]),t.yScaleHeatmap.domain(t.alphabet),t.config.floor?t.colorScaleHeatmap.domain([0,Ds(t.originalMutMetric,t.colorAccessorHeatmap)]).range(["white",t.positiveColor]):t.colorScaleHeatmap.domain([-Ds($A(t.originalMutMetric,t.colorAccessorHeatmap).map(Math.abs)),0,Ds($A(t.originalMutMetric,t.colorAccessorHeatmap).map(Math.abs))]).range([t.negativeColor,"white",t.positiveColor]),t.legendScaleHeatmap.domain(t.colorScaleHeatmap.domain()).rangeRound(vH(Dd(t.bounds.heatmap.height/2,0),t.colorScaleHeatmap.range().length)),t.tooltipContent=c=>{const p=`<strong>${t.config.metric}:</strong> ${c.metric!==null?c.metric.toFixed(2):"Filtered"}</br>`;if(t.config.tooltips){const A=Object.entries(t.config.tooltips).map(([l,u])=>`<strong>${u}:</strong> ${typeof c[l]=="number"?c[l].toFixed(2):c[l]}</br>`);return p+A.join("")}else return p},t.contextArea=fG().curve(tm).x(c=>t.xScaleContext(t.xAccessorContext(c))).y0(t.yScaleContext(0)).y1(c=>t.yScaleContext(t.yAccessorContext(c)||0)),t.focusLine=wM().curve(tm).x(c=>t.xScaleFocus(t.xAccessorFocus(c))).y(c=>t.yScaleFocus(t.yAccessorFocus(c)||0)),t.renderVis()}renderVis(){let t=this;t.focusPlot.select(".empty-message").remove(),t.contextAreaG.selectAll(".context-area").data(t.mutMetricSummaryPerCondition,n=>`${n.condition}-${n.site}`).join("path").attr("class","context-area").attr("clip-path","url(#contextClipPath)").attr("d",n=>t.contextArea(n.data)).attr("fill",n=>t.data[t.config.dataset].condition_colors[n.condition]),t.focusLineG.selectAll(".focus-line").data(t.mutMetricSummaryPerCondition,n=>`${n.condition}-${n.site}`).join("path").attr("class","focus-line").attr("clip-path","url(#focusClipPath)").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",1).attr("d",n=>t.focusLine(n.data)).attr("stroke",n=>t.data[t.config.dataset].condition_colors[n.condition]),t.focusCircleG.selectAll("circle").data(t.filteredMutMetricSummary,n=>`${n.condition}-${n.site}`).join(n=>n.append("circle").attr("cy",i=>t.yScaleFocus(t.yAccessorFocus(i))),n=>n.call(i=>i.attr("cy",r=>t.yScaleFocus(t.yAccessorFocus(r)))),n=>n.remove()).attr("cx",n=>t.xScaleFocus(t.xAccessorFocus(n))).attr("r",5).attr("clip-path","url(#focusClipPath)").attr("fill","white").attr("stroke",n=>t.data[t.config.dataset].condition_colors[n.condition]).attr("stroke-width",2).on("mouseover",(n,i)=>{t.focusTooltip.style("opacity",1).html(`<strong>Site:</strong> ${i.site_reference}<br><strong>${t.config.metric} ${t.config.summary}:</strong> ${i[t.config.summary].toFixed(2)}<br><strong>Wildtype:</strong> ${i.wildtype}`).style("border-color",t.data[t.config.dataset].condition_colors[i.condition])}).on("mousemove",n=>{t.focusTooltip.style("top",n.pageY-10+"px").style("left",n.pageX+10+"px")}).on("mouseout",()=>{t.focusTooltip.style("opacity",0)}).on("click",function(n,i){t.updateHeatmap(i)}),t.focusPlot.selectAll("circle").filter(n=>t.selection.map(i=>i.site).includes(n.site)).attr("fill",n=>t.data[t.config.dataset].condition_colors[n.condition]).classed("selected",!0),t.focusPlot.selectAll("circle").filter(n=>n.site===t.initSiteSelection&&n.condition===t.initConditionSelection).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),t.heatmapPlotG.selectAll(".mutant-rect").data(t.mutMetricHeatmap,n=>n.mutation).join(n=>n.append("rect").attr("class","mutant-rect").style("fill",i=>t.colorAccessorHeatmap(i)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(i)):"grey").style("stroke","black"),n=>n.call(i=>i.style("fill",r=>t.colorAccessorHeatmap(r)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(r)):"grey")),n=>n.remove()).attr("x",n=>t.xScaleHeatmap(t.xAccessorHeatmap(n))).attr("y",n=>t.yScaleHeatmap(t.yAccessorHeatmap(n))).attr("width",t.xScaleHeatmap.bandwidth()).attr("height",t.yScaleHeatmap.bandwidth()).on("mouseover",(n,i)=>{t.heatmapTooltip.style("opacity",1).html(t.tooltipContent(i)).style("border-color",t.positiveColor).style("font-size","1em")}).on("mousemove",n=>{t.heatmapTooltip.style("top",n.pageY-10+"px").style("left",n.pageX+10+"px")}).on("mouseout",()=>{t.heatmapTooltip.style("opacity",0)}),t.heatmapPlotG.selectAll(".wildtype-text").data([t.wildtype],n=>n).join("text").attr("class","wildtype-text").attr("transform",`translate(${t.bounds.heatmap.width/2}, ${t.yScaleHeatmap.bandwidth()/2})`).attr("y",n=>t.yScaleHeatmap(n)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("font-size","1em").attr("font-weight","bold").text("x"),t.xAxisContextG.call(t.xAxisContext).call(n=>n.select(".domain").style("stroke-width",".5")).call(n=>n.selectAll(".tick").remove()),t.yAxisContextG.call(t.yAxisContext),t.xAxisFocusG.call(t.xAxisFocus.tickFormat(function(n){return t.siteMap.get(n)})),t.yAxisFocusG.call(t.yAxisFocus),t.yAxisFocusG.select(".axis-label").text(`${t.config.summary.charAt(0).toUpperCase()+t.config.summary.slice(1)} of ${t.config.metric}`),t.xAxisHeatmapG.call(t.xAxisHeatmap.tickFormat(function(n){return t.siteMap.get(n)})),t.yAxisHeatmapG.call(t.yAxisHeatmap),t.legendLinearGradient.selectAll("stop").data(t.colorScaleHeatmap.range()).join("stop").attr("offset",(n,i)=>i/(t.colorScaleHeatmap.range().length-1)).attr("stop-color",n=>n),t.yAxisHeatmapLegendG.call(t.yAxisHeatmapLegend).call(n=>n.select(".domain").remove()),t.brushSelection=t.brushSelection||null,t.brushG.call(t.brush).call(t.brush.move,t.brushSelection),t.focusBrushG.call(t.focusBrush)}brushed(t){let n=this;if(t){const i=t.map(n.xScaleContext.invert,n.xScaleContext);n.xScaleFocus.domain(i)}else n.xScaleFocus.domain(n.xScaleContext.domain());n.brushSelection=t,n.focusPlot.selectAll(".focus-line").attr("d",i=>n.focusLine(i.data)),n.focusPlot.selectAll("circle").attr("cx",i=>n.xScaleFocus(n.xAccessorFocus(i))),n.xAxisFocusG.call(n.xAxisFocus)}renderEmpty(){let t=this;t.focusPlot.select(".empty-message").remove(),t.contextAreaG.selectAll(".context-area").remove(),t.focusLineG.selectAll(".focus-line").remove(),t.focusCircleG.selectAll("circle").remove(),t.heatmapPlotG.selectAll(".mutant-rect").remove(),t.heatmapPlotG.selectAll(".wildtype-text").remove(),t.yAxisFocusG.selectAll(".tick").remove(),t.yAxisContextG.selectAll(".tick").remove(),t.xAxisHeatmapG.selectAll(".tick").remove(),t.focusPlot.append("text").attr("class","empty-message").attr("x",t.bounds.focus.width/2).attr("y",t.bounds.focus.height/2).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size","1.5em").attr("fill","darkred").text("All sites filtered out")}brushedPoints(t){let n=this;if(n.focusPlot.select(".focus-brush").call(n.focusBrush.move,null),t){const[[i,r],[s,a]]=t;let o=n.focusPlot.selectAll("circle").filter(c=>i<=n.xScaleFocus(n.xAccessorFocus(c))&&n.xScaleFocus(n.xAccessorFocus(c))<s&&r<=n.yScaleFocus(n.yAccessorFocus(c))&&n.yScaleFocus(n.yAccessorFocus(c))<a);n.focusPlot.selectAll("circle").filter(c=>o.data().map(p=>p.site).includes(c.site)).classed("selected",!0).attr("fill",c=>n.data[n.config.dataset].condition_colors[c.condition]),n.selection.push(...o.data()),this.dispatch.call("updateSites",this,n.selection)}}deselectSites(t=null){let n=this;if(t){n.focusPlot.select(".focus-brush").call(n.focusBrush.move,null);const[[i,r],[s,a]]=t;let o=n.focusPlot.selectAll("circle").filter(c=>i<=n.xScaleFocus(n.xAccessorFocus(c))&&n.xScaleFocus(n.xAccessorFocus(c))<s&&r<=n.yScaleFocus(n.yAccessorFocus(c))&&n.yScaleFocus(n.yAccessorFocus(c))<a);n.focusPlot.selectAll("circle").filter(c=>o.data().map(p=>p.site).includes(c.site)).classed("selected",!1).attr("fill","white"),n.selection=n.selection.filter(c=>!o.data().map(A=>A.site).includes(c.site)),this.dispatch.call("updateSites",this,n.selection)}else n.focusPlot.selectAll(".selected").classed("selected",!1).attr("fill","white"),n.selection=[],this.dispatch.call("updateSites",this,n.selection)}updateHeatmap(t){let n=this;const i=t.site,r=t.condition;n.positiveColor=n.data[n.config.dataset].condition_colors[r],n.negativeColor=mw(n.positiveColor),n.wildtype=t.wildtype,n.focusPlot.selectAll(".heatmap-site").attr("r",5).attr("stroke-width",2).attr("stroke",s=>n.data[n.config.dataset].condition_colors[s.condition]).classed("heatmap-site",!1),n.focusPlot.selectAll("circle").filter(s=>s.site===i&&s.condition===r).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),n.mutMetricHeatmap=n.mutMetric.filter(s=>s.site===i&&s.condition===r),n.xScaleHeatmap.domain([i]),n.config.floor?n.colorScaleHeatmap.range(["white",n.positiveColor]):n.colorScaleHeatmap.range([n.negativeColor,"white",n.positiveColor]),n.legendLinearGradient.selectAll("stop").data(n.colorScaleHeatmap.range()).join(s=>s.append("stop").attr("offset",(a,o)=>o/(n.colorScaleHeatmap.range().length-1)).attr("stop-color",a=>a),s=>s.attr("offset",(a,o)=>o/(n.colorScaleHeatmap.range().length-1)).attr("stop-color",a=>a),s=>s.remove()),n.xAxisHeatmapG.call(n.xAxisHeatmap),n.heatmapPlotG.selectAll(".mutant-rect").data(n.mutMetricHeatmap,s=>s.mutation).join(s=>s.append("rect").attr("class","mutant-rect").style("fill",a=>n.colorAccessorHeatmap(a)!==null?n.colorScaleHeatmap(n.colorAccessorHeatmap(a)):"grey").style("stroke","black"),s=>s.call(a=>a.style("fill",o=>n.colorAccessorHeatmap(o)!==null?n.colorScaleHeatmap(n.colorAccessorHeatmap(o)):"grey")),s=>s.remove()).attr("x",s=>n.xScaleHeatmap(n.xAccessorHeatmap(s))).attr("y",s=>n.yScaleHeatmap(n.yAccessorHeatmap(s))).attr("width",n.xScaleHeatmap.bandwidth()).attr("height",n.yScaleHeatmap.bandwidth()).on("mouseover",(s,a)=>{n.heatmapTooltip.style("opacity",1).html(n.tooltipContent(a)).style("border-color",n.positiveColor).style("font-size","1em")}).on("mousemove",s=>{n.heatmapTooltip.style("top",s.pageY-10+"px").style("left",s.pageX+10+"px")}).on("mouseout",()=>{n.heatmapTooltip.style("opacity",0)}),n.heatmapPlotG.selectAll(".wildtype-text").data([n.wildtype],s=>s).join("text").attr("class","wildtype-text").attr("transform",`translate(${n.bounds.heatmap.width/2}, ${n.yScaleHeatmap.bandwidth()/2})`).attr("y",s=>n.yScaleHeatmap(s)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("font-size","1em").attr("font-weight","bold").text("x")}resize(){let t=this;const n=Rt(t.config.parentElement).node();t.config.width=n.offsetWidth,t.config.height=n.offsetHeight,t.svg.attr("width",t.config.width).attr("height",t.config.width/t.aspect)}async saveImage(){let t=this;const i=Rt(t.config.parentElement).node().cloneNode(!0),s=300/96;i.style.transform=`scale(${s})`,i.style.transformOrigin="top left",i.style.position="fixed",i.style.top="-10000px",document.body.appendChild(i);const a=await Pz(i,{scale:s,useCORS:!0,logging:!1});document.body.removeChild(i);const o=await new Promise(p=>a.toBlob(p,"image/png")),c=document.createElement("a");c.href=URL.createObjectURL(o),c.download=`${t.config.dataset}_${t.config.metric}_${t.config.summary}.png`,c.click(),c.remove()}}function Gz(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function Qz(e){var t=this;return new t(function(n,i){if(!(e&&typeof e.length<"u"))return i(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(r.length===0)return n([]);var s=r.length;function a(c,p){if(p&&(typeof p=="object"||typeof p=="function")){var A=p.then;if(typeof A=="function"){A.call(p,function(l){a(c,l)},function(l){r[c]={status:"rejected",reason:l},--s===0&&n(r)});return}}r[c]={status:"fulfilled",value:p},--s===0&&n(r)}for(var o=0;o<r.length;o++)a(o,r[o])})}var kz=setTimeout;function x8(e){return Boolean(e&&typeof e.length<"u")}function Vz(){}function Kz(e,t){return function(){e.apply(t,arguments)}}function yi(e){if(!(this instanceof yi))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],B8(e,this)}function T8(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,yi._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?Ew:$f)(t.promise,e._value);return}var i;try{i=n(e._value)}catch(r){$f(t.promise,r);return}Ew(t.promise,i)})}function Ew(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var n=t.then;if(t instanceof yi){e._state=3,e._value=t,yw(e);return}else if(typeof n=="function"){B8(Kz(n,t),e);return}}e._state=1,e._value=t,yw(e)}catch(i){$f(e,i)}}function $f(e,t){e._state=2,e._value=t,yw(e)}function yw(e){e._state===2&&e._deferreds.length===0&&yi._immediateFn(function(){e._handled||yi._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)T8(e,e._deferreds[t]);e._deferreds=null}function zz(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function B8(e,t){var n=!1;try{e(function(i){n||(n=!0,Ew(t,i))},function(i){n||(n=!0,$f(t,i))})}catch(i){if(n)return;n=!0,$f(t,i)}}yi.prototype.catch=function(e){return this.then(null,e)};yi.prototype.then=function(e,t){var n=new this.constructor(Vz);return T8(this,new zz(e,t,n)),n};yi.prototype.finally=Gz;yi.all=function(e){return new yi(function(t,n){if(!x8(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(i.length===0)return t([]);var r=i.length;function s(o,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var p=c.then;if(typeof p=="function"){p.call(c,function(A){s(o,A)},n);return}}i[o]=c,--r===0&&t(i)}catch(A){n(A)}}for(var a=0;a<i.length;a++)s(a,i[a])})};yi.allSettled=Qz;yi.resolve=function(e){return e&&typeof e=="object"&&e.constructor===yi?e:new yi(function(t){t(e)})};yi.reject=function(e){return new yi(function(t,n){n(e)})};yi.race=function(e){return new yi(function(t,n){if(!x8(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)yi.resolve(e[i]).then(t,n)})};yi._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){kz(e,0)};yi._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const i=arguments[n];if(i!=null)for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});const Yz="118",Wz=0,Mb=1,$z=2,M8=1,jz=2,mf=3,nu=0,Hi=1,kd=2,S8=1,Fo=0,Nc=1,gw=2,Sb=3,Ob=4,Xz=5,qA=100,qz=101,Zz=102,Lb=103,Rb=104,Jz=200,eY=201,tY=202,nY=203,O8=204,L8=205,iY=206,rY=207,sY=208,aY=209,oY=210,cY=0,pY=1,AY=2,ww=3,lY=4,uY=5,fY=6,dY=7,BE=0,hY=1,mY=2,_l=0,EY=1,yY=2,gY=3,wY=4,_Y=5,c_=300,p_=301,A_=302,R8=303,l_=304,Vd=306,u_=307,fm=1e3,Yr=1001,dm=1002,Vn=1003,_w=1004,vw=1005,Ii=1006,I8=1007,ME=1008,Gp=1009,vY=1010,CY=1011,hm=1012,bY=1013,B1=1014,Lo=1015,mm=1016,xY=1017,TY=1018,BY=1019,Of=1020,MY=1021,Rp=1022,$r=1023,SY=1024,OY=1025,LY=$r,vl=1026,jf=1027,RY=1028,IY=1029,FY=1030,NY=1031,PY=1032,UY=1033,Ib=33776,Fb=33777,Nb=33778,Pb=33779,Ub=35840,Hb=35841,Db=35842,Gb=35843,HY=36196,Qb=37492,kb=37496,DY=37808,GY=37809,QY=37810,kY=37811,VY=37812,KY=37813,zY=37814,YY=37815,WY=37816,$Y=37817,jY=37818,XY=37819,qY=37820,ZY=37821,JY=36492,eW=37840,tW=37841,nW=37842,iW=37843,rW=37844,sW=37845,aW=37846,oW=37847,cW=37848,pW=37849,AW=37850,lW=37851,uW=37852,fW=37853,dW=2200,hW=2201,mW=2202,Em=2300,M1=2301,N3=2302,Ll=2400,Al=2401,ym=2402,f_=2500,F8=2501,EW=0,yr=3e3,Kd=3001,d_=3007,h_=3002,yW=3003,N8=3004,P8=3005,U8=3006,gW=3200,wW=3201,iu=0,_W=1,P3=7680,vW=519,SE=35044,Xf=35048;function Wo(){}Object.assign(Wo.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,s=i.length;r<s;r++)i[r].call(this,e)}}});const qi=[];for(let e=0;e<256;e++)qi[e]=(e<16?"0":"")+e.toString(16);const nn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(qi[e&255]+qi[e>>8&255]+qi[e>>16&255]+qi[e>>24&255]+"-"+qi[t&255]+qi[t>>8&255]+"-"+qi[t>>16&15|64]+qi[t>>24&255]+"-"+qi[n&63|128]+qi[n>>8&255]+"-"+qi[n>>16&255]+qi[n>>24&255]+qi[i&255]+qi[i>>8&255]+qi[i>>16&255]+qi[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*nn.DEG2RAD},radToDeg:function(e){return e*nn.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const s=Math.cos,a=Math.sin,o=s(n/2),c=a(n/2),p=s((t+i)/2),A=a((t+i)/2),l=s((t-i)/2),u=a((t-i)/2),d=s((i-t)/2),m=a((i-t)/2);switch(r){case"XYX":e.set(o*A,c*l,c*u,o*p);break;case"YZY":e.set(c*u,o*A,c*l,o*p);break;case"ZXZ":e.set(c*l,c*u,o*A,o*p);break;case"XZX":e.set(o*A,c*m,c*d,o*p);break;case"YXY":e.set(c*d,o*A,c*m,o*p);break;case"ZYZ":e.set(c*m,c*d,o*A,o*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function Ke(e=0,t=0){this.x=e,this.y=t}Object.defineProperties(Ke.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(Ke.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*n-s*i+e.x,this.y=r*i+s*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}});function rr(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(rr.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,s,a,o,c){const p=this.elements;return p[0]=e,p[1]=i,p[2]=a,p[3]=t,p[4]=r,p[5]=o,p[6]=n,p[7]=s,p[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[3],o=n[6],c=n[1],p=n[4],A=n[7],l=n[2],u=n[5],d=n[8],m=i[0],y=i[3],g=i[6],E=i[1],w=i[4],b=i[7],_=i[2],C=i[5],T=i[8];return r[0]=s*m+a*E+o*_,r[3]=s*y+a*w+o*C,r[6]=s*g+a*b+o*T,r[1]=c*m+p*E+A*_,r[4]=c*y+p*w+A*C,r[7]=c*g+p*b+A*T,r[2]=l*m+u*E+d*_,r[5]=l*y+u*w+d*C,r[8]=l*g+u*b+d*T,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],s=e[4],a=e[5],o=e[6],c=e[7],p=e[8];return t*s*p-t*a*c-n*r*p+n*a*o+i*r*c-i*s*o},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=e.elements,i=this.elements,r=n[0],s=n[1],a=n[2],o=n[3],c=n[4],p=n[5],A=n[6],l=n[7],u=n[8],d=u*c-p*l,m=p*A-u*o,y=l*o-c*A,g=r*d+s*m+a*y;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/g;return i[0]=d*E,i[1]=(a*l-u*s)*E,i[2]=(p*s-a*c)*E,i[3]=m*E,i[4]=(u*r-a*A)*E,i[5]=(a*o-p*r)*E,i[6]=y*E,i[7]=(s*A-l*r)*E,i[8]=(c*r-s*o)*E,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,s,a){const o=Math.cos(r),c=Math.sin(r);this.set(n*o,n*c,-n*(o*s+c*a)+s+e,-i*c,i*o,-i*(-c*s+o*a)+a+t,0,0,1)},scale:function(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],s=i[3],a=i[6],o=i[1],c=i[4],p=i[7];return i[0]=t*r+n*o,i[3]=t*s+n*c,i[6]=t*a+n*p,i[1]=-n*r+t*o,i[4]=-n*s+t*c,i[7]=-n*a+t*p,this},translate:function(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});let bA;const Qp={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{bA===void 0&&(bA=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),bA.width=e.width,bA.height=e.height;const n=bA.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=bA}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let CW=0;function jn(e,t,n,i,r,s,a,o,c,p){Object.defineProperty(this,"id",{value:CW++}),this.uuid=nn.generateUUID(),this.name="",this.image=e!==void 0?e:jn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:jn.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:Yr,this.wrapT=i!==void 0?i:Yr,this.magFilter=r!==void 0?r:Ii,this.minFilter=s!==void 0?s:ME,this.anisotropy=c!==void 0?c:1,this.format=a!==void 0?a:$r,this.internalFormat=null,this.type=o!==void 0?o:Gp,this.offset=new Ke(0,0),this.repeat=new Ke(1,1),this.center=new Ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new rr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p!==void 0?p:yr,this.version=0,this.onUpdate=null}jn.DEFAULT_IMAGE=void 0;jn.DEFAULT_MAPPING=c_;jn.prototype=Object.assign(Object.create(Wo.prototype),{constructor:jn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=nn.generateUUID()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let s=0,a=i.length;s<a;s++)r.push(Qp.getDataURL(i[s]))}else r=Qp.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==c_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fm:e.x=e.x-Math.floor(e.x);break;case Yr:e.x=e.x<0?0:1;break;case dm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case fm:e.y=e.y-Math.floor(e.y);break;case Yr:e.y=e.y<0?0:1;break;case dm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(jn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Qn(e=0,t=0,n=0,i=1){this.x=e,this.y=t,this.z=n,this.w=i}Object.defineProperties(Qn.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}});Object.assign(Qn.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i+s[12]*r,this.y=s[1]*t+s[5]*n+s[9]*i+s[13]*r,this.z=s[2]*t+s[6]*n+s[10]*i+s[14]*r,this.w=s[3]*t+s[7]*n+s[11]*i+s[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,n,i,r;const o=e.elements,c=o[0],p=o[4],A=o[8],l=o[1],u=o[5],d=o[9],m=o[2],y=o[6],g=o[10];if(Math.abs(p-l)<.01&&Math.abs(A-m)<.01&&Math.abs(d-y)<.01){if(Math.abs(p+l)<.1&&Math.abs(A+m)<.1&&Math.abs(d+y)<.1&&Math.abs(c+u+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,b=(u+1)/2,_=(g+1)/2,C=(p+l)/4,T=(A+m)/4,x=(d+y)/4;return w>b&&w>_?w<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(w),i=C/n,r=T/n):b>_?b<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(b),n=C/i,r=x/i):_<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(_),n=T/r,i=x/r),this.set(n,i,r,t),this}let E=Math.sqrt((y-d)*(y-d)+(A-m)*(A-m)+(l-p)*(l-p));return Math.abs(E)<.001&&(E=1),this.x=(y-d)/E,this.y=(A-m)/E,this.z=(l-p)/E,this.w=Math.acos((c+u+g-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}});function Lr(e,t,n){this.width=e,this.height=t,this.scissor=new Qn(0,0,e,t),this.scissorTest=!1,this.viewport=new Qn(0,0,e,t),n=n||{},this.texture=new jn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ii,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}Lr.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Lr,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Vb(e,t,n){Lr.call(this,e,t,n),this.samples=4}Vb.prototype=Object.assign(Object.create(Lr.prototype),{constructor:Vb,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Lr.prototype.copy.call(this,e),this.samples=e.samples,this}});function zn(e=0,t=0,n=0,i=1){this._x=e,this._y=t,this._z=n,this._w=i}Object.assign(zn,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,s,a){let o=n[i+0],c=n[i+1],p=n[i+2],A=n[i+3];const l=r[s+0],u=r[s+1],d=r[s+2],m=r[s+3];if(A!==m||o!==l||c!==u||p!==d){let y=1-a,g=o*l+c*u+p*d+A*m,E=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const _=Math.sqrt(w),C=Math.atan2(_,g*E);y=Math.sin(y*C)/_,a=Math.sin(a*C)/_}const b=a*E;if(o=o*y+l*b,c=c*y+u*b,p=p*y+d*b,A=A*y+m*b,y===1-a){const _=1/Math.sqrt(o*o+c*c+p*p+A*A);o*=_,c*=_,p*=_,A*=_}}e[t]=o,e[t+1]=c,e[t+2]=p,e[t+3]=A},multiplyQuaternionsFlat:function(e,t,n,i,r,s){const a=n[i],o=n[i+1],c=n[i+2],p=n[i+3],A=r[s],l=r[s+1],u=r[s+2],d=r[s+3];return e[t]=a*d+p*A+o*u-c*l,e[t+1]=o*d+p*l+c*A-a*u,e[t+2]=c*d+p*u+a*l-o*A,e[t+3]=p*d-a*A-o*l-c*u,e}});Object.defineProperties(zn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}});Object.assign(zn.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,r=e._z,s=e.order,a=Math.cos,o=Math.sin,c=a(n/2),p=a(i/2),A=a(r/2),l=o(n/2),u=o(i/2),d=o(r/2);switch(s){case"XYZ":this._x=l*p*A+c*u*d,this._y=c*u*A-l*p*d,this._z=c*p*d+l*u*A,this._w=c*p*A-l*u*d;break;case"YXZ":this._x=l*p*A+c*u*d,this._y=c*u*A-l*p*d,this._z=c*p*d-l*u*A,this._w=c*p*A+l*u*d;break;case"ZXY":this._x=l*p*A-c*u*d,this._y=c*u*A+l*p*d,this._z=c*p*d+l*u*A,this._w=c*p*A-l*u*d;break;case"ZYX":this._x=l*p*A-c*u*d,this._y=c*u*A+l*p*d,this._z=c*p*d-l*u*A,this._w=c*p*A+l*u*d;break;case"YZX":this._x=l*p*A+c*u*d,this._y=c*u*A+l*p*d,this._z=c*p*d-l*u*A,this._w=c*p*A-l*u*d;break;case"XZY":this._x=l*p*A-c*u*d,this._y=c*u*A-l*p*d,this._z=c*p*d+l*u*A,this._w=c*p*A+l*u*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,n=t[0],i=t[4],r=t[8],s=t[1],a=t[5],o=t[9],c=t[2],p=t[6],A=t[10],l=n+a+A;if(l>0){const u=.5/Math.sqrt(l+1);this._w=.25/u,this._x=(p-o)*u,this._y=(r-c)*u,this._z=(s-i)*u}else if(n>a&&n>A){const u=2*Math.sqrt(1+n-a-A);this._w=(p-o)/u,this._x=.25*u,this._y=(i+s)/u,this._z=(r+c)/u}else if(a>A){const u=2*Math.sqrt(1+a-n-A);this._w=(r-c)/u,this._x=(i+s)/u,this._y=.25*u,this._z=(o+p)/u}else{const u=2*Math.sqrt(1+A-n-a);this._w=(s-i)/u,this._x=(r+c)/u,this._y=(o+p)/u,this._z=.25*u}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){let i=e.dot(t)+1;return i<1e-6?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(nn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const n=e._x,i=e._y,r=e._z,s=e._w,a=t._x,o=t._y,c=t._z,p=t._w;return this._x=n*p+s*a+i*c-r*o,this._y=i*p+s*o+r*a-n*c,this._z=r*p+s*c+n*o-i*a,this._w=s*p-n*a-i*o-r*c,this._onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,r=this._z,s=this._w;let a=s*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=i,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const u=1-t;return this._w=u*s+t*this._w,this._x=u*n+t*this._x,this._y=u*i+t*this._y,this._z=u*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(o),p=Math.atan2(c,a),A=Math.sin((1-t)*p)/c,l=Math.sin(t*p)/c;return this._w=s*A+this._w*l,this._x=n*A+this._x*l,this._y=i*A+this._y*l,this._z=r*A+this._z*l,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const U3=new F,Kb=new zn;function F(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}Object.assign(F.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Kb.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Kb.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements,s=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*s,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*s,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*s,this},applyQuaternion:function(e){const t=this.x,n=this.y,i=this.z,r=e.x,s=e.y,a=e.z,o=e.w,c=o*t+s*i-a*n,p=o*n+a*t-r*i,A=o*i+r*n-s*t,l=-r*t-s*n-a*i;return this.x=c*o+l*-r+p*-a-A*-s,this.y=p*o+l*-s+A*-r-c*-a,this.z=A*o+l*-a+c*-s-p*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const n=e.x,i=e.y,r=e.z,s=t.x,a=t.y,o=t.z;return this.x=i*o-r*a,this.y=r*s-n*o,this.z=n*a-i*s,this},projectOnVector:function(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return U3.copy(this).projectOnVector(e),this.sub(U3)},reflect:function(e){return this.sub(U3.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(nn.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,t*3)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const xA=new F,ia=new Xe,bW=new F(0,0,0),xW=new F(1,1,1),pc=new F,lh=new F,ss=new F;function Xe(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Xe.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,s,a,o,c,p,A,l,u,d,m,y){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=s,g[9]=a,g[13]=o,g[2]=c,g[6]=p,g[10]=A,g[14]=l,g[3]=u,g[7]=d,g[11]=m,g[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new Xe().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,n=e.elements,i=1/xA.setFromMatrixColumn(e,0).length(),r=1/xA.setFromMatrixColumn(e,1).length(),s=1/xA.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,r=e.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(i),c=Math.sin(i),p=Math.cos(r),A=Math.sin(r);if(e.order==="XYZ"){const l=s*p,u=s*A,d=a*p,m=a*A;t[0]=o*p,t[4]=-o*A,t[8]=c,t[1]=u+d*c,t[5]=l-m*c,t[9]=-a*o,t[2]=m-l*c,t[6]=d+u*c,t[10]=s*o}else if(e.order==="YXZ"){const l=o*p,u=o*A,d=c*p,m=c*A;t[0]=l+m*a,t[4]=d*a-u,t[8]=s*c,t[1]=s*A,t[5]=s*p,t[9]=-a,t[2]=u*a-d,t[6]=m+l*a,t[10]=s*o}else if(e.order==="ZXY"){const l=o*p,u=o*A,d=c*p,m=c*A;t[0]=l-m*a,t[4]=-s*A,t[8]=d+u*a,t[1]=u+d*a,t[5]=s*p,t[9]=m-l*a,t[2]=-s*c,t[6]=a,t[10]=s*o}else if(e.order==="ZYX"){const l=s*p,u=s*A,d=a*p,m=a*A;t[0]=o*p,t[4]=d*c-u,t[8]=l*c+m,t[1]=o*A,t[5]=m*c+l,t[9]=u*c-d,t[2]=-c,t[6]=a*o,t[10]=s*o}else if(e.order==="YZX"){const l=s*o,u=s*c,d=a*o,m=a*c;t[0]=o*p,t[4]=m-l*A,t[8]=d*A+u,t[1]=A,t[5]=s*p,t[9]=-a*p,t[2]=-c*p,t[6]=u*A+d,t[10]=l-m*A}else if(e.order==="XZY"){const l=s*o,u=s*c,d=a*o,m=a*c;t[0]=o*p,t[4]=-A,t[8]=c*p,t[1]=l*A+m,t[5]=s*p,t[9]=u*A-d,t[2]=d*A-u,t[6]=a*p,t[10]=m*A+l}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(bW,e,xW)},lookAt:function(e,t,n){const i=this.elements;return ss.subVectors(e,t),ss.lengthSq()===0&&(ss.z=1),ss.normalize(),pc.crossVectors(n,ss),pc.lengthSq()===0&&(Math.abs(n.z)===1?ss.x+=1e-4:ss.z+=1e-4,ss.normalize(),pc.crossVectors(n,ss)),pc.normalize(),lh.crossVectors(ss,pc),i[0]=pc.x,i[4]=lh.x,i[8]=ss.x,i[1]=pc.y,i[5]=lh.y,i[9]=ss.y,i[2]=pc.z,i[6]=lh.z,i[10]=ss.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,s=n[0],a=n[4],o=n[8],c=n[12],p=n[1],A=n[5],l=n[9],u=n[13],d=n[2],m=n[6],y=n[10],g=n[14],E=n[3],w=n[7],b=n[11],_=n[15],C=i[0],T=i[4],x=i[8],O=i[12],M=i[1],H=i[5],R=i[9],D=i[13],P=i[2],I=i[6],L=i[10],k=i[14],K=i[3],W=i[7],ee=i[11],le=i[15];return r[0]=s*C+a*M+o*P+c*K,r[4]=s*T+a*H+o*I+c*W,r[8]=s*x+a*R+o*L+c*ee,r[12]=s*O+a*D+o*k+c*le,r[1]=p*C+A*M+l*P+u*K,r[5]=p*T+A*H+l*I+u*W,r[9]=p*x+A*R+l*L+u*ee,r[13]=p*O+A*D+l*k+u*le,r[2]=d*C+m*M+y*P+g*K,r[6]=d*T+m*H+y*I+g*W,r[10]=d*x+m*R+y*L+g*ee,r[14]=d*O+m*D+y*k+g*le,r[3]=E*C+w*M+b*P+_*K,r[7]=E*T+w*H+b*I+_*W,r[11]=E*x+w*R+b*L+_*ee,r[15]=E*O+w*D+b*k+_*le,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],s=e[1],a=e[5],o=e[9],c=e[13],p=e[2],A=e[6],l=e[10],u=e[14],d=e[3],m=e[7],y=e[11],g=e[15];return d*(+r*o*A-i*c*A-r*a*l+n*c*l+i*a*u-n*o*u)+m*(+t*o*u-t*c*l+r*s*l-i*s*u+i*c*p-r*o*p)+y*(+t*c*A-t*a*u-r*s*A+n*s*u+r*a*p-n*c*p)+g*(-i*a*p-t*o*A+t*a*l+i*s*A-n*s*l+n*o*p)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,i=e.elements,r=i[0],s=i[1],a=i[2],o=i[3],c=i[4],p=i[5],A=i[6],l=i[7],u=i[8],d=i[9],m=i[10],y=i[11],g=i[12],E=i[13],w=i[14],b=i[15],_=d*w*l-E*m*l+E*A*y-p*w*y-d*A*b+p*m*b,C=g*m*l-u*w*l-g*A*y+c*w*y+u*A*b-c*m*b,T=u*E*l-g*d*l+g*p*y-c*E*y-u*p*b+c*d*b,x=g*d*A-u*E*A-g*p*m+c*E*m+u*p*w-c*d*w,O=r*_+s*C+a*T+o*x;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/O;return n[0]=_*M,n[1]=(E*m*o-d*w*o-E*a*y+s*w*y+d*a*b-s*m*b)*M,n[2]=(p*w*o-E*A*o+E*a*l-s*w*l-p*a*b+s*A*b)*M,n[3]=(d*A*o-p*m*o-d*a*l+s*m*l+p*a*y-s*A*y)*M,n[4]=C*M,n[5]=(u*w*o-g*m*o+g*a*y-r*w*y-u*a*b+r*m*b)*M,n[6]=(g*A*o-c*w*o-g*a*l+r*w*l+c*a*b-r*A*b)*M,n[7]=(c*m*o-u*A*o+u*a*l-r*m*l-c*a*y+r*A*y)*M,n[8]=T*M,n[9]=(g*d*o-u*E*o-g*s*y+r*E*y+u*s*b-r*d*b)*M,n[10]=(c*E*o-g*p*o+g*s*l-r*E*l-c*s*b+r*p*b)*M,n[11]=(u*p*o-c*d*o-u*s*l+r*d*l+c*s*y-r*p*y)*M,n[12]=x*M,n[13]=(u*E*a-g*d*a+g*s*m-r*E*m-u*s*w+r*d*w)*M,n[14]=(g*p*a-c*E*a-g*s*A+r*E*A+c*s*w-r*p*w)*M,n[15]=(c*d*a-u*p*a+u*s*A-r*d*A-c*s*m+r*p*m)*M,this},scale:function(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,s=e.x,a=e.y,o=e.z,c=r*s,p=r*a;return this.set(c*s+n,c*a-i*o,c*o+i*a,0,c*a+i*o,p*a+n,p*o-i*s,0,c*o-i*a,p*o+i*s,r*o*o+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){const i=this.elements,r=t._x,s=t._y,a=t._z,o=t._w,c=r+r,p=s+s,A=a+a,l=r*c,u=r*p,d=r*A,m=s*p,y=s*A,g=a*A,E=o*c,w=o*p,b=o*A,_=n.x,C=n.y,T=n.z;return i[0]=(1-(m+g))*_,i[1]=(u+b)*_,i[2]=(d-w)*_,i[3]=0,i[4]=(u-b)*C,i[5]=(1-(l+g))*C,i[6]=(y+E)*C,i[7]=0,i[8]=(d+w)*T,i[9]=(y-E)*T,i[10]=(1-(l+m))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,n){const i=this.elements;let r=xA.set(i[0],i[1],i[2]).length(),s=xA.set(i[4],i[5],i[6]).length(),a=xA.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],ia.copy(this);const c=1/r,p=1/s,A=1/a;return ia.elements[0]*=c,ia.elements[1]*=c,ia.elements[2]*=c,ia.elements[4]*=p,ia.elements[5]*=p,ia.elements[6]*=p,ia.elements[8]*=A,ia.elements[9]*=A,ia.elements[10]*=A,t.setFromRotationMatrix(ia),n.x=r,n.y=s,n.z=a,this},makePerspective:function(e,t,n,i,r,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*r/(t-e),c=2*r/(n-i),p=(t+e)/(t-e),A=(n+i)/(n-i),l=-(s+r)/(s-r),u=-2*s*r/(s-r);return a[0]=o,a[4]=0,a[8]=p,a[12]=0,a[1]=0,a[5]=c,a[9]=A,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=u,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,i,r,s){const a=this.elements,o=1/(t-e),c=1/(n-i),p=1/(s-r),A=(t+e)*o,l=(n+i)*c,u=(s+r)*p;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-A,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*p,a[14]=-u,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});const zb=new Xe,Yb=new zn;function Vc(e=0,t=0,n=0,i=Vc.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=i}Vc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];Vc.DefaultOrder="XYZ";Object.defineProperties(Vc.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}});Object.assign(Vc.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){const i=nn.clamp,r=e.elements,s=r[0],a=r[4],o=r[8],c=r[1],p=r[5],A=r[9],l=r[2],u=r[6],d=r[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-A,d),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(u,p),this._z=0);break;case"YXZ":this._x=Math.asin(-i(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(c,p)):(this._y=Math.atan2(-l,s),this._z=0);break;case"ZXY":this._x=Math.asin(i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-l,d),this._z=Math.atan2(-a,p)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(u,d),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,p));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-A,p),this._y=Math.atan2(-l,s)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(u,p),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-A,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return zb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zb,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Yb.setFromEuler(this),this.setFromQuaternion(Yb,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new F(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});function m_(){this.mask=1}Object.assign(m_.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!==0}});let TW=0;const Wb=new F,TA=new zn,yo=new Xe,uh=new F,Nu=new F,BW=new F,MW=new zn,$b=new F(1,0,0),jb=new F(0,1,0),Xb=new F(0,0,1),SW={type:"added"},OW={type:"removed"};function ct(){Object.defineProperty(this,"id",{value:TW++}),this.uuid=nn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ct.DefaultUp.clone();const e=new F,t=new Vc,n=new zn,i=new F(1,1,1);function r(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xe},normalMatrix:{value:new rr}}),this.matrix=new Xe,this.matrixWorld=new Xe,this.matrixAutoUpdate=ct.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new m_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}ct.DefaultUp=new F(0,1,0);ct.DefaultMatrixAutoUpdate=!0;ct.prototype=Object.assign(Object.create(Wo.prototype),{constructor:ct,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return TA.setFromAxisAngle(e,t),this.quaternion.multiply(TA),this},rotateOnWorldAxis:function(e,t){return TA.setFromAxisAngle(e,t),this.quaternion.premultiply(TA),this},rotateX:function(e){return this.rotateOnAxis($b,e)},rotateY:function(e){return this.rotateOnAxis(jb,e)},rotateZ:function(e){return this.rotateOnAxis(Xb,e)},translateOnAxis:function(e,t){return Wb.copy(e).applyQuaternion(this.quaternion),this.position.add(Wb.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis($b,e)},translateY:function(e){return this.translateOnAxis(jb,e)},translateZ:function(e){return this.translateOnAxis(Xb,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(yo.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?uh.copy(e):uh.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Nu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yo.lookAt(Nu,uh,this.up):yo.lookAt(uh,Nu,this.up),this.quaternion.setFromRotationMatrix(yo),i&&(yo.extractRotation(i.matrixWorld),TA.setFromRotationMatrix(yo),this.quaternion.premultiply(TA.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(SW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(OW)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),yo.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yo.multiply(e.parent.matrixWorld)),e.applyMatrix4(yo),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new F),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new zn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Nu,e,BW),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new F),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Nu,MW,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new F),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function r(a,o){return a[o.uuid]===void 0&&(a[o.uuid]=o.toJSON(e)),o.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const o=a.shapes;if(Array.isArray(o))for(let c=0,p=o.length;c<p;c++){const A=o[c];r(e.shapes,A)}else r(e.shapes,o)}}if(this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let o=0,c=this.material.length;o<c;o++)a.push(r(e.materials,this.material[o]));i.material=a}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(t){const a=s(e.geometries),o=s(e.materials),c=s(e.textures),p=s(e.images),A=s(e.shapes);a.length>0&&(n.geometries=a),o.length>0&&(n.materials=o),c.length>0&&(n.textures=c),p.length>0&&(n.images=p),A.length>0&&(n.shapes=A)}return n.object=i,n;function s(a){const o=[];for(const c in a){const p=a[c];delete p.metadata,o.push(p)}return o}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});function Rl(){ct.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Rl.prototype=Object.assign(Object.create(ct.prototype),{constructor:Rl,isScene:!0,copy:function(e,t){return ct.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=ct.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const go=[new F,new F,new F,new F,new F,new F,new F,new F],Pu=new F,H3=new Yn,BA=new F,MA=new F,SA=new F,Ac=new F,lc=new F,lp=new F,Uu=new F,fh=new F,dh=new F,up=new F;function Yn(e,t){this.min=e!==void 0?e:new F(1/0,1/0,1/0),this.max=t!==void 0?t:new F(-1/0,-1/0,-1/0)}Object.assign(Yn.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,c=e.length;o<c;o+=3){const p=e[o],A=e[o+1],l=e[o+2];p<t&&(t=p),A<n&&(n=A),l<i&&(i=l),p>r&&(r=p),A>s&&(s=A),l>a&&(a=l)}return this.min.set(t,n,i),this.max.set(r,s,a),this},setFromBufferAttribute:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,c=e.count;o<c;o++){const p=e.getX(o),A=e.getY(o),l=e.getZ(o);p<t&&(t=p),A<n&&(n=A),l<i&&(i=l),p>r&&(r=p),A>s&&(s=A),l>a&&(a=l)}return this.min.set(t,n,i),this.max.set(r,s,a),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=Pu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new F),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new F),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),H3.copy(t.boundingBox),H3.applyMatrix4(e.matrixWorld),this.union(H3));const n=e.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new F),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Pu),Pu.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Uu),fh.subVectors(this.max,Uu),BA.subVectors(e.a,Uu),MA.subVectors(e.b,Uu),SA.subVectors(e.c,Uu),Ac.subVectors(MA,BA),lc.subVectors(SA,MA),lp.subVectors(BA,SA);let t=[0,-Ac.z,Ac.y,0,-lc.z,lc.y,0,-lp.z,lp.y,Ac.z,0,-Ac.x,lc.z,0,-lc.x,lp.z,0,-lp.x,-Ac.y,Ac.x,0,-lc.y,lc.x,0,-lp.y,lp.x,0];return!D3(t,BA,MA,SA,fh)||(t=[1,0,0,0,1,0,0,0,1],!D3(t,BA,MA,SA,fh))?!1:(dh.crossVectors(Ac,lc),t=[dh.x,dh.y,dh.z],D3(t,BA,MA,SA,fh))},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new F),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Pu.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(Pu).length()*.5,e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(go[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),go[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),go[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),go[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),go[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),go[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),go[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),go[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(go),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function D3(e,t,n,i,r){for(let s=0,a=e.length-3;s<=a;s+=3){up.fromArray(e,s);const o=r.x*Math.abs(up.x)+r.y*Math.abs(up.y)+r.z*Math.abs(up.z),c=t.dot(up),p=n.dot(up),A=i.dot(up);if(Math.max(-Math.max(c,p,A),Math.min(c,p,A))>o)return!1}return!0}const LW=new Yn;function $o(e,t){this.center=e!==void 0?e:new F,this.radius=t!==void 0?t:-1}Object.assign($o.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const n=this.center;t!==void 0?n.copy(t):LW.setFromPoints(e).getCenter(n);let i=0;for(let r=0,s=e.length;r<s;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new F),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Yn),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const wo=new F,G3=new F,hh=new F,uc=new F,Q3=new F,mh=new F,k3=new F;function ru(e,t){this.origin=e!==void 0?e:new F,this.direction=t!==void 0?t:new F(0,0,-1)}Object.assign(ru.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new F),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,wo)),this},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new F),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=wo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wo.copy(this.direction).multiplyScalar(t).add(this.origin),wo.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,i){G3.copy(e).add(t).multiplyScalar(.5),hh.copy(t).sub(e).normalize(),uc.copy(this.origin).sub(G3);const r=e.distanceTo(t)*.5,s=-this.direction.dot(hh),a=uc.dot(this.direction),o=-uc.dot(hh),c=uc.lengthSq(),p=Math.abs(1-s*s);let A,l,u,d;if(p>0)if(A=s*o-a,l=s*a-o,d=r*p,A>=0)if(l>=-d)if(l<=d){const m=1/p;A*=m,l*=m,u=A*(A+s*l+2*a)+l*(s*A+l+2*o)+c}else l=r,A=Math.max(0,-(s*l+a)),u=-A*A+l*(l+2*o)+c;else l=-r,A=Math.max(0,-(s*l+a)),u=-A*A+l*(l+2*o)+c;else l<=-d?(A=Math.max(0,-(-s*r+a)),l=A>0?-r:Math.min(Math.max(-r,-o),r),u=-A*A+l*(l+2*o)+c):l<=d?(A=0,l=Math.min(Math.max(-r,-o),r),u=l*(l+2*o)+c):(A=Math.max(0,-(s*r+a)),l=A>0?r:Math.min(Math.max(-r,-o),r),u=-A*A+l*(l+2*o)+c);else l=s>0?-r:r,A=Math.max(0,-(s*l+a)),u=-A*A+l*(l+2*o)+c;return n&&n.copy(this.direction).multiplyScalar(A).add(this.origin),i&&i.copy(hh).multiplyScalar(l).add(G3),u},intersectSphere:function(e,t){wo.subVectors(e.center,this.origin);const n=wo.dot(this.direction),i=wo.dot(wo)-n*n,r=e.radius*e.radius;if(i>r)return null;const s=Math.sqrt(r-i),a=n-s,o=n+s;return a<0&&o<0?null:a<0?this.at(o,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){let n,i,r,s,a,o;const c=1/this.direction.x,p=1/this.direction.y,A=1/this.direction.z,l=this.origin;return c>=0?(n=(e.min.x-l.x)*c,i=(e.max.x-l.x)*c):(n=(e.max.x-l.x)*c,i=(e.min.x-l.x)*c),p>=0?(r=(e.min.y-l.y)*p,s=(e.max.y-l.y)*p):(r=(e.max.y-l.y)*p,s=(e.min.y-l.y)*p),n>s||r>i||((r>n||n!==n)&&(n=r),(s<i||i!==i)&&(i=s),A>=0?(a=(e.min.z-l.z)*A,o=(e.max.z-l.z)*A):(a=(e.max.z-l.z)*A,o=(e.min.z-l.z)*A),n>o||a>i)||((a>n||n!==n)&&(n=a),(o<i||i!==i)&&(i=o),i<0)?null:this.at(n>=0?n:i,t)},intersectsBox:function(e){return this.intersectBox(e,wo)!==null},intersectTriangle:function(e,t,n,i,r){Q3.subVectors(t,e),mh.subVectors(n,e),k3.crossVectors(Q3,mh);let s=this.direction.dot(k3),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;uc.subVectors(this.origin,e);const o=a*this.direction.dot(mh.crossVectors(uc,mh));if(o<0)return null;const c=a*this.direction.dot(Q3.cross(uc));if(c<0||o+c>s)return null;const p=-a*uc.dot(k3);return p<0?null:this.at(p/s,r)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const V3=new F,RW=new F,IW=new rr;function Qa(e,t){this.normal=e!==void 0?e:new F(1,0,0),this.constant=t!==void 0?t:0}Object.assign(Qa.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){const i=V3.subVectors(n,t).cross(RW.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new F),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new F);const n=e.delta(V3),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):void 0;const r=-(e.start.dot(this.normal)+this.constant)/i;if(!(r<0||r>1))return t.copy(n).multiplyScalar(r).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new F),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const n=t||IW.getNormalMatrix(e),i=this.coplanarPoint(V3).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const Aa=new F,Mo=new F,K3=new F,_o=new F,OA=new F,LA=new F,qb=new F,z3=new F,Y3=new F,W3=new F;function nr(e,t,n){this.a=e!==void 0?e:new F,this.b=t!==void 0?t:new F,this.c=n!==void 0?n:new F}Object.assign(nr,{getNormal:function(e,t,n,i){i===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new F),i.subVectors(n,t),Aa.subVectors(e,t),i.cross(Aa);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(e,t,n,i,r){Aa.subVectors(i,t),Mo.subVectors(n,t),K3.subVectors(e,t);const s=Aa.dot(Aa),a=Aa.dot(Mo),o=Aa.dot(K3),c=Mo.dot(Mo),p=Mo.dot(K3),A=s*c-a*a;if(r===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new F),A===0)return r.set(-2,-1,-1);const l=1/A,u=(c*o-a*p)*l,d=(s*p-a*o)*l;return r.set(1-u-d,d,u)},containsPoint:function(e,t,n,i){return nr.getBarycoord(e,t,n,i,_o),_o.x>=0&&_o.y>=0&&_o.x+_o.y<=1},getUV:function(e,t,n,i,r,s,a,o){return this.getBarycoord(e,t,n,i,_o),o.set(0,0),o.addScaledVector(r,_o.x),o.addScaledVector(s,_o.y),o.addScaledVector(a,_o.z),o},isFrontFacing:function(e,t,n,i){return Aa.subVectors(n,t),Mo.subVectors(e,t),Aa.cross(Mo).dot(i)<0}});Object.assign(nr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Aa.subVectors(this.c,this.b),Mo.subVectors(this.a,this.b),Aa.cross(Mo).length()*.5},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new F),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return nr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Qa),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return nr.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,i,r){return nr.getUV(e,this.a,this.b,this.c,t,n,i,r)},containsPoint:function(e){return nr.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return nr.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new F);const n=this.a,i=this.b,r=this.c;let s,a;OA.subVectors(i,n),LA.subVectors(r,n),z3.subVectors(e,n);const o=OA.dot(z3),c=LA.dot(z3);if(o<=0&&c<=0)return t.copy(n);Y3.subVectors(e,i);const p=OA.dot(Y3),A=LA.dot(Y3);if(p>=0&&A<=p)return t.copy(i);const l=o*A-p*c;if(l<=0&&o>=0&&p<=0)return s=o/(o-p),t.copy(n).addScaledVector(OA,s);W3.subVectors(e,r);const u=OA.dot(W3),d=LA.dot(W3);if(d>=0&&u<=d)return t.copy(r);const m=u*c-o*d;if(m<=0&&c>=0&&d<=0)return a=c/(c-d),t.copy(n).addScaledVector(LA,a);const y=p*d-u*A;if(y<=0&&A-p>=0&&u-d>=0)return qb.subVectors(r,i),a=(A-p)/(A-p+(u-d)),t.copy(i).addScaledVector(qb,a);const g=1/(y+m+l);return s=m*g,a=l*g,t.copy(n).addScaledVector(OA,s).addScaledVector(LA,a)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const H8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ra={h:0,s:0,l:0},Eh={h:0,s:0,l:0};function Je(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}function $3(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function j3(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function X3(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}Object.assign(Je.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=nn.euclideanModulo(e,1),t=nn.clamp(t,0,1),n=nn.clamp(n,0,1),t===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=$3(r,i,e+1/3),this.g=$3(r,i,e),this.b=$3(r,i,e-1/3)}return this},setStyle:function(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let i;const r=n[1],s=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){const a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(a,o,c)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){const i=n[1],r=i.length;if(r===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(r===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=H8[e];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=j3(e.r),this.g=j3(e.g),this.b=j3(e.b),this},copyLinearToSRGB:function(e){return this.r=X3(e.r),this.g=X3(e.g),this.b=X3(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),s=Math.min(t,n,i);let a,o;const c=(s+r)/2;if(s===r)a=0,o=0;else{const p=r-s;switch(o=c<=.5?p/(r+s):p/(2-r-s),r){case t:a=(n-i)/p+(n<i?6:0);break;case n:a=(i-t)/p+2;break;case i:a=(t-n)/p+4;break}a/=6}return e.h=a,e.s=o,e.l=c,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(ra),ra.h+=e,ra.s+=t,ra.l+=n,this.setHSL(ra.h,ra.s,ra.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(ra),e.getHSL(Eh);const n=nn.lerp(ra.h,Eh.h,t),i=nn.lerp(ra.s,Eh.s,t),r=nn.lerp(ra.l,Eh.l,t);return this.setHSL(n,i,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}});Je.NAMES=H8;function Ip(e,t,n,i,r,s){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new F,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new Je,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=s!==void 0?s:0}Object.assign(Ip.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let FW=0;function Yt(){Object.defineProperty(this,"id",{value:FW++}),this.uuid=nn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Nc,this.side=nu,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=O8,this.blendDst=L8,this.blendEquation=qA,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ww,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vW,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=P3,this.stencilZFail=P3,this.stencilZPass=P3,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Yt.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Yt,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===S8;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Nc&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==nu&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const s=[];for(const a in r){const o=r[a];delete o.metadata,s.push(o)}return s}if(t){const r=i(e.textures),s=i(e.images);r.length>0&&(n.textures=r),s.length>0&&(n.images=s)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Yt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function _a(e){Yt.call(this),this.type="MeshBasicMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=BE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}_a.prototype=Object.create(Yt.prototype);_a.prototype.constructor=_a;_a.prototype.isMeshBasicMaterial=!0;_a.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const qn=new F,yh=new Ke;function bt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=SE,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(bt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(bt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Je),t[n++]=s.r,t[n++]=s.g,t[n++]=s.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Ke),t[n++]=s.x,t[n++]=s.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new F),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new Qn),t[n++]=s.x,t[n++]=s.y,t[n++]=s.z,t[n++]=s.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)yh.fromBufferAttribute(this,t),yh.applyMatrix3(e),this.setXY(t,yh.x,yh.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)qn.fromBufferAttribute(this,t),qn.applyMatrix3(e),this.setXYZ(t,qn.x,qn.y,qn.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)qn.x=this.getX(t),qn.y=this.getY(t),qn.z=this.getZ(t),qn.applyMatrix4(e),this.setXYZ(t,qn.x,qn.y,qn.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)qn.x=this.getX(t),qn.y=this.getY(t),qn.z=this.getZ(t),qn.applyNormalMatrix(e),this.setXYZ(t,qn.x,qn.y,qn.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)qn.x=this.getX(t),qn.y=this.getY(t),qn.z=this.getZ(t),qn.transformDirection(e),this.setXYZ(t,qn.x,qn.y,qn.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Cw(e,t,n){bt.call(this,new Int8Array(e),t,n)}Cw.prototype=Object.create(bt.prototype);Cw.prototype.constructor=Cw;function bw(e,t,n){bt.call(this,new Uint8Array(e),t,n)}bw.prototype=Object.create(bt.prototype);bw.prototype.constructor=bw;function xw(e,t,n){bt.call(this,new Uint8ClampedArray(e),t,n)}xw.prototype=Object.create(bt.prototype);xw.prototype.constructor=xw;function Tw(e,t,n){bt.call(this,new Int16Array(e),t,n)}Tw.prototype=Object.create(bt.prototype);Tw.prototype.constructor=Tw;function qf(e,t,n){bt.call(this,new Uint16Array(e),t,n)}qf.prototype=Object.create(bt.prototype);qf.prototype.constructor=qf;function Bw(e,t,n){bt.call(this,new Int32Array(e),t,n)}Bw.prototype=Object.create(bt.prototype);Bw.prototype.constructor=Bw;function Zf(e,t,n){bt.call(this,new Uint32Array(e),t,n)}Zf.prototype=Object.create(bt.prototype);Zf.prototype.constructor=Zf;function lt(e,t,n){bt.call(this,new Float32Array(e),t,n)}lt.prototype=Object.create(bt.prototype);lt.prototype.constructor=lt;function Mw(e,t,n){bt.call(this,new Float64Array(e),t,n)}Mw.prototype=Object.create(bt.prototype);Mw.prototype.constructor=Mw;function D8(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(D8.prototype,{computeGroups:function(e){const t=[];let n,i,r;const s=e.faces;for(i=0;i<s.length;i++){const a=s[i];a.materialIndex!==r&&(r=a.materialIndex,n!==void 0&&(n.count=i*3-n.start,t.push(n)),n={start:i*3,materialIndex:r})}n!==void 0&&(n.count=i*3-n.start,t.push(n)),this.groups=t},fromGeometry:function(e){const t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,s=i[1]&&i[1].length>0,a=e.morphTargets,o=a.length;let c;if(o>0){c=[];for(let g=0;g<o;g++)c[g]={name:a[g].name,data:[]};this.morphTargets.position=c}const p=e.morphNormals,A=p.length;let l;if(A>0){l=[];for(let g=0;g<A;g++)l[g]={name:p[g].name,data:[]};this.morphTargets.normal=l}const u=e.skinIndices,d=e.skinWeights,m=u.length===n.length,y=d.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){const E=t[g];this.vertices.push(n[E.a],n[E.b],n[E.c]);const w=E.vertexNormals;if(w.length===3)this.normals.push(w[0],w[1],w[2]);else{const _=E.normal;this.normals.push(_,_,_)}const b=E.vertexColors;if(b.length===3)this.colors.push(b[0],b[1],b[2]);else{const _=E.color;this.colors.push(_,_,_)}if(r===!0){const _=i[0][g];_!==void 0?this.uvs.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Ke,new Ke,new Ke))}if(s===!0){const _=i[1][g];_!==void 0?this.uvs2.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Ke,new Ke,new Ke))}for(let _=0;_<o;_++){const C=a[_].vertices;c[_].data.push(C[E.a],C[E.b],C[E.c])}for(let _=0;_<A;_++){const C=p[_].vertexNormals[g];l[_].data.push(C.a,C.b,C.c)}m&&this.skinIndices.push(u[E.a],u[E.b],u[E.c]),y&&this.skinWeights.push(d[E.a],d[E.b],d[E.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});function G8(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}let NW=1;const Oa=new Xe,q3=new ct,RA=new F,as=new Yn,Hu=new Yn,Vi=new F;function pt(){Object.defineProperty(this,"id",{value:NW+=2}),this.uuid=nn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}pt.prototype=Object.assign(Object.create(Wo.prototype),{constructor:pt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(G8(e)>65535?Zf:qf)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new rr().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Oa.makeRotationX(e),this.applyMatrix4(Oa),this},rotateY:function(e){return Oa.makeRotationY(e),this.applyMatrix4(Oa),this},rotateZ:function(e){return Oa.makeRotationZ(e),this.applyMatrix4(Oa),this},translate:function(e,t,n){return Oa.makeTranslation(e,t,n),this.applyMatrix4(Oa),this},scale:function(e,t,n){return Oa.makeScale(e,t,n),this.applyMatrix4(Oa),this},lookAt:function(e){return q3.lookAt(e),q3.updateMatrix(),this.applyMatrix4(q3.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(RA).negate(),this.translate(RA.x,RA.y,RA.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new lt(t.vertices.length*3,3),i=new lt(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const r=new lt(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new lt(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new D8().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new bt(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new bt(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new bt(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new bt(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new bt(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],r=e.morphTargets[n];for(let s=0,a=r.length;s<a;s++){const o=r[s],c=new lt(o.data.length*3,3);c.name=o.name,i.push(c.copyVector3sArray(o.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new lt(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new lt(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Yn);const e=this.attributes.position,t=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];as.setFromBufferAttribute(r),this.morphTargetsRelative?(Vi.addVectors(this.boundingBox.min,as.min),this.boundingBox.expandByPoint(Vi),Vi.addVectors(this.boundingBox.max,as.max),this.boundingBox.expandByPoint(Vi)):(this.boundingBox.expandByPoint(as.min),this.boundingBox.expandByPoint(as.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new $o);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const n=this.boundingSphere.center;if(as.setFromBufferAttribute(e),t)for(let r=0,s=t.length;r<s;r++){const a=t[r];Hu.setFromBufferAttribute(a),this.morphTargetsRelative?(Vi.addVectors(as.min,Hu.min),as.expandByPoint(Vi),Vi.addVectors(as.max,Hu.max),as.expandByPoint(Vi)):(as.expandByPoint(Hu.min),as.expandByPoint(Hu.max))}as.getCenter(n);let i=0;for(let r=0,s=e.count;r<s;r++)Vi.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Vi));if(t)for(let r=0,s=t.length;r<s;r++){const a=t[r],o=this.morphTargetsRelative;for(let c=0,p=a.count;c<p;c++)Vi.fromBufferAttribute(a,c),o&&(RA.fromBufferAttribute(e,c),Vi.add(RA)),i=Math.max(i,n.distanceToSquared(Vi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new bt(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let l=0,u=n.count;l<u;l++)n.setXYZ(l,0,0,0);const i=new F,r=new F,s=new F,a=new F,o=new F,c=new F,p=new F,A=new F;if(e)for(let l=0,u=e.count;l<u;l+=3){const d=e.getX(l+0),m=e.getX(l+1),y=e.getX(l+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,y),p.subVectors(s,r),A.subVectors(i,r),p.cross(A),a.fromBufferAttribute(n,d),o.fromBufferAttribute(n,m),c.fromBufferAttribute(n,y),a.add(p),o.add(p),c.add(p),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(m,o.x,o.y,o.z),n.setXYZ(y,c.x,c.y,c.z)}else for(let l=0,u=t.count;l<u;l+=3)i.fromBufferAttribute(t,l+0),r.fromBufferAttribute(t,l+1),s.fromBufferAttribute(t,l+2),p.subVectors(s,r),A.subVectors(i,r),p.cross(A),n.setXYZ(l+0,p.x,p.y,p.z),n.setXYZ(l+1,p.x,p.y,p.z),n.setXYZ(l+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const s=n[i].array,a=e.attributes[i],o=a.array,c=a.itemSize*t,p=Math.min(o.length,s.length-c);for(let A=0,l=c;A<p;A++,l++)s[l]=o[A]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Vi.fromBufferAttribute(e,t),Vi.normalize(),e.setXYZ(t,Vi.x,Vi.y,Vi.z)},toNonIndexed:function(){function e(a,o){const c=a.array,p=a.itemSize,A=a.normalized,l=new c.constructor(o.length*p);let u=0,d=0;for(let m=0,y=o.length;m<y;m++){u=o[m]*p;for(let g=0;g<p;g++)l[d++]=c[u++]}return new bt(l,p,A)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new pt,n=this.index.array,i=this.attributes;for(const a in i){const o=i[a],c=e(o,n);t.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const o=[],c=r[a];for(let p=0,A=c.length;p<A;p++){const l=c[p],u=e(l,n);o.push(u)}t.morphAttributes[a]=o}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,o=s.length;a<o;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const c in o)o[c]!==void 0&&(e[c]=o[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const o in n){const c=n[o],p=c.toJSON(e.data);c.name!==""&&(p.name=c.name),e.data.attributes[o]=p}const i={};let r=!1;for(const o in this.morphAttributes){const c=this.morphAttributes[o],p=[];for(let A=0,l=c.length;A<l;A++){const u=c[A],d=u.toJSON(e.data);u.name!==""&&(d.name=u.name),p.push(d)}p.length>0&&(i[o]=p,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e},clone:function(){return new pt().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const c in i){const p=i[c];this.setAttribute(c,p.clone(t))}const r=e.morphAttributes;for(const c in r){const p=[],A=r[c];for(let l=0,u=A.length;l<u;l++)p.push(A[l].clone(t));this.morphAttributes[c]=p}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,p=s.length;c<p;c++){const A=s[c];this.addGroup(A.start,A.count,A.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Zb=new Xe,fp=new ru,Z3=new $o,fc=new F,dc=new F,hc=new F,J3=new F,eg=new F,tg=new F,gh=new F,wh=new F,_h=new F,ll=new Ke,ul=new Ke,fl=new Ke,Lf=new F,vh=new F;function $n(e,t){ct.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new pt,this.material=t!==void 0?t:new _a,this.updateMorphTargets()}$n.prototype=Object.assign(Object.create(ct.prototype),{constructor:$n,isMesh:!0,copy:function(e){return ct.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Z3.copy(n.boundingSphere),Z3.applyMatrix4(r),e.ray.intersectsSphere(Z3)===!1)||(Zb.getInverse(r),fp.copy(e.ray).applyMatrix4(Zb),n.boundingBox!==null&&fp.intersectsBox(n.boundingBox)===!1))return;let s;if(n.isBufferGeometry){const a=n.index,o=n.attributes.position,c=n.morphAttributes.position,p=n.morphTargetsRelative,A=n.attributes.uv,l=n.attributes.uv2,u=n.groups,d=n.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,y=u.length;m<y;m++){const g=u[m],E=i[g.materialIndex],w=Math.max(g.start,d.start),b=Math.min(g.start+g.count,d.start+d.count);for(let _=w,C=b;_<C;_+=3){const T=a.getX(_),x=a.getX(_+1),O=a.getX(_+2);s=Ch(this,E,e,fp,o,c,p,A,l,T,x,O),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const m=Math.max(0,d.start),y=Math.min(a.count,d.start+d.count);for(let g=m,E=y;g<E;g+=3){const w=a.getX(g),b=a.getX(g+1),_=a.getX(g+2);s=Ch(this,i,e,fp,o,c,p,A,l,w,b,_),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}else if(o!==void 0)if(Array.isArray(i))for(let m=0,y=u.length;m<y;m++){const g=u[m],E=i[g.materialIndex],w=Math.max(g.start,d.start),b=Math.min(g.start+g.count,d.start+d.count);for(let _=w,C=b;_<C;_+=3){const T=_,x=_+1,O=_+2;s=Ch(this,E,e,fp,o,c,p,A,l,T,x,O),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const m=Math.max(0,d.start),y=Math.min(o.count,d.start+d.count);for(let g=m,E=y;g<E;g+=3){const w=g,b=g+1,_=g+2;s=Ch(this,i,e,fp,o,c,p,A,l,w,b,_),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}}else if(n.isGeometry){const a=Array.isArray(i),o=n.vertices,c=n.faces;let p;const A=n.faceVertexUvs[0];A.length>0&&(p=A);for(let l=0,u=c.length;l<u;l++){const d=c[l],m=a?i[d.materialIndex]:i;if(m===void 0)continue;const y=o[d.a],g=o[d.b],E=o[d.c];if(s=Q8(this,m,e,fp,y,g,E,Lf),s){if(p&&p[l]){const w=p[l];ll.copy(w[0]),ul.copy(w[1]),fl.copy(w[2]),s.uv=nr.getUV(Lf,y,g,E,ll,ul,fl,new Ke)}s.face=d,s.faceIndex=l,t.push(s)}}}}});function Q8(e,t,n,i,r,s,a,o){let c;if(t.side===Hi?c=i.intersectTriangle(a,s,r,!0,o):c=i.intersectTriangle(r,s,a,t.side!==kd,o),c===null)return null;vh.copy(o),vh.applyMatrix4(e.matrixWorld);const p=n.ray.origin.distanceTo(vh);return p<n.near||p>n.far?null:{distance:p,point:vh.clone(),object:e}}function Ch(e,t,n,i,r,s,a,o,c,p,A,l){fc.fromBufferAttribute(r,p),dc.fromBufferAttribute(r,A),hc.fromBufferAttribute(r,l);const u=e.morphTargetInfluences;if(t.morphTargets&&s&&u){gh.set(0,0,0),wh.set(0,0,0),_h.set(0,0,0);for(let m=0,y=s.length;m<y;m++){const g=u[m],E=s[m];g!==0&&(J3.fromBufferAttribute(E,p),eg.fromBufferAttribute(E,A),tg.fromBufferAttribute(E,l),a?(gh.addScaledVector(J3,g),wh.addScaledVector(eg,g),_h.addScaledVector(tg,g)):(gh.addScaledVector(J3.sub(fc),g),wh.addScaledVector(eg.sub(dc),g),_h.addScaledVector(tg.sub(hc),g)))}fc.add(gh),dc.add(wh),hc.add(_h)}e.isSkinnedMesh&&(e.boneTransform(p,fc),e.boneTransform(A,dc),e.boneTransform(l,hc));const d=Q8(e,t,n,i,fc,dc,hc,Lf);if(d){o&&(ll.fromBufferAttribute(o,p),ul.fromBufferAttribute(o,A),fl.fromBufferAttribute(o,l),d.uv=nr.getUV(Lf,fc,dc,hc,ll,ul,fl,new Ke)),c&&(ll.fromBufferAttribute(c,p),ul.fromBufferAttribute(c,A),fl.fromBufferAttribute(c,l),d.uv2=nr.getUV(Lf,fc,dc,hc,ll,ul,fl,new Ke));const m=new Ip(p,A,l);nr.getNormal(fc,dc,hc,m.normal),d.face=m}return d}let PW=0;const La=new Xe,ng=new ct,bh=new F;function Ht(){Object.defineProperty(this,"id",{value:PW+=2}),this.uuid=nn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Ht.prototype=Object.assign(Object.create(Wo.prototype),{constructor:Ht,isGeometry:!0,applyMatrix4:function(e){const t=new rr().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let s=0,a=r.vertexNormals.length;s<a;s++)r.vertexNormals[s].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return La.makeRotationX(e),this.applyMatrix4(La),this},rotateY:function(e){return La.makeRotationY(e),this.applyMatrix4(La),this},rotateZ:function(e){return La.makeRotationZ(e),this.applyMatrix4(La),this},translate:function(e,t,n){return La.makeTranslation(e,t,n),this.applyMatrix4(La),this},scale:function(e,t,n){return La.makeScale(e,t,n),this.applyMatrix4(La),this},lookAt:function(e){return ng.lookAt(e),ng.updateMatrix(),this.applyMatrix4(ng.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,s=i.normal,a=i.color,o=i.uv,c=i.uv2;c!==void 0&&(this.faceVertexUvs[1]=[]);for(let l=0;l<r.count;l++)t.vertices.push(new F().fromBufferAttribute(r,l)),a!==void 0&&t.colors.push(new Je().fromBufferAttribute(a,l));function p(l,u,d,m){const y=a===void 0?[]:[t.colors[l].clone(),t.colors[u].clone(),t.colors[d].clone()],g=s===void 0?[]:[new F().fromBufferAttribute(s,l),new F().fromBufferAttribute(s,u),new F().fromBufferAttribute(s,d)],E=new Ip(l,u,d,g,y,m);t.faces.push(E),o!==void 0&&t.faceVertexUvs[0].push([new Ke().fromBufferAttribute(o,l),new Ke().fromBufferAttribute(o,u),new Ke().fromBufferAttribute(o,d)]),c!==void 0&&t.faceVertexUvs[1].push([new Ke().fromBufferAttribute(c,l),new Ke().fromBufferAttribute(c,u),new Ke().fromBufferAttribute(c,d)])}const A=e.groups;if(A.length>0)for(let l=0;l<A.length;l++){const u=A[l],d=u.start,m=u.count;for(let y=d,g=d+m;y<g;y+=3)n!==void 0?p(n.getX(y),n.getX(y+1),n.getX(y+2),u.materialIndex):p(y,y+1,y+2,u.materialIndex)}else if(n!==void 0)for(let l=0;l<n.count;l+=3)p(n.getX(l),n.getX(l+1),n.getX(l+2));else for(let l=0;l<r.count;l+=3)p(l,l+1,l+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(bh).negate(),this.translate(bh.x,bh.y,bh.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new Xe;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new F,t=new F;for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],s=this.vertices[r.a],a=this.vertices[r.b],o=this.vertices[r.c];e.subVectors(o,a),t.subVectors(s,a),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new F;if(e){const n=new F,i=new F;for(let r=0,s=this.faces.length;r<s;r++){const a=this.faces[r],o=this.vertices[a.a],c=this.vertices[a.b],p=this.vertices[a.c];n.subVectors(p,c),i.subVectors(o,c),n.cross(i),t[a.a].add(n),t[a.b].add(n),t[a.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],s=r.vertexNormals;s.length===3?(s[0].copy(t[r.a]),s[1].copy(t[r.b]),s[2].copy(t[r.c])):(s[0]=t[r.a].clone(),s[1]=t[r.b].clone(),s[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,s=i.vertexNormals.length;r<s;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}const e=new Ht;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const r=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(let a=0,o=this.faces.length;a<o;a++){const c=new F,p={a:new F,b:new F,c:new F};r.push(c),s.push(p)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,s=this.faces.length;r<s;r++){const a=this.faces[r],o=i.faceNormals[r],c=i.vertexNormals[r];o.copy(a.normal),c.a.copy(a.vertexNormals[0]),c.b.copy(a.vertexNormals[1]),c.c.copy(a.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Yn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new $o),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i,r=this.vertices.length,s=this.vertices,a=e.vertices,o=this.faces,c=e.faces,p=this.colors,A=e.colors;n===void 0&&(n=0),t!==void 0&&(i=new rr().getNormalMatrix(t));for(let l=0,u=a.length;l<u;l++){const m=a[l].clone();t!==void 0&&m.applyMatrix4(t),s.push(m)}for(let l=0,u=A.length;l<u;l++)p.push(A[l].clone());for(let l=0,u=c.length;l<u;l++){let d=c[l],m,y,g,E=d.vertexNormals,w=d.vertexColors;m=new Ip(d.a+r,d.b+r,d.c+r),m.normal.copy(d.normal),i!==void 0&&m.normal.applyMatrix3(i).normalize();for(let b=0,_=E.length;b<_;b++)y=E[b].clone(),i!==void 0&&y.applyMatrix3(i).normalize(),m.vertexNormals.push(y);m.color.copy(d.color);for(let b=0,_=w.length;b<_;b++)g=w[b],m.vertexColors.push(g.clone());m.materialIndex=d.materialIndex+n,o.push(m)}for(let l=0,u=e.faceVertexUvs.length;l<u;l++){const d=e.faceVertexUvs[l];this.faceVertexUvs[l]===void 0&&(this.faceVertexUvs[l]=[]);for(let m=0,y=d.length;m<y;m++){const g=d[m],E=[];for(let w=0,b=g.length;w<b;w++)E.push(g[w].clone());this.faceVertexUvs[l].push(E)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],n=[],r=Math.pow(10,4);for(let o=0,c=this.vertices.length;o<c;o++){const p=this.vertices[o],A=Math.round(p.x*r)+"_"+Math.round(p.y*r)+"_"+Math.round(p.z*r);e[A]===void 0?(e[A]=o,t.push(this.vertices[o]),n[o]=t.length-1):n[o]=n[e[A]]}const s=[];for(let o=0,c=this.faces.length;o<c;o++){const p=this.faces[o];p.a=n[p.a],p.b=n[p.b],p.c=n[p.c];const A=[p.a,p.b,p.c];for(let l=0;l<3;l++)if(A[l]===A[(l+1)%3]){s.push(o);break}}for(let o=s.length-1;o>=0;o--){const c=s[o];this.faces.splice(c,1);for(let p=0,A=this.faceVertexUvs.length;p<A;p++)this.faceVertexUvs[p].splice(c,1)}const a=this.vertices.length-t.length;return this.vertices=t,a},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new F(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let o=0;o<t;o++)e[o]._id=o;function n(o,c){return o.materialIndex-c.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let s,a;i&&i.length===t&&(s=[]),r&&r.length===t&&(a=[]);for(let o=0;o<t;o++){const c=e[o]._id;s&&s.push(i[c]),a&&a.push(r[c])}s&&(this.faceVertexUvs[0]=s),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const d=this.parameters;for(const m in d)d[m]!==void 0&&(e[m]=d[m]);return e}const t=[];for(let d=0;d<this.vertices.length;d++){const m=this.vertices[d];t.push(m.x,m.y,m.z)}const n=[],i=[],r={},s=[],a={},o=[],c={};for(let d=0;d<this.faces.length;d++){const m=this.faces[d],y=!0,g=!1,E=this.faceVertexUvs[0][d]!==void 0,w=m.normal.length()>0,b=m.vertexNormals.length>0,_=m.color.r!==1||m.color.g!==1||m.color.b!==1,C=m.vertexColors.length>0;let T=0;if(T=p(T,0,0),T=p(T,1,y),T=p(T,2,g),T=p(T,3,E),T=p(T,4,w),T=p(T,5,b),T=p(T,6,_),T=p(T,7,C),n.push(T),n.push(m.a,m.b,m.c),n.push(m.materialIndex),E){const x=this.faceVertexUvs[0][d];n.push(u(x[0]),u(x[1]),u(x[2]))}if(w&&n.push(A(m.normal)),b){const x=m.vertexNormals;n.push(A(x[0]),A(x[1]),A(x[2]))}if(_&&n.push(l(m.color)),C){const x=m.vertexColors;n.push(l(x[0]),l(x[1]),l(x[2]))}}function p(d,m,y){return y?d|1<<m:d&~(1<<m)}function A(d){const m=d.x.toString()+d.y.toString()+d.z.toString();return r[m]!==void 0||(r[m]=i.length/3,i.push(d.x,d.y,d.z)),r[m]}function l(d){const m=d.r.toString()+d.g.toString()+d.b.toString();return a[m]!==void 0||(a[m]=s.length,s.push(d.getHex())),a[m]}function u(d){const m=d.x.toString()+d.y.toString();return c[m]!==void 0||(c[m]=o.length/2,o.push(d.x,d.y)),c[m]}return e.data={},e.data.vertices=t,e.data.normals=i,s.length>0&&(e.data.colors=s),o.length>0&&(e.data.uvs=[o]),e.data.faces=n,e},clone:function(){return new Ht().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let l=0,u=t.length;l<u;l++)this.vertices.push(t[l].clone());const n=e.colors;for(let l=0,u=n.length;l<u;l++)this.colors.push(n[l].clone());const i=e.faces;for(let l=0,u=i.length;l<u;l++)this.faces.push(i[l].clone());for(let l=0,u=e.faceVertexUvs.length;l<u;l++){const d=e.faceVertexUvs[l];this.faceVertexUvs[l]===void 0&&(this.faceVertexUvs[l]=[]);for(let m=0,y=d.length;m<y;m++){const g=d[m],E=[];for(let w=0,b=g.length;w<b;w++){const _=g[w];E.push(_.clone())}this.faceVertexUvs[l].push(E)}}const r=e.morphTargets;for(let l=0,u=r.length;l<u;l++){const d={};if(d.name=r[l].name,r[l].vertices!==void 0){d.vertices=[];for(let m=0,y=r[l].vertices.length;m<y;m++)d.vertices.push(r[l].vertices[m].clone())}if(r[l].normals!==void 0){d.normals=[];for(let m=0,y=r[l].normals.length;m<y;m++)d.normals.push(r[l].normals[m].clone())}this.morphTargets.push(d)}const s=e.morphNormals;for(let l=0,u=s.length;l<u;l++){const d={};if(s[l].vertexNormals!==void 0){d.vertexNormals=[];for(let m=0,y=s[l].vertexNormals.length;m<y;m++){const g=s[l].vertexNormals[m],E={};E.a=g.a.clone(),E.b=g.b.clone(),E.c=g.c.clone(),d.vertexNormals.push(E)}}if(s[l].faceNormals!==void 0){d.faceNormals=[];for(let m=0,y=s[l].faceNormals.length;m<y;m++)d.faceNormals.push(s[l].faceNormals[m].clone())}this.morphNormals.push(d)}const a=e.skinWeights;for(let l=0,u=a.length;l<u;l++)this.skinWeights.push(a[l].clone());const o=e.skinIndices;for(let l=0,u=o.length;l<u;l++)this.skinIndices.push(o[l].clone());const c=e.lineDistances;for(let l=0,u=c.length;l<u;l++)this.lineDistances.push(c[l]);const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const A=e.boundingSphere;return A!==null&&(this.boundingSphere=A.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class UW extends Ht{constructor(t,n,i,r,s,a){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:a},this.fromBufferGeometry(new zd(t,n,i,r,s,a)),this.mergeVertices()}}class zd extends pt{constructor(t,n,i,r,s,a){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;t=t||1,n=n||1,i=i||1,r=Math.floor(r)||1,s=Math.floor(s)||1,a=Math.floor(a)||1;const c=[],p=[],A=[],l=[];let u=0,d=0;m("z","y","x",-1,-1,i,n,t,a,s,0),m("z","y","x",1,-1,i,n,-t,a,s,1),m("x","z","y",1,1,t,i,n,r,a,2),m("x","z","y",1,-1,t,i,-n,r,a,3),m("x","y","z",1,-1,t,n,i,r,s,4),m("x","y","z",-1,-1,t,n,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new lt(p,3)),this.setAttribute("normal",new lt(A,3)),this.setAttribute("uv",new lt(l,2));function m(y,g,E,w,b,_,C,T,x,O,M){const H=_/x,R=C/O,D=_/2,P=C/2,I=T/2,L=x+1,k=O+1;let K=0,W=0;const ee=new F;for(let le=0;le<k;le++){const J=le*R-P;for(let re=0;re<L;re++){const te=re*H-D;ee[y]=te*w,ee[g]=J*b,ee[E]=I,p.push(ee.x,ee.y,ee.z),ee[y]=0,ee[g]=0,ee[E]=T>0?1:-1,A.push(ee.x,ee.y,ee.z),l.push(re/x),l.push(1-le/O),K+=1}}for(let le=0;le<O;le++)for(let J=0;J<x;J++){const re=u+J+L*le,te=u+J+L*(le+1),ge=u+(J+1)+L*(le+1),me=u+(J+1)+L*le;c.push(re,te,me),c.push(te,ge,me),W+=6}o.addGroup(d,W,M),d+=W,u+=K}}}function Il(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function ur(e){const t={};for(let n=0;n<e.length;n++){const i=Il(e[n]);for(const r in i)t[r]=i[r]}return t}const gm={clone:Il,merge:ur};var HW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,DW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Qi(e){Yt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=HW,this.fragmentShader=DW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Qi.prototype=Object.create(Yt.prototype);Qi.prototype.constructor=Qi;Qi.prototype.isShaderMaterial=!0;Qi.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Il(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this};Qi.prototype.toJSON=function(e){const t=Yt.prototype.toJSON.call(this,e);t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function Uo(){ct.call(this),this.type="Camera",this.matrixWorldInverse=new Xe,this.projectionMatrix=new Xe,this.projectionMatrixInverse=new Xe}Uo.prototype=Object.assign(Object.create(ct.prototype),{constructor:Uo,isCamera:!0,copy:function(e,t){return ct.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new F),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){ct.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){ct.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function Li(e,t,n,i){Uo.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Li.prototype=Object.assign(Object.create(Uo.prototype),{constructor:Li,isPerspectiveCamera:!0,copy:function(e,t){return Uo.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=nn.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(nn.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return nn.RAD2DEG*2*Math.atan(Math.tan(nn.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(nn.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,s=this.view;if(this.view!==null&&this.view.enabled){const o=s.fullWidth,c=s.fullHeight;r+=s.offsetX*i/o,t-=s.offsetY*n/c,i*=s.width/o,n*=s.height/c}const a=this.filmOffset;a!==0&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=ct.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const IA=90,FA=1;function Jf(e,t,n){if(ct.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new Li(IA,FA,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new F(1,0,0)),this.add(i);const r=new Li(IA,FA,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new F(-1,0,0)),this.add(r);const s=new Li(IA,FA,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new F(0,1,0)),this.add(s);const a=new Li(IA,FA,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new F(0,-1,0)),this.add(a);const o=new Li(IA,FA,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new F(0,0,1)),this.add(o);const c=new Li(IA,FA,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new F(0,0,-1)),this.add(c),this.update=function(p,A){this.parent===null&&this.updateMatrixWorld();const l=p.xr.enabled,u=p.getRenderTarget();p.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,p.setRenderTarget(n,0),p.render(A,i),p.setRenderTarget(n,1),p.render(A,r),p.setRenderTarget(n,2),p.render(A,s),p.setRenderTarget(n,3),p.render(A,a),p.setRenderTarget(n,4),p.render(A,o),n.texture.generateMipmaps=d,p.setRenderTarget(n,5),p.render(A,c),p.setRenderTarget(u),p.xr.enabled=l},this.clear=function(p,A,l,u){const d=p.getRenderTarget();for(let m=0;m<6;m++)p.setRenderTarget(n,m),p.clear(A,l,u);p.setRenderTarget(d)}}Jf.prototype=Object.create(ct.prototype);Jf.prototype.constructor=Jf;function ed(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),Lr.call(this,e,e,t)}ed.prototype=Object.create(Lr.prototype);ed.prototype.constructor=ed;ed.prototype.isWebGLCubeRenderTarget=!0;ed.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const n=new Rl,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV = equirectUv( direction );","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},r=new Qi({name:"CubemapFromEquirect",uniforms:Il(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Hi,blending:Fo});r.uniforms.tEquirect.value=t;const s=new $n(new zd(5,5,5),r);return n.add(s),new Jf(1,10,this).update(e,n),s.geometry.dispose(),s.material.dispose(),this};function Ho(e,t,n,i,r,s,a,o,c,p,A,l){jn.call(this,null,s,a,o,c,p,i,r,A,l),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=c!==void 0?c:Vn,this.minFilter=p!==void 0?p:Vn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ho.prototype=Object.create(jn.prototype);Ho.prototype.constructor=Ho;Ho.prototype.isDataTexture=!0;const NA=new $o,xh=new F;function Yd(e,t,n,i,r,s){this.planes=[e!==void 0?e:new Qa,t!==void 0?t:new Qa,n!==void 0?n:new Qa,i!==void 0?i:new Qa,r!==void 0?r:new Qa,s!==void 0?s:new Qa]}Object.assign(Yd.prototype,{set:function(e,t,n,i,r,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(s),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],s=n[2],a=n[3],o=n[4],c=n[5],p=n[6],A=n[7],l=n[8],u=n[9],d=n[10],m=n[11],y=n[12],g=n[13],E=n[14],w=n[15];return t[0].setComponents(a-i,A-o,m-l,w-y).normalize(),t[1].setComponents(a+i,A+o,m+l,w+y).normalize(),t[2].setComponents(a+r,A+c,m+u,w+g).normalize(),t[3].setComponents(a-r,A-c,m-u,w-g).normalize(),t[4].setComponents(a-s,A-p,m-d,w-E).normalize(),t[5].setComponents(a+s,A+p,m+d,w+E).normalize(),this},intersectsObject:function(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),NA.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(NA)},intersectsSprite:function(e){return NA.center.set(0,0,0),NA.radius=.7071067811865476,NA.applyMatrix4(e.matrixWorld),this.intersectsSphere(NA)},intersectsSphere:function(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:function(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(xh.x=i.normal.x>0?e.max.x:e.min.x,xh.y=i.normal.y>0?e.max.y:e.min.y,xh.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(xh)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const ot={common:{diffuse:{value:new Je(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new rr},uv2Transform:{value:new rr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Je(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new rr}},sprite:{diffuse:{value:new Je(15658734)},opacity:{value:1},center:{value:new Ke(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new rr}}};function k8(){let e=null,t=!1,n=null,i=null;function r(s,a){n(s,a),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(s){n=s},setContext:function(s){e=s}}}function GW(e,t){const n=t.isWebGL2,i=new WeakMap;function r(p,A){const l=p.array,u=p.usage,d=e.createBuffer();e.bindBuffer(A,d),e.bufferData(A,l,u),p.onUploadCallback();let m=5126;return l instanceof Float32Array?m=5126:l instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):l instanceof Uint16Array?m=5123:l instanceof Int16Array?m=5122:l instanceof Uint32Array?m=5125:l instanceof Int32Array?m=5124:l instanceof Int8Array?m=5120:l instanceof Uint8Array&&(m=5121),{buffer:d,type:m,bytesPerElement:l.BYTES_PER_ELEMENT,version:p.version}}function s(p,A,l){const u=A.array,d=A.updateRange;e.bindBuffer(l,p),d.count===-1?e.bufferSubData(l,0,u):(n?e.bufferSubData(l,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count):e.bufferSubData(l,d.offset*u.BYTES_PER_ELEMENT,u.subarray(d.offset,d.offset+d.count)),d.count=-1)}function a(p){return p.isInterleavedBufferAttribute&&(p=p.data),i.get(p)}function o(p){p.isInterleavedBufferAttribute&&(p=p.data);const A=i.get(p);A&&(e.deleteBuffer(A.buffer),i.delete(p))}function c(p,A){p.isInterleavedBufferAttribute&&(p=p.data);const l=i.get(p);l===void 0?i.set(p,r(p,A)):l.version<p.version&&(s(l.buffer,p,A),l.version=p.version)}return{get:a,remove:o,update:c}}function td(e,t,n,i){Ht.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Fl(e,t,n,i)),this.mergeVertices()}td.prototype=Object.create(Ht.prototype);td.prototype.constructor=td;function Fl(e,t,n,i){pt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},e=e||1,t=t||1;const r=e/2,s=t/2,a=Math.floor(n)||1,o=Math.floor(i)||1,c=a+1,p=o+1,A=e/a,l=t/o,u=[],d=[],m=[],y=[];for(let g=0;g<p;g++){const E=g*l-s;for(let w=0;w<c;w++){const b=w*A-r;d.push(b,-E,0),m.push(0,0,1),y.push(w/a),y.push(1-g/o)}}for(let g=0;g<o;g++)for(let E=0;E<a;E++){const w=E+c*g,b=E+c*(g+1),_=E+1+c*(g+1),C=E+1+c*g;u.push(w,b,C),u.push(b,_,C)}this.setIndex(u),this.setAttribute("position",new lt(d,3)),this.setAttribute("normal",new lt(m,3)),this.setAttribute("uv",new lt(y,2))}Fl.prototype=Object.create(pt.prototype);Fl.prototype.constructor=Fl;var QW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,kW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,VW=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,KW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,zW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,YW="vec3 transformed = vec3( position );",WW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$W=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,jW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,XW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,qW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ZW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,JW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,e$=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,t$=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,n$=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,i$=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,r$=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,s$=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,a$=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,o$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,c$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,p$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,A$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,l$="gl_FragColor = linearToOutputTexel( gl_FragColor );",u$=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,f$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,d$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,h$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,m$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,E$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,y$=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,g$=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,w$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,v$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,C$=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,b$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,x$=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,T$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,B$=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,M$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,S$=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,O$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,L$=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,R$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,I$=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,F$=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,N$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,P$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,U$=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,H$=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,D$=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,G$=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Q$=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,k$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,V$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,K$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,z$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Y$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,W$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,$$=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,j$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,X$=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,q$=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,Z$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,J$=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,ej=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,tj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,nj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,ij=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,rj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,sj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,aj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,oj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Aj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,lj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,uj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,fj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,dj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,hj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,mj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ej=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,yj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wj=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_j=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,vj=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Cj=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,bj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,xj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Tj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Bj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,Mj=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Sj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Oj=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Lj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Rj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Ij=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Fj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Nj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Pj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Uj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Hj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Gj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qj=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,kj=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vj=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zj=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Yj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wj=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$j=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jj=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xj=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qj=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,Jj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,eX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,tX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,nX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,iX=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const ln={alphamap_fragment:QW,alphamap_pars_fragment:kW,alphatest_fragment:VW,aomap_fragment:KW,aomap_pars_fragment:zW,begin_vertex:YW,beginnormal_vertex:WW,bsdfs:$W,bumpmap_pars_fragment:jW,clipping_planes_fragment:XW,clipping_planes_pars_fragment:qW,clipping_planes_pars_vertex:ZW,clipping_planes_vertex:JW,color_fragment:e$,color_pars_fragment:t$,color_pars_vertex:n$,color_vertex:i$,common:r$,cube_uv_reflection_fragment:s$,defaultnormal_vertex:a$,displacementmap_pars_vertex:o$,displacementmap_vertex:c$,emissivemap_fragment:p$,emissivemap_pars_fragment:A$,encodings_fragment:l$,encodings_pars_fragment:u$,envmap_fragment:f$,envmap_common_pars_fragment:d$,envmap_pars_fragment:h$,envmap_pars_vertex:m$,envmap_physical_pars_fragment:B$,envmap_vertex:E$,fog_vertex:y$,fog_pars_vertex:g$,fog_fragment:w$,fog_pars_fragment:_$,gradientmap_pars_fragment:v$,lightmap_fragment:C$,lightmap_pars_fragment:b$,lights_lambert_vertex:x$,lights_pars_begin:T$,lights_toon_fragment:M$,lights_toon_pars_fragment:S$,lights_phong_fragment:O$,lights_phong_pars_fragment:L$,lights_physical_fragment:R$,lights_physical_pars_fragment:I$,lights_fragment_begin:F$,lights_fragment_maps:N$,lights_fragment_end:P$,logdepthbuf_fragment:U$,logdepthbuf_pars_fragment:H$,logdepthbuf_pars_vertex:D$,logdepthbuf_vertex:G$,map_fragment:Q$,map_pars_fragment:k$,map_particle_fragment:V$,map_particle_pars_fragment:K$,metalnessmap_fragment:z$,metalnessmap_pars_fragment:Y$,morphnormal_vertex:W$,morphtarget_pars_vertex:$$,morphtarget_vertex:j$,normal_fragment_begin:X$,normal_fragment_maps:q$,normalmap_pars_fragment:Z$,clearcoat_normal_fragment_begin:J$,clearcoat_normal_fragment_maps:ej,clearcoat_pars_fragment:tj,packing:nj,premultiplied_alpha_fragment:ij,project_vertex:rj,dithering_fragment:sj,dithering_pars_fragment:aj,roughnessmap_fragment:oj,roughnessmap_pars_fragment:cj,shadowmap_pars_fragment:pj,shadowmap_pars_vertex:Aj,shadowmap_vertex:lj,shadowmask_pars_fragment:uj,skinbase_vertex:fj,skinning_pars_vertex:dj,skinning_vertex:hj,skinnormal_vertex:mj,specularmap_fragment:Ej,specularmap_pars_fragment:yj,tonemapping_fragment:gj,tonemapping_pars_fragment:wj,uv_pars_fragment:_j,uv_pars_vertex:vj,uv_vertex:Cj,uv2_pars_fragment:bj,uv2_pars_vertex:xj,uv2_vertex:Tj,worldpos_vertex:Bj,background_frag:Mj,background_vert:Sj,cube_frag:Oj,cube_vert:Lj,depth_frag:Rj,depth_vert:Ij,distanceRGBA_frag:Fj,distanceRGBA_vert:Nj,equirect_frag:Pj,equirect_vert:Uj,linedashed_frag:Hj,linedashed_vert:Dj,meshbasic_frag:Gj,meshbasic_vert:Qj,meshlambert_frag:kj,meshlambert_vert:Vj,meshmatcap_frag:Kj,meshmatcap_vert:zj,meshtoon_frag:Yj,meshtoon_vert:Wj,meshphong_frag:$j,meshphong_vert:jj,meshphysical_frag:Xj,meshphysical_vert:qj,normal_frag:Zj,normal_vert:Jj,points_frag:eX,points_vert:tX,shadow_frag:nX,shadow_vert:iX,sprite_frag:rX,sprite_vert:sX},So={basic:{uniforms:ur([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:ur([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.fog,ot.lights,{emissive:{value:new Je(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:ur([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new Je(0)},specular:{value:new Je(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:ur([ot.common,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.roughnessmap,ot.metalnessmap,ot.fog,ot.lights,{emissive:{value:new Je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:ur([ot.common,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.gradientmap,ot.fog,ot.lights,{emissive:{value:new Je(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:ur([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:ur([ot.points,ot.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:ur([ot.common,ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:ur([ot.common,ot.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:ur([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,{opacity:{value:1}}]),vertexShader:ln.normal_vert,fragmentShader:ln.normal_frag},sprite:{uniforms:ur([ot.sprite,ot.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new rr},t2D:{value:null}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},cube:{uniforms:ur([ot.envmap,{opacity:{value:1}}]),vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:ur([ot.common,ot.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:ur([ot.lights,ot.fog,{color:{value:new Je(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};So.physical={uniforms:ur([So.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ke(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Je(0)},transparency:{value:0}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};function aX(e,t,n,i){const r=new Je(0);let s=0,a,o,c=null,p=0,A=null;function l(d,m,y,g){let E=m.isScene===!0?m.background:null;const w=e.xr,b=w.getSession&&w.getSession();if(b&&b.environmentBlendMode==="additive"&&(E=null),E===null?u(r,s):E&&E.isColor&&(u(E,1),g=!0),(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),E&&(E.isCubeTexture||E.isWebGLCubeRenderTarget||E.mapping===Vd)){o===void 0&&(o=new $n(new zd(1,1,1),new Qi({name:"BackgroundCubeMaterial",uniforms:Il(So.cube.uniforms),vertexShader:So.cube.vertexShader,fragmentShader:So.cube.fragmentShader,side:Hi,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(C,T,x){this.matrixWorld.copyPosition(x.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o));const _=E.isWebGLCubeRenderTarget?E.texture:E;o.material.uniforms.envMap.value=_,o.material.uniforms.flipEnvMap.value=_.isCubeTexture?-1:1,(c!==E||p!==_.version||A!==e.toneMapping)&&(o.material.needsUpdate=!0,c=E,p=_.version,A=e.toneMapping),d.unshift(o,o.geometry,o.material,0,0,null)}else E&&E.isTexture&&(a===void 0&&(a=new $n(new Fl(2,2),new Qi({name:"BackgroundMaterial",uniforms:Il(So.background.uniforms),vertexShader:So.background.vertexShader,fragmentShader:So.background.fragmentShader,side:nu,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=E,E.matrixAutoUpdate===!0&&E.updateMatrix(),a.material.uniforms.uvTransform.value.copy(E.matrix),(c!==E||p!==E.version||A!==e.toneMapping)&&(a.material.needsUpdate=!0,c=E,p=E.version,A=e.toneMapping),d.unshift(a,a.geometry,a.material,0,0,null))}function u(d,m){t.buffers.color.setClear(d.r,d.g,d.b,m,i)}return{getClearColor:function(){return r},setClearColor:function(d,m){r.set(d),s=m!==void 0?m:1,u(r,s)},getClearAlpha:function(){return s},setClearAlpha:function(d){s=d,u(r,s)},render:l}}function oX(e,t,n,i){const r=e.getParameter(34921),s=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||s!==null,o={},c=y(null);let p=c;function A(P,I,L,k,K){let W=!1;if(a){const ee=m(k,L,I);p!==ee&&(p=ee,u(p.object)),W=g(k),W&&E(k)}else{const ee=I.wireframe===!0;(p.geometry!==k.id||p.program!==L.id||p.wireframe!==ee)&&(p.geometry=k.id,p.program=L.id,p.wireframe=ee,W=!0)}P.isInstancedMesh===!0&&(W=!0),K!==null&&n.update(K,34963),W&&(x(P,I,L,k),K!==null&&e.bindBuffer(34963,n.get(K).buffer))}function l(){return i.isWebGL2?e.createVertexArray():s.createVertexArrayOES()}function u(P){return i.isWebGL2?e.bindVertexArray(P):s.bindVertexArrayOES(P)}function d(P){return i.isWebGL2?e.deleteVertexArray(P):s.deleteVertexArrayOES(P)}function m(P,I,L){const k=L.wireframe===!0;let K=o[P.id];K===void 0&&(K={},o[P.id]=K);let W=K[I.id];W===void 0&&(W={},K[I.id]=W);let ee=W[k];return ee===void 0&&(ee=y(l()),W[k]=ee),ee}function y(P){const I=[],L=[],k=[];for(let K=0;K<r;K++)I[K]=0,L[K]=0,k[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:L,attributeDivisors:k,object:P,attributes:{}}}function g(P){const I=p.attributes,L=P.attributes;if(Object.keys(I).length!==Object.keys(L).length)return!0;for(const k in L){const K=I[k],W=L[k];if(K.attribute!==W||K.data!==W.data)return!0}return!1}function E(P){const I={},L=P.attributes;for(const k in L){const K=L[k],W={};W.attribute=K,K.data&&(W.data=K.data),I[k]=W}p.attributes=I}function w(){const P=p.newAttributes;for(let I=0,L=P.length;I<L;I++)P[I]=0}function b(P){_(P,0)}function _(P,I){const L=p.newAttributes,k=p.enabledAttributes,K=p.attributeDivisors;L[P]=1,k[P]===0&&(e.enableVertexAttribArray(P),k[P]=1),K[P]!==I&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](P,I),K[P]=I)}function C(){const P=p.newAttributes,I=p.enabledAttributes;for(let L=0,k=I.length;L<k;L++)I[L]!==P[L]&&(e.disableVertexAttribArray(L),I[L]=0)}function T(P,I,L,k,K,W){i.isWebGL2===!0&&(L===5124||L===5125)?e.vertexAttribIPointer(P,I,L,k,K,W):e.vertexAttribPointer(P,I,L,k,K,W)}function x(P,I,L,k){if(i.isWebGL2===!1&&(P.isInstancedMesh||k.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;w();const K=k.attributes,W=L.getAttributes(),ee=I.defaultAttributeValues;for(const le in W){const J=W[le];if(J>=0){const re=K[le];if(re!==void 0){const te=re.normalized,ge=re.itemSize,me=n.get(re);if(me===void 0)continue;const ie=me.buffer,fe=me.type,pe=me.bytesPerElement;if(re.isInterleavedBufferAttribute){const Ee=re.data,q=Ee.stride,Z=re.offset;Ee&&Ee.isInstancedInterleavedBuffer?(_(J,Ee.meshPerAttribute),k._maxInstanceCount===void 0&&(k._maxInstanceCount=Ee.meshPerAttribute*Ee.count)):b(J),e.bindBuffer(34962,ie),T(J,ge,fe,te,q*pe,Z*pe)}else re.isInstancedBufferAttribute?(_(J,re.meshPerAttribute),k._maxInstanceCount===void 0&&(k._maxInstanceCount=re.meshPerAttribute*re.count)):b(J),e.bindBuffer(34962,ie),T(J,ge,fe,te,0,0)}else if(le==="instanceMatrix"){const te=n.get(P.instanceMatrix);if(te===void 0)continue;const ge=te.buffer,me=te.type;_(J+0,1),_(J+1,1),_(J+2,1),_(J+3,1),e.bindBuffer(34962,ge),e.vertexAttribPointer(J+0,4,me,!1,64,0),e.vertexAttribPointer(J+1,4,me,!1,64,16),e.vertexAttribPointer(J+2,4,me,!1,64,32),e.vertexAttribPointer(J+3,4,me,!1,64,48)}else if(ee!==void 0){const te=ee[le];if(te!==void 0)switch(te.length){case 2:e.vertexAttrib2fv(J,te);break;case 3:e.vertexAttrib3fv(J,te);break;case 4:e.vertexAttrib4fv(J,te);break;default:e.vertexAttrib1fv(J,te)}}}}C()}function O(){R();for(const P in o){const I=o[P];for(const L in I){const k=I[L];for(const K in k)d(k[K].object),delete k[K];delete I[L]}delete o[P]}}function M(P){if(o[P.id]===void 0)return;const I=o[P.id];for(const L in I){const k=I[L];for(const K in k)d(k[K].object),delete k[K];delete I[L]}delete o[P.id]}function H(P){for(const I in o){const L=o[I];if(L[P.id]===void 0)continue;const k=L[P.id];for(const K in k)d(k[K].object),delete k[K];delete L[P.id]}}function R(){D(),p!==c&&(p=c,u(p.object))}function D(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:A,reset:R,resetDefaultState:D,dispose:O,releaseStatesOfGeometry:M,releaseStatesOfProgram:H,initAttributes:w,enableAttribute:b,disableUnusedAttributes:C}}function cX(e,t,n,i){const r=i.isWebGL2;let s;function a(p){s=p}function o(p,A){e.drawArrays(s,p,A),n.update(A,s)}function c(p,A,l,u){if(u===0)return;let d,m;if(r)d=e,m="drawArraysInstanced";else if(d=t.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,A,l,u),n.update(l,s,u)}this.setMode=a,this.render=o,this.renderInstances=c}function pX(e,t,n){let i;function r(){if(i!==void 0)return i;const T=t.get("EXT_texture_filter_anisotropic");return T!==null?i=e.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function s(T){if(T==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let o=n.precision!==void 0?n.precision:"highp";const c=s(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const p=n.logarithmicDepthBuffer===!0,A=e.getParameter(34930),l=e.getParameter(35660),u=e.getParameter(3379),d=e.getParameter(34076),m=e.getParameter(34921),y=e.getParameter(36347),g=e.getParameter(36348),E=e.getParameter(36349),w=l>0,b=a||!!t.get("OES_texture_float"),_=w&&b,C=a?e.getParameter(36183):0;return{isWebGL2:a,getMaxAnisotropy:r,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:p,maxTextures:A,maxVertexTextures:l,maxTextureSize:u,maxCubemapSize:d,maxAttributes:m,maxVertexUniforms:y,maxVaryings:g,maxFragmentUniforms:E,vertexTextures:w,floatFragmentTextures:b,floatVertexTextures:_,maxSamples:C}}function AX(){const e=this;let t=null,n=0,i=!1,r=!1;const s=new Qa,a=new rr,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(A,l,u){const d=A.length!==0||l||n!==0||i;return i=l,t=p(A,u,0),n=A.length,d},this.beginShadows=function(){r=!0,p(null)},this.endShadows=function(){r=!1,c()},this.setState=function(A,l,u,d,m,y){if(!i||A===null||A.length===0||r&&!u)r?p(null):c();else{const g=r?0:n,E=g*4;let w=m.clippingState||null;o.value=w,w=p(A,d,E,y);for(let b=0;b!==E;++b)w[b]=t[b];m.clippingState=w,this.numIntersection=l?this.numPlanes:0,this.numPlanes+=g}};function c(){o.value!==t&&(o.value=t,o.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(A,l,u,d){let m=A!==null?A.length:0,y=null;if(m!==0){if(y=o.value,d!==!0||y===null){const g=u+m*4,E=l.matrixWorldInverse;a.getNormalMatrix(E),(y===null||y.length<g)&&(y=new Float32Array(g));for(let w=0,b=u;w!==m;++w,b+=4)s.copy(A[w]).applyMatrix4(E,a),s.normal.toArray(y,b),y[b+3]=s.constant}o.value=y,o.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function lX(e){const t={};return{get:function(n){if(t[n]!==void 0)return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function uX(e,t,n,i){const r=new WeakMap,s=new WeakMap;function a(l){const u=l.target,d=r.get(u);d.index!==null&&t.remove(d.index);for(const y in d.attributes)t.remove(d.attributes[y]);u.removeEventListener("dispose",a),r.delete(u);const m=s.get(d);m&&(t.remove(m),s.delete(d)),i.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,n.memory.geometries--}function o(l,u){let d=r.get(u);return d||(u.addEventListener("dispose",a),u.isBufferGeometry?d=u:u.isGeometry&&(u._bufferGeometry===void 0&&(u._bufferGeometry=new pt().setFromObject(l)),d=u._bufferGeometry),r.set(u,d),n.memory.geometries++,d)}function c(l){const u=l.attributes;for(const m in u)t.update(u[m],34962);const d=l.morphAttributes;for(const m in d){const y=d[m];for(let g=0,E=y.length;g<E;g++)t.update(y[g],34962)}}function p(l){const u=[],d=l.index,m=l.attributes.position;let y=0;if(d!==null){const w=d.array;y=d.version;for(let b=0,_=w.length;b<_;b+=3){const C=w[b+0],T=w[b+1],x=w[b+2];u.push(C,T,T,x,x,C)}}else{const w=m.array;y=m.version;for(let b=0,_=w.length/3-1;b<_;b+=3){const C=b+0,T=b+1,x=b+2;u.push(C,T,T,x,x,C)}}const g=new(G8(u)>65535?Zf:qf)(u,1);g.version=y;const E=s.get(l);E&&t.remove(E),s.set(l,g)}function A(l){const u=s.get(l);if(u){const d=l.index;d!==null&&u.version<d.version&&p(l)}else p(l);return s.get(l)}return{get:o,update:c,getWireframeAttribute:A}}function fX(e,t,n,i){const r=i.isWebGL2;let s;function a(u){s=u}let o,c;function p(u){o=u.type,c=u.bytesPerElement}function A(u,d){e.drawElements(s,d,o,u*c),n.update(d,s)}function l(u,d,m,y){if(y===0)return;let g,E;if(r)g=e,E="drawElementsInstanced";else if(g=t.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[E](s,m,o,d*c,y),n.update(m,s,y)}this.setMode=a,this.setIndex=p,this.render=A,this.renderInstances=l}function dX(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(o=o||1,n.calls++,a){case 4:n.triangles+=o*(s/3);break;case 1:n.lines+=o*(s/2);break;case 3:n.lines+=o*(s-1);break;case 2:n.lines+=o*s;break;case 0:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function hX(e,t){return e[0]-t[0]}function mX(e,t){return Math.abs(t[1])-Math.abs(e[1])}function EX(e){const t={},n=new Float32Array(8),i=[];for(let s=0;s<8;s++)i[s]=[s,0];function r(s,a,o,c){const p=s.morphTargetInfluences,A=p===void 0?0:p.length;let l=t[a.id];if(l===void 0){l=[];for(let g=0;g<A;g++)l[g]=[g,0];t[a.id]=l}for(let g=0;g<A;g++){const E=l[g];E[0]=g,E[1]=p[g]}l.sort(mX);for(let g=0;g<8;g++)g<A&&l[g][1]?(i[g][0]=l[g][0],i[g][1]=l[g][1]):(i[g][0]=Number.MAX_SAFE_INTEGER,i[g][1]=0);i.sort(hX);const u=o.morphTargets&&a.morphAttributes.position,d=o.morphNormals&&a.morphAttributes.normal;let m=0;for(let g=0;g<8;g++){const E=i[g],w=E[0],b=E[1];w!==Number.MAX_SAFE_INTEGER&&b?(u&&a.getAttribute("morphTarget"+g)!==u[w]&&a.setAttribute("morphTarget"+g,u[w]),d&&a.getAttribute("morphNormal"+g)!==d[w]&&a.setAttribute("morphNormal"+g,d[w]),n[g]=b,m+=b):(u&&a.getAttribute("morphTarget"+g)!==void 0&&a.deleteAttribute("morphTarget"+g),d&&a.getAttribute("morphNormal"+g)!==void 0&&a.deleteAttribute("morphNormal"+g),n[g]=0)}const y=a.morphTargetsRelative?1:1-m;c.getUniforms().setValue(e,"morphTargetBaseInfluence",y),c.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function yX(e,t,n,i){let r=new WeakMap;function s(o){const c=i.render.frame,p=o.geometry,A=t.get(o,p);return r.get(A)!==c&&(p.isGeometry&&A.updateFromObject(o),t.update(A),r.set(A,c)),o.isInstancedMesh&&n.update(o.instanceMatrix,34962),A}function a(){r=new WeakMap}return{update:s,dispose:a}}function Kc(e,t,n,i,r,s,a,o,c,p){e=e!==void 0?e:[],t=t!==void 0?t:p_,a=a!==void 0?a:Rp,jn.call(this,e,t,n,i,r,s,a,o,c,p),this.flipY=!1}Kc.prototype=Object.create(jn.prototype);Kc.prototype.constructor=Kc;Kc.prototype.isCubeTexture=!0;Object.defineProperty(Kc.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function nd(e,t,n,i){jn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=Vn,this.minFilter=Vn,this.wrapR=Yr,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}nd.prototype=Object.create(jn.prototype);nd.prototype.constructor=nd;nd.prototype.isDataTexture2DArray=!0;function id(e,t,n,i){jn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=Vn,this.minFilter=Vn,this.wrapR=Yr,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}id.prototype=Object.create(jn.prototype);id.prototype.constructor=id;id.prototype.isDataTexture3D=!0;const V8=new jn,gX=new nd,wX=new id,K8=new Kc,Jb=[],e6=[],t6=new Float32Array(16),n6=new Float32Array(9),i6=new Float32Array(4);function su(e,t,n){const i=e[0];if(i<=0||i>0)return e;let r=t*n,s=Jb[r];if(s===void 0&&(s=new Float32Array(r),Jb[r]=s),t!==0){i.toArray(s,0);for(let a=1,o=0;a!==t;++a)o+=n,e[a].toArray(s,o)}return s}function zs(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function us(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function z8(e,t){let n=e6[t];n===void 0&&(n=new Int32Array(t),e6[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function _X(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function vX(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(zs(n,t))return;e.uniform2fv(this.addr,t),us(n,t)}}function CX(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(zs(n,t))return;e.uniform3fv(this.addr,t),us(n,t)}}function bX(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(zs(n,t))return;e.uniform4fv(this.addr,t),us(n,t)}}function xX(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(zs(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),us(n,t)}else{if(zs(n,i))return;i6.set(i),e.uniformMatrix2fv(this.addr,!1,i6),us(n,i)}}function TX(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(zs(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),us(n,t)}else{if(zs(n,i))return;n6.set(i),e.uniformMatrix3fv(this.addr,!1,n6),us(n,i)}}function BX(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(zs(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),us(n,t)}else{if(zs(n,i))return;t6.set(i),e.uniformMatrix4fv(this.addr,!1,t6),us(n,i)}}function MX(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||V8,r)}function SX(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||gX,r)}function OX(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||wX,r)}function LX(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||K8,r)}function RX(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function IX(e,t){const n=this.cache;zs(n,t)||(e.uniform2iv(this.addr,t),us(n,t))}function FX(e,t){const n=this.cache;zs(n,t)||(e.uniform3iv(this.addr,t),us(n,t))}function NX(e,t){const n=this.cache;zs(n,t)||(e.uniform4iv(this.addr,t),us(n,t))}function PX(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function UX(e){switch(e){case 5126:return _X;case 35664:return vX;case 35665:return CX;case 35666:return bX;case 35674:return xX;case 35675:return TX;case 35676:return BX;case 5124:case 35670:return RX;case 35667:case 35671:return IX;case 35668:case 35672:return FX;case 35669:case 35673:return NX;case 5125:return PX;case 35678:case 36198:case 36298:case 36306:case 35682:return MX;case 35679:case 36299:case 36307:return OX;case 35680:case 36300:case 36308:case 36293:return LX;case 36289:case 36303:case 36311:case 36292:return SX}}function HX(e,t){e.uniform1fv(this.addr,t)}function DX(e,t){e.uniform1iv(this.addr,t)}function GX(e,t){e.uniform2iv(this.addr,t)}function QX(e,t){e.uniform3iv(this.addr,t)}function kX(e,t){e.uniform4iv(this.addr,t)}function VX(e,t){const n=su(t,this.size,2);e.uniform2fv(this.addr,n)}function KX(e,t){const n=su(t,this.size,3);e.uniform3fv(this.addr,n)}function zX(e,t){const n=su(t,this.size,4);e.uniform4fv(this.addr,n)}function YX(e,t){const n=su(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function WX(e,t){const n=su(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function $X(e,t){const n=su(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function jX(e,t,n){const i=t.length,r=z8(n,i);e.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTexture2D(t[s]||V8,r[s])}function XX(e,t,n){const i=t.length,r=z8(n,i);e.uniform1iv(this.addr,r);for(let s=0;s!==i;++s)n.safeSetTextureCube(t[s]||K8,r[s])}function qX(e){switch(e){case 5126:return HX;case 35664:return VX;case 35665:return KX;case 35666:return zX;case 35674:return YX;case 35675:return WX;case 35676:return $X;case 5124:case 35670:return DX;case 35667:case 35671:return GX;case 35668:case 35672:return QX;case 35669:case 35673:return kX;case 35678:case 36198:case 36298:case 36306:case 35682:return jX;case 35680:case 36300:case 36308:case 36293:return XX}}function ZX(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=UX(t.type)}function Y8(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=qX(t.type)}Y8.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),us(t,e)};function W8(e){this.id=e,this.seq=[],this.map={}}W8.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,s=i.length;r!==s;++r){const a=i[r];a.setValue(e,t[a.id],n)}};const ig=/([\w\d_]+)(\])?(\[|\.)?/g;function r6(e,t){e.seq.push(t),e.map[t.id]=t}function JX(e,t,n){const i=e.name,r=i.length;for(ig.lastIndex=0;;){const s=ig.exec(i),a=ig.lastIndex;let o=s[1],c=s[2]==="]",p=s[3];if(c&&(o=o|0),p===void 0||p==="["&&a+2===r){r6(n,p===void 0?new ZX(o,e,t):new Y8(o,e,t));break}else{let l=n.map[o];l===void 0&&(l=new W8(o),r6(n,l)),n=l}}}function Pc(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),s=e.getUniformLocation(t,r.name);JX(r,s,this)}}Pc.prototype.setValue=function(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)};Pc.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};Pc.upload=function(e,t,n,i){for(let r=0,s=t.length;r!==s;++r){const a=t[r],o=n[a.id];o.needsUpdate!==!1&&a.setValue(e,o.value,i)}};Pc.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const s=e[i];s.id in t&&n.push(s)}return n};function s6(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let eq=0;function tq(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function $8(e){switch(e){case yr:return["Linear","( value )"];case Kd:return["sRGB","( value )"];case h_:return["RGBE","( value )"];case N8:return["RGBM","( value, 7.0 )"];case P8:return["RGBM","( value, 16.0 )"];case U8:return["RGBD","( value, 256.0 )"];case d_:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case yW:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function a6(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";const s=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+r+tq(s)}function Du(e,t){const n=$8(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function nq(e,t){const n=$8(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function iq(e,t){let n;switch(t){case EY:n="Linear";break;case yY:n="Reinhard";break;case gY:n="OptimizedCineon";break;case wY:n="ACESFilmic";break;case _Y:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function rq(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ef).join(`
`)}function sq(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function aq(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const a=e.getActiveAttrib(t,r).name;n[a]=e.getAttribLocation(t,a)}return n}function Ef(e){return e!==""}function o6(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function c6(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const oq=/^[ \t]*#include +<([\w\d./]+)>/gm;function Sw(e){return e.replace(oq,cq)}function cq(e,t){const n=ln[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return Sw(n)}const pq=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Aq=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function p6(e){return e.replace(Aq,j8).replace(pq,lq)}function lq(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),j8(e,t,n,i)}function j8(e,t,n,i){let r="";for(let s=parseInt(t);s<parseInt(n);s++)r+=i.replace(/\[ i \]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function A6(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function uq(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===M8?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===jz?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===mf&&(t="SHADOWMAP_TYPE_VSM"),t}function fq(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case p_:case A_:t="ENVMAP_TYPE_CUBE";break;case Vd:case u_:t="ENVMAP_TYPE_CUBE_UV";break;case R8:case l_:t="ENVMAP_TYPE_EQUIREC";break}return t}function dq(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case A_:case l_:t="ENVMAP_MODE_REFRACTION";break}return t}function hq(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case BE:t="ENVMAP_BLENDING_MULTIPLY";break;case hY:t="ENVMAP_BLENDING_MIX";break;case mY:t="ENVMAP_BLENDING_ADD";break}return t}function mq(e,t,n,i){const r=e.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const c=uq(n),p=fq(n),A=dq(n),l=hq(n),u=e.gammaFactor>0?e.gammaFactor:1,d=n.isWebGL2?"":rq(n),m=sq(s),y=r.createProgram();let g,E;if(n.isRawShaderMaterial?(g=[m].filter(Ef).join(`
`),g.length>0&&(g+=`
`),E=[d,m].filter(Ef).join(`
`),E.length>0&&(E+=`
`)):(g=[A6(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+u,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ef).join(`
`),E=[d,A6(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+u,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+A:"",n.envMap?"#define "+l:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==_l?"#define TONE_MAPPING":"",n.toneMapping!==_l?ln.tonemapping_pars_fragment:"",n.toneMapping!==_l?iq("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",ln.encodings_pars_fragment,n.map?Du("mapTexelToLinear",n.mapEncoding):"",n.matcap?Du("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Du("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Du("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Du("lightMapTexelToLinear",n.lightMapEncoding):"",nq("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ef).join(`
`)),a=Sw(a),a=o6(a,n),a=c6(a,n),o=Sw(o),o=o6(o,n),o=c6(o,n),a=p6(a),o=p6(o),n.isWebGL2&&!n.isRawShaderMaterial){let O=!1;const M=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&a.match(M)!==null&&o.match(M)!==null&&(O=!0,a=a.replace(M,""),o=o.replace(M,"")),g=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,E=[`#version 300 es
`,"#define varying in",O?"":"out highp vec4 pc_fragColor;",O?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E}const w=g+a,b=E+o,_=s6(r,35633,w),C=s6(r,35632,b);if(r.attachShader(y,_),r.attachShader(y,C),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),e.debug.checkShaderErrors){const O=r.getProgramInfoLog(y).trim(),M=r.getShaderInfoLog(_).trim(),H=r.getShaderInfoLog(C).trim();let R=!0,D=!0;if(r.getProgramParameter(y,35714)===!1){R=!1;const P=a6(r,_,"vertex"),I=a6(r,C,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(y,35715),"gl.getProgramInfoLog",O,P,I)}else O!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",O):(M===""||H==="")&&(D=!1);D&&(this.diagnostics={runnable:R,programLog:O,vertexShader:{log:M,prefix:g},fragmentShader:{log:H,prefix:E}})}r.deleteShader(_),r.deleteShader(C);let T;this.getUniforms=function(){return T===void 0&&(T=new Pc(r,y)),T};let x;return this.getAttributes=function(){return x===void 0&&(x=aq(r,y)),x},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=eq++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=C,this}function Eq(e,t,n,i){const r=[],s=n.isWebGL2,a=n.logarithmicDepthBuffer,o=n.floatVertexTextures,c=n.maxVertexUniforms,p=n.vertexTextures;let A=n.precision;const l={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},u=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function d(_,C){let T;if(C){const x=So[C];T={name:_.name||_.type,uniforms:gm.clone(x.uniforms),vertexShader:x.vertexShader,fragmentShader:x.fragmentShader}}else T={name:_.name||_.type,uniforms:_.uniforms,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader};return T}function m(_){const T=_.skeleton.bones;if(o)return 1024;{const O=Math.floor((c-20)/4),M=Math.min(O,T.length);return M<T.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+T.length+" bones. This GPU supports "+M+"."),0):M}}function y(_){let C;return _?_.isTexture?C=_.encoding:_.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=_.texture.encoding):C=yr,C}function g(_,C,T,x,O,M,H){const R=x.fog,D=_.isMeshStandardMaterial?x.environment:null,P=_.envMap||D,I=l[_.type],L=H.isSkinnedMesh?m(H):0;_.precision!==null&&(A=n.getMaxPrecision(_.precision),A!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",A,"instead."));const k=d(_,I);_.onBeforeCompile(k,e);const K=e.getRenderTarget();return{isWebGL2:s,shaderID:I,shaderName:k.name,uniforms:k.uniforms,vertexShader:k.vertexShader,fragmentShader:k.fragmentShader,defines:_.defines,isRawShaderMaterial:_.isRawShaderMaterial,isShaderMaterial:_.isShaderMaterial,precision:A,instancing:H.isInstancedMesh===!0,supportsVertexTextures:p,outputEncoding:K!==null?y(K.texture):e.outputEncoding,map:!!_.map,mapEncoding:y(_.map),matcap:!!_.matcap,matcapEncoding:y(_.matcap),envMap:!!P,envMapMode:P&&P.mapping,envMapEncoding:y(P),envMapCubeUV:!!P&&(P.mapping===Vd||P.mapping===u_),lightMap:!!_.lightMap,lightMapEncoding:y(_.lightMap),aoMap:!!_.aoMap,emissiveMap:!!_.emissiveMap,emissiveMapEncoding:y(_.emissiveMap),bumpMap:!!_.bumpMap,normalMap:!!_.normalMap,objectSpaceNormalMap:_.normalMapType===_W,tangentSpaceNormalMap:_.normalMapType===iu,clearcoatMap:!!_.clearcoatMap,clearcoatRoughnessMap:!!_.clearcoatRoughnessMap,clearcoatNormalMap:!!_.clearcoatNormalMap,displacementMap:!!_.displacementMap,roughnessMap:!!_.roughnessMap,metalnessMap:!!_.metalnessMap,specularMap:!!_.specularMap,alphaMap:!!_.alphaMap,gradientMap:!!_.gradientMap,sheen:!!_.sheen,combine:_.combine,vertexTangents:_.normalMap&&_.vertexTangents,vertexColors:_.vertexColors,vertexUvs:!!_.map||!!_.bumpMap||!!_.normalMap||!!_.specularMap||!!_.alphaMap||!!_.emissiveMap||!!_.roughnessMap||!!_.metalnessMap||!!_.clearcoatMap||!!_.clearcoatRoughnessMap||!!_.clearcoatNormalMap||!!_.displacementMap,uvsVertexOnly:!(!!_.map||!!_.bumpMap||!!_.normalMap||!!_.specularMap||!!_.alphaMap||!!_.emissiveMap||!!_.roughnessMap||!!_.metalnessMap||!!_.clearcoatNormalMap)&&!!_.displacementMap,fog:!!R,useFog:_.fog,fogExp2:R&&R.isFogExp2,flatShading:_.flatShading,sizeAttenuation:_.sizeAttenuation,logarithmicDepthBuffer:a,skinning:_.skinning&&L>0,maxBones:L,useVertexTexture:o,morphTargets:_.morphTargets,morphNormals:_.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:O,numClipIntersection:M,dithering:_.dithering,shadowMapEnabled:e.shadowMap.enabled&&T.length>0,shadowMapType:e.shadowMap.type,toneMapping:_.toneMapped?e.toneMapping:_l,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:_.premultipliedAlpha,alphaTest:_.alphaTest,doubleSided:_.side===kd,flipSided:_.side===Hi,depthPacking:_.depthPacking!==void 0?_.depthPacking:!1,index0AttributeName:_.index0AttributeName,extensionDerivatives:_.extensions&&_.extensions.derivatives,extensionFragDepth:_.extensions&&_.extensions.fragDepth,extensionDrawBuffers:_.extensions&&_.extensions.drawBuffers,extensionShaderTextureLOD:_.extensions&&_.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:s||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:s||t.get("EXT_shader_texture_lod")!==null,customProgramCacheKey:_.customProgramCacheKey()}}function E(_){const C=[];if(_.shaderID?C.push(_.shaderID):(C.push(_.fragmentShader),C.push(_.vertexShader)),_.defines!==void 0)for(const T in _.defines)C.push(T),C.push(_.defines[T]);if(_.isRawShaderMaterial===void 0){for(let T=0;T<u.length;T++)C.push(_[u[T]]);C.push(e.outputEncoding),C.push(e.gammaFactor)}return C.push(_.customProgramCacheKey),C.join()}function w(_,C){let T;for(let x=0,O=r.length;x<O;x++){const M=r[x];if(M.cacheKey===C){T=M,++T.usedTimes;break}}return T===void 0&&(T=new mq(e,C,_,i),r.push(T)),T}function b(_){if(--_.usedTimes===0){const C=r.indexOf(_);r[C]=r[r.length-1],r.pop(),_.destroy()}}return{getParameters:g,getProgramCacheKey:E,acquireProgram:w,releaseProgram:b,programs:r}}function yq(){let e=new WeakMap;function t(s){let a=e.get(s);return a===void 0&&(a={},e.set(s,a)),a}function n(s){e.delete(s)}function i(s,a,o){e.get(s)[a]=o}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function gq(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function wq(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function l6(){const e=[];let t=0;const n=[],i=[],r={id:-1};function s(){t=0,n.length=0,i.length=0}function a(l,u,d,m,y,g){let E=e[t];return E===void 0?(E={id:l.id,object:l,geometry:u,material:d,program:d.program||r,groupOrder:m,renderOrder:l.renderOrder,z:y,group:g},e[t]=E):(E.id=l.id,E.object=l,E.geometry=u,E.material=d,E.program=d.program||r,E.groupOrder=m,E.renderOrder=l.renderOrder,E.z=y,E.group=g),t++,E}function o(l,u,d,m,y,g){const E=a(l,u,d,m,y,g);(d.transparent===!0?i:n).push(E)}function c(l,u,d,m,y,g){const E=a(l,u,d,m,y,g);(d.transparent===!0?i:n).unshift(E)}function p(l,u){n.length>1&&n.sort(l||gq),i.length>1&&i.sort(u||wq)}function A(){for(let l=t,u=e.length;l<u;l++){const d=e[l];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.program=null,d.group=null}}return{opaque:n,transparent:i,init:s,push:o,unshift:c,finish:A,sort:p}}function _q(){let e=new WeakMap;function t(r){const s=r.target;s.removeEventListener("dispose",t),e.delete(s)}function n(r,s){const a=e.get(r);let o;return a===void 0?(o=new l6,e.set(r,new WeakMap),e.get(r).set(s,o),r.addEventListener("dispose",t)):(o=a.get(s),o===void 0&&(o=new l6,a.set(s,o))),o}function i(){e=new WeakMap}return{get:n,dispose:i}}function vq(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new F,color:new Je};break;case"SpotLight":n={position:new F,direction:new F,color:new Je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new F,color:new Je,distance:0,decay:0};break;case"HemisphereLight":n={direction:new F,skyColor:new Je,groundColor:new Je};break;case"RectAreaLight":n={color:new Je,position:new F,halfWidth:new F,halfHeight:new F};break}return e[t.id]=n,n}}}function Cq(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let bq=0;function xq(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Tq(){const e=new vq,t=Cq(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let o=0;o<9;o++)n.probe.push(new F);const i=new F,r=new Xe,s=new Xe;function a(o,c,p){let A=0,l=0,u=0;for(let x=0;x<9;x++)n.probe[x].set(0,0,0);let d=0,m=0,y=0,g=0,E=0,w=0,b=0,_=0;const C=p.matrixWorldInverse;o.sort(xq);for(let x=0,O=o.length;x<O;x++){const M=o[x],H=M.color,R=M.intensity,D=M.distance,P=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)A+=H.r*R,l+=H.g*R,u+=H.b*R;else if(M.isLightProbe)for(let I=0;I<9;I++)n.probe[I].addScaledVector(M.sh.coefficients[I],R);else if(M.isDirectionalLight){const I=e.get(M);if(I.color.copy(M.color).multiplyScalar(M.intensity),I.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(C),M.castShadow){const L=M.shadow,k=t.get(M);k.shadowBias=L.bias,k.shadowNormalBias=L.normalBias,k.shadowRadius=L.radius,k.shadowMapSize=L.mapSize,n.directionalShadow[d]=k,n.directionalShadowMap[d]=P,n.directionalShadowMatrix[d]=M.shadow.matrix,w++}n.directional[d]=I,d++}else if(M.isSpotLight){const I=e.get(M);if(I.position.setFromMatrixPosition(M.matrixWorld),I.position.applyMatrix4(C),I.color.copy(H).multiplyScalar(R),I.distance=D,I.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(C),I.coneCos=Math.cos(M.angle),I.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),I.decay=M.decay,M.castShadow){const L=M.shadow,k=t.get(M);k.shadowBias=L.bias,k.shadowNormalBias=L.normalBias,k.shadowRadius=L.radius,k.shadowMapSize=L.mapSize,n.spotShadow[y]=k,n.spotShadowMap[y]=P,n.spotShadowMatrix[y]=M.shadow.matrix,_++}n.spot[y]=I,y++}else if(M.isRectAreaLight){const I=e.get(M);I.color.copy(H).multiplyScalar(R),I.position.setFromMatrixPosition(M.matrixWorld),I.position.applyMatrix4(C),s.identity(),r.copy(M.matrixWorld),r.premultiply(C),s.extractRotation(r),I.halfWidth.set(M.width*.5,0,0),I.halfHeight.set(0,M.height*.5,0),I.halfWidth.applyMatrix4(s),I.halfHeight.applyMatrix4(s),n.rectArea[g]=I,g++}else if(M.isPointLight){const I=e.get(M);if(I.position.setFromMatrixPosition(M.matrixWorld),I.position.applyMatrix4(C),I.color.copy(M.color).multiplyScalar(M.intensity),I.distance=M.distance,I.decay=M.decay,M.castShadow){const L=M.shadow,k=t.get(M);k.shadowBias=L.bias,k.shadowNormalBias=L.normalBias,k.shadowRadius=L.radius,k.shadowMapSize=L.mapSize,k.shadowCameraNear=L.camera.near,k.shadowCameraFar=L.camera.far,n.pointShadow[m]=k,n.pointShadowMap[m]=P,n.pointShadowMatrix[m]=M.shadow.matrix,b++}n.point[m]=I,m++}else if(M.isHemisphereLight){const I=e.get(M);I.direction.setFromMatrixPosition(M.matrixWorld),I.direction.transformDirection(C),I.direction.normalize(),I.skyColor.copy(M.color).multiplyScalar(R),I.groundColor.copy(M.groundColor).multiplyScalar(R),n.hemi[E]=I,E++}}n.ambient[0]=A,n.ambient[1]=l,n.ambient[2]=u;const T=n.hash;(T.directionalLength!==d||T.pointLength!==m||T.spotLength!==y||T.rectAreaLength!==g||T.hemiLength!==E||T.numDirectionalShadows!==w||T.numPointShadows!==b||T.numSpotShadows!==_)&&(n.directional.length=d,n.spot.length=y,n.rectArea.length=g,n.point.length=m,n.hemi.length=E,n.directionalShadow.length=w,n.directionalShadowMap.length=w,n.pointShadow.length=b,n.pointShadowMap.length=b,n.spotShadow.length=_,n.spotShadowMap.length=_,n.directionalShadowMatrix.length=w,n.pointShadowMatrix.length=b,n.spotShadowMatrix.length=_,T.directionalLength=d,T.pointLength=m,T.spotLength=y,T.rectAreaLength=g,T.hemiLength=E,T.numDirectionalShadows=w,T.numPointShadows=b,T.numSpotShadows=_,n.version=bq++)}return{setup:a,state:n}}function u6(){const e=new Tq,t=[],n=[];function i(){t.length=0,n.length=0}function r(c){t.push(c)}function s(c){n.push(c)}function a(c){e.setup(t,n,c)}return{init:i,state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:a,pushLight:r,pushShadow:s}}function Bq(){let e=new WeakMap;function t(r){const s=r.target;s.removeEventListener("dispose",t),e.delete(s)}function n(r,s){let a;return e.has(r)===!1?(a=new u6,e.set(r,new WeakMap),e.get(r).set(s,a),r.addEventListener("dispose",t)):e.get(r).has(s)===!1?(a=new u6,e.get(r).set(s,a)):a=e.get(r).get(s),a}function i(){e=new WeakMap}return{get:n,dispose:i}}function kp(e){Yt.call(this),this.type="MeshDepthMaterial",this.depthPacking=gW,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}kp.prototype=Object.create(Yt.prototype);kp.prototype.constructor=kp;kp.prototype.isMeshDepthMaterial=!0;kp.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Vp(e){Yt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new F,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Vp.prototype=Object.create(Yt.prototype);Vp.prototype.constructor=Vp;Vp.prototype.isMeshDistanceMaterial=!0;Vp.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Mq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,Sq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function X8(e,t,n){let i=new Yd;const r=new Ke,s=new Ke,a=new Qn,o=[],c=[],p={},A={0:Hi,1:nu,2:kd},l=new Qi({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ke},radius:{value:4}},vertexShader:Sq,fragmentShader:Mq}),u=l.clone();u.defines.HORIZONAL_PASS=1;const d=new pt;d.setAttribute("position",new bt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new $n(d,l),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=M8,this.render=function(C,T,x){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||C.length===0)return;const O=e.getRenderTarget(),M=e.getActiveCubeFace(),H=e.getActiveMipmapLevel(),R=e.state;R.setBlending(Fo),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);for(let D=0,P=C.length;D<P;D++){const I=C[D],L=I.shadow;if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;if(L===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}r.copy(L.mapSize);const k=L.getFrameExtents();if(r.multiply(k),s.copy(L.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(s.x=Math.floor(n/k.x),r.x=s.x*k.x,L.mapSize.x=s.x),r.y>n&&(s.y=Math.floor(n/k.y),r.y=s.y*k.y,L.mapSize.y=s.y)),L.map===null&&!L.isPointLightShadow&&this.type===mf){const W={minFilter:Ii,magFilter:Ii,format:$r};L.map=new Lr(r.x,r.y,W),L.map.texture.name=I.name+".shadowMap",L.mapPass=new Lr(r.x,r.y,W),L.camera.updateProjectionMatrix()}if(L.map===null){const W={minFilter:Vn,magFilter:Vn,format:$r};L.map=new Lr(r.x,r.y,W),L.map.texture.name=I.name+".shadowMap",L.camera.updateProjectionMatrix()}e.setRenderTarget(L.map),e.clear();const K=L.getViewportCount();for(let W=0;W<K;W++){const ee=L.getViewport(W);a.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),R.viewport(a),L.updateMatrices(I,W),i=L.getFrustum(),_(T,x,L.camera,I,this.type)}!L.isPointLightShadow&&this.type===mf&&g(L,x),L.needsUpdate=!1}y.needsUpdate=!1,e.setRenderTarget(O,M,H)};function g(C,T){const x=t.update(m);l.uniforms.shadow_pass.value=C.map.texture,l.uniforms.resolution.value=C.mapSize,l.uniforms.radius.value=C.radius,e.setRenderTarget(C.mapPass),e.clear(),e.renderBufferDirect(T,null,x,l,m,null),u.uniforms.shadow_pass.value=C.mapPass.texture,u.uniforms.resolution.value=C.mapSize,u.uniforms.radius.value=C.radius,e.setRenderTarget(C.map),e.clear(),e.renderBufferDirect(T,null,x,u,m,null)}function E(C,T,x){const O=C<<0|T<<1|x<<2;let M=o[O];return M===void 0&&(M=new kp({depthPacking:wW,morphTargets:C,skinning:T}),o[O]=M),M}function w(C,T,x){const O=C<<0|T<<1|x<<2;let M=c[O];return M===void 0&&(M=new Vp({morphTargets:C,skinning:T}),c[O]=M),M}function b(C,T,x,O,M,H,R){let D=null,P=E,I=C.customDepthMaterial;if(O.isPointLight===!0&&(P=w,I=C.customDistanceMaterial),I===void 0){let L=!1;x.morphTargets===!0&&(L=T.morphAttributes&&T.morphAttributes.position&&T.morphAttributes.position.length>0);let k=!1;C.isSkinnedMesh===!0&&(x.skinning===!0?k=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",C));const K=C.isInstancedMesh===!0;D=P(L,k,K)}else D=I;if(e.localClippingEnabled&&x.clipShadows===!0&&x.clippingPlanes.length!==0){const L=D.uuid,k=x.uuid;let K=p[L];K===void 0&&(K={},p[L]=K);let W=K[k];W===void 0&&(W=D.clone(),K[k]=W),D=W}return D.visible=x.visible,D.wireframe=x.wireframe,R===mf?D.side=x.shadowSide!==null?x.shadowSide:x.side:D.side=x.shadowSide!==null?x.shadowSide:A[x.side],D.clipShadows=x.clipShadows,D.clippingPlanes=x.clippingPlanes,D.clipIntersection=x.clipIntersection,D.wireframeLinewidth=x.wireframeLinewidth,D.linewidth=x.linewidth,O.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(O.matrixWorld),D.nearDistance=M,D.farDistance=H),D}function _(C,T,x,O,M){if(C.visible===!1)return;if(C.layers.test(T.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&M===mf)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,C.matrixWorld);const D=t.update(C),P=C.material;if(Array.isArray(P)){const I=D.groups;for(let L=0,k=I.length;L<k;L++){const K=I[L],W=P[K.materialIndex];if(W&&W.visible){const ee=b(C,D,W,O,x.near,x.far,M);e.renderBufferDirect(x,null,D,ee,C,K)}}}else if(P.visible){const I=b(C,D,P,O,x.near,x.far,M);e.renderBufferDirect(x,null,D,I,C,null)}}const R=C.children;for(let D=0,P=R.length;D<P;D++)_(R[D],T,x,O,M)}}function Oq(e,t,n){const i=n.isWebGL2;function r(){let oe=!1;const ue=new Qn;let Oe=null;const Pe=new Qn(0,0,0,0);return{setMask:function(Te){Oe!==Te&&!oe&&(e.colorMask(Te,Te,Te,Te),Oe=Te)},setLocked:function(Te){oe=Te},setClear:function(Te,Ne,Se,ze,Ge){Ge===!0&&(Te*=ze,Ne*=ze,Se*=ze),ue.set(Te,Ne,Se,ze),Pe.equals(ue)===!1&&(e.clearColor(Te,Ne,Se,ze),Pe.copy(ue))},reset:function(){oe=!1,Oe=null,Pe.set(-1,0,0,0)}}}function s(){let oe=!1,ue=null,Oe=null,Pe=null;return{setTest:function(Te){Te?le(2929):J(2929)},setMask:function(Te){ue!==Te&&!oe&&(e.depthMask(Te),ue=Te)},setFunc:function(Te){if(Oe!==Te){if(Te)switch(Te){case cY:e.depthFunc(512);break;case pY:e.depthFunc(519);break;case AY:e.depthFunc(513);break;case ww:e.depthFunc(515);break;case lY:e.depthFunc(514);break;case uY:e.depthFunc(518);break;case fY:e.depthFunc(516);break;case dY:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);Oe=Te}},setLocked:function(Te){oe=Te},setClear:function(Te){Pe!==Te&&(e.clearDepth(Te),Pe=Te)},reset:function(){oe=!1,ue=null,Oe=null,Pe=null}}}function a(){let oe=!1,ue=null,Oe=null,Pe=null,Te=null,Ne=null,Se=null,ze=null,Ge=null;return{setTest:function(Ue){oe||(Ue?le(2960):J(2960))},setMask:function(Ue){ue!==Ue&&!oe&&(e.stencilMask(Ue),ue=Ue)},setFunc:function(Ue,nt,vt){(Oe!==Ue||Pe!==nt||Te!==vt)&&(e.stencilFunc(Ue,nt,vt),Oe=Ue,Pe=nt,Te=vt)},setOp:function(Ue,nt,vt){(Ne!==Ue||Se!==nt||ze!==vt)&&(e.stencilOp(Ue,nt,vt),Ne=Ue,Se=nt,ze=vt)},setLocked:function(Ue){oe=Ue},setClear:function(Ue){Ge!==Ue&&(e.clearStencil(Ue),Ge=Ue)},reset:function(){oe=!1,ue=null,Oe=null,Pe=null,Te=null,Ne=null,Se=null,ze=null,Ge=null}}}const o=new r,c=new s,p=new a;let A={},l=null,u=null,d=null,m=null,y=null,g=null,E=null,w=null,b=null,_=!1,C=null,T=null,x=null,O=null,M=null;const H=e.getParameter(35661);let R=!1,D=0;const P=e.getParameter(7938);P.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL\ ([0-9])/.exec(P)[1]),R=D>=1):P.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(P)[1]),R=D>=2);let I=null,L={};const k=new Qn,K=new Qn;function W(oe,ue,Oe){const Pe=new Uint8Array(4),Te=e.createTexture();e.bindTexture(oe,Te),e.texParameteri(oe,10241,9728),e.texParameteri(oe,10240,9728);for(let Ne=0;Ne<Oe;Ne++)e.texImage2D(ue+Ne,0,6408,1,1,0,6408,5121,Pe);return Te}const ee={};ee[3553]=W(3553,3553,1),ee[34067]=W(34067,34069,6),o.setClear(0,0,0,1),c.setClear(1),p.setClear(0),le(2929),c.setFunc(ww),fe(!1),pe(Mb),le(2884),me(Fo);function le(oe){A[oe]!==!0&&(e.enable(oe),A[oe]=!0)}function J(oe){A[oe]!==!1&&(e.disable(oe),A[oe]=!1)}function re(oe){return l!==oe?(e.useProgram(oe),l=oe,!0):!1}const te={[qA]:32774,[qz]:32778,[Zz]:32779};if(i)te[Lb]=32775,te[Rb]=32776;else{const oe=t.get("EXT_blend_minmax");oe!==null&&(te[Lb]=oe.MIN_EXT,te[Rb]=oe.MAX_EXT)}const ge={[Jz]:0,[eY]:1,[tY]:768,[O8]:770,[oY]:776,[sY]:774,[iY]:772,[nY]:769,[L8]:771,[aY]:775,[rY]:773};function me(oe,ue,Oe,Pe,Te,Ne,Se,ze){if(oe===Fo){u&&(J(3042),u=!1);return}if(u||(le(3042),u=!0),oe!==Xz){if(oe!==d||ze!==_){if((m!==qA||E!==qA)&&(e.blendEquation(32774),m=qA,E=qA),ze)switch(oe){case Nc:e.blendFuncSeparate(1,771,1,771);break;case gw:e.blendFunc(1,1);break;case Sb:e.blendFuncSeparate(0,0,769,771);break;case Ob:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case Nc:e.blendFuncSeparate(770,771,1,771);break;case gw:e.blendFunc(770,1);break;case Sb:e.blendFunc(0,769);break;case Ob:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}y=null,g=null,w=null,b=null,d=oe,_=ze}return}Te=Te||ue,Ne=Ne||Oe,Se=Se||Pe,(ue!==m||Te!==E)&&(e.blendEquationSeparate(te[ue],te[Te]),m=ue,E=Te),(Oe!==y||Pe!==g||Ne!==w||Se!==b)&&(e.blendFuncSeparate(ge[Oe],ge[Pe],ge[Ne],ge[Se]),y=Oe,g=Pe,w=Ne,b=Se),d=oe,_=null}function ie(oe,ue){oe.side===kd?J(2884):le(2884);let Oe=oe.side===Hi;ue&&(Oe=!Oe),fe(Oe),oe.blending===Nc&&oe.transparent===!1?me(Fo):me(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.premultipliedAlpha),c.setFunc(oe.depthFunc),c.setTest(oe.depthTest),c.setMask(oe.depthWrite),o.setMask(oe.colorWrite);const Pe=oe.stencilWrite;p.setTest(Pe),Pe&&(p.setMask(oe.stencilWriteMask),p.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),p.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),q(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits)}function fe(oe){C!==oe&&(oe?e.frontFace(2304):e.frontFace(2305),C=oe)}function pe(oe){oe!==Wz?(le(2884),oe!==T&&(oe===Mb?e.cullFace(1029):oe===$z?e.cullFace(1028):e.cullFace(1032))):J(2884),T=oe}function Ee(oe){oe!==x&&(R&&e.lineWidth(oe),x=oe)}function q(oe,ue,Oe){oe?(le(32823),(O!==ue||M!==Oe)&&(e.polygonOffset(ue,Oe),O=ue,M=Oe)):J(32823)}function Z(oe){oe?le(3089):J(3089)}function ae(oe){oe===void 0&&(oe=33984+H-1),I!==oe&&(e.activeTexture(oe),I=oe)}function Ae(oe,ue){I===null&&ae();let Oe=L[I];Oe===void 0&&(Oe={type:void 0,texture:void 0},L[I]=Oe),(Oe.type!==oe||Oe.texture!==ue)&&(e.bindTexture(oe,ue||ee[oe]),Oe.type=oe,Oe.texture=ue)}function we(){const oe=L[I];oe!==void 0&&oe.type!==void 0&&(e.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function xe(){try{e.compressedTexImage2D.apply(e,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Le(){try{e.texImage2D.apply(e,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function V(){try{e.texImage3D.apply(e,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function j(oe){k.equals(oe)===!1&&(e.scissor(oe.x,oe.y,oe.z,oe.w),k.copy(oe))}function ve(oe){K.equals(oe)===!1&&(e.viewport(oe.x,oe.y,oe.z,oe.w),K.copy(oe))}function he(){A={},I=null,L={},l=null,d=null,C=null,T=null,o.reset(),c.reset(),p.reset()}return{buffers:{color:o,depth:c,stencil:p},enable:le,disable:J,useProgram:re,setBlending:me,setMaterial:ie,setFlipSided:fe,setCullFace:pe,setLineWidth:Ee,setPolygonOffset:q,setScissorTest:Z,activeTexture:ae,bindTexture:Ae,unbindTexture:we,compressedTexImage2D:xe,texImage2D:Le,texImage3D:V,scissor:j,viewport:ve,reset:he}}function Lq(e,t,n,i,r,s,a){const o=r.isWebGL2,c=r.maxTextures,p=r.maxCubemapSize,A=r.maxTextureSize,l=r.maxSamples,u=new WeakMap;let d,m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(V,j){return m?new OffscreenCanvas(V,j):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(V,j,ve,he){let oe=1;if((V.width>he||V.height>he)&&(oe=he/Math.max(V.width,V.height)),oe<1||j===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const ue=j?nn.floorPowerOfTwo:Math.floor,Oe=ue(oe*V.width),Pe=ue(oe*V.height);d===void 0&&(d=y(Oe,Pe));const Te=ve?y(Oe,Pe):d;return Te.width=Oe,Te.height=Pe,Te.getContext("2d").drawImage(V,0,0,Oe,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+Oe+"x"+Pe+")."),Te}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function E(V){return nn.isPowerOfTwo(V.width)&&nn.isPowerOfTwo(V.height)}function w(V){return o?!1:V.wrapS!==Yr||V.wrapT!==Yr||V.minFilter!==Vn&&V.minFilter!==Ii}function b(V,j){return V.generateMipmaps&&j&&V.minFilter!==Vn&&V.minFilter!==Ii}function _(V,j,ve,he){e.generateMipmap(V);const oe=i.get(j);oe.__maxMipLevel=Math.log(Math.max(ve,he))*Math.LOG2E}function C(V,j,ve){if(o===!1)return j;if(V!==null){if(e[V]!==void 0)return e[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let he=j;return j===6403&&(ve===5126&&(he=33326),ve===5131&&(he=33325),ve===5121&&(he=33321)),j===6407&&(ve===5126&&(he=34837),ve===5131&&(he=34843),ve===5121&&(he=32849)),j===6408&&(ve===5126&&(he=34836),ve===5131&&(he=34842),ve===5121&&(he=32856)),(he===33325||he===33326||he===34842||he===34836)&&t.get("EXT_color_buffer_float"),he}function T(V){return V===Vn||V===_w||V===vw?9728:9729}function x(V){const j=V.target;j.removeEventListener("dispose",x),M(j),j.isVideoTexture&&u.delete(j),a.memory.textures--}function O(V){const j=V.target;j.removeEventListener("dispose",O),H(j),a.memory.textures--}function M(V){const j=i.get(V);j.__webglInit!==void 0&&(e.deleteTexture(j.__webglTexture),i.remove(V))}function H(V){const j=i.get(V),ve=i.get(V.texture);if(!!V){if(ve.__webglTexture!==void 0&&e.deleteTexture(ve.__webglTexture),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let he=0;he<6;he++)e.deleteFramebuffer(j.__webglFramebuffer[he]),j.__webglDepthbuffer&&e.deleteRenderbuffer(j.__webglDepthbuffer[he]);else e.deleteFramebuffer(j.__webglFramebuffer),j.__webglDepthbuffer&&e.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&e.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer&&e.deleteRenderbuffer(j.__webglColorRenderbuffer),j.__webglDepthRenderbuffer&&e.deleteRenderbuffer(j.__webglDepthRenderbuffer);i.remove(V.texture),i.remove(V)}}let R=0;function D(){R=0}function P(){const V=R;return V>=c&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+c),R+=1,V}function I(V,j){const ve=i.get(V);if(V.isVideoTexture&&ae(V),V.version>0&&ve.__version!==V.version){const he=V.image;if(he===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(he.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{te(ve,V,j);return}}n.activeTexture(33984+j),n.bindTexture(3553,ve.__webglTexture)}function L(V,j){const ve=i.get(V);if(V.version>0&&ve.__version!==V.version){te(ve,V,j);return}n.activeTexture(33984+j),n.bindTexture(35866,ve.__webglTexture)}function k(V,j){const ve=i.get(V);if(V.version>0&&ve.__version!==V.version){te(ve,V,j);return}n.activeTexture(33984+j),n.bindTexture(32879,ve.__webglTexture)}function K(V,j){if(V.image.length!==6)return;const ve=i.get(V);if(V.version>0&&ve.__version!==V.version){re(ve,V),n.activeTexture(33984+j),n.bindTexture(34067,ve.__webglTexture),e.pixelStorei(37440,V.flipY);const he=V&&(V.isCompressedTexture||V.image[0].isCompressedTexture),oe=V.image[0]&&V.image[0].isDataTexture,ue=[];for(let Ge=0;Ge<6;Ge++)!he&&!oe?ue[Ge]=g(V.image[Ge],!1,!0,p):ue[Ge]=oe?V.image[Ge].image:V.image[Ge];const Oe=ue[0],Pe=E(Oe)||o,Te=s.convert(V.format),Ne=s.convert(V.type),Se=C(V.internalFormat,Te,Ne);J(34067,V,Pe);let ze;if(he){for(let Ge=0;Ge<6;Ge++){ze=ue[Ge].mipmaps;for(let Ue=0;Ue<ze.length;Ue++){const nt=ze[Ue];V.format!==$r&&V.format!==Rp?Te!==null?n.compressedTexImage2D(34069+Ge,Ue,Se,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Ge,Ue,Se,nt.width,nt.height,0,Te,Ne,nt.data)}}ve.__maxMipLevel=ze.length-1}else{ze=V.mipmaps;for(let Ge=0;Ge<6;Ge++)if(oe){n.texImage2D(34069+Ge,0,Se,ue[Ge].width,ue[Ge].height,0,Te,Ne,ue[Ge].data);for(let Ue=0;Ue<ze.length;Ue++){const vt=ze[Ue].image[Ge].image;n.texImage2D(34069+Ge,Ue+1,Se,vt.width,vt.height,0,Te,Ne,vt.data)}}else{n.texImage2D(34069+Ge,0,Se,Te,Ne,ue[Ge]);for(let Ue=0;Ue<ze.length;Ue++){const nt=ze[Ue];n.texImage2D(34069+Ge,Ue+1,Se,Te,Ne,nt.image[Ge])}}ve.__maxMipLevel=ze.length}b(V,Pe)&&_(34067,V,Oe.width,Oe.height),ve.__version=V.version,V.onUpdate&&V.onUpdate(V)}else n.activeTexture(33984+j),n.bindTexture(34067,ve.__webglTexture)}function W(V,j){n.activeTexture(33984+j),n.bindTexture(34067,i.get(V).__webglTexture)}const ee={[fm]:10497,[Yr]:33071,[dm]:33648},le={[Vn]:9728,[_w]:9984,[vw]:9986,[Ii]:9729,[I8]:9985,[ME]:9987};function J(V,j,ve){ve?(e.texParameteri(V,10242,ee[j.wrapS]),e.texParameteri(V,10243,ee[j.wrapT]),(V===32879||V===35866)&&e.texParameteri(V,32882,ee[j.wrapR]),e.texParameteri(V,10240,le[j.magFilter]),e.texParameteri(V,10241,le[j.minFilter])):(e.texParameteri(V,10242,33071),e.texParameteri(V,10243,33071),(V===32879||V===35866)&&e.texParameteri(V,32882,33071),(j.wrapS!==Yr||j.wrapT!==Yr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(V,10240,T(j.magFilter)),e.texParameteri(V,10241,T(j.minFilter)),j.minFilter!==Vn&&j.minFilter!==Ii&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const he=t.get("EXT_texture_filter_anisotropic");if(he){if(j.type===Lo&&t.get("OES_texture_float_linear")===null||j.type===mm&&(o||t.get("OES_texture_half_float_linear"))===null)return;(j.anisotropy>1||i.get(j).__currentAnisotropy)&&(e.texParameterf(V,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,r.getMaxAnisotropy())),i.get(j).__currentAnisotropy=j.anisotropy)}}function re(V,j){V.__webglInit===void 0&&(V.__webglInit=!0,j.addEventListener("dispose",x),V.__webglTexture=e.createTexture(),a.memory.textures++)}function te(V,j,ve){let he=3553;j.isDataTexture2DArray&&(he=35866),j.isDataTexture3D&&(he=32879),re(V,j),n.activeTexture(33984+ve),n.bindTexture(he,V.__webglTexture),e.pixelStorei(37440,j.flipY),e.pixelStorei(37441,j.premultiplyAlpha),e.pixelStorei(3317,j.unpackAlignment);const oe=w(j)&&E(j.image)===!1,ue=g(j.image,oe,!1,A),Oe=E(ue)||o,Pe=s.convert(j.format);let Te=s.convert(j.type),Ne=C(j.internalFormat,Pe,Te);J(he,j,Oe);let Se;const ze=j.mipmaps;if(j.isDepthTexture)Ne=6402,o?j.type===Lo?Ne=36012:j.type===B1?Ne=33190:j.type===Of?Ne=35056:Ne=33189:j.type===Lo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),j.format===vl&&Ne===6402&&j.type!==hm&&j.type!==B1&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),j.type=hm,Te=s.convert(j.type)),j.format===jf&&Ne===6402&&(Ne=34041,j.type!==Of&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),j.type=Of,Te=s.convert(j.type))),n.texImage2D(3553,0,Ne,ue.width,ue.height,0,Pe,Te,null);else if(j.isDataTexture)if(ze.length>0&&Oe){for(let Ge=0,Ue=ze.length;Ge<Ue;Ge++)Se=ze[Ge],n.texImage2D(3553,Ge,Ne,Se.width,Se.height,0,Pe,Te,Se.data);j.generateMipmaps=!1,V.__maxMipLevel=ze.length-1}else n.texImage2D(3553,0,Ne,ue.width,ue.height,0,Pe,Te,ue.data),V.__maxMipLevel=0;else if(j.isCompressedTexture){for(let Ge=0,Ue=ze.length;Ge<Ue;Ge++)Se=ze[Ge],j.format!==$r&&j.format!==Rp?Pe!==null?n.compressedTexImage2D(3553,Ge,Ne,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Ge,Ne,Se.width,Se.height,0,Pe,Te,Se.data);V.__maxMipLevel=ze.length-1}else if(j.isDataTexture2DArray)n.texImage3D(35866,0,Ne,ue.width,ue.height,ue.depth,0,Pe,Te,ue.data),V.__maxMipLevel=0;else if(j.isDataTexture3D)n.texImage3D(32879,0,Ne,ue.width,ue.height,ue.depth,0,Pe,Te,ue.data),V.__maxMipLevel=0;else if(ze.length>0&&Oe){for(let Ge=0,Ue=ze.length;Ge<Ue;Ge++)Se=ze[Ge],n.texImage2D(3553,Ge,Ne,Pe,Te,Se);j.generateMipmaps=!1,V.__maxMipLevel=ze.length-1}else n.texImage2D(3553,0,Ne,Pe,Te,ue),V.__maxMipLevel=0;b(j,Oe)&&_(he,j,ue.width,ue.height),V.__version=j.version,j.onUpdate&&j.onUpdate(j)}function ge(V,j,ve,he){const oe=s.convert(j.texture.format),ue=s.convert(j.texture.type),Oe=C(j.texture.internalFormat,oe,ue);n.texImage2D(he,0,Oe,j.width,j.height,0,oe,ue,null),e.bindFramebuffer(36160,V),e.framebufferTexture2D(36160,ve,he,i.get(j.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function me(V,j,ve){if(e.bindRenderbuffer(36161,V),j.depthBuffer&&!j.stencilBuffer){let he=33189;if(ve){const oe=j.depthTexture;oe&&oe.isDepthTexture&&(oe.type===Lo?he=36012:oe.type===B1&&(he=33190));const ue=Z(j);e.renderbufferStorageMultisample(36161,ue,he,j.width,j.height)}else e.renderbufferStorage(36161,he,j.width,j.height);e.framebufferRenderbuffer(36160,36096,36161,V)}else if(j.depthBuffer&&j.stencilBuffer){if(ve){const he=Z(j);e.renderbufferStorageMultisample(36161,he,35056,j.width,j.height)}else e.renderbufferStorage(36161,34041,j.width,j.height);e.framebufferRenderbuffer(36160,33306,36161,V)}else{const he=s.convert(j.texture.format),oe=s.convert(j.texture.type),ue=C(j.texture.internalFormat,he,oe);if(ve){const Oe=Z(j);e.renderbufferStorageMultisample(36161,Oe,ue,j.width,j.height)}else e.renderbufferStorage(36161,ue,j.width,j.height)}e.bindRenderbuffer(36161,null)}function ie(V,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,V),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(j.depthTexture).__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),I(j.depthTexture,0);const he=i.get(j.depthTexture).__webglTexture;if(j.depthTexture.format===vl)e.framebufferTexture2D(36160,36096,3553,he,0);else if(j.depthTexture.format===jf)e.framebufferTexture2D(36160,33306,3553,he,0);else throw new Error("Unknown depthTexture format")}function fe(V){const j=i.get(V),ve=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");ie(j.__webglFramebuffer,V)}else if(ve){j.__webglDepthbuffer=[];for(let he=0;he<6;he++)e.bindFramebuffer(36160,j.__webglFramebuffer[he]),j.__webglDepthbuffer[he]=e.createRenderbuffer(),me(j.__webglDepthbuffer[he],V,!1)}else e.bindFramebuffer(36160,j.__webglFramebuffer),j.__webglDepthbuffer=e.createRenderbuffer(),me(j.__webglDepthbuffer,V,!1);e.bindFramebuffer(36160,null)}function pe(V){const j=i.get(V),ve=i.get(V.texture);V.addEventListener("dispose",O),ve.__webglTexture=e.createTexture(),a.memory.textures++;const he=V.isWebGLCubeRenderTarget===!0,oe=V.isWebGLMultisampleRenderTarget===!0,ue=E(V)||o;if(o&&V.texture.format===Rp&&(V.texture.type===Lo||V.texture.type===mm)&&(V.texture.format=$r,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),he){j.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)j.__webglFramebuffer[Oe]=e.createFramebuffer()}else if(j.__webglFramebuffer=e.createFramebuffer(),oe)if(o){j.__webglMultisampledFramebuffer=e.createFramebuffer(),j.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,j.__webglColorRenderbuffer);const Oe=s.convert(V.texture.format),Pe=s.convert(V.texture.type),Te=C(V.texture.internalFormat,Oe,Pe),Ne=Z(V);e.renderbufferStorageMultisample(36161,Ne,Te,V.width,V.height),e.bindFramebuffer(36160,j.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,j.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),V.depthBuffer&&(j.__webglDepthRenderbuffer=e.createRenderbuffer(),me(j.__webglDepthRenderbuffer,V,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(he){n.bindTexture(34067,ve.__webglTexture),J(34067,V.texture,ue);for(let Oe=0;Oe<6;Oe++)ge(j.__webglFramebuffer[Oe],V,36064,34069+Oe);b(V.texture,ue)&&_(34067,V.texture,V.width,V.height),n.bindTexture(34067,null)}else n.bindTexture(3553,ve.__webglTexture),J(3553,V.texture,ue),ge(j.__webglFramebuffer,V,36064,3553),b(V.texture,ue)&&_(3553,V.texture,V.width,V.height),n.bindTexture(3553,null);V.depthBuffer&&fe(V)}function Ee(V){const j=V.texture,ve=E(V)||o;if(b(j,ve)){const he=V.isWebGLCubeRenderTarget?34067:3553,oe=i.get(j).__webglTexture;n.bindTexture(he,oe),_(he,j,V.width,V.height),n.bindTexture(he,null)}}function q(V){if(V.isWebGLMultisampleRenderTarget)if(o){const j=i.get(V);e.bindFramebuffer(36008,j.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,j.__webglFramebuffer);const ve=V.width,he=V.height;let oe=16384;V.depthBuffer&&(oe|=256),V.stencilBuffer&&(oe|=1024),e.blitFramebuffer(0,0,ve,he,0,0,ve,he,oe,9728),e.bindFramebuffer(36160,j.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Z(V){return o&&V.isWebGLMultisampleRenderTarget?Math.min(l,V.samples):0}function ae(V){const j=a.render.frame;u.get(V)!==j&&(u.set(V,j),V.update())}let Ae=!1,we=!1;function xe(V,j){V&&V.isWebGLRenderTarget&&(Ae===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Ae=!0),V=V.texture),I(V,j)}function Le(V,j){V&&V.isWebGLCubeRenderTarget&&(we===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),we=!0),V=V.texture),V&&V.isCubeTexture||Array.isArray(V.image)&&V.image.length===6?K(V,j):W(V,j)}this.allocateTextureUnit=P,this.resetTextureUnits=D,this.setTexture2D=I,this.setTexture2DArray=L,this.setTexture3D=k,this.setTextureCube=K,this.setTextureCubeDynamic=W,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=q,this.safeSetTexture2D=xe,this.safeSetTextureCube=Le}function Rq(e,t,n){const i=n.isWebGL2;function r(s){let a;if(s===Gp)return 5121;if(s===xY)return 32819;if(s===TY)return 32820;if(s===BY)return 33635;if(s===vY)return 5120;if(s===CY)return 5122;if(s===hm)return 5123;if(s===bY)return 5124;if(s===B1)return 5125;if(s===Lo)return 5126;if(s===mm)return i?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===MY)return 6406;if(s===Rp)return 6407;if(s===$r)return 6408;if(s===SY)return 6409;if(s===OY)return 6410;if(s===vl)return 6402;if(s===jf)return 34041;if(s===RY)return 6403;if(s===IY)return 36244;if(s===FY)return 33319;if(s===NY)return 33320;if(s===PY)return 36248;if(s===UY)return 36249;if(s===Ib||s===Fb||s===Nb||s===Pb)if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Ib)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Fb)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Nb)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Pb)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Ub||s===Hb||s===Db||s===Gb)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Ub)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Hb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Db)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Gb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===HY)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===Qb||s===kb)&&(a=t.get("WEBGL_compressed_texture_etc"),a!==null)){if(s===Qb)return a.COMPRESSED_RGB8_ETC2;if(s===kb)return a.COMPRESSED_RGBA8_ETC2_EAC}if(s===DY||s===GY||s===QY||s===kY||s===VY||s===KY||s===zY||s===YY||s===WY||s===$Y||s===jY||s===XY||s===qY||s===ZY||s===eW||s===tW||s===nW||s===iW||s===rW||s===sW||s===aW||s===oW||s===cW||s===pW||s===AW||s===lW||s===uW||s===fW)return a=t.get("WEBGL_compressed_texture_astc"),a!==null?s:null;if(s===JY)return a=t.get("EXT_texture_compression_bptc"),a!==null?s:null;if(s===Of)return i?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}function Ow(e){Li.call(this),this.cameras=e||[]}Ow.prototype=Object.assign(Object.create(Li.prototype),{constructor:Ow,isArrayCamera:!0});function Dn(){ct.call(this),this.type="Group"}Dn.prototype=Object.assign(Object.create(ct.prototype),{constructor:Dn,isGroup:!0});function wm(){this._targetRay=null,this._grip=null}Object.assign(wm.prototype,{constructor:wm,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Dn,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Dn,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,t,n){let i=null,r=null;const s=this._targetRay,a=this._grip;return e&&(s!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),a!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)))),s!==null&&(s.visible=i!==null),a!==null&&(a.visible=r!==null),this}});function q8(e,t){const n=this;let i=null,r=1,s=null,a="local-floor",o=null;const c=[],p=new Map,A=new Li;A.layers.enable(1),A.viewport=new Qn;const l=new Li;l.layers.enable(2),l.viewport=new Qn;const u=[A,l],d=new Ow;d.layers.enable(1),d.layers.enable(2);let m=null,y=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(R){let D=c[R];return D===void 0&&(D=new wm,c[R]=D),D.getTargetRaySpace()},this.getControllerGrip=function(R){let D=c[R];return D===void 0&&(D=new wm,c[R]=D),D.getGripSpace()};function g(R){const D=p.get(R.inputSource);D&&D.dispatchEvent({type:R.type})}function E(){p.forEach(function(R,D){R.disconnect(D)}),p.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),H.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function w(R){s=R,H.setContext(i),H.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(R){r=R,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(R){a=R,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=function(R){if(i=R,i!==null){i.addEventListener("select",g),i.addEventListener("selectstart",g),i.addEventListener("selectend",g),i.addEventListener("squeeze",g),i.addEventListener("squeezestart",g),i.addEventListener("squeezeend",g),i.addEventListener("end",E);const D=t.getContextAttributes();D.xrCompatible!==!0&&t.makeXRCompatible();const P={antialias:D.antialias,alpha:D.alpha,depth:D.depth,stencil:D.stencil,framebufferScaleFactor:r},I=new XRWebGLLayer(i,t,P);i.updateRenderState({baseLayer:I}),i.requestReferenceSpace(a).then(w),i.addEventListener("inputsourceschange",b)}};function b(R){const D=i.inputSources;for(let P=0;P<c.length;P++)p.set(D[P],c[P]);for(let P=0;P<R.removed.length;P++){const I=R.removed[P],L=p.get(I);L&&(L.dispatchEvent({type:"disconnected",data:I}),p.delete(I))}for(let P=0;P<R.added.length;P++){const I=R.added[P],L=p.get(I);L&&L.dispatchEvent({type:"connected",data:I})}}const _=new F,C=new F;function T(R,D,P){_.setFromMatrixPosition(D.matrixWorld),C.setFromMatrixPosition(P.matrixWorld);const I=_.distanceTo(C),L=D.projectionMatrix.elements,k=P.projectionMatrix.elements,K=L[14]/(L[10]-1),W=L[14]/(L[10]+1),ee=(L[9]+1)/L[5],le=(L[9]-1)/L[5],J=(L[8]-1)/L[0],re=(k[8]+1)/k[0],te=K*J,ge=K*re,me=I/(-J+re),ie=me*-J;D.matrixWorld.decompose(R.position,R.quaternion,R.scale),R.translateX(ie),R.translateZ(me),R.matrixWorld.compose(R.position,R.quaternion,R.scale),R.matrixWorldInverse.getInverse(R.matrixWorld);const fe=K+me,pe=W+me,Ee=te-ie,q=ge+(I-ie),Z=ee*W/pe*fe,ae=le*W/pe*fe;R.projectionMatrix.makePerspective(Ee,q,Z,ae,fe,pe)}function x(R,D){D===null?R.matrixWorld.copy(R.matrix):R.matrixWorld.multiplyMatrices(D.matrixWorld,R.matrix),R.matrixWorldInverse.getInverse(R.matrixWorld)}this.getCamera=function(R){d.near=l.near=A.near=R.near,d.far=l.far=A.far=R.far,(m!==d.near||y!==d.far)&&(i.updateRenderState({depthNear:d.near,depthFar:d.far}),m=d.near,y=d.far);const D=R.parent,P=d.cameras;x(d,D);for(let L=0;L<P.length;L++)x(P[L],D);R.matrixWorld.copy(d.matrixWorld);const I=R.children;for(let L=0,k=I.length;L<k;L++)I[L].updateMatrixWorld(!0);return P.length===2?T(d,A,l):d.projectionMatrix.copy(A.projectionMatrix),d};let O=null;function M(R,D){if(o=D.getViewerPose(s),o!==null){const I=o.views,L=i.renderState.baseLayer;e.setFramebuffer(L.framebuffer);let k=!1;I.length!==d.cameras.length&&(d.cameras.length=0,k=!0);for(let K=0;K<I.length;K++){const W=I[K],ee=L.getViewport(W),le=u[K];le.matrix.fromArray(W.transform.matrix),le.projectionMatrix.fromArray(W.projectionMatrix),le.viewport.set(ee.x,ee.y,ee.width,ee.height),K===0&&d.matrix.copy(le.matrix),k===!0&&d.cameras.push(le)}}const P=i.inputSources;for(let I=0;I<c.length;I++){const L=c[I],k=P[I];L.update(k,D,s)}O&&O(R,D)}const H=new k8;H.setAnimationLoop(M),this.setAnimationLoop=function(R){O=R},this.dispose=function(){}}Object.assign(q8.prototype,Wo.prototype);function Iq(e){function t(E,w){E.fogColor.value.copy(w.color),w.isFog?(E.fogNear.value=w.near,E.fogFar.value=w.far):w.isFogExp2&&(E.fogDensity.value=w.density)}function n(E,w,b,_,C){w.isMeshBasicMaterial?i(E,w):w.isMeshLambertMaterial?(i(E,w),c(E,w)):w.isMeshToonMaterial?(i(E,w),A(E,w)):w.isMeshPhongMaterial?(i(E,w),p(E,w)):w.isMeshStandardMaterial?(i(E,w,b),w.isMeshPhysicalMaterial?u(E,w,b):l(E,w,b)):w.isMeshMatcapMaterial?(i(E,w),d(E,w)):w.isMeshDepthMaterial?(i(E,w),m(E,w)):w.isMeshDistanceMaterial?(i(E,w),y(E,w)):w.isMeshNormalMaterial?(i(E,w),g(E,w)):w.isLineBasicMaterial?(r(E,w),w.isLineDashedMaterial&&s(E,w)):w.isPointsMaterial?a(E,w,_,C):w.isSpriteMaterial?o(E,w):w.isShadowMaterial?(E.color.value.copy(w.color),E.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function i(E,w,b){E.opacity.value=w.opacity,w.color&&E.diffuse.value.copy(w.color),w.emissive&&E.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap),w.specularMap&&(E.specularMap.value=w.specularMap);const _=w.envMap||b;_&&(E.envMap.value=_,E.flipEnvMap.value=_.isCubeTexture?-1:1,E.reflectivity.value=w.reflectivity,E.refractionRatio.value=w.refractionRatio,E.maxMipLevel.value=e.get(_).__maxMipLevel),w.lightMap&&(E.lightMap.value=w.lightMap,E.lightMapIntensity.value=w.lightMapIntensity),w.aoMap&&(E.aoMap.value=w.aoMap,E.aoMapIntensity.value=w.aoMapIntensity);let C;w.map?C=w.map:w.specularMap?C=w.specularMap:w.displacementMap?C=w.displacementMap:w.normalMap?C=w.normalMap:w.bumpMap?C=w.bumpMap:w.roughnessMap?C=w.roughnessMap:w.metalnessMap?C=w.metalnessMap:w.alphaMap?C=w.alphaMap:w.emissiveMap&&(C=w.emissiveMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),E.uvTransform.value.copy(C.matrix));let T;w.aoMap?T=w.aoMap:w.lightMap&&(T=w.lightMap),T!==void 0&&(T.isWebGLRenderTarget&&(T=T.texture),T.matrixAutoUpdate===!0&&T.updateMatrix(),E.uv2Transform.value.copy(T.matrix))}function r(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity}function s(E,w){E.dashSize.value=w.dashSize,E.totalSize.value=w.dashSize+w.gapSize,E.scale.value=w.scale}function a(E,w,b,_){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.size.value=w.size*b,E.scale.value=_*.5,w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap);let C;w.map?C=w.map:w.alphaMap&&(C=w.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),E.uvTransform.value.copy(C.matrix))}function o(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.rotation.value=w.rotation,w.map&&(E.map.value=w.map),w.alphaMap&&(E.alphaMap.value=w.alphaMap);let b;w.map?b=w.map:w.alphaMap&&(b=w.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),E.uvTransform.value.copy(b.matrix))}function c(E,w){w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap)}function p(E,w){E.specular.value.copy(w.specular),E.shininess.value=Math.max(w.shininess,1e-4),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===Hi&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===Hi&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function A(E,w){w.gradientMap&&(E.gradientMap.value=w.gradientMap),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===Hi&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===Hi&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function l(E,w,b){E.roughness.value=w.roughness,E.metalness.value=w.metalness,w.roughnessMap&&(E.roughnessMap.value=w.roughnessMap),w.metalnessMap&&(E.metalnessMap.value=w.metalnessMap),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===Hi&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===Hi&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),(w.envMap||b)&&(E.envMapIntensity.value=w.envMapIntensity)}function u(E,w,b){l(E,w,b),E.reflectivity.value=w.reflectivity,E.clearcoat.value=w.clearcoat,E.clearcoatRoughness.value=w.clearcoatRoughness,w.sheen&&E.sheen.value.copy(w.sheen),w.clearcoatMap&&(E.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(E.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),E.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===Hi&&E.clearcoatNormalScale.value.negate()),E.transparency.value=w.transparency}function d(E,w){w.matcap&&(E.matcap.value=w.matcap),w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===Hi&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===Hi&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function m(E,w){w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}function y(E,w){w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),E.referencePosition.value.copy(w.referencePosition),E.nearDistance.value=w.nearDistance,E.farDistance.value=w.farDistance}function g(E,w){w.bumpMap&&(E.bumpMap.value=w.bumpMap,E.bumpScale.value=w.bumpScale,w.side===Hi&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,E.normalScale.value.copy(w.normalScale),w.side===Hi&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function Wd(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,s=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,o=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,c=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,p=e.powerPreference!==void 0?e.powerPreference:"default",A=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let l=null,u=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=yr,this.physicallyCorrectLights=!1,this.toneMapping=_l,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const d=this;let m=!1,y=null,g=0,E=0,w=null,b=null,_=-1,C=null,T=null;const x=new Qn,O=new Qn;let M=null,H=t.width,R=t.height,D=1,P=null,I=null;const L=new Qn(0,0,H,R),k=new Qn(0,0,H,R);let K=!1;const W=new Yd,ee=new AX;let le=!1,J=!1;const re=new Xe,te=new F,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function me(){return w===null?D:1}let ie=n;function fe(ne,Ie){for(let Me=0;Me<ne.length;Me++){const B=ne[Me],N=t.getContext(B,Ie);if(N!==null)return N}return null}try{const ne={alpha:i,depth:r,stencil:s,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:c,powerPreference:p,failIfMajorPerformanceCaveat:A};if(t.addEventListener("webglcontextlost",Ue,!1),t.addEventListener("webglcontextrestored",nt,!1),ie===null){const Ie=["webgl2","webgl","experimental-webgl"];if(d.isWebGL1Renderer===!0&&Ie.shift(),ie=fe(Ie,ne),ie===null)throw fe(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ie.getShaderPrecisionFormat===void 0&&(ie.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let pe,Ee,q,Z,ae,Ae,we,xe,Le,V,j,ve,he,oe,ue,Oe,Pe,Te,Ne;function Se(){pe=new lX(ie),Ee=new pX(ie,pe,e),Ee.isWebGL2===!1&&(pe.get("WEBGL_depth_texture"),pe.get("OES_texture_float"),pe.get("OES_texture_half_float"),pe.get("OES_texture_half_float_linear"),pe.get("OES_standard_derivatives"),pe.get("OES_element_index_uint"),pe.get("OES_vertex_array_object"),pe.get("ANGLE_instanced_arrays")),pe.get("OES_texture_float_linear"),Te=new Rq(ie,pe,Ee),q=new Oq(ie,pe,Ee),q.scissor(O.copy(k).multiplyScalar(D).floor()),q.viewport(x.copy(L).multiplyScalar(D).floor()),Z=new dX,ae=new yq,Ae=new Lq(ie,pe,q,ae,Ee,Te,Z),we=new GW(ie,Ee),Ne=new oX(ie,pe,we,Ee),xe=new uX(ie,we,Z,Ne),Le=new yX(ie,xe,we,Z),ue=new EX(ie),V=new Eq(d,pe,Ee,Ne),j=new Iq(ae),ve=new _q,he=new Bq,oe=new aX(d,q,Le,o),Oe=new cX(ie,pe,Z,Ee),Pe=new fX(ie,pe,Z,Ee),Z.programs=V.programs,d.capabilities=Ee,d.extensions=pe,d.properties=ae,d.renderLists=ve,d.state=q,d.info=Z}Se();const ze=new q8(d,ie);this.xr=ze;const Ge=new X8(d,Le,Ee.maxTextureSize);this.shadowMap=Ge,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const ne=pe.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=pe.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(ne){ne!==void 0&&(D=ne,this.setSize(H,R,!1))},this.getSize=function(ne){return ne===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),ne=new Ke),ne.set(H,R)},this.setSize=function(ne,Ie,Me){if(ze.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}H=ne,R=Ie,t.width=Math.floor(ne*D),t.height=Math.floor(Ie*D),Me!==!1&&(t.style.width=ne+"px",t.style.height=Ie+"px"),this.setViewport(0,0,ne,Ie)},this.getDrawingBufferSize=function(ne){return ne===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),ne=new Ke),ne.set(H*D,R*D).floor()},this.setDrawingBufferSize=function(ne,Ie,Me){H=ne,R=Ie,D=Me,t.width=Math.floor(ne*Me),t.height=Math.floor(Ie*Me),this.setViewport(0,0,ne,Ie)},this.getCurrentViewport=function(ne){return ne===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),ne=new Qn),ne.copy(x)},this.getViewport=function(ne){return ne.copy(L)},this.setViewport=function(ne,Ie,Me,B){ne.isVector4?L.set(ne.x,ne.y,ne.z,ne.w):L.set(ne,Ie,Me,B),q.viewport(x.copy(L).multiplyScalar(D).floor())},this.getScissor=function(ne){return ne.copy(k)},this.setScissor=function(ne,Ie,Me,B){ne.isVector4?k.set(ne.x,ne.y,ne.z,ne.w):k.set(ne,Ie,Me,B),q.scissor(O.copy(k).multiplyScalar(D).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(ne){q.setScissorTest(K=ne)},this.setOpaqueSort=function(ne){P=ne},this.setTransparentSort=function(ne){I=ne},this.getClearColor=function(){return oe.getClearColor()},this.setClearColor=function(){oe.setClearColor.apply(oe,arguments)},this.getClearAlpha=function(){return oe.getClearAlpha()},this.setClearAlpha=function(){oe.setClearAlpha.apply(oe,arguments)},this.clear=function(ne,Ie,Me){let B=0;(ne===void 0||ne)&&(B|=16384),(Ie===void 0||Ie)&&(B|=256),(Me===void 0||Me)&&(B|=1024),ie.clear(B)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ue,!1),t.removeEventListener("webglcontextrestored",nt,!1),ve.dispose(),he.dispose(),ae.dispose(),Le.dispose(),Ne.dispose(),ze.dispose(),at.stop()};function Ue(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function nt(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1,Se()}function vt(ne){const Ie=ne.target;Ie.removeEventListener("dispose",vt),gt(Ie)}function gt(ne){Et(ne),ae.remove(ne)}function Et(ne){const Ie=ae.get(ne).program;ne.program=void 0,Ie!==void 0&&V.releaseProgram(Ie)}function Mt(ne,Ie){ne.render(function(Me){d.renderBufferImmediate(Me,Ie)})}this.renderBufferImmediate=function(ne,Ie){Ne.initAttributes();const Me=ae.get(ne);ne.hasPositions&&!Me.position&&(Me.position=ie.createBuffer()),ne.hasNormals&&!Me.normal&&(Me.normal=ie.createBuffer()),ne.hasUvs&&!Me.uv&&(Me.uv=ie.createBuffer()),ne.hasColors&&!Me.color&&(Me.color=ie.createBuffer());const B=Ie.getAttributes();ne.hasPositions&&(ie.bindBuffer(34962,Me.position),ie.bufferData(34962,ne.positionArray,35048),Ne.enableAttribute(B.position),ie.vertexAttribPointer(B.position,3,5126,!1,0,0)),ne.hasNormals&&(ie.bindBuffer(34962,Me.normal),ie.bufferData(34962,ne.normalArray,35048),Ne.enableAttribute(B.normal),ie.vertexAttribPointer(B.normal,3,5126,!1,0,0)),ne.hasUvs&&(ie.bindBuffer(34962,Me.uv),ie.bufferData(34962,ne.uvArray,35048),Ne.enableAttribute(B.uv),ie.vertexAttribPointer(B.uv,2,5126,!1,0,0)),ne.hasColors&&(ie.bindBuffer(34962,Me.color),ie.bufferData(34962,ne.colorArray,35048),Ne.enableAttribute(B.color),ie.vertexAttribPointer(B.color,3,5126,!1,0,0)),Ne.disableUnusedAttributes(),ie.drawArrays(4,0,ne.count),ne.count=0},this.renderBufferDirect=function(ne,Ie,Me,B,N,U){Ie===null&&(Ie=ge);const z=N.isMesh&&N.matrixWorld.determinant()<0,Y=Ze(ne,Ie,B,N);q.setMaterial(B,z);let se=Me.index;const ce=Me.attributes.position;if(se===null){if(ce===void 0||ce.count===0)return}else if(se.count===0)return;let ye=1;B.wireframe===!0&&(se=xe.getWireframeAttribute(Me),ye=2),(B.morphTargets||B.morphNormals)&&ue.update(N,Me,B,Y),Ne.setup(N,B,Y,Me,se);let Fe,Re=Oe;se!==null&&(Fe=we.get(se),Re=Pe,Re.setIndex(Fe));const ke=se!==null?se.count:ce.count,tt=Me.drawRange.start*ye,Ye=Me.drawRange.count*ye,We=U!==null?U.start*ye:0,et=U!==null?U.count*ye:1/0,dt=Math.max(tt,We),_t=Math.min(ke,tt+Ye,We+et)-1,ht=Math.max(0,_t-dt+1);if(ht!==0){if(N.isMesh)B.wireframe===!0?(q.setLineWidth(B.wireframeLinewidth*me()),Re.setMode(1)):Re.setMode(4);else if(N.isLine){let Ln=B.linewidth;Ln===void 0&&(Ln=1),q.setLineWidth(Ln*me()),N.isLineSegments?Re.setMode(1):N.isLineLoop?Re.setMode(2):Re.setMode(3)}else N.isPoints?Re.setMode(0):N.isSprite&&Re.setMode(4);if(N.isInstancedMesh)Re.renderInstances(Me,dt,ht,N.count);else if(Me.isInstancedBufferGeometry){const Ln=Math.min(Me.instanceCount,Me._maxInstanceCount);Re.renderInstances(Me,dt,ht,Ln)}else Re.render(dt,ht)}},this.compile=function(ne,Ie){u=he.get(ne,Ie),u.init(),ne.traverse(function(B){B.isLight&&(u.pushLight(B),B.castShadow&&u.pushShadow(B))}),u.setupLights(Ie);const Me=new WeakMap;ne.traverse(function(B){let N=B.material;if(N)if(Array.isArray(N))for(let U=0;U<N.length;U++){let z=N[U];Me.has(z)===!1&&(Vt(z,ne,B),Me.set(z))}else Me.has(N)===!1&&(Vt(N,ne,B),Me.set(N))})};let Lt=null;function Bt(ne){ze.isPresenting||Lt&&Lt(ne)}const at=new k8;at.setAnimationLoop(Bt),typeof window<"u"&&at.setContext(window),this.setAnimationLoop=function(ne){Lt=ne,ze.setAnimationLoop(ne),ne===null?at.stop():at.start()},this.render=function(ne,Ie){let Me,B;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Me=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),B=arguments[3]),Ie!==void 0&&Ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(m===!0)return;Ne.resetDefaultState(),_=-1,C=null,ne.autoUpdate===!0&&ne.updateMatrixWorld(),Ie.parent===null&&Ie.updateMatrixWorld(),ze.enabled===!0&&ze.isPresenting===!0&&(Ie=ze.getCamera(Ie)),ne.isScene===!0&&ne.onBeforeRender(d,ne,Ie,Me||w),u=he.get(ne,Ie),u.init(),re.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),W.setFromProjectionMatrix(re),J=this.localClippingEnabled,le=ee.init(this.clippingPlanes,J,Ie),l=ve.get(ne,Ie),l.init(),Wt(ne,Ie,0,d.sortObjects),l.finish(),d.sortObjects===!0&&l.sort(P,I),le===!0&&ee.beginShadows();const N=u.state.shadowsArray;Ge.render(N,ne,Ie),u.setupLights(Ie),le===!0&&ee.endShadows(),this.info.autoReset===!0&&this.info.reset(),Me!==void 0&&this.setRenderTarget(Me),oe.render(l,ne,Ie,B);const U=l.opaque,z=l.transparent;U.length>0&&wt(U,ne,Ie),z.length>0&&wt(z,ne,Ie),ne.isScene===!0&&ne.onAfterRender(d,ne,Ie),w!==null&&(Ae.updateRenderTargetMipmap(w),Ae.updateMultisampleRenderTarget(w)),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1),l=null,u=null};function Wt(ne,Ie,Me,B){if(ne.visible===!1)return;if(ne.layers.test(Ie.layers)){if(ne.isGroup)Me=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(Ie);else if(ne.isLight)u.pushLight(ne),ne.castShadow&&u.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||W.intersectsSprite(ne)){B&&te.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(re);const z=Le.update(ne),Y=ne.material;Y.visible&&l.push(ne,z,Y,Me,te.z,null)}}else if(ne.isImmediateRenderObject)B&&te.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(re),l.push(ne,null,ne.material,Me,te.z,null);else if((ne.isMesh||ne.isLine||ne.isPoints)&&(ne.isSkinnedMesh&&ne.skeleton.frame!==Z.render.frame&&(ne.skeleton.update(),ne.skeleton.frame=Z.render.frame),!ne.frustumCulled||W.intersectsObject(ne))){B&&te.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(re);const z=Le.update(ne),Y=ne.material;if(Array.isArray(Y)){const se=z.groups;for(let ce=0,ye=se.length;ce<ye;ce++){const Fe=se[ce],Re=Y[Fe.materialIndex];Re&&Re.visible&&l.push(ne,z,Re,Me,te.z,Fe)}}else Y.visible&&l.push(ne,z,Y,Me,te.z,null)}}const U=ne.children;for(let z=0,Y=U.length;z<Y;z++)Wt(U[z],Ie,Me,B)}function wt(ne,Ie,Me){const B=Ie.isScene===!0?Ie.overrideMaterial:null;for(let N=0,U=ne.length;N<U;N++){const z=ne[N],Y=z.object,se=z.geometry,ce=B===null?z.material:B,ye=z.group;if(Me.isArrayCamera){T=Me;const Fe=Me.cameras;for(let Re=0,ke=Fe.length;Re<ke;Re++){const tt=Fe[Re];Y.layers.test(tt.layers)&&(q.viewport(x.copy(tt.viewport)),u.setupLights(tt),rt(Y,Ie,tt,se,ce,ye))}}else T=null,rt(Y,Ie,Me,se,ce,ye)}}function rt(ne,Ie,Me,B,N,U){if(ne.onBeforeRender(d,Ie,Me,B,N,U),u=he.get(Ie,T||Me),ne.modelViewMatrix.multiplyMatrices(Me.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),ne.isImmediateRenderObject){const z=Ze(Me,Ie,N,ne);q.setMaterial(N),Ne.reset(),Mt(ne,z)}else d.renderBufferDirect(Me,Ie,B,N,ne,U);ne.onAfterRender(d,Ie,Me,B,N,U),u=he.get(Ie,T||Me)}function Vt(ne,Ie,Me){Ie.isScene!==!0&&(Ie=ge);const B=ae.get(ne),N=u.state.lights,U=u.state.shadowsArray,z=N.state.version,Y=V.getParameters(ne,N.state,U,Ie,ee.numPlanes,ee.numIntersection,Me),se=V.getProgramCacheKey(Y);let ce=B.program,ye=!0;if(ce===void 0)ne.addEventListener("dispose",vt);else if(ce.cacheKey!==se)Et(ne);else if(B.lightsStateVersion!==z)B.lightsStateVersion=z,ye=!1;else{if(Y.shaderID!==void 0)return;ye=!1}ye&&(ce=V.acquireProgram(Y,se),B.program=ce,B.uniforms=Y.uniforms,B.outputEncoding=Y.outputEncoding,ne.program=ce);const Fe=ce.getAttributes();if(ne.morphTargets){ne.numSupportedMorphTargets=0;for(let Ye=0;Ye<d.maxMorphTargets;Ye++)Fe["morphTarget"+Ye]>=0&&ne.numSupportedMorphTargets++}if(ne.morphNormals){ne.numSupportedMorphNormals=0;for(let Ye=0;Ye<d.maxMorphNormals;Ye++)Fe["morphNormal"+Ye]>=0&&ne.numSupportedMorphNormals++}const Re=B.uniforms;(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(B.numClippingPlanes=ee.numPlanes,B.numIntersection=ee.numIntersection,Re.clippingPlanes=ee.uniform),B.environment=ne.isMeshStandardMaterial?Ie.environment:null,B.fog=Ie.fog,B.needsLights=yt(ne),B.lightsStateVersion=z,B.needsLights&&(Re.ambientLightColor.value=N.state.ambient,Re.lightProbe.value=N.state.probe,Re.directionalLights.value=N.state.directional,Re.directionalLightShadows.value=N.state.directionalShadow,Re.spotLights.value=N.state.spot,Re.spotLightShadows.value=N.state.spotShadow,Re.rectAreaLights.value=N.state.rectArea,Re.pointLights.value=N.state.point,Re.pointLightShadows.value=N.state.pointShadow,Re.hemisphereLights.value=N.state.hemi,Re.directionalShadowMap.value=N.state.directionalShadowMap,Re.directionalShadowMatrix.value=N.state.directionalShadowMatrix,Re.spotShadowMap.value=N.state.spotShadowMap,Re.spotShadowMatrix.value=N.state.spotShadowMatrix,Re.pointShadowMap.value=N.state.pointShadowMap,Re.pointShadowMatrix.value=N.state.pointShadowMatrix);const ke=B.program.getUniforms(),tt=Pc.seqWithValue(ke.seq,Re);B.uniformsList=tt}function Ze(ne,Ie,Me,B){Ie.isScene!==!0&&(Ie=ge),Ae.resetTextureUnits();const N=Ie.fog,U=Me.isMeshStandardMaterial?Ie.environment:null,z=w===null?d.outputEncoding:w.texture.encoding,Y=ae.get(Me),se=u.state.lights;if(le===!0&&(J===!0||ne!==C)){const Ye=ne===C&&Me.id===_;ee.setState(Me.clippingPlanes,Me.clipIntersection,Me.clipShadows,ne,Y,Ye)}Me.version===Y.__version?(Y.program===void 0||Me.fog&&Y.fog!==N||Y.environment!==U||Y.needsLights&&Y.lightsStateVersion!==se.state.version||Y.numClippingPlanes!==void 0&&(Y.numClippingPlanes!==ee.numPlanes||Y.numIntersection!==ee.numIntersection)||Y.outputEncoding!==z)&&Vt(Me,Ie,B):(Vt(Me,Ie,B),Y.__version=Me.version);let ce=!1,ye=!1,Fe=!1;const Re=Y.program,ke=Re.getUniforms(),tt=Y.uniforms;if(q.useProgram(Re.program)&&(ce=!0,ye=!0,Fe=!0),Me.id!==_&&(_=Me.id,ye=!0),ce||C!==ne){if(ke.setValue(ie,"projectionMatrix",ne.projectionMatrix),Ee.logarithmicDepthBuffer&&ke.setValue(ie,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),C!==ne&&(C=ne,ye=!0,Fe=!0),Me.isShaderMaterial||Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshStandardMaterial||Me.envMap){const Ye=ke.map.cameraPosition;Ye!==void 0&&Ye.setValue(ie,te.setFromMatrixPosition(ne.matrixWorld))}(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&ke.setValue(ie,"isOrthographic",ne.isOrthographicCamera===!0),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial||Me.isShadowMaterial||Me.skinning)&&ke.setValue(ie,"viewMatrix",ne.matrixWorldInverse)}if(Me.skinning){ke.setOptional(ie,B,"bindMatrix"),ke.setOptional(ie,B,"bindMatrixInverse");const Ye=B.skeleton;if(Ye){const We=Ye.bones;if(Ee.floatVertexTextures){if(Ye.boneTexture===void 0){let et=Math.sqrt(We.length*4);et=nn.ceilPowerOfTwo(et),et=Math.max(et,4);const dt=new Float32Array(et*et*4);dt.set(Ye.boneMatrices);const _t=new Ho(dt,et,et,$r,Lo);Ye.boneMatrices=dt,Ye.boneTexture=_t,Ye.boneTextureSize=et}ke.setValue(ie,"boneTexture",Ye.boneTexture,Ae),ke.setValue(ie,"boneTextureSize",Ye.boneTextureSize)}else ke.setOptional(ie,Ye,"boneMatrices")}}return(ye||Y.receiveShadow!==B.receiveShadow)&&(Y.receiveShadow=B.receiveShadow,ke.setValue(ie,"receiveShadow",B.receiveShadow)),ye&&(ke.setValue(ie,"toneMappingExposure",d.toneMappingExposure),Y.needsLights&&it(tt,Fe),N&&Me.fog&&j.refreshFogUniforms(tt,N),j.refreshMaterialUniforms(tt,Me,U,D,R),tt.ltc_1!==void 0&&(tt.ltc_1.value=ot.LTC_1),tt.ltc_2!==void 0&&(tt.ltc_2.value=ot.LTC_2),Pc.upload(ie,Y.uniformsList,tt,Ae)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(Pc.upload(ie,Y.uniformsList,tt,Ae),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&ke.setValue(ie,"center",B.center),ke.setValue(ie,"modelViewMatrix",B.modelViewMatrix),ke.setValue(ie,"normalMatrix",B.normalMatrix),ke.setValue(ie,"modelMatrix",B.matrixWorld),Re}function it(ne,Ie){ne.ambientLightColor.needsUpdate=Ie,ne.lightProbe.needsUpdate=Ie,ne.directionalLights.needsUpdate=Ie,ne.directionalLightShadows.needsUpdate=Ie,ne.pointLights.needsUpdate=Ie,ne.pointLightShadows.needsUpdate=Ie,ne.spotLights.needsUpdate=Ie,ne.spotLightShadows.needsUpdate=Ie,ne.rectAreaLights.needsUpdate=Ie,ne.hemisphereLights.needsUpdate=Ie}function yt(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.setFramebuffer=function(ne){y!==ne&&w===null&&ie.bindFramebuffer(36160,ne),y=ne},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return w},this.setRenderTarget=function(ne,Ie,Me){w=ne,g=Ie,E=Me,ne&&ae.get(ne).__webglFramebuffer===void 0&&Ae.setupRenderTarget(ne);let B=y,N=!1;if(ne){const U=ae.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(B=U[Ie||0],N=!0):ne.isWebGLMultisampleRenderTarget?B=ae.get(ne).__webglMultisampledFramebuffer:B=U,x.copy(ne.viewport),O.copy(ne.scissor),M=ne.scissorTest}else x.copy(L).multiplyScalar(D).floor(),O.copy(k).multiplyScalar(D).floor(),M=K;if(b!==B&&(ie.bindFramebuffer(36160,B),b=B),q.viewport(x),q.scissor(O),q.setScissorTest(M),N){const U=ae.get(ne.texture);ie.framebufferTexture2D(36160,36064,34069+(Ie||0),U.__webglTexture,Me||0)}},this.readRenderTargetPixels=function(ne,Ie,Me,B,N,U,z){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Y=ae.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&z!==void 0&&(Y=Y[z]),Y){let se=!1;Y!==b&&(ie.bindFramebuffer(36160,Y),se=!0);try{const ce=ne.texture,ye=ce.format,Fe=ce.type;if(ye!==$r&&Te.convert(ye)!==ie.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Fe!==Gp&&Te.convert(Fe)!==ie.getParameter(35738)&&!(Fe===Lo&&(Ee.isWebGL2||pe.get("OES_texture_float")||pe.get("WEBGL_color_buffer_float")))&&!(Fe===mm&&(Ee.isWebGL2?pe.get("EXT_color_buffer_float"):pe.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie.checkFramebufferStatus(36160)===36053?Ie>=0&&Ie<=ne.width-B&&Me>=0&&Me<=ne.height-N&&ie.readPixels(Ie,Me,B,N,Te.convert(ye),Te.convert(Fe),U):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{se&&ie.bindFramebuffer(36160,b)}}},this.copyFramebufferToTexture=function(ne,Ie,Me){Me===void 0&&(Me=0);const B=Math.pow(2,-Me),N=Math.floor(Ie.image.width*B),U=Math.floor(Ie.image.height*B),z=Te.convert(Ie.format);Ae.setTexture2D(Ie,0),ie.copyTexImage2D(3553,Me,z,ne.x,ne.y,N,U,0),q.unbindTexture()},this.copyTextureToTexture=function(ne,Ie,Me,B){B===void 0&&(B=0);const N=Ie.image.width,U=Ie.image.height,z=Te.convert(Me.format),Y=Te.convert(Me.type);Ae.setTexture2D(Me,0),ie.pixelStorei(37440,Me.flipY),ie.pixelStorei(37441,Me.premultiplyAlpha),ie.pixelStorei(3317,Me.unpackAlignment),Ie.isDataTexture?ie.texSubImage2D(3553,B,ne.x,ne.y,N,U,z,Y,Ie.image.data):Ie.isCompressedTexture?ie.compressedTexSubImage2D(3553,B,ne.x,ne.y,Ie.mipmaps[0].width,Ie.mipmaps[0].height,z,Ie.mipmaps[0].data):ie.texSubImage2D(3553,B,ne.x,ne.y,z,Y,Ie.image),B===0&&Me.generateMipmaps&&ie.generateMipmap(3553),q.unbindTexture()},this.initTexture=function(ne){Ae.setTexture2D(ne,0),q.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function f6(e){Wd.call(this,e)}f6.prototype=Object.assign(Object.create(Wd.prototype),{constructor:f6,isWebGL1Renderer:!0});function Lw(e,t){this.name="",this.color=new Je(e),this.density=t!==void 0?t:25e-5}Object.assign(Lw.prototype,{isFogExp2:!0,clone:function(){return new Lw(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function _m(e,t,n){this.name="",this.color=new Je(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}Object.assign(_m.prototype,{isFog:!0,clone:function(){return new _m(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function Vs(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=SE,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=nn.generateUUID()}Object.defineProperty(Vs.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Vs.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nn.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new Vs(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nn.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const dp=new F;function Kp(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(Kp.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(Kp.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)dp.x=this.getX(t),dp.y=this.getY(t),dp.z=this.getZ(t),dp.applyMatrix4(e),this.setXYZ(t,dp.x,dp.y,dp.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new bt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function zp(e){Yt.call(this),this.type="SpriteMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}zp.prototype=Object.create(Yt.prototype);zp.prototype.constructor=zp;zp.prototype.isSpriteMaterial=!0;zp.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let PA;const Gu=new F,UA=new F,HA=new F,DA=new Ke,Qu=new Ke,Z8=new Xe,Th=new F,ku=new F,Bh=new F,d6=new Ke,rg=new Ke,h6=new Ke;function Rw(e){if(ct.call(this),this.type="Sprite",PA===void 0){PA=new pt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Vs(t,5);PA.setIndex([0,1,2,0,2,3]),PA.setAttribute("position",new Kp(n,3,0,!1)),PA.setAttribute("uv",new Kp(n,2,3,!1))}this.geometry=PA,this.material=e!==void 0?e:new zp,this.center=new Ke(.5,.5)}Rw.prototype=Object.assign(Object.create(ct.prototype),{constructor:Rw,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),UA.setFromMatrixScale(this.matrixWorld),Z8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),HA.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&UA.multiplyScalar(-HA.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const s=this.center;Mh(Th.set(-.5,-.5,0),HA,s,UA,i,r),Mh(ku.set(.5,-.5,0),HA,s,UA,i,r),Mh(Bh.set(.5,.5,0),HA,s,UA,i,r),d6.set(0,0),rg.set(1,0),h6.set(1,1);let a=e.ray.intersectTriangle(Th,ku,Bh,!1,Gu);if(a===null&&(Mh(ku.set(-.5,.5,0),HA,s,UA,i,r),rg.set(0,1),a=e.ray.intersectTriangle(Th,Bh,ku,!1,Gu),a===null))return;const o=e.ray.origin.distanceTo(Gu);o<e.near||o>e.far||t.push({distance:o,point:Gu.clone(),uv:nr.getUV(Gu,Th,ku,Bh,d6,rg,h6,new Ke),face:null,object:this})},copy:function(e){return ct.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function Mh(e,t,n,i,r,s){DA.subVectors(e,n).addScalar(.5).multiply(i),r!==void 0?(Qu.x=s*DA.x-r*DA.y,Qu.y=r*DA.x+s*DA.y):Qu.copy(DA),e.copy(t),e.x+=Qu.x,e.y+=Qu.y,e.applyMatrix4(Z8)}const Sh=new F,m6=new F;function vm(){ct.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}vm.prototype=Object.assign(Object.create(ct.prototype),{constructor:vm,isLOD:!0,copy:function(e){ct.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Sh.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Sh);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){Sh.setFromMatrixPosition(e.matrixWorld),m6.setFromMatrixPosition(this.matrixWorld);const n=Sh.distanceTo(m6)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=ct.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}});function Iw(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),$n.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Xe,this.bindMatrixInverse=new Xe}Iw.prototype=Object.assign(Object.create($n.prototype),{constructor:Iw,isSkinnedMesh:!0,copy:function(e){return $n.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new Qn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){$n.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new F,t=new Qn,n=new Qn,i=new F,r=new Xe;return function(s,a){const o=this.skeleton,c=this.geometry;t.fromBufferAttribute(c.attributes.skinIndex,s),n.fromBufferAttribute(c.attributes.skinWeight,s),e.fromBufferAttribute(c.attributes.position,s).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let p=0;p<4;p++){const A=n.getComponent(p);if(A!==0){const l=t.getComponent(p);r.multiplyMatrices(o.bones[l].matrixWorld,o.boneInverses[l]),a.addScaledVector(i.copy(e).applyMatrix4(r),A)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});const E6=new Xe,Fq=new Xe;function Fw(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Xe)}}Object.assign(Fw.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const n=new Xe;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,s=e.length;r<s;r++){const a=e[r]?e[r].matrixWorld:Fq;E6.multiplyMatrices(a,t[r]),E6.toArray(n,r*16)}i!==void 0&&(i.needsUpdate=!0)},clone:function(){return new Fw(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function y6(){ct.call(this),this.type="Bone"}y6.prototype=Object.assign(Object.create(ct.prototype),{constructor:y6,isBone:!0});const g6=new Xe,w6=new Xe,Oh=[],Vu=new $n;function Nw(e,t,n){$n.call(this,e,t),this.instanceMatrix=new bt(new Float32Array(n*16),16),this.count=n,this.frustumCulled=!1}Nw.prototype=Object.assign(Object.create($n.prototype),{constructor:Nw,isInstancedMesh:!0,copy:function(e){return $n.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(Vu.geometry=this.geometry,Vu.material=this.material,Vu.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,g6),w6.multiplyMatrices(n,g6),Vu.matrixWorld=w6,Vu.raycast(e,Oh);for(let s=0,a=Oh.length;s<a;s++){const o=Oh[s];o.instanceId=r,o.object=this,t.push(o)}Oh.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function Bi(e){Yt.call(this),this.type="LineBasicMaterial",this.color=new Je(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Bi.prototype=Object.create(Yt.prototype);Bi.prototype.constructor=Bi;Bi.prototype.isLineBasicMaterial=!0;Bi.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const _6=new F,v6=new F,C6=new Xe,Lh=new ru,Rh=new $o;function Ys(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),ct.call(this),this.type="Line",this.geometry=e!==void 0?e:new pt,this.material=t!==void 0?t:new Bi,this.updateMorphTargets()}Ys.prototype=Object.assign(Object.create(ct.prototype),{constructor:Ys,isLine:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)_6.fromBufferAttribute(t,i-1),v6.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=_6.distanceTo(v6);e.setAttribute("lineDistance",new lt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,r=t.length;i<r;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Rh.copy(n.boundingSphere),Rh.applyMatrix4(i),Rh.radius+=r,e.ray.intersectsSphere(Rh)===!1)return;C6.getInverse(i),Lh.copy(e.ray).applyMatrix4(C6);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,o=new F,c=new F,p=new F,A=new F,l=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const u=n.index,m=n.attributes.position.array;if(u!==null){const y=u.array;for(let g=0,E=y.length-1;g<E;g+=l){const w=y[g],b=y[g+1];if(o.fromArray(m,w*3),c.fromArray(m,b*3),Lh.distanceSqToSegment(o,c,A,p)>a)continue;A.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(A);C<e.near||C>e.far||t.push({distance:C,point:p.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(let y=0,g=m.length/3-1;y<g;y+=l){if(o.fromArray(m,3*y),c.fromArray(m,3*y+3),Lh.distanceSqToSegment(o,c,A,p)>a)continue;A.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(A);w<e.near||w>e.far||t.push({distance:w,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const u=n.vertices,d=u.length;for(let m=0;m<d-1;m+=l){if(Lh.distanceSqToSegment(u[m],u[m+1],A,p)>a)continue;A.applyMatrix4(this.matrixWorld);const g=e.ray.origin.distanceTo(A);g<e.near||g>e.far||t.push({distance:g,point:p.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Ih=new F,Fh=new F;function fi(e,t){Ys.call(this,e,t),this.type="LineSegments"}fi.prototype=Object.assign(Object.create(Ys.prototype),{constructor:fi,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)Ih.fromBufferAttribute(t,i),Fh.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Ih.distanceTo(Fh);e.setAttribute("lineDistance",new lt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,r=t.length;i<r;i+=2)Ih.copy(t[i]),Fh.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Ih.distanceTo(Fh)}return this}});function Pw(e,t){Ys.call(this,e,t),this.type="LineLoop"}Pw.prototype=Object.assign(Object.create(Ys.prototype),{constructor:Pw,isLineLoop:!0});function Yp(e){Yt.call(this),this.type="PointsMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Yp.prototype=Object.create(Yt.prototype);Yp.prototype.constructor=Yp;Yp.prototype.isPointsMaterial=!0;Yp.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const b6=new Xe,Uw=new ru,Nh=new $o,Ph=new F;function rd(e,t){ct.call(this),this.type="Points",this.geometry=e!==void 0?e:new pt,this.material=t!==void 0?t:new Yp,this.updateMorphTargets()}rd.prototype=Object.assign(Object.create(ct.prototype),{constructor:rd,isPoints:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Nh.copy(n.boundingSphere),Nh.applyMatrix4(i),Nh.radius+=r,e.ray.intersectsSphere(Nh)===!1)return;b6.getInverse(i),Uw.copy(e.ray).applyMatrix4(b6);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s;if(n.isBufferGeometry){const o=n.index,p=n.attributes.position.array;if(o!==null){const A=o.array;for(let l=0,u=A.length;l<u;l++){const d=A[l];Ph.fromArray(p,d*3),sg(Ph,d,a,i,e,t,this)}}else for(let A=0,l=p.length/3;A<l;A++)Ph.fromArray(p,A*3),sg(Ph,A,a,i,e,t,this)}else{const o=n.vertices;for(let c=0,p=o.length;c<p;c++)sg(o[c],c,a,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=i.length;r<s;r++){const a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function sg(e,t,n,i,r,s,a){const o=Uw.distanceSqToPoint(e);if(o<n){const c=new F;Uw.closestPointToPoint(e,c),c.applyMatrix4(i);const p=r.ray.origin.distanceTo(c);if(p<r.near||p>r.far)return;s.push({distance:p,distanceToRay:Math.sqrt(o),point:c,index:t,face:null,object:a})}}function x6(e,t,n,i,r,s,a,o,c){jn.call(this,e,t,n,i,r,s,a,o,c),this.format=a!==void 0?a:Rp,this.minFilter=s!==void 0?s:Ii,this.magFilter=r!==void 0?r:Ii,this.generateMipmaps=!1}x6.prototype=Object.assign(Object.create(jn.prototype),{constructor:x6,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function sd(e,t,n,i,r,s,a,o,c,p,A,l){jn.call(this,null,s,a,o,c,p,i,r,A,l),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}sd.prototype=Object.create(jn.prototype);sd.prototype.constructor=sd;sd.prototype.isCompressedTexture=!0;function ad(e,t,n,i,r,s,a,o,c){jn.call(this,e,t,n,i,r,s,a,o,c),this.needsUpdate=!0}ad.prototype=Object.create(jn.prototype);ad.prototype.constructor=ad;ad.prototype.isCanvasTexture=!0;function Cm(e,t,n,i,r,s,a,o,c,p){if(p=p!==void 0?p:vl,p!==vl&&p!==jf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&p===vl&&(n=hm),n===void 0&&p===jf&&(n=Of),jn.call(this,null,i,r,s,a,o,p,n,c),this.image={width:e,height:t},this.magFilter=a!==void 0?a:Vn,this.minFilter=o!==void 0?o:Vn,this.flipY=!1,this.generateMipmaps=!1}Cm.prototype=Object.create(jn.prototype);Cm.prototype.constructor=Cm;Cm.prototype.isDepthTexture=!0;function bm(e){pt.call(this),this.type="WireframeGeometry";const t=[],n=[0,0],i={},r=["a","b","c"];if(e&&e.isGeometry){const s=e.faces;for(let a=0,o=s.length;a<o;a++){const c=s[a];for(let p=0;p<3;p++){const A=c[r[p]],l=c[r[(p+1)%3]];n[0]=Math.min(A,l),n[1]=Math.max(A,l);const u=n[0]+","+n[1];i[u]===void 0&&(i[u]={index1:n[0],index2:n[1]})}}for(const a in i){const o=i[a];let c=e.vertices[o.index1];t.push(c.x,c.y,c.z),c=e.vertices[o.index2],t.push(c.x,c.y,c.z)}}else if(e&&e.isBufferGeometry){let s=new F;if(e.index!==null){const a=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let p=0,A=c.length;p<A;++p){const l=c[p],u=l.start,d=l.count;for(let m=u,y=u+d;m<y;m+=3)for(let g=0;g<3;g++){const E=o.getX(m+g),w=o.getX(m+(g+1)%3);n[0]=Math.min(E,w),n[1]=Math.max(E,w);const b=n[0]+","+n[1];i[b]===void 0&&(i[b]={index1:n[0],index2:n[1]})}}for(const p in i){const A=i[p];s.fromBufferAttribute(a,A.index1),t.push(s.x,s.y,s.z),s.fromBufferAttribute(a,A.index2),t.push(s.x,s.y,s.z)}}else{const a=e.attributes.position;for(let o=0,c=a.count/3;o<c;o++)for(let p=0;p<3;p++){const A=3*o+p;s.fromBufferAttribute(a,A),t.push(s.x,s.y,s.z);const l=3*o+(p+1)%3;s.fromBufferAttribute(a,l),t.push(s.x,s.y,s.z)}}}this.setAttribute("position",new lt(t,3))}bm.prototype=Object.create(pt.prototype);bm.prototype.constructor=bm;function xm(e,t,n){Ht.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new od(e,t,n)),this.mergeVertices()}xm.prototype=Object.create(Ht.prototype);xm.prototype.constructor=xm;function od(e,t,n){pt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],s=[],a=[],o=1e-5,c=new F,p=new F,A=new F,l=new F,u=new F;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const d=t+1;for(let m=0;m<=n;m++){const y=m/n;for(let g=0;g<=t;g++){const E=g/t;e(E,y,p),r.push(p.x,p.y,p.z),E-o>=0?(e(E-o,y,A),l.subVectors(p,A)):(e(E+o,y,A),l.subVectors(A,p)),y-o>=0?(e(E,y-o,A),u.subVectors(p,A)):(e(E,y+o,A),u.subVectors(A,p)),c.crossVectors(l,u).normalize(),s.push(c.x,c.y,c.z),a.push(E,y)}}for(let m=0;m<n;m++)for(let y=0;y<t;y++){const g=m*d+y,E=m*d+y+1,w=(m+1)*d+y+1,b=(m+1)*d+y;i.push(g,E,b),i.push(E,w,b)}this.setIndex(i),this.setAttribute("position",new lt(r,3)),this.setAttribute("normal",new lt(s,3)),this.setAttribute("uv",new lt(a,2))}od.prototype=Object.create(pt.prototype);od.prototype.constructor=od;function Tm(e,t,n,i){Ht.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new fs(e,t,n,i)),this.mergeVertices()}Tm.prototype=Object.create(Ht.prototype);Tm.prototype.constructor=Tm;function fs(e,t,n,i){pt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1,i=i||0;const r=[],s=[];a(i),c(n),p(),this.setAttribute("position",new lt(r,3)),this.setAttribute("normal",new lt(r.slice(),3)),this.setAttribute("uv",new lt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(E){const w=new F,b=new F,_=new F;for(let C=0;C<t.length;C+=3)u(t[C+0],w),u(t[C+1],b),u(t[C+2],_),o(w,b,_,E)}function o(E,w,b,_){const C=Math.pow(2,_),T=[];for(let x=0;x<=C;x++){T[x]=[];const O=E.clone().lerp(b,x/C),M=w.clone().lerp(b,x/C),H=C-x;for(let R=0;R<=H;R++)R===0&&x===C?T[x][R]=O:T[x][R]=O.clone().lerp(M,R/H)}for(let x=0;x<C;x++)for(let O=0;O<2*(C-x)-1;O++){const M=Math.floor(O/2);O%2===0?(l(T[x][M+1]),l(T[x+1][M]),l(T[x][M])):(l(T[x][M+1]),l(T[x+1][M+1]),l(T[x+1][M]))}}function c(E){const w=new F;for(let b=0;b<r.length;b+=3)w.x=r[b+0],w.y=r[b+1],w.z=r[b+2],w.normalize().multiplyScalar(E),r[b+0]=w.x,r[b+1]=w.y,r[b+2]=w.z}function p(){const E=new F;for(let w=0;w<r.length;w+=3){E.x=r[w+0],E.y=r[w+1],E.z=r[w+2];const b=y(E)/2/Math.PI+.5,_=g(E)/Math.PI+.5;s.push(b,1-_)}d(),A()}function A(){for(let E=0;E<s.length;E+=6){const w=s[E+0],b=s[E+2],_=s[E+4],C=Math.max(w,b,_),T=Math.min(w,b,_);C>.9&&T<.1&&(w<.2&&(s[E+0]+=1),b<.2&&(s[E+2]+=1),_<.2&&(s[E+4]+=1))}}function l(E){r.push(E.x,E.y,E.z)}function u(E,w){const b=E*3;w.x=e[b+0],w.y=e[b+1],w.z=e[b+2]}function d(){const E=new F,w=new F,b=new F,_=new F,C=new Ke,T=new Ke,x=new Ke;for(let O=0,M=0;O<r.length;O+=9,M+=6){E.set(r[O+0],r[O+1],r[O+2]),w.set(r[O+3],r[O+4],r[O+5]),b.set(r[O+6],r[O+7],r[O+8]),C.set(s[M+0],s[M+1]),T.set(s[M+2],s[M+3]),x.set(s[M+4],s[M+5]),_.copy(E).add(w).add(b).divideScalar(3);const H=y(_);m(C,M+0,E,H),m(T,M+2,w,H),m(x,M+4,b,H)}}function m(E,w,b,_){_<0&&E.x===1&&(s[w]=E.x-1),b.x===0&&b.z===0&&(s[w]=_/2/Math.PI+.5)}function y(E){return Math.atan2(E.z,-E.x)}function g(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}fs.prototype=Object.create(pt.prototype);fs.prototype.constructor=fs;function Bm(e,t){Ht.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Nl(e,t)),this.mergeVertices()}Bm.prototype=Object.create(Ht.prototype);Bm.prototype.constructor=Bm;function Nl(e,t){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];fs.call(this,n,i,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}Nl.prototype=Object.create(fs.prototype);Nl.prototype.constructor=Nl;function Mm(e,t){Ht.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Wp(e,t)),this.mergeVertices()}Mm.prototype=Object.create(Ht.prototype);Mm.prototype.constructor=Mm;function Wp(e,t){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];fs.call(this,n,i,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Wp.prototype=Object.create(fs.prototype);Wp.prototype.constructor=Wp;function Sm(e,t){Ht.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new $p(e,t)),this.mergeVertices()}Sm.prototype=Object.create(Ht.prototype);Sm.prototype.constructor=Sm;function $p(e,t){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];fs.call(this,i,r,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}$p.prototype=Object.create(fs.prototype);$p.prototype.constructor=$p;function Om(e,t){Ht.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new cd(e,t)),this.mergeVertices()}Om.prototype=Object.create(Ht.prototype);Om.prototype.constructor=Om;function cd(e,t){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];fs.call(this,r,s,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}cd.prototype=Object.create(fs.prototype);cd.prototype.constructor=cd;function Lm(e,t,n,i,r,s){Ht.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},s!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const a=new Pl(e,t,n,i,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}Lm.prototype=Object.create(Ht.prototype);Lm.prototype.constructor=Lm;function Pl(e,t,n,i,r){pt.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},t=t||64,n=n||1,i=i||8,r=r||!1;const s=e.computeFrenetFrames(t,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new F,o=new F,c=new Ke;let p=new F;const A=[],l=[],u=[],d=[];m(),this.setIndex(d),this.setAttribute("position",new lt(A,3)),this.setAttribute("normal",new lt(l,3)),this.setAttribute("uv",new lt(u,2));function m(){for(let w=0;w<t;w++)y(w);y(r===!1?t:0),E(),g()}function y(w){p=e.getPointAt(w/t,p);const b=s.normals[w],_=s.binormals[w];for(let C=0;C<=i;C++){const T=C/i*Math.PI*2,x=Math.sin(T),O=-Math.cos(T);o.x=O*b.x+x*_.x,o.y=O*b.y+x*_.y,o.z=O*b.z+x*_.z,o.normalize(),l.push(o.x,o.y,o.z),a.x=p.x+n*o.x,a.y=p.y+n*o.y,a.z=p.z+n*o.z,A.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=t;w++)for(let b=1;b<=i;b++){const _=(i+1)*(w-1)+(b-1),C=(i+1)*w+(b-1),T=(i+1)*w+b,x=(i+1)*(w-1)+b;d.push(_,C,x),d.push(C,T,x)}}function E(){for(let w=0;w<=t;w++)for(let b=0;b<=i;b++)c.x=w/t,c.y=b/i,u.push(c.x,c.y)}}Pl.prototype=Object.create(pt.prototype);Pl.prototype.constructor=Pl;Pl.prototype.toJSON=function(){const e=pt.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e};function Rm(e,t,n,i,r,s,a){Ht.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},a!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new pd(e,t,n,i,r,s)),this.mergeVertices()}Rm.prototype=Object.create(Ht.prototype);Rm.prototype.constructor=Rm;function pd(e,t,n,i,r,s){pt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:s},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,s=s||3;const a=[],o=[],c=[],p=[],A=new F,l=new F,u=new F,d=new F,m=new F,y=new F,g=new F;for(let w=0;w<=n;++w){const b=w/n*r*Math.PI*2;E(b,r,s,e,u),E(b+.01,r,s,e,d),y.subVectors(d,u),g.addVectors(d,u),m.crossVectors(y,g),g.crossVectors(m,y),m.normalize(),g.normalize();for(let _=0;_<=i;++_){const C=_/i*Math.PI*2,T=-t*Math.cos(C),x=t*Math.sin(C);A.x=u.x+(T*g.x+x*m.x),A.y=u.y+(T*g.y+x*m.y),A.z=u.z+(T*g.z+x*m.z),o.push(A.x,A.y,A.z),l.subVectors(A,u).normalize(),c.push(l.x,l.y,l.z),p.push(w/n),p.push(_/i)}}for(let w=1;w<=n;w++)for(let b=1;b<=i;b++){const _=(i+1)*(w-1)+(b-1),C=(i+1)*w+(b-1),T=(i+1)*w+b,x=(i+1)*(w-1)+b;a.push(_,C,x),a.push(C,T,x)}this.setIndex(a),this.setAttribute("position",new lt(o,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(p,2));function E(w,b,_,C,T){const x=Math.cos(w),O=Math.sin(w),M=_/b*w,H=Math.cos(M);T.x=C*(2+H)*.5*x,T.y=C*(2+H)*O*.5,T.z=C*Math.sin(M)*.5}}pd.prototype=Object.create(pt.prototype);pd.prototype.constructor=pd;function Im(e,t,n,i,r){Ht.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new Ul(e,t,n,i,r)),this.mergeVertices()}Im.prototype=Object.create(Ht.prototype);Im.prototype.constructor=Im;function Ul(e,t,n,i,r){pt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||Math.PI*2;const s=[],a=[],o=[],c=[],p=new F,A=new F,l=new F;for(let u=0;u<=n;u++)for(let d=0;d<=i;d++){const m=d/i*r,y=u/n*Math.PI*2;A.x=(e+t*Math.cos(y))*Math.cos(m),A.y=(e+t*Math.cos(y))*Math.sin(m),A.z=t*Math.sin(y),a.push(A.x,A.y,A.z),p.x=e*Math.cos(m),p.y=e*Math.sin(m),l.subVectors(A,p).normalize(),o.push(l.x,l.y,l.z),c.push(d/i),c.push(u/n)}for(let u=1;u<=n;u++)for(let d=1;d<=i;d++){const m=(i+1)*u+d-1,y=(i+1)*(u-1)+d-1,g=(i+1)*(u-1)+d,E=(i+1)*u+d;s.push(m,y,E),s.push(y,g,E)}this.setIndex(s),this.setAttribute("position",new lt(a,3)),this.setAttribute("normal",new lt(o,3)),this.setAttribute("uv",new lt(c,2))}Ul.prototype=Object.create(pt.prototype);Ul.prototype.constructor=Ul;const Nq={triangulate:function(e,t,n){n=n||2;let i=t&&t.length,r=i?t[0]*n:e.length,s=J8(e,0,r,n,!0),a=[];if(!s||s.next===s.prev)return a;let o,c,p,A,l,u,d;if(i&&(s=Gq(e,t,s,n)),e.length>80*n){o=p=e[0],c=A=e[1];for(let m=n;m<r;m+=n)l=e[m],u=e[m+1],l<o&&(o=l),u<c&&(c=u),l>p&&(p=l),u>A&&(A=u);d=Math.max(p-o,A-c),d=d!==0?1/d:0}return Ad(s,a,n,o,c,d),a}};function J8(e,t,n,i,r){let s,a;if(r===qq(e,t,n,i)>0)for(s=t;s<n;s+=i)a=T6(s,e[s],e[s+1],a);else for(s=n-i;s>=t;s-=i)a=T6(s,e[s],e[s+1],a);return a&&OE(a,a.next)&&(ud(a),a=a.next),a}function zc(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(OE(n,n.next)||ui(n.prev,n,n.next)===0)){if(ud(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function Ad(e,t,n,i,r,s,a){if(!e)return;!a&&s&&zq(e,i,r,s);let o=e,c,p;for(;e.prev!==e.next;){if(c=e.prev,p=e.next,s?Uq(e,i,r,s):Pq(e)){t.push(c.i/n),t.push(e.i/n),t.push(p.i/n),ud(e),e=p.next,o=p.next;continue}if(e=p,e===o){a?a===1?(e=Hq(zc(e),t,n),Ad(e,t,n,i,r,s,2)):a===2&&Dq(e,t,n,i,r,s):Ad(zc(e),t,n,i,r,s,1);break}}}function Pq(e){let t=e.prev,n=e,i=e.next;if(ui(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(dl(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&ui(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Uq(e,t,n,i){let r=e.prev,s=e,a=e.next;if(ui(r,s,a)>=0)return!1;let o=r.x<s.x?r.x<a.x?r.x:a.x:s.x<a.x?s.x:a.x,c=r.y<s.y?r.y<a.y?r.y:a.y:s.y<a.y?s.y:a.y,p=r.x>s.x?r.x>a.x?r.x:a.x:s.x>a.x?s.x:a.x,A=r.y>s.y?r.y>a.y?r.y:a.y:s.y>a.y?s.y:a.y,l=Hw(o,c,t,n,i),u=Hw(p,A,t,n,i),d=e.prevZ,m=e.nextZ;for(;d&&d.z>=l&&m&&m.z<=u;){if(d!==e.prev&&d!==e.next&&dl(r.x,r.y,s.x,s.y,a.x,a.y,d.x,d.y)&&ui(d.prev,d,d.next)>=0||(d=d.prevZ,m!==e.prev&&m!==e.next&&dl(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&ui(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;d&&d.z>=l;){if(d!==e.prev&&d!==e.next&&dl(r.x,r.y,s.x,s.y,a.x,a.y,d.x,d.y)&&ui(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;m&&m.z<=u;){if(m!==e.prev&&m!==e.next&&dl(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&ui(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Hq(e,t,n){let i=e;do{let r=i.prev,s=i.next.next;!OE(r,s)&&eS(r,i,i.next,s)&&ld(r,s)&&ld(s,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(s.i/n),ud(i),ud(i.next),i=e=s),i=i.next}while(i!==e);return zc(i)}function Dq(e,t,n,i,r,s){let a=e;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&$q(a,o)){let c=tS(a,o);a=zc(a,a.next),c=zc(c,c.next),Ad(a,t,n,i,r,s),Ad(c,t,n,i,r,s);return}o=o.next}a=a.next}while(a!==e)}function Gq(e,t,n,i){let r=[],s,a,o,c,p;for(s=0,a=t.length;s<a;s++)o=t[s]*i,c=s<a-1?t[s+1]*i:e.length,p=J8(e,o,c,i,!1),p===p.next&&(p.steiner=!0),r.push(Wq(p));for(r.sort(Qq),s=0;s<r.length;s++)kq(r[s],n),n=zc(n,n.next);return n}function Qq(e,t){return e.x-t.x}function kq(e,t){if(t=Vq(e,t),t){const n=tS(t,e);zc(t,t.next),zc(n,n.next)}}function Vq(e,t){let n=t,i=e.x,r=e.y,s=-1/0,a;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){let u=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=i&&u>s){if(s=u,u===i){if(r===n.y)return n;if(r===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!a)return null;if(i===s)return a;let o=a,c=a.x,p=a.y,A=1/0,l;n=a;do i>=n.x&&n.x>=c&&i!==n.x&&dl(r<p?i:s,r,c,p,r<p?s:i,r,n.x,n.y)&&(l=Math.abs(r-n.y)/(i-n.x),ld(n,e)&&(l<A||l===A&&(n.x>a.x||n.x===a.x&&Kq(a,n)))&&(a=n,A=l)),n=n.next;while(n!==o);return a}function Kq(e,t){return ui(e.prev,e,t.prev)<0&&ui(t.next,e,e.next)<0}function zq(e,t,n,i){let r=e;do r.z===null&&(r.z=Hw(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,Yq(r)}function Yq(e){let t,n,i,r,s,a,o,c,p=1;do{for(n=e,e=null,s=null,a=0;n;){for(a++,i=n,o=0,t=0;t<p&&(o++,i=i.nextZ,!!i);t++);for(c=p;o>0||c>0&&i;)o!==0&&(c===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,c--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,p*=2}while(a>1);return e}function Hw(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Wq(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function dl(e,t,n,i,r,s,a,o){return(r-a)*(t-o)-(e-a)*(s-o)>=0&&(e-a)*(i-o)-(n-a)*(t-o)>=0&&(n-a)*(s-o)-(r-a)*(i-o)>=0}function $q(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!jq(e,t)&&(ld(e,t)&&ld(t,e)&&Xq(e,t)&&(ui(e.prev,e,t.prev)||ui(e,t.prev,t))||OE(e,t)&&ui(e.prev,e,e.next)>0&&ui(t.prev,t,t.next)>0)}function ui(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function OE(e,t){return e.x===t.x&&e.y===t.y}function eS(e,t,n,i){const r=Hh(ui(e,t,n)),s=Hh(ui(e,t,i)),a=Hh(ui(n,i,e)),o=Hh(ui(n,i,t));return!!(r!==s&&a!==o||r===0&&Uh(e,n,t)||s===0&&Uh(e,i,t)||a===0&&Uh(n,e,i)||o===0&&Uh(n,t,i))}function Uh(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Hh(e){return e>0?1:e<0?-1:0}function jq(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&eS(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function ld(e,t){return ui(e.prev,e,e.next)<0?ui(e,t,e.next)>=0&&ui(e,e.prev,t)>=0:ui(e,t,e.prev)<0||ui(e,e.next,t)<0}function Xq(e,t){let n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function tS(e,t){let n=new Dw(e.i,e.x,e.y),i=new Dw(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function T6(e,t,n,i){const r=new Dw(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ud(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Dw(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qq(e,t,n,i){let r=0;for(let s=t,a=n-i;s<n;s+=i)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r}const Uc={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5},isClockWise:function(e){return Uc.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];B6(e),M6(n,e);let s=e.length;t.forEach(B6);for(let o=0;o<t.length;o++)i.push(s),s+=t[o].length,M6(n,t[o]);const a=Nq.triangulate(n,i);for(let o=0;o<a.length;o+=3)r.push(a.slice(o,o+3));return r}};function B6(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function M6(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Hl(e,t){Ht.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Do(e,t)),this.mergeVertices()}Hl.prototype=Object.create(Ht.prototype);Hl.prototype.constructor=Hl;Hl.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return nS(t,n,e)};function Do(e,t){pt.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let a=0,o=e.length;a<o;a++){const c=e[a];s(c)}this.setAttribute("position",new lt(i,3)),this.setAttribute("uv",new lt(r,2)),this.computeVertexNormals();function s(a){const o=[],c=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1;let A=t.depth!==void 0?t.depth:100,l=t.bevelEnabled!==void 0?t.bevelEnabled:!0,u=t.bevelThickness!==void 0?t.bevelThickness:6,d=t.bevelSize!==void 0?t.bevelSize:u-2,m=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:Zq;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),A=t.amount);let w,b=!1,_,C,T,x;g&&(w=g.getSpacedPoints(p),b=!0,l=!1,_=g.computeFrenetFrames(p,!1),C=new F,T=new F,x=new F),l||(y=0,u=0,d=0,m=0);const O=a.extractPoints(c);let M=O.shape;const H=O.holes;if(!Uc.isClockWise(M)){M=M.reverse();for(let Z=0,ae=H.length;Z<ae;Z++){const Ae=H[Z];Uc.isClockWise(Ae)&&(H[Z]=Ae.reverse())}}const D=Uc.triangulateShape(M,H),P=M;for(let Z=0,ae=H.length;Z<ae;Z++){const Ae=H[Z];M=M.concat(Ae)}function I(Z,ae,Ae){return ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),ae.clone().multiplyScalar(Ae).add(Z)}const L=M.length,k=D.length;function K(Z,ae,Ae){let we,xe,Le;const V=Z.x-ae.x,j=Z.y-ae.y,ve=Ae.x-Z.x,he=Ae.y-Z.y,oe=V*V+j*j,ue=V*he-j*ve;if(Math.abs(ue)>Number.EPSILON){const Oe=Math.sqrt(oe),Pe=Math.sqrt(ve*ve+he*he),Te=ae.x-j/Oe,Ne=ae.y+V/Oe,Se=Ae.x-he/Pe,ze=Ae.y+ve/Pe,Ge=((Se-Te)*he-(ze-Ne)*ve)/(V*he-j*ve);we=Te+V*Ge-Z.x,xe=Ne+j*Ge-Z.y;const Ue=we*we+xe*xe;if(Ue<=2)return new Ke(we,xe);Le=Math.sqrt(Ue/2)}else{let Oe=!1;V>Number.EPSILON?ve>Number.EPSILON&&(Oe=!0):V<-Number.EPSILON?ve<-Number.EPSILON&&(Oe=!0):Math.sign(j)===Math.sign(he)&&(Oe=!0),Oe?(we=-j,xe=V,Le=Math.sqrt(oe)):(we=V,xe=j,Le=Math.sqrt(oe/2))}return new Ke(we/Le,xe/Le)}const W=[];for(let Z=0,ae=P.length,Ae=ae-1,we=Z+1;Z<ae;Z++,Ae++,we++)Ae===ae&&(Ae=0),we===ae&&(we=0),W[Z]=K(P[Z],P[Ae],P[we]);const ee=[];let le,J=W.concat();for(let Z=0,ae=H.length;Z<ae;Z++){const Ae=H[Z];le=[];for(let we=0,xe=Ae.length,Le=xe-1,V=we+1;we<xe;we++,Le++,V++)Le===xe&&(Le=0),V===xe&&(V=0),le[we]=K(Ae[we],Ae[Le],Ae[V]);ee.push(le),J=J.concat(le)}for(let Z=0;Z<y;Z++){const ae=Z/y,Ae=u*Math.cos(ae*Math.PI/2),we=d*Math.sin(ae*Math.PI/2)+m;for(let xe=0,Le=P.length;xe<Le;xe++){const V=I(P[xe],W[xe],we);ie(V.x,V.y,-Ae)}for(let xe=0,Le=H.length;xe<Le;xe++){const V=H[xe];le=ee[xe];for(let j=0,ve=V.length;j<ve;j++){const he=I(V[j],le[j],we);ie(he.x,he.y,-Ae)}}}const re=d+m;for(let Z=0;Z<L;Z++){const ae=l?I(M[Z],J[Z],re):M[Z];b?(T.copy(_.normals[0]).multiplyScalar(ae.x),C.copy(_.binormals[0]).multiplyScalar(ae.y),x.copy(w[0]).add(T).add(C),ie(x.x,x.y,x.z)):ie(ae.x,ae.y,0)}for(let Z=1;Z<=p;Z++)for(let ae=0;ae<L;ae++){const Ae=l?I(M[ae],J[ae],re):M[ae];b?(T.copy(_.normals[Z]).multiplyScalar(Ae.x),C.copy(_.binormals[Z]).multiplyScalar(Ae.y),x.copy(w[Z]).add(T).add(C),ie(x.x,x.y,x.z)):ie(Ae.x,Ae.y,A/p*Z)}for(let Z=y-1;Z>=0;Z--){const ae=Z/y,Ae=u*Math.cos(ae*Math.PI/2),we=d*Math.sin(ae*Math.PI/2)+m;for(let xe=0,Le=P.length;xe<Le;xe++){const V=I(P[xe],W[xe],we);ie(V.x,V.y,A+Ae)}for(let xe=0,Le=H.length;xe<Le;xe++){const V=H[xe];le=ee[xe];for(let j=0,ve=V.length;j<ve;j++){const he=I(V[j],le[j],we);b?ie(he.x,he.y+w[p-1].y,w[p-1].x+Ae):ie(he.x,he.y,A+Ae)}}}te(),ge();function te(){const Z=i.length/3;if(l){let ae=0,Ae=L*ae;for(let we=0;we<k;we++){const xe=D[we];fe(xe[2]+Ae,xe[1]+Ae,xe[0]+Ae)}ae=p+y*2,Ae=L*ae;for(let we=0;we<k;we++){const xe=D[we];fe(xe[0]+Ae,xe[1]+Ae,xe[2]+Ae)}}else{for(let ae=0;ae<k;ae++){const Ae=D[ae];fe(Ae[2],Ae[1],Ae[0])}for(let ae=0;ae<k;ae++){const Ae=D[ae];fe(Ae[0]+L*p,Ae[1]+L*p,Ae[2]+L*p)}}n.addGroup(Z,i.length/3-Z,0)}function ge(){const Z=i.length/3;let ae=0;me(P,ae),ae+=P.length;for(let Ae=0,we=H.length;Ae<we;Ae++){const xe=H[Ae];me(xe,ae),ae+=xe.length}n.addGroup(Z,i.length/3-Z,1)}function me(Z,ae){let Ae=Z.length;for(;--Ae>=0;){const we=Ae;let xe=Ae-1;xe<0&&(xe=Z.length-1);for(let Le=0,V=p+y*2;Le<V;Le++){const j=L*Le,ve=L*(Le+1),he=ae+we+j,oe=ae+xe+j,ue=ae+xe+ve,Oe=ae+we+ve;pe(he,oe,ue,Oe)}}}function ie(Z,ae,Ae){o.push(Z),o.push(ae),o.push(Ae)}function fe(Z,ae,Ae){Ee(Z),Ee(ae),Ee(Ae);const we=i.length/3,xe=E.generateTopUV(n,i,we-3,we-2,we-1);q(xe[0]),q(xe[1]),q(xe[2])}function pe(Z,ae,Ae,we){Ee(Z),Ee(ae),Ee(we),Ee(ae),Ee(Ae),Ee(we);const xe=i.length/3,Le=E.generateSideWallUV(n,i,xe-6,xe-3,xe-2,xe-1);q(Le[0]),q(Le[1]),q(Le[3]),q(Le[1]),q(Le[2]),q(Le[3])}function Ee(Z){i.push(o[Z*3+0]),i.push(o[Z*3+1]),i.push(o[Z*3+2])}function q(Z){r.push(Z.x),r.push(Z.y)}}}Do.prototype=Object.create(pt.prototype);Do.prototype.constructor=Do;Do.prototype.toJSON=function(){const e=pt.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return nS(t,n,e)};const Zq={generateTopUV:function(e,t,n,i,r){const s=t[n*3],a=t[n*3+1],o=t[i*3],c=t[i*3+1],p=t[r*3],A=t[r*3+1];return[new Ke(s,a),new Ke(o,c),new Ke(p,A)]},generateSideWallUV:function(e,t,n,i,r,s){const a=t[n*3],o=t[n*3+1],c=t[n*3+2],p=t[i*3],A=t[i*3+1],l=t[i*3+2],u=t[r*3],d=t[r*3+1],m=t[r*3+2],y=t[s*3],g=t[s*3+1],E=t[s*3+2];return Math.abs(o-A)<.01?[new Ke(a,1-c),new Ke(p,1-l),new Ke(u,1-m),new Ke(y,1-E)]:[new Ke(o,1-c),new Ke(A,1-l),new Ke(d,1-m),new Ke(g,1-E)]}};function nS(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const s=e[i];n.shapes.push(s.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Fm(e,t){Ht.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new fd(e,t)),this.mergeVertices()}Fm.prototype=Object.create(Ht.prototype);Fm.prototype.constructor=Fm;function fd(e,t){t=t||{};const n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ht;const i=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),Do.call(this,i,t),this.type="TextBufferGeometry"}fd.prototype=Object.create(Do.prototype);fd.prototype.constructor=fd;function Nm(e,t,n,i,r,s,a){Ht.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new Dl(e,t,n,i,r,s,a)),this.mergeVertices()}Nm.prototype=Object.create(Ht.prototype);Nm.prototype.constructor=Nm;function Dl(e,t,n,i,r,s,a){pt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:s,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=i!==void 0?i:0,r=r!==void 0?r:Math.PI*2,s=s!==void 0?s:0,a=a!==void 0?a:Math.PI;const o=Math.min(s+a,Math.PI);let c=0;const p=[],A=new F,l=new F,u=[],d=[],m=[],y=[];for(let g=0;g<=n;g++){const E=[],w=g/n;let b=0;g==0&&s==0?b=.5/t:g==n&&o==Math.PI&&(b=-.5/t);for(let _=0;_<=t;_++){const C=_/t;A.x=-e*Math.cos(i+C*r)*Math.sin(s+w*a),A.y=e*Math.cos(s+w*a),A.z=e*Math.sin(i+C*r)*Math.sin(s+w*a),d.push(A.x,A.y,A.z),l.copy(A).normalize(),m.push(l.x,l.y,l.z),y.push(C+b,1-w),E.push(c++)}p.push(E)}for(let g=0;g<n;g++)for(let E=0;E<t;E++){const w=p[g][E+1],b=p[g][E],_=p[g+1][E],C=p[g+1][E+1];(g!==0||s>0)&&u.push(w,b,C),(g!==n-1||o<Math.PI)&&u.push(b,_,C)}this.setIndex(u),this.setAttribute("position",new lt(d,3)),this.setAttribute("normal",new lt(m,3)),this.setAttribute("uv",new lt(y,2))}Dl.prototype=Object.create(pt.prototype);Dl.prototype.constructor=Dl;function Pm(e,t,n,i,r,s){Ht.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},this.fromBufferGeometry(new dd(e,t,n,i,r,s)),this.mergeVertices()}Pm.prototype=Object.create(Ht.prototype);Pm.prototype.constructor=Pm;function dd(e,t,n,i,r,s){pt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:s},e=e||.5,t=t||1,r=r!==void 0?r:0,s=s!==void 0?s:Math.PI*2,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?Math.max(1,i):1;const a=[],o=[],c=[],p=[];let A=e;const l=(t-e)/i,u=new F,d=new Ke;for(let m=0;m<=i;m++){for(let y=0;y<=n;y++){const g=r+y/n*s;u.x=A*Math.cos(g),u.y=A*Math.sin(g),o.push(u.x,u.y,u.z),c.push(0,0,1),d.x=(u.x/t+1)/2,d.y=(u.y/t+1)/2,p.push(d.x,d.y)}A+=l}for(let m=0;m<i;m++){const y=m*(n+1);for(let g=0;g<n;g++){const E=g+y,w=E,b=E+n+1,_=E+n+2,C=E+1;a.push(w,b,C),a.push(b,_,C)}}this.setIndex(a),this.setAttribute("position",new lt(o,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(p,2))}dd.prototype=Object.create(pt.prototype);dd.prototype.constructor=dd;function Um(e,t,n,i){Ht.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new hd(e,t,n,i)),this.mergeVertices()}Um.prototype=Object.create(Ht.prototype);Um.prototype.constructor=Um;function hd(e,t,n,i){pt.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||Math.PI*2,i=nn.clamp(i,0,Math.PI*2);const r=[],s=[],a=[],o=1/t,c=new F,p=new Ke;for(let A=0;A<=t;A++){const l=n+A*o*i,u=Math.sin(l),d=Math.cos(l);for(let m=0;m<=e.length-1;m++)c.x=e[m].x*u,c.y=e[m].y,c.z=e[m].x*d,s.push(c.x,c.y,c.z),p.x=A/t,p.y=m/(e.length-1),a.push(p.x,p.y)}for(let A=0;A<t;A++)for(let l=0;l<e.length-1;l++){const u=l+A*e.length,d=u,m=u+e.length,y=u+e.length+1,g=u+1;r.push(d,m,g),r.push(m,y,g)}if(this.setIndex(r),this.setAttribute("position",new lt(s,3)),this.setAttribute("uv",new lt(a,2)),this.computeVertexNormals(),i===Math.PI*2){const A=this.attributes.normal.array,l=new F,u=new F,d=new F,m=t*e.length*3;for(let y=0,g=0;y<e.length;y++,g+=3)l.x=A[g+0],l.y=A[g+1],l.z=A[g+2],u.x=A[m+g+0],u.y=A[m+g+1],u.z=A[m+g+2],d.addVectors(l,u).normalize(),A[g+0]=A[m+g+0]=d.x,A[g+1]=A[m+g+1]=d.y,A[g+2]=A[m+g+2]=d.z}}hd.prototype=Object.create(pt.prototype);hd.prototype.constructor=hd;function Gl(e,t){Ht.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Ql(e,t)),this.mergeVertices()}Gl.prototype=Object.create(Ht.prototype);Gl.prototype.constructor=Gl;Gl.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this),t=this.parameters.shapes;return iS(t,e)};function Ql(e,t){pt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const n=[],i=[],r=[],s=[];let a=0,o=0;if(Array.isArray(e)===!1)c(e);else for(let p=0;p<e.length;p++)c(e[p]),this.addGroup(a,o,p),a+=o,o=0;this.setIndex(n),this.setAttribute("position",new lt(i,3)),this.setAttribute("normal",new lt(r,3)),this.setAttribute("uv",new lt(s,2));function c(p){const A=i.length/3,l=p.extractPoints(t);let u=l.shape;const d=l.holes;Uc.isClockWise(u)===!1&&(u=u.reverse());for(let y=0,g=d.length;y<g;y++){const E=d[y];Uc.isClockWise(E)===!0&&(d[y]=E.reverse())}const m=Uc.triangulateShape(u,d);for(let y=0,g=d.length;y<g;y++){const E=d[y];u=u.concat(E)}for(let y=0,g=u.length;y<g;y++){const E=u[y];i.push(E.x,E.y,0),r.push(0,0,1),s.push(E.x,E.y)}for(let y=0,g=m.length;y<g;y++){const E=m[y],w=E[0]+A,b=E[1]+A,_=E[2]+A;n.push(w,b,_),o+=3}}}Ql.prototype=Object.create(pt.prototype);Ql.prototype.constructor=Ql;Ql.prototype.toJSON=function(){const e=pt.prototype.toJSON.call(this),t=this.parameters.shapes;return iS(t,e)};function iS(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function Hm(e,t){pt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;const n=[],i=Math.cos(nn.DEG2RAD*t),r=[0,0],s={};let a,o,c;const p=["a","b","c"];let A;e.isBufferGeometry?(A=new Ht,A.fromBufferGeometry(e)):A=e.clone(),A.mergeVertices(),A.computeFaceNormals();const l=A.vertices,u=A.faces;for(let d=0,m=u.length;d<m;d++){const y=u[d];for(let g=0;g<3;g++)a=y[p[g]],o=y[p[(g+1)%3]],r[0]=Math.min(a,o),r[1]=Math.max(a,o),c=r[0]+","+r[1],s[c]===void 0?s[c]={index1:r[0],index2:r[1],face1:d,face2:void 0}:s[c].face2=d}for(c in s){const d=s[c];if(d.face2===void 0||u[d.face1].normal.dot(u[d.face2].normal)<=i){let m=l[d.index1];n.push(m.x,m.y,m.z),m=l[d.index2],n.push(m.x,m.y,m.z)}}this.setAttribute("position",new lt(n,3))}Hm.prototype=Object.create(pt.prototype);Hm.prototype.constructor=Hm;function kl(e,t,n,i,r,s,a,o){Ht.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Go(e,t,n,i,r,s,a,o)),this.mergeVertices()}kl.prototype=Object.create(Ht.prototype);kl.prototype.constructor=kl;function Go(e,t,n,i,r,s,a,o){pt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o};const c=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,s=s!==void 0?s:!1,a=a!==void 0?a:0,o=o!==void 0?o:Math.PI*2;const p=[],A=[],l=[],u=[];let d=0;const m=[],y=n/2;let g=0;E(),s===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(p),this.setAttribute("position",new lt(A,3)),this.setAttribute("normal",new lt(l,3)),this.setAttribute("uv",new lt(u,2));function E(){const b=new F,_=new F;let C=0;const T=(t-e)/n;for(let x=0;x<=r;x++){const O=[],M=x/r,H=M*(t-e)+e;for(let R=0;R<=i;R++){const D=R/i,P=D*o+a,I=Math.sin(P),L=Math.cos(P);_.x=H*I,_.y=-M*n+y,_.z=H*L,A.push(_.x,_.y,_.z),b.set(I,T,L).normalize(),l.push(b.x,b.y,b.z),u.push(D,1-M),O.push(d++)}m.push(O)}for(let x=0;x<i;x++)for(let O=0;O<r;O++){const M=m[O][x],H=m[O+1][x],R=m[O+1][x+1],D=m[O][x+1];p.push(M,H,D),p.push(H,R,D),C+=6}c.addGroup(g,C,0),g+=C}function w(b){let _,C;const T=new Ke,x=new F;let O=0;const M=b===!0?e:t,H=b===!0?1:-1;_=d;for(let R=1;R<=i;R++)A.push(0,y*H,0),l.push(0,H,0),u.push(.5,.5),d++;C=d;for(let R=0;R<=i;R++){const P=R/i*o+a,I=Math.cos(P),L=Math.sin(P);x.x=M*L,x.y=y*H,x.z=M*I,A.push(x.x,x.y,x.z),l.push(0,H,0),T.x=I*.5+.5,T.y=L*.5*H+.5,u.push(T.x,T.y),d++}for(let R=0;R<i;R++){const D=_+R,P=C+R;b===!0?p.push(P,P+1,D):p.push(P+1,P,D),O+=3}c.addGroup(g,O,b===!0?1:2),g+=O}}Go.prototype=Object.create(pt.prototype);Go.prototype.constructor=Go;function Dm(e,t,n,i,r,s,a){kl.call(this,0,e,t,n,i,r,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:a}}Dm.prototype=Object.create(kl.prototype);Dm.prototype.constructor=Dm;function md(e,t,n,i,r,s,a){Go.call(this,0,e,t,n,i,r,s,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:s,thetaLength:a}}md.prototype=Object.create(Go.prototype);md.prototype.constructor=md;function Gm(e,t,n,i){Ht.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Ed(e,t,n,i)),this.mergeVertices()}Gm.prototype=Object.create(Ht.prototype);Gm.prototype.constructor=Gm;function Ed(e,t,n,i){pt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,i=i!==void 0?i:Math.PI*2;const r=[],s=[],a=[],o=[],c=new F,p=new Ke;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let A=0,l=3;A<=t;A++,l+=3){const u=n+A/t*i;c.x=e*Math.cos(u),c.y=e*Math.sin(u),s.push(c.x,c.y,c.z),a.push(0,0,1),p.x=(s[l]/e+1)/2,p.y=(s[l+1]/e+1)/2,o.push(p.x,p.y)}for(let A=1;A<=t;A++)r.push(A,A+1,0);this.setIndex(r),this.setAttribute("position",new lt(s,3)),this.setAttribute("normal",new lt(a,3)),this.setAttribute("uv",new lt(o,2))}Ed.prototype=Object.create(pt.prototype);Ed.prototype.constructor=Ed;var xr=Object.freeze({__proto__:null,WireframeGeometry:bm,ParametricGeometry:xm,ParametricBufferGeometry:od,TetrahedronGeometry:Bm,TetrahedronBufferGeometry:Nl,OctahedronGeometry:Mm,OctahedronBufferGeometry:Wp,IcosahedronGeometry:Sm,IcosahedronBufferGeometry:$p,DodecahedronGeometry:Om,DodecahedronBufferGeometry:cd,PolyhedronGeometry:Tm,PolyhedronBufferGeometry:fs,TubeGeometry:Lm,TubeBufferGeometry:Pl,TorusKnotGeometry:Rm,TorusKnotBufferGeometry:pd,TorusGeometry:Im,TorusBufferGeometry:Ul,TextGeometry:Fm,TextBufferGeometry:fd,SphereGeometry:Nm,SphereBufferGeometry:Dl,RingGeometry:Pm,RingBufferGeometry:dd,PlaneGeometry:td,PlaneBufferGeometry:Fl,LatheGeometry:Um,LatheBufferGeometry:hd,ShapeGeometry:Gl,ShapeBufferGeometry:Ql,ExtrudeGeometry:Hl,ExtrudeBufferGeometry:Do,EdgesGeometry:Hm,ConeGeometry:Dm,ConeBufferGeometry:md,CylinderGeometry:kl,CylinderBufferGeometry:Go,CircleGeometry:Gm,CircleBufferGeometry:Ed,BoxGeometry:UW,BoxBufferGeometry:zd});function Vl(e){Yt.call(this),this.type="ShadowMaterial",this.color=new Je(0),this.transparent=!0,this.setValues(e)}Vl.prototype=Object.create(Yt.prototype);Vl.prototype.constructor=Vl;Vl.prototype.isShadowMaterial=!0;Vl.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this};function Yc(e){Qi.call(this,e),this.type="RawShaderMaterial"}Yc.prototype=Object.create(Qi.prototype);Yc.prototype.constructor=Yc;Yc.prototype.isRawShaderMaterial=!0;function Qo(e){Yt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Je(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}Qo.prototype=Object.create(Yt.prototype);Qo.prototype.constructor=Qo;Qo.prototype.isMeshStandardMaterial=!0;Qo.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Kl(e){Qo.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ke(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}Kl.prototype=Object.create(Qo.prototype);Kl.prototype.constructor=Kl;Kl.prototype.isMeshPhysicalMaterial=!0;Kl.prototype.copy=function(e){return Qo.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Je).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this};function jp(e){Yt.call(this),this.type="MeshPhongMaterial",this.color=new Je(16777215),this.specular=new Je(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=BE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}jp.prototype=Object.create(Yt.prototype);jp.prototype.constructor=jp;jp.prototype.isMeshPhongMaterial=!0;jp.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function zl(e){Yt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Je(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}zl.prototype=Object.create(Yt.prototype);zl.prototype.constructor=zl;zl.prototype.isMeshToonMaterial=!0;zl.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Yl(e){Yt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Yl.prototype=Object.create(Yt.prototype);Yl.prototype.constructor=Yl;Yl.prototype.isMeshNormalMaterial=!0;Yl.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Wl(e){Yt.call(this),this.type="MeshLambertMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=BE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Wl.prototype=Object.create(Yt.prototype);Wl.prototype.constructor=Wl;Wl.prototype.isMeshLambertMaterial=!0;Wl.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function $l(e){Yt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Je(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}$l.prototype=Object.create(Yt.prototype);$l.prototype.constructor=$l;$l.prototype.isMeshMatcapMaterial=!0;$l.prototype.copy=function(e){return Yt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function jl(e){Bi.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}jl.prototype=Object.create(Bi.prototype);jl.prototype.constructor=jl;jl.prototype.isLineDashedMaterial=!0;jl.prototype.copy=function(e){return Bi.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Jq=Object.freeze({__proto__:null,ShadowMaterial:Vl,SpriteMaterial:zp,RawShaderMaterial:Yc,ShaderMaterial:Qi,PointsMaterial:Yp,MeshPhysicalMaterial:Kl,MeshStandardMaterial:Qo,MeshPhongMaterial:jp,MeshToonMaterial:zl,MeshNormalMaterial:Yl,MeshLambertMaterial:Wl,MeshDepthMaterial:kp,MeshDistanceMaterial:Vp,MeshBasicMaterial:_a,MeshMatcapMaterial:$l,LineDashedMaterial:jl,LineBasicMaterial:Bi,Material:Yt});const pi={arraySlice:function(e,t,n){return pi.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(r,s){return e[r]-e[s]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let s=0,a=0;a!==i;++s){const o=n[s]*t;for(let c=0;c!==t;++c)r[a++]=e[o+c]}return r},flattenJSON:function(e,t,n,i){let r=1,s=e[0];for(;s!==void 0&&s[i]===void 0;)s=e[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(t.push(s.time),n.push.apply(n,a)),s=e[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(t.push(s.time),a.toArray(n,n.length)),s=e[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(t.push(s.time),n.push(a)),s=e[r++];while(s!==void 0)},subclip:function(e,t,n,i,r){r=r||30;const s=e.clone();s.name=t;const a=[];for(let c=0;c<s.tracks.length;++c){const p=s.tracks[c],A=p.getValueSize(),l=[],u=[];for(let d=0;d<p.times.length;++d){const m=p.times[d]*r;if(!(m<n||m>=i)){l.push(p.times[d]);for(let y=0;y<A;++y)u.push(p.values[d*A+y])}}l.length!==0&&(p.times=pi.convertArray(l,p.times.constructor),p.values=pi.convertArray(u,p.values.constructor),a.push(p))}s.tracks=a;let o=1/0;for(let c=0;c<s.tracks.length;++c)o>s.tracks[c].times[0]&&(o=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(e,t,n,i){t===void 0&&(t=0),n===void 0&&(n=e),(i===void 0||i<=0)&&(i=30);const r=e.tracks.length,s=t/i;for(let a=0;a<r;++a){const o=n.tracks[a],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const p=e.tracks.find(function(m){return m.name===o.name&&m.ValueTypeName===c});if(p===void 0)continue;const A=o.getValueSize(),l=o.times.length-1;let u;if(s<=o.times[0])u=pi.arraySlice(o.values,0,o.valueSize);else if(s>=o.times[l]){const m=l*A;u=pi.arraySlice(o.values,m)}else{const m=o.createInterpolant();m.evaluate(s),u=m.resultBuffer}c==="quaternion"&&new zn(u[0],u[1],u[2],u[3]).normalize().conjugate().toArray(u);const d=p.times.length;for(let m=0;m<d;++m){const y=m*A;if(c==="quaternion")zn.multiplyQuaternionsFlat(p.values,y,u,0,p.values,y);else for(let g=0;g<A;++g)p.values[y+g]-=u[g]}}return e.blendMode=F8,e}};function Ks(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(Ks.prototype,{evaluate:function(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let s;n:{i:if(!(e<i)){for(let a=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}s=t.length;break n}if(!(e>=r)){const a=t[1];e<a&&(n=2,r=a);for(let o=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}s=n,n=0;break n}break e}for(;n<s;){const a=n+s>>>1;e<t[a]?s=a:n=a+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let s=0;s!==i;++s)t[s]=n[r+s];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Ks.prototype,{beforeStart_:Ks.prototype.copySampleValue_,afterEnd_:Ks.prototype.copySampleValue_});function Gw(e,t,n,i){Ks.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Gw.prototype=Object.assign(Object.create(Ks.prototype),{constructor:Gw,DefaultSettings_:{endingStart:Ll,endingEnd:Ll},intervalChanged_:function(e,t,n){let i=this.parameterPositions,r=e-2,s=e+1,a=i[r],o=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case Al:r=e,a=2*t-n;break;case ym:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(o===void 0)switch(this.getSettings_().endingEnd){case Al:s=e,o=2*n-t;break;case ym:s=1,o=n+i[1]-i[0];break;default:s=e-1,o=t}const c=(n-t)*.5,p=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(o-n),this._offsetPrev=r*p,this._offsetNext=s*p},interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,c=o-a,p=this._offsetPrev,A=this._offsetNext,l=this._weightPrev,u=this._weightNext,d=(n-t)/(i-t),m=d*d,y=m*d,g=-l*y+2*l*m-l*d,E=(1+l)*y+(-1.5-2*l)*m+(-.5+l)*d+1,w=(-1-u)*y+(1.5+u)*m+.5*d,b=u*y-u*m;for(let _=0;_!==a;++_)r[_]=g*s[p+_]+E*s[c+_]+w*s[o+_]+b*s[A+_];return r}});function Qm(e,t,n,i){Ks.call(this,e,t,n,i)}Qm.prototype=Object.assign(Object.create(Ks.prototype),{constructor:Qm,interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,c=o-a,p=(n-t)/(i-t),A=1-p;for(let l=0;l!==a;++l)r[l]=s[c+l]*A+s[o+l]*p;return r}});function Qw(e,t,n,i){Ks.call(this,e,t,n,i)}Qw.prototype=Object.assign(Object.create(Ks.prototype),{constructor:Qw,interpolate_:function(e){return this.copySampleValue_(e-1)}});function gr(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pi.convertArray(t,this.TimeBufferType),this.values=pi.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(gr,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:pi.convertArray(e.times,Array),values:pi.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(gr.prototype,{constructor:gr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:M1,InterpolantFactoryMethodDiscrete:function(e){return new Qw(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Qm(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Gw(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Em:t=this.InterpolantFactoryMethodDiscrete;break;case M1:t=this.InterpolantFactoryMethodLinear;break;case N3:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Em;case this.InterpolantFactoryMethodLinear:return M1;case this.InterpolantFactoryMethodSmooth:return N3}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,s=i-1;for(;r!==i&&n[r]<e;)++r;for(;s!==-1&&n[s]>t;)--s;if(++s,r!==0||s!==i){r>=s&&(s=Math.max(s,1),r=s-1);const a=this.getValueSize();this.times=pi.arraySlice(n,r,s),this.values=pi.arraySlice(this.values,r*a,s*a)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==r;a++){const o=n[a];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),e=!1;break}if(s!==null&&s>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,s),e=!1;break}s=o}if(i!==void 0&&pi.isTypedArray(i))for(let a=0,o=i.length;a!==o;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e},optimize:function(){const e=pi.arraySlice(this.times),t=pi.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===N3,r=e.length-1;let s=1;for(let a=1;a<r;++a){let o=!1;const c=e[a],p=e[a+1];if(c!==p&&(a!==1||c!==c[0]))if(i)o=!0;else{const A=a*n,l=A-n,u=A+n;for(let d=0;d!==n;++d){const m=t[A+d];if(m!==t[l+d]||m!==t[u+d]){o=!0;break}}}if(o){if(a!==s){e[s]=e[a];const A=a*n,l=s*n;for(let u=0;u!==n;++u)t[l+u]=t[A+u]}++s}}if(r>0){e[s]=e[r];for(let a=r*n,o=s*n,c=0;c!==n;++c)t[o+c]=t[a+c];++s}return s!==e.length?(this.times=pi.arraySlice(e,0,s),this.values=pi.arraySlice(t,0,s*n)):(this.times=e,this.values=t),this},clone:function(){const e=pi.arraySlice(this.times,0),t=pi.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function kw(e,t,n){gr.call(this,e,t,n)}kw.prototype=Object.assign(Object.create(gr.prototype),{constructor:kw,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Em,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Vw(e,t,n,i){gr.call(this,e,t,n,i)}Vw.prototype=Object.assign(Object.create(gr.prototype),{constructor:Vw,ValueTypeName:"color"});function yd(e,t,n,i){gr.call(this,e,t,n,i)}yd.prototype=Object.assign(Object.create(gr.prototype),{constructor:yd,ValueTypeName:"number"});function Kw(e,t,n,i){Ks.call(this,e,t,n,i)}Kw.prototype=Object.assign(Object.create(Ks.prototype),{constructor:Kw,interpolate_:function(e,t,n,i){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-t)/(i-t);let c=e*a;for(let p=c+a;c!==p;c+=4)zn.slerpFlat(r,0,s,c-a,s,c,o);return r}});function km(e,t,n,i){gr.call(this,e,t,n,i)}km.prototype=Object.assign(Object.create(gr.prototype),{constructor:km,ValueTypeName:"quaternion",DefaultInterpolation:M1,InterpolantFactoryMethodLinear:function(e){return new Kw(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function zw(e,t,n,i){gr.call(this,e,t,n,i)}zw.prototype=Object.assign(Object.create(gr.prototype),{constructor:zw,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Em,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function gd(e,t,n,i){gr.call(this,e,t,n,i)}gd.prototype=Object.assign(Object.create(gr.prototype),{constructor:gd,ValueTypeName:"vector"});function Ea(e,t,n,i){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.blendMode=i!==void 0?i:f_,this.uuid=nn.generateUUID(),this.duration<0&&this.resetDuration()}function eZ(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yd;case"vector":case"vector2":case"vector3":case"vector4":return gd;case"color":return Vw;case"quaternion":return km;case"bool":case"boolean":return kw;case"string":return zw}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function tZ(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=eZ(e.type);if(e.times===void 0){const n=[],i=[];pi.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Ea,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let r=0,s=n.length;r!==s;++r)t.push(tZ(n[r]).scale(i));return new Ea(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,s=n.length;r!==s;++r)t.push(gr.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,s=[];for(let a=0;a<r;a++){let o=[],c=[];o.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const p=pi.getKeyframeOrder(o);o=pi.sortedArray(o,1,p),c=pi.sortedArray(c,1,p),!i&&o[0]===0&&(o.push(r),c.push(c[0])),s.push(new yd(".morphTargetInfluences["+t[a].name+"]",o,c).scale(1/n))}return new Ea(e,-1,s)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,o=e.length;a<o;a++){const c=e[a],p=c.name.match(r);if(p&&p.length>1){const A=p[1];let l=i[A];l||(i[A]=l=[]),l.push(c)}}const s=[];for(const a in i)s.push(Ea.CreateFromMorphTargetSequence(a,i[a],t,n));return s},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(A,l,u,d,m){if(u.length!==0){const y=[],g=[];pi.flattenJSON(u,y,g,d),y.length!==0&&m.push(new A(l,y,g))}},i=[],r=e.name||"default",s=e.fps||30,a=e.blendMode;let o=e.length||-1;const c=e.hierarchy||[];for(let A=0;A<c.length;A++){const l=c[A].keys;if(!(!l||l.length===0))if(l[0].morphTargets){const u={};let d;for(d=0;d<l.length;d++)if(l[d].morphTargets)for(let m=0;m<l[d].morphTargets.length;m++)u[l[d].morphTargets[m]]=-1;for(const m in u){const y=[],g=[];for(let E=0;E!==l[d].morphTargets.length;++E){const w=l[d];y.push(w.time),g.push(w.morphTarget===m?1:0)}i.push(new yd(".morphTargetInfluence["+m+"]",y,g))}o=u.length*(s||1)}else{const u=".bones["+t[A].name+"]";n(gd,u+".position",l,"pos",i),n(km,u+".quaternion",l,"rot",i),n(gd,u+".scale",l,"scl",i)}}return i.length===0?null:new Ea(r,o,i,a)}});Object.assign(Ea.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Ea(this.name,this.duration,e,this.blendMode)}});const Xl={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function rS(e,t,n){const i=this;let r=!1,s=0,a=0,o;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(p){a++,r===!1&&i.onStart!==void 0&&i.onStart(p,s,a),r=!0},this.itemEnd=function(p){s++,i.onProgress!==void 0&&i.onProgress(p,s,a),s===a&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(p){i.onError!==void 0&&i.onError(p)},this.resolveURL=function(p){return o?o(p):p},this.setURLModifier=function(p){return o=p,this},this.addHandler=function(p,A){return c.push(p,A),this},this.removeHandler=function(p){const A=c.indexOf(p);return A!==-1&&c.splice(A,2),this},this.getHandler=function(p){for(let A=0,l=c.length;A<l;A+=2){const u=c[A],d=c[A+1];if(u.global&&(u.lastIndex=0),u.test(p))return d}return null}}const nZ=new rS;function kn(e){this.manager=e!==void 0?e:nZ,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(kn.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const sa={};function Wa(e){kn.call(this,e)}Wa.prototype=Object.assign(Object.create(kn.prototype),{constructor:Wa,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=Xl.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;if(sa[e]!==void 0){sa[e].push({onLoad:t,onProgress:n,onError:i});return}const a=/^data:(.*?)(;base64)?,(.*)$/,o=e.match(a);let c;if(o){const p=o[1],A=!!o[2];let l=o[3];l=decodeURIComponent(l),A&&(l=atob(l));try{let u;const d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":const m=new Uint8Array(l.length);for(let g=0;g<l.length;g++)m[g]=l.charCodeAt(g);d==="blob"?u=new Blob([m.buffer],{type:p}):u=m.buffer;break;case"document":u=new DOMParser().parseFromString(l,p);break;case"json":u=JSON.parse(l);break;default:u=l;break}setTimeout(function(){t&&t(u),r.manager.itemEnd(e)},0)}catch(u){setTimeout(function(){i&&i(u),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{sa[e]=[],sa[e].push({onLoad:t,onProgress:n,onError:i}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",function(p){const A=this.response,l=sa[e];if(delete sa[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Xl.add(e,A);for(let u=0,d=l.length;u<d;u++){const m=l[u];m.onLoad&&m.onLoad(A)}r.manager.itemEnd(e)}else{for(let u=0,d=l.length;u<d;u++){const m=l[u];m.onError&&m.onError(p)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),c.addEventListener("progress",function(p){const A=sa[e];for(let l=0,u=A.length;l<u;l++){const d=A[l];d.onProgress&&d.onProgress(p)}},!1),c.addEventListener("error",function(p){const A=sa[e];delete sa[e];for(let l=0,u=A.length;l<u;l++){const d=A[l];d.onError&&d.onError(p)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),c.addEventListener("abort",function(p){const A=sa[e];delete sa[e];for(let l=0,u=A.length;l<u;l++){const d=A[l];d.onError&&d.onError(p)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(c.responseType=this.responseType),this.withCredentials!==void 0&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const p in this.requestHeader)c.setRequestHeader(p,this.requestHeader[p]);c.send(null)}return r.manager.itemStart(e),c},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}});function S6(e){kn.call(this,e)}S6.prototype=Object.assign(Object.create(kn.prototype),{constructor:S6,load:function(e,t,n,i){const r=this,s=new Wa(r.manager);s.setPath(r.path),s.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=Ea.parse(e[n]);t.push(i)}return t}});function O6(e){kn.call(this,e)}O6.prototype=Object.assign(Object.create(kn.prototype),{constructor:O6,load:function(e,t,n,i){const r=this,s=[],a=new sd;a.image=s;const o=new Wa(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer");let c=0;function p(A){o.load(e[A],function(l){const u=r.parse(l,!0);s[A]={width:u.width,height:u.height,format:u.format,mipmaps:u.mipmaps},c+=1,c===6&&(u.mipmapCount===1&&(a.minFilter=Ii),a.format=u.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(Array.isArray(e))for(let A=0,l=e.length;A<l;++A)p(A);else o.load(e,function(A){const l=r.parse(A,!0);if(l.isCubemap){const u=l.mipmaps.length/l.mipmapCount;for(let d=0;d<u;d++){s[d]={mipmaps:[]};for(let m=0;m<l.mipmapCount;m++)s[d].mipmaps.push(l.mipmaps[d*l.mipmapCount+m]),s[d].format=l.format,s[d].width=l.width,s[d].height=l.height}}else a.image.width=l.width,a.image.height=l.height,a.mipmaps=l.mipmaps;l.mipmapCount===1&&(a.minFilter=Ii),a.format=l.format,a.needsUpdate=!0,t&&t(a)},n,i);return a}});function L6(e){kn.call(this,e)}L6.prototype=Object.assign(Object.create(kn.prototype),{constructor:L6,load:function(e,t,n,i){const r=this,s=new Ho,a=new Wa(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(o){const c=r.parse(o);!c||(c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Yr,s.wrapT=c.wrapT!==void 0?c.wrapT:Yr,s.magFilter=c.magFilter!==void 0?c.magFilter:Ii,s.minFilter=c.minFilter!==void 0?c.minFilter:Ii,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=ME),c.mipmapCount===1&&(s.minFilter=Ii),s.needsUpdate=!0,t&&t(s,c))},n,i),s}});function wd(e){kn.call(this,e)}wd.prototype=Object.assign(Object.create(kn.prototype),{constructor:wd,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=Xl.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function o(){a.removeEventListener("load",o,!1),a.removeEventListener("error",c,!1),Xl.add(e,this),t&&t(this),r.manager.itemEnd(e)}function c(p){a.removeEventListener("load",o,!1),a.removeEventListener("error",c,!1),i&&i(p),r.manager.itemError(e),r.manager.itemEnd(e)}return a.addEventListener("load",o,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}});function Yw(e){kn.call(this,e)}Yw.prototype=Object.assign(Object.create(kn.prototype),{constructor:Yw,load:function(e,t,n,i){const r=new Kc,s=new wd(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(c){s.load(e[c],function(p){r.images[c]=p,a++,a===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let c=0;c<e.length;++c)o(c);return r}});function Ww(e){kn.call(this,e)}Ww.prototype=Object.assign(Object.create(kn.prototype),{constructor:Ww,load:function(e,t,n,i){const r=new jn,s=new wd(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){r.image=a;const o=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=o?Rp:$r,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}});function Ot(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Ot.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0,r=n.length,s;t?s=t:s=e*n[r-1];let a=0,o=r-1,c;for(;a<=o;)if(i=Math.floor(a+(o-a)/2),c=n[i]-s,c<0)a=i+1;else if(c>0)o=i-1;else{o=i;break}if(i=o,n[i]===s)return i/(r-1);const p=n[i],l=n[i+1]-p,u=(s-p)/l;return(i+u)/(r-1)},getTangent:function(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const s=this.getPoint(i),a=this.getPoint(r),o=t||(s.isVector2?new Ke:new F);return o.copy(a).sub(s).normalize(),o},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new F,i=[],r=[],s=[],a=new F,o=new Xe;for(let u=0;u<=e;u++){const d=u/e;i[u]=this.getTangentAt(d,new F),i[u].normalize()}r[0]=new F,s[0]=new F;let c=Number.MAX_VALUE;const p=Math.abs(i[0].x),A=Math.abs(i[0].y),l=Math.abs(i[0].z);p<=c&&(c=p,n.set(1,0,0)),A<=c&&(c=A,n.set(0,1,0)),l<=c&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),s[0].crossVectors(i[0],r[0]);for(let u=1;u<=e;u++){if(r[u]=r[u-1].clone(),s[u]=s[u-1].clone(),a.crossVectors(i[u-1],i[u]),a.length()>Number.EPSILON){a.normalize();const d=Math.acos(nn.clamp(i[u-1].dot(i[u]),-1,1));r[u].applyMatrix4(o.makeRotationAxis(a,d))}s[u].crossVectors(i[u],r[u])}if(t===!0){let u=Math.acos(nn.clamp(r[0].dot(r[e]),-1,1));u/=e,i[0].dot(a.crossVectors(r[0],r[e]))>0&&(u=-u);for(let d=1;d<=e;d++)r[d].applyMatrix4(o.makeRotationAxis(i[d],u*d)),s[d].crossVectors(i[d],r[d])}return{tangents:i,normals:r,binormals:s}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Ws(e,t,n,i,r,s,a,o){Ot.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=a||!1,this.aRotation=o||0}Ws.prototype=Object.create(Ot.prototype);Ws.prototype.constructor=Ws;Ws.prototype.isEllipseCurve=!0;Ws.prototype.getPoint=function(e,t){const n=t||new Ke,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(s?r=0:r=i),this.aClockwise===!0&&!s&&(r===i?r=-i:r=r-i);const a=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const p=Math.cos(this.aRotation),A=Math.sin(this.aRotation),l=o-this.aX,u=c-this.aY;o=l*p-u*A+this.aX,c=l*A+u*p+this.aY}return n.set(o,c)};Ws.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Ws.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Ws.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function _d(e,t,n,i,r,s){Ws.call(this,e,t,n,n,i,r,s),this.type="ArcCurve"}_d.prototype=Object.create(Ws.prototype);_d.prototype.constructor=_d;_d.prototype.isArcCurve=!0;function E_(){let e=0,t=0,n=0,i=0;function r(s,a,o,c){e=s,t=o,n=-3*s+3*a-2*o-c,i=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,p){r(a,o,p*(o-s),p*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,p,A,l){let u=(a-s)/p-(o-s)/(p+A)+(o-a)/A,d=(o-a)/A-(c-a)/(A+l)+(c-o)/l;u*=A,d*=A,r(a,o,u,d)},calc:function(s){const a=s*s,o=a*s;return e+t*s+n*a+i*o}}}const Dh=new F,ag=new E_,og=new E_,cg=new E_;function ds(e,t,n,i){Ot.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}ds.prototype=Object.create(Ot.prototype);ds.prototype.constructor=ds;ds.prototype.isCatmullRomCurve3=!0;ds.prototype.getPoint=function(e,t){const n=t||new F,i=this.points,r=i.length,s=(r-(this.closed?0:1))*e;let a=Math.floor(s),o=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:o===0&&a===r-1&&(a=r-2,o=1);let c,p,A,l;if(this.closed||a>0?c=i[(a-1)%r]:(Dh.subVectors(i[0],i[1]).add(i[0]),c=Dh),p=i[a%r],A=i[(a+1)%r],this.closed||a+2<r?l=i[(a+2)%r]:(Dh.subVectors(i[r-1],i[r-2]).add(i[r-1]),l=Dh),this.curveType==="centripetal"||this.curveType==="chordal"){const u=this.curveType==="chordal"?.5:.25;let d=Math.pow(c.distanceToSquared(p),u),m=Math.pow(p.distanceToSquared(A),u),y=Math.pow(A.distanceToSquared(l),u);m<1e-4&&(m=1),d<1e-4&&(d=m),y<1e-4&&(y=m),ag.initNonuniformCatmullRom(c.x,p.x,A.x,l.x,d,m,y),og.initNonuniformCatmullRom(c.y,p.y,A.y,l.y,d,m,y),cg.initNonuniformCatmullRom(c.z,p.z,A.z,l.z,d,m,y)}else this.curveType==="catmullrom"&&(ag.initCatmullRom(c.x,p.x,A.x,l.x,this.tension),og.initCatmullRom(c.y,p.y,A.y,l.y,this.tension),cg.initCatmullRom(c.z,p.z,A.z,l.z,this.tension));return n.set(ag.calc(o),og.calc(o),cg.calc(o)),n};ds.prototype.copy=function(e){Ot.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};ds.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};ds.prototype.fromJSON=function(e){Ot.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new F().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function R6(e,t,n,i,r){const s=(i-t)*.5,a=(r-n)*.5,o=e*e,c=e*o;return(2*n-2*i+s+a)*c+(-3*n+3*i-2*s-a)*o+s*e+n}function iZ(e,t){const n=1-e;return n*n*t}function rZ(e,t){return 2*(1-e)*e*t}function sZ(e,t){return e*e*t}function Rf(e,t,n,i){return iZ(e,t)+rZ(e,n)+sZ(e,i)}function aZ(e,t){const n=1-e;return n*n*n*t}function oZ(e,t){const n=1-e;return 3*n*n*e*t}function cZ(e,t){return 3*(1-e)*e*e*t}function pZ(e,t){return e*e*e*t}function If(e,t,n,i,r){return aZ(e,t)+oZ(e,n)+cZ(e,i)+pZ(e,r)}function $a(e,t,n,i){Ot.call(this),this.type="CubicBezierCurve",this.v0=e||new Ke,this.v1=t||new Ke,this.v2=n||new Ke,this.v3=i||new Ke}$a.prototype=Object.create(Ot.prototype);$a.prototype.constructor=$a;$a.prototype.isCubicBezierCurve=!0;$a.prototype.getPoint=function(e,t){const n=t||new Ke,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(If(e,i.x,r.x,s.x,a.x),If(e,i.y,r.y,s.y,a.y)),n};$a.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};$a.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};$a.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function ko(e,t,n,i){Ot.call(this),this.type="CubicBezierCurve3",this.v0=e||new F,this.v1=t||new F,this.v2=n||new F,this.v3=i||new F}ko.prototype=Object.create(Ot.prototype);ko.prototype.constructor=ko;ko.prototype.isCubicBezierCurve3=!0;ko.prototype.getPoint=function(e,t){const n=t||new F,i=this.v0,r=this.v1,s=this.v2,a=this.v3;return n.set(If(e,i.x,r.x,s.x,a.x),If(e,i.y,r.y,s.y,a.y),If(e,i.z,r.z,s.z,a.z)),n};ko.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};ko.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};ko.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function hs(e,t){Ot.call(this),this.type="LineCurve",this.v1=e||new Ke,this.v2=t||new Ke}hs.prototype=Object.create(Ot.prototype);hs.prototype.constructor=hs;hs.prototype.isLineCurve=!0;hs.prototype.getPoint=function(e,t){const n=t||new Ke;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};hs.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};hs.prototype.getTangent=function(e,t){const n=t||new Ke;return n.copy(this.v2).sub(this.v1).normalize(),n};hs.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};hs.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};hs.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function ja(e,t){Ot.call(this),this.type="LineCurve3",this.v1=e||new F,this.v2=t||new F}ja.prototype=Object.create(Ot.prototype);ja.prototype.constructor=ja;ja.prototype.isLineCurve3=!0;ja.prototype.getPoint=function(e,t){const n=t||new F;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};ja.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};ja.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};ja.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};ja.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Xa(e,t,n){Ot.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Ke,this.v1=t||new Ke,this.v2=n||new Ke}Xa.prototype=Object.create(Ot.prototype);Xa.prototype.constructor=Xa;Xa.prototype.isQuadraticBezierCurve=!0;Xa.prototype.getPoint=function(e,t){const n=t||new Ke,i=this.v0,r=this.v1,s=this.v2;return n.set(Rf(e,i.x,r.x,s.x),Rf(e,i.y,r.y,s.y)),n};Xa.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Xa.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Xa.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Vo(e,t,n){Ot.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new F,this.v1=t||new F,this.v2=n||new F}Vo.prototype=Object.create(Ot.prototype);Vo.prototype.constructor=Vo;Vo.prototype.isQuadraticBezierCurve3=!0;Vo.prototype.getPoint=function(e,t){const n=t||new F,i=this.v0,r=this.v1,s=this.v2;return n.set(Rf(e,i.x,r.x,s.x),Rf(e,i.y,r.y,s.y),Rf(e,i.z,r.z,s.z)),n};Vo.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Vo.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Vo.prototype.fromJSON=function(e){return Ot.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function qa(e){Ot.call(this),this.type="SplineCurve",this.points=e||[]}qa.prototype=Object.create(Ot.prototype);qa.prototype.constructor=qa;qa.prototype.isSplineCurve=!0;qa.prototype.getPoint=function(e,t){const n=t||new Ke,i=this.points,r=(i.length-1)*e,s=Math.floor(r),a=r-s,o=i[s===0?s:s-1],c=i[s],p=i[s>i.length-2?i.length-1:s+1],A=i[s>i.length-3?i.length-1:s+2];return n.set(R6(a,o.x,c.x,p.x,A.x),R6(a,o.y,c.y,p.y,A.y)),n};qa.prototype.copy=function(e){Ot.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};qa.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};qa.prototype.fromJSON=function(e){Ot.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Ke().fromArray(i))}return this};var $w=Object.freeze({__proto__:null,ArcCurve:_d,CatmullRomCurve3:ds,CubicBezierCurve:$a,CubicBezierCurve3:ko,EllipseCurve:Ws,LineCurve:hs,LineCurve3:ja,QuadraticBezierCurve:Xa,QuadraticBezierCurve3:Vo,SplineCurve:qa});function Rc(){Ot.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Rc.prototype=Object.assign(Object.create(Ot.prototype),{constructor:Rc,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new hs(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,s=this.curves[i],a=s.getLength(),o=a===0?0:1-r/a;return s.getPointAt(o)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const s=r[i],a=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let c=0;c<o.length;c++){const p=o[c];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Ot.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Ot.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Ot.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new $w[i.type]().fromJSON(i))}return this}});function ka(e){Rc.call(this),this.type="Path",this.currentPoint=new Ke,e&&this.setFromPoints(e)}ka.prototype=Object.assign(Object.create(Rc.prototype),{constructor:ka,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new hs(this.currentPoint.clone(),new Ke(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new Xa(this.currentPoint.clone(),new Ke(e,t),new Ke(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,s){const a=new $a(this.currentPoint.clone(),new Ke(e,t),new Ke(n,i),new Ke(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new qa(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,n,i,r,s),this},absarc:function(e,t,n,i,r,s){return this.absellipse(e,t,n,n,i,r,s),this},ellipse:function(e,t,n,i,r,s,a,o){const c=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+c,t+p,n,i,r,s,a,o),this},absellipse:function(e,t,n,i,r,s,a,o){const c=new Ws(e,t,n,i,r,s,a,o);if(this.curves.length>0){const A=c.getPoint(0);A.equals(this.currentPoint)||this.lineTo(A.x,A.y)}this.curves.push(c);const p=c.getPoint(1);return this.currentPoint.copy(p),this},copy:function(e){return Rc.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Rc.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Rc.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function Fp(e){ka.call(this,e),this.uuid=nn.generateUUID(),this.type="Shape",this.holes=[]}Fp.prototype=Object.assign(Object.create(ka.prototype),{constructor:Fp,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ka.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=ka.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){ka.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new ka().fromJSON(i))}return this}});function ii(e,t){ct.call(this),this.type="Light",this.color=new Je(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}ii.prototype=Object.assign(Object.create(ct.prototype),{constructor:ii,isLight:!0,copy:function(e){return ct.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=ct.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function jw(e,t,n){ii.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ct.DefaultUp),this.updateMatrix(),this.groundColor=new Je(t)}jw.prototype=Object.assign(Object.create(ii.prototype),{constructor:jw,isHemisphereLight:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function Ko(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Ke(512,512),this.map=null,this.mapPass=null,this.matrix=new Xe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Yd,this._frameExtents=new Ke(1,1),this._viewportCount=1,this._viewports=[new Qn(0,0,1,1)]}Object.assign(Ko.prototype,{_projScreenMatrix:new Xe,_lightPositionWorld:new F,_lookTarget:new F,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,s=this._lightPositionWorld;s.setFromMatrixPosition(e.matrixWorld),t.position.copy(s),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function Xw(){Ko.call(this,new Li(50,1,.5,500))}Xw.prototype=Object.assign(Object.create(Ko.prototype),{constructor:Xw,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=nn.RAD2DEG*2*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),Ko.prototype.updateMatrices.call(this,e)}});function Vm(e,t,n,i,r,s){ii.call(this,e,t),this.type="SpotLight",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=r!==void 0?r:0,this.decay=s!==void 0?s:1,this.shadow=new Xw}Vm.prototype=Object.assign(Object.create(ii.prototype),{constructor:Vm,isSpotLight:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function qw(){Ko.call(this,new Li(90,1,.5,500)),this._frameExtents=new Ke(4,2),this._viewportCount=6,this._viewports=[new Qn(2,1,1,1),new Qn(0,1,1,1),new Qn(3,1,1,1),new Qn(1,1,1,1),new Qn(3,0,1,1),new Qn(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}qw.prototype=Object.assign(Object.create(Ko.prototype),{constructor:qw,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const n=this.camera,i=this.matrix,r=this._lightPositionWorld,s=this._lookTarget,a=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),s.copy(n.position),s.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(s),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}});function Zw(e,t,n,i){ii.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(r){this.intensity=r/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new qw}Zw.prototype=Object.assign(Object.create(ii.prototype),{constructor:Zw,isPointLight:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function Wc(e,t,n,i,r,s){Uo.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=i!==void 0?i:-1,this.near=r!==void 0?r:.1,this.far=s!==void 0?s:2e3,this.updateProjectionMatrix()}Wc.prototype=Object.assign(Object.create(Uo.prototype),{constructor:Wc,isOrthographicCamera:!0,copy:function(e,t){return Uo.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,s=n+e,a=i+t,o=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,s=r+c*this.view.width,a-=p*this.view.offsetY,o=a-p*this.view.height}this.projectionMatrix.makeOrthographic(r,s,a,o,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=ct.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function Jw(){Ko.call(this,new Wc(-5,5,5,-5,.5,500))}Jw.prototype=Object.assign(Object.create(Ko.prototype),{constructor:Jw,isDirectionalLightShadow:!0,updateMatrices:function(e){Ko.prototype.updateMatrices.call(this,e)}});function e4(e,t){ii.call(this,e,t),this.type="DirectionalLight",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,this.shadow=new Jw}e4.prototype=Object.assign(Object.create(ii.prototype),{constructor:e4,isDirectionalLight:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function Km(e,t){ii.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}Km.prototype=Object.assign(Object.create(ii.prototype),{constructor:Km,isAmbientLight:!0});function t4(e,t,n,i){ii.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}t4.prototype=Object.assign(Object.create(ii.prototype),{constructor:t4,isRectAreaLight:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=ii.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function y_(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}Object.assign(y_.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*r),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*i)),t.addScaledVector(s[5],1.092548*(i*r)),t.addScaledVector(s[6],.315392*(3*r*r-1)),t.addScaledVector(s[7],1.092548*(n*r)),t.addScaledVector(s[8],.546274*(n*n-i*i)),t},getIrradianceAt:function(e,t){const n=e.x,i=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*r),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*i),t.addScaledVector(s[5],2*.429043*i*r),t.addScaledVector(s[6],.743125*r*r-.247708),t.addScaledVector(s[7],2*.429043*n*r),t.addScaledVector(s[8],.429043*(n*n-i*i)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,t){t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}});Object.assign(y_,{getBasisAt:function(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}});function ga(e,t){ii.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new y_}ga.prototype=Object.assign(Object.create(ii.prototype),{constructor:ga,isLightProbe:!0,copy:function(e){return ii.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=ii.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function n4(e){kn.call(this,e),this.textures={}}n4.prototype=Object.assign(Object.create(kn.prototype),{constructor:n4,load:function(e,t,n,i){const r=this,s=new Wa(r.manager);s.setPath(r.path),s.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new Jq[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new Je().setHex(e.sheen)),e.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const s=e.uniforms[r];switch(i.uniforms[r]={},s.type){case"t":i.uniforms[r].value=n(s.value);break;case"c":i.uniforms[r].value=new Je().setHex(s.value);break;case"v2":i.uniforms[r].value=new Ke().fromArray(s.value);break;case"v3":i.uniforms[r].value=new F().fromArray(s.value);break;case"v4":i.uniforms[r].value=new Qn().fromArray(s.value);break;case"m3":i.uniforms[r].value=new rr().fromArray(s.value);case"m4":i.uniforms[r].value=new Xe().fromArray(s.value);break;default:i.uniforms[r].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new Ke().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ke().fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});const sS={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function zm(){pt.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}zm.prototype=Object.assign(Object.create(pt.prototype),{constructor:zm,isInstancedBufferGeometry:!0,copy:function(e){return pt.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=pt.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function i4(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),bt.call(this,e,t,n),this.meshPerAttribute=i||1}i4.prototype=Object.assign(Object.create(bt.prototype),{constructor:i4,isInstancedBufferAttribute:!0,copy:function(e){return bt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=bt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function r4(e){kn.call(this,e)}r4.prototype=Object.assign(Object.create(kn.prototype),{constructor:r4,load:function(e,t,n,i){const r=this,s=new Wa(r.manager);s.setPath(r.path),s.load(e,function(a){try{t(r.parse(JSON.parse(a)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(u,d){if(t[d]!==void 0)return t[d];const y=u.interleavedBuffers[d],g=r(u,y.buffer),E=new Gh[y.type](g),w=new Vs(E,y.stride);return w.uuid=y.uuid,t[d]=w,w}function r(u,d){if(n[d]!==void 0)return n[d];const y=u.arrayBuffers[d],g=new Uint32Array(y).buffer;return n[d]=g,g}const s=e.isInstancedBufferGeometry?new zm:new pt,a=e.data.index;if(a!==void 0){const u=new Gh[a.type](a.array);s.setIndex(new bt(u,1))}const o=e.data.attributes;for(const u in o){const d=o[u];let m;if(d.isInterleavedBufferAttribute){const y=i(e.data,d.data);m=new Kp(y,d.itemSize,d.offset,d.normalized)}else{const y=new Gh[d.type](d.array),g=d.isInstancedBufferAttribute?i4:bt;m=new g(y,d.itemSize,d.normalized)}d.name!==void 0&&(m.name=d.name),s.setAttribute(u,m)}const c=e.data.morphAttributes;if(c)for(const u in c){const d=c[u],m=[];for(let y=0,g=d.length;y<g;y++){const E=d[y];let w;if(E.isInterleavedBufferAttribute){const b=i(e.data,E.data);w=new Kp(b,E.itemSize,E.offset,E.normalized)}else{const b=new Gh[E.type](E.array);w=new bt(b,E.itemSize,E.normalized)}E.name!==void 0&&(w.name=E.name),m.push(w)}s.morphAttributes[u]=m}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const A=e.data.groups||e.data.drawcalls||e.data.offsets;if(A!==void 0)for(let u=0,d=A.length;u!==d;++u){const m=A[u];s.addGroup(m.start,m.count,m.materialIndex)}const l=e.data.boundingSphere;if(l!==void 0){const u=new F;l.center!==void 0&&u.fromArray(l.center),s.boundingSphere=new $o(u,l.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}});const Gh={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function s4(e){kn.call(this,e)}s4.prototype=Object.assign(Object.create(kn.prototype),{constructor:s4,load:function(e,t,n,i){const r=this,s=this.path===""?sS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Wa(r.manager);a.setPath(this.path),a.load(e,function(o){let c=null;try{c=JSON.parse(o)}catch(A){i!==void 0&&i(A),console.error("THREE:ObjectLoader: Can't parse "+e+".",A.message);return}const p=c.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(c,t)},n,i)},parse:function(e,t){const n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){t!==void 0&&t(o)}),s=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,s),o=this.parseObject(e.object,i,a);return e.animations&&(o.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(o),o},parseShape:function(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const r=new Fp().fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){const n={};let i;if(e!==void 0){const r=new r4;for(let s=0,a=e.length;s<a;s++){let o;const c=e[s];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new xr[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new xr[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new xr[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new xr[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new xr[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new xr[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new xr[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new xr[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new xr[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new xr[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new xr[c.type](new $w[c.path.type]().fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new xr[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new xr[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":i=[];for(let A=0,l=c.shapes.length;A<l;A++){const u=t[c.shapes[A]];i.push(u)}o=new xr[c.type](i,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":i=[];for(let A=0,l=c.shapes.length;A<l;A++){const u=t[c.shapes[A]];i.push(u)}const p=c.options.extrudePath;p!==void 0&&(c.options.extrudePath=new $w[p.type]().fromJSON(p)),o=new xr[c.type](i,c.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),o.isBufferGeometry===!0&&c.userData!==void 0&&(o.userData=c.userData),n[c.uuid]=o}}return n},parseMaterials:function(e,t){const n={},i={};if(e!==void 0){const r=new n4;r.setTextures(t);for(let s=0,a=e.length;s<a;s++){const o=e[s];if(o.type==="MultiMaterial"){const c=[];for(let p=0;p<o.materials.length;p++){const A=o.materials[p];n[A.uuid]===void 0&&(n[A.uuid]=r.parse(A)),c.push(n[A.uuid])}i[o.uuid]=c}else n[o.uuid]===void 0&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i},parseAnimations:function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],r=Ea.parse(i);i.uuid!==void 0&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){const n=this,i={};let r;function s(a){return n.manager.itemStart(a),r.load(a,function(){n.manager.itemEnd(a)},void 0,function(){n.manager.itemError(a),n.manager.itemEnd(a)})}if(e!==void 0&&e.length>0){const a=new rS(t);r=new wd(a),r.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const p=e[o],A=p.url;if(Array.isArray(A)){i[p.uuid]=[];for(let l=0,u=A.length;l<u;l++){const d=A[l],m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;i[p.uuid].push(s(m))}}else{const l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p.url)?p.url:n.resourcePath+p.url;i[p.uuid]=s(l)}}}return i},parseTextures:function(e,t){function n(r,s){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),s[r])}const i={};if(e!==void 0)for(let r=0,s=e.length;r<s;r++){const a=e[r];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let o;Array.isArray(t[a.image])?o=new Kc(t[a.image]):o=new jn(t[a.image]),o.needsUpdate=!0,o.uuid=a.uuid,a.name!==void 0&&(o.name=a.name),a.mapping!==void 0&&(o.mapping=n(a.mapping,AZ)),a.offset!==void 0&&o.offset.fromArray(a.offset),a.repeat!==void 0&&o.repeat.fromArray(a.repeat),a.center!==void 0&&o.center.fromArray(a.center),a.rotation!==void 0&&(o.rotation=a.rotation),a.wrap!==void 0&&(o.wrapS=n(a.wrap[0],I6),o.wrapT=n(a.wrap[1],I6)),a.format!==void 0&&(o.format=a.format),a.type!==void 0&&(o.type=a.type),a.encoding!==void 0&&(o.encoding=a.encoding),a.minFilter!==void 0&&(o.minFilter=n(a.minFilter,F6)),a.magFilter!==void 0&&(o.magFilter=n(a.magFilter,F6)),a.anisotropy!==void 0&&(o.anisotropy=a.anisotropy),a.flipY!==void 0&&(o.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(o.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(o.unpackAlignment=a.unpackAlignment),i[a.uuid]=o}return i},parseObject:function(e,t,n){let i;function r(c){return t[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",c),t[c]}function s(c){if(c!==void 0){if(Array.isArray(c)){const p=[];for(let A=0,l=c.length;A<l;A++){const u=c[A];n[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",u),p.push(n[u])}return p}return n[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",c),n[c]}}let a,o;switch(e.type){case"Scene":i=new Rl,e.background!==void 0&&Number.isInteger(e.background)&&(i.background=new Je(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?i.fog=new _m(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(i.fog=new Lw(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Li(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(i.focus=e.focus),e.zoom!==void 0&&(i.zoom=e.zoom),e.filmGauge!==void 0&&(i.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(i.filmOffset=e.filmOffset),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new Wc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(i.zoom=e.zoom),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new Km(e.color,e.intensity);break;case"DirectionalLight":i=new e4(e.color,e.intensity);break;case"PointLight":i=new Zw(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new t4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new Vm(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new jw(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=new ga().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":a=r(e.geometry),o=s(e.material),i=new $n(a,o);break;case"InstancedMesh":a=r(e.geometry),o=s(e.material);const c=e.count,p=e.instanceMatrix;i=new Nw(a,o,c),i.instanceMatrix=new bt(new Float32Array(p.array),16);break;case"LOD":i=new vm;break;case"Line":i=new Ys(r(e.geometry),s(e.material),e.mode);break;case"LineLoop":i=new Pw(r(e.geometry),s(e.material));break;case"LineSegments":i=new fi(r(e.geometry),s(e.material));break;case"PointCloud":case"Points":i=new rd(r(e.geometry),s(e.material));break;case"Sprite":i=new Rw(s(e.material));break;case"Group":i=new Dn;break;default:i=new ct}if(i.uuid=e.uuid,e.name!==void 0&&(i.name=e.name),e.matrix!==void 0?(i.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(e.position!==void 0&&i.position.fromArray(e.position),e.rotation!==void 0&&i.rotation.fromArray(e.rotation),e.quaternion!==void 0&&i.quaternion.fromArray(e.quaternion),e.scale!==void 0&&i.scale.fromArray(e.scale)),e.castShadow!==void 0&&(i.castShadow=e.castShadow),e.receiveShadow!==void 0&&(i.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(i.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(i.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(i.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&i.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(i.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(i.visible=e.visible),e.frustumCulled!==void 0&&(i.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(i.renderOrder=e.renderOrder),e.userData!==void 0&&(i.userData=e.userData),e.layers!==void 0&&(i.layers.mask=e.layers),e.children!==void 0){const c=e.children;for(let p=0;p<c.length;p++)i.add(this.parseObject(c[p],t,n))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(i.autoUpdate=e.autoUpdate);const c=e.levels;for(let p=0;p<c.length;p++){const A=c[p],l=i.getObjectByProperty("uuid",A.object);l!==void 0&&i.addLevel(l,A.distance)}}return i}});const AZ={UVMapping:c_,CubeReflectionMapping:p_,CubeRefractionMapping:A_,EquirectangularReflectionMapping:R8,EquirectangularRefractionMapping:l_,CubeUVReflectionMapping:Vd,CubeUVRefractionMapping:u_},I6={RepeatWrapping:fm,ClampToEdgeWrapping:Yr,MirroredRepeatWrapping:dm},F6={NearestFilter:Vn,NearestMipmapNearestFilter:_w,NearestMipmapLinearFilter:vw,LinearFilter:Ii,LinearMipmapNearestFilter:I8,LinearMipmapLinearFilter:ME};function N6(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),kn.call(this,e),this.options={premultiplyAlpha:"none"}}N6.prototype=Object.assign(Object.create(kn.prototype),{constructor:N6,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=Xl.get(e);if(s!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(s),r.manager.itemEnd(e)},0),s;fetch(e).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,r.options)}).then(function(a){Xl.add(e,a),t&&t(a),r.manager.itemEnd(e)}).catch(function(a){i&&i(a),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}});function aS(){this.type="ShapePath",this.color=new Je,this.subPaths=[],this.currentPath=null}Object.assign(aS.prototype,{moveTo:function(e,t){return this.currentPath=new ka,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,s){return this.currentPath.bezierCurveTo(e,t,n,i,r,s),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(E){const w=[];for(let b=0,_=E.length;b<_;b++){const C=E[b],T=new Fp;T.curves=C.curves,w.push(T)}return w}function i(E,w){const b=w.length;let _=!1;for(let C=b-1,T=0;T<b;C=T++){let x=w[C],O=w[T],M=O.x-x.x,H=O.y-x.y;if(Math.abs(H)>Number.EPSILON){if(H<0&&(x=w[T],M=-M,O=w[C],H=-H),E.y<x.y||E.y>O.y)continue;if(E.y===x.y){if(E.x===x.x)return!0}else{const R=H*(E.x-x.x)-M*(E.y-x.y);if(R===0)return!0;if(R<0)continue;_=!_}}else{if(E.y!==x.y)continue;if(O.x<=E.x&&E.x<=x.x||x.x<=E.x&&E.x<=O.x)return!0}}return _}const r=Uc.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return n(s);let a,o,c,p=[];if(s.length===1)return o=s[0],c=new Fp,c.curves=o.curves,p.push(c),p;let A=!r(s[0].getPoints());A=e?!A:A;const l=[],u=[];let d=[],m=0,y;u[m]=void 0,d[m]=[];for(let E=0,w=s.length;E<w;E++)o=s[E],y=o.getPoints(),a=r(y),a=e?!a:a,a?(!A&&u[m]&&m++,u[m]={s:new Fp,p:y},u[m].s.curves=o.curves,A&&m++,d[m]=[]):d[m].push({h:o,p:y[0]});if(!u[0])return n(s);if(u.length>1){let E=!1;const w=[];for(let b=0,_=u.length;b<_;b++)l[b]=[];for(let b=0,_=u.length;b<_;b++){const C=d[b];for(let T=0;T<C.length;T++){const x=C[T];let O=!0;for(let M=0;M<u.length;M++)i(x.p,u[M].p)&&(b!==M&&w.push({froms:b,tos:M,hole:T}),O?(O=!1,l[M].push(x)):E=!0);O&&l[b].push(x)}}w.length>0&&(E||(d=l))}let g;for(let E=0,w=u.length;E<w;E++){c=u[E].s,p.push(c),g=d[E];for(let b=0,_=g.length;b<_;b++)c.holes.push(g[b].h)}return p}});function oS(e){this.type="Font",this.data=e}Object.assign(oS.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const n=[],i=lZ(e,t,this.data);for(let r=0,s=i.length;r<s;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}});function lZ(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[];let o=0,c=0;for(let p=0;p<i.length;p++){const A=i[p];if(A===`
`)o=0,c-=s;else{const l=uZ(A,r,o,c,n);o+=l.offsetX,a.push(l.path)}}return a}function uZ(e,t,n,i,r){const s=r.glyphs[e]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const a=new aS;let o,c,p,A,l,u,d,m;if(s.o){const y=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let g=0,E=y.length;g<E;)switch(y[g++]){case"m":o=y[g++]*t+n,c=y[g++]*t+i,a.moveTo(o,c);break;case"l":o=y[g++]*t+n,c=y[g++]*t+i,a.lineTo(o,c);break;case"q":p=y[g++]*t+n,A=y[g++]*t+i,l=y[g++]*t+n,u=y[g++]*t+i,a.quadraticCurveTo(l,u,p,A);break;case"b":p=y[g++]*t+n,A=y[g++]*t+i,l=y[g++]*t+n,u=y[g++]*t+i,d=y[g++]*t+n,m=y[g++]*t+i,a.bezierCurveTo(l,u,d,m,p,A);break}}return{offsetX:s.ha*t,path:a}}function P6(e){kn.call(this,e)}P6.prototype=Object.assign(Object.create(kn.prototype),{constructor:P6,load:function(e,t,n,i){const r=this,s=new Wa(this.manager);s.setPath(this.path),s.load(e,function(a){let o;try{o=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),o=JSON.parse(a.substring(65,a.length-2))}const c=r.parse(o);t&&t(c)},n,i)},parse:function(e){return new oS(e)}});let Qh;const cS={getContext:function(){return Qh===void 0&&(Qh=new(window.AudioContext||window.webkitAudioContext)),Qh},setContext:function(e){Qh=e}};function a4(e){kn.call(this,e)}a4.prototype=Object.assign(Object.create(kn.prototype),{constructor:a4,load:function(e,t,n,i){const r=this,s=new Wa(r.manager);s.setResponseType("arraybuffer"),s.setPath(r.path),s.load(e,function(a){try{const o=a.slice(0);cS.getContext().decodeAudioData(o,function(p){t(p)})}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}});function U6(e,t,n){ga.call(this,void 0,n);const i=new Je().set(e),r=new Je().set(t),s=new F(i.r,i.g,i.b),a=new F(r.r,r.g,r.b),o=Math.sqrt(Math.PI),c=o*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(c)}U6.prototype=Object.assign(Object.create(ga.prototype),{constructor:U6,isHemisphereLightProbe:!0,copy:function(e){return ga.prototype.copy.call(this,e),this},toJSON:function(e){return ga.prototype.toJSON.call(this,e)}});function H6(e,t){ga.call(this,void 0,t);const n=new Je().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}H6.prototype=Object.assign(Object.create(ga.prototype),{constructor:H6,isAmbientLightProbe:!0,copy:function(e){return ga.prototype.copy.call(this,e),this},toJSON:function(e){return ga.prototype.toJSON.call(this,e)}});const D6=new Xe,G6=new Xe;function pS(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Li,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Li,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(pS.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(nn.DEG2RAD*t.fov*.5)/t.zoom;let o,c;G6.elements[12]=-r,D6.elements[12]=r,o=-a*t.aspect+s,c=a*t.aspect+s,i.elements[0]=2*t.near/(c-o),i.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(i),o=-a*t.aspect-s,c=a*t.aspect-s,i.elements[0]=2*t.near/(c-o),i.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(G6),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(D6)}});function AS(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(AS.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const hp=new F,Q6=new zn,fZ=new F,mp=new F;function k6(){ct.call(this),this.type="AudioListener",this.context=cS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new AS}k6.prototype=Object.assign(Object.create(ct.prototype),{constructor:k6,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){ct.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hp,Q6,fZ),mp.set(0,0,-1).applyQuaternion(Q6),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(hp.x,i),t.positionY.linearRampToValueAtTime(hp.y,i),t.positionZ.linearRampToValueAtTime(hp.z,i),t.forwardX.linearRampToValueAtTime(mp.x,i),t.forwardY.linearRampToValueAtTime(mp.y,i),t.forwardZ.linearRampToValueAtTime(mp.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(hp.x,hp.y,hp.z),t.setOrientation(mp.x,mp.y,mp.z,n.x,n.y,n.z)}});function vd(e){ct.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}vd.prototype=Object.assign(Object.create(ct.prototype),{constructor:vd,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const Ep=new F,V6=new zn,dZ=new F,yp=new F;function K6(e){vd.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}K6.prototype=Object.assign(Object.create(vd.prototype),{constructor:K6,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(ct.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ep,V6,dZ),yp.set(0,0,1).applyQuaternion(V6);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ep.x,n),t.positionY.linearRampToValueAtTime(Ep.y,n),t.positionZ.linearRampToValueAtTime(Ep.z,n),t.orientationX.linearRampToValueAtTime(yp.x,n),t.orientationY.linearRampToValueAtTime(yp.y,n),t.orientationZ.linearRampToValueAtTime(yp.z,n)}else t.setPosition(Ep.x,Ep.y,Ep.z),t.setOrientation(yp.x,yp.y,yp.z)}});function lS(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(lS.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}});function uS(e,t,n){this.binding=e,this.valueSize=n;let i,r,s;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(uS.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)n[r+a]=n[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(n,r,0,a,i)}this.cumulativeWeight=s},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const o=t*this._origIndex;this._mixBufferRegion(n,i,o,1-r,t)}s>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let o=t,c=t+t;o!==c;++o)if(n[o]!==n[o+t]){a.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,s=i;r!==s;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*4+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let s=0;s!==r;++s)e[t+s]=e[n+s]},_slerp:function(e,t,n,i){zn.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const s=this._workIndex*r;zn.multiplyQuaternionsFlat(e,s,e,t,e,n),zn.slerpFlat(e,t,e,t,e,s,i)},_lerp:function(e,t,n,i,r){const s=1-i;for(let a=0;a!==r;++a){const o=t+a;e[o]=e[o]*s+e[n+a]*i}},_lerpAdditive:function(e,t,n,i,r){for(let s=0;s!==r;++s){const a=t+s;e[a]=e[a]+e[n+s]*i}}});const g_="\\[\\]\\.:\\/",hZ=new RegExp("["+g_+"]","g"),w_="[^"+g_+"]",mZ="[^"+g_.replace("\\.","")+"]",EZ=/((?:WC+[\/:])*)/.source.replace("WC",w_),yZ=/(WCOD+)?/.source.replace("WCOD",mZ),gZ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",w_),wZ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",w_),_Z=new RegExp("^"+EZ+yZ+gZ+wZ+"$"),vZ=["material","materials","bones"];function fS(e,t,n){const i=n||Rr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(fS.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function Rr(e,t,n){this.path=t,this.parsedPath=n||Rr.parseTrackName(t),this.node=Rr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(Rr,{Composite:fS,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Rr.Composite(e,t,n):new Rr(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(hZ,"")},parseTrackName:function(e){const t=_Z.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);vZ.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let s=0;s<r.length;s++){const a=r[s];if(a.name===t||a.uuid===t)return a;const o=n(a.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}});Object.assign(Rr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)t[n++]=i[r]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=Rr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===c){c=p;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else s.fromArray!==void 0&&s.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(Rr.prototype,{_getValue_unbound:Rr.prototype.getValue,_setValue_unbound:Rr.prototype.setValue});function CZ(){this.uuid=nn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(CZ.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,s=r.length;let a,o=e.length,c=this.nCachedObjects_;for(let p=0,A=arguments.length;p!==A;++p){const l=arguments[p],u=l.uuid;let d=t[u];if(d===void 0){d=o++,t[u]=d,e.push(l);for(let m=0,y=s;m!==y;++m)r[m].push(new Rr(l,n[m],i[m]))}else if(d<c){a=e[d];const m=--c,y=e[m];t[y.uuid]=d,e[d]=y,t[u]=m,e[m]=l;for(let g=0,E=s;g!==E;++g){const w=r[g],b=w[m];let _=w[d];w[d]=b,_===void 0&&(_=new Rr(l,n[g],i[g])),w[m]=_}}else e[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const o=arguments[s],c=o.uuid,p=t[c];if(p!==void 0&&p>=r){const A=r++,l=e[A];t[l.uuid]=p,e[p]=l,t[c]=A,e[A]=o;for(let u=0,d=i;u!==d;++u){const m=n[u],y=m[A],g=m[p];m[p]=y,m[A]=g}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,s=e.length;for(let a=0,o=arguments.length;a!==o;++a){const c=arguments[a],p=c.uuid,A=t[p];if(A!==void 0)if(delete t[p],A<r){const l=--r,u=e[l],d=--s,m=e[d];t[u.uuid]=A,e[A]=u,t[m.uuid]=l,e[l]=m,e.pop();for(let y=0,g=i;y!==g;++y){const E=n[y],w=E[l],b=E[d];E[A]=w,E[l]=b,E.pop()}}else{const l=--s,u=e[l];t[u.uuid]=A,e[A]=u,e.pop();for(let d=0,m=i;d!==m;++d){const y=n[d];y[A]=y[l],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){let n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(i!==void 0)return r[i];const s=this._paths,a=this._parsedPaths,o=this._objects,c=o.length,p=this.nCachedObjects_,A=new Array(c);i=r.length,n[e]=i,s.push(e),a.push(t),r.push(A);for(let l=p,u=o.length;l!==u;++l){const d=o[l];A[l]=new Rr(d,e,t)}return A},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a],c=e[a];t[c]=n,s[n]=o,s.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}});function dS(e,t,n,i){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=i||t.blendMode;const r=t.tracks,s=r.length,a=new Array(s),o={endingStart:Ll,endingEnd:Ll};for(let c=0;c!==s;++c){const p=r[c].createInterpolant(null);a[c]=p,p.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=hW,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(dS.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,r=e._clip.duration,s=r/i,a=i/r;e.warp(1,s,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){const i=this._mixer,r=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=r,o[1]=r+n,c[0]=e/s,c[1]=t/s,this},stopWarping:function(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const o=(e-r)*n;if(o<0||n===0)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const o=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case F8:for(let p=0,A=o.length;p!==A;++p)o[p].evaluate(s),c[p].accumulateAdditive(a);break;case f_:default:for(let p=0,A=o.length;p!==A;++p)o[p].evaluate(s),c[p].accumulate(i,a)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const s=n===mW;if(e===0)return r===-1?i:s&&(r&1)===1?t-i:i;if(n===dW){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,r+=Math.abs(a);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(r&1)===1)return t-i}return i},_setEndings:function(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Al,i.endingEnd=Al):(e?i.endingStart=this.zeroSlopeAtStart?Al:Ll:i.endingStart=ym,t?i.endingEnd=this.zeroSlopeAtEnd?Al:Ll:i.endingEnd=ym)},_scheduleFading:function(e,t,n){const i=this._mixer,r=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=r,o[0]=t,a[1]=r+e,o[1]=n,this}});function z6(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}z6.prototype=Object.assign(Object.create(Wo.prototype),{constructor:z6,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,s=e._propertyBindings,a=e._interpolants,o=n.uuid,c=this._bindingsByRootAndName;let p=c[o];p===void 0&&(p={},c[o]=p);for(let A=0;A!==r;++A){const l=i[A],u=l.name;let d=p[u];if(d!==void 0)s[A]=d;else{if(d=s[A],d!==void 0){d._cacheIndex===null&&(++d.referenceCount,this._addInactiveBinding(d,o,u));continue}const m=t&&t._propertyBindings[A].binding.parsedPath;d=new uS(Rr.create(n,u,m),l.ValueTypeName,l.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,o,u),s[A]=d}a[A].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let s=r[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,s=this._actionsByClip,a=s[r],o=a.knownActions,c=o[o.length-1],p=e._byClipCacheIndex;c._byClipCacheIndex=p,o[p]=c,o.pop(),e._byClipCacheIndex=null;const A=a.actionByRoot,l=(e._localRoot||this._root).uuid;delete A[l],o.length===0&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,s=this._bindingsByRootAndName,a=s[i],o=t[t.length-1],c=e._cacheIndex;o._cacheIndex=c,t[c]=o,t.pop(),delete a[r],Object.keys(a).length===0&&delete s[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Qm(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let s=typeof e=="string"?Ea.findByName(i,e):e;const a=s!==null?s.uuid:e;let o=this._actionsByClip[a],c=null;if(n===void 0&&(s!==null?n=s.blendMode:n=f_),o!==void 0){const A=o.actionByRoot[r];if(A!==void 0&&A.blendMode===n)return A;c=o.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const p=new dS(this,s,t,n);return this._bindAction(p,c),this._addInactiveAction(p,a,r),p},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?Ea.findByName(n,e):e,s=r?r.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(i,e,r,s);const a=this._bindings,o=this._nActiveBindings;for(let c=0;c!==o;++c)a[c].apply(s);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const s=r.knownActions;for(let a=0,o=s.length;a!==o;++a){const c=s[a];this._deactivateAction(c);const p=c._cacheIndex,A=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,A._cacheIndex=p,t[p]=A,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const a=n[s].actionByRoot,o=a[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const s in r){const a=r[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function Cd(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}Cd.prototype.clone=function(){return new Cd(this.value.clone===void 0?this.value:this.value.clone())};function Y6(e,t,n){Vs.call(this,e,t),this.meshPerAttribute=n||1}Y6.prototype=Object.assign(Object.create(Vs.prototype),{constructor:Y6,isInstancedInterleavedBuffer:!0,copy:function(e){return Vs.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Vs.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Vs.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function hS(e,t,n,i){this.ray=new ru(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new m_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function W6(e,t){return e.distance-t.distance}function o4(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const r=e.children;for(let s=0,a=r.length;s<a;s++)o4(r[s],t,n,!0)}}Object.assign(hS.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const i=n||[];return o4(e,this,i,t),i.sort(W6),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,s=e.length;r<s;r++)o4(e[r],this,i,t);return i.sort(W6),i}});function bZ(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(bZ.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(nn.clamp(t/this.radius,-1,1))),this}});function xZ(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(xZ.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});const $6=new Ke;function mS(e,t){this.min=e!==void 0?e:new Ke(1/0,1/0),this.max=t!==void 0?t:new Ke(-1/0,-1/0)}Object.assign(mS.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=$6.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Ke),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Ke),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Ke),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Ke),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return $6.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const j6=new F,kh=new F;function ES(e,t){this.start=e!==void 0?e:new F,this.end=t!==void 0?t:new F}Object.assign(ES.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new F),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new F),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new F),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){j6.subVectors(e,this.start),kh.subVectors(this.end,this.start);const n=kh.dot(kh);let r=kh.dot(j6)/n;return t&&(r=nn.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){const i=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new F),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function Ym(e){ct.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Ym.prototype=Object.create(ct.prototype);Ym.prototype.constructor=Ym;Ym.prototype.isImmediateRenderObject=!0;const X6=new F;function bd(e,t){ct.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new pt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,o=32;s<o;s++,a++){const c=s/o*Math.PI*2,p=a/o*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new lt(i,3));const r=new Bi({fog:!1,toneMapped:!1});this.cone=new fi(n,r),this.add(this.cone),this.update()}bd.prototype=Object.create(ct.prototype);bd.prototype.constructor=bd;bd.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};bd.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),X6.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(X6),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const mc=new F,Vh=new Xe,pg=new Xe;function yS(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,yS(e.children[n]));return t}function ql(e){const t=yS(e),n=new pt,i=[],r=[],s=new Je(0,0,1),a=new Je(0,1,0);for(let c=0;c<t.length;c++){const p=t[c];p.parent&&p.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(s.r,s.g,s.b),r.push(a.r,a.g,a.b))}n.setAttribute("position",new lt(i,3)),n.setAttribute("color",new lt(r,3));const o=new Bi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});fi.call(this,n,o),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}ql.prototype=Object.create(fi.prototype);ql.prototype.constructor=ql;ql.prototype.isSkeletonHelper=!0;ql.prototype.updateMatrixWorld=function(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");pg.getInverse(this.root.matrixWorld);for(let r=0,s=0;r<t.length;r++){const a=t[r];a.parent&&a.parent.isBone&&(Vh.multiplyMatrices(pg,a.matrixWorld),mc.setFromMatrixPosition(Vh),i.setXYZ(s,mc.x,mc.y,mc.z),Vh.multiplyMatrices(pg,a.parent.matrixWorld),mc.setFromMatrixPosition(Vh),i.setXYZ(s+1,mc.x,mc.y,mc.z),s+=2)}n.getAttribute("position").needsUpdate=!0,ct.prototype.updateMatrixWorld.call(this,e)};function xd(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;const i=new Dl(t,4,2),r=new _a({wireframe:!0,fog:!1,toneMapped:!1});$n.call(this,i,r),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}xd.prototype=Object.create($n.prototype);xd.prototype.constructor=xd;xd.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};xd.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const TZ=new F,q6=new Je,Z6=new Je;function Td(e,t,n){ct.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Wp(t);i.rotateY(Math.PI*.5),this.material=new _a({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),s=new Float32Array(r.count*3);i.setAttribute("color",new bt(s,3)),this.add(new $n(i,this.material)),this.update()}Td.prototype=Object.create(ct.prototype);Td.prototype.constructor=Td;Td.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};Td.prototype.update=function(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");q6.copy(this.light.color),Z6.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const r=n<i/2?q6:Z6;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(TZ.setFromMatrixPosition(this.light.matrixWorld).negate())};function c4(e,t,n,i){e=e||10,t=t||10,n=new Je(n!==void 0?n:4473924),i=new Je(i!==void 0?i:8947848);const r=t/2,s=e/t,a=e/2,o=[],c=[];for(let l=0,u=0,d=-a;l<=t;l++,d+=s){o.push(-a,0,d,a,0,d),o.push(d,0,-a,d,0,a);const m=l===r?n:i;m.toArray(c,u),u+=3,m.toArray(c,u),u+=3,m.toArray(c,u),u+=3,m.toArray(c,u),u+=3}const p=new pt;p.setAttribute("position",new lt(o,3)),p.setAttribute("color",new lt(c,3));const A=new Bi({vertexColors:!0,toneMapped:!1});fi.call(this,p,A),this.type="GridHelper"}c4.prototype=Object.assign(Object.create(fi.prototype),{constructor:c4,copy:function(e){return fi.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function p4(e,t,n,i,r,s){e=e||10,t=t||16,n=n||8,i=i||64,r=new Je(r!==void 0?r:4473924),s=new Je(s!==void 0?s:8947848);const a=[],o=[];for(let A=0;A<=t;A++){const l=A/t*(Math.PI*2),u=Math.sin(l)*e,d=Math.cos(l)*e;a.push(0,0,0),a.push(u,0,d);const m=A&1?r:s;o.push(m.r,m.g,m.b),o.push(m.r,m.g,m.b)}for(let A=0;A<=n;A++){const l=A&1?r:s,u=e-e/n*A;for(let d=0;d<i;d++){let m=d/i*(Math.PI*2),y=Math.sin(m)*u,g=Math.cos(m)*u;a.push(y,0,g),o.push(l.r,l.g,l.b),m=(d+1)/i*(Math.PI*2),y=Math.sin(m)*u,g=Math.cos(m)*u,a.push(y,0,g),o.push(l.r,l.g,l.b)}}const c=new pt;c.setAttribute("position",new lt(a,3)),c.setAttribute("color",new lt(o,3));const p=new Bi({vertexColors:!0,toneMapped:!1});fi.call(this,c,p),this.type="PolarGridHelper"}p4.prototype=Object.create(fi.prototype);p4.prototype.constructor=p4;const J6=new F,Kh=new F,ex=new F;function Bd(e,t,n){ct.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let i=new pt;i.setAttribute("position",new lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Bi({fog:!1,toneMapped:!1});this.lightPlane=new Ys(i,r),this.add(this.lightPlane),i=new pt,i.setAttribute("position",new lt([0,0,0,0,0,1],3)),this.targetLine=new Ys(i,r),this.add(this.targetLine),this.update()}Bd.prototype=Object.create(ct.prototype);Bd.prototype.constructor=Bd;Bd.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};Bd.prototype.update=function(){J6.setFromMatrixPosition(this.light.matrixWorld),Kh.setFromMatrixPosition(this.light.target.matrixWorld),ex.subVectors(Kh,J6),this.lightPlane.lookAt(Kh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Kh),this.targetLine.scale.z=ex.length()};const zh=new F,mi=new Uo;function Wm(e){const t=new pt,n=new Bi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],s={},a=new Je(16755200),o=new Je(16711680),c=new Je(43775),p=new Je(16777215),A=new Je(3355443);l("n1","n2",a),l("n2","n4",a),l("n4","n3",a),l("n3","n1",a),l("f1","f2",a),l("f2","f4",a),l("f4","f3",a),l("f3","f1",a),l("n1","f1",a),l("n2","f2",a),l("n3","f3",a),l("n4","f4",a),l("p","n1",o),l("p","n2",o),l("p","n3",o),l("p","n4",o),l("u1","u2",c),l("u2","u3",c),l("u3","u1",c),l("c","t",p),l("p","c",A),l("cn1","cn2",A),l("cn3","cn4",A),l("cf1","cf2",A),l("cf3","cf4",A);function l(d,m,y){u(d,y),u(m,y)}function u(d,m){i.push(0,0,0),r.push(m.r,m.g,m.b),s[d]===void 0&&(s[d]=[]),s[d].push(i.length/3-1)}t.setAttribute("position",new lt(i,3)),t.setAttribute("color",new lt(r,3)),fi.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}Wm.prototype=Object.create(fi.prototype);Wm.prototype.constructor=Wm;Wm.prototype.update=function(){const e=this.geometry,t=this.pointMap,n=1,i=1;mi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),vi("c",t,e,mi,0,0,-1),vi("t",t,e,mi,0,0,1),vi("n1",t,e,mi,-n,-i,-1),vi("n2",t,e,mi,n,-i,-1),vi("n3",t,e,mi,-n,i,-1),vi("n4",t,e,mi,n,i,-1),vi("f1",t,e,mi,-n,-i,1),vi("f2",t,e,mi,n,-i,1),vi("f3",t,e,mi,-n,i,1),vi("f4",t,e,mi,n,i,1),vi("u1",t,e,mi,n*.7,i*1.1,-1),vi("u2",t,e,mi,-n*.7,i*1.1,-1),vi("u3",t,e,mi,0,i*2,-1),vi("cf1",t,e,mi,-n,0,1),vi("cf2",t,e,mi,n,0,1),vi("cf3",t,e,mi,0,-i,1),vi("cf4",t,e,mi,0,i,1),vi("cn1",t,e,mi,-n,0,-1),vi("cn2",t,e,mi,n,0,-1),vi("cn3",t,e,mi,0,-i,-1),vi("cn4",t,e,mi,0,i,-1),e.getAttribute("position").needsUpdate=!0};function vi(e,t,n,i,r,s,a){zh.set(r,s,a).unproject(i);const o=t[e];if(o!==void 0){const c=n.getAttribute("position");for(let p=0,A=o.length;p<A;p++)c.setXYZ(o[p],zh.x,zh.y,zh.z)}}const Yh=new Yn;function Xp(e,t){this.object=e,t===void 0&&(t=16776960);const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),r=new pt;r.setIndex(new bt(n,1)),r.setAttribute("position",new bt(i,3)),fi.call(this,r,new Bi({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}Xp.prototype=Object.create(fi.prototype);Xp.prototype.constructor=Xp;Xp.prototype.update=function(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Yh.setFromObject(this.object),Yh.isEmpty())return;const t=Yh.min,n=Yh.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()};Xp.prototype.setFromObject=function(e){return this.object=e,this.update(),this};Xp.prototype.copy=function(e){return fi.prototype.copy.call(this,e),this.object=e.object,this};Xp.prototype.clone=function(){return new this.constructor().copy(this)};function $m(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new pt;r.setIndex(new bt(n,1)),r.setAttribute("position",new lt(i,3)),fi.call(this,r,new Bi({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}$m.prototype=Object.create(fi.prototype);$m.prototype.constructor=$m;$m.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ct.prototype.updateMatrixWorld.call(this,e))};function jm(e,t,n){this.plane=e,this.size=t===void 0?1:t;const i=n!==void 0?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new pt;s.setAttribute("position",new lt(r,3)),s.computeBoundingSphere(),Ys.call(this,s,new Bi({color:i,toneMapped:!1})),this.type="PlaneHelper";const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],o=new pt;o.setAttribute("position",new lt(a,3)),o.computeBoundingSphere(),this.add(new $n(o,new _a({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}jm.prototype=Object.create(Ys.prototype);jm.prototype.constructor=jm;jm.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Hi:nu,this.lookAt(this.plane.normal),ct.prototype.updateMatrixWorld.call(this,e)};const tx=new F;let Wh,Ag;function $c(e,t,n,i,r,s){ct.call(this),this.type="ArrowHelper",e===void 0&&(e=new F(0,0,1)),t===void 0&&(t=new F(0,0,0)),n===void 0&&(n=1),i===void 0&&(i=16776960),r===void 0&&(r=.2*n),s===void 0&&(s=.2*r),Wh===void 0&&(Wh=new pt,Wh.setAttribute("position",new lt([0,0,0,0,1,0],3)),Ag=new Go(0,.5,1,5,1),Ag.translate(0,-.5,0)),this.position.copy(t),this.line=new Ys(Wh,new Bi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $n(Ag,new _a({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,s)}$c.prototype=Object.create(ct.prototype);$c.prototype.constructor=$c;$c.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{tx.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(tx,t)}};$c.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};$c.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)};$c.prototype.copy=function(e){return ct.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};$c.prototype.clone=function(){return new this.constructor().copy(this)};function A4(e){e=e||1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new pt;i.setAttribute("position",new lt(t,3)),i.setAttribute("color",new lt(n,3));const r=new Bi({vertexColors:!0,toneMapped:!1});fi.call(this,i,r),this.type="AxesHelper"}A4.prototype=Object.create(fi.prototype);A4.prototype.constructor=A4;const Cl=4,Hc=8,Da=Math.pow(2,Hc),gS=[.125,.215,.35,.446,.526,.582],wS=Hc-Cl+1+gS.length,ZA=20,Va={[yr]:0,[Kd]:1,[h_]:2,[N8]:3,[P8]:4,[U8]:5,[d_]:6},lg=new Wc,{_lodPlanes:Ku,_sizeLods:nx,_sigmas:$h}=MZ();let ug=null;const _p=(1+Math.sqrt(5))/2,GA=1/_p,ix=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,_p,GA),new F(0,_p,-GA),new F(GA,0,_p),new F(-GA,0,_p),new F(_p,GA,0),new F(-_p,GA,0)];function rx(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=SZ(ZA),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}rx.prototype={constructor:rx,fromScene:function(e,t=0,n=.1,i=100){ug=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=ox(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=ax(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Ku.length;e++)Ku[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(ug),e.scissorTest=!1,jh(e,0,0,e.width,e.height)},_fromTexture:function(e){ug=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:Vn,minFilter:Vn,generateMipmaps:!1,type:Gp,format:LY,encoding:BZ(e)?e.encoding:h_,depthBuffer:!1,stencilBuffer:!1},n=sx(t);return n.depthBuffer=!e,this._pingPongRenderTarget=sx(t),n},_compileMaterial:function(e){const t=new $n(Ku[0],e);this._renderer.compile(t,lg)},_sceneToCubeUV:function(e,t,n,i){const a=new Li(90,1,t,n),o=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],p=this._renderer,A=p.outputEncoding,l=p.toneMapping,u=p.getClearColor(),d=p.getClearAlpha();p.toneMapping=_l,p.outputEncoding=yr;let m=e.background;if(m&&m.isColor){m.convertSRGBToLinear();const y=Math.max(m.r,m.g,m.b),g=Math.min(Math.max(Math.ceil(Math.log2(y)),-128),127);m=m.multiplyScalar(Math.pow(2,-g));const E=(g+128)/255;p.setClearColor(m,E),e.background=null}for(let y=0;y<6;y++){const g=y%3;g==0?(a.up.set(0,o[y],0),a.lookAt(c[y],0,0)):g==1?(a.up.set(0,0,o[y]),a.lookAt(0,c[y],0)):(a.up.set(0,o[y],0),a.lookAt(0,0,c[y])),jh(i,g*Da,y>2?Da:0,Da,Da),p.setRenderTarget(i),p.render(e,a)}p.toneMapping=l,p.outputEncoding=A,p.setClearColor(u,d)},_textureToCubeUV:function(e,t){const n=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=ox()):this._equirectShader==null&&(this._equirectShader=ax());const i=e.isCubeTexture?this._cubemapShader:this._equirectShader,r=new $n(Ku[0],i),s=i.uniforms;s.envMap.value=e,e.isCubeTexture||s.texelSize.value.set(1/e.image.width,1/e.image.height),s.inputEncoding.value=Va[e.encoding],s.outputEncoding.value=Va[t.texture.encoding],jh(t,0,0,3*Da,2*Da),n.setRenderTarget(t),n.render(r,lg)},_applyPMREM:function(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<wS;i++){const r=Math.sqrt($h[i]*$h[i]-$h[i-1]*$h[i-1]),s=ix[(i-1)%ix.length];this._blur(e,i-1,i,r,s)}t.autoClear=n},_blur:function(e,t,n,i,r){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,i,"latitudinal",r),this._halfBlur(s,e,n,n,i,"longitudinal",r)},_halfBlur:function(e,t,n,i,r,s,a){const o=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,A=new $n(Ku[i],c),l=c.uniforms,u=nx[n]-1,d=isFinite(r)?Math.PI/(2*u):2*Math.PI/(2*ZA-1),m=r/d,y=isFinite(r)?1+Math.floor(p*m):ZA;y>ZA&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${ZA}`);const g=[];let E=0;for(let C=0;C<ZA;++C){const T=C/m,x=Math.exp(-T*T/2);g.push(x),C==0?E+=x:C<y&&(E+=2*x)}for(let C=0;C<g.length;C++)g[C]=g[C]/E;l.envMap.value=e.texture,l.samples.value=y,l.weights.value=g,l.latitudinal.value=s==="latitudinal",a&&(l.poleAxis.value=a),l.dTheta.value=d,l.mipInt.value=Hc-n,l.inputEncoding.value=Va[e.texture.encoding],l.outputEncoding.value=Va[e.texture.encoding];const w=nx[i],b=3*Math.max(0,Da-2*w),_=(i===0?0:2*Da)+2*w*(i>Hc-Cl?i-Hc+Cl:0);jh(t,b,_,3*w,2*w),o.setRenderTarget(t),o.render(A,lg)}};function BZ(e){return e===void 0||e.type!==Gp?!1:e.encoding===yr||e.encoding===Kd||e.encoding===d_}function MZ(){const e=[],t=[],n=[];let i=Hc;for(let r=0;r<wS;r++){const s=Math.pow(2,i);t.push(s);let a=1/s;r>Hc-Cl?a=gS[r-Hc+Cl-1]:r==0&&(a=0),n.push(a);const o=1/(s-1),c=-o/2,p=1+o/2,A=[c,c,p,c,p,p,c,c,p,p,c,p],l=6,u=6,d=3,m=2,y=1,g=new Float32Array(d*u*l),E=new Float32Array(m*u*l),w=new Float32Array(y*u*l);for(let _=0;_<l;_++){const C=_%3*2/3-1,T=_>2?0:-1,x=[C,T,0,C+2/3,T,0,C+2/3,T+1,0,C,T,0,C+2/3,T+1,0,C,T+1,0];g.set(x,d*u*_),E.set(A,m*u*_);const O=[_,_,_,_,_,_];w.set(O,y*u*_)}const b=new pt;b.setAttribute("position",new bt(g,d)),b.setAttribute("uv",new bt(E,m)),b.setAttribute("faceIndex",new bt(w,y)),e.push(b),i>Cl&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function sx(e){const t=new Lr(3*Da,3*Da,e);return t.texture.mapping=Vd,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function jh(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function SZ(e){const t=new Float32Array(e),n=new F(0,1,0);return new Yc({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Va[yr]},outputEncoding:{value:Va[yr]}},vertexShader:__(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${v_()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Fo,depthTest:!1,depthWrite:!1})}function ax(){const e=new Ke(1,1);return new Yc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Va[yr]},outputEncoding:{value:Va[yr]}},vertexShader:__(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${v_()}

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Fo,depthTest:!1,depthWrite:!1})}function ox(){return new Yc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Va[yr]},outputEncoding:{value:Va[yr]}},vertexShader:__(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${v_()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Fo,depthTest:!1,depthWrite:!1})}function __(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function v_(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}Ot.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ot.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Rc.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new Ht;for(let n=0,i=e.length;n<i;n++){const r=e[n];t.vertices.push(new F(r.x,r.y,r.z||0))}return t}});Object.assign(ka.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(ds.prototype);Object.create(ds.prototype);function _S(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ds.call(this,e),this.type="catmullrom"}_S.prototype=Object.create(ds.prototype);Object.assign(_S.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});c4.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};ql.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(kn.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),sS.extractUrlBase(e)}});kn.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(s4.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(mS.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Yn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign($o.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});Yd.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};ES.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(nn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),nn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),nn.ceilPowerOfTwo(e)}});Object.assign(rr.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(Xe.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new F().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,s)}});Qa.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};zn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(ru.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(nr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(nr,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),nr.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),nr.getNormal(e,t,n,i)}});Object.assign(Fp.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Hl(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Gl(this,e)}});Object.assign(Ke.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(F.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Qn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ht.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(ct.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(ct.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign($n.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties($n.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),EW},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(vm.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Fw.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Iw.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Ot.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Li.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(ii.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(bt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Xf},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Xf)}}});Object.assign(bt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Xf:SE),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(pt.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new bt(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(pt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(zm.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(hS.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(Vs.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Xf},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(Vs.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Xf:SE),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Do.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Cd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Yt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Je}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===S8}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(jp.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Qi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(Wd.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(Wd.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?Kd:yr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(X8.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Lr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(vd.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new a4().load(e,function(i){t.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});lS.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Jf.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Qp.crossOrigin=void 0;Qp.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Ww;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s};Qp.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Yw;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,n,void 0,i);return t&&(s.mapping=t),s};Qp.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Qp.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yz}}));var l4={exports:{}};(function(e,t){/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,i,r,s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,x,O,M,H,R,D,P,I,L,k,K,W,ee,le,J,re,te,ge,me,ie,fe,pe,Ee,q,Z,ae,Ae,we,xe,Le,V,j,ve,he,oe,ue,Oe,Pe,Te,Ne,Se,ze,Ge,Ue,nt,vt,gt,Et,Mt,Lt,Bt,at,Wt,wt,rt,Vt,Ze,it,yt,ne,Ie,Me=[].slice;Ze=function(){var B,N,U,z,Y;for(B={},Y="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),z=0,N=Y.length;z<N;z++)U=Y[z],B["[object "+U+"]"]=U.toLowerCase();return function(se){var ce;return ce=Object.prototype.toString.call(se),B[ce]||"object"}}(),ae=function(B,N,U){return N==null&&(N=0),U==null&&(U=1),B<N&&(B=N),B>U&&(B=U),B},it=function(B){return B.length>=3?Array.prototype.slice.call(B):B[0]},T=function(B){var N,U;for(B._clipped=!1,B._unclipped=B.slice(0),N=U=0;U<3;N=++U)N<3?((B[N]<0||B[N]>255)&&(B._clipped=!0),B[N]<0&&(B[N]=0),B[N]>255&&(B[N]=255)):N===3&&(B[N]<0&&(B[N]=0),B[N]>1&&(B[N]=1));return B._clipped||delete B._unclipped,B},s=Math.PI,at=Math.round,O=Math.cos,P=Math.floor,oe=Math.pow,Ae=Math.log,wt=Math.sin,rt=Math.sqrt,y=Math.atan2,Le=Math.max,m=Math.abs,c=s*2,a=s/3,i=s/180,o=180/s,C=function(){return arguments[0]instanceof n?arguments[0]:function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,arguments,function(){})},C.default=C,d=[],e!==null&&e.exports!=null&&(e.exports=C),Bt=t!==null?t:this,Bt.chroma=C,C.version="1.4.1",u={},A=[],l=!1,n=function(){function B(){var N,U,z,Y,se,ce,ye,Fe,Re;for(ce=this,U=[],Fe=0,Y=arguments.length;Fe<Y;Fe++)N=arguments[Fe],N!=null&&U.push(N);if(U.length>1&&(ye=U[U.length-1]),u[ye]!=null)ce._rgb=T(u[ye](it(U.slice(0,-1))));else{for(l||(A=A.sort(function(ke,tt){return tt.p-ke.p}),l=!0),Re=0,se=A.length;Re<se&&(z=A[Re],ye=z.test.apply(z,U),!ye);Re++);ye&&(ce._rgb=T(u[ye].apply(u,U)))}ce._rgb==null&&console.warn("unknown format: "+U),ce._rgb==null&&(ce._rgb=[0,0,0]),ce._rgb.length===3&&ce._rgb.push(1)}return B.prototype.toString=function(){return this.hex()},B}(),C._input=u;/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */C.brewer=b={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var B,N;N=[];for(B in b)N.push(b[B.toLowerCase()]=b[B]);return N}(),yt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},C.colors=yt,fe=function(){var B,N,U,z,Y,se,ce,ye,Fe;return N=it(arguments),Y=N[0],B=N[1],U=N[2],ye=(Y+16)/116,ce=isNaN(B)?ye:ye+B/500,Fe=isNaN(U)?ye:ye-U/200,ye=r.Yn*pe(ye),ce=r.Xn*pe(ce),Fe=r.Zn*pe(Fe),se=Ie(3.2404542*ce-1.5371385*ye-.4985314*Fe),z=Ie(-.969266*ce+1.8760108*ye+.041556*Fe),U=Ie(.0556434*ce-.2040259*ye+1.0572252*Fe),[se,z,U,N.length>3?N[3]:1]},Ie=function(B){return 255*(B<=.00304?12.92*B:1.055*oe(B,1/2.4)-.055)},pe=function(B){return B>r.t1?B*B*B:r.t2*(B-r.t0)},r={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ge=function(){var B,N,U,z,Y,se,ce,ye;return z=it(arguments),U=z[0],N=z[1],B=z[2],Y=Et(U,N,B),se=Y[0],ce=Y[1],ye=Y[2],[116*ce-16,500*(se-ce),200*(ce-ye)]},Mt=function(B){return(B/=255)<=.04045?B/12.92:oe((B+.055)/1.055,2.4)},ne=function(B){return B>r.t3?oe(B,1/3):B/r.t2+r.t0},Et=function(){var B,N,U,z,Y,se,ce;return z=it(arguments),U=z[0],N=z[1],B=z[2],U=Mt(U),N=Mt(N),B=Mt(B),Y=ne((.4124564*U+.3575761*N+.1804375*B)/r.Xn),se=ne((.2126729*U+.7151522*N+.072175*B)/r.Yn),ce=ne((.0193339*U+.119192*N+.9503041*B)/r.Zn),[Y,se,ce]},C.lab=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["lab"]),function(){})},u.lab=fe,n.prototype.lab=function(){return Ge(this._rgb)},g=function(B){var N,U,z,Y,se,ce,ye,Fe,Re,ke,tt;return B=function(){var Ye,We,et;for(et=[],We=0,Ye=B.length;We<Ye;We++)Y=B[We],et.push(C(Y));return et}(),B.length===2?(Re=function(){var Ye,We,et;for(et=[],We=0,Ye=B.length;We<Ye;We++)Y=B[We],et.push(Y.lab());return et}(),se=Re[0],ce=Re[1],N=function(Ye){var We,et;return et=function(){var dt,_t;for(_t=[],We=dt=0;dt<=2;We=++dt)_t.push(se[We]+Ye*(ce[We]-se[We]));return _t}(),C.lab.apply(C,et)}):B.length===3?(ke=function(){var Ye,We,et;for(et=[],We=0,Ye=B.length;We<Ye;We++)Y=B[We],et.push(Y.lab());return et}(),se=ke[0],ce=ke[1],ye=ke[2],N=function(Ye){var We,et;return et=function(){var dt,_t;for(_t=[],We=dt=0;dt<=2;We=++dt)_t.push((1-Ye)*(1-Ye)*se[We]+2*(1-Ye)*Ye*ce[We]+Ye*Ye*ye[We]);return _t}(),C.lab.apply(C,et)}):B.length===4?(tt=function(){var Ye,We,et;for(et=[],We=0,Ye=B.length;We<Ye;We++)Y=B[We],et.push(Y.lab());return et}(),se=tt[0],ce=tt[1],ye=tt[2],Fe=tt[3],N=function(Ye){var We,et;return et=function(){var dt,_t;for(_t=[],We=dt=0;dt<=2;We=++dt)_t.push((1-Ye)*(1-Ye)*(1-Ye)*se[We]+3*(1-Ye)*(1-Ye)*Ye*ce[We]+3*(1-Ye)*Ye*Ye*ye[We]+Ye*Ye*Ye*Fe[We]);return _t}(),C.lab.apply(C,et)}):B.length===5&&(U=g(B.slice(0,3)),z=g(B.slice(2,5)),N=function(Ye){return Ye<.5?U(Ye*2):z((Ye-.5)*2)}),N},C.bezier=function(B){var N;return N=g(B),N.scale=function(){return C.scale(N)},N},C.cubehelix=function(B,N,U,z,Y){var se,ce,ye;return B==null&&(B=300),N==null&&(N=-1.5),U==null&&(U=1),z==null&&(z=1),Y==null&&(Y=[0,1]),se=0,Ze(Y)==="array"?ce=Y[1]-Y[0]:(ce=0,Y=[Y,Y]),ye=function(Fe){var Re,ke,tt,Ye,We,et,dt,_t,ht;return Re=c*((B+120)/360+N*Fe),dt=oe(Y[0]+ce*Fe,z),et=se!==0?U[0]+Fe*se:U,ke=et*dt*(1-dt)/2,Ye=O(Re),ht=wt(Re),_t=dt+ke*(-.14861*Ye+1.78277*ht),We=dt+ke*(-.29227*Ye-.90649*ht),tt=dt+ke*(1.97294*Ye),C(T([_t*255,We*255,tt*255,1]))},ye.start=function(Fe){return Fe==null?B:(B=Fe,ye)},ye.rotations=function(Fe){return Fe==null?N:(N=Fe,ye)},ye.gamma=function(Fe){return Fe==null?z:(z=Fe,ye)},ye.hue=function(Fe){return Fe==null?U:(U=Fe,Ze(U)==="array"?(se=U[1]-U[0],se===0&&(U=U[1])):se=0,ye)},ye.lightness=function(Fe){return Fe==null?Y:(Ze(Fe)==="array"?(Y=Fe,ce=Fe[1]-Fe[0]):(Y=[Fe,Fe],ce=0),ye)},ye.scale=function(){return C.scale(ye)},ye.hue(U),ye},C.random=function(){var B,N,U;for(N="0123456789abcdef",B="#",U=0;U<6;++U)B+=N.charAt(P(Math.random()*16));return new n(B)},d=[],le=function(B,N,U,z){var Y,se,ce,ye;for(U==null&&(U=.5),z==null&&(z="rgb"),Ze(B)!=="object"&&(B=C(B)),Ze(N)!=="object"&&(N=C(N)),ce=0,se=d.length;ce<se;ce++)if(Y=d[ce],z===Y[0]){ye=Y[1](B,N,U,z);break}if(ye==null)throw"color mode "+z+" is not supported";return ye.alpha(B.alpha()+U*(N.alpha()-B.alpha()))},C.interpolate=le,n.prototype.interpolate=function(B,N,U){return le(this,B,N,U)},C.mix=le,n.prototype.mix=n.prototype.interpolate,u.rgb=function(){var B,N,U,z;N=it(arguments),U=[];for(B in N)z=N[B],U.push(z);return U},C.rgb=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["rgb"]),function(){})},n.prototype.rgb=function(B){return B==null&&(B=!0),B?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(B){return B==null&&(B=!0),B?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},A.push({p:3,test:function(B){var N;if(N=it(arguments),Ze(N)==="array"&&N.length===3||N.length===4&&Ze(N[3])==="number"&&N[3]>=0&&N[3]<=1)return"rgb"}}),u.lrgb=u.rgb,te=function(B,N,U,z){var Y,se;return Y=B._rgb,se=N._rgb,new n(rt(oe(Y[0],2)*(1-U)+oe(se[0],2)*U),rt(oe(Y[1],2)*(1-U)+oe(se[1],2)*U),rt(oe(Y[2],2)*(1-U)+oe(se[2],2)*U),z)},p=function(B){var N,U,z,Y,se,ce;for(U=1/B.length,ce=[0,0,0,0],Y=0,z=B.length;Y<z;Y++)N=B[Y],se=N._rgb,ce[0]+=oe(se[0],2)*U,ce[1]+=oe(se[1],2)*U,ce[2]+=oe(se[2],2)*U,ce[3]+=se[3]*U;return ce[0]=rt(ce[0]),ce[1]=rt(ce[1]),ce[2]=rt(ce[2]),ce[3]>1&&(ce[3]=1),new n(T(ce))},d.push(["lrgb",te]),C.average=function(B,N){var U,z,Y,se,ce,ye,Fe,Re,ke,tt,Ye,We,et;if(N==null&&(N="rgb"),ke=B.length,B=B.map(function(dt){return C(dt)}),Fe=B.splice(0,1)[0],N==="lrgb")return p(B);We=Fe.get(N),se=[],ce=0,ye=0;for(Re in We)We[Re]=We[Re]||0,se.push(isNaN(We[Re])?0:1),N.charAt(Re)==="h"&&!isNaN(We[Re])&&(U=We[Re]/180*s,ce+=O(U),ye+=wt(U));for(z=Fe.alpha(),Ye=0,tt=B.length;Ye<tt;Ye++){Y=B[Ye],et=Y.get(N),z+=Y.alpha();for(Re in We)isNaN(et[Re])||(se[Re]+=1,N.charAt(Re)==="h"?(U=et[Re]/180*s,ce+=O(U),ye+=wt(U)):We[Re]+=et[Re])}for(Re in We)if(N.charAt(Re)==="h"){for(U=y(ye/se[Re],ce/se[Re])/s*180;U<0;)U+=360;for(;U>=360;)U-=360;We[Re]=U}else We[Re]=We[Re]/se[Re];return C(We,N).alpha(z/ke)},L=function(B){var N,U,z,Y,se,ce;if(B.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(B.length===4||B.length===7)&&(B=B.substr(1)),B.length===3&&(B=B.split(""),B=B[0]+B[0]+B[1]+B[1]+B[2]+B[2]),ce=parseInt(B,16),Y=ce>>16,z=ce>>8&255,U=ce&255,[Y,z,U,1];if(B.match(/^#?([A-Fa-f0-9]{8})$/))return B.length===9&&(B=B.substr(1)),ce=parseInt(B,16),Y=ce>>24&255,z=ce>>16&255,U=ce>>8&255,N=at((ce&255)/255*100)/100,[Y,z,U,N];if(u.css!=null&&(se=u.css(B)))return se;throw"unknown color: "+B},Te=function(B,N){var U,z,Y,se,ce,ye,Fe;return N==null&&(N="auto"),ce=B[0],Y=B[1],z=B[2],U=B[3],N==="auto"&&(N=U<1?"rgba":"rgb"),ce=Math.round(ce),Y=Math.round(Y),z=Math.round(z),Fe=ce<<16|Y<<8|z,ye="000000"+Fe.toString(16),ye=ye.substr(ye.length-6),se="0"+at(U*255).toString(16),se=se.substr(se.length-2),"#"+function(){switch(N.toLowerCase()){case"rgba":return ye+se;case"argb":return se+ye;default:return ye}}()},u.hex=function(B){return L(B)},C.hex=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["hex"]),function(){})},n.prototype.hex=function(B){return B==null&&(B="auto"),Te(this._rgb,B)},A.push({p:4,test:function(B){if(arguments.length===1&&Ze(B)==="string")return"hex"}}),W=function(){var B,N,U,z,Y,se,ce,ye,Fe,Re,ke,tt,Ye,We;if(B=it(arguments),Y=B[0],ke=B[1],ce=B[2],ke===0)Fe=z=N=ce*255;else{for(We=[0,0,0],U=[0,0,0],Ye=ce<.5?ce*(1+ke):ce+ke-ce*ke,tt=2*ce-Ye,Y/=360,We[0]=Y+1/3,We[1]=Y,We[2]=Y-1/3,se=ye=0;ye<=2;se=++ye)We[se]<0&&(We[se]+=1),We[se]>1&&(We[se]-=1),6*We[se]<1?U[se]=tt+(Ye-tt)*6*We[se]:2*We[se]<1?U[se]=Ye:3*We[se]<2?U[se]=tt+(Ye-tt)*(2/3-We[se])*6:U[se]=tt;Re=[at(U[0]*255),at(U[1]*255),at(U[2]*255)],Fe=Re[0],z=Re[1],N=Re[2]}return B.length>3?[Fe,z,N,B[3]]:[Fe,z,N]},Se=function(B,N,U){var z,Y,se,ce,ye;return B!==void 0&&B.length>=3&&(ce=B,B=ce[0],N=ce[1],U=ce[2]),B/=255,N/=255,U/=255,se=Math.min(B,N,U),Le=Math.max(B,N,U),Y=(Le+se)/2,Le===se?(ye=0,z=Number.NaN):ye=Y<.5?(Le-se)/(Le+se):(Le-se)/(2-Le-se),B===Le?z=(N-U)/(Le-se):N===Le?z=2+(U-B)/(Le-se):U===Le&&(z=4+(B-N)/(Le-se)),z*=60,z<0&&(z+=360),[z,ye,Y]},C.hsl=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["hsl"]),function(){})},u.hsl=W,n.prototype.hsl=function(){return Se(this._rgb)},ee=function(){var B,N,U,z,Y,se,ce,ye,Fe,Re,ke,tt,Ye,We,et,dt,_t,ht;if(B=it(arguments),Y=B[0],dt=B[1],ht=B[2],ht*=255,dt===0)Fe=z=N=ht;else switch(Y===360&&(Y=0),Y>360&&(Y-=360),Y<0&&(Y+=360),Y/=60,se=P(Y),U=Y-se,ce=ht*(1-dt),ye=ht*(1-dt*U),_t=ht*(1-dt*(1-U)),se){case 0:Re=[ht,_t,ce],Fe=Re[0],z=Re[1],N=Re[2];break;case 1:ke=[ye,ht,ce],Fe=ke[0],z=ke[1],N=ke[2];break;case 2:tt=[ce,ht,_t],Fe=tt[0],z=tt[1],N=tt[2];break;case 3:Ye=[ce,ye,ht],Fe=Ye[0],z=Ye[1],N=Ye[2];break;case 4:We=[_t,ce,ht],Fe=We[0],z=We[1],N=We[2];break;case 5:et=[ht,ce,ye],Fe=et[0],z=et[1],N=et[2]}return[Fe,z,N,B.length>3?B[3]:1]},ze=function(){var B,N,U,z,Y,se,ce,ye,Fe;return ce=it(arguments),se=ce[0],U=ce[1],B=ce[2],Y=Math.min(se,U,B),Le=Math.max(se,U,B),N=Le-Y,Fe=Le/255,Le===0?(z=Number.NaN,ye=0):(ye=N/Le,se===Le&&(z=(U-B)/N),U===Le&&(z=2+(B-se)/N),B===Le&&(z=4+(se-U)/N),z*=60,z<0&&(z+=360)),[z,ye,Fe]},C.hsv=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["hsv"]),function(){})},u.hsv=ee,n.prototype.hsv=function(){return ze(this._rgb)},ve=function(B){var N,U,z;return Ze(B)==="number"&&B>=0&&B<=16777215?(z=B>>16,U=B>>8&255,N=B&255,[z,U,N,1]):(console.warn("unknown num color: "+B),[0,0,0,1])},vt=function(){var B,N,U,z;return z=it(arguments),U=z[0],N=z[1],B=z[2],(U<<16)+(N<<8)+B},C.num=function(B){return new n(B,"num")},n.prototype.num=function(B){return B==null&&(B="rgb"),vt(this._rgb,B)},u.num=ve,A.push({p:1,test:function(B){if(arguments.length===1&&Ze(B)==="number"&&B>=0&&B<=16777215)return"num"}}),I=function(){var B,N,U,z,Y,se,ce,ye,Fe,Re,ke,tt,Ye,We,et,dt,_t,ht,Ln,An;if(U=it(arguments),ye=U[0],Y=U[1],N=U[2],Y=Y/100,ce=ce/100*255,B=Y*255,Y===0)tt=ce=z=N;else switch(ye===360&&(ye=0),ye>360&&(ye-=360),ye<0&&(ye+=360),ye/=60,Fe=P(ye),se=ye-Fe,Re=N*(1-Y),ke=Re+B*(1-se),Ln=Re+B*se,An=Re+B,Fe){case 0:Ye=[An,Ln,Re],tt=Ye[0],ce=Ye[1],z=Ye[2];break;case 1:We=[ke,An,Re],tt=We[0],ce=We[1],z=We[2];break;case 2:et=[Re,An,Ln],tt=et[0],ce=et[1],z=et[2];break;case 3:dt=[Re,ke,An],tt=dt[0],ce=dt[1],z=dt[2];break;case 4:_t=[Ln,Re,An],tt=_t[0],ce=_t[1],z=_t[2];break;case 5:ht=[An,Re,ke],tt=ht[0],ce=ht[1],z=ht[2]}return[tt,ce,z,U.length>3?U[3]:1]},Pe=function(){var B,N,U,z,Y,se,ce,ye,Fe;return Fe=it(arguments),ye=Fe[0],Y=Fe[1],N=Fe[2],ce=Math.min(ye,Y,N),Le=Math.max(ye,Y,N),z=Le-ce,U=z*100/255,B=ce/(255-z)*100,z===0?se=Number.NaN:(ye===Le&&(se=(Y-N)/z),Y===Le&&(se=2+(N-ye)/z),N===Le&&(se=4+(ye-Y)/z),se*=60,se<0&&(se+=360)),[se,U,B]},C.hcg=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["hcg"]),function(){})},u.hcg=I,n.prototype.hcg=function(){return Pe(this._rgb)},M=function(B){var N,U,z,Y,se,ce,ye,Fe;if(B=B.toLowerCase(),C.colors!=null&&C.colors[B])return L(C.colors[B]);if(se=B.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(ye=se.slice(1,4),Y=ce=0;ce<=2;Y=++ce)ye[Y]=+ye[Y];ye[3]=1}else if(se=B.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(ye=se.slice(1,5),Y=Fe=0;Fe<=3;Y=++Fe)ye[Y]=+ye[Y];else if(se=B.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(ye=se.slice(1,4),Y=N=0;N<=2;Y=++N)ye[Y]=at(ye[Y]*2.55);ye[3]=1}else if(se=B.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(ye=se.slice(1,5),Y=U=0;U<=2;Y=++U)ye[Y]=at(ye[Y]*2.55);ye[3]=+ye[3]}else(se=B.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(z=se.slice(1,4),z[1]*=.01,z[2]*=.01,ye=W(z),ye[3]=1):(se=B.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(z=se.slice(1,4),z[1]*=.01,z[2]*=.01,ye=W(z),ye[3]=+se[4]);return ye},Oe=function(B){var N;if(N=B[3]<1?"rgba":"rgb",N==="rgb")return N+"("+B.slice(0,3).map(at).join(",")+")";if(N==="rgba")return N+"("+B.slice(0,3).map(at).join(",")+","+B[3]+")"},Lt=function(B){return at(B*100)/100},K=function(B,N){var U;return U=N<1?"hsla":"hsl",B[0]=Lt(B[0]||0),B[1]=Lt(B[1]*100)+"%",B[2]=Lt(B[2]*100)+"%",U==="hsla"&&(B[3]=N),U+"("+B.join(",")+")"},u.css=function(B){return M(B)},C.css=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["css"]),function(){})},n.prototype.css=function(B){if(B==null&&(B="rgb"),B.slice(0,3)==="rgb")return Oe(this._rgb);if(B.slice(0,3)==="hsl")return K(this.hsl(),this.alpha())},u.named=function(B){return L(yt[B])},A.push({p:5,test:function(B){if(arguments.length===1&&yt[B]!=null)return"named"}}),n.prototype.name=function(B){var N,U;arguments.length&&(yt[B]&&(this._rgb=L(yt[B])),this._rgb[3]=1),N=this.hex("rgb");for(U in yt)if(N===yt[U])return U;return N},Ee=function(){var B,N,U,z;return z=it(arguments),U=z[0],B=z[1],N=z[2],N=N*i,[U,O(N)*B,wt(N)*B]},q=function(){var B,N,U,z,Y,se,ce,ye,Fe,Re,ke;return U=it(arguments),ye=U[0],Y=U[1],ce=U[2],Re=Ee(ye,Y,ce),B=Re[0],N=Re[1],z=Re[2],ke=fe(B,N,z),Fe=ke[0],se=ke[1],z=ke[2],[Fe,se,z,U.length>3?U[3]:1]},ie=function(){var B,N,U,z,Y,se;return se=it(arguments),Y=se[0],B=se[1],N=se[2],U=rt(B*B+N*N),z=(y(N,B)*o+360)%360,at(U*1e4)===0&&(z=Number.NaN),[Y,U,z]},Ue=function(){var B,N,U,z,Y,se,ce;return se=it(arguments),Y=se[0],U=se[1],N=se[2],ce=Ge(Y,U,N),z=ce[0],B=ce[1],N=ce[2],ie(z,B,N)},C.lch=function(){var B;return B=it(arguments),new n(B,"lch")},C.hcl=function(){var B;return B=it(arguments),new n(B,"hcl")},u.lch=q,u.hcl=function(){var B,N,U,z;return z=it(arguments),N=z[0],B=z[1],U=z[2],q([U,B,N])},n.prototype.lch=function(){return Ue(this._rgb)},n.prototype.hcl=function(){return Ue(this._rgb).reverse()},ue=function(B){var N,U,z,Y,se,ce,ye,Fe,Re;return B==null&&(B="rgb"),Fe=it(arguments),ye=Fe[0],Y=Fe[1],N=Fe[2],ye=ye/255,Y=Y/255,N=N/255,se=1-Math.max(ye,Math.max(Y,N)),z=se<1?1/(1-se):0,U=(1-ye-se)*z,ce=(1-Y-se)*z,Re=(1-N-se)*z,[U,ce,Re,se]},x=function(){var B,N,U,z,Y,se,ce,ye,Fe;return N=it(arguments),z=N[0],ce=N[1],Fe=N[2],se=N[3],B=N.length>4?N[4]:1,se===1?[0,0,0,B]:(ye=z>=1?0:255*(1-z)*(1-se),Y=ce>=1?0:255*(1-ce)*(1-se),U=Fe>=1?0:255*(1-Fe)*(1-se),[ye,Y,U,B])},u.cmyk=function(){return x(it(arguments))},C.cmyk=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["cmyk"]),function(){})},n.prototype.cmyk=function(){return ue(this._rgb)},u.gl=function(){var B,N,U,z,Y;for(z=function(){var se,ce;se=it(arguments),ce=[];for(N in se)Y=se[N],ce.push(Y);return ce}.apply(this,arguments),B=U=0;U<=2;B=++U)z[B]*=255;return z},C.gl=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["gl"]),function(){})},n.prototype.gl=function(){var B;return B=this._rgb,[B[0]/255,B[1]/255,B[2]/255,B[3]]},nt=function(B,N,U){var z;return z=it(arguments),B=z[0],N=z[1],U=z[2],B=we(B),N=we(N),U=we(U),.2126*B+.7152*N+.0722*U},we=function(B){return B/=255,B<=.03928?B/12.92:oe((B+.055)/1.055,2.4)},me=function(B,N,U,z){var Y,se;return Y=B._rgb,se=N._rgb,new n(Y[0]+U*(se[0]-Y[0]),Y[1]+U*(se[1]-Y[1]),Y[2]+U*(se[2]-Y[2]),z)},d.push(["rgb",me]),n.prototype.luminance=function(B,N){var U,z,Y,se,ce;return N==null&&(N="rgb"),arguments.length?(se=this._rgb,B===0?se=[0,0,0,this._rgb[3]]:B===1?se=[255,255,255,this[3]]:(U=nt(this._rgb),z=1e-7,Y=20,ce=function(ye,Fe){var Re,ke;return ke=ye.interpolate(Fe,.5,N),Re=ke.luminance(),Math.abs(B-Re)<z||!Y--?ke:Re>B?ce(ye,ke):ce(ke,Fe)},U>B?se=ce(C("black"),this).rgba():se=ce(this,C("white")).rgba()),C(se).alpha(this.alpha())):nt(this._rgb)},Vt=function(B){var N,U,z,Y;return Y=B/100,Y<66?(z=255,U=-155.25485562709179-.44596950469579133*(U=Y-2)+104.49216199393888*Ae(U),N=Y<20?0:-254.76935184120902+.8274096064007395*(N=Y-10)+115.67994401066147*Ae(N)):(z=351.97690566805693+.114206453784165*(z=Y-55)-40.25366309332127*Ae(z),U=325.4494125711974+.07943456536662342*(U=Y-50)-28.0852963507957*Ae(U),N=255),[z,U,N]},gt=function(){var B,N,U,z,Y,se,ce,ye;for(se=it(arguments),Y=se[0],se[1],B=se[2],z=1e3,U=4e4,N=.4;U-z>N;)ye=(U+z)*.5,ce=Vt(ye),ce[2]/ce[0]>=B/Y?U=ye:z=ye;return at(ye)},C.temperature=C.kelvin=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["temperature"]),function(){})},u.temperature=u.kelvin=u.K=Vt,n.prototype.temperature=function(){return gt(this._rgb)},n.prototype.kelvin=n.prototype.temperature,C.contrast=function(B,N){var U,z,Y,se;return((Y=Ze(B))==="string"||Y==="number")&&(B=new n(B)),((se=Ze(N))==="string"||se==="number")&&(N=new n(N)),U=B.luminance(),z=N.luminance(),U>z?(U+.05)/(z+.05):(z+.05)/(U+.05)},C.distance=function(B,N,U){var z,Y,se,ce,ye,Fe,Re;U==null&&(U="lab"),((ye=Ze(B))==="string"||ye==="number")&&(B=new n(B)),((Fe=Ze(N))==="string"||Fe==="number")&&(N=new n(N)),se=B.get(U),ce=N.get(U),Re=0;for(Y in se)z=(se[Y]||0)-(ce[Y]||0),Re+=z*z;return Math.sqrt(Re)},C.deltaE=function(B,N,U,z){var Y,se,ce,ye,Fe,Re,ke,tt,Ye,We,et,dt,_t,ht,Ln,An,Mi,wr,Pt,Ve,ut,Kt,rn,St,sn,Zt,bn;for(U==null&&(U=1),z==null&&(z=1),((Mi=Ze(B))==="string"||Mi==="number")&&(B=new n(B)),((wr=Ze(N))==="string"||wr==="number")&&(N=new n(N)),Pt=B.lab(),Y=Pt[0],ce=Pt[1],Fe=Pt[2],Ve=N.lab(),se=Ve[0],ye=Ve[1],Re=Ve[2],ke=rt(ce*ce+Fe*Fe),tt=rt(ye*ye+Re*Re),rn=Y<16?.511:.040975*Y/(1+.01765*Y),ut=.0638*ke/(1+.0131*ke)+.638,An=ke<1e-6?0:y(Fe,ce)*180/s;An<0;)An+=360;for(;An>=360;)An-=360;return St=An>=164&&An<=345?.56+m(.2*O(s*(An+168)/180)):.36+m(.4*O(s*(An+35)/180)),Ye=ke*ke*ke*ke,Ln=rt(Ye/(Ye+1900)),Kt=ut*(Ln*St+1-Ln),ht=Y-se,_t=ke-tt,et=ce-ye,dt=Fe-Re,We=et*et+dt*dt-_t*_t,sn=ht/(U*rn),Zt=_t/(z*ut),bn=Kt,rt(sn*sn+Zt*Zt+We/(bn*bn))},n.prototype.get=function(B){var N,U,z,Y,se,ce;return z=this,se=B.split("."),Y=se[0],N=se[1],ce=z[Y](),N?(U=Y.indexOf(N),U>-1?ce[U]:console.warn("unknown channel "+N+" in mode "+Y)):ce},n.prototype.set=function(B,N){var U,z,Y,se,ce,ye;if(Y=this,ce=B.split("."),se=ce[0],U=ce[1],U)if(ye=Y[se](),z=se.indexOf(U),z>-1)if(Ze(N)==="string")switch(N.charAt(0)){case"+":ye[z]+=+N;break;case"-":ye[z]+=+N;break;case"*":ye[z]*=+N.substr(1);break;case"/":ye[z]/=+N.substr(1);break;default:ye[z]=+N}else ye[z]=N;else console.warn("unknown channel "+U+" in mode "+se);else ye=N;return C(ye,se).alpha(Y.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(B){return arguments.length?C.rgb([this._rgb[0],this._rgb[1],this._rgb[2],B]):this._rgb[3]},n.prototype.darken=function(B){var N,U;return B==null&&(B=1),U=this,N=U.lab(),N[0]-=r.Kn*B,C.lab(N).alpha(U.alpha())},n.prototype.brighten=function(B){return B==null&&(B=1),this.darken(-B)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(B){var N,U;return B==null&&(B=1),U=this,N=U.lch(),N[1]+=B*r.Kn,N[1]<0&&(N[1]=0),C.lch(N).alpha(U.alpha())},n.prototype.desaturate=function(B){return B==null&&(B=1),this.saturate(-B)},n.prototype.premultiply=function(){var B,N;return N=this.rgb(),B=this.alpha(),C(N[0]*B,N[1]*B,N[2]*B,B)},E=function(B,N,U){if(!E[U])throw"unknown blend mode "+U;return E[U](B,N)},w=function(B){return function(N,U){var z,Y;return z=C(U).rgb(),Y=C(N).rgb(),C(B(z,Y),"rgb")}},D=function(B){return function(N,U){var z,Y,se;for(se=[],z=Y=0;Y<=3;z=++Y)se[z]=B(N[z],U[z]);return se}},j=function(B,N){return B},V=function(B,N){return B*N/255},H=function(B,N){return B>N?N:B},Z=function(B,N){return B>N?B:N},Wt=function(B,N){return 255*(1-(1-B/255)*(1-N/255))},he=function(B,N){return N<128?2*B*N/255:255*(1-2*(1-B/255)*(1-N/255))},_=function(B,N){return 255*(1-(1-N/255)/(B/255))},R=function(B,N){return B===255||(B=255*(N/255)/(1-B/255),B>255)?255:B},E.normal=w(D(j)),E.multiply=w(D(V)),E.screen=w(D(Wt)),E.overlay=w(D(he)),E.darken=w(D(H)),E.lighten=w(D(Z)),E.dodge=w(D(R)),E.burn=w(D(_)),C.blend=E,C.analyze=function(B){var N,U,z,Y;for(z={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},U=0,N=B.length;U<N;U++)Y=B[U],Y!=null&&!isNaN(Y)&&(z.values.push(Y),z.sum+=Y,Y<z.min&&(z.min=Y),Y>z.max&&(z.max=Y),z.count+=1);return z.domain=[z.min,z.max],z.limits=function(se,ce){return C.limits(z,se,ce)},z},C.scale=function(B,N){var U,z,Y,se,ce,ye,Fe,Re,ke,tt,Ye,We,et,dt,_t,ht,Ln,An,Mi,wr,Pt;return ke="rgb",tt=C("#ccc"),dt=0,ce=[0,1],et=[],We=[0,0],U=!1,Y=[],Ye=!1,Re=0,Fe=1,se=!1,z={},_t=!0,ye=1,wr=function(Ve){var ut,Kt,rn,St,sn,Zt;if(Ve==null&&(Ve=["#fff","#000"]),Ve!=null&&Ze(Ve)==="string"&&C.brewer!=null&&(Ve=C.brewer[Ve]||C.brewer[Ve.toLowerCase()]||Ve),Ze(Ve)==="array"){for(Ve.length===1&&(Ve=[Ve[0],Ve[0]]),Ve=Ve.slice(0),ut=rn=0,St=Ve.length-1;0<=St?rn<=St:rn>=St;ut=0<=St?++rn:--rn)Kt=Ve[ut],Ze(Kt)==="string"&&(Ve[ut]=C(Kt));for(et.length=0,ut=Zt=0,sn=Ve.length-1;0<=sn?Zt<=sn:Zt>=sn;ut=0<=sn?++Zt:--Zt)et.push(ut/(Ve.length-1))}return Mi(),Y=Ve},Ln=function(Ve){var ut,Kt;if(U!=null){for(Kt=U.length-1,ut=0;ut<Kt&&Ve>=U[ut];)ut++;return ut-1}return 0},Pt=function(Ve){return Ve},An=function(Ve,ut){var Kt,rn,St,sn,Zt,bn,di,$t;if(ut==null&&(ut=!1),isNaN(Ve)||Ve===null)return tt;if(ut?$t=Ve:U&&U.length>2?(Kt=Ln(Ve),$t=Kt/(U.length-2)):Fe!==Re?$t=(Ve-Re)/(Fe-Re):$t=1,ut||($t=Pt($t)),ye!==1&&($t=oe($t,ye)),$t=We[0]+$t*(1-We[0]-We[1]),$t=Math.min(1,Math.max(0,$t)),sn=Math.floor($t*1e4),_t&&z[sn])rn=z[sn];else{if(Ze(Y)==="array")for(St=Zt=0,di=et.length-1;0<=di?Zt<=di:Zt>=di;St=0<=di?++Zt:--Zt){if(bn=et[St],$t<=bn){rn=Y[St];break}if($t>=bn&&St===et.length-1){rn=Y[St];break}if($t>bn&&$t<et[St+1]){$t=($t-bn)/(et[St+1]-bn),rn=C.interpolate(Y[St],Y[St+1],$t,ke);break}}else Ze(Y)==="function"&&(rn=Y($t));_t&&(z[sn]=rn)}return rn},Mi=function(){return z={}},wr(B),ht=function(Ve){var ut;return ut=C(An(Ve)),Ye&&ut[Ye]?ut[Ye]():ut},ht.classes=function(Ve){var ut;return Ve!=null?(Ze(Ve)==="array"?(U=Ve,ce=[Ve[0],Ve[Ve.length-1]]):(ut=C.analyze(ce),Ve===0?U=[ut.min,ut.max]:U=C.limits(ut,"e",Ve)),ht):U},ht.domain=function(Ve){var ut,Kt,rn,St,sn,Zt,bn;if(!arguments.length)return ce;if(Re=Ve[0],Fe=Ve[Ve.length-1],et=[],rn=Y.length,Ve.length===rn&&Re!==Fe)for(sn=0,St=Ve.length;sn<St;sn++)Kt=Ve[sn],et.push((Kt-Re)/(Fe-Re));else for(ut=bn=0,Zt=rn-1;0<=Zt?bn<=Zt:bn>=Zt;ut=0<=Zt?++bn:--bn)et.push(ut/(rn-1));return ce=[Re,Fe],ht},ht.mode=function(Ve){return arguments.length?(ke=Ve,Mi(),ht):ke},ht.range=function(Ve,ut){return wr(Ve,ut),ht},ht.out=function(Ve){return Ye=Ve,ht},ht.spread=function(Ve){return arguments.length?(dt=Ve,ht):dt},ht.correctLightness=function(Ve){return Ve==null&&(Ve=!0),se=Ve,Mi(),se?Pt=function(ut){var Kt,rn,St,sn,Zt,bn,di,$t,Rn;for(Kt=An(0,!0).lab()[0],rn=An(1,!0).lab()[0],di=Kt>rn,St=An(ut,!0).lab()[0],Zt=Kt+(rn-Kt)*ut,sn=St-Zt,$t=0,Rn=1,bn=20;Math.abs(sn)>.01&&bn-- >0;)(function(){return di&&(sn*=-1),sn<0?($t=ut,ut+=(Rn-ut)*.5):(Rn=ut,ut+=($t-ut)*.5),St=An(ut,!0).lab()[0],sn=St-Zt})();return ut}:Pt=function(ut){return ut},ht},ht.padding=function(Ve){return Ve!=null?(Ze(Ve)==="number"&&(Ve=[Ve,Ve]),We=Ve,ht):We},ht.colors=function(Ve,ut){var Kt,rn,St,sn,Zt,bn,di,$t;if(arguments.length<2&&(ut="hex"),Zt=[],arguments.length===0)Zt=Y.slice(0);else if(Ve===1)Zt=[ht(.5)];else if(Ve>1)rn=ce[0],Kt=ce[1]-rn,Zt=function(){bn=[];for(var Rn=0;0<=Ve?Rn<Ve:Rn>Ve;0<=Ve?Rn++:Rn--)bn.push(Rn);return bn}.apply(this).map(function(Rn){return ht(rn+Rn/(Ve-1)*Kt)});else{if(B=[],di=[],U&&U.length>2)for(St=$t=1,sn=U.length;1<=sn?$t<sn:$t>sn;St=1<=sn?++$t:--$t)di.push((U[St-1]+U[St])*.5);else di=ce;Zt=di.map(function(Rn){return ht(Rn)})}return C[ut]&&(Zt=Zt.map(function(Rn){return Rn[ut]()})),Zt},ht.cache=function(Ve){return Ve!=null?(_t=Ve,ht):_t},ht.gamma=function(Ve){return Ve!=null?(ye=Ve,ht):ye},ht.nodata=function(Ve){return Ve!=null?(tt=C(Ve),ht):tt},ht},C.scales==null&&(C.scales={}),C.scales.cool=function(){return C.scale([C.hsl(180,1,.9),C.hsl(250,.7,.4)])},C.scales.hot=function(){return C.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},C.analyze=function(B,N,U){var z,Y,se,ce,ye,Fe,Re;if(ye={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},U==null&&(U=function(){return!0}),z=function(ke){ke!=null&&!isNaN(ke)&&(ye.values.push(ke),ye.sum+=ke,ke<ye.min&&(ye.min=ke),ke>ye.max&&(ye.max=ke),ye.count+=1)},Re=function(ke,tt){if(U(ke,tt))return N!=null&&Ze(N)==="function"?z(N(ke)):N!=null&&Ze(N)==="string"||Ze(N)==="number"?z(ke[N]):z(ke)},Ze(B)==="array")for(ce=0,se=B.length;ce<se;ce++)Fe=B[ce],Re(Fe);else for(Y in B)Fe=B[Y],Re(Fe,Y);return ye.domain=[ye.min,ye.max],ye.limits=function(ke,tt){return C.limits(ye,ke,tt)},ye},C.limits=function(B,N,U){var z,Y,se,ce,ye,Fe,Re,ke,tt,Ye,We,et,dt,_t,ht,Ln,An,Mi,wr,Pt,Ve,ut,Kt,rn,St,sn,Zt,bn,di,$t,Rn,gs,Nr,ws,_s,Xr,_r,qr,ba,js,qo,Xs,io,xa,qs,Pr,vs,Zo,Jo,Zc,Zs,Jc,uu,Zr,ep;if(N==null&&(N="equal"),U==null&&(U=7),Ze(B)==="array"&&(B=C.analyze(B)),St=B.min,Le=B.max,B.sum,Zr=B.values.sort(function(fu,du){return fu-du}),U===1)return[St,Le];if(Kt=[],N.substr(0,1)==="c"&&(Kt.push(St),Kt.push(Le)),N.substr(0,1)==="e"){for(Kt.push(St),Pt=Rn=1,_s=U-1;1<=_s?Rn<=_s:Rn>=_s;Pt=1<=_s?++Rn:--Rn)Kt.push(St+Pt/U*(Le-St));Kt.push(Le)}else if(N.substr(0,1)==="l"){if(St<=0)throw"Logarithmic scales are only possible for values > 0";for(sn=Math.LOG10E*Ae(St),rn=Math.LOG10E*Ae(Le),Kt.push(St),Pt=ep=1,Xr=U-1;1<=Xr?ep<=Xr:ep>=Xr;Pt=1<=Xr?++ep:--ep)Kt.push(oe(10,sn+Pt/U*(rn-sn)));Kt.push(Le)}else if(N.substr(0,1)==="q"){for(Kt.push(St),Pt=z=1,Xs=U-1;1<=Xs?z<=Xs:z>=Xs;Pt=1<=Xs?++z:--z)gs=(Zr.length-1)*Pt/U,Nr=P(gs),Nr===gs?Kt.push(Zr[Nr]):(ws=gs-Nr,Kt.push(Zr[Nr]*(1-ws)+Zr[Nr+1]*ws));Kt.push(Le)}else if(N.substr(0,1)==="k"){for(bn=Zr.length,_t=new Array(bn),Mi=new Array(U),Zc=!0,di=0,Ln=null,Ln=[],Ln.push(St),Pt=Y=1,io=U-1;1<=io?Y<=io:Y>=io;Pt=1<=io?++Y:--Y)Ln.push(St+Pt/U*(Le-St));for(Ln.push(Le);Zc;){for(Ve=se=0,xa=U-1;0<=xa?se<=xa:se>=xa;Ve=0<=xa?++se:--se)Mi[Ve]=0;for(Pt=ce=0,qs=bn-1;0<=qs?ce<=qs:ce>=qs;Pt=0<=qs?++ce:--ce){for(uu=Zr[Pt],Zt=Number.MAX_VALUE,Ve=ye=0,Pr=U-1;0<=Pr?ye<=Pr:ye>=Pr;Ve=0<=Pr?++ye:--ye)wr=m(Ln[Ve]-uu),wr<Zt&&(Zt=wr,ht=Ve);Mi[ht]++,_t[Pt]=ht}for($t=new Array(U),Ve=Fe=0,vs=U-1;0<=vs?Fe<=vs:Fe>=vs;Ve=0<=vs?++Fe:--Fe)$t[Ve]=null;for(Pt=Re=0,Zo=bn-1;0<=Zo?Re<=Zo:Re>=Zo;Pt=0<=Zo?++Re:--Re)An=_t[Pt],$t[An]===null?$t[An]=Zr[Pt]:$t[An]+=Zr[Pt];for(Ve=ke=0,Jo=U-1;0<=Jo?ke<=Jo:ke>=Jo;Ve=0<=Jo?++ke:--ke)$t[Ve]*=1/Mi[Ve];for(Zc=!1,Ve=tt=0,_r=U-1;0<=_r?tt<=_r:tt>=_r;Ve=0<=_r?++tt:--tt)if($t[Ve]!==Ln[Pt]){Zc=!0;break}Ln=$t,di++,di>200&&(Zc=!1)}for(ut={},Ve=Ye=0,qr=U-1;0<=qr?Ye<=qr:Ye>=qr;Ve=0<=qr?++Ye:--Ye)ut[Ve]=[];for(Pt=We=0,ba=bn-1;0<=ba?We<=ba:We>=ba;Pt=0<=ba?++We:--We)An=_t[Pt],ut[An].push(Zr[Pt]);for(Zs=[],Ve=et=0,js=U-1;0<=js?et<=js:et>=js;Ve=0<=js?++et:--et)Zs.push(ut[Ve][0]),Zs.push(ut[Ve][ut[Ve].length-1]);for(Zs=Zs.sort(function(fu,du){return fu-du}),Kt.push(Zs[0]),Pt=dt=1,qo=Zs.length-1;dt<=qo;Pt=dt+=2)Jc=Zs[Pt],!isNaN(Jc)&&Kt.indexOf(Jc)===-1&&Kt.push(Jc)}return Kt},k=function(B,N,U){var z,Y,se,ce;return z=it(arguments),B=z[0],N=z[1],U=z[2],isNaN(B)&&(B=0),B/=360,B<1/3?(Y=(1-N)/3,ce=(1+N*O(c*B)/O(a-c*B))/3,se=1-(Y+ce)):B<2/3?(B-=1/3,ce=(1-N)/3,se=(1+N*O(c*B)/O(a-c*B))/3,Y=1-(ce+se)):(B-=2/3,se=(1-N)/3,Y=(1+N*O(c*B)/O(a-c*B))/3,ce=1-(se+Y)),ce=ae(U*ce*3),se=ae(U*se*3),Y=ae(U*Y*3),[ce*255,se*255,Y*255,z.length>3?z[3]:1]},Ne=function(){var B,N,U,z,Y,se,ce,ye;return ce=it(arguments),se=ce[0],N=ce[1],B=ce[2],c=Math.PI*2,se/=255,N/=255,B/=255,Y=Math.min(se,N,B),z=(se+N+B)/3,ye=1-Y/z,ye===0?U=0:(U=(se-N+(se-B))/2,U/=Math.sqrt((se-N)*(se-N)+(se-B)*(N-B)),U=Math.acos(U),B>N&&(U=c-U),U/=c),[U*360,ye,z]},C.hsi=function(){return function(B,N,U){U.prototype=B.prototype;var z=new U,Y=B.apply(z,N);return Object(Y)===Y?Y:z}(n,Me.call(arguments).concat(["hsi"]),function(){})},u.hsi=k,n.prototype.hsi=function(){return Ne(this._rgb)},J=function(B,N,U,z){var Y,se,ce,ye,Fe,Re,ke,tt,Ye,We,et,dt;return z==="hsl"?(et=B.hsl(),dt=N.hsl()):z==="hsv"?(et=B.hsv(),dt=N.hsv()):z==="hcg"?(et=B.hcg(),dt=N.hcg()):z==="hsi"?(et=B.hsi(),dt=N.hsi()):(z==="lch"||z==="hcl")&&(z="hcl",et=B.hcl(),dt=N.hcl()),z.substr(0,1)==="h"&&(ce=et[0],Ye=et[1],Re=et[2],ye=dt[0],We=dt[1],ke=dt[2]),!isNaN(ce)&&!isNaN(ye)?(ye>ce&&ye-ce>180?Y=ye-(ce+360):ye<ce&&ce-ye>180?Y=ye+360-ce:Y=ye-ce,se=ce+U*Y):isNaN(ce)?isNaN(ye)?se=Number.NaN:(se=ye,(Re===1||Re===0)&&z!=="hsv"&&(tt=We)):(se=ce,(ke===1||ke===0)&&z!=="hsv"&&(tt=Ye)),tt==null&&(tt=Ye+U*(We-Ye)),Fe=Re+U*(ke-Re),C[z](se,tt,Fe)},d=d.concat(function(){var B,N,U,z;for(U=["hsv","hsl","hsi","hcl","lch","hcg"],z=[],N=0,B=U.length;N<B;N++)xe=U[N],z.push([xe,J]);return z}()),ge=function(B,N,U,z){var Y,se;return Y=B.num(),se=N.num(),C.num(Y+(se-Y)*U,"num")},d.push(["num",ge]),re=function(B,N,U,z){var Y,se;return Y=B.lab(),se=N.lab(),new n(Y[0]+U*(se[0]-Y[0]),Y[1]+U*(se[1]-Y[1]),Y[2]+U*(se[2]-Y[2]),z)},d.push(["lab",re])}).call(Cp)})(l4,l4.exports);var kt={exports:{}};(function(e){/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */(function(t){function n(a,o,c,p,A){this._listener=o,this._isOnce=c,this.context=p,this._signal=a,this._priority=A||0}n.prototype={active:!0,params:null,execute:function(a){var o,c;return this.active&&!!this._listener&&(c=this.params?this.params.concat(a):a,o=this._listener.apply(this.context,c),this._isOnce&&this.detach()),o},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function i(a,o){if(typeof a!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",o))}function r(){this._bindings=[],this._prevParams=null;var a=this;this.dispatch=function(){r.prototype.dispatch.apply(a,arguments)}}r.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,o,c,p){var A=this._indexOfListener(a,c),l;if(A!==-1){if(l=this._bindings[A],l.isOnce()!==o)throw new Error("You cannot add"+(o?"":"Once")+"() then add"+(o?"Once":"")+"() the same listener without removing the relationship first.")}else l=new n(this,a,o,c,p),this._addBinding(l);return this.memorize&&this._prevParams&&l.execute(this._prevParams),l},_addBinding:function(a){var o=this._bindings.length;do--o;while(this._bindings[o]&&a._priority<=this._bindings[o]._priority);this._bindings.splice(o+1,0,a)},_indexOfListener:function(a,o){for(var c=this._bindings.length,p;c--;)if(p=this._bindings[c],p._listener===a&&p.context===o)return c;return-1},has:function(a,o){return this._indexOfListener(a,o)!==-1},add:function(a,o,c){return i(a,"add"),this._registerListener(a,!1,o,c)},addOnce:function(a,o,c){return i(a,"addOnce"),this._registerListener(a,!0,o,c)},remove:function(a,o){i(a,"remove");var c=this._indexOfListener(a,o);return c!==-1&&(this._bindings[c]._destroy(),this._bindings.splice(c,1)),a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(!!this.active){var o=Array.prototype.slice.call(arguments),c=this._bindings.length,p;if(this.memorize&&(this._prevParams=o),!!c){p=this._bindings.slice(),this._shouldPropagate=!0;do c--;while(p[c]&&this._shouldPropagate&&p[c].execute(o)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=r;s.Signal=r,e.exports?e.exports=s:t.signals=s})(Cp)})(kt);var Sr={};(function(e){(function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(o){return r(a(o),arguments)}function i(o,c){return n.apply(null,[o].concat(c||[]))}function r(o,c){var p=1,A=o.length,l,u="",d,m,y,g,E,w,b,_;for(d=0;d<A;d++)if(typeof o[d]=="string")u+=o[d];else if(typeof o[d]=="object"){if(y=o[d],y.keys)for(l=c[p],m=0;m<y.keys.length;m++){if(l==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[m],y.keys[m-1]));l=l[y.keys[m]]}else y.param_no?l=c[y.param_no]:l=c[p++];if(t.not_type.test(y.type)&&t.not_primitive.test(y.type)&&l instanceof Function&&(l=l()),t.numeric_arg.test(y.type)&&typeof l!="number"&&isNaN(l))throw new TypeError(n("[sprintf] expecting number but found %T",l));switch(t.number.test(y.type)&&(b=l>=0),y.type){case"b":l=parseInt(l,10).toString(2);break;case"c":l=String.fromCharCode(parseInt(l,10));break;case"d":case"i":l=parseInt(l,10);break;case"j":l=JSON.stringify(l,null,y.width?parseInt(y.width):0);break;case"e":l=y.precision?parseFloat(l).toExponential(y.precision):parseFloat(l).toExponential();break;case"f":l=y.precision?parseFloat(l).toFixed(y.precision):parseFloat(l);break;case"g":l=y.precision?String(Number(l.toPrecision(y.precision))):parseFloat(l);break;case"o":l=(parseInt(l,10)>>>0).toString(8);break;case"s":l=String(l),l=y.precision?l.substring(0,y.precision):l;break;case"t":l=String(!!l),l=y.precision?l.substring(0,y.precision):l;break;case"T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase(),l=y.precision?l.substring(0,y.precision):l;break;case"u":l=parseInt(l,10)>>>0;break;case"v":l=l.valueOf(),l=y.precision?l.substring(0,y.precision):l;break;case"x":l=(parseInt(l,10)>>>0).toString(16);break;case"X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase();break}t.json.test(y.type)?u+=l:(t.number.test(y.type)&&(!b||y.sign)?(_=b?"+":"-",l=l.toString().replace(t.sign,"")):_="",E=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",w=y.width-(_+l).length,g=y.width&&w>0?E.repeat(w):"",u+=y.align?_+l+g:E==="0"?_+g+l:g+_+l)}return u}var s=Object.create(null);function a(o){if(s[o])return s[o];for(var c=o,p,A=[],l=0;c;){if((p=t.text.exec(c))!==null)A.push(p[0]);else if((p=t.modulo.exec(c))!==null)A.push("%");else if((p=t.placeholder.exec(c))!==null){if(p[2]){l|=1;var u=[],d=p[2],m=[];if((m=t.key.exec(d))!==null)for(u.push(m[1]);(d=d.substring(m[0].length))!=="";)if((m=t.key_access.exec(d))!==null)u.push(m[1]);else if((m=t.index_access.exec(d))!==null)u.push(m[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");p[2]=u}else l|=2;if(l===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");A.push({placeholder:p[0],param_no:p[1],keys:p[2],sign:p[3],pad_char:p[4],align:p[5],width:p[6],precision:p[7],type:p[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");c=c.substring(p[0].length)}return s[o]=A}e.sprintf=n,e.vsprintf=i,typeof window<"u"&&(window.sprintf=n,window.vsprintf=i)})()})(Sr);var cx,fg,px,Ax,lx;function OZ(e){if(typeof window<"u"){var t=new RegExp(e+"=([^&#=]*)").exec(window.location.search);return t?decodeURIComponent(t[1]):void 0}}function G(e,t){return e!==void 0?e:t}function Es(e,t){var n=Object.assign({},e);for(var i in t)e[i]===void 0&&(n[i]=t[i]);return n}function vS(e,t){for(var n in t){var i=t[n];i!==void 0&&(e[n]=i)}return e}function C_(){var e=window.location.protocol;return e.match(/http(s)?:/gi)===null?"http:":e}function CS(){if(typeof window>"u")return!1;var e=window.navigator.userAgent;return/Opera|OPR/.test(e)?"Opera":/Chrome/i.test(e)?"Chrome":/Firefox/i.test(e)?"Firefox":/Mobile(\/.*)? Safari/i.test(e)?"Mobile Safari":/MSIE/i.test(e)?"Internet Explorer":!!/Safari/i.test(e)&&"Safari"}function ux(e){window.open(e,"_blank")||(window.location.href=e)}function bS(e,t){if(t===void 0&&(t="download"),e){var n=CS()==="Safari",i=/CriOS\/[\d]+/.test(window.navigator.userAgent),r=document.createElement("a");if(typeof navigator<"u"&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(e,t);else if((n||i)&&FileReader)if(e instanceof Blob){var s=new FileReader;s.onloadend=function(){o(s.result)},s.readAsDataURL(e)}else o(e);else{var a=!1;e instanceof Blob&&(e=URL.createObjectURL(e),a=!0),"download"in r?(r.style.display="hidden",document.body.appendChild(r),r.href=e,r.download=t,r.target="_blank",r.click(),document.body.removeChild(r)):ux(e),a&&window.URL.revokeObjectURL(e)}}function o(c){ux(i?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"))}}function LZ(e,t){return e<t?-1:e>t?1:0}function vp(e,t,n){n===void 0&&(n=LZ);for(var i=0,r=e.length-1;i<=r;){var s=i+r>>1,a=n(t,e[s]);if(a>0)i=s+1;else{if(!(a<0))return s;r=s-1}}return-i-1}function b_(e,t,n){var i=function(s,a){var o=s.length-1;if(s[o]<a)return-1;for(var c=0;c<=o;){var p=c+o>>1;s[p]>=a?o=p-1:c=p+1}return o+1}(e,t),r=function(s,a){if(s[0]>a)return-1;for(var o=0,c=s.length-1;o<=c;){var p=o+c>>1;s[p]>a?c=p-1:o=p+1}return o-1}(e,n);return i===-1||r===-1||i>r?0:r-i+1}function x_(e){return e.sort().filter(function(t,n,i){return n===0||t!==i[n-1]})}function Xm(e){var t=28672;if(e.length>t){for(var n=[],i=0;i<e.length;i+=t)n.push(String.fromCharCode.apply(null,e.subarray(i,i+t)));return n.join("")}return String.fromCharCode.apply(null,e)}function xS(e,t){switch(e){case"int8":return new Int8Array(t);case"int16":return new Int16Array(t);case"int32":return new Int32Array(t);case"uint8":return new Uint8Array(t);case"uint16":return new Uint16Array(t);case"uint32":return new Uint32Array(t);case"float32":return new Float32Array(t);default:throw new Error("arrayType unknown: "+e)}}function Za(e,t){return new(t>65535?Uint32Array:Uint16Array)(e)}function au(e){return e.buffer&&e.buffer instanceof ArrayBuffer?e.buffer:e}function LE(e,t){return e===void 0?e=new t:Array.isArray(e)&&(e=new t().fromArray(e)),e}function Np(e){return LE(e,F)}function yf(e){return LE(e,Xe)}function u4(e){return LE(e,zn)}function dg(e){return t=e,n=Float32Array,t instanceof n?t:new n(t);var t,n}function fx(e){return G(e,"").toString().toLowerCase()}typeof window<"u"&&function(){window.console=window.console||{};for(var e,t,n=window.console,i={},r=function(){},s="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=s.pop();)n[e]||(n[e]=i);for(;t=a.pop();)n[t]||(n[t]=r)}(),typeof window>"u"||window.HTMLCanvasElement===void 0||window.HTMLCanvasElement.prototype.toBlob||Object.defineProperty(window.HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=window.atob(this.toDataURL(t,n).split(",")[1]),r=i.length,s=r>>2,a=new Uint8Array(r),o=new Uint32Array(a.buffer,0,s),c=0,p=0;c<s;c++)o[c]=i.charCodeAt(p++)|i.charCodeAt(p++)<<8|i.charCodeAt(p++)<<16|i.charCodeAt(p++)<<24;for(var A=3&r;A--;)a[p]=i.charCodeAt(p++);e(new window.Blob([a],{type:t||"image/png"}))}}),Math.cbrt=Math.cbrt||function(e){var t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t},Math.sign||(Math.sign=function(e){return(e=+e)==0||isNaN(e)?Number(e):e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}),Number.isNaN||(Number.isNaN=function(e){return e!=e}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=arguments;if(e==null)throw new TypeError("Cannot convert first argument to object");for(var n,i=Object(e),r=!1,s=1;s<arguments.length;s++){var a=t[s];if(a!=null){for(var o=Object.keys(Object(a)),c=0,p=o.length;c<p;c++){var A=o[c];try{var l=Object.getOwnPropertyDescriptor(a,A);l!==void 0&&l.enumerable&&(i[A]=a[A])}catch(u){r||(r=!0,n=u)}}if(r)throw n}}return i}}),String.prototype.startsWith||function(){var e=function(){var i;try{var r={},s=Object.defineProperty;i=s(r,r,r)&&s}catch{}return i}(),t={}.toString,n=function(i){if(this===null)throw TypeError();var r=String(this);if(i&&t.call(i)==="[object RegExp]")throw TypeError();var s=r.length,a=String(i),o=a.length,c=arguments.length>1?arguments[1]:void 0,p=c?Number(c):0;Number.isNaN(p)&&(p=0);var A=Math.min(Math.max(p,0),s);if(o+A>s)return!1;for(var l=-1;++l<o;)if(r.charCodeAt(A+l)!==a.charCodeAt(l))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();(typeof t!="number"||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t}),String.prototype.repeat||(String.prototype.repeat=function(e){if(this===null)throw new TypeError("can't convert "+this+" to object");var t=""+this;if(e=+e,Number.isNaN(e)&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e===1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),t.length===0||e===0)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";(1&e)==1&&(n+=t),(e>>>=1)!==0;)t+=t;return n}),String.prototype.includes||(String.prototype.includes=function(e,t){return typeof t!="number"&&(t=0),!(t+e.length>this.length)&&this.indexOf(e,t)!==-1}),Array.prototype.includes||(Array.prototype.includes=function(e){if(this==null)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(n===0)return!1;var i,r,s=parseInt(arguments[1],10)||0;for(s>=0?i=s:(i=n+s)<0&&(i=0);i<n;){if(e===(r=t[i])||Number.isNaN(e)&&Number.isNaN(r))return!0;i++}return!1}),Array.from||(Array.from=(cx=Object.prototype.toString,fg=function(e){return typeof e=="function"||cx.call(e)==="[object Function]"},px=Math.pow(2,53)-1,Ax=function(e){var t=function(n){var i=Number(n);return isNaN(i)?0:i!==0&&isFinite(i)?(i>0?1:-1)*Math.floor(Math.abs(i)):i}(e);return Math.min(Math.max(t,0),px)},function(e){var t=this,n=Object(e);if(e==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,r=arguments.length>1?arguments[1]:void 0;if(r!==void 0){if(!fg(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var s,a=Ax(n.length),o=fg(t)?Object(new t(a)):new Array(a),c=0;c<a;)s=n[c],o[c]=r?i===void 0?r(s,c):r.call(i,s,c):s,c+=1;return o.length=a,o})),typeof window<"u"&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i){var r=new Date().getTime(),s=Math.max(0,16-(r-e)),a=window.setTimeout(function(){i(r+s)},s);return e=r+s,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){clearTimeout(i)})}(),Function.prototype.name===void 0&&Object.defineProperty!==void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),typeof window<"u"&&(window.performance===void 0&&(self.performance={}),window.performance.now===void 0&&(lx=Date.now(),window.performance.now=function(){return Date.now()-lx})),Object.defineProperty!==void 0&&(Number.MAX_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MAX_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:Math.pow(2,53)-1}),Number.MIN_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MIN_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:-(Math.pow(2,53)-1)}));var wa=function(e){this.name=e,this._dict={}},dx={names:{configurable:!0}};function li(e){return .01745*e}wa.prototype.add=function(e,t){this._dict[fx(e)]=t},wa.prototype.get=function(e){return this._dict[fx(e)]},dx.names.get=function(){return Object.keys(this._dict)},Object.defineProperties(wa.prototype,dx);var RZ="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Xh=new Array(36);function T_(){for(var e,t=0,n=0;n<36;n++)n===8||n===13||n===18||n===23?Xh[n]="-":n===14?Xh[n]="4":(t<=2&&(t=33554432+16777216*Math.random()|0),e=15&t,t>>=4,Xh[n]=RZ[n===19?3&e|8:e]);return Xh.join("")}function f4(e,t,n){return Math.max(t,Math.min(n,e))}function Hs(e,t,n){return e+(t-e)*n}function Oo(e,t,n,i,r,s){var a=(n-e)*s,o=(i-t)*s,c=r*r;return(2*t-2*n+a+o)*(r*c)+(-3*t+3*n-2*a-o)*c+a*r+t}function $d(e,t,n){var i;return i=function(r,s,a){return(r-s)/(a-s)}(n,e,t),(n=f4(i,0,1))*n*(3-2*n)}var TS="sRGB",IZ={scale:"uniform",mode:"hcl",domain:[0,1],value:16777215,reverse:!1},S1=new Je;function Sn(e,t,n){var i=n.value;return n.value=function(r,s){var a=i.bind(this,r,s)();return TS=="linear"?(S1.set(a),S1.convertSRGBToLinear(),S1.getHex()):a},n}var Tt,fn=function(e){e===void 0&&(e={}),this.parameters=Es(e,IZ),typeof this.parameters.value=="string"&&(this.parameters.value=S1.set(this.parameters.value).getHex()),this.parameters.structure&&(this.atomProxy=this.parameters.structure.getAtomProxy())};fn.prototype.getScale=function(e){e===void 0&&(e={});var t=Es(e,this.parameters);return t.scale==="rainbow"?t.scale=["red","orange","yellow","green","blue"]:t.scale==="rwb"&&(t.scale=["red","white","blue"]),t.reverse&&(t.domain=t.domain.slice().reverse()),l4.exports.scale(t.scale).mode(t.mode).domain(t.domain).out("num")},fn.prototype.colorToArray=function(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=(e>>16&255)/255,t[n+1]=(e>>8&255)/255,t[n+2]=(255&e)/255,t},fn.prototype.atomColorToArray=function(e,t,n){return this.colorToArray(this.atomColor?this.atomColor(e):0,t,n)},fn.prototype.bondColor=function(e,t){return this.atomProxy&&this.atomColor?(this.atomProxy.index=t?e.atomIndex1:e.atomIndex2,this.atomColor(this.atomProxy)):0},fn.prototype.bondColorToArray=function(e,t,n,i){return this.colorToArray(this.bondColor(e,t),n,i)},fn.prototype.volumeColorToArray=function(e,t,n){return this.colorToArray(this.volumeColor?this.volumeColor(e):0,t,n)},fn.prototype.positionColorToArray=function(e,t,n){return this.colorToArray(this.positionColor?this.positionColor(e):0,t,n)},function(e){e[e.PROTEIN=1]="PROTEIN",e[e.NUCLEIC=2]="NUCLEIC",e[e.RNA=3]="RNA",e[e.DNA=4]="DNA",e[e.POLYMER=5]="POLYMER",e[e.WATER=6]="WATER",e[e.HELIX=7]="HELIX",e[e.SHEET=8]="SHEET",e[e.TURN=9]="TURN",e[e.BACKBONE=10]="BACKBONE",e[e.SIDECHAIN=11]="SIDECHAIN",e[e.ALL=12]="ALL",e[e.HETERO=13]="HETERO",e[e.ION=14]="ION",e[e.SACCHARIDE=15]="SACCHARIDE",e[e.SUGAR=15]="SUGAR",e[e.BONDED=16]="BONDED",e[e.RING=17]="RING",e[e.AROMATICRING=18]="AROMATICRING",e[e.METAL=19]="METAL",e[e.POLARH=20]="POLARH",e[e.NONE=21]="NONE"}(Tt||(Tt={}));var hx=["*","","ALL"],FZ=["NONE"],B_=[Tt.BACKBONE,Tt.SIDECHAIN,Tt.BONDED,Tt.RING,Tt.AROMATICRING,Tt.METAL,Tt.POLARH],BS=[Tt.POLYMER,Tt.WATER],NZ=["ALA","GLY","SER"],PZ=["CYS","SER","THR"],UZ=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],HZ=["PHE","TRP","TYR","HIS"],DZ=["ASN","GLN"],GZ=["ASP","GLU"],QZ=["ARG","HIS","LYS"],kZ=["ARG","ASP","GLU","HIS","LYS"],VZ=["ASN","ARG","ASP","CYS","GLY","GLN","GLU","HIS","LYS","SER","THR","TYR"],KZ=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],zZ=["HIS","PHE","PRO","TRP","TYR"],YZ=["ALA","GLY","ILE","LEU","VAL"];function WZ(e,t){if(t.atomname===void 0&&t.element===void 0&&t.altloc===void 0&&t.atomindex===void 0&&t.keyword===void 0&&t.inscode===void 0&&t.resname===void 0&&t.sstruc===void 0&&t.resno===void 0&&t.chainname===void 0&&t.model===void 0)return-1;if(t.keyword!==void 0&&(t.keyword===Tt.BACKBONE&&!e.isBackbone()||t.keyword===Tt.SIDECHAIN&&!e.isSidechain()||t.keyword===Tt.BONDED&&!e.isBonded()||t.keyword===Tt.RING&&!e.isRing()||t.keyword===Tt.AROMATICRING&&!e.isAromatic()||t.keyword===Tt.HETERO&&!e.isHetero()||t.keyword===Tt.PROTEIN&&!e.isProtein()||t.keyword===Tt.NUCLEIC&&!e.isNucleic()||t.keyword===Tt.RNA&&!e.isRna()||t.keyword===Tt.DNA&&!e.isDna()||t.keyword===Tt.POLYMER&&!e.isPolymer()||t.keyword===Tt.WATER&&!e.isWater()||t.keyword===Tt.HELIX&&!e.isHelix()||t.keyword===Tt.SHEET&&!e.isSheet()||t.keyword===Tt.TURN&&!e.isTurn()||t.keyword===Tt.ION&&!e.isIon()||t.keyword===Tt.SACCHARIDE&&!e.isSaccharide()||t.keyword===Tt.METAL&&!e.isMetal()||t.keyword===Tt.POLARH&&!e.isPolarHydrogen())||t.atomname!==void 0&&t.atomname!==e.atomname||t.element!==void 0&&t.element!==e.element||t.altloc!==void 0&&t.altloc!==e.altloc||t.atomindex!==void 0&&vp(t.atomindex,e.index)<0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function $Z(e,t){if(t.resname===void 0&&t.resno===void 0&&t.inscode===void 0&&t.sstruc===void 0&&t.model===void 0&&t.chainname===void 0&&t.atomindex===void 0&&(t.keyword===void 0||B_.includes(t.keyword)))return-1;if(t.keyword!==void 0&&(t.keyword===Tt.HETERO&&!e.isHetero()||t.keyword===Tt.PROTEIN&&!e.isProtein()||t.keyword===Tt.NUCLEIC&&!e.isNucleic()||t.keyword===Tt.RNA&&!e.isRna()||t.keyword===Tt.DNA&&!e.isDna()||t.keyword===Tt.POLYMER&&!e.isPolymer()||t.keyword===Tt.WATER&&!e.isWater()||t.keyword===Tt.HELIX&&!e.isHelix()||t.keyword===Tt.SHEET&&!e.isSheet()||t.keyword===Tt.TURN&&!e.isTurn()||t.keyword===Tt.ION&&!e.isIon()||t.keyword===Tt.SACCHARIDE&&!e.isSaccharide())||t.atomindex!==void 0&&b_(t.atomindex,e.atomOffset,e.atomEnd)===0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function jZ(e,t){return t.chainname!==void 0||t.model!==void 0||t.atomindex!==void 0||t.keyword!==void 0&&BS.includes(t.keyword)&&e.entity?t.keyword!==void 0&&(t.keyword===Tt.POLYMER&&!e.entity.isPolymer()||t.keyword===Tt.WATER&&!e.entity.isWater())?!1:(t.atomindex===void 0||b_(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex):-1}function XZ(e,t){return t.model===void 0&&t.atomindex===void 0?-1:(t.atomindex===void 0||b_(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.model===void 0||t.model===e.index)}function jd(e,t){if(e===null||e.error||!e.rules||e.rules.length===0)return!1;for(var n=e.rules.length,i=!e.negate,r=!!e.negate,s=[],a=0;a<n;++a){var o=e.rules[a];o.hasOwnProperty("operator")&&(s[a]=jd(o,t))}return function(c){for(var p=e.operator==="AND",A=!1,l=0;l<n;++l){var u=e.rules[l],d=void 0;if(u.hasOwnProperty("operator")){var m=s[l];if((d=m!==!1?m(c):-1)===-1){A=!0;continue}if(d===!0){if(p)continue;return i}if(p)return r}else{if(u.keyword===Tt.ALL){if(p)continue;return i}if(u.keyword===Tt.NONE){if(p)continue;return r}if((d=t(c,u))!==-1){if(d===!0){if(p)continue;return i}if(p)return r}else A=!0}}return A?-1:p?i:r}}function Xd(e,t){if(e.error||!e.rules||e.rules.length===0)return e;var n=e.rules.length,i={operator:e.operator,rules:[]};e.hasOwnProperty("negate")&&(i.negate=e.negate);for(var r=0;r<n;++r){var s=e.rules[r];if(s.hasOwnProperty("operator")){var a=Xd(s,t);a!==null&&i.rules.push(a)}else t(s)||i.rules.push(s)}return i.rules.length>0?e:null}function mx(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=Xd(e,function(i){return i.keyword!==void 0&&!B_.includes(i.keyword)||i.model!==void 0||i.chainname!==void 0||i.resname!==void 0||i.resno!==void 0||i.sstruc!==void 0})),jd(n,WZ)}function Ex(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=Xd(e,function(i){return!(i.keyword===void 0||!B_.includes(i.keyword))||i.model!==void 0||i.chainname!==void 0||i.atomname!==void 0||i.element!==void 0||i.altloc!==void 0})),jd(n,$Z)}function yx(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=Xd(e,function(i){return i.keyword!==void 0&&!BS.includes(i.keyword)||i.resname!==void 0||i.resno!==void 0||i.atomname!==void 0||i.element!==void 0||i.altloc!==void 0||i.sstruc!==void 0||i.inscode!==void 0})),jd(n,jZ)}function gx(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=Xd(e,function(i){return i.keyword!==void 0||i.chainname!==void 0||i.resname!==void 0||i.resno!==void 0||i.atomname!==void 0||i.element!==void 0||i.altloc!==void 0||i.sstruc!==void 0||i.inscode!==void 0})),jd(n,XZ)}var Nn=function(e){this.signals={stringChanged:new kt.exports.Signal},this.setString(e)},wx={type:{configurable:!0}};wx.type.get=function(){return"selection"},Nn.prototype.setString=function(e,t){if(e===void 0&&(e=this.string||""),e!==this.string){try{this.selection=function(i){var r={operator:void 0,rules:[]};if(!i)return r;var s,a,o=r,c=[];(i=i.replace(/\(/g," ( ").replace(/\)/g," ) ").trim()).charAt(0)==="("&&i.substr(-1)===")"&&(i=i.slice(1,-1).trim());for(var p=i.split(/\s+/),A=function(K){s={operator:K,rules:[]},o===void 0?(o=s,r=s):(o.rules.push(s),c.push(o),o=s)},l=function(K){a=o,(o=c.pop())===void 0&&(A(K),u(a))},u=function(K){o.rules.push(K)},d=!1,m=0;m<p.length;++m){var y=p[m],g=y.toUpperCase();if(y!=="(")if(y!==")"){if(d>0)if(g==="NOT")d=1;else if(d===1)d=2;else{if(d!==2)throw new Error("something went wrong with 'not'");d=!1,l()}if(g!=="AND")if(g!=="OR")if(y.toUpperCase()!=="NOT"){if(+g!=+g){var E=Tt[g];if(E!==void 0){u({keyword:E});continue}}if(g!=="HYDROGEN")if(g!=="SMALL")if(g!=="NUCLEOPHILIC")if(g!=="HYDROPHOBIC")if(g!=="AROMATIC")if(g!=="AMIDE")if(g!=="ACIDIC")if(g!=="BASIC")if(g!=="CHARGED")if(g!=="POLAR")if(g!=="NONPOLAR")if(g!=="CYCLIC")if(g!=="ALIPHATIC")if(g!=="SIDECHAINATTACHED")if(g!=="APOLARH")if(g!=="LIGAND")if(hx.indexOf(g)===-1)if(y.charAt(0)!=="@")if(y.charAt(0)!=="#")if(y.charAt(0)!=="_")if(y[0]!=="["||y[y.length-1]!=="]")if(y.length>=1&&y.length<=4&&y[0]!=="^"&&y[0]!==":"&&y[0]!=="."&&y[0]!=="%"&&y[0]!=="/"&&isNaN(parseInt(y)))u({resname:g});else{var w={operator:"AND",rules:[]},b=y.split("/");if(b.length>1&&b[1]){if(isNaN(parseInt(b[1])))throw new Error("model must be an integer");w.rules.push({model:parseInt(b[1])})}var _=b[0].split("%");_.length>1&&w.rules.push({altloc:_[1]});var C=_[0].split(".");if(C.length>1&&C[1]){if(C[1].length>4)throw new Error("atomname must be one to four characters");w.rules.push({atomname:C[1].substring(0,4).toUpperCase()})}var T=C[0].split(":");T.length>1&&T[1]&&w.rules.push({chainname:T[1]});var x=T[0].split("^");if(x.length>1&&w.rules.push({inscode:x[1]}),x[0]){var O=void 0,M=void 0;x[0][0]==="-"&&(x[0]=x[0].substr(1),O=!0),x[0].includes("--")&&(x[0]=x[0].replace("--","-"),M=!0);var H=x[0].split("-");if(H.length===1){var R=parseInt(H[0]);if(isNaN(R))throw new Error("resi must be an integer");O&&(R*=-1),w.rules.push({resno:R})}else{if(H.length!==2)throw new Error("resi range must contain one '-'");var D=H.map(function(K){return parseInt(K)});O&&(D[0]*=-1),M&&(D[1]*=-1),w.rules.push({resno:[D[0],D[1]]})}}if(w.rules.length===1)u(w.rules[0]);else{if(!(w.rules.length>1))throw new Error("empty selection chunk");u(w)}}else{var P=g.substr(1,y.length-2).split(","),I=P.length>1?P:P[0];u({resname:I})}else u({element:g.substr(1)});else console.error("# for element selection deprecated, use _"),u({element:g.substr(1)});else{var L=y.substr(1).split(",").map(function(K){return parseInt(K)});L.sort(function(K,W){return K-W}),u({atomindex:L})}else u({keyword:Tt.ALL});else u({operator:"AND",rules:[{operator:"OR",rules:[{operator:"AND",rules:[{keyword:Tt.HETERO},{negate:!0,operator:void 0,rules:[{keyword:Tt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{keyword:Tt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{operator:"OR",rules:[{keyword:Tt.WATER},{keyword:Tt.ION}]}]}]});else u({operator:"AND",negate:!1,rules:[{element:"H"},{negate:!0,operator:void 0,rules:[{keyword:Tt.POLARH}]}]});else u({operator:"OR",rules:[{keyword:Tt.SIDECHAIN},{operator:"AND",negate:!1,rules:[{keyword:Tt.PROTEIN},{operator:"OR",negate:!1,rules:[{atomname:"CA"},{atomname:"BB"}]}]},{operator:"AND",negate:!1,rules:[{resname:"PRO"},{atomname:"N"}]},{operator:"AND",negate:!1,rules:[{keyword:Tt.NUCLEIC},{operator:"OR",negate:!0,rules:[{atomname:"P"},{atomname:"OP1"},{atomname:"OP2"},{atomname:"O3'"},{atomname:"O3*"},{atomname:"HO3'"},{atomname:"O5'"},{atomname:"O5*"},{atomname:"HO5'"},{atomname:"C5'"},{atomname:"C5*"},{atomname:"H5'"},{atomname:"H5''"}]}]}]});else u({resname:YZ});else u({resname:zZ});else u({resname:KZ});else u({resname:VZ});else u({resname:kZ});else u({resname:QZ});else u({resname:GZ});else u({resname:DZ});else u({resname:HZ});else u({resname:UZ});else u({resname:PZ});else u({resname:NZ});else u({operator:"OR",rules:[{element:"H"},{element:"D"}]})}else d=1,A(),o.negate=!0;else o.operator==="AND"?l("OR"):o.operator="OR";else if(o.operator==="OR"){var k=o.rules.pop();A("AND"),u(k)}else o.operator="AND"}else l(),o.negate&&l();else d=!1,A()}return r.operator===void 0&&r.rules.length===1&&r.rules[0].hasOwnProperty("operator")&&(r=r.rules[0]),r}(e)}catch(i){this.selection={error:i.message}}var n=this.selection;this.string=e,this.test=mx(n),this.residueTest=Ex(n),this.chainTest=yx(n),this.modelTest=gx(n),this.atomOnlyTest=mx(n,!0),this.residueOnlyTest=Ex(n,!0),this.chainOnlyTest=yx(n,!0),this.modelOnlyTest=gx(n,!0),t||this.signals.stringChanged.dispatch(this.string)}},Nn.prototype.isAllSelection=function(){return hx.includes(this.string.toUpperCase())},Nn.prototype.isNoneSelection=function(){return FZ.includes(this.string.toUpperCase())},Object.defineProperties(Nn.prototype,wx);var qZ=function(e){function t(n){var i=this;e.call(this,n),this.colormakerList=[],this.selectionList=[],(n.dataList||[]).forEach(function(r){var s=r[0],a=r[1],o=r[2];o===void 0&&(o={}),on.hasScheme(s)?Object.assign(o,{scheme:s,structure:i.parameters.structure}):Object.assign(o,{scheme:"uniform",value:new Je(s).getHex()}),i.colormakerList.push(on.getScheme(o)),i.selectionList.push(new Nn(a))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){for(var i=0,r=this.selectionList.length;i<r;++i){var s=this.selectionList[i].test;if(s&&s(n))return this.colormakerList[i].atomColor(n)}return 16777215},t}(fn),ZZ={"":"",OrRd:"[S] Orange-Red",PuBu:"[S] Purple-Blue",BuPu:"[S] Blue-Purple",Oranges:"[S] Oranges",BuGn:"[S] Blue-Green",YlOrBr:"[S] Yellow-Orange-Brown",YlGn:"[S] Yellow-Green",Reds:"[S] Reds",RdPu:"[S] Red-Purple",Greens:"[S] Greens",YlGnBu:"[S] Yellow-Green-Blue",Purples:"[S] Purples",GnBu:"[S] Green-Blue",Greys:"[S] Greys",YlOrRd:"[S] Yellow-Orange-Red",PuRd:"[S] Purple-Red",Blues:"[S] Blues",PuBuGn:"[S] Purple-Blue-Green",Viridis:"[D] Viridis",Spectral:"[D] Spectral",RdYlGn:"[D] Red-Yellow-Green",RdBu:"[D] Red-Blue",PiYG:"[D] Pink-Yellowgreen",PRGn:"[D] Purplered-Green",RdYlBu:"[D] Red-Yellow-Blue",BrBG:"[D] Brown-Bluegreen",RdGy:"[D] Red-Grey",PuOr:"[D] Purple-Orange",Set1:"[Q] Set1",Set2:"[Q] Set2",Set3:"[Q] Set3",Dark2:"[Q] Dark2",Paired:"[Q] Paired",Pastel1:"[Q] Pastel1",Pastel2:"[Q] Pastel2",Accent:"[Q] Accent",rainbow:"[?] Rainbow",rwb:"[?] Red-White-Blue"},JZ={"":"",rgb:"Red Green Blue",hsv:"Hue Saturation Value",hsl:"Hue Saturation Lightness",hsi:"Hue Saturation Intensity",lab:"CIE L*a*b*",hcl:"Hue Chroma Lightness"},Is=function(){this.schemes={},this.userSchemes={}};Is.prototype.getScheme=function(e){var t=((e||{}).scheme||"").toLowerCase();return new(t in this.schemes?this.schemes[t]:t in this.userSchemes?this.userSchemes[t]:fn)(e)},Is.prototype.getSchemes=function(){var e={};return Object.keys(this.schemes).forEach(function(t){e[t]=t}),Object.keys(this.userSchemes).forEach(function(t){e[t]=t.split("|")[1]}),e},Is.prototype.getScales=function(){return ZZ},Is.prototype.getModes=function(){return JZ},Is.prototype.add=function(e,t){e=e.toLowerCase(),this.schemes[e]=t},Is.prototype.addScheme=function(e,t){return e instanceof fn||(e=this._createScheme(e)),this._addUserScheme(e,t)},Is.prototype._addUserScheme=function(e,t){t=t||"";var n=(T_()+"|"+t).toLowerCase();return this.userSchemes[n]=e,n},Is.prototype.removeScheme=function(e){e=e.toLowerCase(),delete this.userSchemes[e]},Is.prototype._createScheme=function(e){var t=function(n){fn.call(this,n),e.call(this,n)};return(t.prototype=fn.prototype).constructor=fn,t},Is.prototype.addSelectionScheme=function(e,t){var n=function(i){function r(s){i.call(this,Object.assign({dataList:e},s))}return i&&(r.__proto__=i),r.prototype=Object.create(i&&i.prototype),r.prototype.constructor=r,r}(qZ);return this._addUserScheme(n,t)},Is.prototype.hasScheme=function(e){return(e=e.toLowerCase())in this.schemes||e in this.userSchemes};var eJ=function(e){function t(){e.call(this,"parser")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__hasObjName=function(n,i){var r=this.get(n);return r&&r.prototype.__objName===i},t.prototype.isTrajectory=function(n){return this.__hasObjName(n,"frames")},t.prototype.isStructure=function(n){return this.__hasObjName(n,"structure")},t.prototype.isVolume=function(n){return this.__hasObjName(n,"volume")},t.prototype.isSurface=function(n){return this.__hasObjName(n,"surface")},t.prototype.isBinary=function(n){var i=this.get(n);return i&&i.prototype.isBinary},t.prototype.isXml=function(n){var i=this.get(n);return i&&i.prototype.isXml},t.prototype.isJson=function(n){var i=this.get(n);return i&&i.prototype.isJson},t.prototype.getTrajectoryExtensions=function(){var n=this;return this.names.filter(function(i){return n.isTrajectory(i)})},t.prototype.getStructureExtensions=function(){var n=this;return this.names.filter(function(i){return n.isStructure(i)})},t.prototype.getVolumeExtensions=function(){var n=this;return this.names.filter(function(i){return n.isVolume(i)})},t.prototype.getSurfaceExtensions=function(){var n=this;return this.names.filter(function(i){return n.isSurface(i)})},t}(wa);function MS(e){var t=e;return e.forEach(function(n){n.__deps&&Array.prototype.push.apply(t,MS(n.__deps))}),t}function tJ(e){return x_(MS(e)).map(function(t){return t.toString()}).join(`


`)}function nJ(e){var t=e.data.__name,n=e.data.__postId;t===void 0?console.error("message __name undefined"):self.func===void 0?console.error("worker func undefined",t):self.func(e,function(i,r){i=i||{},n!==void 0&&(i.__postId=n);try{self.postMessage(i,r)}catch(s){console.error("self.postMessage:",s),self.postMessage(i)}})}function iJ(e,t){var n=`'use strict';

`+tJ(t);return n+=`


self.func = `+e.toString()+";",n+=`


self.onmessage = `+nJ.toString()+";",new Blob([n],{type:"application/javascript"})}var d4=function(){this.activeWorkerCount=0,this._funcDict={},this._depsDict={},this._blobDict={}};d4.prototype.add=function(e,t,n){this._funcDict[e]=t,this._depsDict[e]=n},d4.prototype.get=function(e){return this._blobDict[e]||(this._blobDict[e]=iJ(this._funcDict[e],this._depsDict[e])),this._blobDict[e]};var SS=CS(),OS=!1;try{var rJ=Object.defineProperty({},"passive",{get:function(){OS=!0}});window.addEventListener("test",function(e){},rJ)}catch{}var LS=typeof window<"u"&&window.orientation!==void 0,Tc=!1;function _x(e){Tc=e}var za=!1;function vx(e){za=e}var Be={log:Function.prototype.bind.call(console.log,console),info:Function.prototype.bind.call(console.info,console),warn:Function.prototype.bind.call(console.warn,console),error:Function.prototype.bind.call(console.error,console),time:Function.prototype.bind.call(console.time,console),timeEnd:Function.prototype.bind.call(console.timeEnd,console)},zu={color:"green",labelColor:8421504,labelAttachment:"bottom-center",labelSize:.7,labelZOffset:.5,labelYOffset:.1,labelBorder:!0,labelBorderColor:13882323,labelBorderWidth:.25,lineOpacity:.8,linewidth:5,opacity:.6,labelUnit:"angstrom",arcVisible:!0,planeVisible:!1},hg,De=!!(hg=OZ("debug"))&&(typeof hg!="string"||/^1|true|t|yes|y$/i.test(hg)),mg,sJ=["ngl","js"],Md=new d4,on=new Is,Pp=new wa("datasource"),Jn=new wa("representatation"),Nt=new eJ,Cn=new wa("shader"),M_=new wa("decompressor"),Zl=new wa("component"),ys=new wa("buffer"),Fs=new wa("picker"),Tr=function(e,t){t===void 0&&(t={}),this.chunkSize=10485760,this.newline=`
`,this.__pointer=0,this.__partialLine="",this.compressed=G(t.compressed,!1),this.binary=G(t.binary,!1),this.json=G(t.json,!1),this.xml=G(t.xml,!1),this.src=e};Tr.prototype.isBinary=function(){return this.binary||this.compressed},Tr.prototype.read=function(){var e=this;return this._read().then(function(t){var n=e.compressed?M_.get(e.compressed):void 0;return e.compressed&&n?e.data=n(t):((e.binary||e.compressed)&&t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e.data=t),e.data})},Tr.prototype._chunk=function(e,t){return t=Math.min(this.data.length,t),e===0&&this.data.length===t?this.data:this.isBinary()?this.data.subarray(e,t):this.data.substring(e,t)},Tr.prototype.chunk=function(e){var t=e+this.chunkSize;return this._chunk(e,t)},Tr.prototype.peekLines=function(e){var t,n=this.data,i=n.length,r=this.isBinary()?this.newline.charCodeAt(0):this.newline,s=0;for(t=0;t<i&&(n[t]===r&&++s,s!==e);++t);var a=this._chunk(0,t+1);return this.chunkToLines(a,"",t>i).lines},Tr.prototype.chunkCount=function(){return Math.floor(this.data.length/this.chunkSize)+1},Tr.prototype.asText=function(){return this.isBinary()?Xm(this.data):this.data},Tr.prototype.chunkToLines=function(e,t,n){var i=this.newline;if(!this.isBinary()&&e.length===this.data.length)return{lines:e.split(i),partialLine:""};var r=[],s=this.isBinary()?Xm(e):e,a=s.lastIndexOf(i);if(a===-1)t+=s;else{var o=t+s.substr(0,a);r=r.concat(o.split(i)),t=a===s.length-i.length?"":s.substr(a+i.length)}return n&&t!==""&&r.push(t),{lines:r,partialLine:t}},Tr.prototype.nextChunk=function(){var e=this.__pointer;if(!(e>this.data.length))return this.__pointer+=this.chunkSize,this.chunk(e)},Tr.prototype.nextChunkOfLines=function(){var e=this.nextChunk();if(e!==void 0){var t=this.__pointer>this.data.length,n=this.chunkToLines(e,this.__partialLine,t);return this.__partialLine=n.partialLine,n.lines}},Tr.prototype.eachChunk=function(e){for(var t=this.chunkSize,n=this.data.length,i=this.chunkCount(),r=0;r<n;r+=t)e(this.chunk(r),Math.round(r/t),i)},Tr.prototype.eachChunkOfLines=function(e){var t=this;this.eachChunk(function(n,i,r){var s=i===r+1,a=t.chunkToLines(n,t.__partialLine,s);t.__partialLine=a.partialLine,e(a.lines,i,r)})},Tr.prototype.dispose=function(){delete this.src};var aJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var n=this;return new Promise(function(i,r){var s=n.src,a=new FileReader;a.onload=function(o){o.target&&i(o.target.result)},a.onerror=function(o){return r(o)},n.binary||n.compressed?a.readAsArrayBuffer(s):a.readAsText(s)})},t}(Tr),oJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var n=this;return new Promise(function(i,r){var s=n.src,a=new XMLHttpRequest;a.open("GET",s,!0),a.addEventListener("load",function(){if(a.status===200||a.status===304||a.status===0)try{i(a.response)}catch(o){r(o)}else r(a.statusText)},!1),a.addEventListener("error",function(o){return r("network error")},!1),n.isBinary()?a.responseType="arraybuffer":n.json?a.responseType="json":n.xml?a.responseType="document":a.responseType="text",a.send()})},t}(Tr),RS=function(e,t){t===void 0&&(t={}),this.parameters=Es(t,{ext:"",compressed:!1,binary:Nt.isBinary(t.ext||""),name:"",dir:"",path:"",protocol:""});var n={compressed:this.parameters.compressed,binary:this.parameters.binary,json:Nt.isJson(this.parameters.ext),xml:Nt.isXml(this.parameters.ext)};typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob?this.streamer=new aJ(e,n):this.streamer=new oJ(e,n)},cJ=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i),this.parserParams={voxelSize:i.voxelSize,firstModelOnly:i.firstModelOnly,asTrajectory:i.asTrajectory,cAlphaOnly:i.cAlphaOnly,delimiter:i.delimiter,comment:i.comment,columnNames:i.columnNames,name:this.parameters.name,path:this.parameters.path}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){return new(Nt.get(this.parameters.ext))(this.streamer,this.parserParams).parse()},t}(RS),IS=function(e,t,n){this.name=t,this.path=n,this.signals={elementAdded:new kt.exports.Signal,elementRemoved:new kt.exports.Signal,nameChanged:new kt.exports.Signal},this.type="Script",this.dir=n.substring(0,n.lastIndexOf("/")+1);try{this.fn=new Function("stage","__name","__path","__dir",e)}catch(i){Be.error("Script compilation failed",i),this.fn=function(){}}};IS.prototype.run=function(e){var t=this;return new Promise(function(n,i){try{t.fn.apply(null,[e,t.name,t.path,t.dir]),n()}catch(r){Be.error("Script.fn",r),i(r)}})};var pJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var n=this;return this.streamer.read().then(function(){return new IS(n.streamer.asText(),n.parameters.name,n.parameters.path)})},t}(RS);function Gi(e){var t,n,i=M_.names,r="",s=(t=e instanceof File?e.name:e instanceof Blob?"":e).lastIndexOf("?"),a=s!==-1?t.substring(s):"",o=(t=t.substring(0,s===-1?t.length:s)).replace(/^.*[\\/]/,""),c=o.substring(0,o.lastIndexOf(".")),p=o.split("."),A=p.length>1?(p.pop()||"").toLowerCase():"",l=t.match(/^(.+):\/\/(.+)$/);l&&(r=l[1].toLowerCase(),t=l[2]||"");var u=t.substring(0,t.lastIndexOf("/")+1);if(i.includes(A)){n=A;var d=t.length-A.length-1;A=(t.substr(0,d).split(".").pop()||"").toLowerCase();var m=c.length-A.length-1;c=c.substr(0,m)}else n=!1;return{path:t,name:o,ext:A,base:c,dir:u,compressed:n,protocol:r,query:a,src:e}}function AJ(e){var t=Gi(e),n=Pp.get(t.protocol);return n&&!(t=Gi(n.getUrl(t.src))).ext&&n.getExt&&(t.ext=n.getExt(e)),t}function h4(e,t){t===void 0&&(t={});var n,i=Object.assign(AJ(e),t);return Nt.names.includes(i.ext)?n=new cJ(i.src,i):sJ.includes(i.ext)&&(n=new pJ(i.src,i)),n?n.load():Promise.reject(new Error("autoLoad: ext '"+i.ext+"' unknown"))}var Sd=function(){};Sd.prototype.getBlob=function(){return new Blob([this.getData()],{type:this.mimeType})},Sd.prototype.download=function(e,t){e=G(e,this.defaultName),t=G(t,this.defaultExt),bS(this.getBlob(),e+"."+t)};(function(e){function t(n,i){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="pdb";var r=Object.assign({},i);this.renumberSerial=G(r.renumberSerial,!0),this.remarks=function(s){return Array.isArray(s)?s:[s]}(G(r.remarks,[])),this.structure=n,this._records=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._writeRecords=function(){this._records.length=0,this._writeTitle(),this._writeRemarks(),this._writeAtoms()},t.prototype._writeTitle=function(){this._records.push(Sr.sprintf("TITLE %-74s",this.structure.name))},t.prototype._writeRemarks=function(){var n=this;this.remarks.forEach(function(i){n._records.push(Sr.sprintf("REMARK %-73s",i))}),this.structure.trajectory&&(this._records.push(Sr.sprintf("REMARK %-73s","Trajectory '"+this.structure.trajectory.name+"'")),this._records.push(Sr.sprintf("REMARK %-73s","Frame "+this.structure.trajectory.frame)))},t.prototype._writeAtoms=function(){var n=this,i=1,r=1,s=" ",a=" ";this.structure.eachModel(function(o){n._records.push(Sr.sprintf("MODEL %-74d",r++)),o.eachAtom(function(c){var p=c.hetero?"HETATM%5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s":"ATOM  %5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s",A=n.renumberSerial?i:c.serial,l=c.atomname;(l.length===1||l.length<4&&c.element.length===1&&l[0]===c.element)&&(l=" "+l),c.formalCharge?(s=Math.abs(c.formalCharge).toPrecision(1),a=c.formalCharge>0?"+":"-"):(s=" ",a=" "),n._records.push(Sr.sprintf(p,A,l,c.resname,G(c.chainname," "),c.resno,c.x,c.y,c.z,G(c.occupancy,1),G(c.bfactor,0),"",G(c.element,""),s,a)),i+=1},n.structure.getSelection()),n._records.push(Sr.sprintf("%-80s","ENDMDL")),r+=1}),this._records.push(Sr.sprintf("%-80s","END"))},t.prototype.getString=function(){return console.warn("PdbWriter.getString() is deprecated, use .getData instead"),this.getData()},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},t})(Sd);(function(e){function t(i){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="sdf",this.structure=i,this._records=[]}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={idString:{configurable:!0},titleString:{configurable:!0},countsString:{configurable:!0},chargeLines:{configurable:!0}};return n.idString.get=function(){return this.structure.id},n.titleString.get=function(){return"  "+this.structure.title},n.countsString.get=function(){return Sr.sprintf("%3i%3i  0  0  0  0  0  0  0  0999 V2000",this.structure.atomCount,this.structure.bondCount)},n.chargeLines.get=function(){var i=[];this.structure.eachAtom(function(p){p.formalCharge!=null&&p.formalCharge!==0&&i.push([p.index,p.formalCharge])});for(var r=[],s=0;s<i.length;s+=8){for(var a=Math.min(8,i.length-s),o=Sr.sprintf("M  CHG%3i",a),c=s;c<s+a;c++)o+=Sr.sprintf(" %3i %3i",i[c][0]+1,i[c][1]);r.push(o)}return r},t.prototype.formatAtom=function(i){var r=0;i.formalCharge!=null&&i.formalCharge!==0&&(r=4-i.formalCharge);var s=Sr.sprintf("%10.4f%10.4f%10.4f %-3s 0%3i  0  0  0",i.x,i.y,i.z,i.element,r);if(s.length!==48)throw new Error("Incompatible atom for sdf format");return s},t.prototype.formatBond=function(i){return Sr.sprintf("%3i%3i%3i  0  0  0",i.atomIndex1+1,i.atomIndex2+1,i.bondOrder)},t.prototype._writeRecords=function(){this._records.length=0,this._writeHeader(),this._writeCTab(),this._writeFooter()},t.prototype._writeHeader=function(){this._records.push(this.idString,this.titleString,"")},t.prototype._writeCTab=function(){var i=this;this._records.push(this.countsString),this.structure.eachAtom(function(r){i._records.push(i.formatAtom(r))}),this.structure.eachBond(function(r){i._records.push(i.formatBond(r))}),this.chargeLines.forEach(function(r){i._records.push(r)}),this._records.push("M  END")},t.prototype._writeFooter=function(){this._records.push("$$$$")},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},Object.defineProperties(t.prototype,n),t})(Sd);var Eg=[],tn=function(e,t){t===void 0&&(t={}),this._mark=0,this._marks=[],this.offset=0,this.littleEndian=!0;var n=!1;e===void 0&&(e=8192),typeof e=="number"?e=new ArrayBuffer(e):n=!0;var i=t.offset?t.offset>>>0:0,r=e.byteLength-i,s=i;e instanceof ArrayBuffer||(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this._lastWrittenByte=n?r:0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=s,this._data=new DataView(this.buffer,s,r)};tn.prototype.available=function(e){return e===void 0&&(e=1),this.offset+e<=this.length},tn.prototype.isLittleEndian=function(){return this.littleEndian},tn.prototype.setLittleEndian=function(){return this.littleEndian=!0,this},tn.prototype.isBigEndian=function(){return!this.littleEndian},tn.prototype.setBigEndian=function(){return this.littleEndian=!1,this},tn.prototype.skip=function(e){return e===void 0&&(e=1),this.offset+=e,this},tn.prototype.seek=function(e){return this.offset=e,this},tn.prototype.mark=function(){return this._mark=this.offset,this},tn.prototype.reset=function(){return this.offset=this._mark,this},tn.prototype.pushMark=function(){return this._marks.push(this.offset),this},tn.prototype.popMark=function(){var e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this},tn.prototype.rewind=function(){return this.offset=0,this},tn.prototype.ensureAvailable=function(e){if(e===void 0&&(e=1),!this.available(e)){var t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this},tn.prototype.readBoolean=function(){return this.readUint8()!==0},tn.prototype.readInt8=function(){return this._data.getInt8(this.offset++)},tn.prototype.readUint8=function(){return this._data.getUint8(this.offset++)},tn.prototype.readByte=function(){return this.readUint8()},tn.prototype.readBytes=function(e){e===void 0&&(e=1);for(var t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t},tn.prototype.readInt16=function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},tn.prototype.readUint16=function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},tn.prototype.readInt32=function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},tn.prototype.readUint32=function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},tn.prototype.readFloat32=function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},tn.prototype.readFloat64=function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},tn.prototype.readChar=function(){return String.fromCharCode(this.readInt8())},tn.prototype.readChars=function(e){e===void 0&&(e=1),Eg.length=e;for(var t=0;t<e;t++)Eg[t]=this.readChar();return Eg.join("")},tn.prototype.writeBoolean=function(e){return e===void 0&&(e=!1),this.writeUint8(e?255:0),this},tn.prototype.writeInt8=function(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this},tn.prototype.writeUint8=function(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this},tn.prototype.writeByte=function(e){return this.writeUint8(e)},tn.prototype.writeBytes=function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this},tn.prototype.writeInt16=function(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},tn.prototype.writeUint16=function(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},tn.prototype.writeInt32=function(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},tn.prototype.writeUint32=function(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},tn.prototype.writeFloat32=function(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},tn.prototype.writeFloat64=function(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this},tn.prototype.writeChar=function(e){return this.writeUint8(e.charCodeAt(0))},tn.prototype.writeChars=function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this},tn.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)},tn.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)};(function(e){function t(n){e.call(this),this.mimeType="application/vnd.ms-pki.stl",this.defaultName="surface",this.defaultExt="stl",this.surface=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getData=function(){var n=this.surface.index.length/3,i=new tn(2*n+3*n*4*4+80+4);i.skip(80),i.writeUint32(n);for(var r=new F,s=new F,a=new F,o=new F,c=0;c<n;c++){var p=[this.surface.index[3*c],this.surface.index[3*c+1],this.surface.index[3*c+2]];s.fromArray(this.surface.normal,3*p[0]),a.fromArray(this.surface.normal,3*p[1]),o.fromArray(this.surface.normal,3*p[2]),r.addVectors(s,a).add(o).normalize(),i.writeFloat32(r.x),i.writeFloat32(r.y),i.writeFloat32(r.z);for(var A=0;A<3;A++)r.fromArray(this.surface.position,3*p[A]),i.writeFloat32(r.x),i.writeFloat32(r.y),i.writeFloat32(r.z);i.writeUint16(0)}return new DataView(i.buffer)},t})(Sd);var Ga=function(){this.count=0,this.signals={countChanged:new kt.exports.Signal}};Ga.prototype.clear=function(){this.change(-this.count)},Ga.prototype.change=function(e){this.count+=e,this.signals.countChanged.dispatch(e,this.count),this.count<0&&Be.warn("Counter.count below zero",this.count)},Ga.prototype.increment=function(){this.change(1)},Ga.prototype.decrement=function(){this.change(-1)},Ga.prototype.listen=function(e){this.change(e.count),e.signals.countChanged.add(this.change,this)},Ga.prototype.unlisten=function(e){var t=e.signals.countChanged;t.has(this.change,this)&&t.remove(this.change,this)},Ga.prototype.onZeroOnce=function(e,t){var n=this;if(this.count===0)e.call(t);else{var i=function(){n.count===0&&(n.signals.countChanged.remove(i,n),e.call(t))};this.signals.countChanged.add(i,this)}},Ga.prototype.dispose=function(){this.clear(),this.signals.countChanged.dispose()},Cn.add("shader/BasicLine.vert",`void main(){
#include begin_vertex
#include project_vertex
}`),Cn.add("shader/BasicLine.frag",`uniform vec3 uColor;
#include common
#include fog_pars_fragment
void main(){
gl_FragColor = vec4( uColor, 1.0 );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`),Cn.add("shader/Quad.vert",`varying vec2 vUv;
void main() {
vUv = uv;
gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`),Cn.add("shader/Quad.frag",`varying vec2 vUv;
uniform sampler2D tForeground;
uniform float scale;
void main() {
vec4 foreground = texture2D( tForeground, vUv );
gl_FragColor = foreground * scale;
}`);var O1=function(){this.signals={updated:new kt.exports.Signal},this.maxDuration=-1/0,this.minDuration=1/0,this.avgDuration=14,this.lastDuration=1/0,this.prevFpsTime=0,this.lastFps=1/0,this.lastFrames=1,this.frames=0,this.count=0,this.begin()};O1.prototype.update=function(){this.startTime=this.end(),this.currentTime=this.startTime,this.signals.updated.dispatch()},O1.prototype.begin=function(){this.startTime=window.performance.now(),this.lastFrames=this.frames},O1.prototype.end=function(){var e=window.performance.now();return this.count+=1,this.frames+=1,this.lastDuration=e-this.startTime,this.minDuration=Math.min(this.minDuration,this.lastDuration),this.maxDuration=Math.max(this.maxDuration,this.lastDuration),this.avgDuration-=this.avgDuration/30,this.avgDuration+=this.lastDuration/30,e>this.prevFpsTime+1e3&&(this.lastFps=this.frames,this.prevFpsTime=e,this.frames=0),e},Cn.add("shader/chunk/fog_fragment.glsl",`#ifdef USE_FOG
float depth = length( vViewPosition );
#ifdef FOG_EXP2
float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );
#else
float fogFactor = smoothstep( fogNear, fogFar, depth );
#endif
gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`),Cn.add("shader/chunk/interior_fragment.glsl",`if( gl_FrontFacing == false ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}`),Cn.add("shader/chunk/matrix_scale.glsl",`float matrixScale( in mat4 m ){
vec4 r = m[ 0 ];
return sqrt( r[ 0 ] * r[ 0 ] + r[ 1 ] * r[ 1 ] + r[ 2 ] * r[ 2 ] );
}`),Cn.add("shader/chunk/nearclip_vertex.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear - 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Cn.add("shader/chunk/nearclip_fragment.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear )
discard;
#endif`),Cn.add("shader/chunk/opaque_back_fragment.glsl",`#ifdef OPAQUE_BACK
#ifdef FLIP_SIDED
if( gl_FrontFacing == true ){
gl_FragColor.a = 1.0;
}
#else
if( gl_FrontFacing == false ){
gl_FragColor.a = 1.0;
}
#endif
#endif`),Cn.add("shader/chunk/radiusclip_vertex.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius + 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Cn.add("shader/chunk/radiusclip_fragment.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius )
discard;
#endif`),Cn.add("shader/chunk/unpack_color.glsl",`vec3 unpackColor(float f) {
vec3 color;
color.r = floor(f / 256.0 / 256.0);
color.g = floor((f - color.r * 256.0 * 256.0) / 256.0);
color.b = floor(f - color.r * 256.0 * 256.0 - color.g * 256.0);
return color / 255.0;
}`);var lJ=/^(?!\/\/)\s*#include\s+(\S+)/gim,yg={};function gf(e,t){t===void 0&&(t={});var n=e+"|";for(var i in t)n+=i+":"+t[i];if(!yg[n]){var r=function(a){if(a===void 0)return"";var o=[];for(var c in a){var p=a[c];p&&o.push("#define "+c+" "+p)}return o.join(`
`)+`
`}(t),s=Cn.get("shader/"+e);if(!s)throw new Error("empty shader, '"+e+"'");s=s.replace(lJ,function(a,o){var c="shader/chunk/"+o+".glsl",p=Cn.get(c)||ln[o];if(!p)throw new Error("empty chunk, '"+o+"'");return p}),yg[n]=r+s}return yg[n]}if(typeof WebGLRenderingContext<"u"){var vo=WebGLRenderingContext.prototype,uJ=vo.getShaderParameter;vo.getShaderParameter=function(){return!De||uJ.apply(this,arguments)};var fJ=vo.getShaderInfoLog;vo.getShaderInfoLog=function(){return De?fJ.apply(this,arguments):""};var dJ=vo.getProgramParameter;vo.getProgramParameter=function(e,t){return!De&&t===vo.LINK_STATUS||dJ.apply(this,arguments)};var hJ=vo.getProgramInfoLog;vo.getProgramInfoLog=function(){return De?hJ.apply(this,arguments):""}}var FS=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];FS.forEach(function(e){e.forEach(function(t){t[0]*=.0625,t[1]*=.0625})});var wf=function(e,t,n,i){this.canvas=document.createElement("canvas"),this._viewer=n,this._factor=G(i.factor,2),this._antialias=G(i.antialias,!1),this._onProgress=i.onProgress,this._onFinish=i.onFinish,this._antialias&&(this._factor*=2),this._n=this._factor*this._factor,this._width=this._viewer.width,this._height=this._viewer.height,this._antialias?(this.canvas.width=this._width*this._factor/2,this.canvas.height=this._height*this._factor/2):(this.canvas.width=this._width*this._factor,this.canvas.height=this._height*this._factor),this._ctx=this.canvas.getContext("2d"),this._viewerSampleLevel=n.sampleLevel,this._viewer.setSampling(-1)};wf.prototype._renderTile=function(e){var t=this._viewer,n=this._width,i=this._height,r=this._factor,s=e%r*n,a=Math.floor(e/r)*i;if(t.camera.setViewOffset(n*r,i*r,s,a,n,i),t.render(),this._antialias){var o=Math.round((s+n)/2)-Math.round(s/2),c=Math.round((a+i)/2)-Math.round(a/2);this._ctx.drawImage(t.renderer.domElement,Math.round(s/2),Math.round(a/2),o,c)}else this._ctx.drawImage(t.renderer.domElement,Math.floor(s),Math.floor(a),Math.ceil(n),Math.ceil(i));typeof this._onProgress=="function"&&this._onProgress(e+1,this._n,!1)},wf.prototype._finalize=function(){this._viewer.setSampling(this._viewerSampleLevel),this._viewer.camera.view=null,typeof this._onFinish=="function"&&this._onFinish(this._n+1,this._n,!1)},wf.prototype.render=function(){for(var e=0;e<=this._n;++e)e===this._n?this._finalize():this._renderTile(e)},wf.prototype.renderAsync=function(){for(var e=this,t=0,n=this._n,i=function(){t===n?e._finalize():e._renderTile(t),t+=1},r=0;r<=n;++r)setTimeout(i,0)};var gg=2*Math.PI,NS=180/Math.PI;function wg(e,t,n,i,r){n===void 0&&(n=1),i===void 0&&(i=0);var s=r?r.length:e.length/n,a=0,o=0;if(r)for(var c=0;c<s;++c){var p=(e[r[c]*n+i]+t)%t/t*gg-Math.PI;a+=Math.cos(p),o+=Math.sin(p)}else for(var A=i;A<s;A+=n){var l=(e[A]+t)%t/t*gg-Math.PI;a+=Math.cos(l),o+=Math.sin(l)}return a/=s,o/=s,(Math.atan2(o,a)+Math.PI)/gg*t}function Ya(e,t,n,i){i===void 0&&(i=0);for(var r=e.length,s=n||new Float32Array(r),a=0;a<r;a+=3)s[i+a+0]=(e[a+0]+t[a+0])/2,s[i+a+1]=(e[a+1]+t[a+1])/2,s[i+a+2]=(e[a+2]+t[a+2])/2;return s}function RE(e,t){for(var n=e.length,i=new Float32Array(n),r=0;r<n;r+=3)i[r+0]=t[r+0]-e[r+0],i[r+1]=t[r+1]-e[r+1],i[r+2]=t[r+2]-e[r+2];return i}function ms(e,t,n){for(var i=n||new Float32Array(e),r=0;r<e;++r)i[r]=t;return i}function Hn(e,t,n,i,r){for(var s=r||new Float32Array(3*e),a=0;a<e;++a){var o=3*a;s[o+0]=t,s[o+1]=n,s[o+2]=i}return s}function ou(e){for(var t=new Float32Array(e),n=0;n<e;++n)t[n]=n;return t}function m4(e,t,n,i){n===void 0&&(n=0);for(var r=i||new Float32Array(e*t),s=0;s<e;++s)for(var a=n+s*t,o=0;o<t;++o)r[a+o]=s;return r}function _g(e,t){for(var n=e.length,i=new Float32Array(n*t),r=0;r<n;++r)for(var s=r*t,a=e[r],o=0;o<t;++o)i[s+o]=a;return i}function Ri(e,t,n,i,r){for(var s=0;s<r;++s)t[i+s]=e[n+s]}function Cx(e,t,n,i){Ri(e,e,t,n,i)}function L1(e){for(var t=-1/0,n=0,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}function R1(e){for(var t=1/0,n=0,i=e.length;n<i;++n)e[n]<t&&(t=e[n]);return t}function S_(e,t,n){t===void 0&&(t=1),n===void 0&&(n=0);for(var i=e.length,r=0,s=n;s<i;s+=t)r+=e[s];return r}function I1(e,t,n){return t===void 0&&(t=1),n===void 0&&(n=0),S_(e,t,n)/(e.length/t)}var mJ={trim:!1,factor:1,antialias:!1,transparent:!1,onProgress:void 0};function EJ(e,t){t===void 0&&(t={});var n=Es(t,mJ),i=n.trim,r=n.factor,s=n.antialias,a=n.transparent,o=e.renderer,c=e.camera,p=o.getClearAlpha(),A=o.getClearColor();function l(m){m===void 0&&(m=!1);var y=r;s&&(y*=2),m&&(y=1/y),e.scene.traverse(function(g){var E=g.material;E&&E.linewidth&&(E.linewidth*=y),E&&E.uniforms&&E.uniforms.size&&E.uniforms.size.__seen===void 0&&(E.uniforms.size.value*=y,E.uniforms.size.__seen=!0),E&&E.uniforms&&E.uniforms.linewidth&&E.uniforms.linewidth.__seen===void 0&&(E.uniforms.linewidth.value*=y,E.uniforms.linewidth.__seen=!0)}),e.scene.traverse(function(g){var E=g.material;E&&E.uniforms&&E.uniforms.size&&delete E.uniforms.size.__seen,E&&E.uniforms&&E.uniforms.linewidth&&delete E.uniforms.linewidth.__seen})}function u(m){if(i){var y=A;return function(g,E,w,b,_){var C,T,x,O,M=g.height,H=g.width,R=g.getContext("2d").getImageData(0,0,H,M).data;for(x=!1,T=0;T<M;T++){for(C=0;C<H;C++)if(R[O=4*(T*H+C)]!==E||R[O+1]!==w||R[O+2]!==b||R[O+3]!==_){x=!0;break}if(x)break}var D=T;for(x=!1,C=0;C<H;C++){for(T=0;T<M;T++)if(R[O=4*(T*H+C)]!==E||R[O+1]!==w||R[O+2]!==b||R[O+3]!==_){x=!0;break}if(x)break}var P=C;for(x=!1,T=M-1;T>=0;T--){for(C=H-1;C>=0;C--)if(R[O=4*(T*H+C)]!==E||R[O+1]!==w||R[O+2]!==b||R[O+3]!==_){x=!0;break}if(x)break}var I=T;for(x=!1,C=H-1;C>=0;C--){for(T=M-1;T>=0;T--)if(R[O=4*(T*H+C)]!==E||R[O+1]!==w||R[O+2]!==b||R[O+3]!==_){x=!0;break}if(x)break}var L=C,k=document.createElement("canvas");return k.width=L-P,k.height=I-D,k.getContext("2d").drawImage(g,P,D,k.width,k.height,0,0,k.width,k.height),k}(m,a?0:255*y.r,a?0:255*y.g,a?0:255*y.b,a?0:255)}return m}function d(m,y,g){typeof t.onProgress=="function"&&t.onProgress(m,y,g)}return new Promise(function(m,y){var g=new wf(o,c,e,{factor:r,antialias:s,onProgress:d,onFinish:function(E,w){u(g.canvas).toBlob(function(b){o.setClearAlpha(p),l(!0),e.requestRender(),d(w,w,!0),b?m(b):y("error creating image")},"image/png")}});o.setClearAlpha(a?0:1),l(),g.renderAsync()})}var vg=new F,bx=new Xe,xx=new Xe,Tx=new Ke,qm=new Xe,Zm=new Xe;function Cg(e,t){qm.getInverse(t.projectionMatrix),Zm.copy(t.projectionMatrix).transpose(),e.traverse(function(n){var i=n.material;if(i){var r=i.uniforms;r&&(r.projectionMatrixInverse&&r.projectionMatrixInverse.value.copy(qm),r.projectionMatrixTranspose&&r.projectionMatrixTranspose.value.copy(Zm))}})}function Bx(e,t,n){var i=e.createShader(n);if(i)return e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(console.log("error compiling shader "+i+": "+e.getShaderInfoLog(i)),e.deleteShader(i),null);console.log("error creating WebGL shader "+n)}function bg(e,t){var n=e.getExtension(t);return n||console.log("extension '"+t+"' not available"),n}var yJ=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function qh(e){var t=document.createElement("canvas");t.width=16,t.height=16,t.style.width="16px",t.style.height="16px";var n=t.getContext("webgl")||t.getContext("experimental-webgl");if(!n)return console.log("error creating webgl context for "+e),!1;if(!(n instanceof WebGLRenderingContext))return console.log("Got unexpected type for WebGL rendering context"),!1;bg(n,"OES_texture_float"),bg(n,"OES_texture_half_float"),bg(n,"WEBGL_color_buffer_float");var i=Bx(n,`
attribute vec4 a_position;

void main() {
  gl_Position = a_position;
}`,n.VERTEX_SHADER),r=Bx(n,`
precision mediump float;
uniform vec4 u_color;
uniform sampler2D u_texture;

void main() {
  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;
}`,n.FRAGMENT_SHADER);if(!i||!r)return!1;var s=function(g,E,w,b){var _=g.createProgram();if(_)return E.forEach(function(C){return g.attachShader(_,C)}),w&&w.forEach(function(C,T){g.bindAttribLocation(_,b?b[T]:T,C)}),g.linkProgram(_),g.getProgramParameter(_,g.LINK_STATUS)?_:(console.log("error linking program: "+g.getProgramInfoLog(_)),g.deleteProgram(_),null);console.log("error creating WebGL program")}(n,[i,r]);if(!s)return console.log("error creating WebGL program"),!1;n.useProgram(s);var a=n.getAttribLocation(s,"a_position"),o=n.getUniformLocation(s,"u_color");if(!o)return console.log("error getting 'u_color' uniform location"),!1;var c=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,yJ,n.STATIC_DRAW),n.enableVertexAttribArray(a),n.vertexAttribPointer(a,2,n.FLOAT,!1,0,0);var p=n.createTexture(),A=new Uint8Array([255,255,255,255]);n.bindTexture(n.TEXTURE_2D,p),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,A);var l=n.createTexture();n.bindTexture(n.TEXTURE_2D,l),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,e,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);var u=n.createFramebuffer();if(n.bindFramebuffer(n.FRAMEBUFFER,u),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,l,0),n.checkFramebufferStatus(n.FRAMEBUFFER)!==n.FRAMEBUFFER_COMPLETE)return console.log("error creating framebuffer for "+e),!1;n.bindTexture(n.TEXTURE_2D,p),n.uniform4fv(o,[0,10,20,1]),n.drawArrays(n.TRIANGLES,0,6),n.bindTexture(n.TEXTURE_2D,l),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clearColor(1,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.uniform4fv(o,[0,.1,.05,1]),n.drawArrays(n.TRIANGLES,0,6);var d=new Uint8Array(4);if(n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,d),d[0]!==0||d[1]<248||d[2]<248||d[3]<254)return console.log("not able to actually render to "+e+" texture"),!1;if(e===n.FLOAT){n.bindFramebuffer(n.FRAMEBUFFER,u);var m=new Float32Array(4);n.readPixels(0,0,1,1,n.RGBA,n.FLOAT,m);var y=n.getError();if(y)return console.log("error reading pixels as float: '"+function(g,E){switch(E){case g.NO_ERROR:return"no error";case g.INVALID_ENUM:return"invalid enum";case g.INVALID_VALUE:return"invalid value";case g.INVALID_OPERATION:return"invalid operation";case g.INVALID_FRAMEBUFFER_OPERATION:return"invalid framebuffer operation";case g.OUT_OF_MEMORY:return"out of memory";case g.CONTEXT_LOST_WEBGL:return"context lost"}return"unknown error"}(n,y)+"'"),!1}return!0}var gJ=new Float32Array(100),wJ=new Uint8Array(100),Mx=[12,7,13,17,11,6,8,18,16,2,14,22,10,1,3,9,19,23,21,15,5,0,4,24,20],Zh=new Xe;function _J(e,t,n,i,r){var s=r.uniforms,a=[];if(s&&(s.objectId&&(s.objectId.value=Tc?this.id:this.id/255,a.push("objectId")),(s.modelViewMatrixInverse||s.modelViewMatrixInverseTranspose||s.modelViewProjectionMatrix||s.modelViewProjectionMatrixInverse)&&this.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,this.matrixWorld),s.modelViewMatrixInverse&&(s.modelViewMatrixInverse.value.getInverse(this.modelViewMatrix),a.push("modelViewMatrixInverse")),s.modelViewMatrixInverseTranspose&&(s.modelViewMatrixInverse?s.modelViewMatrixInverseTranspose.value.copy(s.modelViewMatrixInverse.value).transpose():s.modelViewMatrixInverseTranspose.value.getInverse(this.modelViewMatrix).transpose(),a.push("modelViewMatrixInverseTranspose")),s.modelViewProjectionMatrix&&(s.modelViewProjectionMatrix.value.multiplyMatrices(n.projectionMatrix,this.modelViewMatrix),a.push("modelViewProjectionMatrix")),s.modelViewProjectionMatrixInverse&&(s.modelViewProjectionMatrix?(Zh.copy(s.modelViewProjectionMatrix.value),s.modelViewProjectionMatrixInverse.value.getInverse(Zh)):(Zh.multiplyMatrices(n.projectionMatrix,this.modelViewMatrix),s.modelViewProjectionMatrixInverse.value.getInverse(Zh)),a.push("modelViewProjectionMatrixInverse")),a.length)){var o=e.properties.get(r);if(o.program){var c=e.getContext(),p=o.program;c.useProgram(p.program);var A=p.getUniforms();a.forEach(function(l){A.setValue(c,l,s[l].value)})}}}var Xt=function(e){if(this.boundingBox=new Yn,this.boundingBoxSize=new F,this.boundingBoxLength=0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this.distVector=new F,this.signals={ticked:new kt.exports.Signal,rendered:new kt.exports.Signal},typeof e=="string"){var t=document.getElementById(e);this.container=t===null?document.createElement("div"):t}else e instanceof HTMLElement?this.container=e:this.container=document.createElement("div");if(this.container===document.body)this.width=window.innerWidth||1,this.height=window.innerHeight||1;else{var n=this.container.getBoundingClientRect();this.width=n.width||1,this.height=n.height||1,this.container.style.overflow="hidden"}this.wrapper=document.createElement("div"),this.wrapper.style.position="relative",this.container.appendChild(this.wrapper),this._initParams(),this._initStats(),this._initCamera(),this._initScene(),this._initRenderer()!==!1?(this._initHelper(),this.setBackground(),this.setFog(),this.animate=this.animate.bind(this)):Be.error("Viewer: could not initialize renderer")},xg={cameraDistance:{configurable:!0}};Xt.prototype._initParams=function(){this.parameters={fogColor:new Je(0),fogNear:50,fogFar:100,backgroundColor:new Je(0),cameraType:"perspective",cameraFov:40,cameraEyeSep:.3,cameraZ:-80,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",lightColor:new Je(14540253),lightIntensity:1,ambientColor:new Je(14540253),ambientIntensity:.2,sampleLevel:0,rendererEncoding:yr}},Xt.prototype._initCamera=function(){var e=new F(0,0,0),t=this.width,n=this.height;this.perspectiveCamera=new Li(this.parameters.cameraFov,t/n),this.perspectiveCamera.position.z=this.parameters.cameraZ,this.perspectiveCamera.lookAt(e),this.orthographicCamera=new Wc(t/-2,t/2,n/2,n/-2),this.orthographicCamera.position.z=this.parameters.cameraZ,this.orthographicCamera.lookAt(e),this.stereoCamera=new pS,this.stereoCamera.aspect=.5,this.stereoCamera.eyeSep=this.parameters.cameraEyeSep;var i=this.parameters.cameraType;if(i==="orthographic")this.camera=this.orthographicCamera;else{if(i!=="perspective"&&i!=="stereo")throw new Error("Unknown cameraType '"+i+"'");this.camera=this.perspectiveCamera}this.camera.updateProjectionMatrix()},Xt.prototype._initStats=function(){this.stats=new O1},Xt.prototype._initScene=function(){this.scene||(this.scene=new Rl,this.scene.name="scene"),this.rotationGroup=new Dn,this.rotationGroup.name="rotationGroup",this.scene.add(this.rotationGroup),this.translationGroup=new Dn,this.translationGroup.name="translationGroup",this.rotationGroup.add(this.translationGroup),this.modelGroup=new Dn,this.modelGroup.name="modelGroup",this.translationGroup.add(this.modelGroup),this.pickingGroup=new Dn,this.pickingGroup.name="pickingGroup",this.translationGroup.add(this.pickingGroup),this.backgroundGroup=new Dn,this.backgroundGroup.name="backgroundGroup",this.translationGroup.add(this.backgroundGroup),this.helperGroup=new Dn,this.helperGroup.name="helperGroup",this.translationGroup.add(this.helperGroup),this.scene.fog=new _m(this.parameters.fogColor.getHex()),this.spotLight=new Vm(this.parameters.lightColor.getHex(),this.parameters.lightIntensity),this.scene.add(this.spotLight),this.ambientLight=new Km(this.parameters.ambientColor.getHex(),this.parameters.ambientIntensity),this.scene.add(this.ambientLight)},Xt.prototype._initRenderer=function(){var e=window.devicePixelRatio,t=this.width,n=this.height;try{this.renderer=new Wd({preserveDrawingBuffer:!0,alpha:!0,antialias:!0})}catch{return this.wrapper.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100%;"><p style="padding:15px;text-align:center;">Your browser/graphics card does not seem to support <a target="_blank" href="https://en.wikipedia.org/wiki/WebGL">WebGL</a>.<br/><br/>Find out how to get it <a target="_blank" href="http://get.webgl.org/">here</a>.</p></div>',!1}this.renderer.setPixelRatio(e),this.renderer.setSize(t,n),this.renderer.autoClear=!1,this.renderer.sortObjects=!0,this.renderer.outputEncoding=this.parameters.rendererEncoding;var i=this.renderer.getContext();this.renderer.capabilities.isWebGL2?(vx(!0),_x(this.renderer.extensions.get("EXT_color_buffer_float")),this.supportsHalfFloat=!0):(vx(this.renderer.extensions.get("EXT_frag_depth")),this.renderer.extensions.get("OES_element_index_uint"),_x(this.renderer.extensions.get("OES_texture_float")&&this.renderer.extensions.get("WEBGL_color_buffer_float")||this.renderer.extensions.get("OES_texture_float")&&qh(i.FLOAT)),this.renderer.extensions.get("OES_texture_float"),this.supportsHalfFloat=this.renderer.extensions.get("OES_texture_half_float")&&qh(36193)),this.wrapper.appendChild(this.renderer.domElement);var r=t*e,s=n*e;De&&console.log(JSON.stringify({Browser:SS,OES_texture_float:!!this.renderer.extensions.get("OES_texture_float"),OES_texture_half_float:!!this.renderer.extensions.get("OES_texture_half_float"),WEBGL_color_buffer_float:!!this.renderer.extensions.get("WEBGL_color_buffer_float"),"testTextureSupport Float":qh(i.FLOAT),"testTextureSupport HalfFloat":qh(36193),"this.supportsHalfFloat":this.supportsHalfFloat,SupportsReadPixelsFloat:Tc},null,2)),this.pickingTarget=new Lr(r,s,{minFilter:Vn,magFilter:Vn,stencilBuffer:!1,format:$r,type:Tc?Lo:Gp}),this.pickingTarget.texture.generateMipmaps=!1,this.pickingTarget.texture.encoding=this.parameters.rendererEncoding,this.renderer.setRenderTarget(this.pickingTarget),this.renderer.clear(),this.renderer.setRenderTarget(null),this.sampleTarget=new Lr(r,s,{minFilter:Ii,magFilter:Ii,format:$r}),this.sampleTarget.texture.encoding=this.parameters.rendererEncoding,this.holdTarget=new Lr(r,s,{minFilter:Vn,magFilter:Vn,format:$r,type:Gp}),this.holdTarget.texture.encoding=this.parameters.rendererEncoding,this.compositeUniforms={tForeground:new Cd(this.sampleTarget.texture),scale:new Cd(1)},this.compositeMaterial=new Qi({uniforms:this.compositeUniforms,vertexShader:gf("Quad.vert"),fragmentShader:gf("Quad.frag"),premultipliedAlpha:!0,transparent:!0,blending:gw,depthTest:!1,depthWrite:!1}),this.compositeCamera=new Wc(-1,1,1,-1,0,1),this.compositeScene=new Rl,this.compositeScene.name="compositeScene",this.compositeScene.add(new $n(new td(2,2),this.compositeMaterial))},Xt.prototype._initHelper=function(){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),t=new Float32Array(24),n=new pt;n.setIndex(new bt(e,1)),n.setAttribute("position",new bt(t,3));var i=new Qi({uniforms:{uColor:{value:new Je("skyblue")}},vertexShader:gf("BasicLine.vert"),fragmentShader:gf("BasicLine.frag")});this.boundingBoxMesh=new fi(n,i),this.helperGroup.add(this.boundingBoxMesh)},Xt.prototype.updateHelper=function(){var e=this.boundingBoxMesh.geometry.attributes.position,t=e.array,n=this.boundingBox,i=n.min,r=n.max;t[0]=r.x,t[1]=r.y,t[2]=r.z,t[3]=i.x,t[4]=r.y,t[5]=r.z,t[6]=i.x,t[7]=i.y,t[8]=r.z,t[9]=r.x,t[10]=i.y,t[11]=r.z,t[12]=r.x,t[13]=r.y,t[14]=i.z,t[15]=i.x,t[16]=r.y,t[17]=i.z,t[18]=i.x,t[19]=i.y,t[20]=i.z,t[21]=r.x,t[22]=i.y,t[23]=i.z,e.needsUpdate=!0,this.boundingBox.isEmpty()||this.boundingBoxMesh.geometry.computeBoundingSphere()},xg.cameraDistance.get=function(){return Math.abs(this.camera.position.z)},xg.cameraDistance.set=function(e){this.camera.position.z=-e},Xt.prototype.add=function(e,t){var n=this;t?t.forEach(function(i){return n.addBuffer(e,i)}):this.addBuffer(e),e.group.name="meshGroup",e.wireframeGroup.name="wireframeGroup",e.parameters.background?(this.backgroundGroup.add(e.group),this.backgroundGroup.add(e.wireframeGroup)):(this.modelGroup.add(e.group),this.modelGroup.add(e.wireframeGroup)),e.pickable&&this.pickingGroup.add(e.pickingGroup),De&&this.updateHelper()},Xt.prototype.addBuffer=function(e,t){function n(a){a instanceof Dn?a.children.forEach(n):(a.userData.buffer=e,a.userData.instance=t,a.onBeforeRender=_J)}var i=e.getMesh();t&&i.applyMatrix4(t.matrix),n(i),e.group.add(i);var r=e.getWireframeMesh();if(t&&(r.matrix.copy(i.matrix),r.position.copy(i.position),r.quaternion.copy(i.quaternion),r.scale.copy(i.scale)),n(r),e.wireframeGroup.add(r),e.pickable){var s=e.getPickingMesh();t&&(s.matrix.copy(i.matrix),s.position.copy(i.position),s.quaternion.copy(i.quaternion),s.scale.copy(i.scale)),n(s),e.pickingGroup.add(s)}t?this._updateBoundingBox(e.geometry,e.matrix,t.matrix):this._updateBoundingBox(e.geometry,e.matrix)},Xt.prototype.remove=function(e){this.translationGroup.children.forEach(function(t){t.remove(e.group),t.remove(e.wireframeGroup)}),e.pickable&&this.pickingGroup.remove(e.pickingGroup),this.updateBoundingBox(),De&&this.updateHelper()},Xt.prototype._updateBoundingBox=function(e,t,n){var i=this.boundingBox;function r(a,o,c){a.boundingBox==null&&a.computeBoundingBox();var p=a.boundingBox.clone();o&&p.applyMatrix4(o),c&&p.applyMatrix4(c),p.min.equals(p.max)&&p.expandByScalar(5),i.union(p)}function s(a){var o,c;a.geometry!==void 0&&(a.userData.buffer&&(o=a.userData.buffer.matrix),a.userData.instance&&(c=a.userData.instance.matrix),r(a.geometry,o,c))}e?r(e,t,n):(i.makeEmpty(),this.modelGroup.traverse(s),this.backgroundGroup.traverse(s)),i.getSize(this.boundingBoxSize),this.boundingBoxLength=this.boundingBoxSize.length()},Xt.prototype.updateBoundingBox=function(){this._updateBoundingBox(),De&&this.updateHelper()},Xt.prototype.getPickingPixels=function(){var e=this.width,t=this.height,n=e*t*4,i=Tc?new Float32Array(n):new Uint8Array(n);return this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,0,0,e,t,i),i},Xt.prototype.getImage=function(e){var t=this;return new Promise(function(n){if(e){var i=t,r=i.width,s=i.height,a=r*s*4,o=t.getPickingPixels();if(Tc){for(var c=new Uint8Array(a),p=0;p<a;++p)c[p]=Math.round(255*o[p]);o=c}var A=document.createElement("canvas");A.width=r,A.height=s;var l=A.getContext("2d"),u=l.getImageData(0,0,r,s);u.data.set(o),l.putImageData(u,0,0),A.toBlob(n,"image/png")}else t.renderer.domElement.toBlob(n,"image/png")})},Xt.prototype.makeImage=function(e){return e===void 0&&(e={}),EJ(this,e)},Xt.prototype.setLight=function(e,t,n,i){var r=this.parameters;e!==void 0&&r.lightColor.set(e),t!==void 0&&(r.lightIntensity=t),n!==void 0&&r.ambientColor.set(n),i!==void 0&&(r.ambientIntensity=i),this.requestRender()},Xt.prototype.setFog=function(e,t,n){var i=this.parameters;e!==void 0&&i.fogColor.set(e),t!==void 0&&(i.fogNear=t),n!==void 0&&(i.fogFar=n),this.requestRender()},Xt.prototype.setBackground=function(e){var t=this.parameters;e&&t.backgroundColor.set(e),this.setFog(t.backgroundColor),this.renderer.setClearColor(t.backgroundColor,0),this.renderer.domElement.style.backgroundColor=t.backgroundColor.getStyle(),this.requestRender()},Xt.prototype.setSampling=function(e){e!==void 0&&(this.parameters.sampleLevel=e,this.sampleLevel=e),this.requestRender()},Xt.prototype.setOutputEncoding=function(e){this.parameters.rendererEncoding=e,this.renderer.outputEncoding=e,this.pickingTarget.texture.encoding=e,this.sampleTarget.texture.encoding=e,this.holdTarget.texture.encoding=e},Xt.prototype.setColorWorkflow=function(e){if(e!="linear"&&e!="sRGB")throw new Error("setColorWorkflow: invalid color workflow "+e);TS=e=="linear"?"linear":"sRGB",this.setOutputEncoding(e=="linear"?Kd:yr),this.requestRender()},Xt.prototype.setCamera=function(e,t,n){var i=this.parameters;if(e&&(i.cameraType=e),t&&(i.cameraFov=t),n&&(i.cameraEyeSep=n),i.cameraType==="orthographic")this.camera!==this.orthographicCamera&&(this.camera=this.orthographicCamera,this.camera.position.copy(this.perspectiveCamera.position),this.camera.up.copy(this.perspectiveCamera.up),this.updateZoom());else{if(i.cameraType!=="perspective"&&i.cameraType!=="stereo")throw new Error("Unknown cameraType '"+i.cameraType+"'");this.camera!==this.perspectiveCamera&&(this.camera=this.perspectiveCamera,this.camera.position.copy(this.orthographicCamera.position),this.camera.up.copy(this.orthographicCamera.up))}this.perspectiveCamera.fov=i.cameraFov,this.stereoCamera.eyeSep=i.cameraEyeSep,this.camera.updateProjectionMatrix(),this.requestRender()},Xt.prototype.setClip=function(e,t,n,i,r){var s=this.parameters;e!==void 0&&(s.clipNear=e),t!==void 0&&(s.clipFar=t),n!==void 0&&(s.clipDist=n),i!==void 0&&(s.clipMode=i),r!==void 0&&(s.clipScale=r),this.requestRender()},Xt.prototype.setSize=function(e,t){this.width=e||1,this.height=t||1,this.perspectiveCamera.aspect=this.width/this.height,this.orthographicCamera.left=-this.width/2,this.orthographicCamera.right=this.width/2,this.orthographicCamera.top=this.height/2,this.orthographicCamera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var n=window.devicePixelRatio;this.renderer.setPixelRatio(n),this.renderer.setSize(e,t);var i=this.width*n,r=this.height*n;this.pickingTarget.setSize(i,r),this.sampleTarget.setSize(i,r),this.holdTarget.setSize(i,r),this.requestRender()},Xt.prototype.handleResize=function(){if(this.container===document.body)this.setSize(window.innerWidth,window.innerHeight);else{var e=this.container.getBoundingClientRect();this.setSize(e.width,e.height)}},Xt.prototype.updateInfo=function(e){var t=this.info,n=t.memory,i=t.render;if(e)n.programs=0,n.geometries=0,n.textures=0,i.calls=0,i.vertices=0,i.points=0;else{var r=this.renderer.info,s=r.memory,a=r.render;n.geometries=s.geometries,n.textures=s.textures,i.calls+=a.calls,i.faces+=a.triangles,i.points+=a.points}},Xt.prototype.animate=function(){if(this.signals.ticked.dispatch(this.stats),window.performance.now()-this.stats.startTime>500&&!this.isStill&&this.sampleLevel<3&&this.sampleLevel!==-1){var e=this.sampleLevel;this.sampleLevel=3,this.renderPending=!0,this.render(),this.isStill=!0,this.sampleLevel=e,De&&Be.log("rendered still frame")}this.frameRequest=window.requestAnimationFrame(this.animate)},Xt.prototype.pick=function(e,t){if(this.parameters.cameraType==="stereo")return{pid:0,instance:void 0,picker:void 0};e*=window.devicePixelRatio,t*=window.devicePixelRatio,e=Math.max(e-2,0),t=Math.max(t-2,0);var n,i,r=0,s=Tc?gJ:wJ;this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,e,t,5,5,s);for(var a=0;a<Mx.length;a++){var o=4*Mx[a],c=Math.round(s[o+3]),p=this.pickingGroup.getObjectById(c);p&&(n=p.userData.instance,i=p.userData.buffer.picking,r=Tc?Math.round(255*s[o])<<16&16711680|Math.round(255*s[o+1])<<8&65280|255&Math.round(255*s[o+2]):s[o]<<16|s[o+1]<<8|s[o+2])}return{pid:r,instance:n,picker:i}},Xt.prototype.requestRender=function(){var e=this;this.renderPending||(window.performance.now()-this.stats.startTime>22&&(this.stats.begin(),this.isStill=!1),this.renderPending=!0,window.requestAnimationFrame(function(){e.render(),e.stats.update()}))},Xt.prototype.updateZoom=function(){var e=li(this.perspectiveCamera.fov),t=2*Math.tan(e/2)*this.cameraDistance;this.orthographicCamera.zoom=this.height/t},Xt.prototype.absoluteToRelative=function(e){return 50*(1-e/this.bRadius)},Xt.prototype.relativeToAbsolute=function(e){return this.bRadius*(1-e/50)},Xt.prototype.__updateClipping=function(){var e=this.parameters;this.bRadius=Math.max(10,.5*this.boundingBoxLength),isFinite(this.bRadius)||(this.bRadius=50),this.camera.getWorldPosition(this.distVector),this.cDist=this.distVector.length(),this.cDist||(this.cameraDistance=Math.abs(e.cameraZ),this.cDist=Math.abs(e.cameraZ));var t=this.scene.fog;if(t.color.set(e.fogColor),e.clipMode==="camera")this.camera.near=e.clipNear,this.camera.far=e.clipFar,t.near=e.fogNear,t.far=e.fogFar;else if(e.clipScale==="absolute")this.camera.near=this.cDist-e.clipNear,this.camera.far=this.cDist+e.clipFar,t.near=this.cDist-e.fogNear,t.far=this.cDist+e.fogFar;else{var n=(50-e.clipNear)/50,i=-(50-e.clipFar)/50;this.camera.near=this.cDist-this.bRadius*n,this.camera.far=this.cDist+this.bRadius*i;var r=(50-e.fogNear)/50,s=-(50-e.fogFar)/50;t.near=this.cDist-this.bRadius*r,t.far=this.cDist+this.bRadius*s}e.clipMode!=="camera"&&(this.camera.type==="PerspectiveCamera"?(this.camera.near=Math.max(.1,e.clipDist,this.camera.near),this.camera.far=Math.max(1,this.camera.far),t.near=Math.max(.1,t.near),t.far=Math.max(1,t.far)):this.camera.type==="OrthographicCamera"&&e.clipDist>0&&(this.camera.near=Math.max(e.clipDist,this.camera.near)))},Xt.prototype.__updateCamera=function(){var e=this.camera;e.updateMatrix(),e.updateMatrixWorld(!0),e.updateProjectionMatrix(),function(t,n,i,r,s){var a=new Ke;i.getSize(a);var o=a.height,c=i.getPixelRatio(),p=n.type==="OrthographicCamera";Tx.set(a.width,a.height),qm.getInverse(n.projectionMatrix),Zm.copy(n.projectionMatrix).transpose(),t.traverse(function(A){var l=A.material;if(l){var u=l.uniforms;if(u){if(l.clipNear){var d=(50-l.clipNear)/50,m=r-s*d;u.clipNear.value=m}u.canvasHeight&&(u.canvasHeight.value=o),u.resolution&&u.resolution.value.copy(Tx),u.pixelRatio&&(u.pixelRatio.value=c),u.projectionMatrixInverse&&u.projectionMatrixInverse.value.copy(qm),u.projectionMatrixTranspose&&u.projectionMatrixTranspose.value.copy(Zm),u.ortho&&(u.ortho.value=p)}}})}(this.scene,e,this.renderer,this.cDist,this.bRadius),function(t,n){t.traverseVisible(function(i){if(i instanceof rd&&i.userData.buffer.parameters.sortParticles){var r=i.geometry.attributes,s=r.position.count;if(s!==0){var a,o,c,p,A,l,u;bx.multiplyMatrices(n.matrixWorldInverse,i.matrixWorld),xx.multiplyMatrices(n.projectionMatrix,bx),i.userData.sortData?(a=i.userData.sortData,c=a.__zArray,o=a.__sortArray,p=a.__cmpFn):(c=new Float32Array(s),o=new Uint32Array(s),a={__zArray:c,__sortArray:o,__cmpFn:p=function(_,C){var T=c[_],x=c[C];return T>x?1:T<x?-1:0}},i.userData.sortData=a);for(var d=0;d<s;++d)vg.fromArray(r.position.array,3*d),vg.applyMatrix4(xx),c[d]=-vg.z,o[d]=d;for(var m in function(_,C,T,x){T===void 0&&(T=0),C=C||function(K,W){return K>W?1:K<W?-1:0};var O,M,H,R=[],D=-1,P=T,I=x=(x||_.length)-1;function L(K,W){var ee=_[K];_[K]=_[W],_[W]=ee}for(;;)if(I-P<=25){for(var k=P+1;k<=I;++k){for(O=_[k],M=k-1;M>=P&&C(_[M],O)>0;)_[M+1]=_[M],--M;_[M+1]=O}if(D===-1)break;I=R[D--],P=R[D--]}else{for(H=I,L(P+I>>1,M=P+1),C(_[P],_[I])>0&&L(P,I),C(_[M],_[I])>0&&L(M,I),C(_[P],_[M])>0&&L(P,M),O=_[M];;){do M++;while(C(_[M],O)<0);do H--;while(C(_[H],O)>0);if(H<M)break;L(M,H)}_[P+1]=_[H],_[H]=O,I-M+1>=H-P?(R[++D]=M,R[++D]=I,I=H-1):(R[++D]=P,R[++D]=H-1,P=M)}}(o,p),r){var y=r[m],g=y.array,E=y.itemSize;a[m]||(a[m]=new Float32Array(E*s)),u=a[m],a[m]=g;for(var w=0;w<s;++w){A=o[w];for(var b=0;b<E;++b)l=A*E+b,u[w*E+b]=g[l]}r[m].array=u,r[m].needsUpdate=!0}}}})}(this.scene,e)},Xt.prototype.__setVisibility=function(e,t,n,i){this.modelGroup.visible=e,this.pickingGroup.visible=t,this.backgroundGroup.visible=n,this.helperGroup.visible=i},Xt.prototype.__updateLights=function(){this.spotLight.color.set(this.parameters.lightColor),this.spotLight.intensity=this.parameters.lightIntensity,this.distVector.copy(this.camera.position).setLength(100*this.boundingBoxLength),this.spotLight.position.copy(this.camera.position).add(this.distVector),this.ambientLight.color.set(this.parameters.ambientColor),this.ambientLight.intensity=this.parameters.ambientIntensity},Xt.prototype.__renderPickingGroup=function(e){this.renderer.setRenderTarget(this.pickingTarget||null),this.renderer.clear(),this.__setVisibility(!1,!0,!1,!1),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},Xt.prototype.__renderModelGroup=function(e,t){this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.__setVisibility(!1,!1,!0,!1),this.renderer.render(this.scene,e),this.renderer.clear(!1,!0,!0),this.updateInfo(),this.__setVisibility(!0,!1,!1,De),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},Xt.prototype.__renderSuperSample=function(e,t){var n=FS[Math.max(0,Math.min(this.sampleLevel,5))],i=1/n.length;this.compositeUniforms.tForeground.value=this.sampleTarget.texture;var r=this.sampleTarget.width,s=this.sampleTarget.height;this.parameters.cameraType==="stereo"&&(r/=2);for(var a=0;a<n.length;++a){var o=n[a];e.setViewOffset(r,s,o[0],o[1],r,s),e.updateProjectionMatrix(),Cg(this.scene,e);var c=i;c+=.03125*((a+.5)/n.length-.5),this.compositeUniforms.scale.value=c,this.__renderModelGroup(e,this.sampleTarget),this.renderer.setRenderTarget(this.holdTarget),a===0&&this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)}this.compositeUniforms.scale.value=1,this.compositeUniforms.tForeground.value=this.holdTarget.texture,e.clearViewOffset(),this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)},Xt.prototype.__renderStereo=function(e,t){e===void 0&&(e=!1);var n=this.stereoCamera;n.update(this.perspectiveCamera);var i=this.renderer,r=new Ke;i.getSize(r),i.setScissorTest(!0),i.setScissor(0,0,r.width/2,r.height),i.setViewport(0,0,r.width/2,r.height),Cg(this.scene,n.cameraL),this.__render(e,n.cameraL),i.setScissor(r.width/2,0,r.width/2,r.height),i.setViewport(r.width/2,0,r.width/2,r.height),Cg(this.scene,n.cameraR),this.__render(e,n.cameraR),i.setScissorTest(!1),i.setViewport(0,0,r.width,r.height)},Xt.prototype.__render=function(e,t,n){e===void 0&&(e=!1),e?this.lastRenderedPicking||this.__renderPickingGroup(t):this.sampleLevel>0&&this.parameters.cameraType!=="stereo"?this.__renderSuperSample(t,n):this.__renderModelGroup(t,n)},Xt.prototype.render=function(e,t){if(e===void 0&&(e=!1),this.rendering)Be.warn("'tried to call 'render' from within 'render'");else{this.rendering=!0;try{this.__updateClipping(),this.__updateCamera(),this.__updateLights(),this.updateInfo(!0),this.parameters.cameraType==="stereo"?this.__renderStereo(e,t):this.__render(e,this.camera,t),this.lastRenderedPicking=e}finally{this.rendering=!1,this.renderPending=!1}this.signals.rendered.dispatch()}},Xt.prototype.clear=function(){Be.log("scene cleared"),this.scene.remove(this.rotationGroup),this._initScene(),this.renderer.clear()},Xt.prototype.dispose=function(){this.renderer.dispose(),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(Xt.prototype,xg);function Sx(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;return Math.sqrt(t*t+n*n)}var Ar=function(e,t){t===void 0&&(t={}),this.domElement=e,this.signals={moved:new kt.exports.Signal,scrolled:new kt.exports.Signal,dragged:new kt.exports.Signal,dropped:new kt.exports.Signal,clicked:new kt.exports.Signal,hovered:new kt.exports.Signal,doubleClicked:new kt.exports.Signal},this.position=new Ke,this.prevPosition=new Ke,this.down=new Ke,this.canvasPosition=new Ke,this.prevClickCP=new Ke,this.moving=!1,this.hovering=!0,this.scrolled=!1,this.lastMoved=1/0,this.which=0,this.buttons=0,this.pressed=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.domElement.style.touchAction="none",this.hoverTimeout=G(t.hoverTimeout,50),this.handleScroll=G(t.handleScroll,!0),this.doubleClickSpeed=G(t.doubleClickSpeed,500),this._listen=this._listen.bind(this),this._onMousewheel=this._onMousewheel.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onContextmenu=this._onContextmenu.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._listen();var n={passive:!1};document.addEventListener("mousewheel",this._onMousewheel,n),document.addEventListener("wheel",this._onMousewheel,n),document.addEventListener("MozMousePixelScroll",this._onMousewheel,n),document.addEventListener("mousemove",this._onMousemove,n),document.addEventListener("mousedown",this._onMousedown,n),document.addEventListener("mouseup",this._onMouseup,n),document.addEventListener("contextmenu",this._onContextmenu,n),document.addEventListener("touchstart",this._onTouchstart,n),document.addEventListener("touchend",this._onTouchend,n),document.addEventListener("touchmove",this._onTouchmove,n)},Ox={key:{configurable:!0}};Ox.key.get=function(){var e=0;return this.altKey&&(e+=1),this.ctrlKey&&(e+=2),this.metaKey&&(e+=4),this.shiftKey&&(e+=8),e},Ar.prototype.setParameters=function(e){e===void 0&&(e={}),this.hoverTimeout=G(e.hoverTimeout,this.hoverTimeout)},Ar.prototype._listen=function(){var e=window.performance.now(),t=this.canvasPosition;this.doubleClickPending&&e-this.lastClicked>this.doubleClickSpeed&&(this.doubleClickPending=!1),e-this.lastMoved>this.hoverTimeout&&(this.moving=!1),(this.scrolled||!this.moving&&!this.hovering)&&(this.scrolled=!1,this.hoverTimeout!==-1&&this.overElement&&(this.hovering=!0,this.signals.hovered.dispatch(t.x,t.y))),this.frameRequest=window.requestAnimationFrame(this._listen)},Ar.prototype._onMousewheel=function(e){var t=this;if(e.target===this.domElement&&this.handleScroll){e.preventDefault(),this._setKeys(e);var n=0;"deltaY"in e&&"deltaMode"in e&&e.deltaY!==void 0&&e.deltaMode!==void 0?n=e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?.025*-e.deltaY:e.deltaMode===WheelEvent.DOM_DELTA_LINE?-e.deltaY*(2.5/3):2.5*-e.deltaY:"deltaY"in e&&!("detail"in e)?n=.025*-e.deltaY:e.wheelDelta!==void 0?n=.025*-e.wheelDelta:e.wheelDeltaY!==void 0?n=.025*-e.wheelDeltaY:e.detail!==void 0&&(n=-e.detail/3),this.signals.scrolled.dispatch(n),setTimeout(function(){t.scrolled=!0},this.hoverTimeout)}},Ar.prototype._onMousemove=function(e){e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,this._setKeys(e),this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.clientX,e.clientY),this._setCanvasPosition(e);var t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n)},Ar.prototype._onMousedown=function(e){e.target===this.domElement&&(e.preventDefault(),this._setKeys(e),this.moving=!1,this.hovering=!1,this.down.set(e.clientX,e.clientY),this.position.set(e.clientX,e.clientY),this.which=e.which,this.buttons=function(t){if(typeof t=="object"){if("buttons"in t)return t.buttons;if("which"in t){var n=t.which;if(n===2)return 4;if(n===3)return 2;if(n>0)return 1<<n-1}else if("button"in t){var i=t.button;if(i===1)return 4;if(i===2)return 2;if(i>=0)return 1<<i}}return 0}(e),this.pressed=!0,this._setCanvasPosition(e))},Ar.prototype._onMouseup=function(e){e.target===this.domElement&&e.preventDefault(),this._setKeys(e);var t=this.canvasPosition;this._distance()<4&&(this.lastClicked=window.performance.now(),this.doubleClickPending&&this.prevClickCP.distanceTo(t)<4&&(this.signals.doubleClicked.dispatch(t.x,t.y),this.doubleClickPending=!1),this.signals.clicked.dispatch(t.x,t.y),this.doubleClickPending=!0,this.prevClickCP.copy(t)),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Ar.prototype._onContextmenu=function(e){e.target===this.domElement&&e.preventDefault()},Ar.prototype._onTouchstart=function(e){if(e.target===this.domElement)switch(e.preventDefault(),this.pressed=!0,e.touches.length){case 1:this.moving=!1,this.hovering=!1,this.down.set(e.touches[0].pageX,e.touches[0].pageY),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);break;case 2:this.down.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.lastTouchDistance=Sx(e)}},Ar.prototype._onTouchend=function(e){e.target===this.domElement&&e.preventDefault(),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Ar.prototype._onTouchmove=function(e){switch(e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,e.touches.length){case 1:this._setKeys(e),this.which=1,this.buttons=1,this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);var t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n);break;case 2:var i=Sx(e),r=i-this.lastTouchDistance;if(this.lastTouchDistance=i,this.prevPosition.copy(this.position),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),Math.abs(r)>2&&this.handleScroll&&this.position.distanceTo(this.prevPosition)<2)this.which=0,this.buttons=0,this.signals.scrolled.dispatch(r/2);else{this.which=3,this.buttons=2;var s=this.prevPosition.x-this.position.x,a=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(s,a),this.pressed&&this.signals.dragged.dispatch(s,a)}}},Ar.prototype._distance=function(){return this.position.distanceTo(this.down)},Ar.prototype._setCanvasPosition=function(e){var t,n,i=this.domElement.getBoundingClientRect();"clientX"in e&&"clientY"in e?(t=e.clientX-i.left,n=e.clientY-i.top):(t=e.offsetX,n=e.offsetY),this.canvasPosition.set(t,i.height-n)},Ar.prototype._setKeys=function(e){this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey},Ar.prototype.dispose=function(){document.removeEventListener("mousewheel",this._onMousewheel),document.removeEventListener("wheel",this._onMousewheel),document.removeEventListener("MozMousePixelScroll",this._onMousewheel),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mousedown",this._onMousedown),document.removeEventListener("mouseup",this._onMouseup),document.removeEventListener("contextmenu",this._onContextmenu),document.removeEventListener("touchstart",this._onTouchstart),document.removeEventListener("touchend",this._onTouchend),document.removeEventListener("touchmove",this._onTouchmove),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(Ar.prototype,Ox);var Tg=new Xe,Bg=new Xe,Lx=new Xe,Qr=new Xe,Rx=new Xe,Ls=new F,Yu=new zn,Ix=new zn,Co=new Xe,gp=new F,Jh=new F,cs=function(e,t){t===void 0&&(t={}),this.stage=e,this.rotateSpeed=G(t.rotateSpeed,2),this.zoomSpeed=G(t.zoomSpeed,1.2),this.panSpeed=G(t.panSpeed,1),this.viewer=e.viewer,this.mouse=e.mouseObserver,this.controls=e.viewerControls},Mg={component:{configurable:!0},atom:{configurable:!0}};Mg.component.get=function(){return this.stage.transformComponent},Mg.atom.get=function(){return this.stage.transformAtom},cs.prototype._setPanVector=function(e,t,n){n===void 0&&(n=0);var i=this.controls.getCanvasScaleFactor(n);gp.set(e,t,0),gp.multiplyScalar(this.panSpeed*i)},cs.prototype._getRotateXY=function(e,t){return[this.rotateSpeed*-e*.01,this.rotateSpeed*t*.01]},cs.prototype._getCameraRotation=function(e){return e.extractRotation(this.viewer.camera.matrixWorld),e.multiply(Bg.makeRotationY(Math.PI)),e},cs.prototype._transformPanVector=function(){this.component&&(Co.extractRotation(this.component.transform),Co.premultiply(this.viewer.rotationGroup.matrix),Co.getInverse(Co),Co.multiply(this._getCameraRotation(Qr)),gp.applyMatrix4(Co))},cs.prototype.zoom=function(e){this.controls.zoom(this.zoomSpeed*e*.02)},cs.prototype.pan=function(e,t){this._setPanVector(e,t),Co.getInverse(this.viewer.rotationGroup.matrix),Co.multiply(this._getCameraRotation(Qr)),gp.applyMatrix4(Co),this.controls.translate(gp)},cs.prototype.panComponent=function(e,t){this.component&&(this._setPanVector(e,t),this._transformPanVector(),this.component.position.add(gp),this.component.updateMatrix())},cs.prototype.panAtom=function(e,t){this.atom&&this.component&&(this.atom.positionToVector3(Jh),Jh.add(this.viewer.translationGroup.position),Jh.applyMatrix4(this.viewer.rotationGroup.matrix),this._setPanVector(e,t,Jh.z),this._transformPanVector(),this.atom.positionAdd(gp),this.component.updateRepresentations({position:!0}))},cs.prototype.rotate=function(e,t){var n=this._getRotateXY(e,t),i=n[0],r=n[1];this._getCameraRotation(Qr),Ls.set(1,0,0),Ls.applyMatrix4(Qr),Yu.setFromAxisAngle(Ls,r),Ls.set(0,1,0),Ls.applyMatrix4(Qr),Ix.setFromAxisAngle(Ls,i),Yu.multiply(Ix),Qr.makeRotationFromQuaternion(Yu),this.controls.applyMatrix(Qr)},cs.prototype.zRotate=function(e,t){var n=this.rotateSpeed*((-e+t)/-2)*.01;Lx.makeRotationZ(n),this.controls.applyMatrix(Lx)},cs.prototype.rotateComponent=function(e,t){if(this.component){var n=this._getRotateXY(e,t),i=n[0],r=n[1];this._getCameraRotation(Rx),Qr.extractRotation(this.component.transform),Qr.premultiply(this.viewer.rotationGroup.matrix),Qr.getInverse(Qr),Qr.premultiply(Rx),Ls.set(1,0,0),Ls.applyMatrix4(Qr),Tg.makeRotationAxis(Ls,r),Ls.set(0,1,0),Ls.applyMatrix4(Qr),Bg.makeRotationAxis(Ls,i),Tg.multiply(Bg),Yu.setFromRotationMatrix(Tg),this.component.quaternion.premultiply(Yu),this.component.quaternion.normalize(),this.component.updateMatrix()}},Object.defineProperties(cs.prototype,Mg);var QA=new F,F1=function(e,t){this.stage=t,this.pid=e.pid,this.picker=e.picker,this.instance=e.instance,this.stage=t,this.controls=t.viewerControls,this.mouse=t.mouseObserver},_n={type:{configurable:!0},altKey:{configurable:!0},ctrlKey:{configurable:!0},metaKey:{configurable:!0},shiftKey:{configurable:!0},canvasPosition:{configurable:!0},component:{configurable:!0},object:{configurable:!0},position:{configurable:!0},closestBondAtom:{configurable:!0},closeAtom:{configurable:!0},arrow:{configurable:!0},atom:{configurable:!0},axes:{configurable:!0},bond:{configurable:!0},box:{configurable:!0},cone:{configurable:!0},clash:{configurable:!0},contact:{configurable:!0},cylinder:{configurable:!0},distance:{configurable:!0},ellipsoid:{configurable:!0},octahedron:{configurable:!0},point:{configurable:!0},mesh:{configurable:!0},slice:{configurable:!0},sphere:{configurable:!0},tetrahedron:{configurable:!0},torus:{configurable:!0},surface:{configurable:!0},unitcell:{configurable:!0},unknown:{configurable:!0},volume:{configurable:!0},wideline:{configurable:!0}};_n.type.get=function(){return this.picker.type},_n.altKey.get=function(){return this.mouse.altKey},_n.ctrlKey.get=function(){return this.mouse.ctrlKey},_n.metaKey.get=function(){return this.mouse.metaKey},_n.shiftKey.get=function(){return this.mouse.shiftKey},_n.canvasPosition.get=function(){return this.mouse.canvasPosition},_n.component.get=function(){return this.stage.getComponentsByObject(this.picker.data).list[0]},_n.object.get=function(){return this.picker.getObject(this.pid)},_n.position.get=function(){return this.picker.getPosition(this.pid,this.instance,this.component)},_n.closestBondAtom.get=function(){if(this.type==="bond"&&this.bond){var e=this.bond,t=this.controls,n=this.canvasPosition,i=e.atom1.positionToVector3(),r=e.atom2.positionToVector3();i.applyMatrix4(this.component.matrix),r.applyMatrix4(this.component.matrix);var s,a,o,c=t.getPositionOnCanvas(i),p=t.getPositionOnCanvas(r);return a=c,o=p,(s=n).distanceTo(a)<s.distanceTo(o)?e.atom1:e.atom2}},_n.closeAtom.get=function(){var e=this.canvasPosition,t=this.closestBondAtom;if(t){var n=t.positionToVector3().applyMatrix4(this.component.matrix),i=this.controls.getPositionOnCanvas(n);t.positionToVector3(QA),this.instance&&QA.applyMatrix4(this.instance.matrix),QA.applyMatrix4(this.component.matrix);var r=this.controls.viewer;QA.add(r.translationGroup.position),QA.applyMatrix4(r.rotationGroup.matrix);var s=this.controls.getCanvasScaleFactor(QA.z),a=this.component.getMaxRepresentationRadius(t.index);return e.distanceTo(i)<=a/s?t:void 0}},_n.arrow.get=function(){return this._objectIfType("arrow")},_n.atom.get=function(){return this._objectIfType("atom")},_n.axes.get=function(){return this._objectIfType("axes")},_n.bond.get=function(){return this._objectIfType("bond")},_n.box.get=function(){return this._objectIfType("box")},_n.cone.get=function(){return this._objectIfType("cone")},_n.clash.get=function(){return this._objectIfType("clash")},_n.contact.get=function(){return this._objectIfType("contact")},_n.cylinder.get=function(){return this._objectIfType("cylinder")},_n.distance.get=function(){return this._objectIfType("distance")},_n.ellipsoid.get=function(){return this._objectIfType("ellipsoid")},_n.octahedron.get=function(){return this._objectIfType("octahedron")},_n.point.get=function(){return this._objectIfType("point")},_n.mesh.get=function(){return this._objectIfType("mesh")},_n.slice.get=function(){return this._objectIfType("slice")},_n.sphere.get=function(){return this._objectIfType("sphere")},_n.tetrahedron.get=function(){return this._objectIfType("tetrahedron")},_n.torus.get=function(){return this._objectIfType("torus")},_n.surface.get=function(){return this._objectIfType("surface")},_n.unitcell.get=function(){return this._objectIfType("unitcell")},_n.unknown.get=function(){return this._objectIfType("unknown")},_n.volume.get=function(){return this._objectIfType("volume")},_n.wideline.get=function(){return this._objectIfType("wideline")},F1.prototype._objectIfType=function(e){return this.type===e?this.object:void 0},F1.prototype.getLabel=function(){var e=this.atom||this.closeAtom,t="nothing";return this.arrow?t=this.arrow.name:e?t="atom: "+e.qualifiedName()+" ("+e.structure.name+")":this.axes?t="axes":this.bond?t="bond: "+this.bond.atom1.qualifiedName()+" - "+this.bond.atom2.qualifiedName()+" ("+this.bond.structure.name+")":this.box?t=this.box.name:this.cone?t=this.cone.name:this.clash?t="clash: "+this.clash.clash.sele1+" - "+this.clash.clash.sele2:this.contact?t=this.contact.type+": "+this.contact.atom1.qualifiedName()+" - "+this.contact.atom2.qualifiedName()+" ("+this.contact.atom1.structure.name+")":this.cylinder?t=this.cylinder.name:this.distance?t="distance: "+this.distance.atom1.qualifiedName()+" - "+this.distance.atom2.qualifiedName()+" ("+this.distance.structure.name+")":this.ellipsoid?t=this.ellipsoid.name:this.octahedron?t=this.octahedron.name:this.point?t=this.point.name:this.mesh?t="mesh: "+(this.mesh.name||this.mesh.serial)+" ("+this.mesh.shape.name+")":this.slice?t="slice: "+this.slice.value.toPrecision(3)+" ("+this.slice.volume.name+")":this.sphere?t=this.sphere.name:this.surface?t="surface: "+this.surface.surface.name:this.tetrahedron?t=this.tetrahedron.name:this.torus?t=this.torus.name:this.unitcell?t="unitcell: "+this.unitcell.unitcell.spacegroup+" ("+this.unitcell.structure.name+")":this.unknown?t="unknown":this.volume?t="volume: "+this.volume.value.toPrecision(3)+" ("+this.volume.volume.name+")":this.wideline&&(t=this.wideline.name),t},Object.defineProperties(F1.prototype,_n);var PS=function(e){this.stage=e,this.viewer=e.viewer};PS.prototype.pick=function(e,t){var n=this.viewer.pick(e,t);if(n.picker&&n.picker.type!=="ignore"&&n.pid!==void 0){var i=n.picker.array;if(!(i&&n.pid>=i.length))return new F1(n,this.stage);console.error("pid >= picker.array.length")}};var Fx=new zn,Nx=new F,Px=new F,Sg=new F,vJ=new F,Ux=new Xe,Hx=new F,Dx=new Xe,lr=function(e){this.stage=e,this.signals={changed:new kt.exports.Signal},this.viewer=e.viewer},Og={position:{configurable:!0},rotation:{configurable:!0}};Og.position.get=function(){return this.viewer.translationGroup.position},Og.rotation.get=function(){return this.viewer.rotationGroup.quaternion},lr.prototype.changed=function(){this.viewer.requestRender(),this.signals.changed.dispatch()},lr.prototype.getPositionOnCanvas=function(e,t){var n=LE(t,Ke),i=this.viewer;return Sg.copy(e).add(i.translationGroup.position).applyMatrix4(i.rotationGroup.matrix).project(i.camera),n.set((Sg.x+1)*i.width/2,(Sg.y+1)*i.height/2)},lr.prototype.getCanvasScaleFactor=function(e){e===void 0&&(e=0);var t=this.viewer.camera;if(t instanceof Wc)return 1/t.zoom;e=Math.abs(e),e+=this.getCameraDistance();var n=li(t.fov);return 2*e*Math.tan(n/2)/this.viewer.height},lr.prototype.getOrientation=function(e){var t=yf(e);t.copy(this.viewer.rotationGroup.matrix);var n=this.getCameraDistance();return t.scale(vJ.set(n,n,n)),t.setPosition(this.viewer.translationGroup.position),t},lr.prototype.orient=function(e){yf(e).decompose(Nx,Fx,Px);var t=this.viewer;t.rotationGroup.setRotationFromQuaternion(Fx),t.translationGroup.position.copy(Nx),t.cameraDistance=Px.z,t.updateZoom(),this.changed()},lr.prototype.translate=function(e){this.viewer.translationGroup.position.add(Np(e)),this.changed()},lr.prototype.center=function(e){this.viewer.translationGroup.position.copy(Np(e)).negate(),this.changed()},lr.prototype.zoom=function(e){this.distance(this.getCameraDistance()*(1-e))},lr.prototype.getCameraDistance=function(){return this.viewer.cameraDistance},lr.prototype.distance=function(e){this.viewer.cameraDistance=Math.max(Math.abs(e),.2),this.viewer.updateZoom(),this.changed()},lr.prototype.spin=function(e,t){Ux.getInverse(this.viewer.rotationGroup.matrix),Hx.copy(Np(e)).applyMatrix4(Ux),this.viewer.rotationGroup.rotateOnAxis(Hx,t),this.changed()},lr.prototype.rotate=function(e){this.viewer.rotationGroup.setRotationFromQuaternion(u4(e)),this.changed()},lr.prototype.align=function(e){Dx.getInverse(yf(e)),this.viewer.rotationGroup.setRotationFromMatrix(Dx),this.changed()},lr.prototype.applyMatrix=function(e){this.viewer.rotationGroup.applyMatrix4(yf(e)),this.changed()},Object.defineProperties(lr.prototype,Og);var As=function(e,t){for(var n,i=[],r=arguments.length-2;r-- >0;)i[r]=arguments[r+2];this.pausedTime=-1,this.elapsedDuration=0,this.pausedDuration=0,this.ignoreGlobalToggle=!1,this._paused=!1,this._resolveList=[],this.duration=G(e,1e3),this.controls=t,this.startTime=window.performance.now(),(n=this)._init.apply(n,i)},Lg={done:{configurable:!0},paused:{configurable:!0}};Lg.done.get=function(){return this.alpha===1},Lg.paused.get=function(){return this._paused},As.prototype.tick=function(e){if(!this._paused)return this.elapsedDuration=e.currentTime-this.startTime-this.pausedDuration,this.duration===0?this.alpha=1:this.alpha=$d(0,1,this.elapsedDuration/this.duration),this._tick(e),this.done&&this._resolveList.forEach(function(t){return t()}),this.done},As.prototype.pause=function(e){e&&(this._hold=!0),this.pausedTime===-1&&(this.pausedTime=window.performance.now()),this._paused=!0},As.prototype.resume=function(e){!e&&this._hold||(this.pausedDuration+=window.performance.now()-this.pausedTime,this._paused=!1,this._hold=!1,this.pausedTime=-1)},As.prototype.toggle=function(){this._paused?this.resume():this.pause()},As.prototype.then=function(e){var t=this;return(this.done?Promise.resolve():new Promise(function(n){return t._resolveList.push(n)})).then(e)},Object.defineProperties(As.prototype,Lg);var Gx=function(e){function t(n,i){for(var r=[],s=arguments.length-2;s-- >0;)r[s]=arguments[s+2];e.apply(this,[G(n,1/0),i].concat(r))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){Array.isArray(n)?this.axis=new F().fromArray(n):this.axis=G(n,new F(0,1,0)),this.angle=G(i,.01)},t.prototype._tick=function(n){this.axis&&this.angle&&this.controls.spin(this.axis,this.angle*n.lastDuration/16)},t}(As),Qx=function(e){function t(n,i){for(var r=[],s=arguments.length-2;s-- >0;)r[s]=arguments[s+2];e.apply(this,[G(n,1/0),i].concat(r)),this.angleSum=0,this.direction=1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i,r){Array.isArray(n)?this.axis=new F().fromArray(n):this.axis=G(n,new F(0,1,0)),this.angleStep=G(i,.01),this.angleEnd=G(r,.2)},t.prototype._tick=function(n){if(this.axis&&this.angleStep&&this.angleEnd){var i=$d(0,1,Math.abs(this.angleSum)/this.angleEnd),r=this.angleStep*this.direction*(1.1-i);this.controls.spin(this.axis,r*n.lastDuration/16),this.angleSum+=this.angleStep,this.angleSum>=this.angleEnd&&(this.direction*=-1,this.angleSum=-this.angleEnd)}},t}(As),kx=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){this.moveFrom=Np(G(n,new F)),this.moveTo=Np(G(i,new F))},t.prototype._tick=function(){this.controls.position.lerpVectors(this.moveFrom,this.moveTo,this.alpha).negate(),this.controls.changed()},t}(As),CJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){this.zoomFrom=n,this.zoomTo=i},t.prototype._tick=function(){this.controls.distance(Hs(this.zoomFrom,this.zoomTo,this.alpha))},t}(As),bJ=function(e){function t(){e.apply(this,arguments),this._currentRotation=new zn}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i){this.rotateFrom=u4(n),this.rotateTo=u4(i),this._currentRotation=new zn},t.prototype._tick=function(){this._currentRotation.copy(this.rotateFrom).slerp(this.rotateTo,this.alpha),this.controls.rotate(this._currentRotation)},t}(As),xJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,i,r){this.valueFrom=n,this.valueTo=i,this.callback=r},t.prototype._tick=function(){this.callback(Hs(this.valueFrom,this.valueTo,this.alpha))},t}(As),TJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n){this.callback=n},t.prototype._tick=function(){this.alpha===1&&this.callback()},t}(As),Jm=function(e){e===void 0&&(e=[]),this._resolveList=[],this._list=e},Vx={done:{configurable:!0}};Vx.done.get=function(){return this._list.every(function(e){return e.done})},Jm.prototype.then=function(e){var t,n=this;return t=this.done?Promise.resolve():new Promise(function(i){n._resolveList.push(i),n._list.forEach(function(r){r.then(function(){n._resolveList.forEach(function(s){s()}),n._resolveList.length=0})})}),t.then(e)},Object.defineProperties(Jm.prototype,Vx);var Ei=function(e){this.stage=e,this.animationList=[],this.finishedList=[],this.viewer=e.viewer,this.controls=e.viewerControls},Kx={paused:{configurable:!0}};Kx.paused.get=function(){return this.animationList.every(function(e){return e.paused})},Ei.prototype.add=function(e){return e.duration===0?e.tick(this.viewer.stats):this.animationList.push(e),e},Ei.prototype.remove=function(e){var t=this.animationList,n=t.indexOf(e);n>-1&&t.splice(n,1)},Ei.prototype.run=function(e){for(var t=this.finishedList,n=this.animationList,i=n.length,r=0;r<i;++r){var s=n[r];s.tick(e)&&t.push(s)}var a=t.length;if(a){for(var o=0;o<a;++o)this.remove(t[o]);t.length=0}},Ei.prototype.spin=function(e,t,n){return this.add(new Gx(n,this.controls,e,t))},Ei.prototype.rock=function(e,t,n,i){return this.add(new Qx(i,this.controls,e,t,n))},Ei.prototype.rotate=function(e,t){var n=this.viewer.rotationGroup.quaternion.clone();return this.add(new bJ(t,this.controls,n,e))},Ei.prototype.move=function(e,t){var n=this.controls.position.clone().negate();return this.add(new kx(t,this.controls,n,e))},Ei.prototype.zoom=function(e,t){var n=this.viewer.camera.position.z;return this.add(new CJ(t,this.controls,n,e))},Ei.prototype.zoomMove=function(e,t,n){return new Jm([this.move(e,n),this.zoom(t,n)])},Ei.prototype.orient=function(e,t){var n=new F,i=new zn,r=new F;return yf(e).decompose(n,i,r),new Jm([this.move(n.negate(),t),this.rotate(i,t),this.zoom(-r.x,t)])},Ei.prototype.value=function(e,t,n,i){return this.add(new xJ(i,this.controls,e,t,n))},Ei.prototype.timeout=function(e,t){return this.add(new TJ(t,this.controls,e))},Ei.prototype.spinComponent=function(e,t,n,i){return this.add(new Gx(i,e.controls,t,n))},Ei.prototype.rockComponent=function(e,t,n,i,r){return this.add(new Qx(r,e.controls,t,n,i))},Ei.prototype.moveComponent=function(e,t,n){var i=e.controls.position.clone().negate();return this.add(new kx(n,e.controls,i,t))},Ei.prototype.pause=function(){this.animationList.forEach(function(e){return e.pause()})},Ei.prototype.resume=function(){this.animationList.forEach(function(e){return e.resume()})},Ei.prototype.toggle=function(){this.paused?this.resume():this.pause()},Ei.prototype.clear=function(){this.animationList.length=0},Ei.prototype.dispose=function(){this.clear()},Object.defineProperties(Ei.prototype,Kx);var JA=function(e,t){if(this.fn=e,this.queue=[],this.pending=!1,this.next=this.next.bind(this),t){for(var n=0,i=t.length;n<i;++n)this.queue.push(t[n]);this.next()}};JA.prototype.run=function(e){this.fn(e,this.next)},JA.prototype.next=function(){var e=this,t=this.queue.shift();t!==void 0?(this.pending=!0,setTimeout(function(){return e.run(t)})):this.pending=!1},JA.prototype.push=function(e){this.queue.push(e),this.pending||this.next()},JA.prototype.kill=function(){this.queue.length=0},JA.prototype.length=function(){return this.queue.length};var xi=function(e,t,n){this.type="",this.parameters={lazy:{type:"boolean"},clipNear:{type:"range",step:1,max:100,min:0,buffer:!0},clipRadius:{type:"number",precision:1,max:1e3,min:0,buffer:!0},clipCenter:{type:"vector3",precision:1,buffer:!0},flatShaded:{type:"boolean",buffer:!0},opacity:{type:"range",step:.01,max:1,min:0,buffer:!0},depthWrite:{type:"boolean",buffer:!0},side:{type:"select",buffer:!0,options:{front:"front",back:"back",double:"double"}},wireframe:{type:"boolean",buffer:!0},colorData:{type:"hidden",update:"color"},colorScheme:{type:"select",update:"color",options:{}},colorScale:{type:"select",update:"color",options:on.getScales()},colorReverse:{type:"boolean",update:"color"},colorValue:{type:"color",update:"color"},colorDomain:{type:"hidden",update:"color"},colorMode:{type:"select",update:"color",options:on.getModes()},roughness:{type:"range",step:.01,max:1,min:0,buffer:!0},metalness:{type:"range",step:.01,max:1,min:0,buffer:!0},diffuse:{type:"color",buffer:!0},diffuseInterior:{type:"boolean",buffer:!0},useInteriorColor:{type:"boolean",buffer:!0},interiorColor:{type:"color",buffer:!0},interiorDarkening:{type:"range",step:.01,max:1,min:0,buffer:!0},matrix:{type:"hidden",buffer:!0},disablePicking:{type:"boolean",rebuild:!0}},this.viewer=t,this.tasks=new Ga,this.queue=new JA(this.make.bind(this)),this.bufferList=[],this.parameters.colorScheme&&(this.parameters.colorScheme.options=on.getSchemes()),this.toBePrepared=!1};xi.prototype.init=function(e){var t=e||{};this.clipNear=G(t.clipNear,0),this.clipRadius=G(t.clipRadius,0),this.clipCenter=G(t.clipCenter,new F),this.flatShaded=G(t.flatShaded,!1),this.side=G(t.side,"double"),this.opacity=G(t.opacity,1),this.depthWrite=G(t.depthWrite,!0),this.wireframe=G(t.wireframe,!1),this.setColor(t.color,t),this.colorData=G(t.colorData,void 0),this.colorScheme=G(t.colorScheme,"uniform"),this.colorScale=G(t.colorScale,""),this.colorReverse=G(t.colorReverse,!1),this.colorValue=G(t.colorValue,9474192),this.colorDomain=G(t.colorDomain,void 0),this.colorMode=G(t.colorMode,"hcl"),this.visible=G(t.visible,!0),this.quality=G(t.quality,void 0),this.roughness=G(t.roughness,.4),this.metalness=G(t.metalness,0),this.diffuse=G(t.diffuse,16777215),this.diffuseInterior=G(t.diffuseInterior,!1),this.useInteriorColor=G(t.useInteriorColor,!1),this.interiorColor=G(t.interiorColor,2236962),this.interiorDarkening=G(t.interiorDarkening,0),this.lazy=G(t.lazy,!1),this.lazyProps={build:!1,bufferParams:{},what:{}},this.matrix=G(t.matrix,new Xe),this.disablePicking=G(t.disablePicking,!1);var n=this.parameters;n.sphereDetail===!0&&(n.sphereDetail={type:"integer",max:3,min:0,rebuild:"impostor"}),n.radialSegments===!0&&(n.radialSegments={type:"integer",max:25,min:5,rebuild:"impostor"}),n.openEnded===!0&&(n.openEnded={type:"boolean",rebuild:"impostor",buffer:!0}),n.disableImpostor===!0&&(n.disableImpostor={type:"boolean",rebuild:!0}),t.quality==="low"?(n.sphereDetail&&(this.sphereDetail=0),n.radialSegments&&(this.radialSegments=5)):t.quality==="medium"?(n.sphereDetail&&(this.sphereDetail=1),n.radialSegments&&(this.radialSegments=10)):t.quality==="high"?(n.sphereDetail&&(this.sphereDetail=2),n.radialSegments&&(this.radialSegments=20)):(n.sphereDetail&&(this.sphereDetail=G(t.sphereDetail,1)),n.radialSegments&&(this.radialSegments=G(t.radialSegments,10))),n.openEnded&&(this.openEnded=G(t.openEnded,!0)),n.disableImpostor&&(this.disableImpostor=G(t.disableImpostor,!1))},xi.prototype.getColorParams=function(e){return Object.assign({data:this.colorData,scheme:this.colorScheme,scale:this.colorScale,reverse:this.colorReverse,value:this.colorValue,domain:this.colorDomain,mode:this.colorMode,colorSpace:this.colorSpace},e)},xi.prototype.getBufferParams=function(e){return e===void 0&&(e={}),Object.assign({clipNear:this.clipNear,clipRadius:this.clipRadius,clipCenter:this.clipCenter,flatShaded:this.flatShaded,opacity:this.opacity,depthWrite:this.depthWrite,side:this.side,wireframe:this.wireframe,roughness:this.roughness,metalness:this.metalness,diffuse:this.diffuse,diffuseInterior:this.diffuseInterior,useInteriorColor:this.useInteriorColor,interiorColor:this.interiorColor,interiorDarkening:this.interiorDarkening,matrix:this.matrix,disablePicking:this.disablePicking},e)},xi.prototype.setColor=function(e,t){var n=Object.keys(on.getSchemes());if(typeof e=="string"&&n.includes(e.toLowerCase()))t?t.colorScheme=e:this.setParameters({colorScheme:e});else if(e!==void 0){var i=new Je(e).getHex();t?(t.colorScheme="uniform",t.colorValue=i):this.setParameters({colorScheme:"uniform",colorValue:i})}return this},xi.prototype.prepare=function(e){},xi.prototype.create=function(){},xi.prototype.update=function(e){this.build()},xi.prototype.build=function(e){if(!this.lazy||this.visible&&this.opacity){if(!this.toBePrepared)return this.tasks.increment(),void this.make();this.queue.length()>0?(this.tasks.change(1-this.queue.length()),this.queue.kill()):this.tasks.increment(),this.queue.push(e||!1)}else this.lazyProps.build=!0},xi.prototype.make=function(e,t){var n=this;De&&Be.time("Representation.make "+this.type);var i=function(){e?(n.update(e),n.viewer.requestRender(),n.tasks.decrement(),t&&t()):(n.clear(),n.create(),n.manualAttach||n.disposed||(De&&Be.time("Representation.attach "+n.type),n.attach(function(){De&&Be.timeEnd("Representation.attach "+n.type),n.tasks.decrement(),t&&t()}))),De&&Be.timeEnd("Representation.make "+n.type)};this.toBePrepared?this.prepare(i):i()},xi.prototype.attach=function(e){this.setVisibility(this.visible),e()},xi.prototype.setVisibility=function(e,t){if(this.visible=e,this.visible&&this.opacity){var n=this.lazyProps,i=n.bufferParams,r=n.what;if(n.build)return n.build=!1,this.build(),this;(Object.keys(i).length||Object.keys(r).length)&&(n.bufferParams={},n.what={},this.updateParameters(i,r))}return this.bufferList.forEach(function(s){s.setVisibility(e)}),t||this.viewer.requestRender(),this},xi.prototype.setParameters=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=!1);var i=e||{},r=this.parameters,s={};for(var a in this.opacity||i.opacity===void 0||(this.lazyProps.build?(this.lazyProps.build=!1,n=!0):(Object.assign(s,this.lazyProps.bufferParams),Object.assign(t,this.lazyProps.what),this.lazyProps.bufferParams={},this.lazyProps.what={})),this.setColor(i.color,i),i)i[a]!==void 0&&r[a]!==void 0&&(r[a].int&&(i[a]=parseInt(i[a])),r[a].float&&(i[a]=parseFloat(i[a])),i[a]!==this[a]||i[a].equals&&!i[a].equals(this[a]))&&(this[a]&&this[a].copy&&i[a].copy?this[a].copy(i[a]):this[a]&&this[a].set?this[a].set(i[a]):this[a]=i[a],r[a].buffer&&(r[a].buffer===!0?s[a]=i[a]:s[r[a].buffer]=i[a]),r[a].update&&(t[r[a].update]=!0),!r[a].rebuild||r[a].rebuild==="impostor"&&za&&!this.disableImpostor||(n=!0));return n?this.build():this.updateParameters(s,t),this},xi.prototype.updateParameters=function(e,t){if(e===void 0&&(e={}),this.lazy&&(!this.visible||!this.opacity)&&e.hasOwnProperty("opacity")===!1)return Object.assign(this.lazyProps.bufferParams,e),void Object.assign(this.lazyProps.what,t);this.bufferList.forEach(function(n){n.setParameters(e)}),Object.keys(t).length&&this.update(t),this.viewer.requestRender()},xi.prototype.getParameters=function(){var e=this,t={lazy:this.lazy,visible:this.visible,quality:this.quality};return Object.keys(this.parameters).forEach(function(n){e.parameters[n]!==null&&(t[n]=e[n])}),t},xi.prototype.clear=function(){var e=this;this.bufferList.forEach(function(t){e.viewer.remove(t),t.dispose()}),this.bufferList.length=0,this.viewer.requestRender()},xi.prototype.dispose=function(){this.disposed=!0,this.queue.kill(),this.tasks.dispose(),this.clear()};var eE=function(e){var t=this;this.pending=0,this.postCount=0,this.onmessageDict={},this.onerrorDict={},this.name=e,this.blobUrl=window.URL.createObjectURL(Md.get(e)),this.worker=new Worker(this.blobUrl),Md.activeWorkerCount+=1,this.worker.onmessage=function(n){t.pending-=1;var i=n.data.__postId;De&&Be.timeEnd("Worker.postMessage "+e+" #"+i);var r=t.onmessageDict[i];r&&r.call(t.worker,n),delete t.onmessageDict[i],delete t.onerrorDict[i]},this.worker.onerror=function(n){if(t.pending-=1,n.data){var i=n.data.__postId,r=t.onerrorDict[i];r?r.call(t.worker,n):Be.error("Worker.onerror",i,e,n),delete t.onmessageDict[i],delete t.onerrorDict[i]}else Be.error("Worker.onerror",e,n)}};eE.prototype.post=function(e,t,n,i){e===void 0&&(e={}),this.onmessageDict[this.postCount]=n,this.onerrorDict[this.postCount]=i,e.__name=this.name,e.__postId=this.postCount,e.__debug=De,De&&Be.time("Worker.postMessage "+this.name+" #"+this.postCount);try{this.worker.postMessage(e,t)}catch(r){Be.error("worker.post:",r),this.worker.postMessage(e)}return this.pending+=1,this.postCount+=1,this},eE.prototype.terminate=function(){this.worker?(this.worker.terminate(),window.URL.revokeObjectURL(this.blobUrl),Md.activeWorkerCount-=1):Be.log("no worker to terminate")};var el=function(e,t){t===void 0&&(t=2),this.pool=[],this.count=0,this.maxCount=Math.min(8,t),this.name=e};function E4(e){for(var t=e.length,n=t/3,i=0,r=0,s=0,a=0;a<t;a+=3)i+=e[a+0],r+=e[a+1],s+=e[a+2];return new F(i/n,r/n,s/n)}function Up(e,t,n){return n?e.sub(n).projectOnVector(t).add(n):e.projectOnVector(t),e}function Od(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,s=-1/0,a=-1/0,o=0,c=e.length;o<c;o+=3){var p=e[o],A=e[o+1],l=e[o+2];p<t&&(t=p),A<n&&(n=A),l<i&&(i=l),p>r&&(r=p),A>s&&(s=A),l>a&&(a=l)}return[zt([t,n,i]),zt([r,s,a])]}function IE(e,t){for(var n=0,i=t.length;n<i;n+=3){var r=t[n],s=t[n+1],a=t[n+2];t[n]=e[0]*r+e[4]*s+e[8]*a+e[12],t[n+1]=e[1]*r+e[5]*s+e[9]*a+e[13],t[n+2]=e[2]*r+e[6]*s+e[10]*a+e[14]}}function O_(e,t){for(var n=0,i=t.length;n<i;n+=3){var r=t[n],s=t[n+1],a=t[n+2];t[n]=e[0]*r+e[3]*s+e[6]*a,t[n+1]=e[1]*r+e[4]*s+e[7]*a,t[n+2]=e[2]*r+e[5]*s+e[8]*a}}function US(e){for(var t=0,n=e.length;t<n;t+=3){var i=e[t],r=e[t+1],s=e[t+2],a=i*i+r*r+s*s;if(a>0){var o=1/Math.sqrt(a);e[t]=i*o,e[t+1]=r*o,e[t+2]=s*o}}}function zt(e){return new Float32Array(e||3)}function jr(e,t,n){var i=t[0],r=t[1],s=t[2],a=n[0],o=n[1],c=n[2];e[0]=r*c-s*o,e[1]=s*a-i*c,e[2]=i*o-r*a}function Kr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function oi(e,t,n){e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2]}function ha(e,t,n){e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2]}function Or(e,t,n){n===void 0&&(n=0),e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2]}function qt(e,t,n){n===void 0&&(n=0),t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2]}function HS(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}function Dc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function hl(e,t,n){Gn(e,t,1/n)}function Gn(e,t,n){e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n}function Ai(e,t){var n=HS(t);n==0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):Gn(e,t,1/Math.sqrt(n))}function DS(e,t,n){e[0]=t[0]-n,e[1]=t[1]-n,e[2]=t[2]-n}function N1(e,t,n){e[0]=t[0]+n,e[1]=t[1]+n,e[2]=t[2]+n}function y4(e,t){e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2])}function _f(e,t){e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2])}function FE(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2]}function BJ(e,t){t===void 0&&(t=9);for(var n=Math.floor(t/2),i=e.position1.length/3,r=3*(n*i),s=1/t,a=RE(e.position1,e.position2),o=new Float32Array(r),c=new Float32Array(r),p=new F,A=0;A<i;++A){var l=3*A;p.set(a[l],a[l+1],a[l+2]);for(var u=e.position1[l],d=e.position1[l+1],m=e.position1[l+2],y=0;y<n;++y){var g=n*l+3*y,E=s*(2*y+1),w=s*(2*y+2);o[g]=u+p.x*E,o[g+1]=d+p.y*E,o[g+2]=m+p.z*E,c[g]=u+p.x*w,c[g+1]=d+p.y*w,c[g+2]=m+p.z*w}}var b=Ya(o,c),_=function(T,x){for(var O=T.length/3,M=new Float32Array(O*x*3),H=0;H<O;++H)for(var R=3*H,D=H*x*3,P=T[R+0],I=T[R+1],L=T[R+2],k=0;k<x;++k){var K=D+3*k;M[K+0]=P,M[K+1]=I,M[K+2]=L}return M}(e.color,n),C={position:b,position1:o,position2:c,color:_,color2:_};return e.radius&&(C.radius=_g(e.radius,n)),e.picking&&e.picking.array&&(e.picking.array=_g(e.picking.array,n),C.picking=e.picking),e.primitiveId&&(C.primitiveId=_g(e.primitiveId,n)),C}function GS(e,t){t===void 0&&(t=.1);for(var n=RE(e.position1,e.position2),i=[],r=[],s=[],a=e.radius?[]:void 0,o=e.picking?[]:void 0,c=e.primitiveId?[]:void 0,p=new F,A=e.position1.length/3,l=0,u=0;u<A;++u){var d=3*u;p.set(n[d],n[d+1],n[d+2]);for(var m=p.length()/t,y=Math.floor(m/2),g=1/m,E=e.position1[d],w=e.position1[d+1],b=e.position1[d+2],_=0;_<y;++_){var C=3*l+3*_,T=g*(2*_+1),x=g*(2*_+2);i[C]=E+p.x*T,i[C+1]=w+p.y*T,i[C+2]=b+p.z*T,r[C]=E+p.x*x,r[C+1]=w+p.y*x,r[C+2]=b+p.z*x,e.color&&(s[C]=e.color[d],s[C+1]=e.color[d+1],s[C+2]=e.color[d+2]),a&&(a[l+_]=e.radius[u]),o&&(e.picking.array?o[l+_]=e.picking.array[u]:o[l+_]=u),c&&(c[l+_]=e.primitiveId[u])}l+=y}var O=new Float32Array(i),M=new Float32Array(r),H=Ya(O,M),R=new Float32Array(s),D={position:H,position1:O,position2:M,color:R,color2:R};return a&&(D.radius=new Float32Array(a)),o&&e.picking&&(e.picking.array=new Float32Array(o),D.picking=e.picking),c&&(D.primitiveId=new Float32Array(c)),D}function g4(e,t){t===void 0&&(t=.1);for(var n=RE(e.position1,e.position2),i=[],r=[],s=[],a=e.radius?[]:void 0,o=e.picking?[]:void 0,c=e.primitiveId?[]:void 0,p=new F,A=e.position1.length/3,l=t,u=!0,d=0,m=0,y=0,g=0;g<A;++g){var E=3*g,w=e.position1[E],b=e.position1[E+1],_=e.position1[E+2];p.set(n[E],n[E+1],n[E+2]);var C=p.length();u&&(i[m]=w,i[m+1]=b,i[m+2]=_);for(var T=l,x=1/C;T<C;){var O=u?r:i;O[m]=w+p.x*T*x,O[m+1]=b+p.y*T*x,O[m+2]=_+p.z*T*x,u&&(m=3*++d),u=!u,l=t,T+=t}u&&(r[m]=e.position2[E],r[m+1]=e.position2[E+1],r[m+2]=e.position2[E+2],m=3*++d),l=T-C;for(var M=y;M<d;M++){if(e.color){var H=3*M;s[H]=e.color[E],s[H+1]=e.color[E+1],s[H+2]=e.color[E+2]}a&&(a[M]=e.radius[g]),o&&(e.picking.array?o[M]=e.picking.array[g]:o[M]=g),c&&(c[M]=e.primitiveId[g])}y=d}if(!u&&A>0){var R=3*d;r[R]=e.position2[3*A-3],r[R+1]=e.position2[3*A-2],r[R+1]=e.position2[3*A-1]}var D=new Float32Array(i),P=new Float32Array(r),I=Ya(D,P),L=new Float32Array(s),k={position:I,position1:D,position2:P,color:L,color2:L};return a&&(k.radius=new Float32Array(a)),o&&e.picking&&(e.picking.array=new Float32Array(o),k.picking=e.picking),c&&(k.primitiveId=new Float32Array(c)),k}el.prototype.post=function(e,t,n,i){e===void 0&&(e={});var r=this.getNextWorker();return r?r.post(e,t,n,i):console.error("unable to get worker from pool"),this},el.prototype.terminate=function(){this.pool.forEach(function(e){e.terminate()})},el.prototype.getNextWorker=function(){for(var e,t=1/0,n=0;n<this.maxCount;++n){if(n>=this.count){e=new eE(this.name),this.pool.push(e),this.count+=1;break}var i=this.pool[n];if(i.pending===0){e=i;break}i.pending<t&&(t=i.pending,e=i)}return e},el.prototype.constructor=el,Od.__deps=[zt],hl.__deps=[Gn],Ai.__deps=[Gn,HS];var jc=new F,$i=function(){},Rg={Picker:{configurable:!0},Buffer:{configurable:!0}};Rg.Picker.get=function(){return Fs.get(this.type)},Rg.Buffer.get=function(){return ys.get(this.type)},$i.getShapeKey=function(e){return this.type+e[0].toUpperCase()+e.substr(1)},$i.expandBoundingBox=function(e,t){},$i.valueToShape=function(e,t,n){var i,r,s=e._primitiveData[this.getShapeKey(t)];switch(this.fields[t]){case"v3":case"c":r=s,(i=n).toArray!==void 0?i=i.toArray():i.x!==void 0?i=[i.x,i.y,i.z]:i.r!==void 0&&(i=[i.r,i.g,i.b]),r.push.apply(r,i);break;default:s.push(n)}},$i.objectToShape=function(e,t){var n=this;Object.keys(this.fields).forEach(function(i){n.valueToShape(e,i,t[i])}),this.valueToShape(e,"name",t.name),this.expandBoundingBox(e.boundingBox,t)},$i.valueFromShape=function(e,t,n){var i=e._primitiveData[this.getShapeKey(n)];switch(this.fields[n]){case"v3":return new F().fromArray(i,3*t);case"c":return new Je().fromArray(i,3*t);default:return i[t]}},$i.objectFromShape=function(e,t){var n=this,i=this.valueFromShape(e,t,"name");i===void 0&&(i=this.type+": "+t+" ("+e.name+")");var r={shape:e,name:i};return Object.keys(this.fields).forEach(function(s){r[s]=n.valueFromShape(e,t,s)}),r},$i.arrayFromShape=function(e,t){var n=e._primitiveData[this.getShapeKey(t)];return this.fields[t]==="s"?n:new Float32Array(n)},$i.dataFromShape=function(e){var t=this,n={};return this.Picker&&(n.picking=new this.Picker(e)),Object.keys(this.fields).forEach(function(i){n[i]=t.arrayFromShape(e,i)}),n},$i.bufferFromShape=function(e,t){return new this.Buffer(this.dataFromShape(e),t)},Object.defineProperties($i,Rg),$i.type="",$i.fields={};var Jl=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(jc.fromArray(i.position))},t}($i);Jl.type="sphere",Jl.fields={position:"v3",color:"c",radius:"f"};var qp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(jc.fromArray(i.position))},t}($i);qp.type="box",qp.fields={position:"v3",color:"c",size:"f",heightAxis:"v3",depthAxis:"v3"};var NE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qp);NE.type="octahedron";var PE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qp);PE.type="tetrahedron";var Zp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){var r=this.valueFromShape(n,i,"position1"),s=this.valueFromShape(n,i,"position2");return r.add(s).multiplyScalar(.5)},t.expandBoundingBox=function(n,i){n.expandByPoint(jc.fromArray(i.position1)),n.expandByPoint(jc.fromArray(i.position2))},t.bufferFromShape=function(n,i){i===void 0&&(i={});var r=this.dataFromShape(n);return this.type==="cylinder"&&i.dashedCylinder&&(r=GS(r)),new this.Buffer(r,i)},t}($i);Zp.type="cylinder",Zp.fields={position1:"v3",position2:"v3",color:"c",radius:"f"};var UE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Zp);UE.type="arrow";var HE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Zp);HE.type="cone";var eu=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Jl);eu.type="ellipsoid",eu.fields={position:"v3",color:"c",radius:"f",majorAxis:"v3",minorAxis:"v3"};var DE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(eu);DE.type="torus";var tE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(jc.fromArray(i.position))},t}($i);tE.type="text",tE.fields={position:"v3",color:"c",size:"f",text:"s"};var Ld=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){return this.valueFromShape(n,i,"position")},t.expandBoundingBox=function(n,i){n.expandByPoint(jc.fromArray(i.position))},t}($i);Ld.type="point",Ld.fields={position:"v3",color:"c"};var Rd=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,i){var r=this.valueFromShape(n,i,"position1"),s=this.valueFromShape(n,i,"position2");return r.add(s).multiplyScalar(.5)},t.expandBoundingBox=function(n,i){n.expandByPoint(jc.fromArray(i.position1)),n.expandByPoint(jc.fromArray(i.position2))},t}($i);Rd.type="wideline",Rd.fields={position1:"v3",position2:"v3",color:"c"};var Jp=function(e,t){this.exp=3;var n=t||function(R){for(var D=R.x,P=R.y,I=R.z,L=new Yn,k=D.length,K=L.min,W=L.max,ee=0;ee<k;ee++)K.x=Math.min(D[ee],K.x),K.y=Math.min(P[ee],K.y),K.z=Math.min(I[ee],K.z),W.x=Math.max(D[ee],W.x),W.y=Math.max(P[ee],W.y),W.z=Math.max(I[ee],W.z);return L}(e);this.minX=n.min.x,this.minY=n.min.y,this.minZ=n.min.z,this.boundX=1+(n.max.x-this.minX>>this.exp),this.boundY=1+(n.max.y-this.minY>>this.exp),this.boundZ=1+(n.max.z-this.minZ>>this.exp);for(var i=this.boundX*this.boundY*this.boundZ,r=e.count!==void 0?e.count:e.x.length,s=e.x,a=e.y,o=e.z,c=0,p=new Uint32Array(i),A=new Int32Array(r),l=0;l<r;++l){var u=s[l]-this.minX>>this.exp,d=a[l]-this.minY>>this.exp,m=o[l]-this.minZ>>this.exp,y=(u*this.boundY+d)*this.boundZ+m;(p[y]+=1)===1&&(c+=1),A[l]=y}for(var g=new Uint16Array(c),E=0,w=0;E<i;++E){var b=p[E];b>0&&(p[E]=w+1,g[w]=b,w+=1)}for(var _=new Uint32Array(c),C=1;C<c;++C)_[C]+=_[C-1]+g[C-1];for(var T=new Uint16Array(c),x=new Int32Array(r),O=0;O<r;++O){var M=p[A[O]];if(M>0){var H=M-1;x[_[H]+T[H]]=O,T[H]+=1}}this.grid=p,this.bucketCount=g,this.bucketOffset=_,this.bucketArray=x,this.xArray=s,this.yArray=a,this.zArray=o};Jp.prototype.within=function(e,t,n,i){var r=[];return this.eachWithin(e,t,n,i,function(s){return r.push(s)}),r},Jp.prototype.eachWithin=function(e,t,n,i,r){for(var s=i*i,a=Math.max(0,e-i-this.minX>>this.exp),o=Math.max(0,t-i-this.minY>>this.exp),c=Math.max(0,n-i-this.minZ>>this.exp),p=Math.min(this.boundX,1+(e+i-this.minX>>this.exp)),A=Math.min(this.boundY,1+(t+i-this.minY>>this.exp)),l=Math.min(this.boundZ,1+(n+i-this.minZ>>this.exp)),u=a;u<p;++u)for(var d=o;d<A;++d)for(var m=c;m<l;++m){var y=(u*this.boundY+d)*this.boundZ+m,g=this.grid[y];if(g>0)for(var E=g-1,w=this.bucketOffset[E],b=w+this.bucketCount[E],_=w;_<b;++_){var C=this.bucketArray[_],T=this.xArray[C]-e,x=this.yArray[C]-t,O=this.zArray[C]-n,M=T*T+x*x+O*O;M<=s&&r(C,M)}}};var Ji=function(e){this._fields=this._defaultFields,this._init(0)},zx={_defaultFields:{configurable:!0}};zx._defaultFields.get=function(){return[]},Ji.prototype._init=function(e){this.length=e,this.count=0;for(var t=0,n=this._fields.length;t<n;++t){var i=this._fields[t],r=i[0],s=i[1],a=i[2];this._initField(r,s,a)}},Ji.prototype._initField=function(e,t,n){this[e]=xS(n,this.length*t)},Ji.prototype.addField=function(e,t,n){this._fields.push([e,t,n]),this._initField(e,t,n)},Ji.prototype.resize=function(e){this.length=Math.round(e||0),this.count=Math.min(this.count,this.length);for(var t=0,n=this._fields.length;t<n;++t){var i=this._fields[t][0],r=this._fields[t][1],s=this.length*r,a=new this[i].constructor(s);this[i].length>s?a.set(this[i].subarray(0,s)):a.set(this[i]),this[i]=a}},Ji.prototype.growIfFull=function(){if(this.count>=this.length){var e=Math.round(1.5*this.length);this.resize(Math.max(256,e))}},Ji.prototype.copyFrom=function(e,t,n,i){for(var r=0,s=this._fields.length;r<s;++r)for(var a=this._fields[r][0],o=this._fields[r][1],c=this[a],p=e[a],A=0;A<i;++A)for(var l=o*(t+A),u=o*(n+A),d=0;d<o;++d)c[l+d]=p[u+d]},Ji.prototype.copyWithin=function(e,t,n){for(var i=0,r=this._fields.length;i<r;++i)for(var s=this._fields[i][0],a=this._fields[i][1],o=this[s],c=0;c<n;++c)for(var p=a*(e+c),A=a*(t+c),l=0;l<a;++l)o[p+l]=o[A+l]},Ji.prototype.sort=function(e){Be.time("Store.sort");var t=this,n=new this.constructor(1);(function i(r,s){if(r<s){var a=Math.floor((r+s)/2),o=r,c=s;do{for(;e(o,a)<0;)o+=1;for(;e(c,a)>0;)c-=1;o<=c&&(o===a?a=c:c===a&&(a=o),(p=o)!==(A=c)&&(n.copyFrom(t,0,p,1),t.copyWithin(p,A,1),t.copyFrom(n,A,0,1)),o+=1,c-=1)}while(o<=c);i(r,c),i(o,s)}var p,A})(0,this.count-1),Be.timeEnd("Store.sort")},Ji.prototype.clear=function(){this.count=0},Ji.prototype.dispose=function(){for(var e=0,t=this._fields.length;e<t;++e)delete this[this._fields[e][0]]},Object.defineProperties(Ji.prototype,zx);var MJ=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["index1",1,"int32"],["index2",1,"int32"],["type",1,"int8"]]},t.prototype.addContact=function(i,r,s){this.growIfFull();var a=this.count;i<r?(this.index1[a]=i,this.index2[a]=r):(this.index2[a]=i,this.index1[a]=r),s&&(this.type[a]=s),this.count+=1},Object.defineProperties(t.prototype,n),t}(Ji);function e1(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}var Qt=function(e,t){this.length=e,this._words=new Uint32Array(e+32>>>5),t===!0&&this.setAll()};function QS(e){for(var t=e.edgeCount,n=e.nodeCount,i=e.nodeArray1,r=e.nodeArray2,s=new Uint8Array(n),a=new Int32Array(n),o=0;o<t;++o)s[i[o]]+=1,s[r[o]]+=1;for(var c=1;c<n;++c)a[c]+=a[c-1]+s[c-1];for(var p=2*t,A=new Int32Array(p),l=0;l<p;++l)A[l]=-1;for(var u=0;u<t;++u){for(var d=i[u],m=r[u],y=a[d];A[y]!==-1&&y<p;)y+=1;A[y]=u;for(var g=a[m];A[g]!==-1&&g<p;)g+=1;A[g]=u}return{countArray:s,offsetArray:a,indexArray:A}}function Ki(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),{type:e,group:t,x:0,y:0,z:0,atomSet:[]}}function Ci(e,t){e.x+=t.x,e.y+=t.y,e.z+=t.z,e.atomSet.push(t.index)}function bi(e,t){var n=t.atomSet.length;if(n>0){var i=e.types,r=e.groups,s=e.centers,a=e.atomSets;i.push(t.type),r.push(t.group),s.x.push(t.x/n),s.y.push(t.y/n),s.z.push(t.z/n),a.push(t.atomSet)}}Qt.prototype.get=function(e){return(this._words[e>>>5]&1<<e)!=0},Qt.prototype.set=function(e){this._words[e>>>5]|=1<<e},Qt.prototype.clear=function(e){this._words[e>>>5]&=~(1<<e)},Qt.prototype.flip=function(e){this._words[e>>>5]^=1<<e},Qt.prototype._assignRange=function(e,t,n){if(!(t<e)){for(var i=this._words,r=n===!0?4294967295:0,s=e>>>5,a=t>>>5,o=s+1;o<a;++o)i[o]=r;var c=s<<5,p=a<<5;if(n===!0)if(t-e<32)for(var A=e,l=t+1;A<l;++A)i[A>>>5]|=1<<A;else{for(var u=e,d=c+32;u<d;++u)i[u>>>5]|=1<<u;for(var m=p,y=t+1;m<y;++m)i[m>>>5]|=1<<m}else if(t-e<32)for(var g=e,E=t+1;g<E;++g)i[g>>>5]&=~(1<<g);else{for(var w=e,b=c+32;w<b;++w)i[w>>>5]&=~(1<<w);for(var _=p,C=t+1;_<C;++_)i[_>>>5]&=~(1<<_)}return this}},Qt.prototype.setRange=function(e,t){return this._assignRange(e,t,!0)},Qt.prototype.clearRange=function(e,t){return this._assignRange(e,t,!1)},Qt.prototype.setBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var s=e[r];n[s>>>5]|=1<<s}return this},Qt.prototype.clearBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var s=e[r];n[s>>>5]&=~(1<<s)}return this},Qt.prototype.setAll=function(){return this._assignRange(0,this.length-1,!0)},Qt.prototype.clearAll=function(){return this._assignRange(0,this.length-1,!1)},Qt.prototype.flipAll=function(){for(var e=this._words.length,t=this._words,n=32-this.length%32,i=0;i<e-1;++i)t[i]=~t[i];return t[e-1]=~(t[e-1]<<n)>>>n,this},Qt.prototype._isRangeValue=function(e,t,n){if(!(t<e)){for(var i=this._words,r=n===!0?4294967295:0,s=e>>>5,a=t>>>5,o=s+1;o<a;++o)if(i[o]!==r)return!1;if(t-e<32){for(var c=e,p=t+1;c<p;++c)if(!!(i[c>>>5]&1<<c)!==n)return!1}else{for(var A=a<<5,l=e,u=(s<<5)+32;l<u;++l)if(!!(i[l>>>5]&1<<l)!==n)return!1;for(var d=A,m=t+1;d<m;++d)if(!!(i[d>>>5]&1<<d)!==n)return!1}return!0}},Qt.prototype.isRangeSet=function(e,t){return this._isRangeValue(e,t,!0)},Qt.prototype.isRangeClear=function(e,t){return this._isRangeValue(e,t,!1)},Qt.prototype.isAllSet=function(){return this._isRangeValue(0,this.length-1,!0)},Qt.prototype.isAllClear=function(){return this._isRangeValue(0,this.length-1,!1)},Qt.prototype.isSet=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var s=e[r];if((n[s>>>5]&1<<s)==0)return!1}return!0},Qt.prototype.isClear=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,i=e.length,r=0;r<i;++r){var s=e[r];if((n[s>>>5]&1<<s)!=0)return!1}return!0},Qt.prototype.isEqualTo=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)if(t[r]!==n[r])return!1;return!0},Qt.prototype.getSize=function(){for(var e=this._words.length,t=this._words,n=0,i=0;i<e;++i)n+=e1(t[i]);return n},Qt.prototype.difference=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)t[r]=t[r]&~n[r];for(var s=t.length;s<i;++s)t[s]=0;return this},Qt.prototype.union=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)t[r]|=n[r];for(var s=t.length;s<i;++s)t[s]=0;return this},Qt.prototype.intersection=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)t[r]&=n[r];for(var s=t.length;s<i;++s)t[s]=0;return this},Qt.prototype.intersects=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0;r<i;++r)if((t[r]&n[r])!=0)return!0;return!1},Qt.prototype.getIntersectionSize=function(e){for(var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=0,s=0;s<i;++s)r+=e1(t[s]&n[s]);return r},Qt.prototype.makeIntersection=function(e){var t=this._words,n=e._words,i=Math.min(t.length,n.length),r=new Uint32Array(i),s=Object.create(Qt.prototype);s._words=r,s.length=Math.min(this.length,e.length);for(var a=0;a<i;++a)r[a]=t[a]&n[a];return s},Qt.prototype.forEach=function(e){for(var t=this._words.length,n=this._words,i=0,r=0;r<t;++r)for(var s=n[r];s!==0;){var a=s&-s;e((r<<5)+e1(a-1),i),s^=a,++i}},Qt.prototype.toArray=function(){for(var e=this._words,t=new Array(this.getSize()),n=this._words.length,i=0,r=0;r<n;++r)for(var s=e[r];s!==0;){var a=s&-s;t[i++]=(r<<5)+e1(a-1),s^=a}return t},Qt.prototype.toString=function(){return"{"+this.toArray().join(",")+"}"},Qt.prototype.toSeleString=function(){var e=this.toArray().join(",");return e?"@"+e:"NONE"},Qt.prototype.clone=function(){var e=Object.create(Qt.prototype);return e.length=this.length,e._words=new Uint32Array(this._words),e};var SJ=["D-BETA-PEPTIDE, C-GAMMA LINKING","D-GAMMA-PEPTIDE, C-DELTA LINKING","D-PEPTIDE COOH CARBOXY TERMINUS","D-PEPTIDE NH3 AMINO TERMINUS","D-PEPTIDE LINKING","L-BETA-PEPTIDE, C-GAMMA LINKING","L-GAMMA-PEPTIDE, C-DELTA LINKING","L-PEPTIDE COOH CARBOXY TERMINUS","L-PEPTIDE NH3 AMINO TERMINUS","L-PEPTIDE LINKING","PEPTIDE LINKING","PEPTIDE-LIKE"],OJ=["RNA OH 3 PRIME TERMINUS","RNA OH 5 PRIME TERMINUS","RNA LINKING"],LJ=["DNA OH 3 PRIME TERMINUS","DNA OH 5 PRIME TERMINUS","DNA LINKING","L-DNA LINKING","L-RNA LINKING"],kS=["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","SACCHARIDE"],RJ=["NON-POLYMER"].concat(["OTHER"],kS),VS=["h","g","i"],KS=["e","b"],zS=["s","t","l",""],IJ={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109,DS:110,RG:111,CN:112,NH:113,FL:114,MC:115,LV:116,TS:117,OG:118},FJ={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:2,114:2,115:2,116:2,117:2,118:2},NJ={1:.31,2:.28,3:1.28,4:.96,5:.84,6:.76,7:.71,8:.66,9:.57,10:.58,11:1.66,12:1.41,13:1.21,14:1.11,15:1.07,16:1.05,17:1.02,18:1.06,19:2.03,20:1.76,21:1.7,22:1.6,23:1.53,24:1.39,25:1.39,26:1.32,27:1.26,28:1.24,29:1.32,30:1.22,31:1.22,32:1.2,33:1.19,34:1.2,35:1.2,36:1.16,37:2.2,38:1.95,39:1.9,40:1.75,41:1.64,42:1.54,43:1.47,44:1.46,45:1.42,46:1.39,47:1.45,48:1.44,49:1.42,50:1.39,51:1.39,52:1.38,53:1.39,54:1.4,55:2.44,56:2.15,57:2.07,58:2.04,59:2.03,60:2.01,61:1.99,62:1.98,63:1.98,64:1.96,65:1.94,66:1.92,67:1.92,68:1.89,69:1.9,70:1.87,71:1.87,72:1.75,73:1.7,74:1.62,75:1.51,76:1.44,77:1.41,78:1.36,79:1.36,80:1.32,81:1.45,82:1.46,83:1.48,84:1.4,85:1.5,86:1.5,87:2.6,88:2.21,89:2.15,90:2.06,91:2,92:1.96,93:1.9,94:1.87,95:1.8,96:1.69,97:1.6,98:1.6,99:1.6,100:1.6,101:1.6,102:1.6,103:1.6,104:1.6,105:1.6,106:1.6,107:1.6,108:1.6,109:1.6,110:1.6,111:1.6,112:1.6,113:1.6,114:1.6,115:1.6,116:1.6,117:1.6,118:1.6},Yx={1:[1],2:[0],3:[1],4:[2],5:[3],6:[4],7:[3],8:[2],9:[1],10:[0],11:[1],12:[2],13:[6],14:[6],15:[3,5,7],16:[2,4,6],17:[1],18:[0],19:[1],20:[2],31:[3],32:[4],33:[3,5],34:[2,4,6],35:[1],36:[0],37:[1],38:[2],49:[3],50:[4],51:[3,5],52:[2],53:[1,2,5],54:[0,2],55:[1],56:[2],81:[3],82:[4],83:[3],84:[2],85:[1],86:[0],87:[1],88:[2]},PJ={1:1,2:2,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:1,20:2,21:3,22:4,23:5,24:6,25:7,26:8,27:9,28:10,29:11,30:2,31:3,32:4,33:5,34:6,35:7,36:8,37:1,38:2,39:3,40:4,41:5,42:6,43:7,44:8,45:9,46:10,47:11,48:2,49:3,50:4,51:5,52:6,53:7,54:8,55:1,56:2,57:3,58:4,59:3,60:4,61:5,62:6,63:7,64:8,65:9,66:10,67:11,68:12,69:13,70:14,71:15,72:4,73:5,74:6,75:7,76:8,77:9,78:10,79:11,80:2,81:3,82:4,83:5,84:6,85:7,86:8,87:1,88:2,89:3,90:4,91:3,92:4,93:5,94:6,95:7,96:8,97:9,98:10,99:11,100:12,101:13,102:14,103:15,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:3,114:4,115:5,116:6,117:7,118:8},Wx={ALA:[.17,.5,.33],ARG:[.81,1.81,1],ASN:[.42,.85,.43],ASP:[1.23,3.64,2.41],ASH:[-.07,.43,.5],CYS:[-.24,-.02,.22],GLN:[.58,.77,.19],GLU:[2.02,3.63,1.61],GLH:[-.01,.11,.12],GLY:[.01,1.15,1.14],HIS:[.17,.11,-.06],ILE:[-.31,-1.12,-.81],LEU:[-.56,-1.25,-.69],LYS:[.99,2.8,1.81],MET:[-.23,-.67,-.44],PHE:[-1.13,-1.71,-.58],PRO:[.45,.14,-.31],SER:[.13,.46,.33],THR:[.14,.25,.11],TRP:[-1.85,-2.09,-.24],TYR:[-.94,-.71,.23],VAL:[.07,-.46,-.53]},UJ=[0,0,0],nE={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O"},bl=Object.keys(nE),YS=["A","C","T","G","U","I"],WS=["DA","DC","DT","DG","DU","DI"],HJ=["A","G","I","DA","DG","DI"],Ff=YS.concat(WS),iE=["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP3","TIP4","SPC"],DJ=["118","119","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","543","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MLT","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","NCO","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","OHX"],GJ=["045","0AT","0BD","0MK","0NZ","0TS","0V4","0XY","0YT","10M","147","149","14T","15L","16G","18T","18Y","1AR","1BW","1GL","1GN","1JB","1LL","1NA","1S3","26M","26Q","26R","26V","26W","26Y","27C","289","291","293","2DG","2F8","2FG","2FL","2FP","2GL","2M4","2M5","32O","34V","3CM","3DO","3DY","3FM","3LR","3MF","3MG","3SA","3ZW","46D","46M","46Z","48Z","4CQ","4GC","4NN","50A","5DI","5GF","5MM","5RP","5SA","5SP","64K","6PG","6SA","7JZ","7SA","A1Q","A2G","AAB","AAL","AAO","ABC","ABD","ABE","ABF","ABL","ACG","ACI","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AHR","AIG","ALL","ALX","AMU","AOG","AOS","ARA","ARB","ARE","ARI","ASG","ASO","AXP","AXR","B0D","B16","B2G","B4G","B6D","B8D","B9D","BBK","BCD","BDG","BDP","BDR","BEM","BFP","BGC","BGL","BGP","BGS","BHG","BMA","BMX","BNG","BNX","BOG","BRI","BXF","BXP","BXX","BXY","C3X","C4X","C5X","CAP","CBI","CBK","CBS","CDR","CEG","CGF","CHO","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D6G","DAF","DAG","DDA","DDB","DDL","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGS","DIG","DLF","DLG","DMU","DNO","DOM","DP5","DQQ","DQR","DR2","DR3","DR4","DRI","DSR","DT6","DVC","E4P","E5G","EAG","EBG","EBQ","EGA","EJT","EPG","ERE","ERI","F1P","F1X","F6P","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FIX","FMO","FRU","FSI","FU4","FUB","FUC","FUD","FUL","FXP","G16","G1P","G2F","G3I","G4D","G4S","G6D","G6P","G6S","GAC","GAD","GAL","GC1","GC4","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GCX","GE1","GFG","GFP","GIV","GL0","GL2","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GMH","GN1","GNX","GP1","GP4","GPH","GPM","GQ1","GQ2","GQ4","GS1","GS4","GSA","GSD","GTE","GTH","GTK","GTR","GTZ","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUP","GUZ","GYP","GYV","H2P","HDL","HMS","HS2","HSD","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","IAB","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IMK","IN1","IPT","ISL","KBG","KD2","KDA","KDM","KDO","KFN","KO1","KO2","KTU","L6S","LAG","LAI","LAK","LAO","LAT","LB2","LBT","LCN","LDY","LGC","LGU","LM2","LMT","LMU","LOG","LOX","LPK","LSM","LTM","LVZ","LXB","LXZ","M1F","M3M","M6P","M8C","MA1","MA2","MA3","MAB","MAG","MAL","MAN","MAT","MAV","MAW","MBG","MCU","MDA","MDM","MDP","MFA","MFB","MFU","MG5","MGA","MGL","MLB","MMA","MMN","MN0","MRP","MTT","MUG","MVP","MXY","N1L","N9S","NAA","NAG","NBG","NDG","NED","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGL","NGS","NGY","NHF","NM6","NM9","NTF","NTO","NTP","NXD","NYT","OPG","OPM","ORP","OX2","P3M","P53","P6P","PA5","PNA","PNG","PNW","PRP","PSJ","PSV","PTQ","QDK","QPS","QV4","R1P","R1X","R2B","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RIB","RIP","RNS","RNT","ROB","ROR","RPA","RST","RUB","RUU","RZM","S6P","S7P","SA0","SCR","SDD","SF6","SF9","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHG","SI3","SIO","SOE","SOL","SSG","SUC","SUP","SUS","T6P","T6T","TAG","TCB","TDG","TGK","TGY","TH1","TIA","TM5","TM6","TM9","TMR","TMX","TOA","TOC","TRE","TYV","UCD","UDC","VG1","X0X","X1X","X2F","X4S","X5S","X6X","XBP","XDN","XDP","XIF","XIM","XLF","XLS","XMM","XUL","XXR","XYP","XYS","YO5","Z3Q","Z6J","Z9M","ZDC","ZDM"],QJ=["CA","C","N","O","O1","O2","OC1","OC2","OX1","OXT","OT1","OT2","H","H1","H2","H3","HA","HN","BB"],$S=["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"],la={};function t1(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 8}}la[1]={trace:"CA",direction1:"C",direction2:["O","OC1","O1","OX1","OXT","OT1","OT2"],backboneStart:"N",backboneEnd:"C"},la[2]={trace:["C4'","C4*"],direction1:["C1'","C1*"],direction2:["C3'","C3*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},la[3]={trace:["C3'","C3*"],direction1:["C2'","C2*"],direction2:["O4'","O4*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},la[4]={trace:["CA","BB"],backboneStart:["CA","BB"],backboneEnd:["CA","BB"]},la[5]={trace:["C4'","C4*","P"],backboneStart:["C4'","C4*","P"],backboneEnd:["C4'","C4*","P"]},la[6]={trace:["C3'","C3*","C2'","P"],backboneStart:["C3'","C3*","C2'","P"],backboneEnd:["C3'","C3*","C2'","P"]},la[0]={};var $x=new Map([[2,li(180)],[3,li(120)],[4,li(109.4721)],[6,li(90)]]);function n1(e,t){var n=[],i=new F,r=new F;return i.subVectors(t,e),e.eachBondedAtom(function(s){s.number!==1&&(r.subVectors(s,e),n.push(i.angleTo(r)))}),n}function jx(e,t){var n=e.clone(),i=new F;i.subVectors(t,e);var r=[new F,new F],s=0;if(e.eachBondedAtom(function(o){s>1||o.number!==1&&(n.index=o.index,r[s++].subVectors(o,e))}),s===1&&n.eachBondedAtom(function(o){s>1||o.number!==1&&o.index!==e.index&&r[s++].subVectors(o,e)}),s===2){var a=r[0].cross(r[1]);return Math.abs(Math.PI/2-a.angleTo(i))}}function kJ(e,t){var n=e.structure,i=n.atomCount,r=new Int8Array(i),s=new Int8Array(i),a=new Int8Array(i),o=new Int8Array(i);return n.eachAtom(function(c){var p=c.index,A=function(y,g){var E=y.bondToElementCount(1),w=y.formalCharge||0,b=g.assignCharge==="always"||g.assignCharge==="auto"&&w===0,_=g.assignH==="always"||g.assignH==="auto"&&E===0,C=y.bondCount,T=function(D){var P=0;return D.eachBond(function(I){return P+=I.bondOrder}),P}(y),x=function(D){var P=D.structure.getBondProxy(),I=D.number,L=I===8||I===7;if(L&&D.bondCount===4)return!1;var k=!1;return D.eachBond(function(K){if(K.bondOrder>1)k=!0;else if(L){var W=K.getOtherAtom(D);W.eachBond(function(ee){if(ee.bondOrder>1){var le=W.number;if((le===15||le===16)&&ee.getOtherAtom(W).number===8)return;k=!0}},P)}}),k}(y),O=T-C>0,M=0,H=8;switch(y.number){case 1:b&&(C===0?(w=1,H=0):C===1&&(w=0,H=1));break;case 6:b&&(w=0),_&&(M=Math.max(0,4-T-Math.abs(w))),H=t1(C+M+Math.max(0,-w));break;case 7:if(b)if(_)if(x&&T<4)w=C-E==1&&T-E==2?1:0;else{var R=!1;y.eachBondedAtom(function(D){(D.number===16||D.isMetal())&&(R=!0)}),w=R?0:1}else w=T-3;_&&(M=Math.max(0,3-T+w)),H=t1(x&&!O?C+M-w:C+M+1-w);break;case 8:b&&(_||(w=T-2),T===1&&y.eachBondedAtom(function(D){D.eachBond(function(P){var I=P.getOtherAtom(D);I.index!==y.index&&I.number===8&&P.bondOrder===2&&(w=-1)})})),_&&(M=Math.max(0,2-T+w)),H=t1(x&&!O?C+M-w+1:C+M-w+2);break;case 16:b&&(_||(w=T<=3&&!y.bondToElementCount(8)?T-2:0)),_&&T<2&&(M=Math.max(0,2-T+w)),T<=3&&(H=t1(C+M-w+2));break;case 9:case 17:case 35:case 53:case 85:b&&(w=T-1);break;case 3:case 11:case 19:case 37:case 55:case 87:b&&(w=1-T);break;case 4:case 12:case 20:case 38:case 56:case 88:b&&(w=2-T);break;default:console.warn("Requested charge, protonation for an unhandled element",y.element)}return[w,M,M+E,H]}(c,t),l=A[0],u=A[1],d=A[2],m=A[3];r[p]=l,s[p]=u,a[p]=d,o[p]=m}),{charge:r,implicitH:s,totalH:a,idealGeometry:o}}function tl(e){if(e["@valenceModel"])return e["@valenceModel"];var t=kJ(e,{assignCharge:"auto",assignH:"auto"});return e["@valenceModel"]=t,t}function Xx(e){return e.number===15&&e.bondToElementCount(8)===e.bondCount}var VJ=["ARG","HIS","LYS"],KJ=["GLU","ASP"];function zJ(e,t,n){n===void 0&&(n={});for(var i=G(n.maxIonicDist,ai.maxIonicDist),r=G(n.maxPiStackingDist,ai.maxPiStackingDist),s=G(n.maxPiStackingOffset,ai.maxPiStackingOffset),a=G(n.maxPiStackingAngle,ai.maxPiStackingAngle),o=G(n.maxCationPiDist,ai.maxCationPiDist),c=G(n.maxCationPiOffset,ai.maxCationPiOffset),p=G(n.masterModelIndex,ai.masterModelIndex),A=Math.max(i+2,r,o),l=r*r,u=o*o,d=t.features,m=t.spatialHash,y=t.contactStore,g=t.featureSet,E=d.types,w=d.centers,b=d.atomSets,_=w.x,C=w.y,T=w.z,x=E.length,O=e.atomStore.x,M=e.atomStore.y,H=e.atomStore.z,R=e.getAtomProxy(),D=e.getAtomProxy(),P=new F,I=new F,L=new F,k=new F,K=new F,W=new F,ee=new F,le=function(me,ie){P.set(O[me[0]],M[me[0]],H[me[0]]),I.set(O[me[1]],M[me[1]],H[me[1]]),L.set(O[me[2]],M[me[2]],H[me[2]]),k.subVectors(P,I),K.subVectors(P,L),ie.crossVectors(k,K)},J=function(me,ie,fe){return P.set(_[me],C[me],T[me]),I.set(_[ie],C[ie],T[ie]),P.sub(I).projectOnPlane(fe).add(I).distanceTo(I)},re=function(me,ie,fe){g.setBits(me,ie),y.addContact(me,ie,fe)},te=function(me){m.eachWithin(_[me],C[me],T[me],A,function(ie,fe){if(!(ie<=me||(R.index=b[me][0],D.index=b[ie][0],vf(R,D,p)))){var pe=E[me],Ee=E[ie];if(function(we,xe){return we===2&&xe===1||we===1&&xe===2}(pe,Ee))(function(we,xe,Le){for(var V=we.length,j=xe.length,ve=0;ve<V;++ve){R.index=we[ve];for(var he=0;he<j;++he)if(D.index=xe[he],R.distanceTo(D)<=Le)return!0}return!1})(b[me],b[ie],i)&&re(me,ie,1);else if(function(we,xe){return we===3&&xe===3}(pe,Ee)){if(fe<=l){le(b[me],W),le(b[ie],ee);var q=57.29578*W.angleTo(ee);Math.min(J(me,ie,ee),J(ie,me,W))<=s&&(q<=a||q>=180-a||q<=a+90&&q>=90-a)&&re(me,ie,3)}}else if(function(we,xe){return we===3&&xe===1||we===1&&xe===3}(pe,Ee)&&fe<=u){var Z=pe===3?[me,ie]:[ie,me],ae=Z[0],Ae=Z[1];le(b[ae],W),J(Ae,ae,W)<=c&&re(ae,Ae,2)}}})},ge=0;ge<x;++ge)te(ge)}function qx(e){return e.resname==="HIS"&&e.number==7&&e.isRing()}var YJ=[3,11,19,37,55,12,20,38,56,13,31,49,81,21,50,82,83,51,80],WJ=[17,35,53,85],$J=[7,8,16],jJ=[6,7,15,16],XJ=li(180),qJ=li(120);function Zx(e,t,n){return!jS(e,t,n)&&(e.modelIndex!==t.modelIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}var ai={maxHydrophobicDist:4,maxHbondDist:3.5,maxHbondSulfurDist:4.1,maxHbondAccAngle:45,maxHbondDonAngle:45,maxHbondAccPlaneAngle:90,maxHbondDonPlaneAngle:30,maxPiStackingDist:5.5,maxPiStackingOffset:2,maxPiStackingAngle:30,maxCationPiDist:6,maxCationPiOffset:2,maxIonicDist:5,maxHalogenBondDist:4,maxHalogenBondAngle:30,maxMetalDist:3,refineSaltBridges:!0,masterModelIndex:-1,lineOfSightDistFactor:1};function jS(e,t,n){return e.modelIndex===n&&t.modelIndex!==n||t.modelIndex===n&&e.modelIndex!==n}function vf(e,t,n){return!jS(e,t,n)&&(e.modelIndex!==t.modelIndex||e.residueIndex===t.residueIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}function ZJ(e){var t={types:[],groups:[],centers:{x:[],y:[],z:[]},atomSets:[]};return De&&Be.time("calculateFeatures"),function(n,i){var r=tl(n.data).charge,s={};n.eachResidue(function(a){if(VJ.includes(a.resname)){var o=Ki(1);a.eachAtom(function(c){c.number===7&&c.isSidechain()&&Ci(o,c)}),bi(i,o)}else bl.includes(a.resname)||a.isNucleic()||(a.eachAtom(function(c){var p=!1,A=Ki(1);(function(l){var u=0;return l.number===6&&l.bondCount===3&&l.bondToElementCount(7)===3&&l.eachBondedAtom(function(d){d.bondCount-d.bondToElementCount(1)==1&&++u}),u===2})(c)?(A.group=8,p=!0):function(l){var u=0;return l.number===6&&l.bondCount===3&&l.bondToElementCount(7)===2&&l.bondToElementCount(6)===1&&l.eachBondedAtom(function(d){d.bondCount-d.bondToElementCount(1)==1&&++u}),u===2}(c)&&(A.group=9,p=!0),p&&(c.eachBondedAtom(function(l){l.number===7&&(s[l.index]=!0,Ci(A,l))}),bi(i,A))}),a.eachAtom(function(c){var p=Ki(1);r[c.index]>0&&(s[c.index]||(Ci(p,c),bi(i,p)))}))})}(e,t),function(n,i){var r=tl(n.data).charge,s={};n.eachResidue(function(a){if(KJ.includes(a.resname)){var o=Ki(2);a.eachAtom(function(p){p.number===8&&p.isSidechain()&&Ci(o,p)}),bi(i,o)}else if(Ff.includes(a.resname)){var c=Ki(2);a.eachAtom(function(p){Xx(p)&&(c.group=6,p.eachBondedAtom(function(A){A.number===8&&Ci(c,A)}),bi(i,c))})}else bl.includes(a.resname)||Ff.includes(a.resname)||(a.eachAtom(function(p){var A=!1,l=Ki(2);(function(u){return u.number===16&&u.bondToElementCount(8)===3})(p)?(l.group=4,A=!0):Xx(p)?(l.group=6,A=!0):function(u){return u.number===16&&u.bondToElementCount(8)===4}(p)?(l.group=5,A=!0):function(u){var d=0;return u.number===6&&u.bondToElementCount(8)===2&&u.bondToElementCount(6)===1&&u.eachBondedAtom(function(m){m.number===8&&m.bondCount-m.bondToElementCount(1)==1&&++d}),d===2}(p)&&(l.group=10,A=!0),A&&(p.eachBondedAtom(function(u){u.number===8&&(s[u.index]=!0,Ci(l,u))}),bi(i,l))}),a.eachAtom(function(p){var A=Ki(2);r[p.index]<0&&(s[p.index]||(Ci(A,p),bi(i,A)))}))})}(e,t),function(n,i){var r=n.getAtomProxy();n.eachResidue(function(s){var a=s.getAromaticRings();if(a){var o=s.atomOffset;a.forEach(function(c){var p=Ki(3);c.forEach(function(A){r.index=A+o,Ci(p,r)}),bi(i,p)})}})}(e,t),function(n,i){var r=tl(n.data),s=r.charge,a=r.implicitH,o=r.idealGeometry;n.eachAtom(function(c){var p=Ki(5),A=c.number;if(A===8)Ci(p,c),bi(i,p);else if(A===7){if(qx(c))Ci(p,c),bi(i,p);else if(s[c.index]<1){var l=c.bondCount+a[c.index],u=o[c.index];(u===4&&l<4||u===3&&l<3||u===2&&l<2)&&(Ci(p,c),bi(i,p))}}else A===16&&(c.resname!=="CYS"&&c.resname!=="MET"&&c.formalCharge!==-1||(Ci(p,c),bi(i,p)))})}(e,t),function(n,i){var r=tl(n.data).totalH;n.eachAtom(function(s){var a=Ki(4),o=s.number;(qx(s)||r[s.index]>0&&(o===7||o===8||o===16))&&(Ci(a,s),bi(i,a))})}(e,t),function(n,i){var r=tl(n.data).totalH;n.eachAtom(function(s){if(s.number===6&&r[s.index]>0&&(s.bondToElementCount(7)>0||s.bondToElementCount(8)>0||function(o){if(!o.isAromatic())return!1;var c=o.residueType.getRings();if(!c)return!1;var p=!1;return c.rings.forEach(function(A){p||A.some(function(l){return o.index-o.residueAtomOffset===l})&&(p=A.some(function(l){var u=o.residueType.atomTypeIdList[l],d=o.atomMap.get(u).number;return d===7||d===8}))}),p}(s))){var a=Ki(9);Ci(a,s),bi(i,a)}})}(e,t),function(n,i){n.eachAtom(function(r){var s=!1,a=!1,o=bl.includes(r.resname),c=Ff.includes(r.resname);if(o||c?o?r.number===8?(["ASP","GLU","SER","THR","TYR","ASN","GLN"].includes(r.resname)&&r.isSidechain()||r.isBackbone())&&(s=!0,a=!0):r.number===16&&r.resname==="CYS"?(s=!0,a=!0):r.number===7&&r.resname==="HIS"&&r.isSidechain()&&(s=!0):c&&(r.number===8&&r.isBackbone()?(s=!0,a=!0):["N3","N4","N7"].includes(r.atomname)?s=!0:["O2","O4","O6"].includes(r.atomname)&&(s=!0,a=!0)):r.isHalogen()||r.number===8||r.number===16?(s=!0,a=!0):r.number===7&&(s=!0),s){var p=Ki(11);Ci(p,r),bi(i,p)}if(a){var A=Ki(10);Ci(A,r),bi(i,A)}})}(e,t),function(n,i){n.eachAtom(function(r){if(r.isTransitionMetal()||r.number===30||r.number===48){var s=Ki(12);Ci(s,r),bi(i,s)}else if(YJ.includes(r.number)){var a=Ki(13);Ci(a,r),bi(i,a)}})}(e,t),function(n,i){n.eachAtom(function(r){var s=Ki(8),a=!1;r.number===6?(a=!0,r.eachBondedAtom(function(o){var c=o.number;c!==6&&c!==1&&(a=!1)})):r.number===9&&(a=!0),a&&(Ci(s,r),bi(i,s))})}(e,t),function(n,i){n.eachAtom(function(r){if($J.includes(r.number)){var s=!1;if(r.eachBondedAtom(function(o){jJ.includes(o.number)&&(s=!0)}),s){var a=Ki(7);Ci(a,r),bi(i,a)}}})}(e,t),function(n,i){n.eachAtom(function(r){if(WJ.includes(r.number)&&r.bondToElementCount(6)===1){var s=Ki(6);Ci(s,r),bi(i,s)}})}(e,t),De&&Be.timeEnd("calculateFeatures"),t}function JJ(e,t){t===void 0&&(t=ai);var n=function(r){var s=r.types,a=r.centers;return{features:r,spatialHash:new Jp(a),contactStore:new MJ,featureSet:new Qt(s.length,!1)}}(ZJ(e));De&&Be.time("calculateContacts"),zJ(e,n,t),function(r,s,a){a===void 0&&(a={});for(var o=G(a.maxHbondDist,ai.maxHbondDist),c=G(a.maxHbondSulfurDist,ai.maxHbondSulfurDist),p=li(G(a.maxHbondAccAngle,ai.maxHbondAccAngle)),A=li(G(a.maxHbondDonAngle,ai.maxHbondDonAngle)),l=li(G(a.maxHbondAccPlaneAngle,ai.maxHbondAccPlaneAngle)),u=li(G(a.maxHbondDonPlaneAngle,ai.maxHbondDonPlaneAngle)),d=G(a.masterModelIndex,ai.masterModelIndex),m=Math.max(o,c),y=o*o,g=s.features,E=s.spatialHash,w=s.contactStore,b=s.featureSet,_=g.types,C=g.centers,T=g.atomSets,x=C.x,O=C.y,M=C.z,H=_.length,R=tl(r.data).idealGeometry,D=r.getAtomProxy(),P=r.getAtomProxy(),I=function(k){E.eachWithin(x[k],O[k],M[k],m,function(K,W){if(!(K<=k)){var ee=_[k],le=_[K],J=function(we,xe){return we===9&&xe===5||we===5&&xe===9}(ee,le);if(J||function(we,xe){return we===5&&xe===4||we===4&&xe===5}(ee,le)){var re=le===5?[k,K]:[K,k],te=re[0],ge=re[1];if(D.index=T[te][0],P.index=T[ge][0],P.index!==D.index&&!vf(D,P,d)&&!(D.number!==16&&P.number!==16&&W>y||D.connectedTo(P))){var me=n1(D,P),ie=$x.get(R[D.index])||li(120);if(!me.some(function(we){return Math.abs(ie-we)>A})){if(R[D.index]===3){var fe=jx(D,P);if(fe!==void 0&&fe>u)return}var pe=n1(P,D),Ee=$x.get(R[P.index])||li(120);if(!pe.some(function(we){return Ee-we>p})){if(R[P.index]===3){var q=jx(P,D);if(q!==void 0&&q>l)return}b.setBits(te,ge);var Z,ae,Ae=J?8:function(we,xe){return we.isWater()&&xe.isWater()}(Z=D,ae=P)?9:function(we,xe){return we.isBackbone()&&xe.isBackbone()}(Z,ae)?10:4;w.addContact(te,ge,Ae)}}}}}})},L=0;L<H;++L)I(L)}(e,n,t),function(r,s,a){a===void 0&&(a={});for(var o=G(a.maxMetalDist,ai.maxMetalDist),c=G(a.masterModelIndex,ai.masterModelIndex),p=s.features,A=s.spatialHash,l=s.contactStore,u=s.featureSet,d=p.types,m=p.centers,y=p.atomSets,g=m.x,E=m.y,w=m.z,b=d.length,_=r.getAtomProxy(),C=r.getAtomProxy(),T=function(O){A.eachWithin(g[O],E[O],w[O],o,function(M,H){if(!(M<=O||(_.index=y[O][0],C.index=y[M][0],vf(_,C,c)))){var R=_.isMetal(),D=C.isMetal();if(R||D){var P=R?[d[O],d[M]]:[d[M],d[O]];I=P[0],L=P[1],(I===12?L===11||L===12:I===13?L===10:void 0)&&(u.setBits(O,M),l.addContact(O,M,7))}}var I,L})},x=0;x<b;++x)T(x)}(e,n,t),function(r,s,a){a===void 0&&(a={});for(var o=G(a.maxHydrophobicDist,ai.maxHydrophobicDist),c=G(a.masterModelIndex,ai.masterModelIndex),p=s.features,A=s.spatialHash,l=s.contactStore,u=s.featureSet,d=p.types,m=p.centers,y=p.atomSets,g=m.x,E=m.y,w=m.z,b=d.length,_=r.getAtomProxy(),C=r.getAtomProxy(),T=function(O){A.eachWithin(g[O],E[O],w[O],o,function(M,H){var R,D;M<=O||(_.index=y[O][0],C.index=y[M][0],vf(_,C,c)||_.number===9&&C.number===9||_.connectedTo(C)||(R=d[O],D=d[M],R===8&&D===8&&(u.setBits(O,M),l.addContact(O,M,6))))})},x=0;x<b;++x)T(x)}(e,n,t),function(r,s,a){a===void 0&&(a={});for(var o=G(a.maxHalogenBondDist,ai.maxHalogenBondDist),c=li(G(a.maxHalogenBondAngle,ai.maxHalogenBondAngle)),p=G(a.masterModelIndex,ai.masterModelIndex),A=s.features,l=s.spatialHash,u=s.contactStore,d=s.featureSet,m=A.types,y=A.centers,g=A.atomSets,E=y.x,w=y.y,b=y.z,_=m.length,C=r.getAtomProxy(),T=r.getAtomProxy(),x=function(M){l.eachWithin(E[M],w[M],b[M],o,function(H,R){if(!(H<=M)&&(C.index=g[M][0],T.index=g[H][0],!vf(C,T,p)&&(D=m[M],P=m[H],D===7&&P===6||D===6&&P===7))){var D,P,I=m[M]===6?[C,T]:[T,C],L=I[0],k=I[1],K=n1(L,k);if(K.length===1&&!(XJ-K[0]>c)){var W=n1(k,L);W.length!==0&&(W.some(function(ee){return qJ-ee>c})||(d.setBits(M,H),u.addContact(M,H,5)))}}})},O=0;O<_;++O)x(O)}(e,n,t);var i=function(r){var s=r.contactStore,a=QS({nodeArray1:s.index1,nodeArray2:s.index2,edgeCount:s.count,nodeCount:r.featureSet.length}),o=new Qt(r.contactStore.count,!0);return Object.assign({adjacencyList:a,contactSet:o},r)}(n);return function(r,s,a){a===void 0&&(a={}),De&&Be.time("refineLineOfSight");var o=G(a.lineOfSightDistFactor,ai.lineOfSightDistFactor),c=G(a.masterModelIndex,ai.masterModelIndex),p=r.spatialHash,A=s.contactSet,l=s.contactStore,u=s.features,d=l.index1,m=l.index2,y=u.centers,g=u.atomSets,E=y.x,w=y.y,b=y.z,_=r.getAtomProxy(),C=r.getAtomProxy(),T=r.getAtomProxy(),x=new F,O=new F,M=3*o,H=o*o;A.forEach(function(R){x.set(E[d[R]],w[d[R]],b[d[R]]),O.set(E[m[R]],w[m[R]],b[m[R]]);var D=(x.x+O.x)/2,P=(x.y+O.y)/2,I=(x.z+O.z)/2,L=g[d[R]],k=g[m[R]];_.index=L[0],C.index=k[0],p.eachWithin(D,P,I,M,function(K,W){T.index=K,T.number!==1&&T.vdw*T.vdw*H>W&&!Zx(_,T,c)&&!Zx(C,T,c)&&!L.includes(K)&&!k.includes(K)&&x.distanceToSquared(T)>1&&O.distanceToSquared(T)>1&&(A.clear(R),De&&Be.log("removing",_.qualifiedName(),C.qualifiedName(),"because",T.qualifiedName()))})}),De&&Be.timeEnd("refineLineOfSight")}(e,i,t),function(r,s){var a=s.contactSet,o=s.contactStore,c=s.features,p=o.type,A=o.index1,l=o.index2,u=c.atomSets,d=r.getAtomProxy(),m=r.getAtomProxy(),y={},g=function(E,w,b){var _=y[b]||[1/0,-1],C=_[0],T=_[1];E<C?(T!==-1&&a.clear(T),y[b]=[E,w]):a.clear(w)};a.forEach(function(E){if(p[E]===6){d.index=u[A[E]][0],m.index=u[l[E]][0];var w=d.distanceTo(m);g(w,E,d.index+"|"+m.residueIndex),g(w,E,m.index+"|"+d.residueIndex)}})}(e,i),t.refineSaltBridges&&function(r,s){var a=s.contactSet,o=s.contactStore,c=s.features,p=o.type,A=o.index1,l=o.index2,u=c.atomSets,d={},m=function(y,g){d[y]||(d[y]=[]),d[y].push(g)};a.forEach(function(y){p[y]===1&&(u[A[y]].forEach(function(g){return m(g,y)}),u[l[y]].forEach(function(g){return m(g,y)}))}),a.forEach(function(y){if(function(_){return _===4||_===9||_===10}(p[y])){var g=d[u[A[y]][0]],E=d[u[l[y]][0]];if(g&&E){for(var w=g.length,b=0;b<w;++b)if(E.includes(g[b]))return void a.clear(y)}}})}(0,i),function(r,s){var a=s.contactSet,o=s.contactStore,c=s.features,p=o.type,A=o.index1,l=o.index2,u=c.atomSets,d={},m=function(y,g){d[y]||(d[y]=[]),d[y].push(g)};a.forEach(function(y){p[y]===3&&(u[A[y]].forEach(function(g){return m(g,y)}),u[l[y]].forEach(function(g){return m(g,y)}))}),a.forEach(function(y){if(p[y]===6||p[y]===2){var g=d[u[A[y]][0]],E=d[u[l[y]][0]];if(g&&E){for(var w=g.length,b=0;b<w;++b)if(E.includes(g[b]))return void a.clear(y)}}})}(0,i),function(r,s){var a=s.contactSet,o=s.contactStore,c=s.features,p=o.type,A=o.index1,l=o.index2,u=c.atomSets,d={},m=function(y,g){d[y]||(d[y]=[]),d[y].push(g)};a.forEach(function(y){p[y]===1&&(u[A[y]].forEach(function(g){return m(g,y)}),u[l[y]].forEach(function(g){return m(g,y)}))}),a.forEach(function(y){if(p[y]===7){var g=d[u[A[y]][0]],E=d[u[l[y]][0]];if(g&&E){for(var w=g.length,b=0;b<w;++b)if(E.includes(g[b]))return void a.clear(g[b])}}})}(0,i),De&&Be.timeEnd("calculateContacts"),i}function eee(e){switch(e){case 4:case 9:case 10:return"hydrogen bond";case 6:return"hydrophobic contact";case 5:return"halogen bond";case 1:return"ionic interaction";case 7:return"metal coordination";case 2:return"cation-pi interaction";case 3:return"pi-pi stacking";case 8:return"weak hydrogen bond";default:return"unknown contact"}}var tee={hydrogenBond:!0,hydrophobic:!0,halogenBond:!0,ionicInteraction:!0,metalCoordination:!0,cationPi:!0,piStacking:!0,weakHydrogenBond:!0,waterHydrogenBond:!0,backboneHydrogenBond:!0,radius:1,filterSele:""},bo=new Je;function nee(e,t,n){var i=Es(n,tee),r=[];i.hydrogenBond&&r.push(4),i.hydrophobic&&r.push(6),i.halogenBond&&r.push(5),i.ionicInteraction&&r.push(1),i.metalCoordination&&r.push(7),i.cationPi&&r.push(2),i.piStacking&&r.push(3),i.weakHydrogenBond&&r.push(8),i.waterHydrogenBond&&r.push(9),i.backboneHydrogenBond&&r.push(10);var s,a=e.features,o=e.contactSet,c=e.contactStore,p=a.centers,A=a.atomSets,l=p.x,u=p.y,d=p.z,m=c.index1,y=c.index2,g=c.type,E=[],w=[],b=[],_=[],C=[];return i.filterSele&&(s=Array.isArray(i.filterSele)?i.filterSele.map(function(T){return t.getAtomSet(new Nn(T))}):t.getAtomSet(new Nn(i.filterSele))),o.forEach(function(T){var x=g[T];if(r.includes(x)){if(s){var O=A[m[T]][0],M=A[y[T]][0];if(Array.isArray(s)){if(!(s[0].isSet(O)&&s[1].isSet(M)||s[1].isSet(O)&&s[0].isSet(M)))return}else if(!s.isSet(O)&&!s.isSet(M))return}var H=m[T],R=y[T];E.push(l[H],u[H],d[H]),w.push(l[R],u[R],d[R]),b.push.apply(b,function(D){switch(D){case 4:case 9:case 10:return bo.setHex(2851770).toArray();case 6:return bo.setHex(8421504).toArray();case 5:return bo.setHex(4259775).toArray();case 1:return bo.setHex(15779860).toArray();case 7:return bo.setHex(9191577).toArray();case 2:return bo.setHex(16744448).toArray();case 3:return bo.setHex(9220966).toArray();case 8:return bo.setHex(12967404).toArray();default:return bo.setHex(13421772).toArray()}}(x)),_.push(i.radius),C.push(T)}}),{position1:new Float32Array(E),position2:new Float32Array(w),color:new Float32Array(b),color2:new Float32Array(b),radius:new Float32Array(_),picking:new aee(C,e,t)}}var mr=function(e){this.array=e},Ig={type:{configurable:!0},data:{configurable:!0}};Ig.type.get=function(){return""},Ig.data.get=function(){return{}},mr.prototype.getIndex=function(e){return this.array?this.array[e]:e},mr.prototype.getObject=function(e){return{}},mr.prototype._applyTransformations=function(e,t,n){return t&&e.applyMatrix4(t.matrix),n&&e.applyMatrix4(n.matrix),e},mr.prototype._getPosition=function(e){return new F},mr.prototype.getPosition=function(e,t,n){return this._applyTransformations(this._getPosition(e),t,n)},Object.defineProperties(mr.prototype,Ig);var $s=function(e){function t(i){e.call(this),this.shape=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0},data:{configurable:!0},type:{configurable:!0}};return n.primitive.get=function(){},n.data.get=function(){return this.shape},n.type.get=function(){return this.primitive.type},t.prototype.getObject=function(i){return this.primitive.objectFromShape(this.shape,this.getIndex(i))},t.prototype._getPosition=function(i){return this.primitive.positionFromShape(this.shape,this.getIndex(i))},Object.defineProperties(t.prototype,n),t}(mr),iee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Zp},Object.defineProperties(t.prototype,n),t}($s),ree=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return UE},Object.defineProperties(t.prototype,n),t}($s),tA=function(e){function t(i,r){e.call(this,i),this.structure=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"atom"},n.data.get=function(){return this.structure},t.prototype.getObject=function(i){return this.structure.getAtomProxy(this.getIndex(i))},t.prototype._getPosition=function(i){return new F().copy(this.getObject(i))},Object.defineProperties(t.prototype,n),t}(mr),see=function(e){function t(i){e.call(this),this.axes=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"axes"},n.data.get=function(){return this.axes},t.prototype.getObject=function(){return{axes:this.axes}},t.prototype._getPosition=function(){return this.axes.center.clone()},Object.defineProperties(t.prototype,n),t}(mr),XS=function(e){function t(i,r,s){e.call(this,i),this.structure=r,this.bondStore=s||r.bondStore}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"bond"},n.data.get=function(){return this.structure},t.prototype.getObject=function(i){var r=this.structure.getBondProxy(this.getIndex(i));return r.bondStore=this.bondStore,r},t.prototype._getPosition=function(i){var r=this.getObject(i);return new F().copy(r.atom1).add(r.atom2).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(mr),aee=function(e){function t(i,r,s){e.call(this,i),this.contacts=r,this.structure=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"contact"},n.data.get=function(){return this.contacts},t.prototype.getObject=function(i){var r=this.getIndex(i),s=this.contacts,a=s.features,o=s.contactStore,c=a.centers,p=a.atomSets,A=c.x,l=c.y,u=c.z,d=o.index1,m=o.index2,y=o.type,g=d[r],E=m[r];return{center1:new F(A[g],l[g],u[g]),center2:new F(A[E],l[E],u[E]),atom1:this.structure.getAtomProxy(p[g][0]),atom2:this.structure.getAtomProxy(p[E][0]),type:eee(y[r])}},t.prototype._getPosition=function(i){var r=this.getObject(i),s=r.center1,a=r.center2;return new F().addVectors(s,a).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(mr),oee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return HE},Object.defineProperties(t.prototype,n),t}($s),cee=function(e){function t(i,r,s){e.call(this,i),this.validation=r,this.structure=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"clash"},n.data.get=function(){return this.validation},t.prototype.getObject=function(i){var r=this.validation,s=this.getIndex(i);return{validation:r,index:s,clash:r.clashArray[s]}},t.prototype._getAtomProxyFromSele=function(i){var r=new Nn(i),s=this.structure.getAtomIndices(r)[0];return this.structure.getAtomProxy(s)},t.prototype._getPosition=function(i){var r=this.getObject(i).clash,s=this._getAtomProxyFromSele(r.sele1),a=this._getAtomProxyFromSele(r.sele2);return new F().copy(s).add(a).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(mr),pee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"distance"},Object.defineProperties(t.prototype,n),t}(XS),Aee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return eu},Object.defineProperties(t.prototype,n),t}($s),lee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return NE},Object.defineProperties(t.prototype,n),t}($s),uee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return qp},Object.defineProperties(t.prototype,n),t}($s),fee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"ignore"},Object.defineProperties(t.prototype,n),t}(mr),dee=function(e){function t(i,r){e.call(this,i),this.mesh=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"mesh"},t.prototype.getObject=function(){var i=this.mesh;return{shape:this.shape,name:i.name,serial:i.serial}},t.prototype._getPosition=function(){return this.__position||(this.__position=E4(this.mesh.position)),this.__position},Object.defineProperties(t.prototype,n),t}($s),hee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Jl},Object.defineProperties(t.prototype,n),t}($s),mee=function(e){function t(i,r){e.call(this,i),this.surface=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"surface"},n.data.get=function(){return this.surface},t.prototype.getObject=function(i){return{surface:this.surface,index:this.getIndex(i)}},t.prototype._getPosition=function(){return this.surface.center.clone()},Object.defineProperties(t.prototype,n),t}(mr),Eee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return PE},Object.defineProperties(t.prototype,n),t}($s),yee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return DE},Object.defineProperties(t.prototype,n),t}($s),gee=function(e){function t(i,r){e.call(this),this.unitcell=i,this.structure=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"unitcell"},n.data.get=function(){return this.unitcell},t.prototype.getObject=function(){return{unitcell:this.unitcell,structure:this.structure}},t.prototype._getPosition=function(){return this.unitcell.getCenter(this.structure)},Object.defineProperties(t.prototype,n),t}(mr),qS=function(e){function t(i,r){e.call(this,i),this.volume=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"volume"},n.data.get=function(){return this.volume},t.prototype.getObject=function(i){var r=this.volume,s=this.getIndex(i);return{volume:r,index:s,value:r.data[s]}},t.prototype._getPosition=function(i){var r=this.volume.position,s=this.getIndex(i);return new F(r[3*s],r[3*s+1],r[3*s+2])},Object.defineProperties(t.prototype,n),t}(mr),wee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"slice"},Object.defineProperties(t.prototype,n),t}(qS),_ee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Ld},Object.defineProperties(t.prototype,n),t}($s),vee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Rd},Object.defineProperties(t.prototype,n),t}($s);function ZS(){return new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0])}function JS(){return new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function Cee(){return[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]]}function L_(e,t,n,i,r){var s,a,o,c,p,A,l,u=0,d=!1,m=!1,y=!1,g=!1,E=-1,w=t*n*i,b=t,_=t*n,C=new Int32Array(12),T=[],x=[],O=[],M=[],H=ZS(),R=JS(),D=[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]];function P(J,re,te){return J+(re-J)*te}function I(J,re,te){return _*(te=(te+l)%i)+b*(re=(re+A)%n)+(J=(J+p)%t)}function L(J,re,te,ge,me,ie,fe){var pe=3*J;if(a[pe]<0){var Ee=(u-ie)/(fe-ie),q=s,Z=3*o;if(T[Z+0]=te+Ee,T[Z+1]=ge,T[Z+2]=me,!d){var ae=3*J;x[Z]=E*P(q[ae],q[ae+3],Ee),x[Z+1]=E*P(q[ae+1],q[ae+4],Ee),x[Z+2]=E*P(q[ae+2],q[ae+5],Ee)}r&&(M[o]=r[J+Math.round(Ee)]),a[pe]=o,C[re]=o,o+=1}else C[re]=a[pe]}function k(J,re,te,ge,me,ie,fe){var pe=3*J+1;if(a[pe]<0){var Ee=(u-ie)/(fe-ie),q=s,Z=3*o;if(T[Z]=te,T[Z+1]=ge+Ee,T[Z+2]=me,!d){var ae=3*J,Ae=ae+3*b;x[Z]=E*P(q[ae],q[Ae],Ee),x[Z+1]=E*P(q[ae+1],q[Ae+1],Ee),x[Z+2]=E*P(q[ae+2],q[Ae+2],Ee)}r&&(M[o]=r[J+Math.round(Ee)*b]),a[pe]=o,C[re]=o,o+=1}else C[re]=a[pe]}function K(J,re,te,ge,me,ie,fe){var pe=3*J+2;if(a[pe]<0){var Ee=(u-ie)/(fe-ie),q=s,Z=3*o;if(T[Z]=te,T[Z+1]=ge,T[Z+2]=me+Ee,!d){var ae=3*J,Ae=ae+3*_;x[Z]=E*P(q[ae],q[Ae],Ee),x[Z+1]=E*P(q[ae+1],q[Ae+1],Ee),x[Z+2]=E*P(q[ae+2],q[Ae+2],Ee)}r&&(M[o]=r[J+Math.round(Ee)*_]),a[pe]=o,C[re]=o,o+=1}else C[re]=a[pe]}function W(J){var re=3*J;s[re]===0&&(s[re]=e[(J-1+w)%w]-e[(J+1)%w],s[re+1]=e[(J-b+w)%w]-e[(J+b)%w],s[re+2]=e[(J-_+w)%w]-e[(J+_)%w])}function ee(J,re,te,ge,me){var ie,fe,pe,Ee,q,Z,ae;y?(ge=I(J,re,te),ie=I(J+1,re,te),fe=I(J,re+1,te),pe=I(J,re,te+1),Ee=I(J+1,re+1,te),q=I(J+1,re,te+1),Z=I(J,re+1,te+1),ae=I(J+1,re+1,te+1)):(ie=ge+1,Ee=(fe=ge+b)+1,q=(pe=ge+_)+1,ae=(Z=fe+_)+1);var Ae=0,we=e[ge],xe=e[ie],Le=e[fe],V=e[Ee],j=e[pe],ve=e[q],he=e[Z],oe=e[ae];we<u&&(Ae|=1),xe<u&&(Ae|=2),Le<u&&(Ae|=8),V<u&&(Ae|=4),j<u&&(Ae|=16),ve<u&&(Ae|=32),he<u&&(Ae|=128),oe<u&&(Ae|=64);var ue=H[Ae];if(ue===0)return 0;var Oe=J+1,Pe=re+1,Te=te+1;1&ue&&(d||(W(ge),W(ie)),L(ge,0,J,re,te,we,xe)),2&ue&&(d||(W(ie),W(Ee)),k(ie,1,Oe,re,te,xe,V)),4&ue&&(d||(W(fe),W(Ee)),L(fe,2,J,Pe,te,Le,V)),8&ue&&(d||(W(ge),W(fe)),k(ge,3,J,re,te,we,Le)),16&ue&&(d||(W(pe),W(q)),L(pe,4,J,re,Te,j,ve)),32&ue&&(d||(W(q),W(ae)),k(q,5,Oe,re,Te,ve,oe)),64&ue&&(d||(W(Z),W(ae)),L(Z,6,J,Pe,Te,he,oe)),128&ue&&(d||(W(pe),W(Z)),k(pe,7,J,re,Te,j,he)),256&ue&&(d||(W(ge),W(pe)),K(ge,8,J,re,te,we,j)),512&ue&&(d||(W(ie),W(q)),K(ie,9,Oe,re,te,xe,ve)),1024&ue&&(d||(W(Ee),W(ae)),K(Ee,10,Oe,Pe,te,V,oe)),2048&ue&&(d||(W(fe),W(Z)),K(fe,11,J,Pe,te,Le,he));for(var Ne,Se,ze,Ge=Ae<<4,Ue=0;R[Ge+Ue]!==-1;)Ne=R[Ge+Ue],Se=R[Ge+Ue+1],ze=R[Ge+Ue+2],m?(D[Ne][Se]&me&&(O[c++]=C[Ne],O[c++]=C[Se]),D[Se][ze]&me&&(O[c++]=C[Se],O[c++]=C[ze]),D[Ne][ze]&me&&(O[c++]=C[Ne],O[c++]=C[ze])):(O[c++]=C[g?Ne:Se],O[c++]=C[g?Se:Ne],O[c++]=C[ze]),Ue+=3}function le(J,re,te,ge,me,ie){var fe,pe,Ee,q,Z,ae,Ae,we,xe,Le,V,j,ve;if(J=J!==void 0?J:0,re=re!==void 0?re:0,te=te!==void 0?te:0,ge=ge!==void 0?ge:t-1,me=me!==void 0?me:n-1,ie=ie!==void 0?ie:i-1,y||(d?(J=Math.max(0,J),re=Math.max(0,re),te=Math.max(0,te),ge=Math.min(t-1,ge),me=Math.min(n-1,me),ie=Math.min(i-1,ie)):(J=Math.max(1,J),re=Math.max(1,re),te=Math.max(1,te),ge=Math.min(t-2,ge),me=Math.min(n-2,me),ie=Math.min(i-2,ie))),y)for(we=J-2,xe=re-2,V=ge+2,j=me+2,ve=ie+2,Z=Le=te-2;Z<ve;++Z)for(q=xe;q<j;++q)for(Ee=we;Ee<V;++Ee)pe=3*I(Ee,q,Z),a[pe]=-1,a[pe+1]=-1,a[pe+2]=-1;else for(we=Math.max(0,J-2),xe=Math.max(0,re-2),Le=Math.max(0,te-2),V=Math.min(t,ge+2),j=Math.min(n,me+2),ve=Math.min(i,ie+2),Z=Le;Z<ve;++Z)for(Ae=_*Z,q=xe;q<j;++q)for(ae=Ae+b*q,Ee=we;Ee<V;++Ee)a[fe=3*(ae+Ee)]=-1,a[fe+1]=-1,a[fe+2]=-1;if(!y){var he,oe=J,ue=re,Oe=te,Pe=ge,Te=me,Ne=ie;for(he=!1,Z=te;Z<ie;++Z){for(q=re;q<me;++q){for(Ee=J;Ee<ge;++Ee)if(e[fe=t*n*Z+t*q+Ee]>=u){Oe=Z,he=!0;break}if(he)break}if(he)break}for(he=!1,q=re;q<me;++q){for(Z=Oe;Z<ie;++Z){for(Ee=J;Ee<ge;++Ee)if(e[fe=t*n*Z+t*q+Ee]>=u){ue=q,he=!0;break}if(he)break}if(he)break}for(he=!1,Ee=J;Ee<ge;++Ee){for(q=ue;q<me;++q){for(Z=Oe;Z<ie;++Z)if(e[fe=t*n*Z+t*q+Ee]>=u){oe=Ee,he=!0;break}if(he)break}if(he)break}for(he=!1,Z=ie;Z>=te;--Z){for(q=me;q>=re;--q){for(Ee=ge;Ee>=J;--Ee)if(e[fe=t*n*Z+t*q+Ee]>=u){Ne=Z,he=!0;break}if(he)break}if(he)break}for(he=!1,q=me;q>=re;--q){for(Z=Ne;Z>=te;--Z){for(Ee=ge;Ee>=J;--Ee)if(e[fe=t*n*Z+t*q+Ee]>=u){Te=q,he=!0;break}if(he)break}if(he)break}for(he=!1,Ee=ge;Ee>=J;--Ee){for(q=Te;q>=re;--q){for(Z=Ne;Z>=te;--Z)if(e[fe=t*n*Z+t*q+Ee]>=u){Pe=Ee,he=!0;break}if(he)break}if(he)break}d?(J=Math.max(0,oe-1),re=Math.max(0,ue-1),te=Math.max(0,Oe-1),ge=Math.min(t-1,Pe+1),me=Math.min(n-1,Te+1),ie=Math.min(i-1,Ne+1)):(J=Math.max(1,oe-1),re=Math.max(1,ue-1),te=Math.max(1,Oe-1),ge=Math.min(t-2,Pe+1),me=Math.min(n-2,Te+1),ie=Math.min(i-2,Ne+1))}var Se=15;for(Z=te;Z<ie;++Z,Se&=-5)for(Ae=_*Z,Se|=2,q=re;q<me;++q,Se&=-3)for(ae=Ae+b*q,Se|=1,Ee=J;Ee<ge;++Ee,Se&=-2)ee(Ee,q,Z,fe=ae+Ee,Se)}this.triangulate=function(J,re,te,ge,me){g=(u=J)<0,m=ge,y=me,(d=re||m)||(E=u>0?-1:1,s||(s=new Float32Array(3*w)));var ie=3*w;if(a&&a.length===ie||(a=new Int32Array(ie)),o=0,c=0,te!==void 0){var fe=te[0].map(Math.round),pe=te[1].map(Math.round);p=t*Math.ceil(Math.abs(fe[0])/t),A=n*Math.ceil(Math.abs(fe[1])/n),l=i*Math.ceil(Math.abs(fe[2])/i),le(fe[0],fe[1],fe[2],pe[0],pe[1],pe[2])}else p=A=l=0,le();return T.length=3*o,d||(x.length=3*o),O.length=c,r&&(M.length=o),{position:new Float32Array(T),normal:d?void 0:new Float32Array(x),index:Za(O,T.length/3),atomindex:r?new Int32Array(M):void 0,contour:m}}}Fs.add("arrow",ree),Fs.add("box",uee),Fs.add("cone",oee),Fs.add("cylinder",iee),Fs.add("ellipsoid",Aee),Fs.add("octahedron",lee),Fs.add("sphere",hee),Fs.add("tetrahedron",Eee),Fs.add("torus",yee),Fs.add("point",_ee),Fs.add("wideline",vee),Object.assign(L_,{__deps:[ZS,JS,Cee,Za]});var Bn=function(e,t){this.cols=e,this.rows=t,this.size=this.cols*this.rows,this.data=new Float32Array(this.size)};function ya(e,t){for(var n=0,i=0,r=t.rows,s=t.cols,a=0,o=0,c=0,p=t.data,A=e.data;n<r;o+=1,a+=s,n++)for(c=o,i=0;i<s;c+=r,i++)A[c]=p[a+i]}function P1(e,t,n){for(var i=0,r=0,s=0,a=0,o=0,c=0,p=0,A=t.cols,l=t.rows,u=n.rows,d=t.data,m=n.data,y=e.data,g=0;i<l;a+=A,i++)for(c=0,r=0;r<u;p++,r++){for(o=a,g=0,s=0;s<A;o++,c++,s++)g+=d[o]*m[c];y[p]=g}}function Fg(e,t,n){var i=e.data,r=t.data,s=n.data,a=r[0],o=r[1],c=r[2],p=r[3],A=r[4],l=r[5],u=r[6],d=r[7],m=r[8],y=s[0],g=s[1],E=s[2],w=s[3],b=s[4],_=s[5],C=s[6],T=s[7],x=s[8];i[0]=a*y+o*w+c*C,i[1]=a*g+o*b+c*T,i[2]=a*E+o*_+c*x,i[3]=p*y+A*w+l*C,i[4]=p*g+A*b+l*T,i[5]=p*E+A*_+l*x,i[6]=u*y+d*w+m*C,i[7]=u*g+d*b+m*T,i[8]=u*E+d*_+m*x}function w4(e){for(var t=e.rows,n=e.cols,i=e.data,r=new Array(n),s=0;s<n;++s)r[s]=0;for(var a=0,o=0;a<t;++a)for(var c=0;c<n;++c,++o)r[c]+=i[o];for(var p=0;p<n;++p)r[p]/=t;return r}function _4(e,t){for(var n=e.rows,i=e.cols,r=e.data,s=0,a=0;s<n;++s)for(var o=0;o<i;++o,++a)r[a]-=t[o]}function Ng(e,t,n,i){i=e[t],e[t]=e[n],e[n]=i}function bee(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?(t/=e,e*Math.sqrt(1+t*t)):t>0?(e/=t,t*Math.sqrt(1+e*e)):0}Bn.prototype.copyTo=function(e){e.data.set(this.data)};function e7(e,t,n,i){var r=0,s=0,a=e.rows,o=e.cols,c=a,p=o;c<p&&(r=1,s=c,c=p,p=s);var A=new Bn(c,c),l=new Bn(1,p),u=new Bn(p,p);if(r===0)ya(A,e);else{for(s=0;s<o*a;s++)A.data[s]=e.data[s];for(;s<p*c;s++)A.data[s]=0}if(function(d,m,y,g,E,w,b,_){for(var C=0,T=0,x=0,O=0,M=Math.max(w,30),H=0,R=0,D=0,P=0,I=0,L=0,k=0,K=0,W=0,ee=0,le=0,J=0,re=0,te=0,ge=0,me=0,ie=0,fe=4660,pe=0,Ee=0,q=0,Z=new Float64Array(b<<3);C<b;C++){for(x=0,le=0;x<w;x++)le+=(K=d[C*m+x])*K;if(Z[C]=le,g){for(x=0;x<b;x++)g[C*E+x]=0;g[C*E+C]=1}}for(;O<M;O++){for(I=0,C=0;C<b-1;C++)for(T=C+1;T<b;T++){for(H=C*m|0,R=T*m|0,ge=Z[C],me=0,ie=Z[T],x=2,me+=d[H]*d[R],me+=d[H+1]*d[R+1];x<w;x++)me+=d[H+x]*d[R+x];if(!(Math.abs(me)<=2384185792e-16*Math.sqrt(ge*ie))){for(re=bee(me*=2,J=ge-ie),J<0?(te=.5*(re-J),L=me/(re*(k=Math.sqrt(te/re))*2)):k=me/(re*(L=Math.sqrt((re+J)/(2*re)))*2),ge=0,ie=0,x=2,W=L*d[H]+k*d[R],ee=-k*d[H]+L*d[R],d[H]=W,d[R]=ee,ge+=W*W,ie+=ee*ee,W=L*d[H+1]+k*d[R+1],ee=-k*d[H+1]+L*d[R+1],d[H+1]=W,d[R+1]=ee,ge+=W*W,ie+=ee*ee;x<w;x++)W=L*d[H+x]+k*d[R+x],ee=-k*d[H+x]+L*d[R+x],d[H+x]=W,d[R+x]=ee,ge+=W*W,ie+=ee*ee;if(Z[C]=ge,Z[T]=ie,I=1,g)for(P=T*E|0,x=2,W=L*g[D=C*E|0]+k*g[P],ee=-k*g[D]+L*g[P],g[D]=W,g[P]=ee,W=L*g[D+1]+k*g[P+1],ee=-k*g[D+1]+L*g[P+1],g[D+1]=W,g[P+1]=ee;x<b;x++)W=L*g[D+x]+k*g[P+x],ee=-k*g[D+x]+L*g[P+x],g[D+x]=W,g[P+x]=ee}}if(I===0)break}for(C=0;C<b;C++){for(x=0,le=0;x<w;x++)le+=(K=d[C*m+x])*K;Z[C]=Math.sqrt(le)}for(C=0;C<b-1;C++){for(T=C,x=C+1;x<b;x++)Z[T]<Z[x]&&(T=x);if(C!==T&&(Ng(Z,C,T,le),g)){for(x=0;x<w;x++)Ng(d,C*m+x,T*m+x,K);for(x=0;x<b;x++)Ng(g,C*E+x,T*E+x,K)}}for(C=0;C<b;C++)y[C]=Z[C];if(g)for(C=0;C<_;C++){for(le=C<b?Z[C]:0;le<=1e-37;){for(Ee=1/w,x=0;x<w;x++)pe=(256&(fe=214013*fe+2531011)>>16)!=0?Ee:-Ee,d[C*m+x]=pe;for(O=0;O<2;O++)for(T=0;T<C;T++){for(le=0,x=0;x<w;x++)le+=d[C*m+x]*d[T*m+x];for(q=0,x=0;x<w;x++)K=d[C*m+x]-le*d[T*m+x],d[C*m+x]=K,q+=Math.abs(K);for(q=q?1/q:0,x=0;x<w;x++)d[C*m+x]*=q}for(le=0,x=0;x<w;x++)le+=(K=d[C*m+x])*K;le=Math.sqrt(le)}for(k=1/le,x=0;x<w;x++)d[C*m+x]*=k}}(A.data,c,l.data,u.data,p,c,p,c),t){for(s=0;s<p;s++)t.data[s]=l.data[s];for(;s<o;s++)t.data[s]=0}r===0?(n&&ya(n,A),i&&ya(i,u)):(n&&ya(n,u),i&&ya(i,A))}function Cf(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function xl(e,t,n,i,r,s,a,o,c,p,A,l,u,d,m,y,g){e[0]=t,e[4]=n,e[8]=i,e[12]=r,e[1]=s,e[5]=a,e[9]=o,e[13]=c,e[2]=p,e[6]=A,e[10]=l,e[14]=u,e[3]=d,e[7]=m,e[11]=y,e[15]=g}function U1(e,t,n){var i=t[0],r=t[4],s=t[8],a=t[12],o=t[1],c=t[5],p=t[9],A=t[13],l=t[2],u=t[6],d=t[10],m=t[14],y=t[3],g=t[7],E=t[11],w=t[15],b=n[0],_=n[4],C=n[8],T=n[12],x=n[1],O=n[5],M=n[9],H=n[13],R=n[2],D=n[6],P=n[10],I=n[14],L=n[3],k=n[7],K=n[11],W=n[15];e[0]=i*b+r*x+s*R+a*L,e[4]=i*_+r*O+s*D+a*k,e[8]=i*C+r*M+s*P+a*K,e[12]=i*T+r*H+s*I+a*W,e[1]=o*b+c*x+p*R+A*L,e[5]=o*_+c*O+p*D+A*k,e[9]=o*C+c*M+p*P+A*K,e[13]=o*T+c*H+p*I+A*W,e[2]=l*b+u*x+d*R+m*L,e[6]=l*_+u*O+d*D+m*k,e[10]=l*C+u*M+d*P+m*K,e[14]=l*T+u*H+d*I+m*W,e[3]=y*b+g*x+E*R+w*L,e[7]=y*_+g*O+E*D+w*k,e[11]=y*C+g*M+E*P+w*K,e[15]=y*T+g*H+E*I+w*W}function v4(e,t,n,i){xl(e,t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1)}function C4(e,t,n,i){xl(e,1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1)}function b4(e,t){var n=Math.cos(t),i=Math.sin(t);xl(e,n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1)}function t7(){return new Float32Array([1,0,0,0,1,0,0,0,1])}function R_(e,t){var n=zt([t[0],t[1],t[2]]),i=zt([t[4],t[5],t[6]]),r=zt([t[8],t[9],t[10]]),s=zt();jr(s,i,r),e[0]=s[0],e[1]=s[1],e[2]=s[2],jr(s,r,n),e[3]=s[0],e[4]=s[1],e[5]=s[2],jr(s,n,i),e[6]=s[0],e[7]=s[1],e[8]=s[2]}function I_(e,t,n,i){n=n||1,i=i||!0;var r=e.length/3,s=t.length/3,a=void 0;i&&(a=new Float32Array(3*r));var o,c,p,A,l=new Float32Array(3*r),u=new Array(20);for(o=0;o<20;++o)u[o]=new Uint32Array(r);for(o=0;o<r;++o)u[0][o]=0;for(o=0;o<s;++o){var d=3*o,m=3*o+1,y=3*o+2;for(A=!0,c=0,p=u[0][t[d]];c<p;++c)if(t[m]===u[c+1][t[d]]){A=!1;break}for(A&&(u[0][t[d]]++,u[u[0][t[d]]][t[d]]=t[m]),A=!0,c=0,p=u[0][t[d]];c<p;++c)if(t[y]===u[c+1][t[d]]){A=!1;break}for(A&&(u[0][t[d]]++,u[u[0][t[d]]][t[d]]=t[y]),A=!0,c=0,p=u[0][t[m]];c<p;++c)if(t[d]===u[c+1][t[m]]){A=!1;break}for(A&&(u[0][t[m]]++,u[u[0][t[m]]][t[m]]=t[d]),A=!0,c=0,p=u[0][t[m]];c<p;++c)if(t[y]===u[c+1][t[m]]){A=!1;break}for(A&&(u[0][t[m]]++,u[u[0][t[m]]][t[m]]=t[y]),A=!0,c=0;c<u[0][t[y]];++c)if(t[d]===u[c+1][t[y]]){A=!1;break}for(A&&(u[0][t[y]]++,u[u[0][t[y]]][t[y]]=t[d]),A=!0,c=0,p=u[0][t[y]];c<p;++c)if(t[m]===u[c+1][t[y]]){A=!1;break}A&&(u[0][t[y]]++,u[u[0][t[y]]][t[y]]=t[m])}for(var g,E,w,b,_,C=.5,T=.75/4.5,x=0;x<n;++x){for(o=0;o<r;++o)if(g=3*o,(w=u[0][o])<3)l[g]=e[g],l[g+1]=e[g+1],l[g+2]=e[g+2];else if(w===3||w===4){for(l[g]=0,l[g+1]=0,l[g+2]=0,c=0;c<w;++c)E=3*u[c+1][o],l[g]+=e[E],l[g+1]+=e[E+1],l[g+2]+=e[E+2];l[g]+=C*e[g],l[g+1]+=C*e[g+1],l[g+2]+=C*e[g+2],_=C+w,l[g]/=_,l[g+1]/=_,l[g+2]/=_}else{for(l[g]=0,l[g+1]=0,l[g+2]=0,c=0;c<w;++c)E=3*u[c+1][o],l[g]+=e[E],l[g+1]+=e[E+1],l[g+2]+=e[E+2];l[g]+=1*e[g],l[g+1]+=1*e[g+1],l[g+2]+=1*e[g+2],b=1+w,l[g]/=b,l[g+1]/=b,l[g+2]/=b}if(e.set(l),i){Id(e,t,a);var O=3*r;for(g=0;g<O;g+=3)e[g]+=-1*T*a[g],e[g+1]+=-1*T*a[g+1],e[g+2]+=-1*T*a[g+2]}}}function Id(e,t,n){var i,r;if(n===void 0)n=new Float32Array(e.length);else for(i=0,r=n.length;i<r;i++)n[i]=0;var s=new Float32Array(3),a=new Float32Array(3),o=new Float32Array(3),c=new Float32Array(3),p=new Float32Array(3);if(t)for(i=0,r=t.length;i<r;i+=3){var A=3*t[i],l=3*t[i+1],u=3*t[i+2];Or(s,e,A),Or(a,e,l),Or(o,e,u),oi(c,o,a),oi(p,s,a),jr(c,c,p),n[A]+=c[0],n[A+1]+=c[1],n[A+2]+=c[2],n[l]+=c[0],n[l+1]+=c[1],n[l+2]+=c[2],n[u]+=c[0],n[u+1]+=c[1],n[u+2]+=c[2]}else for(i=0,r=e.length;i<r;i+=9)Or(s,e,i),Or(a,e,i+3),Or(o,e,i+6),oi(c,o,a),oi(p,s,a),jr(c,c,p),n[i]=c[0],n[i+1]=c[1],n[i+2]=c[2],n[i+3]=c[0],n[i+4]=c[1],n[i+5]=c[2],n[i+6]=c[0],n[i+7]=c[1],n[i+8]=c[2];return US(n),n}function n7(e){for(var t={},n=0,i=e.length;n<i;++n)t[e[n]]=!0;return t}function Fd(e,t,n,i,r){var s=1/i*3;DS(e,e,r+(s+=n)),N1(t,t,r+s),Gn(e,e,i),y4(e,e),hl(e,e,i),Gn(t,t,i),_f(t,t),hl(t,t,i);var a=new Float32Array(3);oi(a,t,e),Gn(a,a,i),_f(a,a),N1(a,a,1);var o=256*Math.pow(10,6),c=a[0]*a[1]*a[2]*3;o<=c&&(Gn(e,e,i*=Math.pow(o/c,1/3)),y4(e,e),hl(e,e,i),Gn(t,t,i),_f(t,t),hl(t,t,i),oi(a,t,e),Gn(a,a,i),_f(a,a),N1(a,a,1));var p=new Float32Array(e);FE(p,p);var A=Cf(),l=Cf();b4(l,li(90)),U1(A,A,l);var u=Cf();v4(u,-1/i,1/i,1/i),U1(A,A,u);var d=Cf();return C4(d,-i*p[2],-i*p[1],-i*p[0]),U1(A,A,d),{dim:a,tran:p,matrix:A,scaleFactor:i}}v4.__deps=[xl],C4.__deps=[xl],b4.__deps=[xl],R_.__deps=[zt,jr],Object.assign(I_,{__deps:[Id]}),Object.assign(Id,{__deps:[oi,jr,Or,US]}),Object.assign(Fd,{__deps:[li,DS,N1,hl,Gn,y4,_f,oi,FE,Cf,U1,C4,v4,b4]});var dr=function(e,t,n){this.name=e||"",this.path=t||"",this.info={},this.center=new F,this.boundingBox=new Yn,n instanceof Ht||n instanceof pt||n instanceof Dn?this.fromGeometry(n):n&&(this.set(n.position,n.index,n.normal,n.color,n.atomindex,n.contour),this.boundingBox.setFromArray(n.position),this.boundingBox.getCenter(this.center))},Jx={type:{configurable:!0}};function Gc(e,t,n,i,r){var s=new L_(e,t,n,i,r);this.getSurface=function(a,o,c,p,A,l){l===void 0&&(l=!1);var u=s.triangulate(a,o,c,A,l);if(o&&!A&&(I_(u.position,u.index,o,!0),u.normal=Id(u.position,u.index)),p&&(IE(p,u.position),u.normal)){var d=t7();R_(d,p),O_(d,u.normal)}return u}}Jx.type.get=function(){return"Surface"},dr.prototype.set=function(e,t,n,i,r,s){s===void 0&&(s=!1),this.position=e,this.index=t,this.normal=n,this.color=i,this.atomindex=r,this.size=e.length/3,this.contour=s},dr.prototype.fromGeometry=function(e){var t,n,i,r;if(De&&Be.time("GeometrySurface.fromGeometry"),e instanceof Ht?(e.computeVertexNormals(!0),t=new pt().fromGeometry(e)):t=e instanceof pt?e:e[0],t.boundingBox||t.computeBoundingBox(),this.boundingBox.copy(t.boundingBox),this.boundingBox.getCenter(this.center),t instanceof pt){var s=t.attributes,a=!!s.normal&&s.normal.array;(!a||a[0]===0&&a[1]===0&&a[2]===0)&&t.computeVertexNormals(),n=s.position.array,i=s.index?s.index.array:null,r=s.normal.array}this.set(n,i,r,void 0,void 0),De&&Be.timeEnd("GeometrySurface.setGeometry")},dr.prototype.getPosition=function(){return this.position},dr.prototype.getColor=function(e){var t=e||{};t.surface=this;var n=this.size,i=new Float32Array(3*n),r=on.getScheme(t);if(r.volumeColor||t.scheme==="random")for(var s=0;s<n;++s)r.volumeColorToArray(s,i,3*s);else if(r.positionColor)for(var a=new F,o=this.position,c=0;c<n;++c){var p=3*c;a.set(o[p],o[p+1],o[p+2]),r.positionColorToArray(a,i,p)}else if(r.atomColor&&this.atomindex)for(var A=t.structure.getAtomProxy(),l=this.atomindex,u=0;u<n;++u)A.index=l[u],r.atomColorToArray(A,i,3*u);else{var d=new Je(t.value);Hn(n,d.r,d.g,d.b,i)}return i},dr.prototype.getPicking=function(e){return this.atomindex&&e?new tA(this.atomindex,e):new mee(ou(this.size),this)},dr.prototype.getNormal=function(){return this.normal},dr.prototype.getSize=function(e,t){return ms(this.size,e*t)},dr.prototype.getIndex=function(){return this.index},dr.prototype.getFilteredIndex=function(e,t){if(e&&this.atomindex){for(var n=new Nn(e),i=t.getAtomSet(n),r=[],s=this.atomindex,a=this.index,o=a.length,c=this.contour?2:3,p=0,A=0;A<o;A+=c){for(var l=!0,u=0;u<c;u++){var d=s[a[A+u]];if(!i.get(d)){l=!1;break}}if(l)for(var m=0;m<c;m++,p++)r[p]=a[A+m]}return Za(r,this.position.length/3)}return this.index},dr.prototype.getAtomindex=function(){return this.atomindex},dr.prototype.dispose=function(){},Object.defineProperties(dr.prototype,Jx),Object.assign(Gc,{__deps:[I_,Id,L_,IE,O_,t7,R_]}),Md.add("surf",function(e,t){var n=e.data.args,i=e.data.params;if(n&&(self.volsurf=new Gc(n[0],n[1],n[2],n[3],n[4])),i){var r=self.volsurf.getSurface(i.isolevel,i.smooth,i.box,i.matrix,i.contour,i.wrap),s=[r.position.buffer,r.index.buffer];r.normal&&s.push(r.normal.buffer),r.atomindex&&s.push(r.atomindex.buffer),t({sd:r,p:i},s)}},[Gc]);var Tn=function(e,t,n,i,r,s,a){this.name=e,this.path=t,this.matrix=new Xe,this.normalMatrix=new rr,this.inverseMatrix=new Xe,this.center=new F,this.boundingBox=new Yn,this.setData(n,i,r,s,a)},Ec={type:{configurable:!0},position:{configurable:!0},min:{configurable:!0},max:{configurable:!0},sum:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};function eT(e){return e==="front"?nu:e==="back"?Hi:kd}Ec.type.get=function(){return"Volume"},Tn.prototype.setData=function(e,t,n,i,r){this.nx=t||1,this.ny=n||1,this.nz=i||1,this.data=e||new Float32Array(1),this.setAtomindex(r),this._position=new Float32Array,delete this._min,delete this._max,delete this._mean,delete this._rms,this.worker&&this.worker.terminate()},Tn.prototype.setStats=function(e,t,n,i){this._min=e,this._max=t,this._mean=n,this._rms=i},Tn.prototype.setMatrix=function(e){this.matrix.copy(e);var t=this.boundingBox,n=this.center,i=this.nx-1,r=this.ny-1,s=this.nz-1;t.makeEmpty(),t.expandByPoint(n.set(i,r,s)),t.expandByPoint(n.set(i,r,0)),t.expandByPoint(n.set(i,0,s)),t.expandByPoint(n.set(i,0,0)),t.expandByPoint(n.set(0,r,s)),t.expandByPoint(n.set(0,0,s)),t.expandByPoint(n.set(0,r,0)),t.expandByPoint(n.set(0,0,0)),t.applyMatrix4(this.matrix),t.getCenter(this.center);var a=this.matrix.elements,o=new F(a[0],a[1],a[2]),c=new F(a[4],a[5],a[6]),p=new F(a[8],a[9],a[10]),A=new F,l=this.normalMatrix.elements;A.crossVectors(c,p),l[0]=A.x,l[1]=A.y,l[2]=A.z,A.crossVectors(p,o),l[3]=A.x,l[4]=A.y,l[5]=A.z,A.crossVectors(o,c),l[6]=A.x,l[7]=A.y,l[8]=A.z,this.inverseMatrix.getInverse(this.matrix)},Tn.prototype.setAtomindex=function(e){this.atomindex=e},Tn.prototype.getBox=function(e,t,n){return n||(n=new Yn),n.set(e,e),n.expandByScalar(t),n.applyMatrix4(this.inverseMatrix),n.min.round(),n.max.round(),n},Tn.prototype._getBox=function(e,t){if(e&&t){this.__box||(this.__box=new Yn);var n=this.getBox(e,t,this.__box);return[n.min.toArray(),n.max.toArray()]}},Tn.prototype._makeSurface=function(e,t,n){var i=this.name+"@"+t.toPrecision(2),r=new dr(i,"",e);return r.info.isolevel=t,r.info.smooth=n,r.info.volume=this,r},Tn.prototype.getSurface=function(e,t,n,i,r,s){s===void 0&&(s=!1),e=isNaN(e)?this.getValueForSigma(2):e,t=G(t,0),this.volsurf===void 0&&(this.volsurf=new Gc(this.data,this.nx,this.ny,this.nz,this.atomindex));var a=this._getBox(n,i),o=this.volsurf.getSurface(e,t,a,this.matrix.elements,r,s);return this._makeSurface(o,e,t)},Tn.prototype.getSurfaceWorker=function(e,t,n,i,r,s,a){var o=this;if(e=isNaN(e)?this.getValueForSigma(2):e,t=t||0,window.hasOwnProperty("Worker")){this.workerPool===void 0&&(this.workerPool=new el("surf",2));var c={},p=this.workerPool.getNextWorker();p.postCount===0&&Object.assign(c,{args:[this.data,this.nx,this.ny,this.nz,this.atomindex]}),Object.assign(c,{params:{isolevel:e,smooth:t,box:this._getBox(n,i),matrix:this.matrix.elements,contour:r,wrap:s}}),p.post(c,void 0,function(l){var u=l.data.sd,d=l.data.p;a(o._makeSurface(u,d.isolevel,d.smooth))},function(l){console.warn("Volume.getSurfaceWorker error - trying without worker",l);var u=o.getSurface(e,t,n,i,r,s);a(u)})}else{var A=this.getSurface(e,t,n,i,r,s);a(A)}},Tn.prototype.getValueForSigma=function(e){return this.mean+G(e,2)*this.rms},Tn.prototype.getSigmaForValue=function(e){return(G(e,0)-this.mean)/this.rms},Ec.position.get=function(){if(!this._position){for(var e=this.nz,t=this.ny,n=this.nx,i=new Float32Array(n*t*e*3),r=0,s=0;s<e;++s)for(var a=0;a<t;++a)for(var o=0;o<n;++o)i[r+0]=o,i[r+1]=a,i[r+2]=s,r+=3;IE(this.matrix.elements,i),this._position=i}return this._position},Tn.prototype.getDataAtomindex=function(){return this.atomindex},Tn.prototype.getDataPosition=function(){return this.position},Tn.prototype.getDataColor=function(e){var t=e||{};t.volume=this,t.scale=t.scale||"Spectral",t.domain=t.domain||[this.min,this.max];for(var n=on.getScheme(t),i=this.position.length/3,r=new Float32Array(3*i),s=0;s<i;++s)n.volumeColorToArray(s,r,3*s);return r},Tn.prototype.getDataPicking=function(){var e=ou(this.position.length/3);return new qS(e,this)},Tn.prototype.getDataSize=function(e,t){var n,i=this.data,r=this.position.length/3;switch(e){case"value":case"deviation":n=new Float32Array(i);break;case"abs-value":n=new Float32Array(i);for(var s=0;s<r;++s)n[s]=Math.abs(n[s]);break;case"value-min":n=new Float32Array(i);for(var a=this.min,o=0;o<r;++o)n[o]-=a;break;default:n=ms(r,e)}if(t!==1)for(var c=0;c<r;++c)n[c]*=t;return n},Ec.min.get=function(){return this._min===void 0&&(this._min=R1(this.data)),this._min},Ec.max.get=function(){return this._max===void 0&&(this._max=L1(this.data)),this._max},Ec.sum.get=function(){return this._sum===void 0&&(this._sum=S_(this.data)),this._sum},Ec.mean.get=function(){return this._mean===void 0&&(this._mean=I1(this.data)),this._mean},Ec.rms.get=function(){return this._rms===void 0&&(this._rms=function(e){for(var t=e.length,n=0,i=0;i<t;++i){var r=e[i];n+=r*r}return Math.sqrt(n/t)}(this.data)),this._rms},Tn.prototype.clone=function(){var e=new Tn(this.name,this.path,this.data,this.nx,this.ny,this.nz,this.atomindex);return e.matrix.copy(this.matrix),e.header=Object.assign({},this.header),e},Tn.prototype.dispose=function(){this.workerPool&&this.workerPool.terminate()},Object.defineProperties(Tn.prototype,Ec),Cn.add("shader/Mesh.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#elif defined( NOLIGHT )
vColor = color;
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Cn.add("shader/Mesh.frag",`#define STANDARD
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#elif defined( NOLIGHT )
gl_FragColor = vec4( vColor, opacity );
#else
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
#include interior_fragment
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#include opaque_back_fragment
#endif
}`);var tT={f:1,v2:2,v3:3,c:3};function Pg(e,t){e.matrix.copy(t),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0}var Fr={opaqueBack:!1,side:"double",opacity:1,depthWrite:!0,clipNear:0,clipRadius:0,clipCenter:new F,flatShaded:!1,wireframe:!1,roughness:.4,metalness:0,diffuse:16777215,diffuseInterior:!1,useInteriorColor:!1,interiorColor:14540253,interiorDarkening:0,forceTransparent:!1,matrix:new Xe,disablePicking:!1,sortParticles:!1,background:!1},nA={opaqueBack:{updateShader:!0},side:{updateShader:!0,property:!0},opacity:{uniform:!0},depthWrite:{property:!0},clipNear:{updateShader:!0,property:!0},clipRadius:{updateShader:!0,uniform:!0},clipCenter:{uniform:!0},flatShaded:{updateShader:!0},background:{updateShader:!0},wireframe:{updateVisibility:!0},roughness:{uniform:!0},metalness:{uniform:!0},diffuse:{uniform:!0},diffuseInterior:{updateShader:!0},useInteriorColor:{updateShader:!0},interiorColor:{uniform:!0},interiorDarkening:{uniform:!0},matrix:{}},un=function(e,t){t===void 0&&(t={}),this.parameterTypes=nA,this.geometry=new pt,this.indexVersion=0,this.wireframeIndexVersion=-1,this.group=new Dn,this.wireframeGroup=new Dn,this.pickingGroup=new Dn,this.vertexShader="",this.fragmentShader="",this.isImpostor=!1,this.isText=!1,this.isSurface=!1,this.isPoint=!1,this.isLine=!1,this.dynamic=!0,this.visible=!0,this.wireframeIndexCount=0,this.parameters=Es(t,this.defaultParameters),this.uniforms=gm.merge([ot.common,{fogColor:{value:new Je(0)},fogNear:{value:0},fogFar:{value:0},opacity:{value:this.parameters.opacity},clipNear:{value:0},clipRadius:{value:this.parameters.clipRadius},clipCenter:{value:this.parameters.clipCenter}},{emissive:{value:new Je(0)},roughness:{value:this.parameters.roughness},metalness:{value:this.parameters.metalness},interiorColor:{value:new Je(this.parameters.interiorColor)},interiorDarkening:{value:this.parameters.interiorDarkening}},ot.lights]),this.uniforms.diffuse.value.set(this.parameters.diffuse),this.pickingUniforms={clipNear:{value:0},objectId:{value:0},opacity:{value:this.parameters.opacity}};var n=e.position||e.position1;this._positionDataSize=n?n.length/3:0,e.primitiveId||(e.primitiveId=ou(this._positionDataSize)),this.addAttributes({position:{type:"v3",value:e.position},color:{type:"c",value:e.color},primitiveId:{type:"f",value:e.primitiveId}}),t.matrix&&(this.matrix=t.matrix),e.index&&this.initIndex(e.index),this.picking=e.picking,this.makeWireframeGeometry()},yc={defaultParameters:{configurable:!0},matrix:{configurable:!0},transparent:{configurable:!0},size:{configurable:!0},attributeSize:{configurable:!0},pickable:{configurable:!0}};yc.defaultParameters.get=function(){return Fr},yc.matrix.set=function(e){this.setMatrix(e)},yc.matrix.get=function(){return this.group.matrix.clone()},yc.transparent.get=function(){return this.parameters.opacity<1||this.parameters.forceTransparent},yc.size.get=function(){return this._positionDataSize},yc.attributeSize.get=function(){return this.size},yc.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},un.prototype.setMatrix=function(e){Pg(this.group,e),Pg(this.wireframeGroup,e),Pg(this.pickingGroup,e)},un.prototype.initIndex=function(e){this.geometry.setIndex(new bt(e,1));var t=this.geometry.getIndex();t?t.setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0):Be.error("Index is null")},un.prototype.makeMaterial=function(){var e=eT(this.parameters.side),t=new Qi({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!0,fog:!0,side:e});t.vertexColors=!0,t.extensions.derivatives=!0,t.extensions.fragDepth=this.isImpostor;var n=new Qi({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!1,fog:!0,side:e});n.vertexColors=!0;var i=new Qi({uniforms:this.pickingUniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:!1,depthWrite:this.parameters.depthWrite,lights:!1,fog:!1,side:e,blending:Fo});i.vertexColors=!0,i.extensions.fragDepth=this.isImpostor,t.clipNear=this.parameters.clipNear,n.clipNear=this.parameters.clipNear,i.clipNear=this.parameters.clipNear,this.material=t,this.wireframeMaterial=n,this.pickingMaterial=i,this.updateShader()},un.prototype.makeWireframeGeometry=function(){this.makeWireframeIndex();var e=this.geometry,t=this.wireframeIndex,n=new pt;n.attributes=e.attributes,t&&(n.setIndex(new bt(t,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)),n.setDrawRange(0,this.wireframeIndexCount)),this.wireframeGeometry=n},un.prototype.makeWireframeIndex=function(){var e=[];function t(g,E){if(g>E){var w=g;g=E,E=w}var b=e[g];return b===void 0?(e[g]=[E],!0):!b.includes(E)&&(b.push(E),!0)}var n=this.geometry,i=n.index;if(this.parameters.wireframe)if(i){var r,s=i.array,a=s.length;n.drawRange.count!==1/0&&(a=n.drawRange.count),this.wireframeIndex&&this.wireframeIndex.length>2*a?r=this.wireframeIndex:r=Za(2*a,n.attributes.position.count);var o=0;e.length=0;for(var c=0;c<a;c+=3){var p=s[c+0],A=s[c+1],l=s[c+2];t(p,A)&&(r[o+0]=p,r[o+1]=A,o+=2),t(A,l)&&(r[o+0]=A,r[o+1]=l,o+=2),t(l,p)&&(r[o+0]=l,r[o+1]=p,o+=2)}this.wireframeIndex=r,this.wireframeIndexCount=o,this.wireframeIndexVersion=this.indexVersion}else{var u,d=n.attributes.position.count;u=this.wireframeIndex&&this.wireframeIndex.length>2*d?this.wireframeIndex:Za(2*d,d);for(var m=0,y=0;m<d;m+=3)u[y+0]=m,u[y+1]=m+1,u[y+2]=m+1,u[y+3]=m+2,u[y+4]=m+2,u[y+5]=m,y+=6;this.wireframeIndex=u,this.wireframeIndexCount=2*d,this.wireframeIndexVersion=this.indexVersion}else this.wireframeIndex=new Uint16Array(0),this.wireframeIndexCount=0},un.prototype.updateWireframeIndex=function(){if(this.wireframeGeometry&&this.wireframeIndex){if(this.wireframeGeometry.setDrawRange(0,1/0),this.wireframeIndexVersion<this.indexVersion&&this.makeWireframeIndex(),this.wireframeGeometry.index&&this.wireframeIndex.length>this.wireframeGeometry.index.array.length)this.wireframeGeometry.setIndex(new bt(this.wireframeIndex,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0));else{var e=this.wireframeGeometry.getIndex();if(!e)return void Be.error("Index is null");e.set(this.wireframeIndex),e.needsUpdate=this.wireframeIndexCount>0,e.updateRange.count=this.wireframeIndexCount}this.wireframeGeometry.setDrawRange(0,this.wireframeIndexCount)}},un.prototype.getRenderOrder=function(){var e=0;return this.isText?e=1:this.transparent&&(e=this.isSurface?3:2),e},un.prototype._getMesh=function(e){this.material||this.makeMaterial();var t,n=this.geometry,i=this[e];return(t=this.isLine?new fi(n,i):this.isPoint?new rd(n,i):new $n(n,i)).frustumCulled=!1,t.renderOrder=this.getRenderOrder(),t},un.prototype.getMesh=function(){return this._getMesh("material")},un.prototype.getWireframeMesh=function(){var e;return this.material||this.makeMaterial(),this.wireframeGeometry||this.makeWireframeGeometry(),(e=new fi(this.wireframeGeometry,this.wireframeMaterial)).frustumCulled=!1,e.renderOrder=this.getRenderOrder(),e},un.prototype.getPickingMesh=function(){return this._getMesh("pickingMaterial")},un.prototype.getShader=function(e,t){return gf(e,this.getDefines(t))},un.prototype.getVertexShader=function(e){return this.getShader(this.vertexShader,e)},un.prototype.getFragmentShader=function(e){return this.getShader(this.fragmentShader,e)},un.prototype.getDefines=function(e){var t={};return this.parameters.clipNear&&(t.NEAR_CLIP=1),this.parameters.clipRadius&&(t.RADIUS_CLIP=1),e==="picking"?t.PICKING=1:((e==="background"||this.parameters.background)&&(t.NOLIGHT=1),this.parameters.flatShaded&&(t.FLAT_SHADED=1),this.parameters.opaqueBack&&(t.OPAQUE_BACK=1),this.parameters.diffuseInterior&&(t.DIFFUSE_INTERIOR=1),this.parameters.useInteriorColor&&(t.USE_INTERIOR_COLOR=1)),t},un.prototype.getParameters=function(){return this.parameters},un.prototype.addUniforms=function(e){this.uniforms=gm.merge([this.uniforms,e]),this.pickingUniforms=gm.merge([this.pickingUniforms,e])},un.prototype.addAttributes=function(e){for(var t in e){var n=void 0,i=e[t],r=this.attributeSize*tT[i.type];i.value?(r!==i.value.length&&Be.error("attribute value has wrong length",t),n=i.value):n=xS("float32",r),this.geometry.setAttribute(t,new bt(n,tT[i.type]).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0))}},un.prototype.updateRenderOrder=function(){var e=this.getRenderOrder();function t(n){n.renderOrder=e}this.group.children.forEach(t),this.pickingGroup&&this.pickingGroup.children.forEach(t)},un.prototype.updateShader=function(){var e=this.material,t=this.wireframeMaterial,n=this.pickingMaterial;e.vertexShader=this.getVertexShader(),e.fragmentShader=this.getFragmentShader(),e.needsUpdate=!0,t.vertexShader=this.getShader("Line.vert"),t.fragmentShader=this.getShader("Line.frag"),t.needsUpdate=!0,n.vertexShader=this.getVertexShader("picking"),n.fragmentShader=this.getFragmentShader("picking"),n.needsUpdate=!0},un.prototype.setParameters=function(e){var t=e,n=this.parameterTypes,i=this.parameters,r={},s={},a=!1,o=!1;for(var c in t){var p=t[c];p!==void 0&&(i[c]=p,n[c]!==void 0&&(n[c].property&&(n[c].property!==!0?r[n[c].property]=p:r[c]=p),n[c].uniform&&(n[c].uniform!==!0?s[n[c].uniform]=p:s[c]=p),n[c].updateShader&&(a=!0),n[c].updateVisibility&&(o=!0),this.dynamic&&c==="wireframe"&&p===!0&&this.updateWireframeIndex(),c==="forceTransparent"&&(r.transparent=this.transparent),c==="matrix"&&(this.matrix=p)))}this.setProperties(r),this.setUniforms(s),a&&this.updateShader(),o&&this.setVisibility(this.visible)},un.prototype.setAttributes=function(e){var t=this.geometry,n=t.attributes;for(var i in e)if(i!=="picking"){var r=e[i],s=r.length;if(i==="index"){var a=t.getIndex();if(!a){Be.error("Index is null");continue}t.setDrawRange(0,1/0),s>a.array.length?t.setIndex(new bt(r,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(a.set(r),a.count=s,a.needsUpdate=s>0,a.updateRange.count=s,t.setDrawRange(0,s)),this.indexVersion++,this.parameters.wireframe&&this.updateWireframeIndex()}else{var o=n[i];s>o.array.length?t.setAttribute(i,new bt(r,o.itemSize).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(n[i].set(r),n[i].needsUpdate=s>0,n[i].updateRange.count=s)}}},un.prototype.setUniforms=function(e){if(e){var t=this.material.uniforms,n=this.wireframeMaterial.uniforms,i=this.pickingMaterial.uniforms;for(var r in e)r==="opacity"&&this.setProperties({transparent:this.transparent}),t[r]!==void 0&&(t[r].value.isVector3?t[r].value.copy(e[r]):t[r].value.set?t[r].value.set(e[r]):t[r].value=e[r]),n[r]!==void 0&&(n[r].value.isVector3?n[r].value.copy(e[r]):n[r].value.set?n[r].value.set(e[r]):n[r].value=e[r]),i[r]!==void 0&&(i[r].value.isVector3?i[r].value.copy(e[r]):i[r].value.set?i[r].value.set(e[r]):i[r].value=e[r])}},un.prototype.setProperties=function(e){if(e){var t=this.material,n=this.wireframeMaterial,i=this.pickingMaterial;for(var r in e){var s=r,a=e[s];s==="transparent"?this.updateRenderOrder():s==="side"&&(a=eT(a)),t[s]=a,n[s]=a,i[s]=a}t.needsUpdate=!0,n.needsUpdate=!0,i.needsUpdate=!0}},un.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},un.prototype.dispose=function(){this.material&&this.material.dispose(),this.wireframeMaterial&&this.wireframeMaterial.dispose(),this.pickingMaterial&&this.pickingMaterial.dispose(),this.geometry.dispose(),this.wireframeGeometry&&this.wireframeGeometry.dispose()},un.prototype.toJSON=function(){var e={};for(var t in this)t!=="group"&&t!=="wireframeGroup"&&t!="pickingGroup"&&t!=="picking"&&(e[t]=this[t]);return e},Object.defineProperties(un.prototype,yc);var zo=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i),this.vertexShader="Mesh.vert",this.fragmentShader="Mesh.frag",this.addAttributes({normal:{type:"v3",value:n.normal}}),n.normal===void 0&&this.geometry.computeVertexNormals()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(un),i7=function(e){function t(){e.apply(this,arguments),this.isSurface=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(zo);function i1(e){e.visible=!0}function nT(e){e.visible=!1}var Ns=function(e){this.group=new Dn,this.wireframeGroup=new Dn,this.pickingGroup=new Dn,this.frontMeshes=[],this.backMeshes=[],this.size=e.size,this.side=e.parameters.side,this.visible=e.visible,this.geometry=e.geometry,this.picking=e.picking,this.group=new Dn,this.wireframeGroup=new Dn,this.pickingGroup=new Dn,this.matrix=e.matrix;var t=e,n=new e.constructor({position:new Float32Array(0)});t.makeMaterial(),n.makeMaterial(),n.picking=e.picking,n.geometry=e.geometry,n.wireframeGeometry=e.wireframeGeometry,n.setParameters(e.getParameters()),n.updateShader(),t.setParameters({side:"front"}),n.setParameters({side:"back",opacity:n.parameters.opacity}),this.buffer=e,this.frontBuffer=t,this.backBuffer=n},Wu={matrix:{configurable:!0},pickable:{configurable:!0},parameters:{configurable:!0}};Wu.matrix.set=function(e){un.prototype.setMatrix.call(this,e)},Wu.matrix.get=function(){return this.group.matrix.clone()},Wu.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},Wu.parameters.get=function(){return this.buffer.parameters},Ns.prototype.getParameters=function(){var e=Object.assign({},this.buffer.parameters);return e.side=this.side,e},Ns.prototype.getMesh=function(e){var t,n;return e?(n=this.backBuffer.getPickingMesh(),t=this.frontBuffer.getPickingMesh()):(n=this.backBuffer.getMesh(),t=this.frontBuffer.getMesh()),this.frontMeshes.push(t),this.backMeshes.push(n),this.setParameters({side:this.side}),new Dn().add(n,t)},Ns.prototype.getWireframeMesh=function(){return this.buffer.getWireframeMesh()},Ns.prototype.getPickingMesh=function(){return this.getMesh(!0)},Ns.prototype.setAttributes=function(e){this.buffer.setAttributes(e)},Ns.prototype.setParameters=function(e){(e=Object.assign({},e)).side==="front"?(this.frontMeshes.forEach(i1),this.backMeshes.forEach(nT)):e.side==="back"?(this.frontMeshes.forEach(nT),this.backMeshes.forEach(i1)):e.side==="double"&&(this.frontMeshes.forEach(i1),this.backMeshes.forEach(i1)),e.side!==void 0&&(this.side=e.side),delete e.side,e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,this.frontBuffer.setParameters(e),e.wireframe!==void 0&&(this.wireframe=e.wireframe,this.setVisibility(this.visible)),delete e.wireframe,this.backBuffer.setParameters(e)},Ns.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},Ns.prototype.dispose=function(){this.frontBuffer.dispose(),this.backBuffer.dispose()},Ns.prototype.toJSON=function(){var e={};for(var t in this)["side","size","visible","matrix","parameters"].includes(t)&&(e[t]=this[t]);return e},Object.defineProperties(Ns.prototype,Wu),Cn.add("shader/Line.vert",`uniform float clipNear;
uniform vec3 clipCenter;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include color_pars_vertex
void main(){
#include color_vertex
#include begin_vertex
#include project_vertex
vViewPosition = -mvPosition.xyz;
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Cn.add("shader/Line.frag",`uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
void main(){
#include nearclip_fragment
#include radiusclip_fragment
gl_FragColor = vec4( vColor, opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`);var r7=function(e){function t(){e.apply(this,arguments),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(un),x4=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="surface",this.parameters=Object.assign({isolevelType:{type:"select",options:{value:"value",sigma:"sigma"}},isolevel:{type:"number",precision:2,max:1e3,min:-1e3},negateIsolevel:{type:"boolean"},isolevelScroll:{type:"boolean"},smooth:{type:"integer",precision:1,max:10,min:0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},boxSize:{type:"integer",precision:1,max:100,min:0},colorVolume:{type:"hidden"},contour:{type:"boolean",rebuild:!0},useWorker:{type:"boolean",rebuild:!0},wrap:{type:"boolean",rebuild:!0}},this.parameters),n instanceof Tn?(this.surface=void 0,this.volume=n):(this.surface=n,this.volume=void 0),this.boxCenter=new F,this.__boxCenter=new F,this.box=new Yn,this.__box=new Yn,this._position=new F,this.inverseMatrix=new Xe,this.setBox=function(){this._position.copy(i.translationGroup.position).negate(),this._position.applyMatrix4(this.inverseMatrix),this._position.equals(this.boxCenter)||this.setParameters({boxCenter:this._position})},this.toBePrepared=!0,this.viewer.signals.ticked.add(this.setBox,this),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"uniform"),i.colorValue=G(i.colorValue,14540253),this.isolevelType=G(i.isolevelType,"sigma"),this.isolevel=G(i.isolevel,2),this.negateIsolevel=G(i.negateIsolevel,!1),this.isolevelScroll=G(i.isolevelScroll,!1),this.smooth=G(i.smooth,0),this.background=G(i.background,!1),this.opaqueBack=G(i.opaqueBack,!0),this.boxSize=G(i.boxSize,0),this.colorVolume=G(i.colorVolume,void 0),this.contour=G(i.contour,!1),this.useWorker=G(i.useWorker,!0),this.wrap=G(i.wrap,!1),e.prototype.init.call(this,i),this.inverseMatrix.getInverse(this.matrix),this.build()},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r)}),this.setVisibility(this.visible),n()},t.prototype.prepare=function(n){var i,r=this;if(this.volume)if(i=this.isolevelType==="sigma"?this.volume.getValueForSigma(this.isolevel):this.isolevel,this.negateIsolevel&&(i*=-1),!this.surface||this.__isolevel!==i||this.__smooth!==this.smooth||this.__contour!==this.contour||this.__wrap!==this.wrap||this.__boxSize!==this.boxSize||this.boxSize>0&&!this.__boxCenter.equals(this.boxCenter)){this.__isolevel=i,this.__smooth=this.smooth,this.__contour=this.contour,this.__wrap=this.wrap,this.__boxSize=this.boxSize,this.__boxCenter.copy(this.boxCenter),this.__box.copy(this.box);var s=function(a){r.surface=a,n()};this.useWorker?this.volume.getSurfaceWorker(i,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap,s):s(this.volume.getSurface(i,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap))}else n();else n()},t.prototype.create=function(){var n,i={position:this.surface.getPosition(),color:this.surface.getColor(this.getColorParams()),index:this.surface.getIndex()};if(this.contour)n=new r7(i,this.getBufferParams({wireframe:!1}));else{Object.assign(i,{normal:this.surface.getNormal(),picking:this.surface.getPicking()});var r=new i7(i,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));n=new Ns(r)}this.bufferList.push(n)},t.prototype.update=function(n){if(this.bufferList.length!==0){var i={};(n=n||{}).position&&(i.position=this.surface.getPosition()),n.color&&(i.color=this.surface.getColor(this.getColorParams())),n.index&&(i.index=this.surface.getIndex()),n.normal&&(i.normal=this.surface.getNormal()),this.bufferList.forEach(function(r){r.setAttributes(i)})}},t.prototype.setParameters=function(n,i,r){return n&&n.isolevelType!==void 0&&this.volume&&(this.isolevelType==="value"&&n.isolevelType==="sigma"?this.isolevel=this.volume.getSigmaForValue(this.isolevel):this.isolevelType==="sigma"&&n.isolevelType==="value"&&(this.isolevel=this.volume.getValueForSigma(this.isolevel)),this.isolevelType=n.isolevelType),n&&n.boxCenter&&(this.boxCenter.copy(n.boxCenter),delete n.boxCenter),n&&n.wireframe&&(n.contour||n.contour===void 0&&this.contour)&&(n.wireframe=!1),e.prototype.setParameters.call(this,n,i,r),n.matrix&&this.inverseMatrix.getInverse(n.matrix),this.volume&&this.volume.getBox(this.boxCenter,this.boxSize,this.box),n&&n.colorVolume!==void 0&&i&&(i.color=!0),this.surface&&(n.isolevel!==void 0||n.negateIsolevel!==void 0||n.smooth!==void 0||n.wrap!==void 0||n.boxSize!==void 0||this.boxSize>0&&!this.__box.equals(this.box))&&this.build({position:!0,color:!0,index:!0,normal:!this.contour}),this},t.prototype.getColorParams=function(){var n=e.prototype.getColorParams.call(this);return n.volume=this.colorVolume,n},t.prototype.dispose=function(){this.viewer.signals.ticked.remove(this.setBox,this),e.prototype.dispose.call(this)},t}(xi),Ft=function(){};Ft.zoomScroll=function(e,t){e.trackballControls.zoom(t)},Ft.clipNearScroll=function(e,t){var n=e.getParameters();e.setParameters({clipNear:n.clipNear+t/10})},Ft.focusScroll=function(e,t){var n=e.getFocus(),i=Math.sign(t)*function(r,s,a){if(r>s)return r;var o=r/s;return((2*a-s)*o+(2*s-3*a))*o*o+a}((100-n)/10,5,.2);e.setFocus(n+i)},Ft.zoomFocusScroll=function(e,t){e.trackballControls.zoom(t);var n=e.viewer.camera.position.z;e.setFocus(100-Math.abs(n/8))},Ft.isolevelScroll=function(e,t){var n=Math.sign(t)/10;e.eachRepresentation(function(i,r){if(i.repr instanceof x4){var s=i.getParameters();s.isolevelScroll&&i.setParameters({isolevel:s.isolevel+n})}})},Ft.panDrag=function(e,t,n){e.trackballControls.pan(t,n)},Ft.rotateDrag=function(e,t,n){e.trackballControls.rotate(t,n)},Ft.zRotateDrag=function(e,t,n){e.trackballControls.zRotate(t,n)},Ft.zoomDrag=function(e,t,n){e.trackballControls.zoom((t+n)/-2)},Ft.zoomFocusDrag=function(e,t,n){e.trackballControls.zoom((t+n)/-2);var i=e.viewer.camera.position.z;e.setFocus(100-Math.abs(i/8))},Ft.panComponentDrag=function(e,t,n){e.trackballControls.panComponent(t,n)},Ft.panAtomDrag=function(e,t,n){e.trackballControls.panAtom(t,n)},Ft.rotateComponentDrag=function(e,t,n){e.trackballControls.rotateComponent(t,n)},Ft.movePick=function(e,t){t&&e.animationControls.move(t.position.clone())},Ft.tooltipPick=function(e,t){var n=e.tooltip;if(e.getParameters().tooltip&&t){var i=t.mouse.position;n.innerText=t.getLabel(),n.style.bottom=window.innerHeight-i.y+3+"px",n.style.left=i.x+3+"px",n.style.display="block"}else n.style.display="none"};var s7={default:[["scroll",Ft.zoomScroll],["scroll-shift",Ft.focusScroll],["scroll-ctrl",Ft.isolevelScroll],["scroll-shift-ctrl",Ft.zoomFocusScroll],["drag-left",Ft.rotateDrag],["drag-right",Ft.panDrag],["drag-ctrl-left",Ft.panDrag],["drag-ctrl-right",Ft.zRotateDrag],["drag-shift-left",Ft.zoomDrag],["drag-middle",Ft.zoomFocusDrag],["drag-ctrl-shift-right",Ft.panComponentDrag],["drag-ctrl-shift-left",Ft.rotateComponentDrag],["clickPick-right",Ft.measurePick=function(e,t){if(t&&(t.atom||t.bond)){var n=t.atom||t.closestBondAtom;t.component.measurePick(n)}else e.measureClear()}],["clickPick-ctrl-left",Ft.measurePick],["clickPick-middle",Ft.movePick],["clickPick-left",Ft.movePick],["hoverPick",Ft.tooltipPick]],pymol:[["drag-left",Ft.rotateDrag],["drag-middle",Ft.panDrag],["drag-right",Ft.zoomDrag],["drag-shift-right",Ft.focusScroll],["clickPick-ctrl+shift-middle",Ft.movePick],["hoverPick",Ft.tooltipPick]],coot:[["scroll",Ft.isolevelScroll],["drag-left",Ft.rotateDrag],["drag-middle",Ft.panDrag],["drag-ctrl-left",Ft.panDrag],["drag-right",Ft.zoomFocusDrag],["drag-ctrl-right",Ft.focusScroll],["clickPick-middle",Ft.movePick],["hoverPick",Ft.tooltipPick]],astexviewer:[["drag-left",Ft.rotateDrag],["drag-ctrl-left",Ft.panDrag],["drag-shift-left",Ft.zoomDrag],["scroll",Ft.focusScroll],["clickPick-middle",Ft.movePick],["hoverPick",Ft.tooltipPick]]};function iT(e){var t=e.split(/[-+]/),n="";t.includes("scroll")&&(n="scroll"),t.includes("drag")&&(n="drag"),t.includes("click")&&(n="click"),t.includes("doubleClick")&&(n="doubleClick"),t.includes("hover")&&(n="hover"),t.includes("clickPick")&&(n="clickPick"),t.includes("hoverPick")&&(n="hoverPick");var i=0;t.includes("alt")&&(i+=1),t.includes("ctrl")&&(i+=2),t.includes("meta")&&(i+=4),t.includes("shift")&&(i+=8);var r=0;return t.includes("left")&&(r+=1),t.includes("right")&&(r+=2),t.includes("middle")&&(r+=4),[n,i,r]}var nl=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.mouse=e.mouseObserver,this.disabled=t.disabled||!1,this.preset(t.preset||"default")};nl.prototype.run=function(e){for(var t=this,n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];if(!this.disabled){var r=this.mouse.key||0,s=this.mouse.buttons||0;this.actionList.forEach(function(a){a.type===e&&a.key===r&&a.button===s&&a.callback.apply(a,[t.stage].concat(n))})}},nl.prototype.add=function(e,t){var n=iT(e),i=n[0],r=n[1],s=n[2];this.actionList.push({type:i,key:r,button:s,callback:t})},nl.prototype.remove=function(e,t){var n=e.includes("*"),i=iT(e),r=i[0],s=i[1],a=i[2],o=this.actionList.filter(function(c){return!((c.type===r||n&&r==="")&&(c.key===s||n&&s===0)&&(c.button===a||n&&a===0)&&(c.callback===t||t===void 0))});this.actionList=o},nl.prototype.preset=function(e){var t=this;this.clear(),(s7[e]||[]).forEach(function(n){return t.add(n[0],n[1])})},nl.prototype.clear=function(){this.actionList.length=0};var Mc=function(){};Mc.autoView=function(e){e.autoView(1e3)},Mc.toggleAnimations=function(e){e.animationControls.toggle()},Mc.toggleRock=function(e){e.toggleRock()};var xee={default:[["i",Mc.toggleSpin=function(e){e.toggleSpin()}],["k",Mc.toggleRock],["p",Mc.toggleAnimations],["a",Mc.toggleAntialiasing=function(e){var t=e.getParameters();e.setParameters({sampleLevel:t.sampleLevel===-1?0:-1})}],["r",Mc.autoView]]},il=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.disabled=t.disabled||!1,this.preset(t.preset||"default")};il.prototype.run=function(e){var t=this;this.disabled||this.actionList.forEach(function(n){n.key===e&&n.callback(t.stage)})},il.prototype.add=function(e,t){this.actionList.push({key:e,callback:t})},il.prototype.remove=function(e,t){var n=this.actionList.filter(function(i){return!(i.key===e&&(i.callback===t||t===void 0))});this.actionList=n},il.prototype.preset=function(e){var t=this;this.clear(),(xee[e]||[]).forEach(function(n){return t.add(n[0],n[1])})},il.prototype.clear=function(){this.actionList.length=0};var H1=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this)};H1.prototype._onClick=function(e,t){var n=this.stage.pickingControls.pick(e,t);this.stage.signals.clicked.dispatch(n),this.controls.run("clickPick",n)},H1.prototype._onHover=function(e,t){var n=this.stage.pickingControls.pick(e,t);n&&this.mouse.down.equals(this.mouse.position)&&(this.stage.transformComponent=n.component,this.stage.transformAtom=n.atom),this.stage.signals.hovered.dispatch(n),this.controls.run("hoverPick",n)},H1.prototype.dispose=function(){this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var vc=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.moved.add(this._onMove,this),this.mouse.signals.scrolled.add(this._onScroll,this),this.mouse.signals.dragged.add(this._onDrag,this),this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this),this.mouse.signals.doubleClicked.add(this._onDblclick,this)};vc.prototype._onMove=function(){this.stage.tooltip.style.display="none"},vc.prototype._onScroll=function(e){this.controls.run("scroll",e)},vc.prototype._onDrag=function(e,t){this.controls.run("drag",e,t)},vc.prototype._onClick=function(e,t){this.controls.run("click",e,t)},vc.prototype._onDblclick=function(e,t){this.controls.run("doubleClick",e,t)},vc.prototype._onHover=function(e,t){this.controls.run("hover",e,t)},vc.prototype.dispose=function(){this.mouse.signals.moved.remove(this._onMove,this),this.mouse.signals.scrolled.remove(this._onScroll,this),this.mouse.signals.dragged.remove(this._onDrag,this),this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var T4=function(e){this.stage=e,this.viewer=e.viewer,this.animationControls=e.animationControls,this.viewer.signals.ticked.add(this._onTick,this)};T4.prototype._onTick=function(e){this.animationControls.run(e)},T4.prototype.dispose=function(){this.viewer.signals.ticked.remove(this._onTick,this)};var a7=!!OS&&{passive:!0},rl=function(e){this.stage=e,this.stage=e,this.controls=e.keyControls,this.domElement=e.viewer.renderer.domElement,this.domElement.setAttribute("tabIndex","-1"),this.domElement.style.outline="none",this._focusDomElement=this._focusDomElement.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this._onKeypress=this._onKeypress.bind(this),this.domElement.addEventListener("mousedown",this._focusDomElement),this.domElement.addEventListener("touchstart",this._focusDomElement,a7),this.domElement.addEventListener("keydown",this._onKeydown),this.domElement.addEventListener("keyup",this._onKeyup),this.domElement.addEventListener("keypress",this._onKeypress)};rl.prototype._onKeydown=function(){},rl.prototype._onKeyup=function(){},rl.prototype._onKeypress=function(e){var t;t="key"in KeyboardEvent.prototype?e.key:String.fromCharCode(e.which||e.keyCode),this.controls.run(t)},rl.prototype._focusDomElement=function(){this.domElement.focus()},rl.prototype.dispose=function(){this.domElement.removeEventListener("mousedown",this._focusDomElement),this.domElement.removeEventListener("touchstart",this._focusDomElement,a7),this.domElement.removeEventListener("keydown",this._onKeypress),this.domElement.removeEventListener("keyup",this._onKeypress),this.domElement.removeEventListener("keypress",this._onKeypress)};var Cc=function(e,t,n,i){i===void 0&&(i={}),this.component=e,this.position=t,this.offsetX=G(i.offsetX,0),this.offsetY=G(i.offsetY,0),this.visible=G(i.visible,!0),this.stage=e.stage,this.viewer=e.stage.viewer,this._viewerPosition=new F,this._updateViewerPosition(),this._canvasPosition=new Ke,this._cameraPosition=new F,this.element=document.createElement("div"),Object.assign(this.element.style,{display:"block",position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",left:"-10000px"}),this.viewer.wrapper.appendChild(this.element),this.setContent(n),this.updateVisibility(),this.viewer.signals.rendered.add(this._update,this),this.component.signals.matrixChanged.add(this._updateViewerPosition,this)};Cc.prototype.setContent=function(e){var t=this.element.style.display;if(t==="none"&&(this.element.style.left="-10000px",this.element.style.display="block"),e instanceof HTMLElement)this.element.appendChild(e);else{var n=document.createElement("div");n.innerText=e,Object.assign(n.style,{backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.element.appendChild(n)}this._clientRect=this.element.getBoundingClientRect(),t==="none"&&(this.element.style.display=t)},Cc.prototype.setVisibility=function(e){this.visible=e,this.updateVisibility()},Cc.prototype.getVisibility=function(){return this.visible&&this.component.parameters.visible},Cc.prototype.updateVisibility=function(){this.element.style.display=this.getVisibility()?"block":"none"},Cc.prototype._updateViewerPosition=function(){this._viewerPosition.copy(this.position).applyMatrix4(this.component.matrix)},Cc.prototype._update=function(){if(this.getVisibility()){var e=this.element.style,t=this._canvasPosition,n=this._viewerPosition,i=this._clientRect;if(this._cameraPosition.copy(n).add(this.viewer.translationGroup.position).applyMatrix4(this.viewer.rotationGroup.matrix).sub(this.viewer.camera.position),this._cameraPosition.z<0)e.display="none";else{e.display="block";var r=this._cameraPosition.length(),s=this.viewer.scene.fog;e.opacity=(1-$d(s.near,s.far,r)).toString(),e.zIndex=Math.round(100*(s.far-r)).toString(),this.stage.viewerControls.getPositionOnCanvas(n,t),e.bottom=this.offsetX+t.y+i.height/2+"px",e.left=this.offsetY+t.x-i.width/2+"px"}}},Cc.prototype.dispose=function(){this.viewer.wrapper.removeChild(this.element),this.viewer.signals.ticked.remove(this._update,this),this.component.signals.matrixChanged.remove(this._updateViewerPosition,this)};var xo=new Xe,r1=new F,rT=new zn,D1=function(e){this.component=e,this.signals={changed:new kt.exports.Signal},this.stage=e.stage,this.viewer=e.stage.viewer},Ug={position:{configurable:!0},rotation:{configurable:!0}};Ug.position.get=function(){return this.component.position},Ug.rotation.get=function(){return this.component.quaternion},D1.prototype.changed=function(){this.component.updateMatrix(),this.viewer.requestRender(),this.signals.changed.dispatch()},D1.prototype.spin=function(e,t){xo.getInverse(this.viewer.rotationGroup.matrix),r1.copy(Np(e)).applyMatrix4(xo),xo.extractRotation(this.component.transform),xo.premultiply(this.viewer.rotationGroup.matrix),xo.getInverse(xo),r1.copy(Np(e)),r1.applyMatrix4(xo),xo.makeRotationAxis(r1,t),rT.setFromRotationMatrix(xo),this.component.quaternion.premultiply(rT),this.changed()},Object.defineProperties(D1.prototype,Ug);var o7={"":"",vdw:"by vdW radius",covalent:"by covalent radius",sstruc:"by secondary structure",bfactor:"by bfactor",size:"size",data:"data",explicit:"explicit"},Ja=function(e){e===void 0&&(e={}),this.max=10,this.type=G(e.type,"size"),this.scale=G(e.scale,1),this.size=G(e.size,1),this.data=G(e.data,{})};Ja.prototype.atomRadius=function(e){var t;switch(this.type){case"vdw":t=e.vdw;break;case"covalent":t=e.covalent;break;case"bfactor":t=e.bfactor||1;break;case"sstruc":var n=e.sstruc;t=n==="h"||n==="g"||n==="i"||n==="e"||n==="b"?.25:$S.includes(e.atomname)?.4:.1;break;case"data":t=G(this.data[e.index],1);break;case"explicit":(t=e.radius)===null&&(t=this.size);break;default:t=this.size}return Math.min(t*this.scale,this.max)},Ja.types=o7;var Tee=new F(-1,-1,-1),Bee=new Xe,Nf=function(e){var t=e.rows,n=t/3,i=new Bn(t,3),r=new Bn(3,3),s=new Bn(1,3),a=new Bn(3,3),o=new Bn(3,3),c=w4(e);_4(e,c),ya(i,e),P1(r,i,i),e7(r,s,a,o);var p=new F(c[0],c[1],c[2]),A=new F(a.data[0],a.data[3],a.data[6]),l=new F(a.data[1],a.data[4],a.data[7]),u=new F(a.data[2],a.data[5],a.data[8]),d=A.clone().multiplyScalar(Math.sqrt(s.data[0]/n)),m=l.clone().multiplyScalar(Math.sqrt(s.data[1]/n)),y=u.clone().multiplyScalar(Math.sqrt(s.data[2]/n));this.begA=p.clone().sub(d),this.endA=p.clone().add(d),this.begB=p.clone().sub(m),this.endB=p.clone().add(m),this.begC=p.clone().sub(y),this.endC=p.clone().add(y),this.center=p,this.vecA=d,this.vecB=m,this.vecC=y,this.normVecA=A,this.normVecB=l,this.normVecC=u};Nf.prototype.getBasisMatrix=function(e){e===void 0&&(e=new Xe);var t=e;return t.makeBasis(this.normVecB,this.normVecA,this.normVecC),t.determinant()<0&&t.scale(Tee),t},Nf.prototype.getRotationQuaternion=function(e){e===void 0&&(e=new zn);var t=e;return t.setFromRotationMatrix(this.getBasisMatrix(Bee)),t.inverse()},Nf.prototype.getProjectedScaleForAtoms=function(e){var t=-1/0,n=-1/0,i=-1/0,r=-1/0,s=-1/0,a=-1/0,o=new F,c=new F,p=this.center,A=this.normVecA,l=this.normVecB,u=this.normVecC;return e.eachAtom(function(d){Up(o.copy(d),A,p);var m=c.subVectors(o,p).normalize().dot(A),y=o.distanceTo(p);m>0?y>t&&(t=y):y>n&&(n=y),Up(o.copy(d),l,p);var g=c.subVectors(o,p).normalize().dot(l),E=o.distanceTo(p);g>0?E>i&&(i=E):E>r&&(r=E),Up(o.copy(d),u,p);var w=c.subVectors(o,p).normalize().dot(u),b=o.distanceTo(p);w>0?b>s&&(s=b):b>a&&(a=b)}),{d1a:t,d2a:i,d3a:s,d1b:-n,d2b:-r,d3b:-a}};var Ps=function(e,t,n,i){this.volume=e,this.setFilter(t,n,i)},aa={header:{configurable:!0},matrix:{configurable:!0},normalMatrix:{configurable:!0},inverseMatrix:{configurable:!0},center:{configurable:!0},boundingBox:{configurable:!0},min:{configurable:!0},max:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};aa.header.get=function(){return this.volume.header},aa.matrix.get=function(){return this.volume.matrix},aa.normalMatrix.get=function(){return this.volume.normalMatrix},aa.inverseMatrix.get=function(){return this.volume.inverseMatrix},aa.center.get=function(){return this.volume.center},aa.boundingBox.get=function(){return this.volume.boundingBox},aa.min.get=function(){return this.volume.min},aa.max.get=function(){return this.volume.max},aa.mean.get=function(){return this.volume.mean},aa.rms.get=function(){return this.volume.rms},Ps.prototype._getFilterHash=function(e,t,n){return JSON.stringify([e,t,n])},Ps.prototype.setFilter=function(e,t,n){isNaN(e)&&this.header&&(e=this.header.DMEAN+2*this.header.ARMS),e=e===void 0||isNaN(e)?-1/0:e,t=G(t,1/0),n=G(n,!1);var i=this.volume.data,r=this.volume.position,s=this.volume.atomindex,a=this._getFilterHash(e,t,n);if(a!==this._filterHash){if(e===-1/0&&t===1/0)this.data=i,this.position=r,this.atomindex=s;else{var o=i.length;this._dataBuffer||(this._dataBuffer=new ArrayBuffer(4*o),this._positionBuffer=new ArrayBuffer(3*o*4),s&&(this._atomindexBuffer=new ArrayBuffer(4*o)));var c,p=new Float32Array(this._dataBuffer),A=new Float32Array(this._positionBuffer);s&&(c=new Uint32Array(this._atomindexBuffer));for(var l=0,u=0;u<o;++u){var d=3*u,m=i[u];if(!n&&m>=e&&m<=t||n&&(m<e||m>t)){var y=3*l;p[l]=m,A[y+0]=r[d+0],A[y+1]=r[d+1],A[y+2]=r[d+2],s&&c&&(c[l]=s[u]),l+=1}}this.data=new Float32Array(this._dataBuffer,0,l),this.position=new Float32Array(this._positionBuffer,0,3*l),s&&(this.atomindex=new Int32Array(this._atomindexBuffer,0,l))}this._filterHash=a}},Object.defineProperties(Ps.prototype,aa),Ps.prototype.getValueForSigma=Tn.prototype.getValueForSigma,Ps.prototype.getSigmaForValue=Tn.prototype.getSigmaForValue,Ps.prototype.getDataAtomindex=Tn.prototype.getDataAtomindex,Ps.prototype.getDataPosition=Tn.prototype.getDataPosition,Ps.prototype.getDataColor=Tn.prototype.getDataColor,Ps.prototype.getDataPicking=Tn.prototype.getDataPicking,Ps.prototype.getDataSize=Tn.prototype.getDataSize;var Mee=function(e,t){var n=QS({nodeArray1:e.atomIndex1,nodeArray2:e.atomIndex2,edgeCount:e.count,nodeCount:t});this.countArray=n.countArray,this.offsetArray=n.offsetArray,this.indexArray=n.indexArray},G1=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["atomIndex1",1,"int32"],["atomIndex2",1,"int32"],["bondOrder",1,"int8"]]},t.prototype.addBond=function(i,r,s){this.growIfFull();var a=this.count,o=i.index,c=r.index;o<c?(this.atomIndex1[a]=o,this.atomIndex2[a]=c):(this.atomIndex2[a]=o,this.atomIndex1[a]=c),s&&(this.bondOrder[a]=s),this.count+=1},t.prototype.addBondIfConnected=function(i,r,s){return!!i.connectedTo(r)&&(this.addBond(i,r,s),!0)},Object.defineProperties(t.prototype,n),t}(Ji),See=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["residueIndex",1,"uint32"],["atomTypeId",1,"uint16"],["x",1,"float32"],["y",1,"float32"],["z",1,"float32"],["serial",1,"int32"],["bfactor",1,"float32"],["altloc",1,"uint8"],["occupancy",1,"float32"]]},t.prototype.setAltloc=function(i,r){this.altloc[i]=r.charCodeAt(0)},t.prototype.getAltloc=function(i){var r=this.altloc[i];return r?String.fromCharCode(r):""},Object.defineProperties(t.prototype,n),t}(Ji),Oee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["chainIndex",1,"uint32"],["atomOffset",1,"uint32"],["atomCount",1,"uint32"],["residueTypeId",1,"uint16"],["resno",1,"int32"],["sstruc",1,"uint8"],["inscode",1,"uint8"]]},t.prototype.setSstruc=function(i,r){this.sstruc[i]=r.charCodeAt(0)},t.prototype.getSstruc=function(i){var r=this.sstruc[i];return r?String.fromCharCode(r):""},t.prototype.setInscode=function(i,r){this.inscode[i]=r.charCodeAt(0)},t.prototype.getInscode=function(i){var r=this.inscode[i];return r?String.fromCharCode(r):""},Object.defineProperties(t.prototype,n),t}(Ji),Lee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["entityIndex",1,"uint16"],["modelIndex",1,"uint16"],["residueOffset",1,"uint32"],["residueCount",1,"uint32"],["chainname",4,"uint8"],["chainid",4,"uint8"]]},t.prototype.setChainname=function(i,r){var s=4*i;this.chainname[s]=r.charCodeAt(0),this.chainname[s+1]=r.charCodeAt(1),this.chainname[s+2]=r.charCodeAt(2),this.chainname[s+3]=r.charCodeAt(3)},t.prototype.getChainname=function(i){for(var r="",s=0;s<4;++s){var a=this.chainname[4*i+s];if(!a)break;r+=String.fromCharCode(a)}return r},t.prototype.setChainid=function(i,r){var s=4*i;this.chainid[s]=r.charCodeAt(0),this.chainid[s+1]=r.charCodeAt(1),this.chainid[s+2]=r.charCodeAt(2),this.chainid[s+3]=r.charCodeAt(3)},t.prototype.getChainid=function(i){for(var r="",s=0;s<4;++s){var a=this.chainid[4*i+s];if(!a)break;r+=String.fromCharCode(a)}return r},Object.defineProperties(t.prototype,n),t}(Ji),Ree=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["chainOffset",1,"uint32"],["chainCount",1,"uint32"]]},Object.defineProperties(t.prototype,n),t}(Ji),Ro=function(e){this.polymer=e,this.size=e.residueCount};Ro.prototype.getCenterIterator=function(e){e===void 0&&(e=0);var t=this.getPosition().center,n=t.length/3,i=0,r=-1,s=[new F,new F,new F,new F];return{size:n,next:function(){var a=this.get(r);return r+=1,a},get:function(a){a=Math.min(n-1,Math.max(0,a));var o=s[i%4],c=3*a;if(o.fromArray(t,c),e){for(var p=Math.min(e,a,n-a-1),A=1;A<=p;++A){var l=3*A,u=(p+1-A)/(p+1);o.x+=u*t[c-l+0]+u*t[c+l+0],o.y+=u*t[c-l+1]+u*t[c+l+1],o.z+=u*t[c-l+2]+u*t[c+l+2]}o.x/=p+1,o.y/=p+1,o.z/=p+1}return i+=1,o},reset:function(){i=0,r=-1}}},Ro.prototype.getColor=function(e){var t=this.polymer,n=t.structure,i=t.residueCount,r=t.residueIndexStart,s=new Float32Array(3*i),a=e||{};a.structure=n;for(var o=on.getScheme(a),c=n.getResidueProxy(),p=n.getAtomProxy(),A=0;A<i;++A)c.index=r+A,p.index=c.traceAtomIndex,o.atomColorToArray(p,s,3*A);return{color:s}},Ro.prototype.getPicking=function(){for(var e=this.polymer,t=e.structure,n=e.residueCount,i=e.residueIndexStart,r=new Float32Array(n),s=t.getResidueProxy(),a=0;a<n;++a)s.index=i+a,r[a]=s.traceAtomIndex;return{picking:new tA(r,t)}},Ro.prototype.getSize=function(e){for(var t=this.polymer,n=t.structure,i=t.residueCount,r=t.residueIndexStart,s=new Float32Array(i),a=new Ja(e),o=n.getResidueProxy(),c=n.getAtomProxy(),p=0;p<i;++p)o.index=r+p,c.index=o.traceAtomIndex,s[p]=a.atomRadius(c);return{size:s}},Ro.prototype.getPosition=function(){for(var e=this.polymer,t=e.structure,n=e.residueCount,i=n-3,r=new Float32Array(3*n),s=new Float32Array(3*n),a=new Float32Array(n),o=new Float32Array(n),c=new Float32Array(n),p=new Float32Array(n),A=new Float32Array(3*n),l=new F,u=new F,d=new F,m=new F,y=new F,g=new F,E=new F,w=new F,b=new F,_=new F,C=new F,T=new F(0,0,0),x="trace",O=t.getAtomProxy(),M=t.getAtomProxy(e.getAtomIndexByType(0,x)),H=t.getAtomProxy(e.getAtomIndexByType(1,x)),R=t.getAtomProxy(e.getAtomIndexByType(2,x)),D=0;D<i;++D){O.index=M.index,M.index=H.index,H.index=R.index,R.index=e.getAtomIndexByType(D+3,x);var P=3*D;l.subVectors(M,O),u.subVectors(H,M),d.subVectors(R,H),m.subVectors(l,u),y.subVectors(u,d),b.crossVectors(m,y).normalize(),b.toArray(s,P),D>0&&(a[D]=b.angleTo(_));var I=Math.cos(m.angleTo(y));p[D]=180/Math.PI*Math.acos(I);var L=m.length(),k=y.length();o[D]=Math.sqrt(k*L)/Math.max(2,2*(1-I)),c[D]=Math.abs(u.dot(b)),g.copy(m).multiplyScalar(o[D]/L),E.copy(y).multiplyScalar(o[D]/k),g.subVectors(M,g),E.subVectors(H,E),g.toArray(r,P+3),E.toArray(r,P+6),C.subVectors(O,T),C.toArray(A,P),_.copy(b),T.copy(g)}g.fromArray(r,3),E.fromArray(r,6),b.subVectors(g,E).normalize(),O.index=e.getAtomIndexByType(0,x),T.copy(O),w.copy(O),Up(w,b,g),w.toArray(r,0),C.subVectors(T,g),C.toArray(A,0),g.fromArray(r,3*n-6),E.fromArray(r,3*n-9),b.subVectors(g,E).normalize(),O.index=e.getAtomIndexByType(n-1,x),T.copy(O),w.copy(O),Up(w,b,g),w.toArray(r,3*n-3);for(var K=n-3;K<n;++K)g.fromArray(r,3*K),O.index=e.getAtomIndexByType(K,x),T.copy(O),C.subVectors(T,g),C.toArray(A,3*K);var W=new Float32Array(n),ee=new Float32Array(n),le=new Float32Array(n),J=new Float32Array(n);W[1]=o[0],ee[1]=p[0],le[1]=o[0];for(var re=2;re<n-2;++re)W[re]=.5*(o[re-2]+o[re-1]),ee[re]=.5*(p[re-2]+p[re-1]),le[re]=.5*(c[re-2]+c[re-1]),g.fromArray(s,3*(re-2)),E.fromArray(s,3*(re-1)),J[re]=180/Math.PI*Math.acos(Math.cos(g.angleTo(E)));W[n-2]=o[n-4],ee[n-2]=p[n-4],le[n-2]=c[n-4];var te=new Float32Array(3*n);Ri(s,te,0,0,3),Ri(s,te,0,3,3);for(var ge=2;ge<n-2;++ge)g.fromArray(s,3*(ge-2)),E.fromArray(s,3*(ge-1)),b.addVectors(E,g).multiplyScalar(.5).normalize(),b.toArray(te,3*ge);return Ri(s,te,3*n-12,3*n-6,3),Ri(s,te,3*n-12,3*n-3,3),{center:r,axis:te,bending:J,radius:W,rise:le,twist:ee,resdir:A}};var F_=function(e){this.polymer=e,this.helixorient=new Ro(e),this.position=this.helixorient.getPosition()};F_.prototype.getAxis=function(e,t,n,i,r){e=e||30,t=t||2.5,n=n!==void 0&&n;var s=this.polymer,a=s.structure,o=s.residueCount,c=s.residueIndexStart,p=this.position,A=i||{};A.structure=a;for(var l,u,d=on.getScheme(A),m=new Ja(r),y=0,g=0,E=[],w=[],b=[],_=[],C=[],T=[],x=[],O=[],M=[],H=new Float32Array(3*o),R=new Float32Array(3*o),D=new F,P=new F,I=a.getResidueProxy(),L=a.getResidueProxy(),k=a.getAtomProxy(),K=new F,W=new F,ee=!1,le=0;le<o;++le)if(I.index=c+le,K.fromArray(p.center,3*le),le===o-1?ee=!0:(L.index=c+le+1,W.fromArray(p.center,3*le+3),(n&&I.sstruc!==L.sstruc||K.distanceTo(W)>t||p.bending[le]>e)&&(ee=!0)),ee){if(le-y<4){y=le,ee=!1;continue}k.index=I.traceAtomIndex,H=p.axis.subarray(3*y+3,3*le),R=p.center.subarray(3*y,3*le+3),l=E4(H).normalize(),u=E4(R),D.fromArray(R),Up(D,l,u),P.fromArray(R,R.length-3),Up(P,l,u),l.subVectors(P,D),l.toArray(E,g),u.toArray(w,g),D.toArray(b,g),P.toArray(_,g),d.atomColorToArray(k,C,g),T.push(k.index),x.push(m.atomRadius(k)),O.push(c+y),M.push(c+le+1-y),g+=3,y=le,ee=!1}var J=new Float32Array(T);return{axis:new Float32Array(E),center:new Float32Array(w),begin:new Float32Array(b),end:new Float32Array(_),color:new Float32Array(C),picking:new tA(J,a),size:new Float32Array(x),residueOffset:O,residueCount:M}};var bc=function(e){this.scoreFunction=e,this.content=[],this.scoreFunction=e};bc.prototype.push=function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},bc.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return t&&this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},bc.prototype.peek=function(){return this.content[0]},bc.prototype.remove=function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var i=this.content.pop();return void(i&&n!==t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")},bc.prototype.size=function(){return this.content.length},bc.prototype.bubbleUp=function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,i=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(i)))break;this.content[n]=t,this.content[e]=i,e=n}},bc.prototype.sinkDown=function(e){for(var t=this.content.length,n=this.content[e],i=this.scoreFunction(n),r=0;;){var s=2*(e+1),a=s-1,o=null;if(a<t){var c=this.content[a];(r=this.scoreFunction(c))<i&&(o=a)}if(s<t){var p=this.content[s];this.scoreFunction(p)<(o===null?i:r)&&(o=s)}if(o===null)break;this.content[e]=this.content[o],this.content[o]=n,e=o}};/**
 * Kdtree
 * @class
 * @author Alexander Rose <alexander.rose@weirdbyte.de>, 2016
 * @author Roman Bolzern <roman.bolzern@fhnw.ch>, 2013
 * @author I4DS http://www.fhnw.ch/i4ds, 2013
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 * @description
 * k-d Tree for typed arrays of 3d points (e.g. for Float32Array), in-place
 * provides fast nearest neighbour search
 *
 * Based on https://github.com/ubilabs/kd-tree-javascript by Ubilabs
 *
 * Further information (including mathematical properties)
 * http://en.wikipedia.org/wiki/Binary_tree
 * http://en.wikipedia.org/wiki/K-d_tree
 *
 * @example
 * points: [x, y, z, x, y, z, x, y, z, ...]
 * metric: function(a, b){
 *    return Math.pow(a[0]-b[0], 2) + Math.pow(a[1]-b[1], 2) + Math.pow(a[2]-b[2], 2);
 * }
 *
 * @param {Float32Array} points - points
 * @param {Function} metric - metric
 */var bf=function(e,t){this.points=e,this.metric=t,this.maxDepth=0,this.currentNode=0;for(var n=e.length/3,i=new Uint32Array(n),r=0;r<n;++r)i[r]=r;this.indices=i,this.nodes=new Int32Array(4*n),this.rootIndex=this.buildTree(0,-1,0,n)};bf.prototype.buildTree=function(e,t,n,i){e>this.maxDepth&&(this.maxDepth=e);var r=i-n;if(r===0)return-1;var s=4*this.currentNode,a=this.nodes;if(this.currentNode+=1,r===1)return a[s]=n,a[s+1]=-1,a[s+2]=-1,a[s+3]=t,s;for(var o,c,p,A,l,u=this.indices,d=this.points,m=n+Math.floor(r/2),y=e%3,g=n,E=i-1;E>g;){for(A=d[3*u[p=g+E>>1]+y],c=u[p],u[p]=u[E],u[E]=c,l=g,o=g;o<E;++o)d[3*u[o]+y]<A&&(c=u[l],u[l]=u[o],u[o]=c,++l);if(c=u[E],u[E]=u[l],u[l]=c,m===(p=l))break;m<p?E=p-1:g=p+1}return a[s]=m,a[s+1]=this.buildTree(e+1,s,n,m),a[s+2]=this.buildTree(e+1,s,m+1,i),a[s+3]=t,s},bf.prototype.getNodeDepth=function(e){var t=this.nodes[e+3];return t===-1?0:this.getNodeDepth(t)+1},bf.prototype.nearest=function(e,t,n){var i=this,r=new bc(function(u){return-u[1]}),s=this.nodes,a=this.points,o=this.indices,c=function(u){var d,m,y=i.getNodeDepth(u)%3,g=3*o[s[u]],E=[a[g+0],a[g+1],a[g+2]],w=i.metric(e,E);function b(M,H){r.push([M,H]),r.size()>t&&r.pop()}var _=s[u+1],C=s[u+2];if(C!==-1||_!==-1){d=C===-1?_:_===-1?C:e[y]<=a[g+y]?_:C,c(d),(r.size()<t||w<r.peek()[1])&&w<=n&&b(u,w);for(var T=[],x=0;x<3;x+=1)T[x]=x===y?e[x]:a[g+x];var O=i.metric(T,E);(r.size()<t||Math.abs(O)<r.peek()[1])&&Math.abs(O)<=n&&(m=d===_?C:_)!==-1&&c(m)}else(r.size()<t||w<r.peek()[1])&&w<=n&&b(u,w)};c(this.rootIndex);for(var p=[],A=0,l=Math.min(r.size(),t);A<l;A+=1)p.push(r.content[A]);return p},bf.prototype.verify=function(e,t){t===void 0&&(t=0);var n=1;if(e===void 0&&(e=this.rootIndex),e===-1)throw new Error("node is null");var i=t%3,r=this.nodes,s=this.points,a=this.indices,o=r[e+1],c=r[e+2];if(o!==-1){if(s[3*a[r[o]]+i]>s[3*a[r[e]]+i])throw new Error("left child is > parent!");n+=this.verify(o,t+1)}if(c!==-1){if(s[3*a[r[c]]+i]<s[3*a[r[e]]+i])throw new Error("right child is < parent!");n+=this.verify(c,t+1)}return n};var xt=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},jt={bondHash:{configurable:!0},entity:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},chainIndex:{configurable:!0},residue:{configurable:!0},residueIndex:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},resno:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},residueType:{configurable:!0},atomType:{configurable:!0},residueAtomOffset:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},atomname:{configurable:!0},number:{configurable:!0},element:{configurable:!0},vdw:{configurable:!0},covalent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},serial:{configurable:!0},bfactor:{configurable:!0},occupancy:{configurable:!0},altloc:{configurable:!0},partialCharge:{configurable:!0},radius:{configurable:!0},formalCharge:{configurable:!0},aromatic:{configurable:!0},bondCount:{configurable:!0}};function c7(e,t){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function Iee(e,t){return Math.sqrt(c7(e,t))}jt.bondHash.get=function(){return this.structure.bondHash},jt.entity.get=function(){return this.structure.entityList[this.entityIndex]},jt.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},jt.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},jt.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndex]},jt.residue.get=function(){return console.warn("residue - might be expensive"),this.structure.getResidueProxy(this.residueIndex)},jt.residueIndex.get=function(){return this.atomStore.residueIndex[this.index]},jt.residueIndex.set=function(e){this.atomStore.residueIndex[this.index]=e},jt.sstruc.get=function(){return this.residueStore.getSstruc(this.residueIndex)},jt.inscode.get=function(){return this.residueStore.getInscode(this.residueIndex)},jt.resno.get=function(){return this.residueStore.resno[this.residueIndex]},jt.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},jt.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},jt.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex])},jt.atomType.get=function(){return this.atomMap.get(this.atomStore.atomTypeId[this.index])},jt.residueAtomOffset.get=function(){return this.residueStore.atomOffset[this.residueIndex]},jt.resname.get=function(){return this.residueType.resname},jt.hetero.get=function(){return this.residueType.hetero},jt.atomname.get=function(){return this.atomType.atomname},jt.number.get=function(){return this.atomType.number},jt.element.get=function(){return this.atomType.element},jt.vdw.get=function(){return this.atomType.vdw},jt.covalent.get=function(){return this.atomType.covalent},jt.x.get=function(){return this.atomStore.x[this.index]},jt.x.set=function(e){this.atomStore.x[this.index]=e},jt.y.get=function(){return this.atomStore.y[this.index]},jt.y.set=function(e){this.atomStore.y[this.index]=e},jt.z.get=function(){return this.atomStore.z[this.index]},jt.z.set=function(e){this.atomStore.z[this.index]=e},jt.serial.get=function(){return this.atomStore.serial[this.index]},jt.serial.set=function(e){this.atomStore.serial[this.index]=e},jt.bfactor.get=function(){return this.atomStore.bfactor[this.index]},jt.bfactor.set=function(e){this.atomStore.bfactor[this.index]=e},jt.occupancy.get=function(){return this.atomStore.occupancy[this.index]},jt.occupancy.set=function(e){this.atomStore.occupancy[this.index]=e},jt.altloc.get=function(){return this.atomStore.getAltloc(this.index)},jt.altloc.set=function(e){this.atomStore.setAltloc(this.index,e)},jt.partialCharge.get=function(){return this.atomStore.partialCharge?this.atomStore.partialCharge[this.index]:null},jt.partialCharge.set=function(e){this.atomStore.partialCharge&&(this.atomStore.partialCharge[this.index]=e)},jt.radius.get=function(){return this.atomStore.radius?this.atomStore.radius[this.index]:null},jt.radius.set=function(e){this.atomStore.radius&&(this.atomStore.radius[this.index]=e)},jt.formalCharge.get=function(){return this.atomStore.formalCharge?this.atomStore.formalCharge[this.index]:null},jt.formalCharge.set=function(e){this.atomStore.formalCharge&&(this.atomStore.formalCharge[this.index]=e)},jt.aromatic.get=function(){return this.atomStore.aromatic?this.atomStore.aromatic[this.index]:this.residueType.isAromatic(this)?1:0},jt.aromatic.set=function(e){this.atomStore.aromatic&&(this.atomStore.aromatic[this.index]=e)},jt.bondCount.get=function(){return this.bondHash.countArray[this.index]},xt.prototype.eachBond=function(e,t){t=t||this.structure._bp;for(var n=this.index,i=this.bondHash,r=i.indexArray,s=i.countArray[n],a=i.offsetArray[n],o=0;o<s;++o)t.index=r[a+o],e(t)},xt.prototype.eachBondedAtom=function(e,t){var n=t||this.structure._ap,i=this.index;this.eachBond(function(r){n.index=i!==r.atomIndex1?r.atomIndex1:r.atomIndex2,e(n)}),this.index=i},xt.prototype.hasBondTo=function(e){var t=!1;return this.eachBondedAtom(function(n){e.index===n.index&&(t=!0)}),t},xt.prototype.bondToElementCount=function(e){var t=0,n=this.index;return this.eachBondedAtom(function(i){i.number===e&&(t+=1)}),this.index=n,t},xt.prototype.hasBondToElement=function(e){return this.bondToElementCount(e)>0},xt.prototype.isBackbone=function(){var e=this.residueType.backboneIndexList;return e.length>0&&e.includes(this.index-this.residueAtomOffset)},xt.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},xt.prototype.isSidechain=function(){return this.isPolymer()&&!this.isBackbone()},xt.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},xt.prototype.isTrace=function(){return this.index===this.residueType.traceAtomIndex+this.residueAtomOffset},xt.prototype.isHetero=function(){return this.residueType.hetero===1},xt.prototype.isProtein=function(){return this.residueType.moleculeType===3},xt.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},xt.prototype.isRna=function(){return this.residueType.moleculeType===4},xt.prototype.isDna=function(){return this.residueType.moleculeType===5},xt.prototype.isWater=function(){return this.residueType.moleculeType===1},xt.prototype.isIon=function(){return this.residueType.moleculeType===2},xt.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},xt.prototype.isHelix=function(){return VS.includes(this.sstruc)},xt.prototype.isSheet=function(){return KS.includes(this.sstruc)},xt.prototype.isTurn=function(){return zS.includes(this.sstruc)&&this.isProtein()},xt.prototype.isBonded=function(){return this.bondHash.countArray[this.index]!==0},xt.prototype.isRing=function(){return this.residueType.getRings().atomRings[this.index-this.residueAtomOffset]!==void 0},xt.prototype.isAromatic=function(){return this.aromatic===1},xt.prototype.isPolarHydrogen=function(){var e=!1;return this.number!==1?e:e=!this.hasBondToElement(6)},xt.prototype.isMetal=function(){return this.atomType.isMetal()},xt.prototype.isNonmetal=function(){return this.atomType.isNonmetal()},xt.prototype.isMetalloid=function(){return this.atomType.isMetalloid()},xt.prototype.isHalogen=function(){return this.atomType.isHalogen()},xt.prototype.isDiatomicNonmetal=function(){return this.atomType.isDiatomicNonmetal()},xt.prototype.isPolyatomicNonmetal=function(){return this.atomType.isPolyatomicNonmetal()},xt.prototype.isAlkaliMetal=function(){return this.atomType.isAlkaliMetal()},xt.prototype.isAlkalineEarthMetal=function(){return this.atomType.isAlkalineEarthMetal()},xt.prototype.isNobleGas=function(){return this.atomType.isNobleGas()},xt.prototype.isTransitionMetal=function(){return this.atomType.isTransitionMetal()},xt.prototype.isPostTransitionMetal=function(){return this.atomType.isPostTransitionMetal()},xt.prototype.isLanthanide=function(){return this.atomType.isLanthanide()},xt.prototype.isActinide=function(){return this.atomType.isActinide()},xt.prototype.getDefaultValence=function(){return this.atomType.getDefaultValence()},xt.prototype.getValenceList=function(){return this.atomType.getValenceList()},xt.prototype.getOuterShellElectronCount=function(){return this.atomType.getOuterShellElectronCount()},xt.prototype.distanceTo=function(e){var t=this.atomStore,n=e.atomStore,i=this.index,r=e.index,s=t.x[i]-n.x[r],a=t.y[i]-n.y[r],o=t.z[i]-n.z[r],c=s*s+a*a+o*o;return Math.sqrt(c)},xt.prototype.connectedTo=function(e){var t=this.atomStore,n=e.atomStore,i=this.index,r=e.index;if(t.altloc&&n.altloc){var s=t.altloc[i],a=n.altloc[r];if(s!==0&&a!==0&&s!==32&&a!==32&&s!==a)return!1}var o=t.x[i]-n.x[r],c=t.y[i]-n.y[r],p=t.z[i]-n.z[r],A=o*o+c*c+p*p;if(A<48&&this.isCg())return!0;if(isNaN(A))return!1;var l=this.covalent+e.covalent,u=l+.3,d=l-.5;return A<u*u&&A>d*d},xt.prototype.positionFromArray=function(e,t){return t===void 0&&(t=0),this.x=e[t+0],this.y=e[t+1],this.z=e[t+2],this},xt.prototype.positionToArray=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.index,i=this.atomStore;return e[t+0]=i.x[n],e[t+1]=i.y[n],e[t+2]=i.z[n],e},xt.prototype.positionToVector3=function(e){return e===void 0&&(e=new F),e.x=this.x,e.y=this.y,e.z=this.z,e},xt.prototype.positionFromVector3=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},xt.prototype.positionAdd=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},xt.prototype.positionSub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},xt.prototype.getResidueBonds=function(e){e===void 0&&(e=!1);var t,n,i,r,s=this.residueAtomOffset,a=this.index-this.residueAtomOffset,o=this.residueType.getBonds(),c=o.atomIndices1,p=o.atomIndices2;for(e||(r=[]),t=c.indexOf(a);t!==-1;){if(i=p[t]+s,!r)return i;r.push(i),t=c.indexOf(a,t+1)}for(n=p.indexOf(a);n!==-1;){if(i=c[n]+s,!r)return i;r.push(i),n=p.indexOf(a,n+1)}return r},xt.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chainname&&(t+=":"+this.chainname),this.atomname&&(t+="."+this.atomname),this.altloc&&(t+="%"+this.altloc),this.structure.modelStore.count>1&&(t+="/"+this.modelIndex),t},xt.prototype.clone=function(){return new xt(this.structure,this.index)},xt.prototype.toObject=function(){return{index:this.index,residueIndex:this.residueIndex,resname:this.resname,x:this.x,y:this.y,z:this.z,element:this.element,chainname:this.chainname,resno:this.resno,serial:this.serial,vdw:this.vdw,covalent:this.covalent,hetero:this.hetero,bfactor:this.bfactor,altloc:this.altloc,atomname:this.atomname,modelIndex:this.modelIndex}},Object.defineProperties(xt.prototype,jt);var Hg=new Float32Array(3),p7=function(e,t){t===void 0&&(t=!1),De&&Be.time("Kdtree build");var n=t?c7:Iee,i=new Float32Array(3*e.atomCount),r=new Uint32Array(e.atomCount),s=0;e.eachAtom(function(a){i[s+0]=a.x,i[s+1]=a.y,i[s+2]=a.z,r[s/3]=a.index,s+=3}),this.atomIndices=r,this.points=i,this.kdtree=new bf(i,n),De&&Be.timeEnd("Kdtree build")};p7.prototype.nearest=function(e,t,n){e instanceof F?e.toArray(Hg):e instanceof xt&&e.positionToArray(Hg);for(var i=this.kdtree.nearest(Hg,t,n),r=this.kdtree.indices,s=this.kdtree.nodes,a=this.atomIndices,o=[],c=0,p=i.length;c<p;++c){var A=i[c],l=A[0],u=A[1];o.push({index:a[r[s[l]]],distance:u})}return o};var Fee={" ":"X","!":"Y","#":"Z",$:"-X","%":"-Y","&":"-Z","'":"Y+1/2","(":"1/2+X",")":"1/2+Y","*":"1/2-X","+":"1/2+Z",",":"1/2-Y","-":"1/2-Z",".":"X+1/2","/":"Z+1/2",0:"-X+1/2",1:"-Y+1/2",2:"-Z+1/2",3:"1/4+X",4:"1/4-Y",5:"1/4+Z",6:"1/4-X",7:"1/4+Y",8:"3/4-Y",9:"3/4+Z",":":"3/4+Y",";":"3/4+X","<":"3/4-X","=":"1/4-Z",">":"3/4-Z","?":"X-Y","@":"Y-X",A:"Z+1/3",B:"Z+2/3",C:"X+2/3",D:"Y+1/3",E:"-Y+2/3",F:"X-Y+1/3",G:"Y-X+2/3",H:"-X+1/3",I:"X+1/3",J:"Y+2/3",K:"-Y+1/3",L:"X-Y+2/3",M:"Y-X+1/3",N:"-X+2/3",O:"2/3+X",P:"1/3+Y",Q:"1/3+Z",R:"2/3-Y",S:"1/3+X-Y",T:"2/3+Y-X",U:"1/3-X",V:"2/3-X",W:"1/3-Y",X:"1/3-Z",Y:"2/3+Y",Z:"1/3+Y-X","[":"2/3+X-Y","]":"1/3+X","^":"2/3+Z",_:"2/3-Z","`":"5/6+Z",a:"1/6+Z",b:"5/6-Z",c:"1/6-Z",d:"Z+5/6",e:"Z+1/6",f:"Z+1/4",g:"+Y"},Nee={"P 1":" !#","P -1":" !#$%&","P 1 2 1":" !#$!&","P 1 21 1":" !#$'&","C 1 2 1":" !#$!&()#*)&","P 1 m 1":" !# %#","P 1 c 1":" !# %+","C 1 m 1":" !# %#()#(,#","C 1 c 1":" !# %+()#(,+","P 1 2/m 1":" !# %#$!&$%&","P 1 21/m 1":" !#$)&$%& ,#","C 1 2/m 1":" !# %#$!&$%&()#(,#*)&*,&","P 1 2/c 1":" !#$!-$%& %+","P 1 21/c 1":" !#$%&$)- ,+","C 1 2/c 1":" !#$!-$%& %+()#*)-*,&(,+","P 2 2 2":" !#$%#$!& %&","P 2 2 21":" !#$%+$!- %&","P 21 21 2":" !#$%#*)&(,&","P 21 21 21":" !#*%+$)-(,&","C 2 2 21":" !#$%+$!- %&()#*,+*)-(,&","C 2 2 2":" !#$%#$!& %&()#*,#*)&(,&","F 2 2 2":" !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&","I 2 2 2":" !#$%# %&$!&.'/01/.120'2","I 21 21 21":" !#*%+$)-(,&()+$,#*!& %-","P m m 2":" !#$%# %#$!#","P m c 21":" !#$%+ %+$!#","P c c 2":" !#$%# %+$!+","P m a 2":" !#$%#(%#*!#","P c a 21":" !#$%+(%#*!+","P n c 2":" !#$%# ,+$)+","P m n 21":" !#*%+(%+$!#","P b a 2":" !#$%#(,#*)#","P n a 21":" !#$%+(,#*)+","P n n 2":" !#$%#(,+*)+","C m m 2":" !#$%# %#$!#()#*,#(,#*)#","C m c 21":" !#$%+ %+$!#()#*,+(,+*)#","C c c 2":" !#$%# %+$!+()#*,#(,+*)+","A m m 2":" !#$%# %#$!# )+$,+ ,+$)+","A b m 2":" !#$%# ,#$)# )+$,+ %+$!+","A m a 2":" !#$%#(%#*!# )+$,+(,+*)+","A b a 2":" !#$%#(,#*)# )+$,+(%+*!+","F m m 2":" !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#","F d d 2":" !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5","I m m 2":" !#$%# %#$!#()+*,+(,+*)+","I b a 2":" !#$%#(,#*)#()+*,+ %+$!+","I m a 2":" !#$%#(%#*!#()+*,+ ,+$)+","P 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#","P 2/n 2/n 2/n":" !#$%#$!& %&*,-()-(,+*)+","P 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+","P 2/b 2/a 2/n":" !#$%#$!& %&*,&()&(,#*)#","P 21/m 2/m 2/a":" !#*%#$!&(%&$%&(!& %#*!#","P 2/n 21/n 2/a":" !#*%#*)- ,-$%&(!&(,+$)+","P 2/m 2/n 21/a":" !#*%+*!- %&$%&(!-(%+$!#","P 21/c 2/c 2/a":" !#*%#$!-(%-$%&(!& %+*!+","P 21/b 21/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#","P 21/c 21/c 2/n":" !#*,#$)-(%-$%&()& ,+*!+","P 2/b 21/c 21/m":" !#$%+$)- ,&$%& !- ,+$)#","P 21/n 21/n 2/m":" !#$%#*)-(,-$%& !&(,+*)+","P 21/m 21/m 2/n":" !#$%#*'&.,&*,&.'& %#$!#","P 21/b 2/c 21/n":" !#*,+$!-(,&$%&()- %+*)#","P 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#","P 21/n 21/m 21/a":" !#0%/$'&.12$%&.!2 1#0'/","C 2/m 2/c 21/m":" !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#","C 2/m 2/c 21/a":" !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#","C 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#","C 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+","C 2/m 2/m 2/a":" !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#","C 2/c 2/c 2/a":" !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+","F 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#","F 2/d 2/d 2/d":" !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5","I 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+","I 2/b 2/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+","I 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+","I 21/m 21/m 21/a":" !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+","P 4":" !#$%#% #!$#","P 41":" !#$%+% 5!$9","P 42":" !#$%#% +!$+","P 43":" !#$%+% 9!$5","I 4":" !#$%#% #!$#()+*,+,(+)*+","I 41":" !#*,+%(5)$9()+$%#, 9!*5","P -4":" !#$%#!$&% &","I -4":" !#$%#!$&% &()+*,+)*-,(-","P 4/m":" !#$%#% #!$#$%& !&!$&% &","P 42/m":" !#$%#% +!$+$%& !&!$-% -","P 4/n":" !#$%#,(#)*#*,&()&!$&% &","P 42/n":" !#$%#,(+)*+*,-()-!$&% &","I 4/m":" !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-","I 41/a":" !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &","P 4 2 2":" !#$%#% #!$#$!& %&! &%$&","P 4 21 2":" !#$%#,(#)*#*)&(,&! &%$&","P 41 2 2":" !#$%+% 5!$9$!& %-! >%$=","P 41 21 2":" !#$%+,(5)*9*)=(,>! &%$-","P 42 2 2":" !#$%#% +!$+$!& %&! -%$-","P 42 21 2":" !#$%#,(+)*+*)-(,-! &%$&","P 43 2 2":" !#$%+% 9!$5$!& %-! =%$>","P 43 21 2":" !#$%+,(9)*5*)>(,=! &%$-","I 4 2 2":" !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-","I 41 2 2":" !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-","P 4 m m":" !#$%#% #!$# %#$!#%$#! #","P 4 b m":" !#$%#% #!$#(,#*)#,*#)(#","P 42 c m":" !#$%#% +!$+ %+$!+%$#! #","P 42 n m":" !#$%#,(+)*+(,+*)+%$#! #","P 4 c c":" !#$%#% #!$# %+$!+%$+! +","P 4 n c":" !#$%#% #!$#(,+*)+,*+)(+","P 42 m c":" !#$%#% +!$+ %#$!#%$+! +","P 42 b c":" !#$%#% +!$+(,#*)#,*+)(+","I 4 m m":" !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+","I 4 c m":" !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#","I 41 m d":" !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5","I 41 c d":" !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9","P -4 2 m":" !#$%#% &!$&$!& %&%$#! #","P -4 2 c":" !#$%#% &!$&$!- %-%$+! +","P -4 21 m":" !#$%#% &!$&*)&(,&,*#)(#","P -4 21 c":" !#$%#% &!$&*)-(,-,*+)(+","P -4 m 2":" !#$%#!$&% & %#$!#! &%$&","P -4 c 2":" !#$%#% &!$& %+$!+! -%$-","P -4 b 2":" !#$%#% &!$&(,#*)#)(&,*&","P -4 n 2":" !#$%#% &!$&(,+*)+)(-,*-","I -4 m 2":" !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-","I -4 c 2":" !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&","I -4 2 m":" !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+","I -4 2 d":" !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5","P 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #","P 4/m 2/c 2/c":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +","P 4/n 2/b 2/m":" !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#","P 4/n 2/n 2/c":" !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+","P 4/m 21/b 2/m":" !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#","P 4/m 21/n 2/c":" !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+","P 4/n 21/m 2/m":" !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#","P 4/n 2/c 2/c":" !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+","P 42/m 2/m 2/c":" !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +","P 42/m 2/c 2/m":" !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #","P 42/n 2/b 2/c":" !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +","P 42/n 2/n 2/m":" !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #","P 42/m 21/b 2/c":" !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+","P 42/m 21/n 2/m":" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #","P 42/n 21/m 2/c":" !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+","P 42/n 21/c 2/m":" !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#","I 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+","I 4/m 2/c 2/m":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#","I 41/a 2/m 2/d":" !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9","I 41/a 2/c 2/d":" !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5","P 3":" !#%?#@$#","P 31":" !#%?A@$B","P 32":" !#%?B@$A","H 3":" !#%?#@$#CDAEFAGHAIJBKLBMNB","R 3":" !## !!# ","P -3":" !#%?#@$#$%&!@&? &","H -3":" !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_","R -3":" !## !!# $%&&$%%&$","P 3 1 2":" !#%?#@$#%$&@!& ?&","P 3 2 1":" !#%?#@$#! &?%&$@&","P 31 1 2":" !#%?Q@$^%$_@!X ?&","P 31 2 1":" !#%?A@$B! &?%_$@X","P 32 1 2":" !#%?^@$Q%$X@!_ ?&","P 32 2 1":" !#%?B@$A! &?%X$@_","H 3 2":" !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_","R 3 2":" !## !!# %$&$&%&%$","P 3 m 1":" !#%?#@$#%$#@!# ?#","P 3 1 m":" !#%?#@$#! #?%#$@#","P 3 c 1":" !#%?#@$#%$+@!+ ?+","P 3 1 c":" !#%?#@$#! +?%+$@+","H 3 m":" !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^","R 3 m":" !## !!# ! # #!#! ","H 3 c":" !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a","R 3 c":" !## !!# '././'/'.","P -3 1 2/m":" !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#","P -3 1 2/c":" !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+","P -3 2/m 1":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#","P -3 2/c 1":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+","H -3 2/m":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^","R -3 2/m":" !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ","H -3 2/c":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a","R -3 2/c":" !## !!# 102021210$%&&$%%&$'././'/'.","P 6":" !#%?#@$#$%#!@#? #","P 61":" !#%?A@$B$%/!@d? e","P 65":" !#%?B@$A$%/!@e? d","P 62":" !#%?^@$Q$%#!@^? Q","P 64":" !#%?Q@$^$%#!@Q? ^","P 63":" !#%?#@$#$%+!@+? +","P -6":" !#%?#@$# !&%?&@$&","P 6/m":" !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&","P 63/m":" !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-","P 6 2 2":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&","P 61 2 2":" !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c","P 65 2 2":" !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b","P 62 2 2":" !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X","P 64 2 2":" !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_","P 63 2 2":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-","P 6 m m":" !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#","P 6 c c":" !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+","P 63 c m":" !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#","P 63 m c":" !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+","P -6 m 2":" !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&","P -6 c 2":" !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&","P -6 2 m":" !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#","P -6 2 c":" !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+","P 6/m 2/m 2/m":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#","P 6/m 2/c 2/c":" !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+","P 63/m 2/c 2/m":" !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#","P 63/m 2/m 2/c":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+","P 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ","F 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ","I 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(","P 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(","I 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ","P 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$","P 2/n -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","F 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$","F 2/d -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96","I 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","P 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*","I 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$","P 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$","P 42 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","F 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$","F 41 3 2":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86","I 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","P 43 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46","P 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<","I 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46","P -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ","F -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ","I -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","P -4 3 n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","F -4 3 c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(","I -4 3 d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43","P 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","P 4/n -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/m -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/n -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","F 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ","F 4/m -3 2/c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(","F 41/d -3 2/m":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ","F 41/d -3 2/c":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(","I 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","I 41/a -3 2/d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;","P 1 1 2":" !#$%#","P 1 1 21":" !#$%+","B 1 1 2":" !#$%#(g+*%+","A 1 2 1":" !#$!& )+$)-","C 1 21 1":" !#$)&()#*!&","I 1 2 1":" !#$!&.'/0'2","I 1 21 1":" !#$)&.'/0!-","P 1 1 m":" !# !&","P 1 1 b":" !# )&","B 1 1 m":" !# !&(!+(!-","B 1 1 b":" !# )&(!+()-","P 1 1 2/m":" !# !&$%#$%&","P 1 1 21/m":" !#$%+$%& !-","B 1 1 2/m":" !# !&$%#$%&(!+(!-*%+*%-","P 1 1 2/b":" !#$,#$%& )&","P 1 1 21/b":" !#$%&$,+ )-","B 1 1 2/b":" !#$,#$%& )&(!+*,+*%-()-","P 21 2 2":" !#$!&(%&*%#","P 2 21 2":" !# ,&$)&$%#","P 21 21 2 (a)":" !#*,#.%&$'&","P 21 2 21":" !#$!&(%-*%+","P 2 21 21":" !# %&$)-$,+","C 2 2 21a)":" !#*%+(,&$)-()#$,+ %&*!-","C 2 2 2a":" !#*,#.%&$'&()#$%# ,&*!&","F 2 2 2a":" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&","I 2 2 2a":" !#*,#.%&$'&()+$%+*!- ,-","P 21/m 21/m 2/n a":" !#*,#$)&(%&$%&.'& ,#*!#","P 42 21 2a":" !#*,#%.+'$+$'&.%&! -,*-","I 2 3a":" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,"},Pee=/^[1-9]$/;function A7(e){var t="";return e.length>0&&(t=":"+x_(e).join(" OR :")),new Nn(t)}var tr=function(e){e===void 0&&(e=""),this.name=e,this.partList=[]},sT={type:{configurable:!0}};sT.type.get=function(){return"Assembly"},tr.prototype.addPart=function(e,t){var n=new Bo(e,t);return this.partList.push(n),n},tr.prototype.getAtomCount=function(e){return this.partList.reduce(function(t,n){return t+n.getAtomCount(e)},0)},tr.prototype.getResidueCount=function(e){return this.partList.reduce(function(t,n){return t+n.getResidueCount(e)},0)},tr.prototype.getInstanceCount=function(){var e=0;return this.partList.forEach(function(t){e+=t.matrixList.length}),e},tr.prototype.isIdentity=function(e){if(this.partList.length!==1)return!1;var t=this.partList[0];if(t.matrixList.length!==1||!new Xe().equals(t.matrixList[0]))return!1;var n=[];return e.eachChain(function(i){n.push(i.chainname)}),n=x_(n),t.chainList.length===n.length},tr.prototype.getBoundingBox=function(e){var t=new Yn;return this.partList.forEach(function(n){var i=n.getBoundingBox(e);t.expandByPoint(i.min),t.expandByPoint(i.max)}),t},tr.prototype.getCenter=function(e){return this.getBoundingBox(e).getCenter(new F)},tr.prototype.getSelection=function(){var e=[];return this.partList.forEach(function(t){e=e.concat(t.chainList)}),A7(e)},Object.defineProperties(tr.prototype,sT);var Bo=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.matrixList=e,this.chainList=t},aT={type:{configurable:!0}};aT.type.get=function(){return"AssemblyPart"},Bo.prototype._getCount=function(e,t){var n=this,i=0;return e.eachChain(function(r){(n.chainList.length===0||n.chainList.includes(r.chainname))&&(i+=r[t])}),this.matrixList.length*i},Bo.prototype.getAtomCount=function(e){return this._getCount(e,"atomCount")},Bo.prototype.getResidueCount=function(e){return this._getCount(e,"residueCount")},Bo.prototype.getBoundingBox=function(e){var t=new Yn,n=new Yn,i=this.getSelection(),r=e.getBoundingBox(i);return this.matrixList.forEach(function(s){n.copy(r).applyMatrix4(s),t.expandByPoint(n.min),t.expandByPoint(n.max)}),t},Bo.prototype.getSelection=function(){return A7(this.chainList)},Bo.prototype.getView=function(e){var t=this.getSelection();return t?e.getView(t):e},Bo.prototype.getInstanceList=function(){for(var e=[],t=0,n=this.matrixList.length;t<n;++t)e.push({id:t+1,name:t,matrix:this.matrixList[t]});return e},Object.defineProperties(Bo.prototype,aT);var Q1=function(e){this.structure=e,this.currentModelindex=null,this.currentChainid=null,this.currentResname=null,this.currentResno=null,this.currentInscode=void 0,this.currentHetero=null,this.previousResname="",this.previousHetero=null,this.ai=-1,this.ri=-1,this.ci=-1,this.mi=-1};function l7(e,t){if(t){De&&Be.time("assignSecondaryStructure");var n=[];e.eachModel(function(p){p.eachChain(function(A){n.push(A.chainname)})});var i=n.slice().sort(),r=[];i.forEach(function(p){r.push(n.indexOf(p))});var s=t.helices.filter(function(p){return vp(i,p[0])>=0});s.sort(function(p,A){var l=p[0],u=A[0],d=p[1],m=A[1];if(l===u)return d===m?0:d<m?-1:1;var y=vp(i,l),g=vp(i,u);return r[y]<r[g]?-1:1});var a=e.residueStore;e.eachModel(function(p){var A=0,l=s.length;if(l!==0){var u=s[A],d=!1,m=!1;p.eachChain(function(y){var g=!1;if(y.chainname===u[0]){for(var E=y.residueCount,w=y.residueOffset,b=w+E,_=w;_<b;++_)if(a.resno[_]===u[1]&&a.getInscode(_)===u[2]&&(d=!0),d&&(a.sstruc[_]=u[6],a.resno[_]===u[4]&&a.getInscode(_)===u[5]&&(d=!1,(A+=1)<l?(_=w-1,u=s[A],g=y.chainname!==u[0]):m=!0)),g||m)return}})}});var o=t.sheets.filter(function(p){return vp(i,p[0])>=0});o.sort(function(p,A){var l=p[0],u=A[0];if(l===u)return 0;var d=vp(i,l),m=vp(i,u);return r[d]<r[m]?-1:1});var c="e".charCodeAt(0);e.eachModel(function(p){var A=0,l=o.length;if(l!==0){var u=o[A],d=!1,m=!1;p.eachChain(function(y){var g=!1;if(y.chainname===u[0]){for(var E=y.residueCount,w=y.residueOffset,b=w+E,_=w;_<b;++_)if(a.resno[_]===u[1]&&a.getInscode(_)===u[2]&&(d=!0),d&&(a.sstruc[_]=c,a.resno[_]===u[4]&&a.getInscode(_)===u[5]&&(d=!1,(A+=1)<l?(_=w-1,u=o[A],g=y.chainname!==u[0]):m=!0)),g||m)return}})}}),De&&Be.timeEnd("assignSecondaryStructure")}}Q1.prototype.addResidueType=function(e){for(var t=this.structure.atomStore,n=this.structure.residueStore,i=this.structure.residueMap,r=n.atomCount[e],s=n.atomOffset[e],a=new Array(r),o=0;o<r;++o)a[o]=t.atomTypeId[s+o];n.residueTypeId[e]=i.add(this.previousResname,a,this.previousHetero)},Q1.prototype.addAtom=function(e,t,n,i,r,s,a,o){var c=this.structure.atomStore,p=this.structure.residueStore,A=this.structure.chainStore,l=this.structure.modelStore,u=!1,d=!1,m=!1;this.currentModelindex!==e?(u=!0,d=!0,m=!0,this.mi+=1,this.ci+=1,this.ri+=1):this.currentChainid!==n?(d=!0,m=!0,this.ci+=1,this.ri+=1):this.currentResno===r&&this.currentResname===i&&this.currentInscode===o||(m=!0,this.ri+=1),this.ai+=1,u&&(l.growIfFull(),l.chainOffset[this.mi]=this.ci,l.chainCount[this.mi]=0,l.count+=1,A.modelIndex[this.ci]=this.mi),d&&(A.growIfFull(),A.setChainname(this.ci,t),A.setChainid(this.ci,n),A.residueOffset[this.ci]=this.ri,A.residueCount[this.ci]=0,A.count+=1,A.modelIndex[this.ci]=this.mi,l.chainCount[this.mi]+=1,p.chainIndex[this.ri]=this.ci),m&&(this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>0&&this.addResidueType(this.ri-1),p.growIfFull(),p.resno[this.ri]=r,a!==void 0&&(p.sstruc[this.ri]=a.charCodeAt(0)),o!==void 0&&(p.inscode[this.ri]=o.charCodeAt(0)),p.atomOffset[this.ri]=this.ai,p.atomCount[this.ri]=0,p.count+=1,p.chainIndex[this.ri]=this.ci,A.residueCount[this.ci]+=1),c.count+=1,c.residueIndex[this.ai]=this.ri,p.atomCount[this.ri]+=1,this.currentModelindex=e,this.currentChainid=n,this.currentResname=i,this.currentResno=r,this.currentInscode=o,this.currentHetero=s},Q1.prototype.finalize=function(){this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>-1&&this.addResidueType(this.ri)};var Dg,oT,cT,GE=(Dg=function(e,t,n,i){for(var r=e.structure,s=e.residueIndexStart,a=r.getResidueProxy(),o=r.getResidueProxy(),c=r.getAtomProxy(),p=r.getAtomProxy(),A=Math.max(0,t-2);A<=t;++A)for(var l=2;l<5;++l)if(!(A+l>=e.residueCount)){a.index=s+A,o.index=s+A+l,c.index=a.traceAtomIndex,p.index=o.traceAtomIndex;var u=c.distanceTo(p);if(Math.abs(u-n[l-2])>i)return!1}return!0},oT=function(e,t){return Dg(e,t,[5.45,5.18,6.37],2.1)},cT=function(e,t){return Dg(e,t,[6.1,10.4,13],1.42)},function(e){De&&Be.time("calculateSecondaryStructure"),e.eachPolymer(function(t){if(!(t.residueCount<4)){if(t.isCg())(function(r){for(var s=r.residueStore,a=r.residueIndexStart,o=new F_(r).position,c=new F,p=new F,A=0,l=r.residueCount;A<l;++A){c.fromArray(o.center,3*A),p.fromArray(o.center,3*A+3);var u=c.distanceTo(p);u<2&&u>1&&o.bending[A]<20&&(s.sstruc[a+A]="h".charCodeAt(0),s.sstruc[a+A+1]="h".charCodeAt(0))}})(t);else{if(!t.isProtein())return;(function(r){for(var s=r.residueStore,a=r.residueIndexStart,o=0,c=r.residueCount;o<c;++o){var p="c";oT(r,o)?p="h":cT(r,o)&&(p="e"),s.sstruc[a+o]=p.charCodeAt(0)}})(t)}var n,i=0;t.eachResidue(function(r){r.sstruc===n?i+=1:(i===1&&(r.index-=1,r.sstruc="c"),i=1,n=r.sstruc)})}}),De&&Be.timeEnd("calculateSecondaryStructure")});function Nd(e){for(var t=26,n=e,i=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n%t];n>=t;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[(n=Math.floor(n/t))%t],i+=1;return i>=5&&Be.warn("chainname overflow"),r}function QE(e,t){t===void 0&&(t=!1),De&&Be.time("calculateChainnames");var n=!0;if(e.eachChain(function(m){m.chainname&&(n=!1)}),n){var i=e.modelStore,r=e.chainStore,s=e.residueStore,a=e.getAtomProxy(),o=e.getAtomProxy(),c=0,p=0,A=0,l=0,u=[];s.count===1?u.push({mIndex:0,chainname:"A",rStart:0,rCount:1}):e.eachResidueN(2,function(m,y){var g=!1,E=m.backboneType,w=y.backboneType;l=m.index,m.modelIndex!==y.modelIndex||m.moleculeType!==y.moleculeType?g=!0:E!==0&&E===w&&(a.index=m.backboneEndAtomIndex,o.index=y.backboneStartAtomIndex,g=t?!a.hasBondTo(o):!a.connectedTo(o)),g||y.index!==s.count-1||(g=!0,l=y.index),g&&(u.push({mIndex:p,chainname:Nd(c),rStart:A,rCount:l-A+1}),c+=1,m.modelIndex!==y.modelIndex&&(c=0,p+=1),y.index===s.count-1&&l!==y.index&&u.push({mIndex:p,chainname:Nd(c),rStart:s.count-1,rCount:1}),A=y.index,l=y.index)}),r.count=0,u.forEach(function(m){(function(y,g,E,w){for(var b=r.count,_=0;_<w;++_)s.chainIndex[E+_]=b;r.growIfFull(),r.modelIndex[b]=y,r.setChainname(b,g),r.setChainid(b,g),r.residueOffset[b]=E,r.residueCount[b]=w,r.count+=1,i.chainCount[y]+=1})(m.mIndex,m.chainname,m.rStart,m.rCount)});var d=0;e.eachModel(function(m){i.chainOffset[m.index]=d,i.chainCount[m.index]-=1,d+=i.chainCount[m.index]})}De&&Be.timeEnd("calculateChainnames")}function rE(e){De&&Be.time("calculateBonds"),cu(e),pu(e),De&&Be.timeEnd("calculateBonds")}var Uee={"HIS|CD2|CG":2,"HIS|CE1|ND1":2,"ARG|CZ|NH2":2,"PHE|CE1|CZ":2,"PHE|CD2|CE2":2,"PHE|CD1|CG":2,"TRP|CD1|CG":2,"TRP|CD2|CE2":2,"TRP|CE3|CZ3":2,"TRP|CH2|CZ2":2,"ASN|CG|OD1":2,"GLN|CD|OE1":2,"TYR|CD1|CG":2,"TYR|CD2|CE2":2,"TYR|CE1|CZ":2,"ASP|CG|OD1":2,"GLU|CD|OE1":2,"G|C8|N7":2,"G|C4|C5":2,"G|C2|N3":2,"G|C6|O6":2,"C|C4|N3":2,"C|C5|C6":2,"C|C2|O2":2,"A|C2|N3":2,"A|C6|N1":2,"A|C4|C5":2,"A|C8|N7":2,"U|C5|C6":2,"U|C2|O2":2,"U|C4|O4":2,"DG|C8|N7":2,"DG|C4|C5":2,"DG|C2|N3":2,"DG|C6|O6":2,"DC|C4|N3":2,"DC|C5|C6":2,"DC|C2|O2":2,"DA|C2|N3":2,"DA|C6|N1":2,"DA|C4|C5":2,"DA|C8|N7":2,"DT|C5|C6":2,"DT|C2|O2":2,"DT|C4|O4":2};function pT(e,t,n){var i;return t=(i=t<n?[t,n]:[n,t])[0],n=i[1],bl.includes(e)&&t==="C"&&n==="O"||Ff.includes(e)&&t==="OP1"&&n==="P"?2:Uee[e+"|"+t+"|"+n]||1}function cu(e,t){t===void 0&&(t=!1),De&&Be.time("calculateBondsWithin");var n=e.bondStore,i=e.rungBondStore,r=e.getAtomSet(!1),s=e.getAtomProxy(),a=e.getAtomProxy(),o=e.getBondProxy(),c=t?null:function(p){De&&Be.time("calculateAtomBondMap");var A=[];return p.eachBond(function(l){var u=l.atomIndex1,d=l.atomIndex2;A[u]===void 0&&(A[u]=[]),A[u][d]=l.index}),De&&Be.timeEnd("calculateAtomBondMap"),A}(e);e.eachResidue(function(p){if(!t&&c){var A=p.atomCount,l=p.atomOffset;if(A>500)return void Be.warn("more than 500 atoms, skip residue for auto-bonding",p.qualifiedName());for(var u=p.getBonds(),d=u.atomIndices1,m=u.atomIndices2,y=u.bondOrders,g=d.length,E=0;E<g;++E){var w=d[E],b=m[E],_=w+l,C=b+l,T=c[_];T!==void 0&&T[C]!==void 0?(o.index=T[C],y[p.residueType.getBondIndex(w,b)]=o.bondOrder):(s.index=_,a.index=C,n.addBond(s,a,y[E]))}}var x=p.residueType.traceAtomIndex,O=p.residueType.rungEndAtomIndex;x!==-1&&O!==-1&&(s.index=p.traceAtomIndex,a.index=p.rungEndAtomIndex,i.addBond(s,a),r.set(s.index),r.set(a.index))}),e.atomSetDict.rung=r,De&&Be.timeEnd("calculateBondsWithin")}function pu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),De&&Be.time("calculateBondsBetween");var i=e.bondStore,r=e.backboneBondStore,s=e.getAtomSet(!1),a=e.getAtomProxy(),o=e.getAtomProxy();function c(u,d){var m=u.backboneType,y=d.backboneType;m!==0&&m===y&&(a.index=u.backboneEndAtomIndex,o.index=d.backboneStartAtomIndex,(n&&a.hasBondTo(o)||a.connectedTo(o))&&(t||i.addBond(a,o,1),a.index=u.traceAtomIndex,o.index=d.traceAtomIndex,r.addBond(a,o),s.set(a.index),s.set(o.index)))}r.count===0&&r.resize(e.residueStore.count),e.eachResidueN(2,c);var p=e.getResidueProxy(),A=e.getResidueProxy();if(e.eachChain(function(u){u.residueCount!==0&&(p.index=u.residueOffset,A.index=u.residueOffset+u.residueCount-1,c(A,p))}),e.atomSetDict.backbone=s,!t){De&&Be.time("calculateBondsBetween inter");var l=e.spatialHash;e.eachResidue(function(u){u.backboneType!==0||u.isWater()||u.eachAtom(function(d){d.isMetal()||l.eachWithin(d.x,d.y,d.z,4,function(m){o.index=m,d.modelIndex!==o.modelIndex||d.residueIndex===o.residueIndex||o.isMetal()||i.addBondIfConnected(d,o,1)})})}),De&&Be.timeEnd("calculateBondsBetween inter")}De&&Be.timeEnd("calculateBondsBetween")}function sE(e){if(e.unitcell){De&&Be.time("buildUnitcellAssembly");var t=e.unitcell,n=e.center.clone().applyMatrix4(t.cartToFrac),i=n.clone().floor(),r=function(g){var E=Nee[g],w={};if(E===void 0)return console.warn("spacegroup '"+g+"' not found in symop library"),w;for(var b=[],_=0,C=E.length;_<C;_+=3){for(var T=[],x=0;x<3;++x)T.push(Fee[E[_+x]]);b.push(T)}return b.forEach(function(O){var M=0,H=new Xe().set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),R=H.elements;w[O.toString()]=H,O.forEach(function(D){for(var P=!1,I=!1,L=0,k=D.length;L<k;++L){var K=D[L];if(K==="-")P=!0;else if(K==="+")P=!1;else if(K==="/")I=!0;else if(K==="X")R[0+M]=P?-1:1;else if(K==="Y")R[4+M]=P?-1:1;else if(K==="Z")R[8+M]=P?-1:1;else if(Pee.test(K)){var W=parseInt(K);I?R[12+M]/=W:R[12+M]=W}else Be.warn("getSymmetryOperations: unknown token '"+K+"'")}M+=1})}),w}(t.spacegroup),s=new F,a=new F,o=new tr("UNITCELL"),c=y(),p=[];if(e.biomolDict.NCS){p.push.apply(p,[new Xe].concat(e.biomolDict.NCS.partList[0].matrixList));var A=[];c.forEach(function(g){p.forEach(function(E){A.push(g.clone().multiply(E))})}),o.addPart(A)}else o.addPart(c);var l=new F,u=new tr("SUPERCELL"),d=Array.prototype.concat.call(y(l.set(1,0,0)),y(l.set(0,1,0)),y(l.set(0,0,1)),y(l.set(-1,0,0)),y(l.set(0,-1,0)),y(l.set(0,0,-1)),y(l.set(1,1,0)),y(l.set(1,0,1)),y(l.set(0,1,1)),y(l.set(-1,-1,0)),y(l.set(-1,0,-1)),y(l.set(0,-1,-1)),y(l.set(1,-1,-1)),y(l.set(1,1,-1)),y(l.set(1,-1,1)),y(l.set(-1,1,1)),y(l.set(-1,-1,1)),y(l.set(-1,1,-1)),y(l.set(0,1,-1)),y(l.set(0,-1,1)),y(l.set(1,0,-1)),y(l.set(-1,0,1)),y(l.set(1,-1,0)),y(l.set(-1,1,0)),y(),y(l.set(1,1,1)),y(l.set(-1,-1,-1)));if(e.biomolDict.NCS){var m=[];d.forEach(function(g){p.forEach(function(E){m.push(g.clone().multiply(E))})}),u.addPart(m)}else u.addPart(d);e.biomolDict.UNITCELL=o,e.biomolDict.SUPERCELL=u,De&&Be.timeEnd("buildUnitcellAssembly")}function y(g){var E=[];return Object.keys(r).forEach(function(w){var b=r[w].clone();s.copy(n).applyMatrix4(b).floor(),a.setFromMatrixPosition(b),a.sub(s),a.add(i),g&&a.add(g),b.setPosition(a),b.multiplyMatrices(t.fracToCart,b),b.multiply(t.cartToFrac),E.push(b)}),E}}var AT=["H","C","O","N","S","P"],Hee=["NA","CL","FE"];function N_(e){var t=e.trim().toUpperCase();parseInt(t.charAt(0))>-1&&(t=t.substr(1)),parseInt(t.charAt(0))>-1&&(t=t.substr(1));var n=t.length;if(n===0)return"";if(n===1)return t;if(n===2){if(Hee.indexOf(t)!==-1)return t;if(AT.indexOf(t[0])!==-1)return t[0]}return n>=3&&AT.indexOf(t[0])!==-1?t[0]:""}function eA(e){var t=e.bondHash,n=t.countArray,i=t.offsetArray,r=t.indexArray,s=e.getBondProxy();e.eachResidue(function(a){var o=a.residueType;if(o.bonds===void 0){var c=a.atomOffset,p=[],A=[],l=[],u={},d=c+a.atomCount;a.eachAtom(function(m){for(var y=m.index,g=i[y],E=0,w=n[y];E<w;++E){s.index=r[g+E];var b=s.atomIndex1;if(!(b<c||b>=d)){var _=s.atomIndex2;if(!(_<c||_>=d)){if(b>_){var C=_;_=b,b=C}var T=b+"|"+_;u[T]===void 0&&(u[T]=!0,p.push(b-c),A.push(_-c),l.push(s.bondOrder))}}}}),o.bonds={atomIndices1:p,atomIndices2:A,bondOrders:l}}})}var Dee=[3,11,19,37,55,87],Gee=[4,12,20,38,56,88],Qee=[6,15,16,34],kee=[1,7,8,9,17,35,53],Vee=[2,10,18,36,54,86],Kee=[13,30,31,48,49,50,80,81,82,83,84,85,112],zee=[5,14,32,33,51,52,85],Yee=[9,17,35,53,85],Zi=function(e,t,n){this.structure=e,this.atomname=t,n=n||N_(t),this.element=n,this.number=IJ[n]||0,this.vdw=FJ[this.number]||2,this.covalent=NJ[this.number]||1.6};Zi.prototype.getDefaultValence=function(){var e=Yx[this.number];return e?e[0]:-1},Zi.prototype.getValenceList=function(){return Yx[this.number]||[]},Zi.prototype.getOuterShellElectronCount=function(){return PJ[this.number]||2},Zi.prototype.isMetal=function(){return this.isAlkaliMetal()||this.isAlkalineEarthMetal()||this.isLanthanide()||this.isActinide()||this.isTransitionMetal()||this.isPostTransitionMetal()},Zi.prototype.isNonmetal=function(){return this.isDiatomicNonmetal()||this.isPolyatomicNonmetal()||this.isNobleGas()},Zi.prototype.isMetalloid=function(){return zee.includes(this.number)},Zi.prototype.isHalogen=function(){return Yee.includes(this.number)},Zi.prototype.isDiatomicNonmetal=function(){return kee.includes(this.number)},Zi.prototype.isPolyatomicNonmetal=function(){return Qee.includes(this.number)},Zi.prototype.isAlkaliMetal=function(){return Dee.includes(this.number)},Zi.prototype.isAlkalineEarthMetal=function(){return Gee.includes(this.number)},Zi.prototype.isNobleGas=function(){return Vee.includes(this.number)},Zi.prototype.isTransitionMetal=function(){var e=this.number;return e>=21&&e<=29||e>=39&&e<=47||e>=72&&e<=79||e>=104&&e<=108},Zi.prototype.isPostTransitionMetal=function(){return Kee.includes(this.number)},Zi.prototype.isLanthanide=function(){return this.number>=57&&this.number<=71},Zi.prototype.isActinide=function(){return this.number>=89&&this.number<=103};var B4=function(e){this.structure=e,this.dict={},this.list=[],this.structure=e};B4.prototype.add=function(e,t){var n=function(s,a){return s+"|"+a}(e=e.toUpperCase(),t=t?t.toUpperCase():N_(e)),i=this.dict[n];if(i===void 0){var r=new Zi(this.structure,e,t);i=this.list.length,this.dict[n]=i,this.list.push(r)}return i},B4.prototype.get=function(e){return this.list[e]};var hn=function(e,t,n,i,r,s){this.structure=e,this.bondReferenceAtomIndices=[],this.resname=t,this.atomTypeIdList=n,this.hetero=i?1:0,this.chemCompType=r,this.bonds=s,this.atomCount=n.length,this.moleculeType=this.getMoleculeType(),this.backboneType=this.getBackboneType(0),this.backboneEndType=this.getBackboneType(-1),this.backboneStartType=this.getBackboneType(1),this.backboneIndexList=this.getBackboneIndexList();var a=la[this.backboneType],o=la[this.backboneStartType],c=la[this.backboneEndType],p=this.getAtomIndexByName(a.trace);this.traceAtomIndex=G(p,-1);var A=this.getAtomIndexByName(a.direction1);this.direction1AtomIndex=G(A,-1);var l=this.getAtomIndexByName(a.direction2);this.direction2AtomIndex=G(l,-1);var u=this.getAtomIndexByName(o.backboneStart);this.backboneStartAtomIndex=G(u,-1);var d,m=this.getAtomIndexByName(c.backboneEnd);this.backboneEndAtomIndex=G(m,-1),d=HJ.includes(t)?this.getAtomIndexByName("N1"):this.getAtomIndexByName("N3"),this.rungEndAtomIndex=G(d,-1)};hn.prototype.getBackboneIndexList=function(){var e,t=[];switch(this.moleculeType){case 3:e=QJ;break;case 4:case 5:e=$S;break;default:return t}for(var n=this.structure.atomMap,i=this.atomTypeIdList,r=0,s=this.atomCount;r<s;++r){var a=n.get(i[r]);e.includes(a.atomname)&&t.push(r)}return t},hn.prototype.getMoleculeType=function(){return this.isProtein()?3:this.isRna()?4:this.isDna()?5:this.isWater()?1:this.isIon()?2:this.isSaccharide()?6:0},hn.prototype.getBackboneType=function(e){return this.hasProteinBackbone(e)?1:this.hasRnaBackbone(e)?2:this.hasDnaBackbone(e)?3:this.hasCgProteinBackbone(e)?4:this.hasCgRnaBackbone(e)?5:this.hasCgDnaBackbone(e)?6:0},hn.prototype.isProtein=function(){return this.chemCompType?SJ.includes(this.chemCompType):this.hasAtomWithName("CA","C","N")||bl.includes(this.resname)},hn.prototype.isCg=function(){var e=this.backboneType;return e===4||e===5||e===6},hn.prototype.isNucleic=function(){return this.isRna()||this.isDna()},hn.prototype.isRna=function(){return this.chemCompType?OJ.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C4'","C4*"],["O2'","O2*","F2'","F2*"])||YS.includes(this.resname)&&this.hasAtomWithName(["O2'","O2*","F2'","F2*"]))},hn.prototype.isDna=function(){return this.chemCompType?LJ.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C3'","C3*"])&&!this.hasAtomWithName(["O2'","O2*","F2'","F2*"])||WS.includes(this.resname))},hn.prototype.isHetero=function(){return this.hetero===1},hn.prototype.isIon=function(){return DJ.includes(this.resname)},hn.prototype.isWater=function(){return iE.includes(this.resname)},hn.prototype.isSaccharide=function(){return this.chemCompType?kS.includes(this.chemCompType):GJ.includes(this.resname)},hn.prototype.isStandardAminoacid=function(){return bl.includes(this.resname)},hn.prototype.isStandardBase=function(){return Ff.includes(this.resname)},hn.prototype.hasBackboneAtoms=function(e,t){var n=la[t];return e===-1?this.hasAtomWithName(n.trace,n.backboneEnd,n.direction1,n.direction2):e===0?this.hasAtomWithName(n.trace,n.direction1,n.direction2):e===1?this.hasAtomWithName(n.trace,n.backboneStart,n.direction1,n.direction2):this.hasAtomWithName(n.trace,n.backboneStart,n.backboneEnd,n.direction1,n.direction2)},hn.prototype.hasProteinBackbone=function(e){return this.isProtein()&&this.hasBackboneAtoms(e,1)},hn.prototype.hasRnaBackbone=function(e){return this.isRna()&&this.hasBackboneAtoms(e,2)},hn.prototype.hasDnaBackbone=function(e){return this.isDna()&&this.hasBackboneAtoms(e,3)},hn.prototype.hasCgProteinBackbone=function(e){return this.atomCount<7&&this.isProtein()&&this.hasBackboneAtoms(e,4)},hn.prototype.hasCgRnaBackbone=function(e){return this.atomCount<11&&this.isRna()&&this.hasBackboneAtoms(e,5)},hn.prototype.hasCgDnaBackbone=function(e){return this.atomCount<11&&this.isDna()&&this.hasBackboneAtoms(e,6)},hn.prototype.hasBackbone=function(e){return this.hasProteinBackbone(e)||this.hasRnaBackbone(e)||this.hasDnaBackbone(e)||this.hasCgProteinBackbone(e)||this.hasCgRnaBackbone(e)||this.hasCgDnaBackbone(e)},hn.prototype.getAtomIndexByName=function(e){var t=this.atomCount,n=this.structure.atomMap,i=this.atomTypeIdList;if(Array.isArray(e))for(var r=0;r<t;++r){var s=i[r];if(e.includes(n.get(s).atomname))return r}else for(var a=0;a<t;++a){var o=i[a];if(e===n.get(o).atomname)return a}},hn.prototype.hasAtomWithName=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=e.length,i=0;i<n;++i)if(e[i]!==void 0&&this.getAtomIndexByName(e[i])===void 0)return!1;return!0},hn.prototype.getBonds=function(e){return this.bonds===void 0&&(this.bonds=function(t){var n=t.structure,i=n.getAtomProxy(),r=n.getAtomProxy(),s=t.atomCount,a=t.atomOffset,o=a+s-1,c=[],p=[],A=[];if(s>500)De&&Be.warn("more than 500 atoms, skip residue for auto-bonding",t.qualifiedName());else if(s>50)for(var l=new p7(t,!0),u=t.isCg()?1.2:2.3,d=a;d<o;++d){i.index=d;for(var m=i.covalent+u+.3,y=l.nearest(i,1/0,m*m),g=y.length,E=0;E<g;++E)r.index=y[E].index,i.index<r.index&&i.connectedTo(r)&&(c.push(i.index-a),p.push(r.index-a),A.push(pT(i.resname,i.atomname,r.atomname)))}else for(var w=a;w<o;++w){i.index=w;for(var b=w+1;b<=o;++b)r.index=b,i.connectedTo(r)&&(c.push(w-a),p.push(b-a),A.push(pT(i.resname,i.atomname,r.atomname)))}return{atomIndices1:c,atomIndices2:p,bondOrders:A}}(e)),this.bonds},hn.prototype.getRings=function(){return this.rings===void 0&&this.calculateRings(),this.rings},hn.prototype.getBondGraph=function(){return this.bondGraph===void 0&&this.calculateBondGraph(),this.bondGraph},hn.prototype.getAromatic=function(e){return this.aromaticAtoms===void 0&&this.calculateAromatic(this.structure.getResidueProxy(e.residueIndex)),this.aromaticAtoms},hn.prototype.getAromaticRings=function(e){return this.aromaticRings===void 0&&this.calculateAromatic(e),this.aromaticRings},hn.prototype.calculateBondGraph=function(){for(var e=this.bondGraph={},t=this.getBonds(),n=t.atomIndices1.length,i=t.atomIndices1,r=t.atomIndices2,s=0;s<n;++s){var a=i[s],o=r[s];(e[a]=e[a]||[]).push(o),(e[o]=e[o]||[]).push(a)}},hn.prototype.calculateRings=function(){for(var e=function(n,i){for(var r={count:i,visited:new Int32Array(i),queue:new Int32Array(i),pred:new Int32Array(i),left:new Int32Array(Pf),right:new Int32Array(Pf),color:new Int32Array(i),currentColor:0,rings:[],atomRings:[],bonds:n},s=0;s<i;s++)r.visited[s]=-1,r.pred[s]=-1;return r}(this.getBondGraph(),this.atomCount),t=0;t<e.count;t++)e.visited[t]>=0||jee(e,t);this.rings={atomRings:e.atomRings,rings:e.rings}},hn.prototype.isAromatic=function(e){return this.aromaticAtoms=this.getAromatic(e),this.aromaticAtoms[e.index-e.residueAtomOffset]===1},hn.prototype.calculateAromatic=function(e){var t=this,n=this.aromaticAtoms=new Uint8Array(this.atomCount),i=this.getRings().rings,r=i.map(function(a){return function(o){if(o.some(function(l){return!Wee.includes(l.number)}))return!1;var c=0,p=new Bn(3,o.length),A=p.data;return o.forEach(function(l){A[c+0]=l.x,A[c+1]=l.y,A[c+2]=l.z,c+=3}),new Nf(p).vecC.length()<.05}(a.map(function(o){return t.structure.getAtomProxy(o+e.atomOffset)}))}),s=this.aromaticRings=[];i.forEach(function(a,o){r[o]&&(s.push(a),a.forEach(function(c){return n[c]=1}))})},hn.prototype.assignBondReferenceAtomIndices=function(){var e=this.getBondGraph(),t=this.getRings(),n=t.atomRings,i=t.rings,r=this.bonds,s=r.atomIndices1,a=r.atomIndices2,o=r.bondOrders,c=this.bondReferenceAtomIndices,p=r.atomIndices1.length;c.length=0;for(var A=0;A<p;++A)if(!(o[A]<=1)){var l=void 0,u=s[A],d=a[A],m=n[u],y=n[d];if(m&&y){for(var g=0;g<m.length;g++)if(y.indexOf(m[g])!==-1){l=i[m[g]];break}}if(e[u].length>1)for(var E=0;E<e[u].length;++E){var w=e[u][E];if(w!==d&&(l===void 0||l.indexOf(w)!==-1)){c[A]=w;break}}else if(e[d].length>1)for(var b=0;b<e[d].length;++b){var _=e[d][b];if(_!==u&&(l===void 0||l.indexOf(_)!==-1)){c[A]=_;break}}}},hn.prototype.getBondIndex=function(e,t){for(var n=this.bonds,i=n.atomIndices1,r=n.atomIndices2,s=i.indexOf(e),a=r.indexOf(t),o=a;s!==-1;){for(;a!==-1;){if(s===a)return s;a=r.indexOf(t,a+1)}s=i.indexOf(e,s+1),a=o}},hn.prototype.getBondReferenceAtomIndex=function(e,t){var n=this.getBondIndex(e,t);if(n!==void 0)return this.bondReferenceAtomIndices.length===0&&this.assignBondReferenceAtomIndices(),this.bondReferenceAtomIndices[n]};var Wee=[5,6,7,8,14,15,16,32,33,50,51,83];function $ee(e,t,n){if(!(n<t)){for(var i=e.pred,r=e.color,s=e.left,a=e.right,o=++e.currentColor,c=t,p=0;p<Pf&&(r[c]=o,!((c=i[c])<0));p++);var A=0,l=0,u=!1,d=0;c=n;for(var m=0;m<Pf;m++){if(r[c]===o){d=c,u=!0;break}if(a[l++]=c,(c=i[c])<0)break}if(u){c=t;for(var y=0;y<Pf&&(s[A++]=c,d!==c)&&!((c=i[c])<0);y++);for(var g=A+l,E=new Array(g),w=0,b=0;b<A;b++)E[w++]=s[b];for(var _=l-1;_>=0;_--)E[w++]=a[_];for(var C=e.rings.length,T=0;T<g;++T){var x=E[T];e.atomRings[x]?e.atomRings[x].push(C):e.atomRings[x]=[C]}e.rings.push(E)}}}function jee(e,t){var n=e.bonds,i=e.visited,r=e.queue,s=e.pred;i[t]=1,r[0]=t;for(var a=0,o=1;a<o;){var c=r[a++];if(n[c]!==void 0)for(var p=n[c].length,A=0;A<p;A++){var l=n[c][A];i[l]>0?s[l]!==c&&s[c]!==l&&$ee(e,c,l):(i[l]=1,r[o++]=l,s[l]=c)}}}var Pf=4,M4=function(e){this.structure=e,this.dict={},this.list=[]};M4.prototype.add=function(e,t,n,i,r){i===void 0&&(i="");var s=function(c,p,A,l){return l===void 0&&(l=""),c+"|"+p.join(",")+"|"+(A?1:0)+"|"+l}(e=e.toUpperCase(),t,n,i),a=this.dict[s];if(a===void 0){var o=new hn(this.structure,e,t,n,i,r);a=this.list.length,this.dict[s]=a,this.list.push(o)}return a},M4.prototype.get=function(e){return this.list[e]};var Na=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.bondStore=e.bondStore,this._v12=new F,this._v13=new F,this._ap1=this.structure.getAtomProxy(),this._ap2=this.structure.getAtomProxy(),this._ap3=this.structure.getAtomProxy()},To={atom1:{configurable:!0},atom2:{configurable:!0},atomIndex1:{configurable:!0},atomIndex2:{configurable:!0},bondOrder:{configurable:!0}};To.atom1.get=function(){return this.structure.getAtomProxy(this.atomIndex1)},To.atom2.get=function(){return this.structure.getAtomProxy(this.atomIndex2)},To.atomIndex1.get=function(){return this.bondStore.atomIndex1[this.index]},To.atomIndex1.set=function(e){this.bondStore.atomIndex1[this.index]=e},To.atomIndex2.get=function(){return this.bondStore.atomIndex2[this.index]},To.atomIndex2.set=function(e){this.bondStore.atomIndex2[this.index]=e},To.bondOrder.get=function(){return this.bondStore.bondOrder[this.index]},To.bondOrder.set=function(e){this.bondStore.bondOrder[this.index]=e},Na.prototype.getOtherAtomIndex=function(e){return e===this.atomIndex1?this.atomIndex2:this.atomIndex1},Na.prototype.getOtherAtom=function(e){return this.structure.getAtomProxy(this.getOtherAtomIndex(e.index))},Na.prototype.getReferenceAtomIndex=function(){var e=this._ap1,t=this._ap2;if(e.index=this.atomIndex1,t.index=this.atomIndex2,e.residueIndex===t.residueIndex){var n=e.index-e.residueAtomOffset,i=t.index-t.residueAtomOffset,r=e.residueType.getBondReferenceAtomIndex(n,i);if(r!==void 0)return r+e.residueAtomOffset;console.warn("No reference atom found",e.index,t.index)}},Na.prototype.calculateShiftDir=function(e){e===void 0&&(e=new F);var t=this._ap1,n=this._ap2,i=this._ap3,r=this._v12,s=this._v13;t.index=this.atomIndex1,n.index=this.atomIndex2;var a=this.getReferenceAtomIndex();r.subVectors(t,n).normalize(),a!==void 0?(i.index=a,s.subVectors(t,i)):s.copy(t),s.normalize();var o=r.dot(s);return 1-Math.abs(o)<1e-5&&(s.set(1,0,0),o=r.dot(s),1-Math.abs(o)<1e-5&&(s.set(0,1,0),o=r.dot(s))),e.copy(s.sub(r.multiplyScalar(o))).normalize()},Na.prototype.qualifiedName=function(){return this.atomIndex1+"="+this.atomIndex2},Na.prototype.clone=function(){return new Na(this.structure,this.index)},Na.prototype.toObject=function(){return{atomIndex1:this.atomIndex1,atomIndex2:this.atomIndex2,bondOrder:this.bondOrder}},Object.defineProperties(Na.prototype,To);var vn=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},En={entity:{configurable:!0},entityIndex:{configurable:!0},chain:{configurable:!0},chainIndex:{configurable:!0},atomOffset:{configurable:!0},atomCount:{configurable:!0},atomEnd:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},resno:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},residueType:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},moleculeType:{configurable:!0},backboneType:{configurable:!0},backboneStartType:{configurable:!0},backboneEndType:{configurable:!0},traceAtomIndex:{configurable:!0},direction1AtomIndex:{configurable:!0},direction2AtomIndex:{configurable:!0},backboneStartAtomIndex:{configurable:!0},backboneEndAtomIndex:{configurable:!0},rungEndAtomIndex:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0}};En.entity.get=function(){return this.structure.entityList[this.entityIndex]},En.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},En.chain.get=function(){return this.structure.getChainProxy(this.chainIndex)},En.chainIndex.get=function(){return this.residueStore.chainIndex[this.index]},En.chainIndex.set=function(e){this.residueStore.chainIndex[this.index]=e},En.atomOffset.get=function(){return this.residueStore.atomOffset[this.index]},En.atomOffset.set=function(e){this.residueStore.atomOffset[this.index]=e},En.atomCount.get=function(){return this.residueStore.atomCount[this.index]},En.atomCount.set=function(e){this.residueStore.atomCount[this.index]=e},En.atomEnd.get=function(){return this.atomOffset+this.atomCount-1},En.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},En.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},En.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},En.resno.get=function(){return this.residueStore.resno[this.index]},En.resno.set=function(e){this.residueStore.resno[this.index]=e},En.sstruc.get=function(){return this.residueStore.getSstruc(this.index)},En.sstruc.set=function(e){this.residueStore.setSstruc(this.index,e)},En.inscode.get=function(){return this.residueStore.getInscode(this.index)},En.inscode.set=function(e){this.residueStore.setInscode(this.index,e)},En.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.index])},En.resname.get=function(){return this.residueType.resname},En.hetero.get=function(){return this.residueType.hetero},En.moleculeType.get=function(){return this.residueType.moleculeType},En.backboneType.get=function(){return this.residueType.backboneType},En.backboneStartType.get=function(){return this.residueType.backboneStartType},En.backboneEndType.get=function(){return this.residueType.backboneEndType},En.traceAtomIndex.get=function(){return this.residueType.traceAtomIndex+this.atomOffset},En.direction1AtomIndex.get=function(){return this.residueType.direction1AtomIndex+this.atomOffset},En.direction2AtomIndex.get=function(){return this.residueType.direction2AtomIndex+this.atomOffset},En.backboneStartAtomIndex.get=function(){return this.residueType.backboneStartAtomIndex+this.atomOffset},En.backboneEndAtomIndex.get=function(){return this.residueType.backboneEndAtomIndex+this.atomOffset},En.rungEndAtomIndex.get=function(){return this.residueType.rungEndAtomIndex+this.atomOffset},En.x.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.x[t];return e/this.atomCount},En.y.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.y[t];return e/this.atomCount},En.z.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.z[t];return e/this.atomCount},vn.prototype.eachAtom=function(e,t){var n=this.atomCount,i=this.atomOffset,r=this.structure._ap,s=i+n;if(t&&t.atomOnlyTest)for(var a=t.atomOnlyTest,o=i;o<s;++o)r.index=o,a(r)&&e(r);else for(var c=i;c<s;++c)r.index=c,e(r)},vn.prototype.positionToArray=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t+0]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},vn.prototype.isProtein=function(){return this.residueType.moleculeType===3},vn.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},vn.prototype.isRna=function(){return this.residueType.moleculeType===4},vn.prototype.isDna=function(){return this.residueType.moleculeType===5},vn.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},vn.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},vn.prototype.isHetero=function(){return this.residueType.hetero===1},vn.prototype.isWater=function(){return this.residueType.moleculeType===1},vn.prototype.isIon=function(){return this.residueType.moleculeType===2},vn.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},vn.prototype.isStandardAminoacid=function(){return this.residueType.isStandardAminoacid()},vn.prototype.isStandardBase=function(){return this.residueType.isStandardBase()},vn.prototype.isHelix=function(){return VS.includes(this.sstruc)},vn.prototype.isSheet=function(){return KS.includes(this.sstruc)},vn.prototype.isTurn=function(){return zS.includes(this.sstruc)&&this.isProtein()},vn.prototype.getAtomType=function(e){return this.atomMap.get(this.atomStore.atomTypeId[e])},vn.prototype.getResname1=function(){return nE[this.resname.toUpperCase()]||"X"},vn.prototype.getBackboneType=function(e){switch(e){case-1:return this.residueType.backboneStartType;case 1:return this.residueType.backboneEndType;default:return this.residueType.backboneType}},vn.prototype.getAtomIndexByName=function(e){var t=this.residueType.getAtomIndexByName(e);return t!==void 0&&(t+=this.atomOffset),t},vn.prototype.hasAtomWithName=function(e){return this.residueType.hasAtomWithName(e)},vn.prototype.getAtomnameList=function(){console.warn("getAtomnameList - might be expensive");for(var e=this.atomCount,t=this.atomOffset,n=new Array(e),i=0;i<e;++i)n[i]=this.getAtomType(t+i).atomname;return n},vn.prototype.connectedTo=function(e){var t=this.structure.getAtomProxy(this.backboneEndAtomIndex),n=this.structure.getAtomProxy(e.backboneStartAtomIndex);return!(!t||!n)&&t.connectedTo(n)},vn.prototype.getNextConnectedResidue=function(){var e=this.chainStore.residueOffset[this.chainIndex],t=this.chainStore.residueCount[this.chainIndex],n=this.index+1;if(n<e+t){var i=this.structure.getResidueProxy(n);if(this.connectedTo(i))return i}else if(n===e+t){var r=this.structure.getResidueProxy(e);if(this.connectedTo(r))return r}},vn.prototype.getPreviousConnectedResidue=function(e){var t=this.chainStore.residueOffset[this.chainIndex],n=this.index-1;if(n>=t){var i=G(e,this.structure.getResidueProxy());if(i.index=n,i.connectedTo(this))return i}else if(n===t-1){var r=this.chainStore.residueCount[this.chainIndex],s=G(e,this.structure.getResidueProxy());if(s.index=t+r-1,s.connectedTo(this))return s}},vn.prototype.getBonds=function(){return this.residueType.getBonds(this)},vn.prototype.getRings=function(){return this.residueType.getRings()},vn.prototype.getAromaticRings=function(){return this.residueType.getAromaticRings(this)},vn.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chain&&(t+=":"+this.chainname),t+="/"+this.modelIndex},vn.prototype.clone=function(){return new vn(this.structure,this.index)},vn.prototype.toObject=function(){return{index:this.index,chainIndex:this.chainIndex,atomOffset:this.atomOffset,atomCount:this.atomCount,resno:this.resno,resname:this.resname,sstruc:this.sstruc}},Object.defineProperties(vn.prototype,En);var Vr=function(e,t,n){this.structure=e,this.residueIndexStart=t,this.residueIndexEnd=n,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueCount=n-t+1;var i=this.structure.getResidueProxy(this.residueIndexStart),r=this.structure.getResidueProxy(this.residueIndexEnd);this.isPrevConnected=i.getPreviousConnectedResidue()!==void 0;var s=r.getNextConnectedResidue();this.isNextConnected=s!==void 0,this.isNextNextConnected=s!==void 0&&s.getNextConnectedResidue()!==void 0,this.isCyclic=r.connectedTo(i),this.__residueProxy=this.structure.getResidueProxy()},s1={chainIndex:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0}};s1.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndexStart]},s1.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},s1.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},Vr.prototype.isProtein=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isProtein()},Vr.prototype.isCg=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isCg()},Vr.prototype.isNucleic=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isNucleic()},Vr.prototype.getMoleculeType=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.moleculeType},Vr.prototype.getBackboneType=function(e){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.getBackboneType(e)},Vr.prototype.getAtomIndexByType=function(e,t){this.isCyclic?e===-1?e=this.residueCount-1:e===this.residueCount&&(e=0):(e!==-1||this.isPrevConnected||(e+=1),e!==this.residueCount||this.isNextNextConnected||(e-=1));var n,i=this.__residueProxy;switch(i.index=this.residueIndexStart+e,t){case"trace":n=i.traceAtomIndex;break;case"direction1":n=i.direction1AtomIndex;break;case"direction2":n=i.direction2AtomIndex;break;default:n=i.getAtomIndexByName(t)}return n},Vr.prototype.eachAtom=function(e,t){this.eachResidue(function(n){n.eachAtom(e,t)})},Vr.prototype.eachAtomN=function(e,t,n){for(var i=this.residueCount,r=new Array(e),s=0;s<e;++s)r[s]=this.structure.getAtomProxy(this.getAtomIndexByType(s,n));t.apply(this,r);for(var a=e;a<i;++a){for(var o=1;o<e;++o)r[o-1].index=r[o].index;r[e-1].index=this.getAtomIndexByType(a,n),t.apply(this,r)}},Vr.prototype.eachResidue=function(e){for(var t=this.structure.getResidueProxy(),n=this.residueCount,i=this.residueIndexStart,r=0;r<n;++r)t.index=i+r,e(t)},Vr.prototype.qualifiedName=function(){var e=this.structure.getResidueProxy(this.residueIndexStart),t=this.structure.getResidueProxy(this.residueIndexEnd);return e.qualifiedName()+" - "+t.qualifiedName()},Object.defineProperties(Vr.prototype,s1);var Pa=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore},Pi={entity:{configurable:!0},model:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},residueOffset:{configurable:!0},residueCount:{configurable:!0},residueEnd:{configurable:!0},atomOffset:{configurable:!0},atomEnd:{configurable:!0},atomCount:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0}};Pi.entity.get=function(){return this.structure.entityList[this.entityIndex]},Pi.model.get=function(){return this.structure.getModelProxy(this.modelIndex)},Pi.entityIndex.get=function(){return this.chainStore.entityIndex[this.index]},Pi.entityIndex.set=function(e){this.chainStore.entityIndex[this.index]=e},Pi.modelIndex.get=function(){return this.chainStore.modelIndex[this.index]},Pi.modelIndex.set=function(e){this.chainStore.modelIndex[this.index]=e},Pi.residueOffset.get=function(){return this.chainStore.residueOffset[this.index]},Pi.residueOffset.set=function(e){this.chainStore.residueOffset[this.index]=e},Pi.residueCount.get=function(){return this.chainStore.residueCount[this.index]},Pi.residueCount.set=function(e){this.chainStore.residueCount[this.index]=e},Pi.residueEnd.get=function(){return this.residueOffset+this.residueCount-1},Pi.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},Pi.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},Pi.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},Pi.chainname.get=function(){return this.chainStore.getChainname(this.index)},Pi.chainname.set=function(e){this.chainStore.setChainname(this.index,e)},Pi.chainid.get=function(){return this.chainStore.getChainid(this.index)},Pi.chainid.set=function(e){this.chainStore.setChainid(this.index,e)},Pa.prototype.eachAtom=function(e,t){this.eachResidue(function(n){n.eachAtom(e,t)},t)},Pa.prototype.eachResidue=function(e,t){var n=this.residueCount,i=this.residueOffset,r=this.structure._rp,s=i+n;if(t&&t.test){var a=t.residueOnlyTest;if(a)for(var o=i;o<s;++o)r.index=o,a(r)&&e(r);else for(var c=i;c<s;++c)r.index=c,e(r)}else for(var p=i;p<s;++p)r.index=p,e(r)},Pa.prototype.eachResidueN=function(e,t){var n=this.residueCount,i=this.residueOffset,r=i+n;if(!(n<e)){for(var s=new Array(e),a=0;a<e;++a)s[a]=this.structure.getResidueProxy(i+a);t.apply(this,s);for(var o=i+e;o<r;++o){for(var c=0;c<e;++c)s[c].index+=1;t.apply(this,s)}}},Pa.prototype.eachPolymer=function(e,t){for(var n=0,i=0,r=t?t.residueOnlyTest:void 0,s=this.model.structure,a=this.residueCount,o=this.residueOffset,c=o+a,p=this.structure.getResidueProxy(),A=this.structure.getResidueProxy(o),l=this.structure.getAtomProxy(),u=this.structure.getAtomProxy(),d=!0,m=o+1;m<c;++m){p.index=A.index,A.index=m;var y=d?p.backboneEndType:p.backboneType,g=A.backboneType;d&&(n=p.index,d=!1),i=A.index,y!==0&&y===g?(l.index=p.backboneEndAtomIndex,u.index=A.backboneStartAtomIndex,l&&u&&l.connectedTo(u)&&(!r||r(p)&&r(A))||(p.index-n>1&&e(new Vr(s,n,p.index)),n=i)):(y!==0&&p.index-n>1&&e(new Vr(s,n,p.index)),n=i)}i-n>1&&this.structure.getResidueProxy(n).backboneEndType&&e(new Vr(s,n,i))},Pa.prototype.qualifiedName=function(){return":"+this.chainname+"/"+this.modelIndex},Pa.prototype.clone=function(){return new Pa(this.structure,this.index)},Pa.prototype.toObject=function(){return{index:this.index,residueOffset:this.residueOffset,residueCount:this.residueCount,chainname:this.chainname}},Object.defineProperties(Pa.prototype,Pi);var Ua=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.modelStore=e.modelStore,this.chainStore=e.chainStore,this.residueStore=e.residueStore},Rs={chainOffset:{configurable:!0},chainCount:{configurable:!0},residueOffset:{configurable:!0},atomOffset:{configurable:!0},chainEnd:{configurable:!0},residueEnd:{configurable:!0},atomEnd:{configurable:!0},residueCount:{configurable:!0},atomCount:{configurable:!0}};Rs.chainOffset.get=function(){return this.modelStore.chainOffset[this.index]},Rs.chainOffset.set=function(e){this.modelStore.chainOffset[this.index]=e},Rs.chainCount.get=function(){return this.modelStore.chainCount[this.index]},Rs.chainCount.set=function(e){this.modelStore.chainCount[this.index]=e},Rs.residueOffset.get=function(){return this.chainStore.residueOffset[this.chainOffset]},Rs.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},Rs.chainEnd.get=function(){return this.chainOffset+this.chainCount-1},Rs.residueEnd.get=function(){return this.chainStore.residueOffset[this.chainEnd]+this.chainStore.residueCount[this.chainEnd]-1},Rs.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},Rs.residueCount.get=function(){return this.chainCount===0?0:this.residueEnd-this.residueOffset+1},Rs.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},Ua.prototype.eachAtom=function(e,t){this.eachChain(function(n){n.eachAtom(e,t)},t)},Ua.prototype.eachResidue=function(e,t){this.eachChain(function(n){n.eachResidue(e,t)},t)},Ua.prototype.eachPolymer=function(e,t){if(t&&t.chainOnlyTest){var n=t.chainOnlyTest;this.eachChain(function(i){n(i)&&i.eachPolymer(e,t)})}else this.eachChain(function(i){i.eachPolymer(e,t)})},Ua.prototype.eachChain=function(e,t){var n=this.chainCount,i=this.chainOffset,r=this.structure._cp,s=i+n;if(t&&t.test){var a=t.chainOnlyTest;if(a)for(var o=i;o<s;++o)r.index=o,a(r)&&e(r);else for(var c=i;c<s;++c)r.index=c,e(r)}else for(var p=i;p<s;++p)r.index=p,e(r)},Ua.prototype.qualifiedName=function(){return"/"+this.index},Ua.prototype.clone=function(){return new Ua(this.structure,this.index)},Ua.prototype.toObject=function(){return{index:this.index,chainOffset:this.chainOffset,chainCount:this.chainCount}},Object.defineProperties(Ua.prototype,Rs);var It=function(e,t){e===void 0&&(e=""),t===void 0&&(t=""),this.signals={refreshed:new kt.exports.Signal},this.init(e,t)},lT={type:{configurable:!0}};It.prototype.init=function(e,t){this.name=e,this.path=t,this.title="",this.id="",this.data={structure:this,"@spatialLookup":void 0,"@valenceModel":void 0},this.header={},this.extraData={},this.atomSetCache={},this.atomSetDict={},this.biomolDict={},this.entityList=[],this.unitcell=void 0,this.frames=[],this.boxes=[],this.validation=void 0,this.bondStore=new G1(0),this.backboneBondStore=new G1(0),this.rungBondStore=new G1(0),this.atomStore=new See(0),this.residueStore=new Oee(0),this.chainStore=new Lee(0),this.modelStore=new Ree(0),this.atomMap=new B4(this),this.residueMap=new M4(this),this.bondHash=void 0,this.spatialHash=void 0,this.atomSet=void 0,this.bondSet=void 0,this.center=new F,this.boundingBox=new Yn,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy()},lT.type.get=function(){return"Structure"},It.prototype.finalizeAtoms=function(){this.atomSet=this.getAtomSet(),this.atomCount=this.atomStore.count,this.boundingBox=this.getBoundingBox(void 0,this.boundingBox),this.center=this.boundingBox.getCenter(new F),this.spatialHash=new Jp(this.atomStore,this.boundingBox)},It.prototype.finalizeBonds=function(){for(var e in this.bondSet=this.getBondSet(),this.bondCount=this.bondStore.count,this.bondHash=new Mee(this.bondStore,this.atomStore.count),this.atomSetCache={},this.atomSetDict.rung||(this.atomSetDict.rung=this.getAtomSet(!1)),this.atomSetDict)this.atomSetCache["__"+e]=this.atomSetDict[e].clone()},It.prototype.getBondProxy=function(e){return new Na(this,e)},It.prototype.getAtomProxy=function(e){return new xt(this,e)},It.prototype.getResidueProxy=function(e){return new vn(this,e)},It.prototype.getChainProxy=function(e){return new Pa(this,e)},It.prototype.getModelProxy=function(e){return new Ua(this,e)},It.prototype.getBondSet=function(){var e=this.bondStore.count,t=new Qt(e),n=this.atomSet;if(n)if(n.isAllSet())t.setAll();else if(n.isAllClear())t.clearAll();else for(var i=this.getBondProxy(),r=0;r<e;++r)i.index=r,n.isSet(i.atomIndex1,i.atomIndex2)&&t.set(i.index);else t.setAll();return t},It.prototype.getBackboneBondSet=function(){var e=this.backboneBondStore.count,t=new Qt(e),n=this.atomSetCache.__backbone;if(n){var i=this.getBondProxy();i.bondStore=this.backboneBondStore;for(var r=0;r<e;++r)i.index=r,n.isSet(i.atomIndex1,i.atomIndex2)&&t.set(i.index)}else t.setAll();return t},It.prototype.getRungBondSet=function(){var e=this.rungBondStore.count,t=new Qt(e),n=this.atomSetCache.__rung;if(n){var i=this.getBondProxy();i.bondStore=this.rungBondStore;for(var r=0;r<e;++r)i.index=r,n.isSet(i.atomIndex1,i.atomIndex2)&&t.set(i.index)}else t.setAll();return t},It.prototype.getAtomSet=function(e){var t=this.atomStore.count;if(e===void 0)return new Qt(t,!0);if(e instanceof Qt)return e;if(e===!0)return new Qt(t,!0);if(e&&e.test){var n=e.string;if(n in this.atomSetCache)return this.atomSetCache[n];if(n==="")return new Qt(t,!0);var i=new Qt(t);return this.eachAtom(function(r){i.set(r.index)},e),this.atomSetCache[n]=i,i}return e===!1?new Qt(t):new Qt(t,!0)},It.prototype.getAtomSetWithinSelection=function(e,t){var n=this.spatialHash,i=this.getAtomSet(!1),r=this.getAtomProxy();return n&&this.getAtomSet(e).forEach(function(s){r.index=s,n.within(r.x,r.y,r.z,t).forEach(function(a){i.set(a)})}),i},It.prototype.getAtomSetWithinPoint=function(e,t){var n=e,i=this.getAtomSet(!1);return this.spatialHash&&this.spatialHash.within(n.x,n.y,n.z,t).forEach(function(r){i.set(r)}),i},It.prototype.getAtomSetWithinVolume=function(e,t,n,i,r){var s=new Ps(e,n,i,r),a=s.getDataPosition(),o=a.length,c=s.matrix.getMaxScaleOnAxis(),p=this.getAtomSet(!1);if(!this.spatialHash)return p;for(var A=0;A<o;A+=3)this.spatialHash.within(a[A],a[A+1],a[A+2],c).forEach(function(l){p.set(l)});return p},It.prototype.getAtomSetWithinGroup=function(e){var t=this.atomStore.residueIndex,n=this.getAtomSet(!1),i=this.getResidueProxy();return this.getAtomSet(e).forEach(function(r){i.index=t[r];for(var s=i.atomOffset;s<=i.atomEnd;++s)n.set(s)}),n},It.prototype.getSelection=function(){},It.prototype.getStructure=function(){return this},It.prototype.eachEntity=function(e,t){this.entityList.forEach(function(n){t!==void 0&&n.getEntityType()!==t||e(n)})},It.prototype.eachBond=function(e,t){var n,i=this.getBondProxy();if(t&&t.test&&(n=this.getBondSet(),this.bondSet&&n.intersection(this.bondSet)),n)n.forEach(function(a){i.index=a,e(i)});else for(var r=this.bondStore.count,s=0;s<r;++s)i.index=s,e(i)},It.prototype.eachAtom=function(e,t){if(t&&t.test)this.eachModel(function(s){s.eachAtom(e,t)},t);else for(var n=this.atomStore.count,i=this.getAtomProxy(),r=0;r<n;++r)i.index=r,e(i)},It.prototype.eachResidue=function(e,t){if(t&&t.test){var n=this.modelStore.count,i=this.getModelProxy(),r=t.modelOnlyTest;if(r)for(var s=0;s<n;++s)i.index=s,r(i)&&i.eachResidue(e,t);else for(var a=0;a<n;++a)i.index=a,i.eachResidue(e,t)}else for(var o=this.residueStore.count,c=this.getResidueProxy(),p=0;p<o;++p)c.index=p,e(c)},It.prototype.eachResidueN=function(e,t){var n=this.residueStore.count;if(!(n<e)){for(var i=new Array(e),r=0;r<e;++r)i[r]=this.getResidueProxy(r);t.apply(this,i);for(var s=e;s<n;++s){for(var a=0;a<e;++a)i[a].index+=1;t.apply(this,i)}}},It.prototype.eachPolymer=function(e,t){if(t&&t.modelOnlyTest){var n=t.modelOnlyTest;this.eachModel(function(i){n(i)&&i.eachPolymer(e,t)})}else this.eachModel(function(i){i.eachPolymer(e,t)})},It.prototype.eachChain=function(e,t){if(t&&t.test)this.eachModel(function(s){s.eachChain(e,t)});else for(var n=this.chainStore.count,i=this.getChainProxy(),r=0;r<n;++r)i.index=r,e(i)},It.prototype.eachModel=function(e,t){var n=this.modelStore.count,i=this.getModelProxy();if(t&&t.test){var r=t.modelOnlyTest;if(r)for(var s=0;s<n;++s)i.index=s,r(i)&&e(i);else for(var a=0;a<n;++a)i.index=a,e(i)}else for(var o=0;o<n;++o)i.index=o,e(i)},It.prototype.getAtomData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var n,i,r=t.what,s=G(t.atomSet,this.atomSet),a={},o=this.getAtomProxy(),c=s.getSize();r&&!r.position||(a.position=new Float32Array(3*c)),r&&!r.color||!t.colorParams||(a.color=new Float32Array(3*c),i=on.getScheme(t.colorParams)),r&&!r.picking||(a.picking=new tA(new Float32Array(c),this.getStructure())),r&&!r.radius||(a.radius=new Float32Array(c),n=new Ja(t.radiusParams)),r&&!r.index||(a.index=new Uint32Array(c));var p=a.position,A=a.color,l=a.picking,u=a.radius,d=a.index;return s.forEach(function(m,y){var g=3*y;o.index=m,p&&o.positionToArray(p,g),A&&i.atomColorToArray(o,A,g),l&&(l.array[y]=m),u&&(u[y]=n.atomRadius(o)),d&&(d[y]=m)}),a},It.prototype.getBondData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var n,i,r=t.what,s=G(t.bondSet,this.bondSet),a=G(t.multipleBond,"off"),o=a!=="off",c=a==="offset",p=G(t.bondScale,.4),A=G(t.bondSpacing,1),l={},u=this.getBondProxy();t.bondStore&&(u.bondStore=t.bondStore);var d,m=this.getAtomProxy(),y=this.getAtomProxy();if(o){var g=u.bondStore.bondOrder;d=0,s.forEach(function(W){d+=g[W]})}else d=s.getSize();r&&!r.position||(l.position1=new Float32Array(3*d),l.position2=new Float32Array(3*d)),r&&!r.color||!t.colorParams||(l.color=new Float32Array(3*d),l.color2=new Float32Array(3*d),i=on.getScheme(t.colorParams)),r&&!r.picking||(l.picking=new XS(new Float32Array(d),this.getStructure(),t.bondStore)),(!r||r.radius||o&&r.position)&&(n=new Ja(t.radiusParams)),r&&!r.radius||(l.radius=new Float32Array(d),t.radius2&&(l.radius2=new Float32Array(d)));var E,w,b,_,C,T,x=l.position1,O=l.position2,M=l.color,H=l.color2,R=l.picking,D=l.radius,P=l.radius2,I=0,L=new F,k=new F,K=new F;return s.forEach(function(W){if(w=3*I,u.index=W,m.index=u.atomIndex1,y.index=u.atomIndex2,_=u.bondOrder,x)if(o&&_>1){var ee=n.atomRadius(m);T=ee*p/(.5*_),u.calculateShiftDir(K),c?(C=2*A*ee,K.multiplyScalar(C),K.negate(),k.subVectors(y,m).multiplyScalar(Math.max(.1,C/1.88)),m.positionToArray(x,w),y.positionToArray(O,w),_>=2&&(L.addVectors(m,K).add(k).toArray(x,w+3),L.addVectors(y,K).sub(k).toArray(O,w+3),_>=3&&(L.subVectors(m,K).add(k).toArray(x,w+6),L.subVectors(y,K).sub(k).toArray(O,w+6)))):(C=(A-p)*ee,K.multiplyScalar(C),_===2?(L.addVectors(m,K).toArray(x,w),L.subVectors(m,K).toArray(x,w+3),L.addVectors(y,K).toArray(O,w),L.subVectors(y,K).toArray(O,w+3)):_===3?(m.positionToArray(x,w),L.addVectors(m,K).toArray(x,w+3),L.subVectors(m,K).toArray(x,w+6),y.positionToArray(O,w),L.addVectors(y,K).toArray(O,w+3),L.subVectors(y,K).toArray(O,w+6)):(m.positionToArray(x,w),y.positionToArray(O,w)))}else m.positionToArray(x,w),y.positionToArray(O,w);if(M&&H&&(i.bondColorToArray(u,1,M,w),i.bondColorToArray(u,0,H,w),o&&_>1))for(E=1;E<_;++E)Cx(M,w,b=3*E+w,3),Cx(H,w,b,3);if(R&&R.array&&(R.array[I]=W,o&&_>1))for(E=1;E<_;++E)R.array[I+E]=W;if(D&&(D[I]=n.atomRadius(m),o&&_>1))for(T=D[I]*p/(c?1:.5*_),E=c?1:0;E<_;++E)D[I+E]=T;if(P&&(P[I]=n.atomRadius(y),o&&_>1))for(T=P[I]*p/(c?1:.5*_),E=c?1:0;E<_;++E)P[I+E]=T;I+=o?_:1}),l},It.prototype.getBackboneAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__backbone},e),this.getAtomData(e)},It.prototype.getBackboneBondData=function(e){return e=Object.assign({bondSet:this.getBackboneBondSet(),bondStore:this.backboneBondStore},e),this.getBondData(e)},It.prototype.getRungAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__rung},e),this.getAtomData(e)},It.prototype.getRungBondData=function(e){return e=Object.assign({bondSet:this.getRungBondSet(),bondStore:this.rungBondStore},e),this.getBondData(e)},It.prototype.getBoundingBox=function(e,t){De&&Be.time("getBoundingBox"),t=t||new Yn;var n=1/0,i=1/0,r=1/0,s=-1/0,a=-1/0,o=-1/0;return this.eachAtom(function(c){var p=c.x,A=c.y,l=c.z;p<n&&(n=p),A<i&&(i=A),l<r&&(r=l),p>s&&(s=p),A>a&&(a=A),l>o&&(o=l)},e),t.min.set(n,i,r),t.max.set(s,a,o),De&&Be.timeEnd("getBoundingBox"),t},It.prototype.getPrincipalAxes=function(e){De&&Be.time("getPrincipalAxes");var t=0,n=new Bn(3,this.atomCount),i=n.data;return this.eachAtom(function(r){i[t+0]=r.x,i[t+1]=r.y,i[t+2]=r.z,t+=3},e),De&&Be.timeEnd("getPrincipalAxes"),new Nf(n)},It.prototype.atomCenter=function(e){return e?this.getBoundingBox(e).getCenter(new F):this.center.clone()},It.prototype.hasCoords=function(){if(this._hasCoords===void 0){var e=this.atomStore;this._hasCoords=R1(e.x)!==0||L1(e.x)!==0||R1(e.y)!==0||L1(e.y)!==0||R1(e.z)!==0||L1(e.z)!==0||e.count/this.modelStore.count==1}return this._hasCoords},It.prototype.getSequence=function(e){var t=[],n=this.getResidueProxy();return this.eachAtom(function(i){n.index=i.residueIndex,i.index===n.traceAtomIndex&&t.push(n.getResname1())},e),t},It.prototype.getAtomIndices=function(e){if(e&&e.string){var t=[];return this.eachAtom(function(n){t.push(n.index)},e),new Uint32Array(t)}return this.getAtomData({what:{index:!0}}).index},It.prototype.getChainnameCount=function(e){var t=new Set;return this.eachChain(function(n){n.residueCount&&t.add(n.chainname)},e),t.size},It.prototype.updatePosition=function(e){var t=0;this.eachAtom(function(n){n.positionFromArray(e,t),t+=3},void 0),this._hasCoords=void 0},It.prototype.refreshPosition=function(){this.getBoundingBox(void 0,this.boundingBox),this.boundingBox.getCenter(this.center),this.spatialHash=new Jp(this.atomStore,this.boundingBox)},It.prototype.dispose=function(){this.frames&&(this.frames.length=0),this.boxes&&(this.boxes.length=0),this.bondStore.dispose(),this.backboneBondStore.dispose(),this.rungBondStore.dispose(),this.atomStore.dispose(),this.residueStore.dispose(),this.chainStore.dispose(),this.modelStore.dispose(),delete this.bondSet,delete this.atomSet},Object.defineProperties(It.prototype,lT);var uT=new Yn,S4=[UE,qp,HE,Zp,eu,NE,Jl,PE,tE,DE,Ld,Rd],Xee={aspectRatio:1.5,sphereDetail:2,radialSegments:50,disableImpostor:!1,openEnded:!1,dashedCylinder:!1,labelParams:{},pointSize:2,sizeAttenuation:!1,useTexture:!0,linewidth:2},Ui=function(e,t){var n=this;e===void 0&&(e="shape"),t===void 0&&(t={}),this.boundingBox=new Yn,this.bufferList=[],this.meshCount=0,this._primitiveData={},this.name=e,this.parameters=Es(t,Xee),S4.forEach(function(i){Object.keys(i.fields).forEach(function(r){n._primitiveData[i.getShapeKey(r)]=[]}),n._primitiveData[i.getShapeKey("name")]=[]})},Gg={center:{configurable:!0},type:{configurable:!0}};Ui.prototype.addBuffer=function(e){this.bufferList.push(e);var t=e.geometry;return t.boundingBox||t.computeBoundingBox(),this.boundingBox.union(t.boundingBox),this},Ui.prototype.addMesh=function(e,t,n,i,r){var s;e=dg(e),t=dg(t),Array.isArray(n)&&(n=Za(n,e.length)),i&&(i=dg(i)),s=i===void 0||i.length==0?{position:e,color:t,index:n}:{position:e,color:t,index:n,normal:i};var a=new dee(this,Object.assign({serial:this.meshCount,name:r},s)),o=new zo(Object.assign({picking:a},s));return this.bufferList.push(o),uT.setFromArray(e),this.boundingBox.union(uT),this.meshCount+=1,this},Ui.prototype.addSphere=function(e,t,n,i){return Jl.objectToShape(this,{position:e,color:t,radius:n,name:i}),this},Ui.prototype.addEllipsoid=function(e,t,n,i,r,s){return eu.objectToShape(this,{position:e,color:t,radius:n,majorAxis:i,minorAxis:r,name:s}),this},Ui.prototype.addTorus=function(e,t,n,i,r,s){return DE.objectToShape(this,{position:e,color:t,radius:n,majorAxis:i,minorAxis:r,name:s}),this},Ui.prototype.addCylinder=function(e,t,n,i,r){return Zp.objectToShape(this,{position1:e,position2:t,color:n,radius:i,name:r}),this},Ui.prototype.addCone=function(e,t,n,i,r){return HE.objectToShape(this,{position1:e,position2:t,color:n,radius:i,name:r}),this},Ui.prototype.addArrow=function(e,t,n,i,r){return UE.objectToShape(this,{position1:e,position2:t,color:n,radius:i,name:r}),this},Ui.prototype.addBox=function(e,t,n,i,r,s){return qp.objectToShape(this,{position:e,color:t,size:n,heightAxis:i,depthAxis:r,name:s}),this},Ui.prototype.addOctahedron=function(e,t,n,i,r,s){return NE.objectToShape(this,{position:e,color:t,size:n,heightAxis:i,depthAxis:r,name:s}),this},Ui.prototype.addTetrahedron=function(e,t,n,i,r,s){return PE.objectToShape(this,{position:e,color:t,size:n,heightAxis:i,depthAxis:r,name:s}),this},Ui.prototype.addText=function(e,t,n,i){return tE.objectToShape(this,{position:e,color:t,size:n,text:i}),this},Ui.prototype.addPoint=function(e,t,n){return Ld.objectToShape(this,{position:e,color:t,name:n}),this},Ui.prototype.addWideline=function(e,t,n,i,r){return this.parameters.linewidth=i,Rd.objectToShape(this,{position1:e,position2:t,color:n,name:r}),this},Ui.prototype.addLabel=function(e,t,n,i){return console.warn("Shape.addLabel is deprecated, use .addText instead"),this.addText(e,t,n,i)},Ui.prototype.getBufferList=function(){var e=this,t=[];return S4.forEach(function(n){e._primitiveData[n.getShapeKey("color")].length&&t.push(n.bufferFromShape(e,e.parameters))}),this.bufferList.concat(t)},Ui.prototype.dispose=function(){var e=this;this.bufferList.forEach(function(t){t.dispose()}),this.bufferList.length=0,S4.forEach(function(t){Object.keys(t.fields).forEach(function(n){e._primitiveData[t.getShapeKey(n)].length=0}),e._primitiveData[t.getShapeKey("name")].length=0})},Gg.center.get=function(){return this._center||(this._center=this.boundingBox.getCenter(new F)),this._center},Gg.type.get=function(){return"Shape"},Object.defineProperties(Ui.prototype,Gg);var fT=function(e){function t(n,i,r){Array.isArray(n)||(n=[n]),e.call(this,n,i,r),this.type="buffer",this.parameters=Object.assign({},this.parameters,{colorScheme:null,colorScale:null,colorValue:null,colorDomain:null,colorMode:null}),this.buffer=n,this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){e.prototype.init.call(this,n),this.build()},t.prototype.create=function(){this.bufferList.push.apply(this.bufferList,this.buffer)},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r),r.setParameters(i.getBufferParams())}),this.setVisibility(this.visible),n()},t}(xi),a1=new Xe,dT=new rr,Xc=function(e){function t(n,i,r){i===void 0&&(i={}),e.call(this,function(A,l){var u,d=l.attributes.position.array,m=l.index?l.index.array:void 0,y=A.position.length/3,g=d.length/3,E=y*g,w=new Float32Array(3*E),b=new Float32Array(3*E),_=new Float32Array(3*E);return m&&(u=Za(y*m.length,E)),{position:w,color:_,index:u,normal:b,primitiveId:A.primitiveId||m4(y,g),picking:A.picking}}(n,r),i),this.updateNormals=!1;var s=r.attributes.position.array,a=r.attributes.normal.array,o=r.index?r.index.array:void 0;this.geoPosition=s,this.geoNormal=a,this.geoIndex=o,this.positionCount=n.position.length/3,this.geoPositionCount=s.length/3,this.transformedGeoPosition=new Float32Array(3*this.geoPositionCount),this.transformedGeoNormal=new Float32Array(3*this.geoPositionCount);var c=this.geometry.attributes;if(this.meshPosition=c.position.array,this.meshColor=c.color.array,this.meshNormal=c.normal.array,this.setAttributes(n),o){var p=this.geometry.getIndex();if(!p)return void Be.error("Index is null");this.meshIndex=p.array,this.makeIndex()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var r,s,a,o,c,p,A,l,u,d=this.geometry.attributes,m=this.updateNormals;n.position&&(r=n.position,a=this.geoPosition,A=this.meshPosition,c=this.transformedGeoPosition,d.position.needsUpdate=!0,(m||i)&&(o=this.geoNormal,u=this.meshNormal,p=this.transformedGeoNormal,d.normal.needsUpdate=!0)),n.color&&(s=n.color,l=this.meshColor,d.color.needsUpdate=!0);for(var y=this.positionCount,g=this.geoPositionCount,E=0;E<y;++E){var w=void 0,b=void 0,_=E*g*3,C=3*E;if(r&&c&&A&&u&&a&&o&&(c.set(a),a1.makeTranslation(r[C],r[C+1],r[C+2]),this.applyPositionTransform(a1,E,C),IE(a1.elements,c),A.set(c,_),m&&p?(p.set(o),dT.getNormalMatrix(a1),O_(dT.elements,p),u.set(p,_)):i&&u.set(o,_)),s&&l)for(w=0;w<g;++w)l[b=_+3*w]=s[C],l[b+1]=s[C+1],l[b+2]=s[C+2]}},t.prototype.makeIndex=function(){var n=this.geoIndex,i=this.meshIndex;if(n)for(var r=this.positionCount,s=this.geoPositionCount,a=3*(n.length/3),o=0;o<r;++o){var c=o*a,p=c+a;i.set(n,c);for(var A=c;A<p;++A)i[A]+=o*s}},t}(zo),hT=new F,u7=Object.assign({sphereDetail:1},Fr),qee=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r,new $p(1,G(r.sphereDetail,1))),this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return u7},t.prototype.applyPositionTransform=function(i,r){var s=this._radius[r];hT.set(s,s,s),i.scale(hT)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.radius&&(this._radius=i.radius),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(Xc);Cn.add("shader/SphereImpostor.vert",`uniform mat4 projectionMatrixInverse;
uniform float clipNear;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
attribute vec2 mapping;
attribute float radius;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
#include matrix_scale
const mat4 D = mat4(
1.0, 0.0, 0.0, 0.0,
0.0, 1.0, 0.0, 0.0,
0.0, 0.0, 1.0, 0.0,
0.0, 0.0, 0.0, -1.0
);
mat4 transposeM( in mat4 inMatrix ) {
vec4 i0 = inMatrix[0];
vec4 i1 = inMatrix[1];
vec4 i2 = inMatrix[2];
vec4 i3 = inMatrix[3];
mat4 outMatrix = mat4(
vec4(i0.x, i1.x, i2.x, i3.x),
vec4(i0.y, i1.y, i2.y, i3.y),
vec4(i0.z, i1.z, i2.z, i3.z),
vec4(i0.w, i1.w, i2.w, i3.w)
);
return outMatrix;
}
void ComputePointSizeAndPositionInClipCoordSphere(){
vec2 xbc;
vec2 ybc;
mat4 T = mat4(
radius, 0.0, 0.0, 0.0,
0.0, radius, 0.0, 0.0,
0.0, 0.0, radius, 0.0,
position.x, position.y, position.z, 1.0
);
mat4 R = transposeM( projectionMatrix * modelViewMatrix * T );
float A = dot( R[ 3 ], D * R[ 3 ] );
float B = -2.0 * dot( R[ 0 ], D * R[ 3 ] );
float C = dot( R[ 0 ], D * R[ 0 ] );
xbc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
xbc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sx = abs( xbc[ 0 ] - xbc[ 1 ] ) * 0.5;
A = dot( R[ 3 ], D * R[ 3 ] );
B = -2.0 * dot( R[ 1 ], D * R[ 3 ] );
C = dot( R[ 1 ], D * R[ 1 ] );
ybc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
ybc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sy = abs( ybc[ 0 ] - ybc[ 1 ] ) * 0.5;
gl_Position.xy = vec2( 0.5 * ( xbc.x + xbc.y ), 0.5 * ( ybc.x + ybc.y ) );
gl_Position.xy -= mapping * vec2( sx, sy );
gl_Position.xy *= gl_Position.w;
}
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
vRadius = radius * matrixScale( modelViewMatrix );
vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
mvPosition.z -= vRadius;
gl_Position = projectionMatrix * vec4( mvPosition.xyz, 1.0 );
ComputePointSizeAndPositionInClipCoordSphere();
vRadiusSq = vRadius * vRadius;
vec4 vPoint4 = projectionMatrixInverse * gl_Position;
vPoint = vPoint4.xyz / vPoint4.w;
vPointViewPosition = -mvPosition.xyz / mvPosition.w;
}`),Cn.add("shader/SphereImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool flag2 = false;
bool interior = false;
vec3 cameraPos;
vec3 cameraNormal;
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
bool Impostor( out vec3 cameraPos, out vec3 cameraNormal ){
vec3 cameraSpherePos = -vPointViewPosition;
cameraSpherePos.z += vRadius;
vec3 rayOrigin = mix( vec3( 0.0, 0.0, 0.0 ), vPoint, ortho );
vec3 rayDirection = mix( normalize( vPoint ), vec3( 0.0, 0.0, 1.0 ), ortho );
vec3 cameraSphereDir = mix( cameraSpherePos, rayOrigin - cameraSpherePos, ortho );
float B = dot( rayDirection, cameraSphereDir );
float det = B * B + vRadiusSq - dot( cameraSphereDir, cameraSphereDir );
if( det < 0.0 ){
discard;
return false;
}
float sqrtDet = sqrt( det );
float posT = mix( B + sqrtDet, B + sqrtDet, ortho );
float negT = mix( B - sqrtDet, sqrtDet - B, ortho );
cameraPos = rayDirection * negT + rayOrigin;
#ifdef NEAR_CLIP
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}else if( calcClip( cameraPos ) > 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
flag2 = true;
}
#else
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}
#endif
cameraNormal = normalize( cameraPos - cameraSpherePos );
cameraNormal *= float(!interior) * 2.0 - 1.0;
return !interior;
}
void main(void){
bool flag = Impostor( cameraPos, cameraNormal );
#ifdef NEAR_CLIP
if( calcClip( cameraPos ) > 0.0 )
discard;
#endif
gl_FragDepthEXT = calcDepth( cameraPos );
if( !flag ){
#ifdef NEAR_CLIP
if( flag2 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}else if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#else
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#endif
}
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vNormal = cameraNormal;
vec3 vViewPosition = -cameraPos;
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var P_=function(e){function t(i,r,s){s===void 0&&(s={}),e.call(this,r,s),this.index=Za(this.indexSize,this.attributeSize),this.makeIndex(),this.initIndex(this.index),this.addAttributes({mapping:{type:i,value:null}}),this.setAttributes({primitiveId:ou(this.size)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={attributeSize:{configurable:!0},indexSize:{configurable:!0}};return n.attributeSize.get=function(){return this.size*this.mappingSize},n.indexSize.get=function(){return this.size*this.mappingIndicesSize},t.prototype.addAttributes=function(i){var r={};for(var s in i){var a=i[s];r[s]={type:a.type,value:null}}e.prototype.addAttributes.call(this,r)},t.prototype.getAttributeIndex=function(i){return 3*i*this.mappingSize},t.prototype.setAttributes=function(i){i&&!i.position&&i.position1&&i.position2&&(i.position=Ya(i.position1,i.position2));var r,s,a,o,c,p,A,l=this.size,u=this.mappingSize,d=this.geometry.attributes;for(var m in i)if(m!=="index"&&m!=="picking"){s=i[m],a=(r=d[m]).itemSize,o=r.array;for(var y=0;y<l;++y){p=(c=y*a)*u;for(var g=0;g<u;++g){A=p+a*g;for(var E=0;E<a;++E)o[A+E]=s[c+E]}}r.needsUpdate=!0}},t.prototype.makeMapping=function(){for(var i=this.size,r=this.mapping,s=this.mappingSize,a=this.mappingItemSize,o=this.geometry.attributes.mapping.array,c=0;c<i;c++)o.set(r,c*a*s)},t.prototype.makeIndex=function(){for(var i=this.size,r=this.mappingSize,s=this.mappingIndices,a=this.mappingIndicesSize,o=this.index,c=0;c<i;c++){var p=c*a,A=c*r;o.set(s,p);for(var l=0;l<a;++l)o[p+l]+=A}},Object.defineProperties(t.prototype,n),t}(un),Zee=new Float32Array([-1,1,-1,-1,1,1,1,-1]),Jee=new Uint16Array([0,1,2,1,3,2]),U_=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,"v2",i,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return Zee},n.mappingIndices.get=function(){return Jee},n.mappingIndicesSize.get=function(){return 6},n.mappingSize.get=function(){return 4},n.mappingItemSize.get=function(){return 2},Object.defineProperties(t.prototype,n),t}(P_),ete=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i),this.isImpostor=!0,this.vertexShader="SphereImpostor.vert",this.fragmentShader="SphereImpostor.frag",this.addUniforms({projectionMatrixInverse:{value:new Xe},ortho:{value:0}}),this.addAttributes({radius:{type:"f",value:null}}),this.setAttributes(n),this.makeMapping()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(U_);Object.assign({disableImpostor:!1},u7);var qc=function(e,t){return!za||t&&t.disableImpostor?new qee(e,t):new ete(e,t)};ys.add("sphere",qc),Cn.add("shader/Point.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float size;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
varying vec3 vViewPosition;
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
#include begin_vertex
#include project_vertex
#ifdef USE_SIZEATTENUATION
gl_PointSize = size * pixelRatio * ( ( canvasHeight / 2.0 ) / -mvPosition.z );
#else
gl_PointSize = size * pixelRatio;
#endif
#ifndef PICKING
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Cn.add("shader/Point.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef USE_MAP
uniform sampler2D map;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
varying vec3 vViewPosition;
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
#ifdef USE_MAP
if( texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ).a < 0.5 )
discard;
#endif
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
#ifdef USE_MAP
diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );
#endif
#include color_fragment
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var tte=Object.assign({pointSize:1,sizeAttenuation:!0,sortParticles:!1,alphaTest:.5,useTexture:!1,forceTransparent:!1,edgeBleach:0},Fr),nte=Object.assign({pointSize:{uniform:"size"},sizeAttenuation:{updateShader:!0},sortParticles:{},alphaTest:{updateShader:!0},useTexture:{updateShader:!0},forceTransparent:{},edgeBleach:{uniform:!0}},nA),H_=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=nte,this.vertexShader="Point.vert",this.fragmentShader="Point.frag",this.isPoint=!0,this.addUniforms({size:{value:this.parameters.pointSize},canvasHeight:{value:1},pixelRatio:{value:1},map:{value:null}})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return tte},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.makeTexture();var i=this.material,r=this.wireframeMaterial,s=this.pickingMaterial;i.uniforms.map.value=this.tex,i.needsUpdate=!0,r.uniforms.map.value=this.tex,r.needsUpdate=!0,s.uniforms.map.value=this.tex,s.needsUpdate=!0},t.prototype.makeTexture=function(){this.tex&&this.tex.dispose(),this.tex=function(i){for(var r,s,a=i||{},o=G(a.width,256),c=G(a.height,256),p=[o/2,c/2],A=Math.min(o/2,c/2),l=G(a.delta,1/(A+1))*A,u=0,d=0,m=new Uint8Array(o*c*4),y=0,g=m.length;y<g;y+=4){var E=1-$d(A-l,A,(r=void 0,s=void 0,r=p[0]-u,s=p[1]-d,Math.sqrt(r*r+s*s)));m[y]=255*E,m[y+1]=255*E,m[y+2]=255*E,m[y+3]=255*E,++u===o&&(u=0,d++)}var w=new Ho(m,o,c);return w.needsUpdate=!0,w}({delta:this.parameters.edgeBleach})},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i);return this.parameters.sizeAttenuation&&(r.USE_SIZEATTENUATION=1),this.parameters.useTexture&&(r.USE_MAP=1),this.parameters.alphaTest>0&&this.parameters.alphaTest<=1&&(r.ALPHATEST=this.parameters.alphaTest.toPrecision(2)),r},t.prototype.setUniforms=function(i){i&&i.edgeBleach!==void 0&&(this.makeTexture(),i.map=this.tex),e.prototype.setUniforms.call(this,i)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.tex&&this.tex.dispose()},Object.defineProperties(t.prototype,n),t}(un);ys.add("point",H_);var mT=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="dot",this.parameters=Object.assign({thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdOut:{type:"boolean",rebuild:!0},dotType:{type:"select",rebuild:!0,options:{"":"",sphere:"sphere",point:"point"}},radiusType:{type:"select",options:{"":"",value:"value","abs-value":"abs-value","value-min":"value-min",deviation:"deviation",size:"size"}},radius:{type:"number",precision:3,max:10,min:.001,property:"size"},scale:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,disableImpostor:!0,pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{colorScheme:{type:"select",update:"color",options:{"":"",value:"value",uniform:"uniform",random:"random"}}}),n instanceof Tn?(this.surface=void 0,this.volume=new Ps(n)):(this.surface=n,this.volume=void 0),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"uniform"),i.colorValue=G(i.colorValue,14540253),this.thresholdType=G(i.thresholdType,"sigma"),this.thresholdMin=G(i.thresholdMin,2),this.thresholdMax=G(i.thresholdMax,1/0),this.thresholdOut=G(i.thresholdOut,!1),this.dotType=G(i.dotType,"point"),this.radius=G(i.radius,.1),this.scale=G(i.scale,1),this.pointSize=G(i.pointSize,1),this.sizeAttenuation=G(i.sizeAttenuation,!0),this.sortParticles=G(i.sortParticles,!1),this.useTexture=G(i.useTexture,!1),this.alphaTest=G(i.alphaTest,.5),this.forceTransparent=G(i.forceTransparent,!1),this.edgeBleach=G(i.edgeBleach,0),e.prototype.init.call(this,i),this.build()},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r)}),this.setVisibility(this.visible),n()},t.prototype.create=function(){var n={};if(this.volume){var i,r,s=this.volume;this.thresholdType==="sigma"?(i=s.getValueForSigma(this.thresholdMin),r=s.getValueForSigma(this.thresholdMax)):(i=this.thresholdMin,r=this.thresholdMax),s.setFilter(i,r,this.thresholdOut),Object.assign(n,{position:s.getDataPosition(),color:s.getDataColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(n,{radius:s.getDataSize(this.radius,this.scale),picking:s.getDataPicking()})}else{var a=this.surface;Object.assign(n,{position:a.getPosition(),color:a.getColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(n,{radius:a.getSize(this.radius,this.scale),picking:a.getPicking()})}this.dotType==="sphere"?this.dotBuffer=new qc(n,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!1})):this.dotBuffer=new H_(n,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach})),this.bufferList.push(this.dotBuffer)},t.prototype.update=function(n){if(n===void 0&&(n={}),this.bufferList.length!==0){var i={};n.color&&(this.volume?Object.assign(i,{color:this.volume.getDataColor(this.getColorParams())}):Object.assign(i,{color:this.surface.getColor(this.getColorParams())})),this.dotType==="sphere"&&(n.radius||n.scale)&&(this.volume?Object.assign(i,{radius:this.volume.getDataSize(this.radius,this.scale)}):Object.assign(i,{radius:this.surface.getSize(this.radius,this.scale)})),this.dotBuffer.setAttributes(i)}},t.prototype.setParameters=function(n,i,r){return i===void 0&&(i={}),n&&n.thresholdType!==void 0&&this.volume instanceof Tn&&(this.thresholdType==="value"&&n.thresholdType==="sigma"?(this.thresholdMin=this.volume.getSigmaForValue(this.thresholdMin),this.thresholdMax=this.volume.getSigmaForValue(this.thresholdMax)):this.thresholdType==="sigma"&&n.thresholdType==="value"&&(this.thresholdMin=this.volume.getValueForSigma(this.thresholdMin),this.thresholdMax=this.volume.getValueForSigma(this.thresholdMax)),this.thresholdType=n.thresholdType),n&&n.radiusType!==void 0&&(n.radiusType==="radius"?this.radius=.1:this.radius=parseFloat(n.radiusType),i.radius=!0,this.dotType!=="sphere"||za&&!this.disableImpostor||(r=!0)),n&&n.radius!==void 0&&(i.radius=!0,this.dotType!=="sphere"||za&&!this.disableImpostor||(r=!0)),n&&n.scale!==void 0&&(i.scale=!0,this.dotType!=="sphere"||za&&!this.disableImpostor||(r=!0)),e.prototype.setParameters.call(this,n,i,r),this},t}(xi);Cn.add("shader/Image.vert",`uniform float clipRadius;
uniform vec3 clipCenter;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void main() {
#include begin_vertex
#include project_vertex
vUv = uv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
}`),Cn.add("shader/Image.frag",`uniform sampler2D map;
uniform float opacity;
uniform vec2 mapSize;
uniform float clipNear;
uniform float clipRadius;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform sampler2D pickingMap;
uniform float objectId;
#else
#include fog_pars_fragment
#endif
#if defined( CUBIC_INTERPOLATION )
#if defined( CATMULROM_FILTER ) || defined( MITCHELL_FILTER )
#if defined( CATMULROM_FILTER )
const float B = 0.0;
const float C = 0.5;
#elif defined( MITCHELL_FILTER )
const float B = 0.333;
const float C = 0.333;
#endif
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f < 1.0 ){
return ( ( 12.0 - 9.0 * B - 6.0 * C ) * ( f * f * f ) +
( -18.0 + 12.0 * B + 6.0 *C ) * ( f * f ) +
( 6.0 - 2.0 * B ) ) / 6.0;
}else if( f >= 1.0 && f < 2.0 ){
return ( ( -B - 6.0 * C ) * ( f * f * f )
+ ( 6.0 * B + 30.0 * C ) * ( f *f ) +
( - ( 12.0 * B ) - 48.0 * C ) * f +
8.0 * B + 24.0 * C ) / 6.0;
}else{
return 0.0;
}
}
#elif defined( BSPLINE_FILTER )
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f >= 0.0 && f <= 1.0 ){
return ( 2.0 / 3.0 ) + ( 0.5 ) * ( f * f * f ) - ( f * f );
}else if( f > 1.0 && f <= 2.0 ){
return 1.0 / 6.0 * pow( ( 2.0 - f ), 3.0 );
}
return 1.0;
}
#else
float filter( float x ){
return 1.0;
}
#endif
vec4 biCubic( sampler2D tex, vec2 texCoord ){
vec2 texelSize = 1.0 / mapSize;
texCoord -= texelSize / 2.0;
vec4 nSum = vec4( 0.0 );
float nDenom = 0.0;
vec2 cell = fract( texCoord * mapSize );
for( float m = -1.0; m <= 2.0; ++m ){
for( float n = -1.0; n <= 2.0; ++n ){
vec4 vecData = texture2D(
tex, texCoord + texelSize * vec2( m, n )
);
float c = filter( m - cell.x ) * filter( -n + cell.y );
nSum += vecData * c;
nDenom += c;
}
}
return nSum / nDenom;
}
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( CUBIC_INTERPOLATION )
gl_FragColor = biCubic( map, vUv );
#else
gl_FragColor = texture2D( map, vUv );
#endif
#if defined( PICKING )
if( gl_FragColor.a < 0.3 )
discard;
gl_FragColor = vec4( texture2D( pickingMap, vUv ).xyz, objectId );
#else
if( gl_FragColor.a < 0.01 )
discard;
gl_FragColor.a *= opacity;
#include fog_fragment
#endif
}`);var ite=new Uint16Array([0,1,2,1,3,2]),rte=new Float32Array([0,1,0,0,1,1,1,0]),ste=Object.assign({filter:"nearest",forceTransparent:!0},Fr),ate=Object.assign({filter:{updateShader:!0,uniform:!0}},nA),ote=function(e){function t(i,r){e.call(this,{position:i.position,index:ite,picking:i.picking},r),this.parameterTypes=ate,this.alwaysTransparent=!0,this.hasWireframe=!1,this.vertexShader="Image.vert",this.fragmentShader="Image.frag";var s=i.imageData,a=i.width,o=i.height,c=new Ho(s,a,o);c.flipY=!0,this.tex=c;for(var p=s.length,A=new Uint8Array(p),l=0;l<p;l+=4){var u=l/4;A[l]=u>>16&255,A[l+1]=u>>8&255,A[l+2]=255&u}var d=new Ho(A,a,o);d.flipY=!0,d.minFilter=Vn,d.magFilter=Vn,this.pickingTex=d,this.addUniforms({map:{value:c},pickingMap:{value:d},mapSize:{value:new Ke(a,o)}}),this.geometry.setAttribute("uv",new bt(rte,2))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return ste},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i),s=this.parameters.filter;return s.startsWith("cubic")&&(r.CUBIC_INTERPOLATION=1,s.endsWith("bspline")?r.BSPLINE_FILTER=1:s.endsWith("catmulrom")?r.CATMULROM_FILTER=1:s.endsWith("mitchell")&&(r.MITCHELL_FILTER=1)),r},t.prototype.updateTexture=function(){var i=this.tex,r=this.parameters.filter;r.startsWith("cubic")?(i.minFilter=Vn,i.magFilter=Vn):r==="linear"?(i.minFilter=Ii,i.magFilter=Ii):(i.minFilter=Vn,i.magFilter=Vn),i.needsUpdate=!0,this.pickingTex.needsUpdate=!0},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.updateTexture();var i=this.material;i.uniforms.map.value=this.tex,i.blending=Nc,i.needsUpdate=!0;var r=this.wireframeMaterial;r.uniforms.map.value=this.tex,r.blending=Nc,r.needsUpdate=!0;var s=this.pickingMaterial;s.uniforms.map.value=this.tex,s.uniforms.pickingMap.value=this.pickingTex,s.blending=Nc,s.needsUpdate=!0},t.prototype.setUniforms=function(i){i&&i.filter!==void 0&&(this.updateTexture(),i.map=this.tex),e.prototype.setUniforms.call(this,i)},Object.defineProperties(t.prototype,n),t}(un),O4=function(e,t){var n=t||{};this.dimension=G(n.dimension,"x"),this.positionType=G(n.positionType,"percent"),this.position=G(n.position,30),this.thresholdType=G(n.thresholdType,"sigma"),this.thresholdMin=G(n.thresholdMin,-1/0),this.thresholdMax=G(n.thresholdMax,1/0),this.normalize=G(n.normalize,!1),this.volume=e};O4.prototype.getPositionFromCoordinate=function(e){var t,n=this.dimension,i=this.volume,r=i.matrix,s=new F().setFromMatrixPosition(r)[n],a=new F().setFromMatrixScale(r)[n];return t=n==="x"?i.nx:n==="y"?i.ny:i.nz,Math.round(((e-s)/(t/100)+1)/a)},O4.prototype.getData=function(e){e=e||{};var t,n=this.volume,i=n.data,r=n.matrix;function s(pe){return Math.round(pe/100*(t-1))}function a(pe,Ee,q,Z){return 3*(q*n.ny*n.nx+Ee*n.nx+pe)+Z}t=this.positionType==="coordinate"?this.getPositionFromCoordinate(this.position):this.position;var o,c,p,A,l,u=new Float32Array(12),d=new F,m=0,y=0,g=0,E=n.nx,w=n.ny,b=n.nz;function _(pe,Ee,q,Z){d.set(pe,Ee,q).applyMatrix4(r).toArray(u,Z)}this.dimension==="x"?(p=s(n.nx),A=n.ny-1,l=n.nz-1,o=n.nz,c=n.ny,E=(m=p)+1,_(p,0,0,0),_(p,A,0,3),_(p,0,l,6),_(p,A,l,9)):this.dimension==="y"?(p=n.nx-1,A=s(n.ny),l=n.nz-1,o=n.nz,c=n.nx,w=(y=A)+1,_(0,A,0,0),_(p,A,0,3),_(0,A,l,6),_(p,A,l,9)):this.dimension==="z"&&(p=n.nx-1,A=n.ny-1,l=s(n.nz),o=n.nx,c=n.ny,b=(g=l)+1,_(0,0,l,0),_(0,A,l,3),_(p,0,l,6),_(p,A,l,9));var C,T,x=0,O=0,M=new Uint8Array(o*c*4),H=new Float32Array(o*c);this.thresholdType==="sigma"?(C=n.getValueForSigma(this.thresholdMin),T=n.getValueForSigma(this.thresholdMax)):(C=this.thresholdMin,T=this.thresholdMax);var R=Object.assign({},e.colorParams,{volume:n});this.normalize&&(R.domain=[0,1]);var D,P=on.getScheme(R),I=new Float32Array(3),L=P.getScale(),k=0,K=0;if(this.normalize){k=1/0,D=-1/0;for(var W=y;W<w;++W)for(var ee=m;ee<E;++ee)for(var le=g;le<b;++le){var J=i[a(ee,W,le,0)/3];J<k&&(k=J),J>D&&(D=J)}K=D-k}for(var re=y;re<w;++re)for(var te=m;te<E;++te)for(var ge=g;ge<b;++ge){var me=a(te,re,ge,0)/3,ie=i[me];this.normalize&&(ie=(ie-k)/K),P.colorToArray(L(ie),I),M[x]=Math.round(255*I[0]),M[x+1]=Math.round(255*I[1]),M[x+2]=Math.round(255*I[2]),M[x+3]=ie>C&&ie<T?255:0,H[O]=me,++O,x+=4}var fe=new wee(H,n);return{position:u,imageData:M,width:o,height:c,picking:fe}};var cte=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="slice",this.parameters=Object.assign({filter:{type:"select",buffer:!0,options:{nearest:"nearest",linear:"linear","cubic-bspline":"cubic-bspline","cubic-catmulrom":"cubic-catmulrom","cubic-mitchell":"cubic-mitchell"}},positionType:{type:"select",rebuild:!0,options:{percent:"percent",coordinate:"coordinate"}},position:{type:"range",step:.1,max:100,min:1,rebuild:!0},dimension:{type:"select",rebuild:!0,options:{x:"x",y:"y",z:"z"}},thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},normalize:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null,linewidth:null,colorScheme:null,roughness:null,metalness:null,diffuse:null}),this.volume=n,this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=this.volume,r=n||{};r.colorDomain=G(r.colorDomain,[i.min,i.max]),r.colorScheme=G(r.colorScheme,"value"),r.colorScale=G(r.colorScale,"Spectral"),this.colorScheme="value",this.dimension=G(r.dimension,"x"),this.filter=G(r.filter,"cubic-bspline"),this.positionType=G(r.positionType,"percent"),this.position=G(r.position,30),this.thresholdType=G(r.thresholdType,"sigma"),this.thresholdMin=G(r.thresholdMin,-1/0),this.thresholdMax=G(r.thresholdMax,1/0),this.normalize=G(r.normalize,!1),e.prototype.init.call(this,r),this.build()},t.prototype.attach=function(n){var i=this;this.bufferList.forEach(function(r){i.viewer.add(r)}),this.setVisibility(this.visible),n()},t.prototype.create=function(){var n=new O4(this.volume,{positionType:this.positionType,position:this.position,dimension:this.dimension,thresholdType:this.thresholdType,thresholdMin:this.thresholdMin,thresholdMax:this.thresholdMax,normalize:this.normalize}),i=new ote(n.getData({colorParams:this.getColorParams()}),this.getBufferParams({filter:this.filter}));this.bufferList.push(i)},t}(xi);function Qg(e){Be.error("makeRepresentation: representation type "+e+" unknown")}var D_={name:"some element",status:""},ml=function(e,t){t===void 0&&(t={}),this.stage=e,this.signals={statusChanged:new kt.exports.Signal,nameChanged:new kt.exports.Signal,disposed:new kt.exports.Signal},this.parameters=Es(t,this.defaultParameters),this.uuid=T_()},kg={defaultParameters:{configurable:!0},name:{configurable:!0}};kg.defaultParameters.get=function(){return D_},kg.name.get=function(){return this.parameters.name},ml.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},ml.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},ml.prototype.dispose=function(){this.signals.disposed.dispatch()},Object.defineProperties(ml.prototype,kg);var pte=Object.assign({visible:!0},D_),Ate=function(e){function t(i,r,s,a){s===void 0&&(s={}),e.call(this,i,Object.assign({name:r.type},s)),this.parent=a,this.signals=Object.assign({visibilityChanged:new kt.exports.Signal,parametersChanged:new kt.exports.Signal},this.signals),this.setRepresentation(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},visible:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return pte},n.visible.get=function(){return this.parameters.visible},n.type.get=function(){return"representation"},t.prototype.getType=function(){return this.repr.type},t.prototype.setRepresentation=function(i){this._disposeRepresentation(),this.repr=i,this.stage.tasks.listen(this.repr.tasks),this.updateVisibility()},t.prototype._disposeRepresentation=function(){this.repr&&(this.stage.tasks.unlisten(this.repr.tasks),this.repr.dispose())},t.prototype.dispose=function(){this.parent&&this.parent.hasRepresentation(this)?this.parent.removeRepresentation(this):(this._disposeRepresentation(),this.signals.disposed.dispatch())},t.prototype.setVisibility=function(i){return this.parameters.visible=i,this.updateVisibility(),this.signals.visibilityChanged.dispatch(this.parameters.visible),this},t.prototype.getVisibility=function(){return this.parent?this.parent.parameters.visible&&this.parameters.visible:this.parameters.visible},t.prototype.toggleVisibility=function(){return this.setVisibility(!this.parameters.visible)},t.prototype.updateVisibility=function(){this.repr.setVisibility(this.getVisibility())},t.prototype.update=function(i){return this.repr.update(i),this},t.prototype.build=function(i){return this.repr.build(i),this},t.prototype.setSelection=function(i){var r=this.repr;return r.setSelection&&r.setSelection(i),this},t.prototype.setParameters=function(i){return this.repr.setParameters(i),this.signals.parametersChanged.dispatch(this.repr.getParameters()),this},t.prototype.getParameters=function(){return this.repr.getParameters()},t.prototype.setColor=function(i){return this.repr.setColor(i),this},Object.defineProperties(t.prototype,n),t}(ml),kA=new Xe,lte=new F,f7={name:"",status:"",visible:!0},xn=function(e,t,n){n===void 0&&(n={}),this.stage=e,this.object=t,this.signals={representationAdded:new kt.exports.Signal,representationRemoved:new kt.exports.Signal,visibilityChanged:new kt.exports.Signal,matrixChanged:new kt.exports.Signal,statusChanged:new kt.exports.Signal,nameChanged:new kt.exports.Signal,disposed:new kt.exports.Signal},this.reprList=[],this.annotationList=[],this.matrix=new Xe,this.position=new F,this.quaternion=new zn,this.scale=new F(1,1,1),this.transform=new Xe,this.parameters=Es(n,this.defaultParameters),this.uuid=T_(),this.viewer=e.viewer,this.controls=new D1(this)},$u={defaultParameters:{configurable:!0},name:{configurable:!0},status:{configurable:!0},visible:{configurable:!0}};$u.defaultParameters.get=function(){return f7},$u.name.get=function(){return this.parameters.name},$u.status.get=function(){return this.parameters.status},$u.visible.get=function(){return this.parameters.visible},xn.prototype.setPosition=function(e){return Array.isArray(e)?this.position.fromArray(e):this.position.copy(e),this.updateMatrix(),this},xn.prototype.setRotation=function(e){if(Array.isArray(e))if(e.length===3){var t=new Vc().fromArray(e);this.quaternion.setFromEuler(t)}else this.quaternion.fromArray(e);else e instanceof Vc?this.quaternion.setFromEuler(e):this.quaternion.copy(e);return this.updateMatrix(),this},xn.prototype.setScale=function(e){return this.scale.set(e,e,e),this.updateMatrix(),this},xn.prototype.setTransform=function(e){return this.transform.copy(e),this.updateMatrix(),this},xn.prototype.updateMatrix=function(){var e=this.getCenterUntransformed(lte);this.matrix.makeTranslation(-e.x,-e.y,-e.z),kA.makeRotationFromQuaternion(this.quaternion),this.matrix.premultiply(kA),kA.makeScale(this.scale.x,this.scale.y,this.scale.z),this.matrix.premultiply(kA);var t=this.position;kA.makeTranslation(t.x+e.x,t.y+e.y,t.z+e.z),this.matrix.premultiply(kA),this.matrix.premultiply(this.transform),this.updateRepresentationMatrices(),this.stage.viewer.updateBoundingBox(),this.signals.matrixChanged.dispatch(this.matrix)},xn.prototype.updateRepresentationMatrices=function(){var e=this;this.reprList.forEach(function(t){t.setParameters({matrix:e.matrix})})},xn.prototype.addAnnotation=function(e,t,n){var i=new Cc(this,e,t,n);return this.annotationList.push(i),i},xn.prototype.eachAnnotation=function(e){this.annotationList.slice().forEach(e)},xn.prototype.removeAnnotation=function(e){var t=this.annotationList.indexOf(e);t!==-1&&(this.annotationList.splice(t,1),e.dispose())},xn.prototype.removeAllAnnotations=function(){this.eachAnnotation(function(e){return e.dispose()}),this.annotationList.length=0},xn.prototype._addRepresentation=function(e,t,n,i){i===void 0&&(i=!1);var r=n||{},s=this.stage.getParameters();r.matrix=this.matrix.clone(),r.quality=r.quality||s.quality,r.disableImpostor=G(r.disableImpostor,!s.impostor),r.useWorker=G(r.useWorker,s.workerDefault),r.visible=G(r.visible,!0);var a=Object.assign({},r,{visible:this.parameters.visible&&r.visible}),o=function(p,A,l,u){var d;if(De&&Be.time("makeRepresentation "+p),A instanceof It){if(!(d=Jn.get(p)))return void Qg(p)}else if(A instanceof dr)if(p==="surface")d=x4;else{if(p!=="dot")return void Qg(p);d=mT}else if(A instanceof Tn)if(p==="surface")d=x4;else if(p==="dot")d=mT;else{if(p!=="slice")return void Qg(p);d=cte}else if(A instanceof Ui)d=fT,A=A.getBufferList();else{if(p!=="buffer")return void Be.error("makeRepresentation: object "+A+" unknown");d=fT}var m=new d(A,l,u);return De&&Be.timeEnd("makeRepresentation "+p),m}(e,t,this.viewer,a),c=new Ate(this.stage,o,r,this);return i||(this.reprList.push(c),this.signals.representationAdded.dispatch(c)),c},xn.prototype.addBufferRepresentation=function(e,t){return this._addRepresentation.call(this,"buffer",e,t)},xn.prototype.hasRepresentation=function(e){return this.reprList.indexOf(e)!==-1},xn.prototype.eachRepresentation=function(e){this.reprList.slice().forEach(e)},xn.prototype.removeRepresentation=function(e){var t=this.reprList.indexOf(e);t!==-1&&(this.reprList.splice(t,1),e.dispose(),this.signals.representationRemoved.dispatch(e))},xn.prototype.updateRepresentations=function(e){this.reprList.forEach(function(t){return t.update(e)}),this.stage.viewer.requestRender()},xn.prototype.removeAllRepresentations=function(){this.eachRepresentation(function(e){return e.dispose()})},xn.prototype.dispose=function(){this.removeAllAnnotations(),this.removeAllRepresentations(),this.reprList.length=0,this.signals.disposed.dispatch()},xn.prototype.setVisibility=function(e){return this.parameters.visible=e,this.eachRepresentation(function(t){return t.updateVisibility()}),this.eachAnnotation(function(t){return t.updateVisibility()}),this.signals.visibilityChanged.dispatch(e),this},xn.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},xn.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},xn.prototype.getBox=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).getBoxUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},xn.prototype.getCenter=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).getCenterUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},xn.prototype.getZoom=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return this.stage.getZoomForBox((e=this).getBox.apply(e,t))},xn.prototype.getBoxUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new Yn},xn.prototype.getCenterUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.getBoxUntransformed().getCenter(new F)},xn.prototype.autoView=function(e){this.stage.animationControls.zoomMove(this.getCenter(),this.getZoom(),G(e,0))},Object.defineProperties(xn.prototype,$u);var El=function(e){e===void 0&&(e=[]),this.list=e;for(var t=e.length,n=0;n<t;++n)e[n].signals.disposed.add(this._remove,this)},ET={first:{configurable:!0}};El.prototype._remove=function(e){var t=this.list.indexOf(e);t!==-1&&this.list.splice(t,1)},ET.first.get=function(){return this.list.length>0?this.list[0]:void 0},El.prototype.forEach=function(e){return this.list.forEach(e),this},El.prototype.dispose=function(){return this.forEach(function(e){return e.dispose()})},Object.defineProperties(El.prototype,ET);var d7=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setParameters=function(n){return this.forEach(function(i){return i.setParameters(n)})},t.prototype.setVisibility=function(n){return this.forEach(function(i){return i.setVisibility(n)})},t.prototype.setSelection=function(n){return this.forEach(function(i){return i.setSelection(n)})},t.prototype.setColor=function(n){return this.forEach(function(i){return i.setColor(n)})},t.prototype.update=function(n){return this.forEach(function(i){return i.update(n)})},t.prototype.build=function(n){return this.forEach(function(i){return i.build(n)})},t.prototype.dispose=function(n){return this.forEach(function(i){return i.dispose()})},t}(El),ute=Object.assign({defaultStep:1,defaultTimeout:50,defaultInterpolateType:"",defaultInterpolateStep:5,defaultMode:"loop",defaultDirection:"forward",initialFrame:0},D_),fte=function(e){function t(i,r,s){var a=this;s===void 0&&(s={}),e.call(this,i,Object.assign({name:r.name},s)),this.trajectory=r,this.signals=Object.assign(this.signals,{frameChanged:new kt.exports.Signal,playerChanged:new kt.exports.Signal,countChanged:new kt.exports.Signal,parametersChanged:new kt.exports.Signal}),r.signals.frameChanged.add(function(o){a.signals.frameChanged.dispatch(o)}),r.signals.playerChanged.add(function(o){a.signals.playerChanged.dispatch(o)}),r.signals.countChanged.add(function(o){a.signals.countChanged.dispatch(o)}),s.initialFrame!==void 0&&this.setFrame(s.initialFrame)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return ute},n.type.get=function(){return"trajectory"},t.prototype.setFrame=function(i){this.trajectory.setFrame(i)},t.prototype.setParameters=function(i){i===void 0&&(i={}),this.trajectory.setParameters(i),this.signals.parametersChanged.dispatch(i)},t.prototype.dispose=function(){this.trajectory.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(ml),G_=function(e,t){this.name=e,this.path=t,this.coordinates=[],this.boxes=[],this.times=[],this.timeOffset=0,this.deltaTime=1},yT={type:{configurable:!0}};yT.type.get=function(){return"Frames"},Object.defineProperties(G_.prototype,yT);var Uf=function(e,t){var n,i;if(this.A=new Bn(3,3),this.W=new Bn(1,3),this.U=new Bn(3,3),this.V=new Bn(3,3),this.VH=new Bn(3,3),this.R=new Bn(3,3),this.tmp=new Bn(3,3),this.c=new Bn(3,3),e instanceof It)n=e.atomCount;else{if(!(e instanceof Float32Array))return;n=e.length/3}if(t instanceof It)i=t.atomCount;else{if(!(t instanceof Float32Array))return;i=t.length/3}var r=Math.min(n,i),s=new Bn(3,r),a=new Bn(3,r);this.coords1t=new Bn(r,3),this.coords2t=new Bn(r,3),this.transformationMatrix=new Xe,this.c.data.set([1,0,0,0,1,0,0,0,-1]),this.prepCoords(e,s,r,!1),this.prepCoords(t,a,r,!1),this._superpose(s,a)};Uf.prototype._superpose=function(e,t){var n,i,r,s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,x;this.mean1=w4(e),this.mean2=w4(t),_4(e,this.mean1),_4(t,this.mean2),ya(this.coords1t,e),ya(this.coords2t,t),P1(this.A,this.coords2t,this.coords1t),e7(this.A,this.W,this.U,this.V),n=this.V,i=this.VH,r=n.data,s=i.data,a=r[4],o=r[8],c=r[5],p=r[7],A=r[0],l=A*a,u=A*c,d=r[3],m=r[1],y=d*m,g=r[2],E=d*g,w=r[6],C=1/(l*o-u*p-y*o+E*p+(b=w*m)*c-(_=w*g)*a),s[0]=(a*o-c*p)*C,s[1]=-(m*o-g*p)*C,s[2]=-(-m*c+g*a)*C,s[3]=-(d*o-c*w)*C,s[4]=(A*o-_)*C,s[5]=-(u-E)*C,s[6]=-(-d*p+a*w)*C,s[7]=-(A*p-b)*C,s[8]=(l-y)*C,Fg(this.R,this.U,this.VH),T=this.R,(x=T.data)[0]*x[4]*x[8]-x[0]*x[5]*x[7]-x[3]*x[1]*x[8]+x[3]*x[2]*x[7]+x[6]*x[1]*x[5]-x[6]*x[2]*x[4]<0&&(De&&Be.log("R not a right handed system"),Fg(this.tmp,this.c,this.VH),Fg(this.R,this.U,this.tmp));var O=new Bn(4,4),M=new Bn(4,4),H=new Bn(4,4),R=new Bn(4,4),D=new Bn(4,4),P=new Bn(4,4),I=this.R.data,L=this.mean1,k=this.mean2;R.data.set([1,0,0,-L[0],0,1,0,-L[1],0,0,1,-L[2],0,0,0,1]),D.data.set([I[0],I[1],I[2],0,I[3],I[4],I[5],0,I[6],I[7],I[8],0,0,0,0,1]),P.data.set([1,0,0,k[0],0,1,0,k[1],0,0,1,k[2],0,0,0,1]),ya(M,R),P1(O,D,M),ya(H,O),P1(M,P,H),ya(O,M),this.transformationMatrix.elements=O.data},Uf.prototype.prepCoords=function(e,t,n,i){var r=0,s=t.data,a=3,o=3*n;if(i&&(o=4*n,a=4),e instanceof It)e.eachAtom(function(c){r<o&&(s[r+0]=c.x,s[r+1]=c.y,s[r+2]=c.z,i&&(s[r+3]=1),r+=a)});else if(e instanceof Float32Array)for(;r<o;r+=a)r<o&&(s[r]=e[r],s[r+1]=e[r+1],s[r+2]=e[r+2],i&&(s[r+3]=1));else Be.warn("prepCoords: input type unknown")},Uf.prototype.transform=function(e){var t;if(e instanceof It)t=e.atomCount;else{if(!(e instanceof Float32Array))return;t=e.length/3}var n=new Bn(4,t),i=new Bn(t,4);this.prepCoords(e,n,t,!0);var r=this.transformationMatrix,s=r.determinant();if(!s)return s;var a=new Bn(4,4);a.data=r.elements,function(d,m,y){for(var g=0,E=0,w=0,b=0,_=0,C=0,T=0,x=0,O=m.cols,M=m.rows,H=y.cols,R=m.data,D=y.data,P=d.data,I=0;g<M;b+=O,g++)for(T=0,E=0;E<H;x++,T++,E++){for(C=T,_=b,I=0,w=0;w<O;_++,C+=H,w++)I+=R[_]*D[C];P[x]=I}}(i,n,a);var o=0,c=i.data;if(e instanceof It){e.eachAtom(function(d){d.x=c[o],d.y=c[o+1],d.z=c[o+2],o+=4});var p=new Xe;p.getInverse(r);var A=e.biomolDict;for(var l in A)A.hasOwnProperty(l)&&A[l].partList.forEach(function(d){d.matrixList.forEach(function(m){m.premultiply(r),m.multiply(p)})})}else if(e instanceof Float32Array)for(var u=4*t;o<u;o+=4)e[o]=c[o],e[o+1]=c[o+1],e[o+2]=c[o+2];else Be.warn("transform: input type unknown");return this.transformationMatrix};var dte={step:1,timeout:50,start:0,end:0,interpolateType:"",interpolateStep:5,mode:"loop",direction:"forward"},Ha=function(e,t){var n=this;t===void 0&&(t={}),this.signals={startedRunning:new kt.exports.Signal,haltedRunning:new kt.exports.Signal},this._run=!1,this._previousTime=0,this._currentTime=0,this._currentStep=1,e.signals.playerChanged.add(function(r){r!==n&&n.pause()},this);var i=G(e.frameCount,1);this.traj=e,this.parameters=Es(t,dte),this.parameters.end=Math.min(G(t.end,i-1),i-1),this.parameters.step=G(t.step,Math.ceil((i+1)/100)),this._currentFrame=this.parameters.start,this._direction=this.parameters.direction==="bounce"?"forward":this.parameters.direction,e.signals.countChanged.add(function(r){n.parameters.end=Math.min(G(n.parameters.end,r-1),r-1)},this),this._animate=this._animate.bind(this)},gT={isRunning:{configurable:!0}};gT.isRunning.get=function(){return this._run},Ha.prototype.setParameters=function(e){e===void 0&&(e={}),vS(this.parameters,e),e.direction!==void 0&&this.parameters.direction!=="bounce"&&(this._direction=this.parameters.direction)},Ha.prototype._animate=function(){if(this._run){this._currentTime=window.performance.now();var e=this._currentTime-this._previousTime,t=this.parameters.interpolateType?this.parameters.interpolateStep:1,n=this.parameters.timeout/t,i=this.traj;if(i&&i.frameCount&&!i.inProgress&&e>=n)if(this.parameters.interpolateType)if(this._currentStep>this.parameters.interpolateStep&&(this._currentStep=1),this._currentStep===1&&(this._currentFrame=this._nextInterpolated()),i.hasFrame(this._currentFrame)){this._currentStep+=1;var r=this._currentStep/(this.parameters.interpolateStep+1),s=this._currentFrame,a=s[0],o=s[1],c=s[2],p=s[3];i.setFrameInterpolated(a,o,c,p,r,this.parameters.interpolateType),this._previousTime=this._currentTime}else i.loadFrame(this._currentFrame);else{var A=this._next();i.hasFrame(A)?(i.setFrame(A),this._previousTime=this._currentTime):i.loadFrame(A)}window.requestAnimationFrame(this._animate)}},Ha.prototype._next=function(){var e,t=this.parameters;return((e=this._direction==="forward"?this.traj.currentFrame+t.step:this.traj.currentFrame-t.step)>t.end||e<t.start)&&(t.direction==="bounce"&&(this._direction==="forward"?this._direction="backward":this._direction="forward"),t.mode==="once"?(this.pause(),e=t.direction==="forward"?t.end:t.direction==="backward"||this._direction==="forward"?t.start:t.end):this._direction==="forward"?(e=t.start,t.interpolateType&&(e=Math.min(t.end,e+t.step))):(e=t.end,t.interpolateType&&(e=Math.max(t.start,e-t.step)))),e},Ha.prototype._nextInterpolated=function(){var e,t,n,i=this.parameters,r=this._next();return this._direction==="forward"?(e=Math.max(i.start,r-i.step),t=Math.max(i.start,r-2*i.step),n=Math.max(i.start,r-3*i.step)):(e=Math.min(i.end,r+i.step),t=Math.min(i.end,r+2*i.step),n=Math.min(i.end,r+3*i.step)),[r,e,t,n]},Ha.prototype.toggle=function(){this._run?this.pause():this.play()},Ha.prototype.play=function(){if(!this._run){this.traj.player!==this&&this.traj.setPlayer(this),this._currentStep=1;var e=this.parameters,t=this.traj.currentFrame,n=Math.ceil(t/e.step)*e.step;e.direction==="forward"&&t>=e.end?n=e.start:e.direction==="backward"&&t<=e.start&&(n=e.end),this.traj.setFrame(n),this._run=!0,this._animate(),this.signals.startedRunning.dispatch()}},Ha.prototype.pause=function(){this._run=!1,this.signals.haltedRunning.dispatch()},Ha.prototype.stop=function(){this.pause(),this.traj.setFrame(this.parameters.start)},Object.defineProperties(Ha.prototype,gT);var Un=function(e,t,n){var i=this;n===void 0&&(n={}),this.signals={countChanged:new kt.exports.Signal,frameChanged:new kt.exports.Signal,playerChanged:new kt.exports.Signal},this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this._frameCount=0,this._currentFrame=-1,this._disposed=!1,this.deltaTime=G(n.deltaTime,0),this.timeOffset=G(n.timeOffset,0),this.centerPbc=G(n.centerPbc,!1),this.removePbc=G(n.removePbc,!1),this.removePeriodicity=G(n.removePeriodicity,!1),this.superpose=G(n.superpose,!1),this.name=e.replace(/^.*[\\/]/,""),this.trajPath=e,this.selection=new Nn(G(n.sele,"backbone and not hydrogen")),this.selection.signals.stringChanged.add(function(){i.selectionIndices=i.structure.getAtomIndices(i.selection),i._resetCache(),i._saveInitialCoords(),i.setFrame(i._currentFrame)})},Vg={frameCount:{configurable:!0},currentFrame:{configurable:!0}};Vg.frameCount.get=function(){return this._frameCount},Vg.currentFrame.get=function(){return this._currentFrame},Un.prototype._init=function(e){this.setStructure(e),this._loadFrameCount(),this.setPlayer(new Ha(this))},Un.prototype._loadFrameCount=function(){},Un.prototype.setStructure=function(e){this.structure=e,this.atomCount=e.atomCount,this.backboneIndices=this._getIndices(new Nn("backbone and not hydrogen")),this._makeAtomIndices(),this._saveStructureCoords(),this.selectionIndices=this._getIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)},Un.prototype._saveInitialCoords=function(){var e=this;this.structure.hasCoords()?(this.initialCoords=new Float32Array(this.structureCoords),this._makeSuperposeCoords()):this.frameCache[0]?(this.initialCoords=new Float32Array(this.frameCache[0]),this._makeSuperposeCoords()):this.loadFrame(0,function(){return e._saveInitialCoords()})},Un.prototype._saveStructureCoords=function(){this.structureCoords=this.structure.getAtomData({what:{position:!0}}).position},Un.prototype.setSelection=function(e){return this.selection.setString(e),this},Un.prototype._getIndices=function(e){var t=0,n=e.test,i=[];return n&&this.structure.eachAtom(function(r){n(r)&&i.push(t),t+=1}),i},Un.prototype._makeSuperposeCoords=function(){var e=3*this.selectionIndices.length;this.coords1=new Float32Array(e),this.coords2=new Float32Array(e);for(var t=this.initialCoords,n=this.coords2,i=0;i<e;i+=3){var r=3*this.selectionIndices[i/3];n[i+0]=t[r+0],n[i+1]=t[r+1],n[i+2]=t[r+2]}},Un.prototype._makeAtomIndices=function(){Be.error("Trajectory._makeAtomIndices not implemented")},Un.prototype._resetCache=function(){this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this.initialCoords=new Float32Array(0)},Un.prototype.setParameters=function(e){e===void 0&&(e={});var t=!1;e.centerPbc!==void 0&&e.centerPbc!==this.centerPbc&&(this.centerPbc=e.centerPbc,t=!0),e.removePeriodicity!==void 0&&e.removePeriodicity!==this.removePeriodicity&&(this.removePeriodicity=e.removePeriodicity,t=!0),e.removePbc!==void 0&&e.removePbc!==this.removePbc&&(this.removePbc=e.removePbc,t=!0),e.superpose!==void 0&&e.superpose!==this.superpose&&(this.superpose=e.superpose,t=!0),this.deltaTime=G(e.deltaTime,this.deltaTime),this.timeOffset=G(e.timeOffset,this.timeOffset),t&&(this._resetCache(),this.setFrame(this._currentFrame))},Un.prototype.hasFrame=function(e){var t=this;return Array.isArray(e)?e.every(function(n){return!!t.frameCache[n]}):!!this.frameCache[e]},Un.prototype.setFrame=function(e,t){var n=this;return e===void 0||(this.inProgress=!0,e===-1||this.frameCache[e]?(this._updateStructure(e),t&&t()):this.loadFrame(e,function(){n._updateStructure(e),t&&t()})),this},Un.prototype._interpolate=function(e,t,n,i,r,s){var a,o=this.frameCache;a=s==="spline"?function(c,p,A,l,u){for(var d=c.length,m=new Float32Array(d),y=0;y<d;y+=3){var g=y+1,E=y+2;m[y]=Oo(l[y],A[y],p[y],c[y],u,1),m[g]=Oo(l[g],A[g],p[g],c[g],u,1),m[E]=Oo(l[E],A[E],p[E],c[E],u,1)}return m}(o[e],o[t],o[n],o[i],r):function(c,p,A){for(var l=c.length,u=new Float32Array(l),d=0;d<l;d+=3){var m=d+1,y=d+2;u[d]=Hs(p[d],c[d],A),u[m]=Hs(p[m],c[m],A),u[y]=Hs(p[y],c[y],A)}return u}(o[e],o[t],r),this.structure.updatePosition(a),this._currentFrame=e,this.signals.frameChanged.dispatch(e)},Un.prototype.setFrameInterpolated=function(e,t,n,i,r,s,a){var o=this;if(e===void 0)return this;var c=this.frameCache,p=[];return c[i]||p.push(i),c[n]||p.push(n),c[t]||p.push(t),c[e]||p.push(e),p.length?this.loadFrame(p,function(){o._interpolate(e,t,n,i,r,s),a&&a()}):(this._interpolate(e,t,n,i,r,s),a&&a()),this},Un.prototype.loadFrame=function(e,t){var n=this;Array.isArray(e)?e.forEach(function(i){n.loadQueue[i]||n.frameCache[i]||(n.loadQueue[i]=!0,n._loadFrame(i,function(){delete n.loadQueue[i]}))}):this.loadQueue[e]||this.frameCache[e]||(this.loadQueue[e]=!0,this._loadFrame(e,function(){delete n.loadQueue[e],t&&t()}))},Un.prototype._loadFrame=function(e,t){Be.error("Trajectory._loadFrame not implemented",e,t)},Un.prototype._updateStructure=function(e){this._disposed?console.error("updateStructure: traj disposed"):(e===-1?this.structureCoords&&this.structure.updatePosition(this.structureCoords):this.structure.updatePosition(this.frameCache[e]),this.structure.trajectory={name:this.trajPath,frame:e},this._currentFrame=e,this.inProgress=!1,this.signals.frameChanged.dispatch(e))},Un.prototype._doSuperpose=function(e){for(var t=3*this.selectionIndices.length,n=this.coords1,i=this.coords2,r=0;r<t;r+=3){var s=3*this.selectionIndices[r/3];n[r+0]=e[s+0],n[r+1]=e[s+1],n[r+2]=e[s+2]}new Uf(n,i).transform(e)},Un.prototype._process=function(e,t,n,i){if(this._setFrameCount(i),t){if(this.backboneIndices.length>0&&this.centerPbc){var r=[t[0],t[4],t[8]],s=function(o,c,p){return[wg(c,p[0],3,0,o),wg(c,p[1],3,1,o),wg(c,p[2],3,2,o)]}(this.backboneIndices,n,r);(function(o,c,p){if(p[0]!==0&&p[8]!==0&&p[4]!==0)for(var A=o.length,l=p[0],u=p[1],d=p[2],m=-c[0]+l+l/2,y=-c[1]+u+u/2,g=-c[2]+d+d/2,E=0;E<A;E+=3)o[E+0]=(o[E+0]+m)%l,o[E+1]=(o[E+1]+y)%u,o[E+2]=(o[E+2]+g)%d})(n,s,r)}if(this.removePeriodicity){var a=function(o){return[I1(o,3,0),I1(o,3,1),I1(o,3,2)]}(n);(function(o,c,p){if(c[0]!==0&&c[8]!==0&&c[4]!==0)for(var A=o.length,l=3;l<A;l+=3)for(var u=0;u<3;++u){var d=(o[l+u]-p[u])/c[3*u+u];Math.abs(d)>.5&&(o[l+u]-=c[3*u+u]*Math.round(d))}})(n,t,a)}this.removePbc&&function(o,c){if(c[0]!==0&&c[8]!==0&&c[4]!==0)for(var p=o.length,A=3;A<p;A+=3)for(var l=0;l<3;++l){var u=o[A+l]-o[A-3+l];if(Math.abs(u)>.9*c[3*l+l])if(u>0)for(var d=0;d<3;++d)o[A+d]-=c[3*l+d];else for(var m=0;m<3;++m)o[A+m]+=c[3*l+m]}}(n,t)}this.selectionIndices.length>0&&this.coords1&&this.superpose&&this._doSuperpose(n),this.frameCache[e]=n,this.boxCache[e]=t,this.frameCacheSize+=1},Un.prototype._setFrameCount=function(e){e!==this._frameCount&&(this._frameCount=e,this.signals.countChanged.dispatch(e))},Un.prototype.dispose=function(){this._resetCache(),this._disposed=!0,this.player&&this.player.stop()},Un.prototype.setPlayer=function(e){this.player=e,this.signals.playerChanged.dispatch(e)},Un.prototype.getFrameTime=function(e){return this.timeOffset+e*this.deltaTime},Object.defineProperties(Un.prototype,Vg);var hte=function(e){function t(i,r,s){var a=s||{};a.timeOffset=G(a.timeOffset,i.timeOffset),a.deltaTime=G(a.deltaTime,i.deltaTime),e.call(this,"",r,a),this.name=i.name,this.path=i.path,this.frames=i.coordinates,this.boxes=i.boxes,this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"frames"},t.prototype._makeAtomIndices=function(){this.structure.type==="StructureView"?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(i,r){var s,a=this.frames[i];if(this.atomIndices){var o=this.atomIndices,c=o.length;s=new Float32Array(3*c);for(var p=0;p<c;++p){var A=3*p,l=3*o[p];s[A+0]=a[l+0],s[A+1]=a[l+1],s[A+2]=a[l+2]}}else s=new Float32Array(a);var u=this.boxes[i],d=this.frames.length;this._process(i,u,s,d),typeof r=="function"&&r()},t.prototype._loadFrameCount=function(){this.frames&&this._setFrameCount(this.frames.length)},Object.defineProperties(t.prototype,n),t}(Un),mte=function(e){function t(i,r,s){e.call(this,"",r,s),this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"structure"},t.prototype._makeAtomIndices=function(){this.structure.atomSet&&this.structure.atomSet.getSize()<this.structure.atomStore.count?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(i,r){var s,a=this.structure,o=a.frames[i];if(this.atomIndices){var c=this.atomIndices,p=c.length;s=new Float32Array(3*p);for(var A=0;A<p;++A){var l=3*A,u=3*c[A];s[l+0]=o[u+0],s[l+1]=o[u+1],s[l+2]=o[u+2]}}else s=new Float32Array(o);var d=a.boxes[i],m=a.frames.length;this._process(i,d,s,m),typeof r=="function"&&r()},t.prototype._loadFrameCount=function(){this._setFrameCount(this.structure.frames.length)},Object.defineProperties(t.prototype,n),t}(Un),Ete=function(e){function t(i,r,s){e.call(this,i,r,s),this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"remote"},t.prototype._makeAtomIndices=function(){var i=[];if(this.structure.type==="StructureView"){for(var r=this.structure.getAtomIndices(),s=r.length,a=r[0],o=r[0],c=1;c<s;++c){var p=r[c];o+1<p&&(i.push([a,o+1]),a=p),o=p}i.push([a,o+1])}else i.push([0,this.atomCount]);this.atomIndices=i},t.prototype._loadFrame=function(i,r){var s=this,a=new XMLHttpRequest,o=mg.getFrameUrl(this.trajPath,i),c=mg.getFrameParams(this.trajPath,this.atomIndices);a.open("POST",o,!0),a.responseType="arraybuffer",a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.addEventListener("load",function(){var p=a.response;if(p){var A=new Int32Array(p,0,1)[0],l=new Float32Array(p,8,9),u=new Float32Array(p,44);s._process(i,l,u,A),typeof r=="function"&&r()}else Be.error("empty arrayBuffer for '"+o+"'")},!1),a.send(c)},t.prototype._loadFrameCount=function(){var i=this,r=new XMLHttpRequest,s=mg.getCountUrl(this.trajPath);r.open("GET",s,!0),r.addEventListener("load",function(){i._setFrameCount(parseInt(r.response))},!1),r.send()},Object.defineProperties(t.prototype,n),t}(Un),yte=function(e){function t(i,r,s){e.call(this,"",r,s),this.requestCallback=i,this._init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"callback"},t.prototype._makeAtomIndices=function(){var i=[];if(this.structure.type==="StructureView"){for(var r=this.structure.getAtomIndices(),s=r.length,a=r[0],o=r[0],c=1;c<s;++c){var p=r[c];o+1<p&&(i.push([a,o+1]),a=p),o=p}i.push([a,o+1])}else i.push([0,this.atomCount]);this.atomIndices=i},t.prototype._loadFrame=function(i,r){var s=this;this.requestCallback(function(a,o,c,p){s._process(a,o,c,p),typeof r=="function"&&r()},i,this.atomIndices)},t.prototype._loadFrameCount=function(){var i=this;this.requestCallback(function(r){return i._setFrameCount(r)})},Object.defineProperties(t.prototype,n),t}(Un);It.prototype.getView=function(e){return new h7(this,e)};var h7=function(e){function t(i,r){e.call(this),this.structure=i,this.selection=r,this.center=new F,this.boundingBox=new Yn,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy(),this.selection&&this.selection.signals.stringChanged.add(this.refresh,this),this.structure.signals.refreshed.add(this.refresh,this),this.refresh()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},name:{configurable:!0},path:{configurable:!0},title:{configurable:!0},id:{configurable:!0},data:{configurable:!0},atomSetDict:{configurable:!0},biomolDict:{configurable:!0},entityList:{configurable:!0},unitcell:{configurable:!0},frames:{configurable:!0},boxes:{configurable:!0},validation:{configurable:!0},bondStore:{configurable:!0},backboneBondStore:{configurable:!0},rungBondStore:{configurable:!0},atomStore:{configurable:!0},residueStore:{configurable:!0},chainStore:{configurable:!0},modelStore:{configurable:!0},atomMap:{configurable:!0},residueMap:{configurable:!0},bondHash:{configurable:!0},spatialHash:{configurable:!0},_hasCoords:{configurable:!0}};return t.prototype.init=function(){},n.type.get=function(){return"StructureView"},n.name.get=function(){return this.structure.name},n.path.get=function(){return this.structure.path},n.title.get=function(){return this.structure.title},n.id.get=function(){return this.structure.id},n.data.get=function(){return this.structure.data},n.atomSetDict.get=function(){return this.structure.atomSetDict},n.biomolDict.get=function(){return this.structure.biomolDict},n.entityList.get=function(){return this.structure.entityList},n.unitcell.get=function(){return this.structure.unitcell},n.frames.get=function(){return this.structure.frames},n.boxes.get=function(){return this.structure.boxes},n.validation.get=function(){return this.structure.validation},n.bondStore.get=function(){return this.structure.bondStore},n.backboneBondStore.get=function(){return this.structure.backboneBondStore},n.rungBondStore.get=function(){return this.structure.rungBondStore},n.atomStore.get=function(){return this.structure.atomStore},n.residueStore.get=function(){return this.structure.residueStore},n.chainStore.get=function(){return this.structure.chainStore},n.modelStore.get=function(){return this.structure.modelStore},n.atomMap.get=function(){return this.structure.atomMap},n.residueMap.get=function(){return this.structure.residueMap},n.bondHash.get=function(){return this.structure.bondHash},n.spatialHash.get=function(){return this.structure.spatialHash},n._hasCoords.get=function(){return this.structure._hasCoords},n._hasCoords.set=function(i){this.structure._hasCoords=i},t.prototype.refresh=function(){De&&Be.time("StructureView.refresh"),this.atomSetCache={};var i=this.structure;if(this.selection.isAllSelection()&&i!==this&&i.atomSet&&i.bondSet){for(var r in this.atomSet=i.atomSet.clone(),this.bondSet=i.bondSet.clone(),this.atomSetDict){var s=this.atomSetDict[r];this.atomSetCache["__"+r]=s.clone()}this.atomCount=i.atomCount,this.bondCount=i.bondCount,this.boundingBox.copy(i.boundingBox),this.center.copy(i.center)}else if(this.selection.isNoneSelection()&&i!==this&&i.atomSet&&i.bondSet){for(var a in this.atomSet=new Qt(i.atomCount),this.bondSet=new Qt(i.bondCount),this.atomSetDict)this.atomSetCache["__"+a]=new Qt(i.atomCount);this.atomCount=0,this.bondCount=0,this.boundingBox.makeEmpty(),this.center.set(0,0,0)}else{for(var o in this.atomSet=this.getAtomSet(this.selection,!0),i.atomSet&&(this.atomSet=this.atomSet.intersection(i.atomSet)),this.bondSet=this.getBondSet(),this.atomSetDict){var c=this.atomSetDict[o];this.atomSetCache["__"+o]=c.makeIntersection(this.atomSet)}this.atomCount=this.atomSet.getSize(),this.bondCount=this.bondSet.getSize(),this.boundingBox=this.getBoundingBox(),this.center=this.boundingBox.getCenter(new F)}De&&Be.timeEnd("StructureView.refresh"),this.signals.refreshed.dispatch()},t.prototype.setSelection=function(i){this.selection=i,this.refresh()},t.prototype.getSelection=function(i){var r=[];i&&i.string&&r.push(i.string);var s=this.structure.getSelection();s&&s.string&&r.push(s.string),this.selection&&this.selection.string&&r.push(this.selection.string);var a="";return r.length>0&&(a="( "+r.join(" ) AND ( ")+" )"),new Nn(a)},t.prototype.getStructure=function(){return this.structure.getStructure()},t.prototype.eachBond=function(i,r){this.structure.eachBond(i,this.getSelection(r))},t.prototype.eachAtom=function(i,r){var s=this.getAtomProxy(),a=this.getAtomSet(r),o=this.atomStore.count;if(a.getSize()<o)a.forEach(function(p){s.index=p,i(s)});else for(var c=0;c<o;++c)s.index=c,i(s)},t.prototype.eachResidue=function(i,r){this.structure.eachResidue(i,this.getSelection(r))},t.prototype.eachResidueN=function(i,r){console.error("StructureView.eachResidueN() not implemented")},t.prototype.eachChain=function(i,r){this.structure.eachChain(i,this.getSelection(r))},t.prototype.eachModel=function(i,r){this.structure.eachModel(i,this.getSelection(r))},t.prototype.getAtomSet=function(i,r){r===void 0&&(r=!1);var s=this.structure.getAtomSet(i);return!r&&this.atomSet&&(s=s.makeIntersection(this.atomSet)),s},t.prototype.getAtomIndices=function(i){return this.structure.getAtomIndices(this.getSelection(i))},t.prototype.refreshPosition=function(){return this.structure.refreshPosition()},t.prototype.dispose=function(){this.selection&&this.selection.signals.stringChanged.remove(this.refresh,this),this.structure.signals.refreshed.remove(this.refresh,this),this.structure=new e,delete this.atomSet,delete this.bondSet},Object.defineProperties(t.prototype,n),t}(It),gte=[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]];function wT(e,t){var n,i=0,r={};return t.forEach(function(s){n=0;var a={};s.forEach(function(o){a[e[n++]]=o}),r[e[i++]]=a}),r}var wte={blosum62:wT("ARNDCQEGHILKMFPSTWYVBZ?",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:wT("ACDEFGHIKLMNPQRSTVWY",gte)},sl=function(e,t,n,i,r){n===void 0&&(n=-10),i===void 0&&(i=-1),r===void 0&&(r="blosum62"),this.seq1=e,this.seq2=t,this.gapPenalty=n,this.gapExtensionPenalty=i,r&&(this.substMatrix=wte[r])};function _te(e,t,n,i,r){var s,a,o,c,p;if(n===void 0&&(n=!1),i===void 0&&(i=""),r===void 0&&(r=""),n){var A=e,l=t;i&&r&&(A=e.getView(new Nn(i)),l=t.getView(new Nn(r)));var u,d,m=A.getSequence(),y=l.getSequence(),g=new sl(m.join(""),y.join(""));g.calc(),g.trace(),s=0,a=0,o=g.ali1.length;for(var E=[],w=[],b=0;b<o;++b){var _=g.ali1[b],C=g.ali2[b];u=0,d=0,_==="-"?w[a]=!1:(w[a]=!0,u=1),C==="-"?E[s]=!1:(E[s]=!0,d=1),s+=u,a+=d}var T=[],x=[],O=A.getAtomProxy(),M=l.getAtomProxy();s=0,A.eachResidue(function(R){R.traceAtomIndex!==void 0&&R.traceAtomIndex===R.getAtomIndexByName("CA")&&(E[s]&&(O.index=R.getAtomIndexByName("CA"),T.push(O.x,O.y,O.z)),s+=1)}),s=0,l.eachResidue(function(R){R.traceAtomIndex!==void 0&&R.traceAtomIndex===R.getAtomIndexByName("CA")&&(w[s]&&(M.index=R.getAtomIndexByName("CA"),x.push(M.x,M.y,M.z)),s+=1)}),c=new Float32Array(T),p=new Float32Array(x)}else c=e.getView(new Nn(i+" and .CA")),p=t.getView(new Nn(r+" and .CA"));var H=new Uf(c,p).transform(e);return e.refreshPosition(),H}sl.prototype.initMatrices=function(){this.n=this.seq1.length,this.m=this.seq2.length,this.score=void 0,this.ali="",this.S=[],this.V=[],this.H=[];for(var e=0;e<=this.n;++e){this.S[e]=[],this.V[e]=[],this.H[e]=[];for(var t=0;t<=this.m;++t)this.S[e][t]=0,this.V[e][t]=0,this.H[e][t]=0}for(var n=0;n<=this.n;++n)this.S[n][0]=this.gap(0),this.H[n][0]=-1/0;for(var i=0;i<=this.m;++i)this.S[0][i]=this.gap(0),this.V[0][i]=-1/0;this.S[0][0]=0},sl.prototype.gap=function(e){return this.gapPenalty+e*this.gapExtensionPenalty},sl.prototype.makeScoreFn=function(){var e=this.seq1,t=this.seq2,n=this.substMatrix;return n?function(i,r){var s=e[i],a=t[r];try{return n[s][a]}catch{return-4}}:(Be.warn("Alignment: no subst matrix"),function(i,r){return e[i]===t[r]?5:-3})},sl.prototype.calc=function(){De&&Be.time("Alignment.calc"),this.initMatrices();for(var e,t,n,i,r,s=this.gap(0),a=this.makeScoreFn(),o=this.gapExtensionPenalty,c=this.V,p=this.H,A=this.S,l=this.n,u=this.m,d=1;d<=l;++d){t=A[d-1],e=c[d-1],n=c[d],i=p[d],r=A[d];for(var m=1;m<=u;++m)n[m]=Math.max(t[m]+s,e[m]+o),i[m]=Math.max(r[m-1]+s,i[m-1]+o),r[m]=Math.max(t[m-1]+a(d-1,m-1),n[m],i[m])}De&&Be.timeEnd("Alignment.calc"),De&&Be.log(this.S,this.V,this.H)},sl.prototype.trace=function(){De&&Be.time("Alignment.trace"),this.ali1="",this.ali2="";var e,t=this.makeScoreFn(),n=this.n,i=this.m;for(this.S[n][i]>=this.V[n][i]?(e="S",this.score=this.S[n][i]):this.V[n][i]>=this.H[n][i]?(e="V",this.score=this.V[n][i]):(e="H",this.score=this.H[n][i]),De&&Be.log("Alignment: SCORE",this.score),De&&Be.log("Alignment: S, V, H",this.S[n][i],this.V[n][i],this.H[n][i]);n>0&&i>0;)e==="S"?this.S[n][i]===this.S[n-1][i-1]+t(n-1,i-1)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--n,--i,e="S"):this.S[n][i]===this.V[n][i]?e="V":this.S[n][i]===this.H[n][i]?e="H":(--n,--i):e==="V"?this.V[n][i]===this.V[n-1][i]+this.gapExtensionPenalty?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,e="V"):this.V[n][i]===this.S[n-1][i]+this.gap(0)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,e="S"):--n:e==="H"?this.H[n][i]===this.H[n][i-1]+this.gapExtensionPenalty?(this.ali1="-"+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--i,e="H"):this.H[n][i]===this.S[n][i-1]+this.gap(0)?(this.ali1="-"+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--i,e="S"):--i:Be.error("Alignment: no matrix");for(;n>0;)this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n;for(;i>0;)this.ali1="-"+this.ali1,this.ali2=this.seq2[i-1]+this.ali2,--i;De&&Be.timeEnd("Alignment.trace"),De&&Be.log([this.ali1,this.ali2])};var vte=Object.assign({sele:"",defaultAssembly:""},f7),L4=function(e){function t(i,r,s){var a,o,c,p,A;s===void 0&&(s={}),e.call(this,i,r,Object.assign({name:r.name},s)),this.structure=r,this.trajList=[],this.signals=Object.assign(this.signals,{trajectoryAdded:new kt.exports.Signal,trajectoryRemoved:new kt.exports.Signal,defaultAssemblyChanged:new kt.exports.Signal}),this.initSelection(this.parameters.sele),this.pickBuffer=(a=4,o=0,c=0,p=[],{has:function(l){return p.indexOf(l)!==-1},get:function(l){return p[l]},push:function(l){p[o]=l,o=(a+o+1)%a,++c},get count(){return c},get data(){return p.slice(0,Math.min(c,a))},clear:function(){c=0,o=0,p.length=0}}),this.pickDict=(A={},{has:function(l){return A[JSON.stringify(l)]!==void 0},add:function(l,u){A[JSON.stringify(l)]=u},del:function(l){delete A[JSON.stringify(l)]},get values(){return Object.keys(A).map(function(l){return A[l]})}}),this.spacefillRepresentation=this.addRepresentation("spacefill",{sele:"none",opacity:zu.opacity,color:zu.color,disablePicking:!0,radiusType:"data"},!0),this.distanceRepresentation=this.addRepresentation("distance",zu,!0),this.angleRepresentation=this.addRepresentation("angle",zu,!0),this.dihedralRepresentation=this.addRepresentation("dihedral",zu,!0),this.measureRepresentations=new d7([this.spacefillRepresentation,this.distanceRepresentation,this.angleRepresentation,this.dihedralRepresentation]),this.setDefaultAssembly(this.parameters.defaultAssembly)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return vte},n.type.get=function(){return"structure"},t.prototype.initSelection=function(i){var r=this;this.selection=new Nn(i),this.structureView=new h7(this.structure,this.selection),this.selection.signals.stringChanged.add(function(){r.structureView.setSelection(r.selection),r.rebuildRepresentations(),r.rebuildTrajectories()})},t.prototype.setSelection=function(i){return this.parameters.sele=i,this.selection.setString(i),this},t.prototype.setDefaultAssembly=function(i){if(this.structure.biomolDict[i]===void 0&&(i=""),this.parameters.defaultAssembly!==i){var r={defaultAssembly:i};this.reprList.forEach(function(s){return s.setParameters(r)}),this.measureRepresentations.setParameters(r),this.parameters.defaultAssembly=i,this.signals.defaultAssemblyChanged.dispatch(i)}return this},t.prototype.rebuildRepresentations=function(){this.reprList.forEach(function(i){i.build()}),this.measureRepresentations.build()},t.prototype.rebuildTrajectories=function(){var i=this;this.trajList.forEach(function(r){r.trajectory.setStructure(i.structureView)})},t.prototype.updateRepresentations=function(i){e.prototype.updateRepresentations.call(this,i),this.measureRepresentations.update(i)},t.prototype.updateRepresentationMatrices=function(){e.prototype.updateRepresentationMatrices.call(this),this.measureRepresentations.setParameters({matrix:this.matrix})},t.prototype.addRepresentation=function(i,r,s){var a=this;r===void 0&&(r={}),s===void 0&&(s=!1),r.defaultAssembly=this.parameters.defaultAssembly;var o=this._addRepresentation(i,this.structureView,r,s);return s||o.signals.parametersChanged.add(function(){return a.measureUpdate()}),o},t.prototype.addTrajectory=function(i,r){var s=this;i===void 0&&(i=""),r===void 0&&(r={});var a=function(c,p,A){return c&&c instanceof G_?new hte(c,p,A):!c&&p.frames?new mte(c,p,A):c&&typeof c=="function"?new yte(c,p,A):new Ete(c,p,A)}(i,this.structureView,r);a.signals.frameChanged.add(function(){s.updateRepresentations({position:!0})});var o=new fte(this.stage,a,r);return this.trajList.push(o),this.signals.trajectoryAdded.dispatch(o),o},t.prototype.removeTrajectory=function(i){var r=this.trajList.indexOf(i);r!==-1&&this.trajList.splice(r,1),i.dispose(),this.signals.trajectoryRemoved.dispatch(i)},t.prototype.dispose=function(){this.trajList.slice().forEach(function(i){return i.dispose()}),this.trajList.length=0,this.structure.dispose(),this.measureRepresentations.dispose(),e.prototype.dispose.call(this)},t.prototype.autoView=function(i,r){typeof i=="number"&&(r=i,i=""),this.stage.animationControls.zoomMove(this.getCenter(i),this.getZoom(i),G(r,0))},t.prototype.getBoxUntransformed=function(i){return i?this.structureView.getBoundingBox(new Nn(i)):this.structureView.boundingBox},t.prototype.getCenterUntransformed=function(i){return i&&typeof i=="string"?this.structure.atomCenter(new Nn(i)):this.structure.center},t.prototype.superpose=function(i,r,s,a){return _te(this.structureView,i.structureView,r,s,a),this.updateRepresentations({position:!0}),this},t.prototype.getMaxRepresentationRadius=function(i){var r=0,s=this.structure.getAtomProxy(i);return this.eachRepresentation(function(a){if(a.getVisibility()){var o=a.repr;r=Math.max(o.getAtomRadius(s),r)}}),r},t.prototype.measurePick=function(i){var r=this.pickBuffer.count;if(this.lastPick===i.index&&r>=1){if(r>1){var s=this.pickBuffer.data,a=this.pickBuffer.data.sort();this.pickDict.has(a)?this.pickDict.del(a):this.pickDict.add(a,s),r===2?this.distanceRepresentation.setParameters({atomPair:this.pickDict.values.filter(function(o){return o.length===2})}):r===3?this.angleRepresentation.setParameters({atomTriple:this.pickDict.values.filter(function(o){return o.length===3})}):r===4&&this.dihedralRepresentation.setParameters({atomQuad:this.pickDict.values.filter(function(o){return o.length===4})})}this.pickBuffer.clear(),this.lastPick=void 0}else this.pickBuffer.has(i.index)||this.pickBuffer.push(i.index),this.lastPick=i.index;this.measureUpdate()},t.prototype.measureClear=function(){this.pickBuffer.clear(),this.lastPick=void 0,this.spacefillRepresentation.setSelection("none")},t.prototype.measureBuild=function(){var i=this.measureData();this.distanceRepresentation.setParameters({atomPair:i.distance}),this.angleRepresentation.setParameters({atomTriple:i.angle}),this.dihedralRepresentation.setParameters({atomQuad:i.dihedral})},t.prototype.measureUpdate=function(){var i=this,r=this.pickBuffer.data,s={};r.forEach(function(a){var o=Math.max(.1,i.getMaxRepresentationRadius(a));s[a]=o*(2.3-$d(.1,2,o))}),this.spacefillRepresentation.setSelection(r.length?"@"+r.join(","):"none"),r.length&&this.spacefillRepresentation.setParameters({radiusData:s})},t.prototype.measureData=function(){var i=this.pickDict.values;return{distance:i.filter(function(r){return r.length===2}),angle:i.filter(function(r){return r.length===3}),dihedral:i.filter(function(r){return r.length===4})}},t.prototype.removeAllMeasurements=function(i){var r=this.pickDict,s=r.values,a=function(o){s.filter(function(c){return c.length===o}).forEach(function(c){return r.del(c.slice().sort())})};(!i||1&i)&&a(2),(!i||2&i)&&a(3),(!i||4&i)&&a(4),this.measureBuild()},t.prototype.removeMeasurement=function(i){this.pickDict.del(i.slice().sort()),this.measureBuild()},t.prototype.addMeasurement=function(i){if(!(i.length<2||i.length>4)){var r=i.slice().sort();this.pickDict.has(r)||this.pickDict.add(r,i),this.measureBuild()}},Object.defineProperties(t.prototype,n),t}(xn);Zl.add("structure",L4),Zl.add("structureview",L4);var m7=function(e){function t(i,r,s){s===void 0&&(s={}),e.call(this,i,r,Object.assign({name:r.name},s)),this.surface=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"surface"},t.prototype.addRepresentation=function(i,r){return r===void 0&&(r={}),this._addRepresentation(i,this.surface,r)},t.prototype.getBoxUntransformed=function(){return this.surface.boundingBox},t.prototype.getCenterUntransformed=function(){return this.surface.center},t.prototype.dispose=function(){this.surface.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(xn);Zl.add("surface",m7);var E7=function(e){function t(i,r,s){s===void 0&&(s={}),e.call(this,i,r,Object.assign({name:r.name},s)),this.volume=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"volume"},t.prototype.addRepresentation=function(i,r){return r===void 0&&(r={}),this._addRepresentation(i,this.volume,r)},t.prototype.getBoxUntransformed=function(){return this.volume.boundingBox},t.prototype.getCenterUntransformed=function(){return this.volume.center},t.prototype.dispose=function(){this.volume.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(xn);Zl.add("volume",E7);var _T=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addRepresentation=function(n,i){return this.forEach(function(r){return r.addRepresentation(n,i)})},t.prototype.autoView=function(n){return this.forEach(function(i){return i.autoView(n)})},t}(El);function vT(e,t){return e instanceof RegExp?t.name.match(e)!==null:t.name===e}var Cte=new F,bte={impostor:!0,quality:"medium",workerDefault:!0,sampleLevel:0,backgroundColor:"black",rotateSpeed:2,zoomSpeed:1.2,panSpeed:1,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",fogNear:50,fogFar:100,cameraFov:40,cameraEyeSep:.3,cameraType:"perspective",lightColor:14540253,lightIntensity:1,ambientColor:14540253,ambientIntensity:.2,hoverTimeout:0,tooltip:!0,mousePreset:"default"},yn=function(e,t){t===void 0&&(t={}),this.signals={parametersChanged:new kt.exports.Signal,fullscreenChanged:new kt.exports.Signal,componentAdded:new kt.exports.Signal,componentRemoved:new kt.exports.Signal,clicked:new kt.exports.Signal,hovered:new kt.exports.Signal},this.tasks=new Ga,this.compList=[],this.defaultFileParams={},this.logList=[],this.viewer=new Xt(e),this.viewer.renderer&&(this.tooltip=document.createElement("div"),Object.assign(this.tooltip.style,{display:"none",position:"fixed",zIndex:"1000000",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.viewer.container.appendChild(this.tooltip),this.mouseObserver=new Ar(this.viewer.renderer.domElement),this.viewerControls=new lr(this),this.trackballControls=new cs(this),this.pickingControls=new PS(this),this.animationControls=new Ei(this),this.mouseControls=new nl(this),this.keyControls=new il(this),this.pickingBehavior=new H1(this),this.mouseBehavior=new vc(this),this.animationBehavior=new T4(this),this.keyBehavior=new rl(this),this.spinAnimation=this.animationControls.spin([0,1,0],.005),this.spinAnimation.pause(!0),this.rockAnimation=this.animationControls.rock([0,1,0],.005),this.rockAnimation.pause(!0),this.parameters=Es(t,bte),this.setParameters(this.parameters),this.viewer.animate())};yn.prototype.setParameters=function(e){e===void 0&&(e={}),vS(this.parameters,e);var t=e,n=this.parameters,i=this.viewer,r=this.trackballControls;return t.quality!==void 0&&this.setQuality(n.quality),t.impostor!==void 0&&this.setImpostor(n.impostor),t.rotateSpeed!==void 0&&(r.rotateSpeed=n.rotateSpeed),t.zoomSpeed!==void 0&&(r.zoomSpeed=n.zoomSpeed),t.panSpeed!==void 0&&(r.panSpeed=n.panSpeed),t.mousePreset!==void 0&&this.mouseControls.preset(n.mousePreset),this.mouseObserver.setParameters({hoverTimeout:n.hoverTimeout}),i.setClip(n.clipNear,n.clipFar,n.clipDist,n.clipMode,n.clipScale),i.setFog(void 0,n.fogNear,n.fogFar),i.setCamera(n.cameraType,n.cameraFov,n.cameraEyeSep),i.setSampling(n.sampleLevel),i.setBackground(n.backgroundColor),i.setLight(n.lightColor,n.lightIntensity,n.ambientColor,n.ambientIntensity),this.signals.parametersChanged.dispatch(this.getParameters()),this},yn.prototype.log=function(e){console.log("STAGE LOG",e),this.logList.push(e)},yn.prototype.getParameters=function(){return Object.assign({},this.parameters)},yn.prototype.defaultFileRepresentation=function(e){if(e instanceof L4){var t,n,i;e.setSelection("/0");var r=e.structure;if(r.biomolDict.BU1){var s=r.biomolDict.BU1;t=s.getAtomCount(r),n=s.getResidueCount(r),i=s.getInstanceCount(),e.setDefaultAssembly("BU1")}else t=r.getModelProxy(0).atomCount,n=r.getModelProxy(0).residueCount,i=1;var a=t;LS&&(a*=4);var o=r.atomStore.count/r.residueStore.count<2;o&&(a*=10);var c="chainname",p="RdYlBu",A=!1;if(r.getChainnameCount(new Nn("polymer and /0"))===1&&(c="residueindex",p="Spectral",A=!0),De&&console.log(a,t,i,o),n/i<4)e.addRepresentation("ball+stick",{colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"});else if(i>5&&a>15e3||a>7e5){var l=Math.min(2,Math.max(.1,6e3/(a/i)));o&&(l=Math.min(l,.5)),e.addRepresentation("surface",{colorScheme:c,colorScale:p,colorReverse:A,sele:"polymer",surfaceType:"av",probeRadius:1.4,scaleFactor:l,useWorker:!1})}else a>25e4?e.addRepresentation("backbone",{colorScheme:c,colorScale:p,colorReverse:A,lineOnly:!0}):a>1e5?e.addRepresentation("backbone",{colorScheme:c,colorScale:p,colorReverse:A,quality:"low",disableImpostor:!0,radiusScale:2}):a>8e4?e.addRepresentation("backbone",{colorScheme:c,colorScale:p,colorReverse:A,radiusScale:2}):(e.addRepresentation("cartoon",{colorScheme:c,colorScale:p,colorReverse:A,radiusScale:.7,aspectRatio:5,quality:"auto"}),a<5e4&&e.addRepresentation("base",{colorScheme:c,colorScale:p,colorReverse:A,quality:"auto"}),e.addRepresentation("ball+stick",{sele:"ligand",colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"}));e.structure.frames.length&&e.addTrajectory()}else(e instanceof m7||e instanceof E7)&&e.addRepresentation("surface");this.tasks.onZeroOnce(this.autoView,this)},yn.prototype.loadFile=function(e,t){var n=this;t===void 0&&(t={});var i=Object.assign({},this.defaultFileParams,t),r=Gi(e).name;this.tasks.increment(),this.log("loading file '"+r+"'");var s=G(i.ext,Gi(e).ext);return(Nt.isTrajectory(s)?Promise.reject(new Error("loadFile: ext '"+s+"' is a trajectory and must be loaded into a structure component")):h4(e,i)).then(function(a){n.log("loaded '"+r+"'");var o=n.addComponentFromObject(a,i);return i.defaultRepresentation&&n.defaultFileRepresentation(o),n.tasks.decrement(),o},function(a){n.tasks.decrement();var o="error loading file: '"+a+"'";throw n.log(o),o})},yn.prototype.loadScript=function(e){var t=this,n=Gi(e).name;return this.log("loading script '"+n+"'"),h4(e).then(function(i){t.tasks.increment(),t.log("running script '"+n+"'"),i.run(t).then(function(){t.tasks.decrement(),t.log("finished script '"+n+"'")}),t.log("called script '"+n+"'")},function(i){t.tasks.decrement();var r="errored script '"+n+`' "`+i+'"';throw t.log(r),r})},yn.prototype.addComponent=function(e){e?(this.compList.push(e),this.signals.componentAdded.dispatch(e)):Be.warn("Stage.addComponent: no component given")},yn.prototype.addComponentFromObject=function(e,t){t===void 0&&(t={});var n=Zl.get(e.type);if(n){var i=new n(this,e,t);return this.addComponent(i),i}Be.warn("no component for object type",e.type)},yn.prototype.removeComponent=function(e){var t=this.compList.indexOf(e);t!==-1&&(this.compList.splice(t,1),e.dispose(),this.signals.componentRemoved.dispatch(e))},yn.prototype.removeAllComponents=function(){var e=this;this.compList.slice().forEach(function(t){return e.removeComponent(t)})},yn.prototype.handleResize=function(){this.viewer.handleResize()},yn.prototype.setSize=function(e,t){var n=this.viewer.container;n!==document.body&&(e!==void 0&&(n.style.width=e),t!==void 0&&(n.style.height=t),this.handleResize())},yn.prototype.toggleFullscreen=function(e){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){var t=this;e=e||this.viewer.container,this.lastFullscreenElement=e,n()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e.dataset.normalWidth=e.style.width||"",e.dataset.normalHeight=e.style.height||"",e.style.width=window.screen.width+"px",e.style.height=window.screen.height+"px",e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),this.handleResize(),this.signals.fullscreenChanged.dispatch(!0),setTimeout(function(){t.handleResize()},100))}else Be.log("fullscreen mode (currently) not possible");function n(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function i(){if(!n()&&t.lastFullscreenElement){var r=t.lastFullscreenElement;r.style.width=r.dataset.normalWidth||"",r.style.height=r.dataset.normalHeight||"",document.removeEventListener("fullscreenchange",i),document.removeEventListener("mozfullscreenchange",i),document.removeEventListener("webkitfullscreenchange",i),document.removeEventListener("MSFullscreenChange",i),t.handleResize(),t.signals.fullscreenChanged.dispatch(!1)}}},yn.prototype.setSpin=function(e){e?(this.spinAnimation.resume(!0),this.rockAnimation.pause(!0)):this.spinAnimation.pause(!0)},yn.prototype.setRock=function(e){e?(this.rockAnimation.resume(!0),this.spinAnimation.pause(!0)):this.rockAnimation.pause(!0)},yn.prototype.toggleSpin=function(){this.setSpin(this.spinAnimation.paused)},yn.prototype.toggleRock=function(){this.setRock(this.rockAnimation.paused)},yn.prototype.getFocus=function(){var e=this.parameters;if(e.clipMode!=="scene")return 0;var t=e.clipNear;return e.clipScale==="absolute"&&(t=this.viewer.absoluteToRelative(t)),2*t},yn.prototype.setFocus=function(e){var t,n,i,r;this.parameters.clipMode==="scene"&&(this.parameters.clipScale==="relative"?(i=50,r=function(s){return f4(s,0,100)}(2*(n=100-(t=f4(e/2,0,49.9)))-50)):(i=0,r=2*(n=t=this.viewer.relativeToAbsolute(e/2))),this.setParameters({clipNear:t,clipFar:n,fogNear:i,fogFar:r}))},yn.prototype.getZoomForBox=function(e){var t=e.getSize(Cte),n=Math.max(t.x,t.y,t.z),i=Math.min(t.x,t.y,t.z),r=n+Math.sqrt(i),s=li(this.viewer.perspectiveCamera.fov),a=this.viewer.width,o=this.viewer.height,c=o<a?1:a/o;return r=Math.abs(.5*r/c/Math.sin(s/2)),-(r+=this.parameters.clipDist)},yn.prototype.getBox=function(){return this.viewer.boundingBox},yn.prototype.getZoom=function(){return this.getZoomForBox(this.getBox())},yn.prototype.getCenter=function(e){return this.getBox().getCenter(e||new F)},yn.prototype.autoView=function(e){this.animationControls.zoomMove(this.getCenter(),this.getZoom(),G(e,0))},yn.prototype.makeImage=function(e){var t=this;return e===void 0&&(e={}),new Promise(function(n,i){t.tasks.onZeroOnce(function(){t.tasks.increment(),t.viewer.makeImage(e).then(function(r){t.tasks.decrement(),n(r)}).catch(function(r){t.tasks.decrement(),i(r)})})})},yn.prototype.setImpostor=function(e){this.parameters.impostor=e;var t=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(n){if(t.includes(n.getType())){var i=n.getParameters();i.disableImpostor=!e,n.build(i)}})},yn.prototype.setQuality=function(e){this.parameters.quality=e;var t=["tube","cartoon","ribbon","trace","rope"],n=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(i){var r=i.getParameters();if(!t.includes(i.getType())){if(!n.includes(i.getType()))return;if(!r.disableImpostor)return void(i.repr.quality=e)}r.quality=e,i.build(r)})},yn.prototype.eachComponent=function(e,t){this.compList.slice().forEach(function(n){t!==void 0&&t!==n.type||e(n)})},yn.prototype.eachRepresentation=function(e,t){this.eachComponent(function(n){n.reprList.slice().forEach(function(i){t!==void 0&&t!==i.getType()||e(i,n)})})},yn.prototype.getComponentsByName=function(e){var t=[];return this.eachComponent(function(n){(e===void 0||vT(e,n))&&t.push(n)}),new _T(t)},yn.prototype.getComponentsByObject=function(e){var t=[];return this.eachComponent(function(n){n.object===e&&t.push(n)}),new _T(t)},yn.prototype.getRepresentationsByName=function(e){var t=[];return this.eachRepresentation(function(n,i){(e===void 0||vT(e,n))&&t.push(n)}),new d7(t)},yn.prototype.measureClear=function(){this.eachComponent(function(e){return e.measureClear()},"structure")},yn.prototype.measureUpdate=function(){this.eachComponent(function(e){return e.measureUpdate()},"structure")},yn.prototype.dispose=function(){this.tasks.dispose(),this.viewer.dispose(),this.mouseObserver.dispose()};var xte=function(e){function t(i,r,s){s===void 0&&(s={}),e.call(this,i,r,Object.assign({name:r.name},s)),this.shape=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"shape"},t.prototype.addRepresentation=function(i,r){return r===void 0&&(r={}),this._addRepresentation(i,this.shape,r)},t.prototype.getBoxUntransformed=function(){return this.shape.boundingBox},t.prototype.getCenterUntransformed=function(){return this.shape.center},t.prototype.dispose=function(){this.shape.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(xn);function On(e,t,n,i){var r,s=arguments.length,a=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,n,a):r(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}Zl.add("shape",xte);var CT=function(e){function t(n){var i=this;e.call(this,n),n.scale||(this.parameters.scale="rainbow",this.parameters.reverse=G(n.reverse,!0)),this.scalePerModel={},n.structure.eachModel(function(r){i.parameters.domain=[r.atomOffset,r.atomEnd],i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerModel[n.modelIndex](n.index)},t}(fn);On([Sn],CT.prototype,"atomColor",null),on.add("atomindex",CT);var bT=function(e){function t(n){if(e.call(this,n),n.scale||(this.parameters.scale="OrRd"),!n.domain){var i,r=1/0,s=-1/0;n.sele&&(i=new Nn(n.sele)),n.structure.eachAtom(function(a){var o=a.bfactor;r=Math.min(r,o),s=Math.max(s,o)},i),this.parameters.domain=[r,s]}this.bfactorScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.bfactorScale(n.bfactor)},t}(fn);On([Sn],bT.prototype,"atomColor",null),on.add("bfactor",bT);var xT=function(e){function t(n){var i=this;e.call(this,n),this.chainidDictPerModel={},this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(r){var s=0,a={};r.eachChain(function(o){a[o.chainid]===void 0&&(a[o.chainid]=s,s+=1)}),i.parameters.domain=[0,s-1],i.chainidDictPerModel[r.index]=a,i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=this.chainidDictPerModel[n.modelIndex];return this.scalePerModel[n.modelIndex](i[n.chainid])},t}(fn);On([Sn],xT.prototype,"atomColor",null),on.add("chainid",xT);var TT=function(e){function t(n){var i=this;e.call(this,n),this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(r){i.parameters.domain=[r.chainOffset,r.chainEnd],i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerModel[n.modelIndex](n.chainIndex)},t}(fn);On([Sn],TT.prototype,"atomColor",null),on.add("chainindex",TT);var BT=function(e){function t(n){var i=this;e.call(this,n),this.chainnameDictPerModel={},this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(r){var s=0,a={};r.eachChain(function(o){a[o.chainname]===void 0&&(a[o.chainname]=s,s+=1)}),i.parameters.domain=[0,s-1],i.chainnameDictPerModel[r.index]=a,i.scalePerModel[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=this.chainnameDictPerModel[n.modelIndex];return this.scalePerModel[n.modelIndex](i[n.chainname])},t}(fn);On([Sn],BT.prototype,"atomColor",null),on.add("chainname",BT);var MT=function(e){function t(n){e.call(this,n),this.rsrzDict={},this.rsccDict={},n.scale||(this.parameters.scale="RdYlBu"),this.rsrzScale=this.getScale({domain:[2,0]}),this.rsccScale=this.getScale({domain:[.678,1]});var i=n.structure.validation;i&&(this.rsrzDict=i.rsrzDict,this.rsccDict=i.rsccDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.resno+"";n.inscode&&(i+="^"+n.inscode),n.chainname&&(i+=":"+n.chainname),i+="/"+n.modelIndex;var r=this.rsrzDict[i];if(r!==void 0)return this.rsrzScale(r);var s=this.rsccDict[i];return s!==void 0?this.rsccScale(s):9474192},t}(fn);On([Sn],MT.prototype,"atomColor",null),on.add("densityfit",MT);var Kg={ARG:{CD:.1,CZ:.5,NE:-.1},ASN:{CG:.55,OD1:-.55},ASP:{CB:-.16,CG:.36,OD1:-.6,OD2:-.6},CYS:{CB:.19,SG:-.19},GLN:{CD:.55,OE1:-.55},GLU:{CD:.36,CG:-.16,OE1:-.6,OE2:-.6},HIS:{CB:.1,CD2:.2,CE1:.45,CG:.15,ND1:.05,NE2:.05},LYS:{CE:.25,NZ:.75},MET:{CE:.06,CG:.06,SD:-.12},PTR:{C:.55,CA:.1,CZ:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SEP:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SER:{CB:.25,OG:-.25},THR:{CB:.25,OG1:-.25},TPO:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,OG1:-1.1,O1P:-.85,O2P:-.85,O3P:-.85,P:1.4},TRP:{CD1:.06,CD2:.1,CE2:-.04,CE3:-.03,CG:-.03,NE1:-.06},TYR:{CZ:.25,OH:-.25},backbone:{C:.55,O:-.55,N:-.35,CA:.1}},ST=function(e){function t(n){var i=this;e.call(this,n),this.delta=new F,this.hCharges=[],n.scale||(this.parameters.scale="rwb"),n.domain||(this.parameters.domain=[-50,50]),this.scale=this.getScale(),this.charges=new Float32Array(n.structure.atomCount);var r=[];n.structure.eachAtom(function(a){var o;if(i.charges[a.index]=((o=a).partialCharge!==null?o.partialCharge:o.isProtein()&&(Kg[o.resname]&&Kg[o.resname][o.atomname]||Kg.backbone[o.atomname])||0)*a.occupancy,a.atomname==="N"){if(a.bondCount>=3||a.bondToElementCount(1))return;var c=function(p,A){A===void 0&&(A=new F);var l=!1,u=!1,d=!1;return A.set(2*p.x,2*p.y,2*p.z),p.eachBondedAtom(function(m){if(!l)return m.atomname==="H"?(A.set(m.x,m.y,m.z),void(l=!0)):void(u||m.atomname!=="CA"?d||m.atomname!=="C"||(d=!0,A.sub(m)):(A.sub(m),u=!0))}),l?A:u&&d?(A.normalize(),A.multiplyScalar(1.04),A.add(p),A):void 0}(a);c!==void 0&&(r.push(c),i.hCharges.push(.25*a.occupancy))}});var s=n.structure.getBoundingBox();s.expandByScalar(1.04),this.hStore=function(a){for(var o=a.length,c=new Float32Array(o),p=new Float32Array(o),A=new Float32Array(o),l=0;l<a.length;l++){var u=a[l];c[l]=u.x,p[l]=u.y,A[l]=u.z}return{x:c,y:p,z:A,count:o}}(r),this.hHash=new Jp(this.hStore,s),this.hash=new Jp(n.structure.atomStore,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(n){var i=this.charges,r=this.hCharges,s=0;return this.hash.eachWithin(n.x,n.y,n.z,12,function(a,o){var c=i[a];c!==0&&(s+=c/o)}),this.hHash.eachWithin(n.x,n.y,n.z,12,function(a,o){var c=r[a];c!==0&&(s+=c/o)}),this.scale(332*s)},t}(fn);On([Sn],ST.prototype,"positionColor",null),on.add("electrostatic",ST);var OT={H:16777215,HE:14286847,LI:13402367,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,NE:11789301,NA:11230450,MG:9109248,AL:12560038,SI:1578e4,P:16744448,S:16777008,CL:2093087,AR:8442339,K:9388244,CA:4062976,SC:15132390,TI:12567239,V:10921643,CR:9083335,MN:10255047,FE:14706227,CO:15765664,NI:5296208,CU:13140019,ZN:8224944,GA:12750735,GE:6721423,AS:12419299,SE:16752896,BR:10889513,KR:6076625,RB:7351984,SR:65280,Y:9764863,ZR:9756896,NB:7586505,MO:5551541,TC:3907230,RU:2396047,RH:687500,PD:27013,AG:12632256,CD:16767375,IN:10909043,SN:6717568,SB:10380213,TE:13924864,I:9699476,XE:9699476,CS:5707663,BA:51456,LA:7394559,CE:16777159,PR:14286791,ND:13107143,PM:10747847,SM:9437127,EU:6422471,GD:4587463,TB:3211207,DY:2097095,HO:65436,ER:58997,TM:54354,YB:48952,LU:43812,HF:5096191,TA:5089023,W:2200790,RE:2522539,OS:2516630,IR:1528967,PT:13684960,AU:16765219,HG:12105936,TL:10900557,PB:5724513,BI:10375093,PO:11230208,AT:7688005,RN:4358806,FR:4325478,RA:32e3,AC:7384058,TH:47871,PA:41471,U:36863,NP:33023,PU:27647,AM:5528818,CM:7888099,BK:9064419,CF:10565332,ES:11739092,FM:11739066,MD:11734438,NO:12389767,LR:13041766,RF:13369433,DB:13697103,SG:14221381,BH:14680120,HS:15073326,MT:15400998,DS:16777215,RG:16777215,CN:16777215,UUT:16777215,FL:16777215,UUP:16777215,LV:16777215,UUH:16777215,D:16777152,T:16777120},LT=function(e){function t(n){n.value=G(n.value,OT.C),e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.element;return i==="C"?this.parameters.value:OT[i]||16777215},t}(fn);On([Sn],LT.prototype,"atomColor",null),on.add("element",LT);var RT=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="Spectral"),n.domain||(this.parameters.domain=[0,n.structure.entityList.length-1]),this.entityindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.entityindexScale(n.entityIndex)},t}(fn);On([Sn],RT.prototype,"atomColor",null),on.add("entityindex",RT);var IT=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.entity;switch(i?i.entityType:void 0){case 1:return 8374655;case 2:return 16629894;case 3:return 12496596;case 4:return 3697840;default:return 16777113}},t}(fn);On([Sn],IT.prototype,"atomColor",null),on.add("entitytype",IT);var FT=function(e){function t(n){e.call(this,n),this.geoAtomDict={},this.geoDict={};var i=n.structure.validation;i&&(this.geoAtomDict=i.geoAtomDict,this.geoDict=i.geoDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i,r=n.resno+"";n.inscode&&(r+="^"+n.inscode),n.chainname&&(r+=":"+n.chainname),r+="/"+n.modelIndex;var s,a=this.geoAtomDict[r];if(a!==void 0){var o=a[n.atomname]||0;s=o,i=16843009*((s=(858993459&(s-=s>>1&1431655765))+(s>>2&858993459))+(s>>4)&252645135)>>24}else i=this.geoDict[r]||0;return i===0?2188972:i===1?16703627:i===2?16018755:i>=3?10813478:9474192},t}(fn);On([Sn],FT.prototype,"atomColor",null),on.add("geoquality",FT);var NT=function(e){function t(n){e.call(this,n),this.resHF={},n.scale||(this.parameters.scale="RdYlGn");for(var i in Wx)this.resHF[i]=Wx[i][0];if(this.defaultResidueHydrophobicity=UJ[0],!n.domain){var r=1/0,s=-1/0;for(var a in this.resHF){var o=this.resHF[a];r=Math.min(r,o),s=Math.max(s,o)}this.parameters.domain=[r,0,s]}this.hfScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.hfScale(this.resHF[n.resname]||this.defaultResidueHydrophobicity)},t}(fn);On([Sn],NT.prototype,"atomColor",null),on.add("hydrophobicity",NT);var PT=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="rainbow"),n.domain||(this.parameters.domain=[0,n.structure.modelStore.count]),this.modelindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.modelindexScale(n.modelIndex)},t}(fn);On([Sn],PT.prototype,"atomColor",null),on.add("modelindex",PT);var UT=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){switch(n.residueType.moleculeType){case 1:return 3697840;case 2:return 15729279;case 3:return 12496596;case 4:return 16629894;case 5:return 12540695;case 6:return 8374655;default:return 16777113}},t}(fn);On([Sn],UT.prototype,"atomColor",null),on.add("moleculetype",UT);var HT=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="PuBu"),n.domain||(this.parameters.domain=[0,1]),this.occupancyScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.occupancyScale(n.occupancy)},t}(fn);On([Sn],HT.prototype,"atomColor",null),on.add("occupancy",HT);var DT=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="rwb"),n.domain||(this.parameters.domain=[-1,1]),this.partialchargeScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.partialchargeScale(n.partialCharge||0)},t}(fn);function zg(){return 16777215*Math.random()}On([Sn],DT.prototype,"atomColor",null),on.add("partialcharge",DT);var o1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return zg()},t.prototype.volumeColor=function(){return zg()},t.prototype.positionColor=function(){return zg()},t}(fn);On([Sn],o1.prototype,"atomColor",null),On([Sn],o1.prototype,"volumeColor",null),On([Sn],o1.prototype,"positionColor",null),on.add("random",o1);var GT=function(e){function t(n){e.call(this,n),this.rciDict={},n.scale||(this.parameters.scale="RdYlBu"),this.rciScale=this.getScale({domain:[.6,0]});var i=n.structure.validation;i&&(this.rciDict=i.rciDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i="["+n.resname+"]"+n.resno;n.chainname&&(i+=":"+n.chainname);var r=this.rciDict[i];return r!==void 0?this.rciScale(r):9474192},t}(fn);On([Sn],GT.prototype,"atomColor",null),on.add("randomcoilindex",GT);var QT=function(e){function t(n){var i=this;e.call(this,n),this.scalePerChain={},n.scale||(this.parameters.scale="rainbow",this.parameters.reverse=G(n.reverse,!0)),n.structure.eachChain(function(r){i.parameters.domain=[r.residueOffset,r.residueEnd],i.scalePerChain[r.index]=i.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerChain[n.chainIndex](n.residueIndex)},t}(fn);On([Sn],QT.prototype,"atomColor",null),on.add("residueindex",QT);var Tte={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935,ASH:16711935,GLH:16711935,A:14423100,G:3329330,I:10145074,X:8190976,C:16766720,T:4286945,U:4251856,D:35723,DA:14423100,DG:3329330,DI:10145074,DX:8190976,DC:16766720,DT:4286945,DU:4251856,DD:35723},kT=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return Tte[n.resname]||16711935},t}(fn);On([Sn],kT.prototype,"atomColor",null),on.add("resname",kT);var Bte=16711808,Mte=10485888,Ste=6291584,Ote=16762880,Lte=6324479,Rte=16777215,Ite=11403518,Fte=16580962,Nte=10921722,VT=function(e){function t(n){e.call(this,n),this.residueProxy=n.structure.getResidueProxy()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i=n.sstruc,r=this.residueProxy;return i==="h"?Bte:i==="g"?Mte:i==="i"?Ste:i==="e"||i==="b"?Ote:i==="t"?Lte:(r.index=n.residueIndex,r.isDna()?Ite:r.isRna()?Fte:r.isSaccharide()?Nte:r.isProtein()||i==="s"||i==="l"?Rte:8421504)},t}(fn);On([Sn],VT.prototype,"atomColor",null),on.add("sstruc",VT);var Yg=function(e){function t(n){var i,r;e.call(this,n),n.scale||(this.parameters.scale="rwb"),this.atomData=(i=this.parameters.data)===null||i===void 0?void 0:i.atomData,this.bondData=(r=this.parameters.data)===null||r===void 0?void 0:r.bondData,this.scale=this.getScale(this.parameters)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var i,r=(i=this.atomData)===null||i===void 0?void 0:i[n.index];return r!==void 0?this.scale(r):this.parameters.value},t.prototype.bondColor=function(n,i){var r,s=(r=this.bondData)===null||r===void 0?void 0:r[n.index];return s!==void 0?this.scale(s):this.atomProxy?(this.atomProxy.index=i?n.atomIndex1:n.atomIndex2,this.atomColor(this.atomProxy)):this.parameters.value},t}(fn);On([Sn],Yg.prototype,"atomColor",null),On([Sn],Yg.prototype,"bondColor",null),on.add("structuredata",Yg);var ju=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return this.parameters.value},t.prototype.bondColor=function(){return this.parameters.value},t.prototype.valueColor=function(){return this.parameters.value},t.prototype.volumeColor=function(){return this.parameters.value},t}(fn);On([Sn],ju.prototype,"atomColor",null),On([Sn],ju.prototype,"bondColor",null),On([Sn],ju.prototype,"valueColor",null),On([Sn],ju.prototype,"volumeColor",null),on.add("uniform",ju);var KT=function(e){function t(n){e.call(this,n),this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.volumeColor=function(n){return this.valueScale(this.parameters.volume.data[n])},t}(fn);On([Sn],KT.prototype,"volumeColor",null),on.add("value",KT);var zT=function(e){function t(n){e.call(this,n),this.vec=new F,this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(n){var i=this.parameters.volume;if(!i||!i.inverseMatrix)return this.parameters.value;var r=this.vec,s=i.data,a=i.nx,o=i.ny,c=a*o;r.copy(n),r.applyMatrix4(i.inverseMatrix);var p=Math.floor(r.x),A=Math.floor(r.y),l=Math.floor(r.z),u=(l*o+A)*a+p,d=u+1,m=u+a,y=u+c,g=m+1,E=y+1,w=m+c,b=w+1,_=s[u],C=s[d],T=s[m],x=s[y],O=s[g],M=s[E],H=s[w],R=s[b],D=r.x-p,P=r.y-A,I=r.z-l,L=Hs(_,C,D),k=Hs(x,M,D),K=Hs(T,O,D),W=Hs(H,R,D),ee=Hs(L,K,P),le=Hs(k,W,P),J=Hs(ee,le,I);return this.valueScale(J)},t}(fn);On([Sn],zT.prototype,"positionColor",null),on.add("volume",zT);var sr=function(e){function t(i,r,s){var a=s||{};if(e.call(this,i,r,a),this.type="structure",this.parameters=Object.assign({radiusType:{type:"select",options:Ja.types},radiusData:{type:"hidden"},radiusSize:{type:"number",precision:3,max:10,min:.001},radiusScale:{type:"number",precision:3,max:10,min:.001},assembly:null,defaultAssembly:{type:"hidden"}},this.parameters),this.selection=new Nn(a.sele),this.dataList=[],this.structure=i,this.structureView=this.structure.getView(this.selection),i.biomolDict){var o={default:"default","":i.unitcell?"AU":"FULL"};Object.keys(i.biomolDict).forEach(function(c){o[c]=c}),this.parameters.assembly={type:"select",options:o,rebuild:!0}}else this.parameters.assembly=null}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultScale:{configurable:!0}};return n.defaultScale.get=function(){return{vdw:1,covalent:1,bfactor:.01,sstruc:1}},t.prototype.init=function(i){var r=this,s=i||{};s.colorScheme=G(s.colorScheme,"element"),this.setRadius(s.radius,s),this.radiusType=G(s.radiusType,"vdw"),this.radiusData=G(s.radiusData,{}),this.radiusSize=G(s.radiusSize,1),this.radiusScale=G(s.radiusScale,1),this.assembly=G(s.assembly,"default"),this.defaultAssembly=G(s.defaultAssembly,""),s.quality==="auto"&&(s.quality=this.getQuality()),e.prototype.init.call(this,s),this.selection.signals.stringChanged.add(function(){r.build()}),this.build()},t.prototype.setRadius=function(i,r){var s=Object.keys(o7);return typeof i=="string"&&s.includes(i.toLowerCase())?r.radiusType=i:i!==void 0&&(r.radiusType="size",r.radiusSize=i),this},t.prototype.getAssembly=function(){var i=this.assembly==="default"?this.defaultAssembly:this.assembly;return this.structure.biomolDict[i]},t.prototype.getQuality=function(){var i,r=this.structureView,s=this.getAssembly();return i=s?s.getAtomCount(r):r.atomCount,LS&&(i*=4),r.atomStore.count/r.residueStore.count<2&&(i*=10),i<15e3?"high":i<8e4?"medium":"low"},t.prototype.create=function(){var i=this;if(this.structureView.atomCount!==0)if(this.structureView.hasCoords()){this.needsBuild=!1;var r=this.getAssembly();if(r)r.partList.forEach(function(a,o){var c=a.getView(i.structureView);if(c.atomCount!==0){var p=i.createData(c,o);p&&(p.sview=c,p.instanceList=a.getInstanceList(),i.dataList.push(p))}});else{var s=this.createData(this.structureView,0);s&&(s.sview=this.structureView,this.dataList.push(s))}}else this.needsBuild=!0},t.prototype.update=function(i){var r=this;!this.lazy||this.visible?this.needsBuild?this.build():this.dataList.forEach(function(s){s.bufferList.length>0&&r.updateData(i,s)},this):Object.assign(this.lazyProps.what,i)},t.prototype.updateData=function(i,r){this.build()},t.prototype.getColorParams=function(){return Object.assign(Object.assign({},e.prototype.getColorParams.call(this)),{structure:this.structure})},t.prototype.getRadiusParams=function(i){return{type:this.radiusType,scale:this.radiusScale,size:this.radiusSize,data:this.radiusData}},t.prototype.getAtomParams=function(i,r){return Object.assign({what:i,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},r)},t.prototype.getBondParams=function(i,r){return Object.assign({what:i,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},r)},t.prototype.getAtomRadius=function(i){return this.structureView.atomSet.isSet(i.index)?new Ja(this.getRadiusParams()).atomRadius(i):0},t.prototype.setSelection=function(i,r){return this.selection.setString(i,r),this},t.prototype.setParameters=function(i,r,s){r===void 0&&(r={}),s===void 0&&(s=!1);var a=i||{};return this.setRadius(a.radius,a),a.radiusType===void 0&&a.radiusData===void 0&&a.radiusSize===void 0&&a.radiusScale===void 0||(r.radius=!0,za&&!this.disableImpostor||(s=!0)),a.defaultAssembly!==void 0&&a.defaultAssembly!==this.defaultAssembly&&(this.assembly==="default"&&a.assembly===void 0||a.assembly==="default")&&(s=!0),e.prototype.setParameters.call(this,a,r,s),this},t.prototype.getParameters=function(){return Object.assign(e.prototype.getParameters.call(this),{sele:this.selection?this.selection.string:void 0,defaultAssembly:this.defaultAssembly})},t.prototype.attach=function(i){var r=this.viewer,s=this.bufferList;this.dataList.forEach(function(a){a.bufferList.forEach(function(o){s.push(o),r.add(o,a.instanceList)})}),this.setVisibility(this.visible),i()},t.prototype.clear=function(){this.dataList.length=0,e.prototype.clear.call(this)},t.prototype.dispose=function(){this.structureView.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(xi),Q_=function(e){function t(n,i,r){e.call(this,n,i,r),this.n=0,this.parameters=Object.assign({labelVisible:{type:"boolean"},labelSize:{type:"number",precision:3,max:10,min:.001},labelColor:{type:"color"},labelFontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:"fontFamily"},labelFontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:"fontStyle"},labelFontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:"fontWeight"},labelsdf:{type:"boolean",buffer:"sdf"},labelXOffset:{type:"number",precision:1,max:20,min:-20,buffer:"xOffset"},labelYOffset:{type:"number",precision:1,max:20,min:-20,buffer:"yOffset"},labelZOffset:{type:"number",precision:1,max:20,min:-20,buffer:"zOffset"},labelAttachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},labelBorder:{type:"boolean",buffer:"showBorder"},labelBorderColor:{type:"color",buffer:"borderColor"},labelBorderWidth:{type:"number",precision:2,max:.3,min:0,buffer:"borderWidth"},labelBackground:{type:"boolean",rebuild:!0},labelBackgroundColor:{type:"color",buffer:"backgroundColor"},labelBackgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},labelBackgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:"backgroundOpacity"},labelFixedSize:{type:"boolean",buffer:"fixedSize"},lineOpacity:{type:"range",min:0,max:1,step:.01},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters,{flatShaded:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.labelVisible=G(i.labelVisible,!0),this.labelSize=G(i.labelSize,2),this.labelColor=G(i.labelColor,16777215),this.labelFontFamily=G(i.labelFontFamily,"sans-serif"),this.labelFontStyle=G(i.labelFontstyle,"normal"),this.labelFontWeight=G(i.labelFontWeight,"bold"),this.labelsdf=G(i.labelsdf,SS==="Chrome"),this.labelXOffset=G(i.labelXOffset,0),this.labelYOffset=G(i.labelYOffset,0),this.labelZOffset=G(i.labelZOffset,.5),this.labelAttachment=G(i.labelAttachment,"bottom-left"),this.labelBorder=G(i.labelBorder,!1),this.labelBorderColor=G(i.labelBorderColor,"lightgrey"),this.labelBorderWidth=G(i.labelBorderWidth,.15),this.labelBackground=G(i.labelBackground,!1),this.labelBackgroundColor=G(i.labelBackgroundColor,"lightgrey"),this.labelBackgroundMargin=G(i.labelBackgroundMargin,.5),this.labelBackgroundOpacity=G(i.labelBackgroundOpacity,1),this.labelFixedSize=G(i.labelFixedSize,!1),this.lineOpacity=G(i.lineOpacity,1),this.linewidth=G(i.linewidth,2),e.prototype.init.call(this,i)},t.prototype.update=function(n){n.position?this.build():e.prototype.update.call(this,n)},t.prototype.updateData=function(n,i){var r={};if(n&&!n.labelSize||Object.assign(r,{size:ms(this.n,this.labelSize)}),!n||n.labelColor){var s=new Je(this.labelColor);Object.assign(r,{color:Hn(this.n,s.r,s.g,s.b)})}this.textBuffer.setAttributes(r)},t.prototype.setParameters=function(n,i,r){return i===void 0&&(i={}),r===void 0&&(r=!1),n&&n.labelSize&&(i.labelSize=!0),n&&(n.labelColor||n.labelColor===0)&&(i.labelColor=!0,r=!0),e.prototype.setParameters.call(this,n,i,r),n&&n.opacity!==void 0&&this.textBuffer.setParameters({opacity:1}),n&&n.labelVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.textBuffer&&this.textBuffer.setVisibility(this.labelVisible&&this.visible),i||this.viewer.requestRender(),this},t.prototype.getLabelBufferParams=function(n){return n===void 0&&(n={}),e.prototype.getBufferParams.call(this,Object.assign({fontFamily:this.labelFontFamily,fontStyle:this.labelFontStyle,fontWeight:this.labelFontWeight,sdf:this.labelsdf,xOffset:this.labelXOffset,yOffset:this.labelYOffset,zOffset:this.labelZOffset,attachment:this.labelAttachment,showBorder:this.labelBorder,borderColor:this.labelBorderColor,borderWidth:this.labelBorderWidth,showBackground:this.labelBackground,backgroundColor:this.labelBackgroundColor,backgroundMargin:this.labelBackgroundMargin,backgroundOpacity:this.labelBackgroundOpacity,fixedSize:this.labelFixedSize,disablePicking:!0,visible:this.labelVisible},n,{opacity:1}))},t.prototype.getAtomRadius=function(){return 0},t}(sr);function k_(e,t){var n=e.getAtomProxy(),i=new Nn,r=t.length;if(r===0)return new Float32Array(0);var s=t[0].length,a=e.getAtomSet(),o=new Float32Array(r*s*3),c=0;return t.forEach(function(p){for(var A=!1,l=0;l<s;l++){var u=p[l];if(typeof u=="number"&&Number.isInteger(u)){if(!a.get(u)){A=!0;break}n.index=u}else{i.setString(u);var d=e.getAtomIndices(i);if(!d.length){A=!0;break}n.index=d[0]}var m=c+3*l;o[m++]=n.x,o[m++]=n.y,o[m++]=n.z}A||(c+=3*s)}),o.subarray(0,c)}function ua(e,t,n,i,r){var s=Math.cos(r),a=Math.sin(r);e[0]=t[0]+n[0]*s+i[0]*a,e[1]=t[1]+n[1]*s+i[1]*a,e[2]=t[2]+n[2]*s+i[2]*a}function YT(e,t,n,i,r,s,a){for(var o=0;o<t;o++){for(var c=0;c<n;c++)i[c]=e[c*t+o];WT(i,r,s,a,n);for(var p=0;p<n;p++)e[p*t+o]=r[p]}for(var A=0;A<n;A++){for(var l=0;l<t;l++)i[l]=e[A*t+l];WT(i,r,s,a,t);for(var u=0;u<t;u++)e[A*t+u]=Math.sqrt(r[u])}}function WT(e,t,n,i,r){n[0]=0,i[0]=Number.MIN_SAFE_INTEGER,i[1]=Number.MAX_SAFE_INTEGER;for(var s=1,a=0;s<r;s++){for(var o=(e[s]+s*s-(e[n[a]]+n[a]*n[a]))/(2*s-2*n[a]);o<=i[a];)a--,o=(e[s]+s*s-(e[n[a]]+n[a]*n[a]))/(2*s-2*n[a]);n[++a]=s,i[a]=o,i[a+1]=Number.MAX_SAFE_INTEGER}for(var c=0,p=0;c<r;c++){for(;i[p+1]<c;)p++;t[c]=(c-n[p])*(c-n[p])+e[n[p]]}}Cn.add("shader/SDFFont.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float xOffset;
uniform float yOffset;
uniform float zOffset;
uniform bool ortho;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
attribute vec2 mapping;
attribute vec2 inputTexCoord;
attribute float inputSize;
#include matrix_scale
#include common
void main(void){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
texCoord = inputTexCoord;
float scale = matrixScale( modelViewMatrix );
float _xOffset = xOffset * scale;
float _yOffset = yOffset * scale;
float _zOffset = zOffset * scale;
if( texCoord.x == 10.0 ){
_zOffset -= 0.001;
}
vec4 cameraPos = modelViewMatrix * vec4( position, 1.0 );
#ifdef FIXED_SIZE
if ( ortho ) {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPosition.z) * 0.1;
} else {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPos.z) * 0.1;
}
#endif
vec4 cameraCornerPos = vec4( cameraPos.xyz, 1.0 );
cameraCornerPos.xy += mapping * inputSize * 0.01 * scale;
cameraCornerPos.x += _xOffset;
cameraCornerPos.y += _yOffset;
if( ortho ){
cameraCornerPos.xyz += normalize( -cameraPosition ) * _zOffset;
} else {
cameraCornerPos.xyz += normalize( -cameraCornerPos.xyz ) * _zOffset;
}
gl_Position = projectionMatrix * cameraCornerPos;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -cameraCornerPos.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Cn.add("shader/SDFFont.frag",`uniform sampler2D fontTexture;
uniform float opacity;
uniform bool showBorder;
uniform vec3 borderColor;
uniform float borderWidth;
uniform vec3 backgroundColor;
uniform float backgroundOpacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
const vec3 vColor = vec3( 0.0 );
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#endif
const float gamma = 2.2 * 1.4142 / 128.0;
const float padding = 0.75;
void main(){
#include nearclip_fragment
#include radiusclip_fragment
if( texCoord.x > 1.0 ){
gl_FragColor = vec4( backgroundColor, backgroundOpacity );
}else{
float sdf = texture2D( fontTexture, texCoord ).a;
if( showBorder ) sdf += borderWidth;
float a = smoothstep(padding - gamma, padding + gamma, sdf);
if( a < 0.2 ) discard;
a *= opacity;
vec3 outgoingLight = vColor;
if( showBorder && sdf < ( padding + borderWidth ) ){
outgoingLight = borderColor;
}
gl_FragColor = vec4( outgoingLight, a );
}
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var Wg={},Pte={font:"sans-serif",size:36,style:"normal",variant:"normal",weight:"normal",outline:3,width:1024,height:1024},k1=function(e){e===void 0&&(e={}),this.gamma=1,this.mapped={},this.scratchW=0,this.scratchH=0,this.currentX=0,this.currentY=0,this.cutoff=.25,this.parameters=Es(e,Pte);var t=this.parameters;this.radius=t.size/8,this.padding=t.size/3;var n=this.lineHeight=t.size+2*t.outline+Math.round(t.size/4),i=this.maxWidth=t.width/4,r=this.canvas=document.createElement("canvas");r.width=i,r.height=n;var s=this.context=this.canvas.getContext("2d");s.font=t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.font,s.fillStyle="black",s.textAlign="left",s.textBaseline="bottom",s.lineJoin="round",this.gridOuter=new Float64Array(n*i),this.gridInner=new Float64Array(n*i),this.f=new Float64Array(Math.max(n,i)),this.d=new Float64Array(Math.max(n,i)),this.z=new Float64Array(Math.max(n,i)+1),this.v=new Int16Array(Math.max(n,i)),this.data=new Uint8Array(t.width*t.height*4),this.canvas2=document.createElement("canvas"),this.canvas2.width=t.width,this.canvas2.height=t.height,this.context2=this.canvas2.getContext("2d"),this.placeholder=this.map(String.fromCharCode(65533));for(var a=32;a<=126;++a)this.map(String.fromCharCode(a));this.map(String.fromCharCode(176)),this.map(String.fromCharCode(8491)),this.texture=new ad(this.canvas2),this.texture.flipY=!1,this.texture.needsUpdate=!0};k1.prototype.map=function(e){var t=this.parameters;return this.mapped[e]===void 0&&(this.draw(e),this.currentX+this.scratchW>t.width&&(this.currentX=0,this.currentY+=this.scratchH),this.currentY+this.scratchH>t.height&&console.warn("canvas to small"),this.mapped[e]={x:this.currentX,y:this.currentY,w:this.scratchW,h:this.scratchH},this.context2.drawImage(this.canvas,0,0,this.scratchW,this.scratchH,this.currentX,this.currentY,this.scratchW,this.scratchH),this.currentX+=this.scratchW),this.mapped[e]},k1.prototype.get=function(e){return this.mapped[e]||this.placeholder},k1.prototype.draw=function(e){var t=this.parameters,n=this.lineHeight,i=t.outline,r=this.context,s=this.maxWidth,a=i,o=n-t.outline,c=r.measureText(e),p=Math.min(s,Math.ceil(c.width+2*a+1)),A=p*n;r.clearRect(0,0,p,n),r.fillText(e,a,o);for(var l=r.getImageData(0,0,p,n),u=l.data,d=0;d<A;d++){var m=l.data[4*d+3]/255;this.gridOuter[d]=m===1?0:m===0?Number.MAX_SAFE_INTEGER:Math.pow(Math.max(0,.5-m),2),this.gridInner[d]=m===1?Number.MAX_SAFE_INTEGER:m===0?0:Math.pow(Math.max(0,m-.5),2)}YT(this.gridOuter,p,n,this.f,this.d,this.v,this.z),YT(this.gridInner,p,n,this.f,this.d,this.v,this.z);for(var y=0;y<A;y++){var g=this.gridOuter[y]-this.gridInner[y];u[4*y+3]=Math.max(0,Math.min(255,Math.round(255-255*(g/this.radius+this.cutoff))))}r.putImageData(l,0,0),this.scratchW=p,this.scratchH=n};var Ute=Object.assign({fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"bold",fontSize:36,xOffset:0,yOffset:0,zOffset:.5,attachment:"bottom-left",showBorder:!1,borderColor:"lightgrey",borderWidth:.15,showBackground:!1,backgroundColor:"lightgrey",backgroundMargin:.5,backgroundOpacity:1,forceTransparent:!0,fixedSize:!1},Fr),Hte=Object.assign({fontFamily:{uniform:!0},fontStyle:{uniform:!0},fontWeight:{uniform:!0},fontSize:{uniform:!0},xOffset:{uniform:!0},yOffset:{uniform:!0},zOffset:{uniform:!0},showBorder:{uniform:!0},borderColor:{uniform:!0},borderWidth:{uniform:!0},backgroundColor:{uniform:!0},backgroundOpacity:{uniform:!0},fixedSize:{updateShader:!0}},nA);function $T(e,t){for(var n=e.position.length/3,i=0,r=0;r<n;++r)i+=e.text[r].length;return t.showBackground&&(i+=n),i}var Au=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(3*$T(i,r)),color:new Float32Array(3*$T(i,r)),picking:new fee},r),this.parameterTypes=Hte,this.alwaysTransparent=!0,this.hasWireframe=!1,this.isText=!0,this.vertexShader="SDFFont.vert",this.fragmentShader="SDFFont.frag",this.text=i.text,this.positionCount=i.position.length/3,this.addUniforms({fontTexture:{value:null},xOffset:{value:this.parameters.xOffset},yOffset:{value:this.parameters.yOffset},zOffset:{value:this.parameters.zOffset},ortho:{value:!1},showBorder:{value:this.parameters.showBorder},borderColor:{value:new Je(this.parameters.borderColor)},borderWidth:{value:this.parameters.borderWidth},backgroundColor:{value:new Je(this.parameters.backgroundColor)},backgroundOpacity:{value:this.parameters.backgroundOpacity},canvasHeight:{value:1},pixelRatio:{value:1}}),this.addAttributes({inputTexCoord:{type:"v2",value:null},inputSize:{type:"f",value:null}}),this.setAttributes(i),this.makeTexture(),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Ute},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this);var i=this.texture,r=this.material;r.transparent=!0,r.extensions.derivatives=!0,r.lights=!1,r.uniforms.fontTexture.value=i,r.needsUpdate=!0;var s=this.wireframeMaterial;s.transparent=!0,s.extensions.derivatives=!0,s.lights=!1,s.uniforms.fontTexture.value=i,s.needsUpdate=!0;var a=this.pickingMaterial;a.extensions.derivatives=!0,a.lights=!1,a.uniforms.fontTexture.value=i,a.needsUpdate=!0},t.prototype.setAttributes=function(i){var r,s,a,o,c,p;i===void 0&&(i={});var A=this.text,l=this.geometry.attributes;i.position&&(r=i.position,o=l.position.array,l.position.needsUpdate=!0),i.size&&(s=i.size,c=l.inputSize.array,l.inputSize.needsUpdate=!0),i.color&&(a=i.color,p=l.color.array,l.color.needsUpdate=!0);for(var u,d,m,y,g=this.positionCount,E=0,w=0;w<g;++w)for(d=3*w,y=A[w].length,this.parameters.showBackground&&(y+=1),m=0;m<y;++m,++E)for(var b=0;b<4;b++)u=4*E*3+3*b,r&&(o[u]=r[d],o[u+1]=r[d+1],o[u+2]=r[d+2]),s&&(c[4*E+b]=s[w]),a&&(p[u]=a[d],p[u+1]=a[d+1],p[u+2]=a[d+2])},t.prototype.makeTexture=function(){var i,r;this.textAtlas=(i={font:this.parameters.fontFamily,style:this.parameters.fontStyle,weight:this.parameters.fontWeight,size:this.parameters.fontSize},r=JSON.stringify(i),Wg[r]===void 0&&(Wg[r]=new k1(i)),Wg[r]),this.texture=this.textAtlas.texture},t.prototype.makeMapping=function(){for(var i,r,s,a,o,c,p,A,l=this.textAtlas,u=this.text,d=this.parameters.attachment,m=l.lineHeight*this.parameters.backgroundMargin*.1-10,y=this.geometry.attributes,g=y.inputTexCoord.array,E=y.mapping.array,w=this.positionCount,b=0,_=0;_<w;++_){for(a=0,c=(s=u[_]).length,o=0;o<c;++o)a+=(i=l.get(s[o])).w-2*l.parameters.outline;for(A=d.startsWith("top")?l.lineHeight/1.25:d.startsWith("middle")?l.lineHeight/2.5:0,p=d.endsWith("right")?a:d.endsWith("center")?a/2:0,p+=l.parameters.outline,A+=l.parameters.outline,this.parameters.showBackground&&(E[(r=2*b*4)+0]=-l.lineHeight/6-p-m,E[r+1]=l.lineHeight-A+m,E[r+2]=-l.lineHeight/6-p-m,E[r+3]=0-A-m,E[r+4]=a+l.lineHeight/6-p+2*l.parameters.outline+m,E[r+5]=l.lineHeight-A+m,E[r+6]=a+l.lineHeight/6-p+2*l.parameters.outline+m,E[r+7]=0-A-m,g[r+0]=10,g[r+2]=10,g[r+4]=10,g[r+6]=10,b+=1),a=0,o=0;o<c;++o,++b){i=l.get(s[o]),E[(r=2*b*4)+0]=a-p,E[r+1]=i.h-A,E[r+2]=a-p,E[r+3]=0-A,E[r+4]=a+i.w-p,E[r+5]=i.h-A,E[r+6]=a+i.w-p,E[r+7]=0-A;var C=l.parameters.width,T=l.parameters.height,x=[i.x/C,i.y/T,i.x/C,(i.y+i.h)/T,(i.x+i.w)/C,i.y/T,(i.x+i.w)/C,(i.y+i.h)/T];g.set(x,r),a+=i.w-2*l.parameters.outline}}y.inputTexCoord.needsUpdate=!0,y.mapping.needsUpdate=!0},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i);return this.parameters.fixedSize&&(r.FIXED_SIZE=1),r},t.prototype.setUniforms=function(i){!i||i.fontFamily===void 0&&i.fontStyle===void 0&&i.fontWeight===void 0&&i.fontSize===void 0||(this.makeTexture(),this.makeMapping(),this.texture.needsUpdate=!0,i.fontTexture=this.texture),e.prototype.setUniforms.call(this,i)},Object.defineProperties(t.prototype,n),t}(U_);ys.add("text",Au),Cn.add("shader/WideLine.vert",`
uniform float clipNear;
uniform vec3 clipCenter;
uniform float linewidth;
uniform vec2 resolution;
uniform mat4 projectionMatrixInverse;
attribute vec2 mapping;
attribute vec3 position1;
attribute vec3 position2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void trimSegment( const in vec4 start, inout vec4 end ) {
float a = projectionMatrix[ 2 ][ 2 ]; float b = projectionMatrix[ 3 ][ 2 ]; float nearEstimate = - 0.5 * b / a;
float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );
end.xyz = mix( start.xyz, end.xyz, alpha );
}
void main() {
float aspect = resolution.x / resolution.y;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
flag = mapping.y;
vColor = color;
vColor2 = color2;
#endif
vec4 start = modelViewMatrix * vec4( position1, 1.0 );
vec4 end = modelViewMatrix * vec4( position2, 1.0 );
bool perspective = ( projectionMatrix[ 2 ][ 3 ] == -1.0 ); if ( perspective ) {
if ( start.z < 0.0 && end.z >= 0.0 ) {
trimSegment( start, end );
} else if ( end.z < 0.0 && start.z >= 0.0 ) {
trimSegment( end, start );
}
}
vec4 clipStart = projectionMatrix * start;
vec4 clipEnd = projectionMatrix * end;
vec2 ndcStart = clipStart.xy / clipStart.w;
vec2 ndcEnd = clipEnd.xy / clipEnd.w;
vec2 dir = ndcEnd - ndcStart;
dir.x *= aspect;
dir = normalize( dir );
vec2 offset = vec2( dir.y, - dir.x );
dir.x /= aspect;
offset.x /= aspect;
if ( mapping.x < 0.0 ) offset *= - 1.0;
offset *= linewidth;
offset /= resolution.y;
vec4 clip = ( mapping.y < 0.5 ) ? clipStart : clipEnd;
offset *= clip.w;
clip.xy += offset;
gl_Position = clip;
#ifndef PICKING
vViewPosition = ( projectionMatrixInverse * clip ).xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Cn.add("shader/WideLine.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include fog_pars_fragment
varying vec3 vViewPosition;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
#endif
void main() {
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
if ( flag < 0.0 ) {
diffuseColor.rgb *= vColor;
} else {
diffuseColor.rgb *= vColor2;
}
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var Dte=Object.assign({linewidth:2},Fr),Gte=Object.assign({linewidth:{uniform:!0}},nA),Yo=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=Gte,this.vertexShader="WideLine.vert",this.fragmentShader="WideLine.frag",!i.color2&&i.color&&(i.color2=i.color),this.addUniforms({linewidth:{value:this.parameters.linewidth},resolution:{value:new Ke},projectionMatrixInverse:{value:new Xe}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null}}),this.setAttributes(i),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Dte},t.prototype.setParameters=function(i){e.prototype.setParameters.call(this,i)},Object.defineProperties(t.prototype,n),t}(U_);ys.add("wideline",Yo);var Qte=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="angle",this.parameters=Object.assign({atomTriple:{type:"hidden",rebuild:!0},vectorVisible:{type:"boolean",default:!0},arcVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.side=G(i.side,"double"),i.opacity=G(i.opacity,.5),this.atomTriple=G(i.atomTriple,[]),this.arcVisible=G(i.arcVisible,!0),this.sectorVisible=G(i.sectorVisible,!0),this.vectorVisible=G(i.vectorVisible,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){if(n.atomCount&&this.atomTriple.length){var i=function(c,p){return function(A){for(var l=[],u=A.length/9,d=0;d<u;d++){for(var m=!0,y=d;y<d+3;y+=3)A[y]===A[y+3]&&A[y+1]===A[y+4]&&A[y+2]===A[y+5]&&(m=!1);m&&l.push(d)}var g=new Float32Array(9*l.length),E=0;return l.forEach(function(w){Ri(A,g,9*w,9*E,9),E++}),g}(k_(c,p))}(n,this.atomTriple),r=function(c,p){p===void 0&&(p={});for(var A=G(p.angleStep,Math.PI/90),l=c.length/9,u=new Float32Array(l),d=new Float32Array(3*l),m=new Array(l),y=new Float32Array(6*l),g=new Float32Array(6*l),E=new Array(l),w=new Array(l),b=new Array(l),_=0,C=zt(),T=zt(),x=zt(),O=zt(),M=zt(),H=zt(),R=zt(),D=zt(),P=zt(),I=function(fe){var pe=9*fe;Or(C,c,pe),Or(T,c,pe+3),Or(x,c,pe+6);var Ee=6*fe;qt(C,y,Ee),qt(T,g,Ee),qt(T,y,Ee+3),qt(x,g,Ee+3),oi(O,C,T),oi(M,x,T),Ai(O,O),Ai(M,M),jr(H,O,M);var q=Dc(H),Z=Kr(O,M),ae=u[fe]=Math.atan2(q,Z);m[fe]=(NS*ae).toFixed(1)+String.fromCharCode(176),Dc(H)===0&&(H[0]=1,H[1]=0,H[2]=0),jr(R,H,O),Ai(R,R),ua(D,T,O,R,ae/2),qt(D,d,3*fe);var Ae=Math.ceil(ae/A),we=new Float32Array(9*Ae);b[fe]=we;var xe=new Float32Array(3*Ae),Le=new Float32Array(3*Ae);E[fe]=xe,w[fe]=Le,ha(P,T,O);for(var V=function(he,oe){var ue=9*oe,Oe=3*oe;qt(T,we,ue),qt(P,we,ue+3),qt(P,xe,Oe),ua(P,T,O,R,he),qt(P,we,ue+6),qt(P,Le,Oe)},j=0,ve=A;ve<ae;ve+=A)V(ve,j),j++;V(ae,j),_+=Ae},L=0;L<l;L++)I(L);for(var k=3*_,K=9*_,W=new Float32Array(k),ee=new Float32Array(k),le=new Float32Array(K),J=0,re=0,te=0;te<l;te++){var ge=E[te],me=w[te];Ri(ge,W,0,re,ge.length),Ri(me,ee,0,re,me.length),re+=ge.length;var ie=b[te];Ri(ie,le,0,J,ie.length),J+=ie.length}return{labelPosition:d,labelText:m,vectorPosition1:y,vectorPosition2:g,arcPosition1:W,arcPosition2:ee,sectorPosition:le}}(i),s=this.n=r.labelPosition.length/3,a=new Je(this.labelColor);this.textBuffer=new Au({position:r.labelPosition,size:ms(s,this.labelSize),color:Hn(s,a.r,a.g,a.b),text:r.labelText},this.getLabelBufferParams());var o=new Je(this.colorValue);return this.vectorBuffer=new Yo(g4({position1:r.vectorPosition1,position2:r.vectorPosition2,color:Hn(2*s,o.r,o.g,o.b),color2:Hn(2*s,o.r,o.g,o.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.vectorVisible,opacity:this.lineOpacity})),this.arcLength=r.arcPosition1.length/3,this.arcBuffer=new Yo(g4({position1:r.arcPosition1,position2:r.arcPosition2,color:Hn(this.arcLength,o.r,o.g,o.b),color2:Hn(this.arcLength,o.r,o.g,o.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.arcVisible,opacity:this.lineOpacity})),this.sectorLength=r.sectorPosition.length/3,this.sectorBuffer=new zo({position:r.sectorPosition,color:Hn(this.sectorLength,o.r,o.g,o.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.vectorBuffer,this.arcBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(n,i){e.prototype.updateData.call(this,n,i);var r={},s={},a={};if(n.color){var o=new Je(this.colorValue);Object.assign(r,{color:Hn(2*this.n,o.r,o.g,o.b),color2:Hn(2*this.n,o.r,o.g,o.b)}),Object.assign(s,{color:Hn(this.arcLength,o.r,o.g,o.b),color2:Hn(this.arcLength,o.r,o.g,o.b)}),Object.assign(a,{color:Hn(this.sectorLength,o.r,o.g,o.b)})}this.vectorBuffer.setAttributes(r),this.arcBuffer.setAttributes(s),this.sectorBuffer.setAttributes(a)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),!n||n.vectorVisible===void 0&&n.arcVisible===void 0&&n.sectorVisible===void 0||this.setVisibility(this.visible),n&&n.lineOpacity&&(this.vectorBuffer.setParameters({opacity:n.lineOpacity}),this.arcBuffer.setParameters({opacity:n.lineOpacity})),n&&n.opacity!==void 0&&(this.vectorBuffer.setParameters({opacity:this.lineOpacity}),this.arcBuffer.setParameters({opacity:this.lineOpacity})),n&&n.linewidth&&(this.vectorBuffer.setParameters({linewidth:n.linewidth}),this.arcBuffer.setParameters({linewidth:n.linewidth})),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.vectorBuffer&&this.vectorBuffer.setVisibility(this.vectorVisible&&this.visible),this.arcBuffer&&this.arcBuffer.setVisibility(this.arcVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),i||this.viewer.requestRender(),this},t}(Q_);Jn.add("angle",Qte);var jT=new F,$g=new F,jg=new F,kte=new F(0,1,0),V_=Object.assign({radialSegments:1,openEnded:!0},Fr);function XT(e){e===void 0&&(e={});var t=G(e.radialSegments,10),n=G(e.openEnded,!0),i=new Xe().makeRotationX(Math.PI/2),r=new Go(1,1,1,t,1,n);return r.applyMatrix4(i),r}var y7=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,function(o,c){c===void 0&&(c={});var p=XT(c),A=o.position1.length,l=p.attributes.position.array.length/3,u=A/3,d=new Float32Array(2*u*l);return m4(u,l,0,d),m4(u,l,u*l,d),{position:new Float32Array(2*A),color:new Float32Array(2*A),primitiveId:d,picking:o.picking}}(i,r),r,XT(r)),this.updateNormals=!0;var s=i.position1.length,a=i.radius.length;this.__center=new Float32Array(s),this._position=new Float32Array(2*s),this._color=new Float32Array(2*s),this._from=new Float32Array(2*s),this._to=new Float32Array(2*s),this._radius=new Float32Array(2*a),this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return V_},t.prototype.applyPositionTransform=function(i,r,s){$g.fromArray(this._from,s),jg.fromArray(this._to,s),i.lookAt($g,jg,kte);var a=this._radius[r];jT.set(a,a,$g.distanceTo(jg)),i.scale(jT)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={});var s={};i.position1&&i.position2&&(Ya(i.position1,i.position2,this.__center),Ya(i.position1,this.__center,this._position),Ya(this.__center,i.position2,this._position,i.position1.length),this._from.set(i.position1),this._from.set(this.__center,i.position1.length),this._to.set(this.__center),this._to.set(i.position2,this.__center.length),s.position=this._position),i.color&&i.color2&&(this._color.set(i.color),this._color.set(i.color2,i.color.length),s.color=this._color),i.radius&&(this._radius.set(i.radius),this._radius.set(i.radius,i.radius.length),s.radius=this._radius),e.prototype.setAttributes.call(this,s,r)},Object.defineProperties(t.prototype,n),t}(Xc);Cn.add("shader/CylinderImpostor.vert",`
attribute vec3 mapping;
attribute vec3 position1;
attribute vec3 position2;
attribute float radius;
varying vec3 axis;varying vec4 base_radius;varying vec4 end_b;varying vec3 U;varying vec3 V;
varying vec4 w;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform mat4 modelViewMatrixInverse;
uniform float ortho;
#include matrix_scale
void main(){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
base_radius.w = radius * matrixScale( modelViewMatrix );
vec3 center = position;
vec3 dir = normalize( position2 - position1 );
float ext = length( position2 - position1 ) / 2.0;
vec3 cam_dir;
if( ortho == 0.0 ){
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 0, 1 ) ).xyz - center;
}else{
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 1, 0 ) ).xyz;
}
cam_dir = normalize( cam_dir );
vec3 ldir;
float b = dot( cam_dir, dir );
end_b.w = b;
if( b < 0.0 )
ldir = -ext * dir;
else
ldir = ext * dir;
vec3 left = radius * normalize( cross( cam_dir, ldir ) );
vec3 up = radius * normalize( cross( left, ldir ) );
axis = normalize( normalMatrix * ldir );
U = normalize( normalMatrix * up );
V = normalize( normalMatrix * left );
vec4 base4 = modelViewMatrix * vec4( center - ldir, 1.0 );
base_radius.xyz = base4.xyz / base4.w;
vec4 end4 = modelViewMatrix * vec4( center + ldir, 1.0 );
end_b.xyz = end4.xyz / end4.w;
w = modelViewMatrix * vec4(
center + mapping.x*ldir + mapping.y*left + mapping.z*up, 1.0
);
gl_Position = projectionMatrix * w;
gl_Position.z = 0.99;
}`),Cn.add("shader/CylinderImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying vec3 axis;
varying vec4 base_radius;
varying vec4 end_b;
varying vec3 U;
varying vec3 V;
varying vec4 w;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float distSq3( vec3 v3a, vec3 v3b ){
return (
( v3a.x - v3b.x ) * ( v3a.x - v3b.x ) +
( v3a.y - v3b.y ) * ( v3a.y - v3b.y ) +
( v3a.z - v3b.z ) * ( v3a.z - v3b.z )
);
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
void main(){
vec3 ray_target = w.xyz / w.w;
vec3 base = base_radius.xyz; float vRadius = base_radius.w; vec3 end = end_b.xyz; float b = end_b.w;
vec3 ray_origin = vec3(0.0); vec3 ortho_ray_direction = vec3(0.0, 0.0, 1.0); vec3 persp_ray_direction = normalize(ray_origin - ray_target);
vec3 ray_direction = mix(persp_ray_direction, ortho_ray_direction, ortho);

mat3 basis = mat3( U, V, axis );
vec3 diff = ray_target - 0.5 * (base + end);

vec3 P = diff * basis;
float dz = dot( axis, ray_direction );
float radius2 = vRadius*vRadius;
vec3 D = vec3(dot(U, ray_direction),
dot(V, ray_direction),
dz);
float a0 = P.x*P.x + P.y*P.y - radius2;
float a1 = P.x*D.x + P.y*D.y;
float a2 = D.x*D.x + D.y*D.y;
float d = a1*a1 - a0*a2;
if (d < 0.0) {
discard;
}
float dist = (-a1 + sqrt(d)) / a2;
vec3 surface_point = ray_target + dist * ray_direction;
vec3 base_to_surface = surface_point - base;
vec3 _normal = normalize( base_to_surface - axis * dot(base_to_surface, axis) );
float base_cap_test = dot( base_to_surface, axis );
float end_cap_test = dot((surface_point - end), axis);
#ifndef CAP
vec3 new_point2 = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
vec3 tmp_point2 = new_point2 - base;
#endif
if (base_cap_test < 0.0) {
float dNV;
float near;
vec3 front_point;
if ( ortho == 1.0 ) {
front_point = ray_target;
} else {
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
front_point = ray_direction * near + ray_origin;
}
if (dot(front_point - base, front_point-base) > radius2) {
discard;
}
#ifdef CAP
surface_point = front_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(axis, end) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - end, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
if( end_cap_test > 0.0 )
{
float dNV;
float near;
vec3 end_point;
if ( ortho == 1.0 ) {
end_point = ray_target;
} else {
dNV = dot(axis, ray_direction);
if (dNV < 0.0) {
discard;
}
near = dot(axis, end) / dNV;
end_point = ray_direction * near + ray_origin;
}

if( dot(end_point - end, end_point-base) > radius2 ) {
discard;
}
#ifdef CAP
surface_point = end_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - base, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
gl_FragDepthEXT = calcDepth( surface_point );

#ifdef NEAR_CLIP
if( calcClip( surface_point ) > 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
if( calcClip( surface_point ) > 0.0 ) {
discard;
}
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#endif
if (gl_FragDepthEXT < 0.0) {
discard;
}
if (gl_FragDepthEXT > 1.0) {
discard;
}
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -surface_point;
vec3 vNormal = _normal;
vec3 vColor;
if( distSq3( surface_point, end ) < distSq3( surface_point, base ) ){
if( b < 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}else{
if( b > 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var Vte=new Float32Array([-1,1,-1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1]),Kte=new Uint16Array([0,1,2,1,4,2,2,4,3,4,5,3]),zte=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,"v3",i,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return Vte},n.mappingIndices.get=function(){return Kte},n.mappingIndicesSize.get=function(){return 12},n.mappingSize.get=function(){return 6},n.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,n),t}(P_),g7=Object.assign({openEnded:!1},Fr),Yte=Object.assign({openEnded:{updateShader:!0}},nA),Wte=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=Yte,this.isImpostor=!0,this.vertexShader="CylinderImpostor.vert",this.fragmentShader="CylinderImpostor.frag",this.addUniforms({modelViewMatrixInverse:{value:new Xe},ortho:{value:0}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null}}),this.setAttributes(i),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return g7},t.prototype.getDefines=function(i){var r=e.prototype.getDefines.call(this,i);return this.parameters.openEnded||(r.CAP=1),r},Object.defineProperties(t.prototype,n),t}(zte);Object.assign({disableImpostor:!1},V_,g7);var jo=function(e,t){return t===void 0&&(t={}),!e.color2&&e.color&&(e.color2=e.color),!za||t&&t.disableImpostor?new y7(e,t):new Wte(e,t)};ys.add("cylinder",jo);var $te=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="axes",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0,showAxes:{type:"boolean",rebuild:!0},showBox:{type:"boolean",rebuild:!0}},this.parameters,{assembly:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusSize=G(i.radiusSize,.5),i.colorValue=G(i.colorValue,"lightgreen"),i.useInteriorColor=G(i.useInteriorColor,!0),this.showAxes=G(i.showAxes,!0),this.showBox=G(i.showBox,!1),e.prototype.init.call(this,i)},t.prototype.getPrincipalAxes=function(){var n,i=this.getAssembly();return i&&(n=i.partList[0].getSelection()),this.structureView.getPrincipalAxes(n)},t.prototype.getAxesData=function(n){var i=this.getPrincipalAxes(),r=new Je(this.colorValue),s=0,a=0;this.showAxes&&(s+=6,a+=3),this.showBox&&(s+=8,a+=12);var o=new Float32Array(3*s),c=Hn(s,r.r,r.g,r.b),p=ms(s,this.radiusSize),A=new Float32Array(3*a),l=new Float32Array(3*a),u=Hn(a,r.r,r.g,r.b),d=ms(a,this.radiusSize),m=0;if(this.showAxes){var y=function(P,I){P.toArray(o,2*m),I.toArray(o,2*m+3),P.toArray(A,m),I.toArray(l,m),m+=3};y(i.begA,i.endA),y(i.begB,i.endB),y(i.begC,i.endC)}if(this.showBox){var g=new F,E=i.getProjectedScaleForAtoms(n),w=E.d1a,b=E.d2a,_=E.d3a,C=E.d1b,T=E.d2b,x=E.d3b,O=2*m,M=function(P,I,L){g.copy(i.center).addScaledVector(i.normVecA,P).addScaledVector(i.normVecB,I).addScaledVector(i.normVecC,L),g.toArray(o,O),O+=3};M(w,b,_),M(w,b,x),M(w,T,x),M(w,T,_),M(C,T,x),M(C,T,_),M(C,b,_),M(C,b,x);var H=m,R=function(P,I){g.fromArray(o,2*m+3*P).toArray(A,H),g.fromArray(o,2*m+3*I).toArray(l,H),H+=3};R(0,1),R(0,3),R(0,6),R(1,2),R(1,7),R(2,3),R(2,4),R(3,5),R(4,5),R(4,7),R(5,6),R(6,7)}var D=new see(i);return{vertex:{position:o,color:c,radius:p,picking:D},edge:{position1:A,position2:l,color:u,color2:u,radius:d,picking:D}}},t.prototype.create=function(){var n=this.getAxesData(this.structureView);this.sphereBuffer=new qc(n.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new jo(n.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})},t.prototype.createData=function(n){},t.prototype.updateData=function(n,i){var r=this.getAxesData(i.sview),s={},a={};n&&!n.position||(Object.assign(s,{position:r.vertex.position}),Object.assign(a,{position1:r.edge.position1,position2:r.edge.position2})),n&&!n.color||(Object.assign(s,{color:r.vertex.color}),Object.assign(a,{color:r.edge.color,color2:r.edge.color})),n&&!n.radius||(Object.assign(s,{radius:r.vertex.radius}),Object.assign(a,{radius:r.edge.radius})),this.sphereBuffer.setAttributes(s),this.cylinderBuffer.setAttributes(a)},t}(sr);Jn.add("axes",$te);var kE=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="ball+stick",this.parameters=Object.assign({sphereDetail:!0,radialSegments:!0,openEnded:!0,disableImpostor:!0,aspectRatio:{type:"number",precision:1,max:10,min:1},lineOnly:{type:"boolean",rebuild:!0},cylinderOnly:{type:"boolean",rebuild:!0},multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondScale:{type:"number",precision:2,max:1,min:.01},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusType=G(i.radiusType,"size"),i.radiusSize=G(i.radiusSize,.15),i.useInteriorColor=G(i.useInteriorColor,!0),this.aspectRatio=G(i.aspectRatio,2),this.lineOnly=G(i.lineOnly,!1),this.cylinderOnly=G(i.cylinderOnly,!1),this.multipleBond=G(i.multipleBond,"off"),this.bondSpacing=G(i.bondSpacing,1),this.bondScale=G(i.bondScale,.4),this.linewidth=G(i.linewidth,2),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(n){return this.aspectRatio*e.prototype.getAtomRadius.call(this,n)},t.prototype.getAtomParams=function(n,i){var r=e.prototype.getAtomParams.call(this,n,i);return r.radiusParams.scale*=this.aspectRatio,r},t.prototype.getAtomData=function(n,i,r){return n.getAtomData(this.getAtomParams(i,r))},t.prototype.getBondParams=function(n,i){return i=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,bondScale:this.bondScale},i),e.prototype.getBondParams.call(this,n,i)},t.prototype.getBondData=function(n,i,r){return n.getBondData(this.getBondParams(i,r))},t.prototype.createData=function(n){var i=[];if(this.lineOnly)this.lineBuffer=new Yo(this.getBondData(n,{position:!0,color:!0,picking:!0}),this.getBufferParams({linewidth:this.linewidth})),i.push(this.lineBuffer);else{var r=new jo(this.getBondData(n),this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}));if(i.push(r),!this.cylinderOnly){var s=new qc(this.getAtomData(n),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));i.push(s)}}return{bufferList:i}},t.prototype.updateData=function(n,i){this.multipleBond!=="off"&&n&&n.radius&&(n.position=!0);var r=this.getBondData(i.sview,n);if(this.lineOnly){var s={};n&&!n.position||Object.assign(s,{position1:r.position1,position2:r.position2}),n&&!n.color||Object.assign(s,{color:r.color,color2:r.color2}),i.bufferList[0].setAttributes(s)}else{var a={};if(n&&!n.position||Object.assign(a,{position1:r.position1,position2:r.position2}),n&&!n.color||Object.assign(a,{color:r.color,color2:r.color2}),n&&!n.radius||Object.assign(a,{radius:r.radius}),i.bufferList[0].setAttributes(a),!this.cylinderOnly){var o=this.getAtomData(i.sview,n),c={};n&&!n.position||Object.assign(c,{position:o.position}),n&&!n.color||Object.assign(c,{color:o.color}),n&&!n.radius||Object.assign(c,{radius:o.radius}),i.bufferList[1].setAttributes(c)}}},t.prototype.setParameters=function(n){n===void 0&&(n={});var i=!1,r={};return(n.aspectRatio||n.bondSpacing||n.bondScale)&&(Object.assign(r,{radius:!0}),za&&!this.disableImpostor||(i=!0)),e.prototype.setParameters.call(this,n,r,i),this},t}(sr);Jn.add("ball+stick",kE);var jte=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="backbone",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=G(i.aspectRatio,1),i.radiusSize=G(i.radiusSize,.25),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.getAtomData=function(n,i,r){return n.getBackboneAtomData(this.getAtomParams(i,r))},t.prototype.getBondData=function(n,i,r){return n.getBackboneBondData(this.getBondParams(i,r))},t}(kE);Jn.add("backbone",jte);var Xte=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="base",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=G(i.aspectRatio,1),i.radiusSize=G(i.radiusSize,.3),e.prototype.init.call(this,i)},t.prototype.getAtomData=function(n,i,r){return n.getRungAtomData(this.getAtomParams(i,r))},t.prototype.getBondData=function(n,i,r){var s=this.getBondParams(i,r);return Object.assign(s.colorParams,{rung:!0}),n.getRungBondData(s)},t}(kE);Jn.add("base",Xte);var Yi=function(e,t){this.m=e,this.tension=t,this.dt=1/this.m,this.delta=1e-4,this.vec1=new F,this.vec2=new F,this.vDir=new F,this.vTan=new F,this.vNorm=new F,this.vBin=new F,this.m2=Math.ceil(this.m/2)};Yi.prototype.interpolateToArr=function(e,t,n,i,r,s,a){s[a+0]=Oo(e.x,t.x,n.x,i.x,r,this.tension),s[a+1]=Oo(e.y,t.y,n.y,i.y,r,this.tension),s[a+2]=Oo(e.z,t.z,n.z,i.z,r,this.tension)},Yi.prototype.interpolateToVec=function(e,t,n,i,r,s){s.x=Oo(e.x,t.x,n.x,i.x,r,this.tension),s.y=Oo(e.y,t.y,n.y,i.y,r,this.tension),s.z=Oo(e.z,t.z,n.z,i.z,r,this.tension)},Yi.prototype.interpolatePosition=function(e,t,n,i,r,s){for(var a=0;a<this.m;++a){var o=s+3*a,c=this.dt*a;this.interpolateToArr(e,t,n,i,c,r,o)}},Yi.prototype.interpolateTangent=function(e,t,n,i,r,s){for(var a=0;a<this.m;++a){var o=this.dt*a,c=o-this.delta,p=o+this.delta,A=s+3*a;c<0&&(c=0),p>1&&(p=1),this.interpolateToVec(e,t,n,i,c,this.vec1),this.interpolateToVec(e,t,n,i,p,this.vec2),this.vec2.sub(this.vec1).normalize(),this.vec2.toArray(r,A)}},Yi.prototype.vectorSubdivide=function(e,t,n,i,r){for(var s,a=t.next(),o=t.next(),c=t.next(),p=t.size,A=p-1,l=i||0,u=0;u<A;++u)s=a,a=o,o=c,c=t.next(),e.apply(this,[s,a,o,c,n,l]),l+=3*this.m;r&&(s=t.get(p-2),a=t.get(p-1),o=t.get(0),c=t.get(1),e.apply(this,[s,a,o,c,n,l]),l+=3*this.m)},Yi.prototype.getPosition=function(e,t,n,i){e.reset(),this.vectorSubdivide(this.interpolatePosition,e,t,n,i);var r=e.size-1,s=r*this.m*3;i&&(s+=3*this.m);var a=e.get(i?0:r);t[s]=a.x,t[s+1]=a.y,t[s+2]=a.z},Yi.prototype.getTangent=function(e,t,n,i){e.reset(),this.vectorSubdivide(this.interpolateTangent,e,t,n,i);var r=(e.size-1)*this.m*3;i&&(r+=3*this.m),Ri(t,t,r-3,r,3)},Yi.prototype.interpolateNormalDir=function(e,t,n,i,r,s,a,o,c,p,A,l,u){for(var d=0;d<this.m;++d){var m=l+3*d;u&&(m+=3*this.m2);var y=this.dt*d;this.interpolateToVec(e,t,n,i,y,this.vec1),this.interpolateToVec(r,s,a,o,y,this.vec2),this.vDir.subVectors(this.vec2,this.vec1).normalize(),this.vTan.fromArray(c,m),this.vBin.crossVectors(this.vDir,this.vTan).normalize(),this.vBin.toArray(A,m),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(p,m)}},Yi.prototype.interpolateNormal=function(e,t,n,i,r){for(var s=0;s<this.m;++s){var a=r+3*s;e.copy(this.vNorm),this.vTan.fromArray(t,a),this.vBin.crossVectors(e,this.vTan).normalize(),this.vBin.toArray(i,a),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(n,a)}},Yi.prototype.getNormal=function(e,t,n,i,r,s){this.vNorm.set(0,0,1);for(var a=e-1,o=r||0,c=0;c<a;++c)this.interpolateNormal(this.vDir,t,n,i,o),o+=3*this.m;s&&(this.interpolateNormal(this.vDir,t,n,i,o),o+=3*this.m),this.vBin.toArray(i,o),this.vNorm.toArray(n,o)},Yi.prototype.getNormalDir=function(e,t,n,i,r,s,a,o){e.reset(),t.reset();var c=new F,p=new F,A=new F,l=new F,u=new F,d=new F().copy(e.next()),m=new F().copy(e.next()),y=new F().copy(e.next()),g=new F,E=new F().copy(t.next()),w=new F().copy(t.next()),b=new F().copy(t.next());this.vNorm.set(0,0,1);for(var _=e.size,C=_-1,T=s||0,x=0;x<C;++x)u.copy(d),d.copy(m),m.copy(y),y.copy(e.next()),g.copy(E),E.copy(w),w.copy(b),b.copy(t.next()),x===0?(c.subVectors(g,u),p.subVectors(E,d),c.dot(p)<0&&(p.multiplyScalar(-1),E.addVectors(d,p)),A.subVectors(w,m),p.dot(A)<0&&(A.multiplyScalar(-1),w.addVectors(m,A))):A.copy(l),l.subVectors(b,y),A.dot(l)<0&&(l.multiplyScalar(-1),b.addVectors(y,l)),this.interpolateNormalDir(u,d,m,y,g,E,w,b,n,i,r,T,o),T+=3*this.m;if(a&&(u.copy(e.get(_-2)),d.copy(e.get(_-1)),m.copy(e.get(0)),y.copy(e.get(1)),g.copy(t.get(_-2)),E.copy(t.get(_-1)),w.copy(t.get(0)),b.copy(t.get(1)),A.copy(l),l.subVectors(b,y),A.dot(l)<0&&(l.multiplyScalar(-1),b.addVectors(y,l)),this.interpolateNormalDir(u,d,m,y,g,E,w,b,n,i,r,T,o),T+=3*this.m),o){this.vBin.fromArray(r,3*this.m2),this.vNorm.fromArray(i,3*this.m2);for(var O=0;O<this.m2;++O)this.vBin.toArray(r,3*O),this.vNorm.toArray(i,3*O)}else this.vBin.toArray(r,T),this.vNorm.toArray(i,T)},Yi.prototype.interpolateColor=function(e,t,n,i,r){var s,a;for(s=0;s<this.m2;++s)a=r+3*s,n.apply(this,[e,i,a]);for(s=this.m2;s<this.m;++s)a=r+3*s,n.apply(this,[t,i,a])},Yi.prototype.getColor=function(e,t,n,i,r){var s;e.reset(),e.next();for(var a=e.next(),o=e.size,c=o-1,p=i||0,A=0;A<c;++A)s=a,a=e.next(),this.interpolateColor(s,a,t,n,p),p+=3*this.m;r&&(s=e.get(o-1),a=e.get(0),this.interpolateColor(s,a,t,n,p),p+=3*this.m),n[p]=n[p-3],n[p+1]=n[p-2],n[p+2]=n[p-1]},Yi.prototype.interpolatePicking=function(e,t,n,i,r){var s;for(s=0;s<this.m2;++s)i[r+s]=n.apply(this,[e]);for(s=this.m2;s<this.m;++s)i[r+s]=n.apply(this,[t])},Yi.prototype.getPicking=function(e,t,n,i,r){var s;e.reset(),e.next();for(var a=e.next(),o=e.size,c=o-1,p=i||0,A=0;A<c;++A)s=a,a=e.next(),this.interpolatePicking(s,a,t,n,p),p+=this.m;r&&(s=e.get(o-1),a=e.get(0),this.interpolatePicking(s,a,t,n,p),p+=this.m),n[p]=n[p-1]},Yi.prototype.interpolateSize=function(e,t,n,i,r){for(var s=n.apply(this,[e]),a=n.apply(this,[t]),o=0;o<this.m;++o){var c=o/this.m;i[r+o]=(1-c)*s+c*a}},Yi.prototype.getSize=function(e,t,n,i,r){var s;e.reset(),e.next();for(var a=e.next(),o=e.size,c=o-1,p=i||0,A=0;A<c;++A)s=a,a=e.next(),this.interpolateSize(s,a,t,n,p),p+=this.m;r&&(s=e.get(o-1),a=e.get(0),this.interpolateSize(s,a,t,n,p),p+=this.m),n[p]=n[p-1]};var Mr=function(e,t){this.polymer=e,this.size=e.residueCount;var n=t||{};this.directional=n.directional||!1,this.positionIterator=n.positionIterator||!1,this.subdiv=n.subdiv||1,this.smoothSheet=n.smoothSheet||!1,n.tension?this.tension=n.tension:this.tension=this.polymer.isNucleic()?.5:.9,this.interpolator=new Yi(this.subdiv,this.tension)};Mr.prototype.getAtomIterator=function(e,t){var n=this.polymer,i=n.structure,r=n.residueCount,s=0,a=-1,o=[i.getAtomProxy(),i.getAtomProxy(),i.getAtomProxy(),i.getAtomProxy()],c=[new F,new F,new F,new F],p=i.getAtomProxy(),A=i.getAtomProxy();function l(u){var d=o[s%4];if(d.index=n.getAtomIndexByType(u,e),t&&u>0&&u<r&&d.sstruc==="e"){var m=c[s%4];return p.index=n.getAtomIndexByType(u+1,e),A.index=n.getAtomIndexByType(u-1,e),m.addVectors(p,A).add(d).add(d).multiplyScalar(.25),s+=1,m}return s+=1,d}return{size:r,next:function(){var u=l(a);return a+=1,u},get:l,reset:function(){s=0,a=-1}}},Mr.prototype.getSubdividedColor=function(e){var t=this.subdiv,n=this.polymer,i=(n.residueCount-1)*t*3+3;n.isCyclic&&(i+=3*t);var r=new Float32Array(i),s=this.getAtomIterator("trace"),a=e||{};a.structure=n.structure;var o=on.getScheme(a);return this.interpolator.getColor(s,function(c,p,A){o.atomColorToArray(c,p,A)},r,0,n.isCyclic),{color:r}},Mr.prototype.getSubdividedPicking=function(){var e=this.subdiv,t=this.polymer,n=(t.residueCount-1)*e+1;t.isCyclic&&(n+=e);var i=t.structure,r=this.getAtomIterator("trace"),s=new Float32Array(n);return this.interpolator.getPicking(r,function(a){return a.index},s,0,t.isCyclic),{picking:new tA(s,i)}},Mr.prototype.getSubdividedPosition=function(){return{position:this.getPosition()}},Mr.prototype.getSubdividedOrientation=function(){var e=this.getTangent(),t=this.getNormals(e);return{tangent:e,normal:t.normal,binormal:t.binormal}},Mr.prototype.getSubdividedSize=function(e){var t=this.subdiv,n=this.polymer,i=(n.residueCount-1)*t+1;n.isCyclic&&(i+=t);var r=new Float32Array(i),s=this.getAtomIterator("trace"),a=new Ja(e);return this.interpolator.getSize(s,function(o){return a.atomRadius(o)},r,0,n.isCyclic),{size:r}},Mr.prototype.getPosition=function(){var e=this.subdiv,t=this.polymer,n=(t.residueCount-1)*e*3+3;t.isCyclic&&(n+=3*e);var i=new Float32Array(n),r=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getPosition(r,i,0,t.isCyclic),i},Mr.prototype.getTangent=function(){var e=this.subdiv,t=this.polymer,n=(this.size-1)*e*3+3;t.isCyclic&&(n+=3*e);var i=new Float32Array(n),r=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getTangent(r,i,0,t.isCyclic),i},Mr.prototype.getNormals=function(e){var t=this.subdiv,n=this.polymer,i=n.isProtein(),r=this.size,s=(r-1)*t*3+3;n.isCyclic&&(s+=3*t);var a=new Float32Array(s),o=new Float32Array(s);if(this.directional&&!this.polymer.isCg()){var c=this.getAtomIterator("direction1"),p=this.getAtomIterator("direction2");this.interpolator.getNormalDir(c,p,e,a,o,0,n.isCyclic,i)}else this.interpolator.getNormal(r,e,a,o,0,n.isCyclic);return{normal:a,binormal:o}};var qT=new F,c1=new F,qte=Object.assign({radialSegments:4,capped:!1,aspectRatio:1},Fr),Zte=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,function(s,a){a===void 0&&(a={});var o=G(a.radialSegments,4),c=G(a.capped,!1),p=c?o:0,A=c?o-2:0,l=s.position.length/3,u=l*o*3+2*p*3,d=2*(l-1)*o*3+2*A*3;return{position:new Float32Array(u),color:new Float32Array(u),index:Za(d,u/3),normal:new Float32Array(u),picking:s.picking}}(i,r),r),this.capVertices=this.parameters.capped?this.parameters.radialSegments:0,this.capTriangles=this.parameters.capped?this.parameters.radialSegments-2:0,this.size2=i.position.length/3,i.primitiveId=ou(this.size2),this.setAttributes(i),this.makeIndex()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return qte},t.prototype.setAttributes=function(i){i===void 0&&(i={});var r,s,a,o,c,p,A,l,u,d,m,y,g,E=this.parameters.aspectRatio,w=this.size2,b=w-1,_=this.parameters.radialSegments,C=this.geometry.attributes;i.position&&(r=i.position,s=i.normal,a=i.binormal,o=i.tangent,p=i.size,l=C.position.array,d=C.normal.array,C.position.needsUpdate=!0,C.normal.needsUpdate=!0),i.color&&(c=i.color,u=C.color.array,C.color.needsUpdate=!0),i.primitiveId&&(A=i.primitiveId,m=C.primitiveId.array,C.primitiveId.needsUpdate=!0);var T=0,x=0,O=0,M=0,H=0,R=0,D=0,P=0,I=0,L=0,k=[],K=[],W=[],ee=[],le=[],J=[];if(r)for(var re=0;re<_;++re){var te=re/_*2*Math.PI;k[re]=E*Math.cos(te),K[re]=Math.sin(te),W[re]=E*Math.cos(te-.01),ee[re]=Math.sin(te-.01),le[re]=E*Math.cos(te+.01),J[re]=Math.sin(te+.01)}for(var ge=0;ge<w;++ge){g=(y=3*ge)*_,r&&o&&s&&a&&p&&(qT.set(o[y],o[y+1],o[y+2]),x=s[y],O=s[y+1],M=s[y+2],H=a[y],R=a[y+1],D=a[y+2],P=r[y],I=r[y+1],L=r[y+2],T=p[ge]);for(var me=0;me<_;++me){var ie=g+3*me;if(r){var fe=-T*k[me],pe=T*K[me],Ee=-T*W[me],q=T*ee[me],Z=-T*le[me],ae=T*J[me];l[ie]=P+fe*x+pe*H,l[ie+1]=I+fe*O+pe*R,l[ie+2]=L+fe*M+pe*D,c1.set(Z*x+ae*H-(Ee*x+q*H),Z*O+ae*R-(Ee*O+q*R),Z*M+ae*D-(Ee*M+q*D)).cross(qT),d[ie]=c1.x,d[ie+1]=c1.y,d[ie+2]=c1.z}c&&(u[ie]=c[y],u[ie+1]=c[y+1],u[ie+2]=c[y+2]),A&&(m[ge*_+me]=A[ge])}}y=0,g=3*w*_;for(var Ae=0;Ae<_;++Ae){var we=y+3*Ae,xe=g+3*Ae;r&&o&&(l[xe]=l[we],l[xe+1]=l[we+1],l[xe+2]=l[we+2],d[xe]=o[y],d[xe+1]=o[y+1],d[xe+2]=o[y+2]),c&&(u[xe]=u[we],u[xe+1]=u[we+1],u[xe+2]=u[we+2]),A&&(m[w*_+Ae]=m[0+Ae])}y=3*(w-1)*_,g=3*(w+1)*_;for(var Le=0;Le<_;++Le){var V=y+3*Le,j=g+3*Le;r&&o&&(l[j]=l[V],l[j+1]=l[V+1],l[j+2]=l[V+2],d[j]=o[3*b],d[j+1]=o[3*b+1],d[j+2]=o[3*b+2]),c&&(u[j]=u[V],u[j+1]=u[V+1],u[j+2]=u[V+2]),A&&(m[(w+1)*_+Le]=m[(w-1)*_+Le])}},t.prototype.makeIndex=function(){var i=this.geometry.getIndex();if(i){for(var r,s,a=i.array,o=this.size2,c=o-1,p=this.capTriangles,A=this.parameters.radialSegments,l=this.parameters.radialSegments+1,u=0;u<c;++u)for(var d=u*A*3*2,m=u*A,y=(u+1)*A,g=0;g<A;++g)a[s=d+3*g*2]=m+g,a[s+1]=m+(g+1)%A,a[s+2]=y+g,a[s+3]=y+g,a[s+4]=m+(g+1)%A,a[s+5]=y+(g+1)%A;for(var E=[0],w=1;w<l/2;++w)E.push(w),A-w!==w&&E.push(A-w);s=c*A*3*2,r=o*A;for(var b=0;b<E.length-2;++b)b%2==0?(a[s+3*b+0]=r+E[b+0],a[s+3*b+1]=r+E[b+1],a[s+3*b+2]=r+E[b+2]):(a[s+3*b+0]=r+E[b+2],a[s+3*b+1]=r+E[b+1],a[s+3*b+2]=r+E[b+0]);s=c*A*3*2+3*p,r=o*A+A;for(var _=0;_<E.length-2;++_)_%2==0?(a[s+3*_+0]=r+E[_+0],a[s+3*_+1]=r+E[_+1],a[s+3*_+2]=r+E[_+2]):(a[s+3*_+0]=r+E[_+2],a[s+3*_+1]=r+E[_+1],a[s+3*_+2]=r+E[_+0])}else Be.error("Index is null")},Object.defineProperties(t.prototype,n),t}(zo),K_=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="cartoon",this.parameters=Object.assign({aspectRatio:{type:"number",precision:1,max:10,min:1,rebuild:!0},subdiv:{type:"integer",max:50,min:1,rebuild:!0},radialSegments:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},capped:{type:"boolean",rebuild:!0},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"chainname"),i.colorScale=G(i.colorScale,"RdYlBu"),i.radiusType=G(i.radiusType,"sstruc"),i.radiusScale=G(i.radiusScale,.7),i.useInteriorColor=G(i.useInteriorColor,!0),this.aspectRatio=G(i.aspectRatio,5),this.tension=G(i.tension,NaN),this.capped=G(i.capped,!0),this.smoothSheet=G(i.smoothSheet,!1),i.quality==="low"?(this.subdiv=3,this.radialSegments=6):i.quality==="medium"?this.subdiv=6:i.quality==="high"?this.subdiv=12:this.subdiv=G(i.subdiv,6),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:this.aspectRatio!==1,smoothSheet:this.smoothSheet},n)},t.prototype.getSpline=function(n){return new Mr(n,this.getSplineParams())},t.prototype.getAspectRatio=function(n){return n.isCg()?1:this.aspectRatio},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.createData=function(n){var i=this,r=[],s=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){s.push(a);var o=i.getSpline(a),c=i.getAspectRatio(a),p=o.getSubdividedPosition(),A=o.getSubdividedOrientation(),l=o.getSubdividedColor(i.getColorParams()),u=o.getSubdividedPicking(),d=o.getSubdividedSize(i.getRadiusParams());r.push(new Zte(Object.assign({},p,A,l,u,d),i.getBufferParams({radialSegments:i.radialSegments,aspectRatio:c,capped:i.capped})))}},n.getSelection()),{bufferList:r,polymerList:s}},t.prototype.updateData=function(n,i){De&&Be.time(this.type+" repr update"),n=n||{};for(var r=0,s=i.polymerList.length;r<s;++r){var a={},o=i.polymerList[r],c=this.getSpline(o),p=this.getAspectRatio(o);if(Object.assign(i.bufferList[r],{aspectRatio:p}),n.position||n.radius){var A=c.getSubdividedPosition(),l=c.getSubdividedOrientation(),u=c.getSubdividedSize(this.getRadiusParams(p));a.position=A.position,a.normal=l.normal,a.binormal=l.binormal,a.tangent=l.tangent,a.size=u.size}if(n.color){var d=c.getSubdividedColor(this.getColorParams());a.color=d.color}if(n.picking){var m=c.getSubdividedPicking();a.picking=m.picking}i.bufferList[r].setAttributes(a)}De&&Be.timeEnd(this.type+" repr update")},t.prototype.setParameters=function(n){var i={};return n&&n.aspectRatio&&(i.radius=!0),n&&n.tension&&(i.position=!0),e.prototype.setParameters.call(this,n,i,!1),this},t}(sr);Jn.add("cartoon",K_);var Jte=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="contact",this.parameters=Object.assign({hydrogenBond:{type:"boolean",rebuild:!0},weakHydrogenBond:{type:"boolean",rebuild:!0},waterHydrogenBond:{type:"boolean",rebuild:!0},backboneHydrogenBond:{type:"boolean",rebuild:!0},hydrophobic:{type:"boolean",rebuild:!0},halogenBond:{type:"boolean",rebuild:!0},ionicInteraction:{type:"boolean",rebuild:!0},metalCoordination:{type:"boolean",rebuild:!0},cationPi:{type:"boolean",rebuild:!0},piStacking:{type:"boolean",rebuild:!0},filterSele:{type:"text",rebuild:!0},labelVisible:{type:"boolean",rebuild:!0},labelFixedSize:{type:"boolean",buffer:"fixedSize"},labelSize:{type:"number",precision:3,max:10,min:.001,rebuild:!0},labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},maxHydrophobicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondSulfurDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondAccAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondDonAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondAccPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxHbondDonPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxPiStackingDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingAngle:{type:"integer",max:180,min:0,rebuild:!0},maxCationPiDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxCationPiOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxIonicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondAngle:{type:"integer",max:180,min:0,rebuild:!0},maxMetalDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},refineSaltBridges:{type:"boolean",rebuild:!0},masterModelIndex:{type:"integer",max:1e3,min:-1,rebuild:!0},lineOfSightDistFactor:{type:"number",precision:1,max:10,min:0,rebuild:!0},radialSegments:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusSize=G(i.radiusSize,.05),i.useInteriorColor=G(i.useInteriorColor,!0),this.hydrogenBond=G(i.hydrogenBond,!0),this.weakHydrogenBond=G(i.weakHydrogenBond,!1),this.waterHydrogenBond=G(i.waterHydrogenBond,!1),this.backboneHydrogenBond=G(i.backboneHydrogenBond,!1),this.hydrophobic=G(i.hydrophobic,!1),this.halogenBond=G(i.halogenBond,!0),this.ionicInteraction=G(i.ionicInteraction,!0),this.metalCoordination=G(i.metalCoordination,!0),this.cationPi=G(i.cationPi,!0),this.piStacking=G(i.piStacking,!0),this.filterSele=G(i.filterSele,""),this.labelVisible=G(i.labelVisible,!1),this.labelFixedSize=G(i.labelFixedSize,!1),this.labelSize=G(i.labelSize,2),this.labelUnit=G(i.labelUnit,""),this.maxHydrophobicDist=G(i.maxHydrophobicDist,4),this.maxHbondDist=G(i.maxHbondDist,3.5),this.maxHbondSulfurDist=G(i.maxHbondSulfurDist,4.1),this.maxHbondAccAngle=G(i.maxHbondAccAngle,45),this.maxHbondDonAngle=G(i.maxHbondDonAngle,45),this.maxHbondAccPlaneAngle=G(i.maxHbondAccPlaneAngle,90),this.maxHbondDonPlaneAngle=G(i.maxHbondDonPlaneAngle,30),this.maxPiStackingDist=G(i.maxPiStackingDist,5.5),this.maxPiStackingOffset=G(i.maxPiStackingOffset,2),this.maxPiStackingAngle=G(i.maxPiStackingAngle,30),this.maxCationPiDist=G(i.maxCationPiDist,6),this.maxCationPiOffset=G(i.maxCationPiOffset,2),this.maxIonicDist=G(i.maxIonicDist,5),this.maxHalogenBondDist=G(i.maxHalogenBondDist,3.5),this.maxHalogenBondAngle=G(i.maxHalogenBondAngle,30),this.maxMetalDist=G(i.maxMetalDist,3),this.refineSaltBridges=G(i.refineSaltBridges,!0),this.masterModelIndex=G(i.masterModelIndex,-1),this.lineOfSightDistFactor=G(i.lineOfSightDistFactor,1),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(){return 0},t.prototype.getContactData=function(n){var i={maxHydrophobicDist:this.maxHydrophobicDist,maxHbondDist:this.maxHbondDist,maxHbondSulfurDist:this.maxHbondSulfurDist,maxHbondAccAngle:this.maxHbondAccAngle,maxHbondDonAngle:this.maxHbondDonAngle,maxHbondAccPlaneAngle:this.maxHbondAccPlaneAngle,maxHbondDonPlaneAngle:this.maxHbondDonPlaneAngle,maxPiStackingDist:this.maxPiStackingDist,maxPiStackingOffset:this.maxPiStackingOffset,maxPiStackingAngle:this.maxPiStackingAngle,maxCationPiDist:this.maxCationPiDist,maxCationPiOffset:this.maxCationPiOffset,maxIonicDist:this.maxIonicDist,maxHalogenBondDist:this.maxHalogenBondDist,maxHalogenBondAngle:this.maxHalogenBondAngle,maxMetalDist:this.maxMetalDist,refineSaltBridges:this.refineSaltBridges,masterModelIndex:this.masterModelIndex,lineOfSightDistFactor:this.lineOfSightDistFactor},r={hydrogenBond:this.hydrogenBond,weakHydrogenBond:this.weakHydrogenBond,waterHydrogenBond:this.waterHydrogenBond,backboneHydrogenBond:this.backboneHydrogenBond,hydrophobic:this.hydrophobic,halogenBond:this.halogenBond,ionicInteraction:this.ionicInteraction,metalCoordination:this.metalCoordination,cationPi:this.cationPi,piStacking:this.piStacking,radius:this.radiusSize*this.radiusScale,filterSele:this.filterSele};return nee(JJ(n,i),n,r)},t.prototype.createData=function(n){var i=this.getContactData(n),r=[new jo(BJ(i),this.getBufferParams({sphereDetail:1,dullInterior:!0,disableImpostor:this.disableImpostor}))];if(this.labelVisible){var s={size:this.labelSize,unit:this.labelUnit};r.push(new Au(function(a,o){for(var c=Ya(a.position1,a.position2),p=[],A=RE(a.position1,a.position2),l=A.length/3,u=0;u<l;u++){var d=3*u,m=Math.sqrt(Math.pow(A[d],2)+Math.pow(A[d+1],2)+Math.pow(A[d+2],2));switch(o.unit){case"angstrom":p[u]=m.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":p[u]=(m/10).toFixed(2)+" nm";break;default:p[u]=m.toFixed(2)}}return{position:c,size:ms(c.length/3,o.size),color:a.color,text:p}}(i,s),this.getBufferParams({fixedSize:this.labelFixedSize})))}return{bufferList:r}},t}(sr);Jn.add("contact",Jte);var ene=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="dihedral",this.parameters=Object.assign({atomQuad:{type:"hidden",rebuild:!0},extendLine:{type:"boolean",rebuild:!0,default:!0},lineVisible:{type:"boolean",default:!0},planeVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.side=G(i.side,"double"),i.opacity=G(i.opacity,.5),this.atomQuad=G(i.atomQuad,[]),this.extendLine=G(i.extendLine,!0),this.lineVisible=G(i.lineVisible,!0),this.planeVisible=G(i.planeVisible,!0),this.sectorVisible=G(i.sectorVisible,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){if(n.atomCount&&this.atomQuad.length){var i=function(c,p){p===void 0&&(p={});for(var A=G(p.angleStep,Math.PI/90),l=c.length,u=c.length/12,d=new Float32Array(u),m=new Float32Array(3*u),y=new Array(u),g=new Array(u),E=new Array(u),w=new Array(u),b=new Array(u),_=0,C=0,T=0,x=zt(),O=zt(),M=zt(),H=zt(),R=zt(),D=zt(),P=zt(),I=zt(),L=zt(),k=zt(),K=zt(),W=zt(),ee=zt(),le=zt(),J=zt(),re=0,te=function(j){if(Or(x,c,j),Or(O,c,j+3),Or(M,c,j+6),Or(H,c,j+9),oi(R,x,O),oi(D,M,O),Dc(D)!==0){oi(P,H,M),Gn(I,D,.5),ha(L,O,I),Ai(R,R),Ai(D,D),Ai(P,P),oi(I,x,L);var ve=Kr(I,D)>0;oi(I,H,L);var he=Kr(I,D)<0;if(Gn(I,D,Kr(D,R)),oi(k,R,I),Gn(I,D,Kr(D,P)),oi(K,P,I),Dc(k)!==0&&Dc(K)!==0){Ai(k,k),Ai(K,K);var oe=d[re]=function(gt,Et){var Mt=gt[0],Lt=gt[1],Bt=gt[2],at=Et[0],Wt=Et[1],wt=Et[2],rt=Lt*wt-Bt*Wt,Vt=Bt*at-Mt*wt,Ze=Mt*Wt-Lt*at,it=Math.sqrt(rt*rt+Vt*Vt+Ze*Ze),yt=Mt*at+Lt*Wt+Bt*wt;return Math.atan2(it,yt)}(k,K);y[re]=(NS*oe).toFixed(1)+String.fromCharCode(176),jr(le,k,D),Ai(le,le),Kr(le,K)<0&&FE(le,le),ua(I,L,k,le,oe/2),qt(I,m,3*re);var ue=Math.ceil(oe/A),Oe=ue+(p.extendLine?4:2),Pe=p.extendLine?36:0,Te=new Float32Array(3*Oe),Ne=new Float32Array(3*Oe),Se=new Float32Array(9*ue),ze=new Float32Array(Pe);g[re]=Te,E[re]=Ne,w[re]=Se,b[re]=ze,p.extendLine&&(ve?(oi(I,x,M),Ai(I,I),Gn(W,I,1/Kr(k,I)),ha(W,W,M)):(Gn(W,R,1/Kr(k,R)),ha(W,W,O)),he?(oi(I,H,O),Ai(I,I),Gn(ee,I,1/Kr(K,I)),ha(ee,ee,O)):(Gn(ee,P,1/Kr(K,P)),ha(ee,ee,M))),ha(J,L,k);var Ge=0;p.extendLine?(qt(x,Te,Ge),qt(W,Ne,Ge),qt(W,Te,Ge+=3),qt(J,Ne,Ge),Ge+=3,qt(W,ze,0),qt(J,ze,3),qt(ve?M:O,ze,6),qt(ve?M:O,ze,9),qt(J,ze,12),qt(L,ze,15)):(qt(L,Te,Ge),qt(J,Ne,Ge),Ge+=3);for(var Ue=function(gt,Et){var Mt=9*Et;qt(L,Se,Mt),qt(J,Se,Mt+3),qt(J,Te,Ge),ua(J,L,k,le,gt),qt(J,Se,Mt+6),qt(J,Ne,Ge),Ge+=3},nt=0,vt=A;vt<oe;vt+=A)Ue(vt,nt++);Ue(oe,nt++),p.extendLine?(qt(J,Te,3*(Oe-2)),qt(ee,Ne,3*(Oe-2)),qt(ee,Te,3*(Oe-1)),qt(H,Ne,3*(Oe-1)),qt(ee,ze,18),qt(J,ze,21),qt(he?O:M,ze,24),qt(he?O:M,ze,27),qt(J,ze,30),qt(L,ze,33)):(qt(J,Te,Ge),qt(L,Ne,Ge),Ge+=3),_+=3*Oe,C+=9*ue,T+=Pe,re+=1}}},ge=0;ge<l;ge+=12)te(ge);for(var me=re,ie=new Float32Array(_),fe=new Float32Array(_),pe=new Float32Array(C),Ee=new Float32Array(T),q=0,Z=0,ae=0,Ae=0;Ae<me;Ae++){var we=g[Ae],xe=E[Ae],Le=w[Ae],V=b[Ae];Ri(we,ie,0,q,we.length),Ri(xe,fe,0,q,xe.length),Ri(Le,pe,0,Z,Le.length),Ri(V,Ee,0,ae,V.length),q+=we.length,Z+=Le.length,ae+=V.length}return{labelPosition:m.subarray(0,3*me),labelText:y.slice(0,me),linePosition1:ie,linePosition2:fe,planePosition:Ee,sectorPosition:pe}}(k_(n,this.atomQuad),{extendLine:this.extendLine}),r=this.n=i.labelText.length,s=new Je(this.labelColor);this.textBuffer=new Au({position:i.labelPosition,size:ms(r,this.labelSize),color:Hn(r,s.r,s.g,s.b),text:i.labelText},this.getLabelBufferParams());var a=new Je(this.colorValue);this.lineLength=i.linePosition1.length/3;var o=Hn(this.lineLength,a.r,a.g,a.b);return this.lineBuffer=new Yo(g4({position1:i.linePosition1,position2:i.linePosition2,color:o,color2:o}),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.planeLength=i.planePosition.length/3,this.planeBuffer=new zo({position:i.planePosition,color:Hn(this.planeLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.planeVisible})),this.sectorLength=i.sectorPosition.length/3,this.sectorBuffer=new zo({position:i.sectorPosition,color:Hn(this.sectorLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.lineBuffer,this.planeBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(n,i){e.prototype.updateData.call(this,n,i);var r={},s={},a={};if(n.color){var o=new Je(this.colorValue);Object.assign(r,{color:Hn(this.lineLength,o.r,o.g,o.b),color2:Hn(this.lineLength,o.r,o.g,o.b)}),Object.assign(s,{color:Hn(this.planeLength,o.r,o.g,o.b)}),Object.assign(a,{color:Hn(this.sectorLength,o.r,o.g,o.b)})}this.lineBuffer.setAttributes(r),this.planeBuffer.setAttributes(s),this.sectorBuffer.setAttributes(a)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),!n||n.lineVisible===void 0&&n.sectorVisible===void 0&&n.planeVisible===void 0||this.setVisibility(this.visible),n&&n.lineOpacity&&this.lineBuffer.setParameters({opacity:n.lineOpacity}),n&&n.opacity!==void 0&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),n&&n.linewidth&&this.lineBuffer.setParameters({linewidth:n.linewidth}),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.lineBuffer&&this.lineBuffer.setVisibility(this.lineVisible&&this.visible),this.planeBuffer&&this.planeBuffer.setVisibility(this.planeVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),i||this.viewer.requestRender(),this},t}(Q_);Jn.add("dihedral",ene);function Xg(e,t){function n(s,a){return a in s}var i=Object.assign({},e);for(var r in i)n(i,r)&&n(t,r)&&(i[r]=G(t[r],i[r]));return i}function oa(e,t){var n=new Je(e),i=new Float32Array(3*t);return Hn(t,n.r,n.g,n.b,i),i}var tne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="dihedral-histogram",this.parameters=Object.assign({histogramsData:{type:"hidden",rebuild:!0},histogramBinBorderVisible:{type:"boolean",default:!0},scaleBinToSectorArea:{type:"boolean",rebuild:!0,default:!1}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{},r=Xg({histogramBinBorderColor:"grey",adjacentBondArrowColor:"black",distantBondArrowColor:"magenta",frontHistogramColor:"green",backHistogramColor:"blue",opaqueMiddleDiscColor:"white"},i);Object.assign(this,r);var s=Xg({histogramsData:[],histogramOpacity:1,opaqueMiddleDiscVisible:!0,opaqueMiddleDiscOpacity:1,histogramBinBorderVisible:!0,histogramBinBorderWidth:1,histogramBinBorderOpacity:.5,bondArrowVisible:!0,bondArrowWidth:2,bondArrowOpacity:1,scaleBinToSectorArea:!1},i);Object.assign(this,s),this.histogramsData.forEach(function(a){var o=Xg(r,a);Object.assign(a,o)}),i.side=G(i.side,"double"),i.opacity=G(i.opacity,.5),i.radiusType=G(i.radiusType,"size"),i.radiusSize=G(i.radiusSize,.15),e.prototype.init.call(this,i)},t.prototype.getHistogramBinBorderBufferParameters=function(){return this.getBufferParams({linewidth:this.histogramBinBorderWidth,visible:this.histogramBinBorderVisible,opacity:this.histogramBinBorderOpacity})},t.prototype.getBondArrowsBufferParameters=function(){return this.getBufferParams({linewidth:this.bondArrowWidth,visible:this.bondArrowVisible,opacity:this.bondArrowOpacity})},t.prototype.getOpaqueMiddleDiscBufferParameters=function(){return this.getBufferParams({visible:this.opaqueMiddleDiscVisible,opacity:this.opaqueMiddleDiscOpacity})},t.prototype.getHistogramBufferParameters=function(){return this.getBufferParams({visible:!0,opacity:this.histogramOpacity,side:"double"})},t.prototype.createData=function(n){if(n.atomCount&&this.histogramsData.length){this.histogramsData.forEach(function(l){return l.atomPositions=k_(n,[l.atomQuad])});var i=this.scaleBinToSectorArea?function(l){return Math.sqrt(l)}:function(l){return l};this.histogramsData.forEach(function(l){return l.histogram360Scaled=l.histogram360.map(i)});for(var r=[],s=0;s<this.histogramsData.length;s++){var a=void 0,o=this.histogramsData[s];o.histogram360.length>=3&&(a=nne(o)),a!==void 0&&r.push(a)}return this.frontHistogramBinBordersBuffer=p(r.map(function(l){return l.frontHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.backHistogramBinBordersBuffer=p(r.map(function(l){return l.backHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.adjacentBondArrowsBuffer=p(r.map(function(l){return l.adjacentBondArrows}),this.getBondArrowsBufferParameters()),this.distantBondArrowsBuffer=p(r.map(function(l){return l.distantBondArrows}),this.getBondArrowsBufferParameters()),this.opaqueMiddleDiscBuffer=A(r.map(function(l){return l.opaqueMiddleDisc}),this.getOpaqueMiddleDiscBufferParameters()),this.frontHistogramBuffer=A(r.map(function(l){return l.frontHistogram}),this.getHistogramBufferParameters()),this.backHistogramBuffer=A(r.map(function(l){return l.backHistogram}),this.getHistogramBufferParameters()),{bufferList:[].concat(this.frontHistogramBinBordersBuffer,this.backHistogramBinBordersBuffer,this.adjacentBondArrowsBuffer,this.distantBondArrowsBuffer,this.opaqueMiddleDiscBuffer,this.frontHistogramBuffer,this.backHistogramBuffer)}}function c(l){for(var u=l.map(function(g){return g.length}),d=new Float32Array(S_(u)),m=0,y=0;y<l.length;y++)d.set(l[y],m),m+=l[y].length;return d}function p(l,u){return new Yo({position1:c(l.map(function(d){return d.startPoints})),position2:c(l.map(function(d){return d.endPoints})),color:c(l.map(function(d){return d.startColors})),color2:c(l.map(function(d){return d.endColors}))},u)}function A(l,u){return new zo({position:c(l.map(function(d){return d.triangles})),color:c(l.map(function(d){return d.triangleColors}))},u)}},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),n&&n.histogramBinBorderVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(n,i){return e.prototype.setVisibility.call(this,n,!0),this.frontHistogramBinBordersBuffer&&this.frontHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),this.backHistogramBinBordersBuffer&&this.backHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),i||this.viewer.requestRender(),this},t}(sr);function nne(e){for(var t=e.atomPositions,n=e.histogram360Scaled,i=n.length<=180?360:2*n.length,r={triangles:new Float32Array(3*i*3),triangleColors:oa(e.opaqueMiddleDiscColor,3*i)},s={triangles:new Float32Array(3*n.length*3),triangleColors:oa(e.frontHistogramColor,3*n.length)},a={triangles:new Float32Array(3*n.length*3),triangleColors:oa(e.backHistogramColor,3*n.length)},o={startPoints:new Float32Array(3*n.length),endPoints:new Float32Array(3*n.length),startColors:oa(e.histogramBinBorderColor,n.length),endColors:oa(e.histogramBinBorderColor,n.length)},c={startPoints:new Float32Array(3*n.length),endPoints:new Float32Array(3*n.length),startColors:oa(e.histogramBinBorderColor,n.length),endColors:oa(e.histogramBinBorderColor,n.length)},p={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:oa(e.adjacentBondArrowColor,n.length),endColors:oa(e.adjacentBondArrowColor,n.length)},A={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:oa(e.distantBondArrowColor,n.length),endColors:oa(e.distantBondArrowColor,n.length)},l=zt(),u=zt(),d=zt(),m=zt(),y=zt(),g=zt(),E=zt(),w=zt(),b=zt(),_=zt(),C=zt(),T=zt(),x=zt(),O=zt(),M=zt(),H=zt(),R=[l,u,d,m],D=0;D<R.length;D++)Or(R[D],t,3*D);if(oi(y,l,u),oi(g,d,u),oi(w,m,d),Dc(g)!==0&&(Gn(M,g,.5),ha(b,u,M),Ai(y,y),Ai(g,g),Ai(w,w),FE(E,g),Gn(M,E,Kr(E,y)),oi(_,y,M),Gn(M,g,Kr(g,w)),oi(C,w,M),Dc(_)!==0&&Dc(C)!==0)){Ai(_,_),Ai(C,C);var P=Math.acos(Kr(_,C));jr(T,E,_),jr(x,g,C),Ai(T,T),Ai(x,x);var I=P;Kr(T,C)<0&&(I=-P),ha(O,b,_);for(var L=Math.max.apply(null,n),k=2*Math.PI/n.length,K=2*Math.PI/i,W=0;W<i;W++){var ee=3*W*3;qt(b,r.triangles,ee),ua(O,b,_,T,W*K),qt(O,r.triangles,ee+3),ua(O,b,_,T,(W+1)*K),qt(O,r.triangles,ee+6)}return Gn(M,g,-.01),ha(b,b,M),J(s,o,0,_,T),Gn(M,g,.02),ha(b,b,M),J(a,c,1,C,x),{opaqueMiddleDisc:r,frontHistogram:s,backHistogram:a,frontHistogramBinBorders:o,backHistogramBinBorders:c,adjacentBondArrows:p,distantBondArrows:A}}function le(re,te,ge,me,ie){var fe=3*te*3;qt(b,re,fe);var pe=Number(n[te])/L;Gn(M,ge,pe),Gn(H,me,pe),ua(O,b,M,H,te*ie),qt(O,re,fe+3),ua(O,b,M,H,(te+1)*ie),qt(O,re,fe+6)}function J(re,te,ge,me,ie){Ri(b,p.startPoints,0,3*ge,b.length),ua(M,b,me,ie,0+0*k),Ri(M,p.endPoints,0,3*ge,b.length),Ri(b,A.startPoints,0,3*ge,b.length),ua(M,b,me,ie,I),Ri(M,A.endPoints,0,3*ge,b.length);for(var fe=0;fe<n.length;fe++)Ri(b,te.startPoints,0,3*fe,b.length),ua(M,b,me,ie,0+k*fe),Ri(M,te.endPoints,0,3*fe,M.length);for(var pe=0;pe<n.length;pe++)le(re.triangles,pe,me,ie,k)}}Jn.add("dihedral-histogram",tne);var ine=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="distance",this.parameters=Object.assign({radialSegments:!0,openEnded:!0,disableImpostor:!0,labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},useCylinder:{type:"boolean",rebuild:!0},atomPair:{type:"hidden",rebuild:!0}},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.linewidth=G(i.linewidth,5),i.radiusType=G(i.radiusType,"size"),i.radiusSize=G(i.radiusSize,.2),this.labelUnit=G(i.labelUnit,""),this.useCylinder=G(i.useCylinder,!1),this.atomPair=G(i.atomPair,[]),e.prototype.init.call(this,i)},t.prototype.getDistanceData=function(n,i){var r=this,s=i.length,a=new Array(s),o=new Float32Array(3*s),c=new Nn,p=new Nn,A=new G1,l=n.getAtomProxy(),u=n.getAtomProxy(),d=0,m=n.getAtomSet();i.forEach(function(g,E){var w=g[0],b=g[1];if(typeof w=="number"&&Number.isInteger(w)&&typeof b=="number"&&Number.isInteger(b)){if(!m.get(w)||!m.get(b))return void(d+=1);l.index=w,u.index=b}else{c.setString(w),p.setString(b);var _=n.getAtomIndices(c),C=n.getAtomIndices(p);if(!_.length||!C.length)return void(d+=1);l.index=_[0],u.index=C[0]}A.addBond(l,u,1),E-=d;var T=l.distanceTo(u);switch(r.labelUnit){case"angstrom":a[E]=T.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":a[E]=(T/10).toFixed(2)+" nm";break;default:a[E]=T.toFixed(2)}var x=3*E;o[x+0]=(l.x+u.x)/2,o[x+1]=(l.y+u.y)/2,o[x+2]=(l.z+u.z)/2}),d>0&&(s-=d,o=o.subarray(0,3*s));var y=new Qt(A.count,!0);return{text:a,position:o,bondSet:y,bondStore:A}},t.prototype.getBondData=function(n,i,r){var s=n.getBondData(this.getBondParams(i,r));return s.picking&&(s.picking=new pee(s.picking.array,s.picking.structure,r.bondStore)),s},t.prototype.createData=function(n){if(n.atomCount&&this.atomPair.length){var i=this.atomPair.length,r=new Je(this.labelColor),s=this.getDistanceData(n,this.atomPair);this.textBuffer=new Au({position:s.position,size:ms(i,this.labelSize),color:Hn(i,r.r,r.g,r.b),text:s.text},this.getLabelBufferParams());var a={bondSet:s.bondSet,bondStore:s.bondStore},o=this.getBondData(n,{position:!0,color:!0,picking:!0,radius:this.useCylinder},a);return this.useCylinder?this.distanceBuffer=new jo(o,this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})):this.distanceBuffer=new Yo(GS(o),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),{bondSet:s.bondSet,bondStore:s.bondStore,position:s.position,bufferList:[this.textBuffer,this.distanceBuffer]}}},t.prototype.updateData=function(n,i){e.prototype.updateData.call(this,n,i);var r={bondSet:i.bondSet,bondStore:i.bondStore},s=this.getBondData(i.sview,n,r),a={};n&&!n.color||Object.assign(a,{color:s.color,color2:s.color2}),n&&!n.radius||Object.assign(a,{radius:s.radius}),this.distanceBuffer.setAttributes(a)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),this.useCylinder||(n&&n.lineOpacity&&this.distanceBuffer.setParameters({opacity:n.lineOpacity}),n&&n.opacity!==void 0&&this.distanceBuffer.setParameters({opacity:this.lineOpacity}),n&&n.linewidth&&this.distanceBuffer.setParameters({linewidth:n.linewidth})),this},t}(Q_);function qg(e){return 2*(e.position.length/3)*3}Jn.add("distance",ine);var rne=Object.assign({scale:1,color:"grey"},Fr),ZT=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(qg(i)),color:new Float32Array(qg(i))},r),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag";var s=new Je(this.parameters.color),a=this.geometry.attributes;Hn(qg(i)/3,s.r,s.g,s.b,a.color.array),this.setAttributes(i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return rne},t.prototype.setAttributes=function(i){i===void 0&&(i={});var r,s,a,o=this.geometry.attributes;i.position&&i.vector&&(r=i.position,s=i.vector,a=o.position.array,o.position.needsUpdate=!0);var c=this.size/2,p=this.parameters.scale;if(r&&s)for(var A=0;A<c;A++){var l=2*A*3,u=3*A;a[l+0]=r[u+0],a[l+1]=r[u+1],a[l+2]=r[u+2],a[l+3]=r[u+0]+s[u+0]*p,a[l+4]=r[u+1]+s[u+1]*p,a[l+5]=r[u+2]+s[u+2]*p}},Object.defineProperties(t.prototype,n),t}(un),sne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="helixorient",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"sstruc"),i.radiusType=G(i.radiusType,"size"),i.radiusSize=G(i.radiusSize,.15),i.radiusScale=G(i.radiusScale,1),i.useInteriorColor=G(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){var i=this,r=[],s=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){s.push(a);var o=new Ro(a),c=o.getPosition(),p=o.getColor(i.getColorParams()),A=o.getSize(i.getRadiusParams()),l=o.getPicking();r.push(new qc({position:c.center,color:p.color,radius:A.size,picking:l.picking},i.getBufferParams({sphereDetail:i.sphereDetail,disableImpostor:i.disableImpostor,dullInterior:!0})),new ZT({position:c.center,vector:c.axis},i.getBufferParams({color:"skyblue",scale:1})),new ZT({position:c.center,vector:c.resdir},i.getBufferParams({color:"lightgreen",scale:1})))}},n.getSelection()),{bufferList:r,polymerList:s}},t.prototype.updateData=function(n,i){De&&Be.time(this.type+" repr update"),n=n||{};for(var r=0,s=i.polymerList.length;r<s;++r){var a=3*r,o={},c=i.polymerList[r],p=new Ro(c);if(n.position){var A=p.getPosition();Object.assign(o,{position:A.center}),i.bufferList[a+1].setAttributes({position:A.center,vector:A.axis}),i.bufferList[a+2].setAttributes({position:A.center,vector:A.resdir})}i.bufferList[a].setAttributes(o)}De&&Be.timeEnd(this.type+" repr update")},t}(sr);Jn.add("helixorient",sne);var w7=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="licorice",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=1,e.prototype.init.call(this,i)},t}(kE);Jn.add("licorice",w7),Cn.add("shader/HyperballStickImpostor.vert",`
attribute vec3 mapping;
attribute float radius;
attribute float radius2;
attribute vec3 position1;
attribute vec3 position2;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform float shrink;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewProjectionMatrixInverse;
void main(){
vRadius = radius;
vRadius2 = radius2;
vec4 spaceposition;
vec3 position_atom1;
vec3 position_atom2;
vec4 vertex_position;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
float radius1 = radius;
position_atom1 = position1;
position_atom2 = position2;
float distance = distance( position_atom1, position_atom2 );
spaceposition.z = mapping.z * distance;
if (radius1 > radius2) {
spaceposition.y = mapping.y * 1.5 * radius1;
spaceposition.x = mapping.x * 1.5 * radius1;
} else {
spaceposition.y = mapping.y * 1.5 * radius2;
spaceposition.x = mapping.x * 1.5 * radius2;
}
spaceposition.w = 1.0;
vec4 e3 = vec4( 1.0 );
vec3 e1, e1_temp, e2, e2_temp;
e3.xyz = normalize(position_atom1-position_atom2);
if (e3.z == 0.0) { e3.z = 0.0000000000001;}
if ( (position_atom1.x - position_atom2.x) == 0.0) { position_atom1.x += 0.001;}
if ( (position_atom1.y - position_atom2.y) == 0.0) { position_atom1.y += 0.001;}
if ( (position_atom1.z - position_atom2.z) == 0.0) { position_atom1.z += 0.001;}
vec4 focus = vec4( 1.0 );
focus.x = ( position_atom1.x*position_atom1.x - position_atom2.x*position_atom2.x +
( radius2*radius2 - radius1*radius1 )*e3.x*e3.x/shrink )/(2.0*(position_atom1.x - position_atom2.x));
focus.y = ( position_atom1.y*position_atom1.y - position_atom2.y*position_atom2.y +
( radius2*radius2 - radius1*radius1 )*e3.y*e3.y/shrink )/(2.0*(position_atom1.y - position_atom2.y));
focus.z = ( position_atom1.z*position_atom1.z - position_atom2.z*position_atom2.z +
( radius2*radius2 - radius1*radius1 )*e3.z*e3.z/shrink )/(2.0*(position_atom1.z - position_atom2.z));
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2_temp = e1.yzx * e3.zxy - e1.zxy * e3.yzx;
e2 = normalize(e2_temp);
mat3 R= mat3( e1.xyz, e2.xyz, e3.xyz );
vertex_position.xyz = R * spaceposition.xyz;
vertex_position.w = 1.0;
vertex_position.x += (position_atom1.x+position_atom2.x) / 2.0;
vertex_position.y += (position_atom1.y+position_atom2.y) / 2.0;
vertex_position.z += (position_atom1.z+position_atom2.z) / 2.0;
gl_Position = modelViewProjectionMatrix * vertex_position;
vec4 i_near, i_far;
vec4 near = gl_Position;
near.z = 0.0 ;
near = modelViewProjectionMatrixInverse * near;
i_near = near;
vec4 far = gl_Position;
far.z = far.w ;
i_far = modelViewProjectionMatrixInverse * far;
prime1 = vec4( position_atom1 - (position_atom1 - focus.xyz)*shrink, 1.0 );
prime2 = vec4( position_atom2 - (position_atom2 - focus.xyz)*shrink, 1.0 );
float Rsquare = (radius1*radius1/shrink) - (
(position_atom1.x - focus.x)*(position_atom1.x - focus.x) +
(position_atom1.y - focus.y)*(position_atom1.y - focus.y) +
(position_atom1.z - focus.z)*(position_atom1.z - focus.z)
);
focus.w = Rsquare;
matrix_near = mat4( i_near, i_far, focus, e3 );
gl_Position.z = 1.0;
}`),Cn.add("shader/HyperballStickImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float shrink;
uniform mat4 modelViewMatrix;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewMatrixInverseTranspose;
uniform mat4 projectionMatrix;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float calcClip( vec4 cameraPos ){
return dot( cameraPos, vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
float calcClip( vec3 cameraPos ){
return calcClip( vec4( cameraPos, 1.0 ) );
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
struct Ray {
vec3 origin ;
vec3 direction ;
};
bool cutoff_plane (vec3 M, vec3 cutoff, vec3 x3){
float a = x3.x;
float b = x3.y;
float c = x3.z;
float d = -x3.x*cutoff.x-x3.y*cutoff.y-x3.z*cutoff.z;
float l = a*M.x+b*M.y+c*M.z+d;
if (l<0.0) {return true;}
else{return false;}
}
vec3 isect_surf(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t1 =(-b-sqrt(delta))/a;
return r.origin+t1*r.direction;
}
vec3 isect_surf2(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t2 =(-b+sqrt(delta))/a;
return r.origin+t2*r.direction;
}
Ray primary_ray(vec4 near1, vec4 far1){
vec3 near=near1.xyz/near1.w;
vec3 far=far1.xyz/far1.w;
return Ray(near,far-near);
}
float update_z_buffer(vec3 M, mat4 ModelViewP){
float depth1;
vec4 Ms=(ModelViewP*vec4(M,1.0));
return depth1=(1.0+Ms.z/Ms.w)/2.0;
}
void main(){
float radius = max( vRadius, vRadius2 );
vec4 i_near, i_far, focus;
vec3 e3, e1, e1_temp, e2;
i_near = vec4(matrix_near[0][0],matrix_near[0][1],matrix_near[0][2],matrix_near[0][3]);
i_far = vec4(matrix_near[1][0],matrix_near[1][1],matrix_near[1][2],matrix_near[1][3]);
focus = vec4(matrix_near[2][0],matrix_near[2][1],matrix_near[2][2],matrix_near[2][3]);
e3 = vec3(matrix_near[3][0],matrix_near[3][1],matrix_near[3][2]);
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2 = normalize(cross(e1,e3));
vec4 equation = focus;
float shrinkfactor = shrink;
float t1 = -1.0/(1.0-shrinkfactor);
float t2 = 1.0/(shrinkfactor);
vec4 colonne1, colonne2, colonne3, colonne4;
mat4 mat;
vec3 equation1 = vec3(t2,t2,t1);
float A1 = - e1.x*equation.x - e1.y*equation.y - e1.z*equation.z;
float A2 = - e2.x*equation.x - e2.y*equation.y - e2.z*equation.z;
float A3 = - e3.x*equation.x - e3.y*equation.y - e3.z*equation.z;
float A11 = equation1.x*e1.x*e1.x + equation1.y*e2.x*e2.x + equation1.z*e3.x*e3.x;
float A21 = equation1.x*e1.x*e1.y + equation1.y*e2.x*e2.y + equation1.z*e3.x*e3.y;
float A31 = equation1.x*e1.x*e1.z + equation1.y*e2.x*e2.z + equation1.z*e3.x*e3.z;
float A41 = equation1.x*e1.x*A1 + equation1.y*e2.x*A2 + equation1.z*e3.x*A3;
float A22 = equation1.x*e1.y*e1.y + equation1.y*e2.y*e2.y + equation1.z*e3.y*e3.y;
float A32 = equation1.x*e1.y*e1.z + equation1.y*e2.y*e2.z + equation1.z*e3.y*e3.z;
float A42 = equation1.x*e1.y*A1 + equation1.y*e2.y*A2 + equation1.z*e3.y*A3;
float A33 = equation1.x*e1.z*e1.z + equation1.y*e2.z*e2.z + equation1.z*e3.z*e3.z;
float A43 = equation1.x*e1.z*A1 + equation1.y*e2.z*A2 + equation1.z*e3.z*A3;
float A44 = equation1.x*A1*A1 + equation1.y*A2*A2 + equation1.z*A3*A3 - equation.w;
colonne1 = vec4(A11,A21,A31,A41);
colonne2 = vec4(A21,A22,A32,A42);
colonne3 = vec4(A31,A32,A33,A43);
colonne4 = vec4(A41,A42,A43,A44);
mat = mat4(colonne1,colonne2,colonne3,colonne4);
Ray ray = primary_ray(i_near,i_far) ;
vec3 M;
M = isect_surf(ray, mat);
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
vec4 M1 = vec4(M,1.0);
vec4 M2 = mat*M1;
vec3 _normal = ( modelViewMatrixInverseTranspose * M2 ).xyz;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
#ifdef NEAR_CLIP
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 ){
M = isect_surf2(ray, mat);
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 )
discard;
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / radius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix);
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#endif
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
float distance_ratio = ((M.x-prime2.x)*e3.x + (M.y-prime2.y)*e3.y +(M.z-prime2.z)*e3.z) /
distance(prime2.xyz,prime1.xyz);
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -( modelViewMatrix * vec4( M, 1.0 ) ).xyz;
vec3 vNormal = _normal;
vec3 vColor;
if( distance_ratio>0.5 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var ane=new Float32Array([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,-1,1,1]),one=new Uint16Array([0,1,2,0,2,3,1,5,6,1,6,2,4,6,5,4,7,6,0,7,4,0,3,7,0,5,1,0,4,5,3,2,6,3,6,7]),cne=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,"v3",i,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return ane},n.mappingIndices.get=function(){return one},n.mappingIndicesSize.get=function(){return 36},n.mappingSize.get=function(){return 8},n.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,n),t}(P_),_7=Object.assign({shrink:.14},Fr),pne=Object.assign({shrink:{uniform:!0}},nA),Ane=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r),this.parameterTypes=pne,this.isImpostor=!0,this.vertexShader="HyperballStickImpostor.vert",this.fragmentShader="HyperballStickImpostor.frag",this.addUniforms({modelViewProjectionMatrix:{value:new Xe},modelViewProjectionMatrixInverse:{value:new Xe},modelViewMatrixInverseTranspose:{value:new Xe},shrink:{value:this.parameters.shrink}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null},radius2:{type:"f",value:null}}),this.setAttributes(i),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return _7},Object.defineProperties(t.prototype,n),t}(cne);Object.assign({disableImpostor:!1},V_,_7);var lne=function(e,t){return t===void 0&&(t={}),!za||t&&t.disableImpostor?(e.radius=function(n,i){for(var r=n.length,s=new Float32Array(r),a=0;a<r;a++)s[a]=Math.min(n[a],i[a]);return s}(e.radius,e.radius2),new y7(e,t)):new Ane(e,t)},une=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="hyperball",this.parameters=Object.assign({shrink:{type:"number",precision:3,max:1,min:.001,buffer:!0}},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.radiusScale=G(i.radiusScale,.2),i.radiusType=G(i.radiusType,"vdw"),i.useInteriorColor=G(i.useInteriorColor,!0),this.shrink=G(i.shrink,.12),e.prototype.init.call(this,i)},t.prototype.getBondParams=function(n,i){return n&&!n.radius||(i=Object.assign({radius2:!0},i)),e.prototype.getBondParams.call(this,n,i)},t.prototype.createData=function(n){var i=new qc(n.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));return this.__center=new Float32Array(3*n.bondCount),{bufferList:[i,new lne(n.getBondData(this.getBondParams()),this.getBufferParams({shrink:this.shrink,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))]}},t.prototype.updateData=function(n,i){var r=i.sview.getAtomData(this.getAtomParams()),s=i.sview.getBondData(this.getBondParams()),a={},o={};if(!n||n.position){Object.assign(a,{position:r.position});var c=s.position1,p=s.position2;Object.assign(o,{position:Ya(c,p,this.__center),position1:c,position2:p})}n&&!n.color||(Object.assign(a,{color:r.color}),Object.assign(o,{color:s.color,color2:s.color2})),n&&!n.radius||(Object.assign(a,{radius:r.radius}),Object.assign(o,{radius:s.radius,radius2:s.radius2})),i.bufferList[0].setAttributes(a),i.bufferList[1].setAttributes(o)},t}(w7);Jn.add("hyperball",une);var aE=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=""),this.type=e,this.text=t,this.format=n,this.errorLogged=!1};aE.prototype.atomLabel=function(e){var t;switch(this.type){case"atomname":t=e.atomname;break;case"atomindex":t=""+e.index;break;case"occupancy":t=e.occupancy.toFixed(2);break;case"bfactor":t=e.bfactor.toFixed(2);break;case"serial":t=""+e.serial;break;case"element":t=e.element;break;case"atom":t=e.atomname+"|"+e.index;break;case"resname":t=e.resname;break;case"resno":t=""+e.resno;break;case"res":t=""+(nE[e.resname.toUpperCase()]||e.resname)+e.resno;break;case"residue":var n=nE[e.resname.toUpperCase()];t=n&&!e.inscode?""+n+e.resno:"["+e.resname+"]"+e.resno+e.inscode;break;case"text":t=this.text[e.index];break;case"format":try{t=Sr.sprintf(this.format,e)}catch(i){this.errorLogged||(this.errorLogged=!0,console.log(i.message))}break;default:t=e.qualifiedName()}return t===void 0?"":t},aE.types={"":"",atomname:"atom name",atomindex:"atom index",occupancy:"occupancy",bfactor:"b-factor",serial:"serial",element:"element",atom:"atom name + index",resname:"residue name",resno:"residue no",res:"one letter code + no",residue:"[residue name] + no + inscode",text:"text",format:"format",qualified:"qualified name"};var fne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="label",this.parameters=Object.assign({labelType:{type:"select",options:aE.types,rebuild:!0},labelText:{type:"hidden",rebuild:!0},labelFormat:{type:"text",rebuild:!0},labelGrouping:{type:"select",options:{atom:"atom",residue:"residue"},rebuild:!0},fontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:!0},fontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:!0},fontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:!0},xOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},yOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},zOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},attachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},showBorder:{type:"boolean",buffer:!0},borderColor:{type:"color",buffer:!0},borderWidth:{type:"number",precision:2,max:.3,min:0,buffer:!0},showBackground:{type:"boolean",rebuild:!0},backgroundColor:{type:"color",buffer:!0},backgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},backgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:!0},fixedSize:{type:"boolean",buffer:!0}},this.parameters,{side:null,flatShaded:null,wireframe:null,linewidth:null,roughness:null,metalness:null,diffuse:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.labelType=G(i.labelType,"res"),this.labelText=G(i.labelText,{}),this.labelFormat=G(i.labelFormat,""),this.labelGrouping=G(i.labelGrouping,"atom"),this.fontFamily=G(i.fontFamily,"sans-serif"),this.fontStyle=G(i.fontStyle,"normal"),this.fontWeight=G(i.fontWeight,"bold"),this.xOffset=G(i.xOffset,0),this.yOffset=G(i.yOffset,0),this.zOffset=G(i.zOffset,.5),this.attachment=G(i.attachment,"bottom-left"),this.showBorder=G(i.showBorder,!1),this.borderColor=G(i.borderColor,"lightgrey"),this.borderWidth=G(i.borderWidth,.15),this.showBackground=G(i.showBackground,!1),this.backgroundColor=G(i.backgroundColor,"lightgrey"),this.backgroundMargin=G(i.backgroundMargin,.5),this.backgroundOpacity=G(i.backgroundOpacity,1),this.fixedSize=G(i.fixedSize,!1),e.prototype.init.call(this,i)},t.prototype.getTextData=function(n,i){var r,s,a,o,c,p,A,l=this.getAtomParams(i),u=new aE(this.labelType,this.labelText,this.labelFormat);if(this.labelGrouping==="atom"){var d=n.getAtomData(l);r=d.position,s=d.radius,a=d.color,i&&!i.text||(o=[],n.eachAtom(function(w){return o.push(u.atomLabel(w))}))}else if(this.labelGrouping==="residue"){i&&!i.position||(c=[]),i&&!i.color||(A=[]),i&&!i.radius||(p=[]),i&&!i.text||(o=[]),l.colorParams&&(l.colorParams.structure=n.getStructure());var m=on.getScheme(l.colorParams),y=new Ja(l.radiusParams),g=n.getAtomProxy(),E=0;n.eachResidue(function(w){var b=3*E;w.isProtein()||w.isNucleic()?(g.index=w.traceAtomIndex,i&&!i.position||g.positionToArray(c,b)):(g.index=w.atomOffset,i&&!i.position||w.positionToArray(c,b)),i&&!i.color||m.atomColorToArray(g,A,b),i&&!i.radius||(p[E]=y.atomRadius(g)),i&&!i.text||o.push(u.atomLabel(g)),++E}),i&&!i.position||(r=new Float32Array(c)),i&&!i.color||(a=new Float32Array(A)),i&&!i.radius||(s=new Float32Array(p))}return{position:r,size:s,color:a,text:o}},t.prototype.createData=function(n){return{bufferList:[new Au(this.getTextData(n,{position:!0,color:!0,radius:!0,text:!0}),this.getBufferParams({fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,xOffset:this.xOffset,yOffset:this.yOffset,zOffset:this.zOffset,attachment:this.attachment,showBorder:this.showBorder,borderColor:this.borderColor,borderWidth:this.borderWidth,showBackground:this.showBackground,backgroundColor:this.backgroundColor,backgroundMargin:this.backgroundMargin,backgroundOpacity:this.backgroundOpacity,fixedSize:this.fixedSize}))]}},t.prototype.updateData=function(n,i){i.bufferList[0].setAttributes(this.getTextData(i.sview,n))},t.prototype.getAtomRadius=function(){return 0},t}(sr);Jn.add("label",fne);var dne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="line",this.parameters=Object.assign({multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0},lines:{type:"boolean",rebuild:!0},crosses:{type:"select",rebuild:!0,options:{off:"off",lone:"lone",all:"all"}},crossSize:{type:"number",precision:2,max:2,min:.1}},this.parameters,{flatShaded:null,side:null,wireframe:null,roughness:null,metalness:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.multipleBond=G(i.multipleBond,"off"),this.bondSpacing=G(i.bondSpacing,1),this.linewidth=G(i.linewidth,2),this.lines=G(i.lines,!0),this.crosses=G(i.crosses,"lone"),this.crossSize=G(i.crossSize,.4),e.prototype.init.call(this,i)},t.prototype.getAtomRadius=function(n){return .1},t.prototype.getBondParams=function(n,i){return i=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,radiusParams:{type:"size",size:.1,scale:1}},i),e.prototype.getBondParams.call(this,n,i)},t.prototype._crossData=function(n,i){if(!n||n.position||n.color){var r,s,a,o,c={};this.crosses==="lone"&&Object.assign(c,{atomSet:(r=i,s=r.getAtomSet(),a=r.getBondSet(),o=r.getBondProxy(),a.forEach(function(I){o.index=I,s.clear(o.atomIndex1),s.clear(o.atomIndex2)}),s)});var p=i.getAtomData(this.getAtomParams(n,c)),A={},l=p.position,u=p.color,d=p.picking,m=(l||u).length,y=3*m,g=new Float32Array(0),E=new Float32Array(0),w=new Float32Array(0),b=new Float32Array(0),_=0,C=new Float32Array(0);n&&!n.position||(g=A.position1=new Float32Array(y),E=A.position2=new Float32Array(y),_=this.crossSize/2),n&&!n.color||(w=A.color=new Float32Array(y),b=A.color2=new Float32Array(y)),n&&!n.picking||(C=new Float32Array(3*p.picking.array.length));for(var T=0;T<m;T++){var x=3*T,O=3*x;if(!n||n.position){var M=l[x],H=l[x+1],R=l[x+2];g[O]=M-_,g[O+1]=H,g[O+2]=R,E[O]=M+_,E[O+1]=H,E[O+2]=R,g[O+3]=M,g[O+4]=H-_,g[O+5]=R,E[O+3]=M,E[O+4]=H+_,E[O+5]=R,g[O+6]=M,g[O+7]=H,g[O+8]=R-_,E[O+6]=M,E[O+7]=H,E[O+8]=R+_}if(!n||n.color)for(var D=O+9,P=O;P<D;P+=3)w[P]=b[P]=u[x],w[P+1]=b[P+1]=u[x+1],w[P+2]=b[P+2]=u[x+2];n&&!n.picking||(C[x]=C[x+1]=C[x+2]=d.array[T])}return n&&!n.picking||(A.picking=new tA(C,d.structure)),A}},t.prototype.createData=function(n){var i={position:!0,color:!0,picking:!0},r=[];if(this.lines){var s=n.getBondData(this.getBondParams(i)),a=new Yo(s,this.getBufferParams({linewidth:this.linewidth}));r.push(a)}if(this.crosses!=="off"){var o=new Yo(this._crossData(i,n),this.getBufferParams({linewidth:this.linewidth}));r.push(o)}return{bufferList:r}},t.prototype.updateData=function(n,i){var r=0;if(this.lines){var s=i.sview.getBondData(this.getBondParams(n)),a={};n&&!n.position||Object.assign(a,{position1:s.position1,position2:s.position2}),n&&!n.color||Object.assign(a,{color:s.color,color2:s.color2}),i.bufferList[r++].setAttributes(a)}if(this.crosses!=="off"){var o=this._crossData(n,i.sview),c={};n&&!n.position||Object.assign(c,{position1:o.position1,position2:o.position2}),n&&!n.color||Object.assign(c,{color:o.color,color2:o.color2}),i.bufferList[r++].setAttributes(c)}},t.prototype.setParameters=function(n){var i={};return n&&(n.bondSpacing||n.crossSize)&&Object.assign(i,{position:!0}),e.prototype.setParameters.call(this,n,i,!1),this},t}(sr);function v7(e,t,n,i,r){var s=new(i=i||Int32Array)(e*t*n*(r=r||1));function a(o,c,p){return((o*t+c)*n+p)*r}return{data:s,index:a,set:function(o,c,p){for(var A=[],l=arguments.length-3;l-- >0;)A[l]=arguments[l+3];for(var u=a(o,c,p),d=0;d<r;++d)s[u+d]=A[d]},toArray:function(o,c,p,A,l){A===void 0&&(A=[]),l===void 0&&(l=0);for(var u=a(o,c,p),d=0;d<r;++d)A[l+d]=s[u+d]},fromArray:function(o,c,p,A,l){l===void 0&&(l=0);for(var u=a(o,c,p),d=0;d<r;++d)s[u+d]=A[l+d]},copy:function(o){s.set(o.data)}}}function V1(e,t,n){var i=n7(t),r=Od(e);e.length===0&&(r[0].set([0,0,0]),r[1].set([0,0,0]));var s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_=r[0],C=r[1];function T(I,L,k,K,W){s=L||1.4,a=k||2,g=W||!0;var ee=0;for(var le in i)ee=Math.max(ee,le);var J=Fd(_,C,ee,a,I?s:0);c=J.dim[0],p=J.dim[1],A=J.dim[2],l=J.matrix,u=J.tran,a=J.scaleFactor,d={},m={},O(I),y=s*a,o=K||s/a,E=new Uint8Array(c*p*A),I&&(w=new Float64Array(c*p*A)),g&&(b=new Int32Array(c*p*A))}var x=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];function O(I){var L,k,K,W,ee,le,J,re,te,ge;for(var me in i)if(L=parseFloat(me),!d[me]){for(le=(J=I?(L+s)*a+.5:L*a+.5)*J,re=Math.floor(J)+1,te=new Int32Array(re*re),ge=0,k=0;k<re;++k)for(K=0;K<re;++K)(W=k*k+K*K)>le?te[ge]=-1:(ee=Math.sqrt(le-W),te[ge]=Math.floor(ee)),++ge;m[me]=re,d[me]=te}}function M(I){var L,k,K,W,ee,le,J,re,te,ge,me,ie,fe,pe,Ee,q,Z,ae,Ae=3*I,we=I;L=Math.floor(.5+a*(e[Ae]+u[0])),k=Math.floor(.5+a*(e[Ae+1]+u[1])),K=Math.floor(.5+a*(e[Ae+2]+u[2]));var xe,Le=t[we],V=d[Le],j=0,ve=p*A,he=m[Le];for(ge=0;ge<he;++ge)for(me=0;me<he;++me){if((xe=V[j])!==-1){for(q=-1;q<2;++q)for(Z=-1;Z<2;++Z)for(ae=-1;ae<2;++ae)if(q!==0&&Z!==0&&ae!==0){for(J=q*ge,te=ae*me,ie=0;ie<=xe;++ie)if(pe=k+(re=ie*Z),Ee=K+te,!((fe=L+J)<0||pe<0||Ee<0||fe>=c||pe>=p||Ee>=A)){var oe=fe*ve+pe*A+Ee;if(g)if(1&E[oe]){if(1&E[oe]){var ue=b[oe];ue!==Ae&&J*J+re*re+te*te<(W=L+J-Math.floor(.5+a*(e[ue]+u[0])))*W+(ee=k+re-Math.floor(.5+a*(e[ue+1]+u[1])))*ee+(le=K+te-Math.floor(.5+a*(e[ue+2]+u[2])))*le&&(b[oe]=I)}}else E[oe]|=1,b[oe]=I;else E[oe]|=1}}}j++}}function H(I){var L,k;for(console.time("EDTSurface fillvoxels"),L=0,k=E.length;L<k;++L)E[L]=0,I&&(w[L]=-1),g&&(b[L]=-1);for(L=0,k=e.length/3;L<k;++L)M(L);for(L=0,k=E.length;L<k;++L)1&E[L]&&(E[L]|=2);console.timeEnd("EDTSurface fillvoxels")}function R(I){var L,k,K,W,ee,le,J,re,te,ge,me,ie,fe,pe,Ee,q,Z,ae,Ae,we=3*I,xe=I,Le=0;L=Math.floor(.5+a*(e[we]+u[0])),k=Math.floor(.5+a*(e[we+1]+u[1])),K=Math.floor(.5+a*(e[we+2]+u[2]));var V=t[xe],j=p*A;for(fe=0,Ae=m[V];fe<Ae;++fe)for(pe=0;pe<Ae;++pe){if(d[V][Le]!==-1){for(q=-1;q<2;++q)for(Z=-1;Z<2;++Z)for(ae=-1;ae<2;++ae)if(q!==0&&Z!==0&&ae!==0){for(J=q*fe,te=ae*pe,Ee=0;Ee<=d[V][Le];++Ee)if(me=k+(re=Ee*Z),ie=K+te,!((ge=L+J)<0||me<0||ie<0||ge>=c||me>=p||ie>=A)){var ve=ge*j+me*A+ie;if(2&E[ve]){if(g){var he=b[ve];J*J+re*re+te*te<(W=Math.floor(.5+a*(e[he]+u[0])))*W+(ee=Math.floor(.5+a*(e[he+1]+u[1])))*ee+(le=Math.floor(.5+a*(e[he+2]+u[2])))*le&&(b[ve]=I)}}else E[ve]|=2,g&&(b[ve]=I)}}}Le++}}function D(){var I,L,k,K;console.time("EDTSurface fastdistancemap");var W,ee=v7(c,p,A,Uint16Array,3),le=p*A,J=y*y,re=0;for(I=0;I<c;++I)for(L=0;L<p;++L)for(k=0;k<A;++k)E[W=I*le+L*A+k]&=-3,1&E[W]&&4&E[W]&&(ee.set(I,L,k,I,L,k),w[W]=0,E[W]|=2,re+=1);var te=new Int32Array(3*re),ge=0,me=new Int32Array(3*re),ie=0;for(I=0;I<c;++I)for(L=0;L<p;++L)for(k=0;k<A;++k)4&E[W=I*le+L*A+k]&&(te[ge]=I,te[ge+1]=L,te[ge+2]=k,ge+=3,E[W]&=-5);do for(ie=P(te,ee,ge,me),ge=0,I=0,K=ie;I<K;I+=3)W=le*me[I]+A*me[I+1]+me[I+2],E[W]&=-5,w[W]<=1.0404*J&&(te[ge]=me[I],te[ge+1]=me[I+1],te[ge+2]=me[I+2],ge+=3);while(ge>0);var fe,pe=o*o,Ee=new Uint16Array(3);for(I=0;I<c;++I)for(L=0;L<p;++L)for(k=0;k<A;++k)E[W=I*le+L*A+k]&=-5,1&E[W]&&(2&E[W]&&!(2&E[W]&&w[W]>=pe)||(E[W]|=4,g&&2&E[W]&&(ee.toArray(I,L,k,Ee),fe=Ee[0]*le+Ee[1]*A+Ee[2],b[W]=b[fe])));console.timeEnd("EDTSurface fastdistancemap")}function P(I,L,k,K){var W,ee,le,J,re,te,ge,me,ie,fe,pe,Ee,q=new Uint16Array(3),Z=0;if(k===0)return Z;var ae=-1,Ae=-1,we=-1,xe=p*A;for(ge=0,ie=k;ge<ie;ge+=3)for(W=I[ge],ee=I[ge+1],le=I[ge+2],L.toArray(W,ee,le,q),me=0;me<6;++me)ae=W+(Ee=x[me])[0],Ae=ee+Ee[1],we=le+Ee[2],ae<c&&ae>-1&&Ae<p&&Ae>-1&&we<A&&we>-1&&(1&E[pe=ae*xe+A*Ae+we]&&!(2&E[pe])?(L.fromArray(ae,Ae,we,q),fe=(J=ae-q[0])*J+(re=Ae-q[1])*re+(te=we-q[2])*te,w[pe]=fe,E[pe]|=2,E[pe]|=4,K[Z]=ae,K[Z+1]=Ae,K[Z+2]=we,Z+=3):1&E[pe]&&2&E[pe]&&(fe=(J=ae-q[0])*J+(re=Ae-q[1])*re+(te=we-q[2])*te)<w[pe]&&(L.fromArray(ae,Ae,we,q),w[pe]=fe,4&E[pe]||(E[pe]|=4,K[Z]=ae,K[Z+1]=Ae,K[Z+2]=we,Z+=3)));for(ge=0,ie=k;ge<ie;ge+=3)for(W=I[ge],ee=I[ge+1],le=I[ge+2],L.toArray(W,ee,le,q),me=6;me<18;me++)ae=W+(Ee=x[me])[0],Ae=ee+Ee[1],we=le+Ee[2],ae<c&&ae>-1&&Ae<p&&Ae>-1&&we<A&&we>-1&&(1&E[pe=ae*xe+A*Ae+we]&&!(2&E[pe])?(L.fromArray(ae,Ae,we,q),fe=(J=ae-q[0])*J+(re=Ae-q[1])*re+(te=we-q[2])*te,w[pe]=fe,E[pe]|=2,E[pe]|=4,K[Z]=ae,K[Z+1]=Ae,K[Z+2]=we,Z+=3):1&E[pe]&&2&E[pe]&&(fe=(J=ae-q[0])*J+(re=Ae-q[1])*re+(te=we-q[2])*te)<w[pe]&&(L.fromArray(ae,Ae,we,q),w[pe]=fe,4&E[pe]||(E[pe]|=4,K[Z]=ae,K[Z+1]=Ae,K[Z+2]=we,Z+=3)));for(ge=0,ie=k;ge<ie;ge+=3)for(W=I[ge],ee=I[ge+1],le=I[ge+2],L.toArray(W,ee,le,q),me=18;me<26;me++)ae=W+(Ee=x[me])[0],Ae=ee+Ee[1],we=le+Ee[2],ae<c&&ae>-1&&Ae<p&&Ae>-1&&we<A&&we>-1&&(1&E[pe=ae*xe+A*Ae+we]&&!(2&E[pe])?(L.fromArray(ae,Ae,we,q),fe=(J=ae-q[0])*J+(re=Ae-q[1])*re+(te=we-q[2])*te,w[pe]=fe,E[pe]|=2,E[pe]|=4,K[Z]=ae,K[Z+1]=Ae,K[Z+2]=we,Z+=3):1&E[pe]&&2&E[pe]&&(fe=(J=ae-q[0])*J+(re=Ae-q[1])*re+(te=we-q[2])*te)<w[pe]&&(L.fromArray(ae,Ae,we,q),w[pe]=fe,4&E[pe]||(E[pe]|=4,K[Z]=ae,K[Z+1]=Ae,K[Z+2]=we,Z+=3)));return Z}this.getVolume=function(I,L,k,K,W){console.time("EDTSurface.getVolume");var ee=I!=="vws";T(ee,L,k,K,W),H(ee),function(){var re,te,ge,me=p*A;for(re=0;re<c;++re)for(te=0;te<A;++te)for(ge=0;ge<p;++ge){var ie=re*me+ge*A+te;if(1&E[ie])for(var fe=0;fe<26;){var pe=re+x[fe][0],Ee=te+x[fe][2],q=ge+x[fe][1];if(pe>-1&&pe<c&&q>-1&&q<p&&Ee>-1&&Ee<A&&!(1&E[pe*me+q*A+Ee])){E[ie]|=4;break}fe++}}}(),I!=="ms"&&I!=="ses"||D(),I==="ses"&&(O(!1),function(){var re,te;for(re=0,te=E.length;re<te;++re)E[re]&=-3;for(re=0,te=e.length/3;re<te;++re)R(re)}()),function(re){var te,ge=E.length;if(re==="vws")for(te=0;te<ge;++te)E[te]&=-5,E[te]=2&E[te]?1:0;else if(re==="ms")for(te=0;te<ge;++te)E[te]&=-3,4&E[te]&&(E[te]|=2),E[te]&=-5,E[te]=2&E[te]?1:0;else if(re==="ses")for(te=0;te<ge;++te)4&E[te]&&2&E[te]?E[te]&=-5:4&E[te]&&!(2&E[te])&&(E[te]|=2),E[te]=2&E[te]?1:0;else if(re==="sas")for(te=0;te<ge;++te)E[te]&=-5,E[te]=2&E[te]?1:0}(I);for(var le=0,J=b.length;le<J;++le)b[le]=n[b[le]];return console.timeEnd("EDTSurface.getVolume"),{data:E,nx:A,ny:p,nz:c,atomindex:b}},this.getSurface=function(I,L,k,K,W,ee,le){var J=this.getVolume(I,L,k,K,W);return new Gc(J.data,J.nx,J.ny,J.nz,J.atomindex).getSurface(1,ee,void 0,l,le)}}function C7(e,t,n,i,r,s,a){a=Math.max(.1,a);var o=e.length,c=r[0],p=r[1],A=r[2],l=s[0],u=s[1],d=s[2];function m(ee,le){return Math.floor((ee-le)/a)}for(var y,g,E,w=m(l,c)+1,b=m(u,p)+1,_=m(d,A)+1,C=w*b*_,T=b*_,x=[],O=0;O<o;O++){var M=(y=e[O],g=t[O],E=n[O],(m(y,c)*b+m(g,p))*_+m(E,A));x[M]===void 0?x[M]=[O]:x[M].push(O)}var H=new Uint32Array(C),R=new Uint16Array(C),D=new Uint32Array(o),P=0,I=0;for(O=0;O<C;O++){var L=H[O]=P,k=x[O];if(k!==void 0)for(var K=0;K<k.length;K++)D[P]=k[K],P++;var W=P-L;R[O]=W,W>I&&(I=W)}return{neighbourListLength:27*I+1,withinRadii:function(ee,le,J,re,te){for(var ge=0,me=m(ee,c),ie=m(le,p),fe=m(J,A),pe=Math.max(0,me-1),Ee=Math.max(0,ie-1),q=Math.max(0,fe-1),Z=Math.min(w,me+2),ae=Math.min(b,ie+2),Ae=Math.min(_,fe+2),we=pe;we<Z;++we)for(var xe=we*T,Le=Ee;Le<ae;++Le)for(var V=Le*_,j=q;j<Ae;++j)for(var ve=xe+V+j,he=H[ve],oe=he+R[ve],ue=he;ue<oe;ue++){var Oe=D[ue],Pe=e[Oe]-ee,Te=t[Oe]-le,Ne=n[Oe]-J,Se=i[Oe]+re;Pe*Pe+Te*Te+Ne*Ne<=Se*Se&&(te[ge++]=D[ue])}te[ge]=-1}}}function K1(e,t,n){for(var i=t.length,r=new Float32Array(i),s=new Float32Array(i),a=new Float32Array(i),o=0;o<i;o++){var c=3*o;r[o]=e[c],s[o]=e[c+1],a[o]=e[c+2]}var p=Od(e);e.length===0&&(p[0].set([0,0,0]),p[1].set([0,0,0]));var A,l,u,d,m,y,g,E,w,b,_,C,T,x,O,M,H,R,D,P=p[0],I=p[1],L=-1,k=new Float32Array([0,0,0]),K=new Float32Array([0,0,0]),W=new Float32Array([0,0,0]),ee=new Float32Array([0,0,0]);function le(fe,pe,Ee,q){d=G(fe,1.4),m=G(pe,2),y=G(Ee,!0),g=G(q,30),A=new Float32Array(i),l=new Float32Array(i);for(var Z=0;Z<A.length;++Z){var ae=t[Z]+d;A[Z]=ae,l[Z]=ae*ae}u=0;for(var Ae=0;Ae<A.length;++Ae)A[Ae]>u&&(u=A[Ae]);var we;we=Fd(P,I,u,m,0),m=we.scaleFactor,E=we.dim,w=we.matrix,D=Math.max(5,2+Math.floor(d*m)),b=ms(E[0]*E[1]*E[2],-1001),_=new Int32Array(b.length),C=new Float32Array(E[0]),T=new Float32Array(E[1]),x=new Float32Array(E[2]),J(C,P[0],1/m),J(T,P[1],1/m),J(x,P[2],1/m),function(){var xe=0,Le=2*Math.PI/g;M=new Float32Array(g),O=new Float32Array(g);for(var V=0;V<g;V++)M[V]=Math.cos(xe),O[V]=Math.sin(xe),xe+=Le}(),H=C7(r,s,a,A,P,I,2.01*u),R=new Int32Array(H.neighbourListLength),L=-1}function J(fe,pe,Ee){for(var q=0;q<fe.length;q++)fe[q]=pe+Ee*q}function re(fe,pe,Ee,q,Z){var ae;if(L!==-1){if((ae=L)!==q&&ae!==Z&&te(ae,fe,pe,Ee))return ae;L=-1}var Ae=0;for(ae=R[Ae];ae>=0;){if(ae!==q&&ae!==Z&&te(ae,fe,pe,Ee))return L=ae,ae;ae=R[++Ae]}return L=-1,-1}function te(fe,pe,Ee,q){var Z=3*fe,ae=l[fe],Ae=e[Z]-pe,we=e[Z+1]-Ee,xe=e[Z+2]-q;return Ae*Ae+we*we+xe*xe<ae}function ge(){for(var fe=0;fe<i;fe++){var pe=r[fe],Ee=s[fe],q=a[fe],Z=A[fe],ae=l[fe];H.withinRadii(pe,Ee,q,Z,R);for(var Ae=Math.ceil(Z*m),we=Math.floor(m*(pe-P[0])),xe=Math.floor(m*(Ee-P[1])),Le=Math.floor(m*(q-P[2])),V=Math.max(0,we-Ae),j=Math.max(0,xe-Ae),ve=Math.max(0,Le-Ae),he=Math.min(E[0],we+Ae+2),oe=Math.min(E[1],xe+Ae+2),ue=Math.min(E[2],Le+Ae+2),Oe=V;Oe<he;Oe++)for(var Pe=C[Oe]-pe,Te=E[1]*E[2]*Oe,Ne=j;Ne<oe;Ne++)for(var Se=T[Ne]-Ee,ze=Pe*Pe+Se*Se,Ge=Te+E[2]*Ne,Ue=ve;Ue<ue;Ue++){var nt=x[Ue]-q,vt=ze+nt*nt;if(vt<ae){var gt=Ue+Ge;b[gt]<0&&(b[gt]=-b[gt]);var Et=Math.sqrt(vt),Mt=Z/Et,Lt=Pe*Mt,Bt=Se*Mt,at=nt*Mt;if(re(Lt+=pe,Bt+=Ee,at+=q,fe,-1)===-1){var Wt=Z-Et;Wt<b[gt]&&(b[gt]=Wt,y&&(_[gt]=fe))}}}}}function me(fe,pe){var Ee=A[fe],q=A[pe],Z=k[0]=r[pe]-r[fe],ae=k[1]=s[pe]-s[fe],Ae=k[2]=a[pe]-a[fe],we=Z*Z+ae*ae+Ae*Ae,xe=Math.sqrt(we),Le=Ee*((Ee*Ee+xe*xe-q*q)/(2*Ee*xe));Ai(k,k),function(Ze,it){Ze[0]=Ze[1]=Ze[2]=1,it[0]!==0?Ze[0]=(it[1]+it[2])/-it[0]:it[1]!==0?Ze[1]=(it[0]+it[2])/-it[1]:it[2]!==0&&(Ze[2]=(it[0]+it[1])/-it[2])}(W,k),Ai(W,W),jr(ee,k,W),Ai(ee,ee);var V=Math.sqrt(Ee*Ee-Le*Le);Gn(W,W,V),Gn(ee,ee,V),Gn(k,k,Le),K[0]=k[0]+r[fe],K[1]=k[1]+s[fe],K[2]=k[2]+a[fe],L=-1;for(var j=D,ve=0;ve<g;ve++){var he=M[ve],oe=O[ve],ue=K[0]+he*W[0]+oe*ee[0],Oe=K[1]+he*W[1]+oe*ee[1],Pe=K[2]+he*W[2]+oe*ee[2];if(re(ue,Oe,Pe,fe,pe)===-1)for(var Te=Math.floor(m*(ue-P[0])),Ne=Math.floor(m*(Oe-P[1])),Se=Math.floor(m*(Pe-P[2])),ze=Math.max(0,Te-j),Ge=Math.max(0,Ne-j),Ue=Math.max(0,Se-j),nt=Math.min(E[0],Te+j+2),vt=Math.min(E[1],Ne+j+2),gt=Math.min(E[2],Se+j+2),Et=ze;Et<nt;Et++){Z=ue-C[Et];for(var Mt=E[1]*E[2]*Et,Lt=Ge;Lt<vt;Lt++)for(var Bt=Z*Z+(ae=Oe-T[Lt])*ae,at=Mt+E[2]*Lt,Wt=Ue;Wt<gt;Wt++){we=Bt+(Ae=Pe-x[Wt])*Ae;var wt=Wt+at,rt=b[wt];if(rt>0&&we<rt*rt&&(b[wt]=Math.sqrt(we),y)){var Vt=Z*k[0]+ae*k[1]+Ae*k[2];_[wt]=Vt<0?pe:fe}}}}}function ie(fe,pe,Ee){console.time("AVSurface.getVolume"),console.time("AVSurface.init"),le(fe,pe,Ee),console.timeEnd("AVSurface.init"),console.time("AVSurface.projectPoints"),ge(),console.timeEnd("AVSurface.projectPoints"),console.time("AVSurface.projectTorii"),function(){for(var q=0;q<i;q++){H.withinRadii(r[q],s[q],a[q],A[q],R);for(var Z=0,ae=R[Z];ae>=0;)q<ae&&me(q,ae),ae=R[++Z]}}(),console.timeEnd("AVSurface.projectTorii"),function(){for(var q=0;q<b.length;q++)b[q]<0&&(b[q]=0)}(),function(){for(var q=0;q<_.length;q++)_[q]=n[_[q]]}(),console.timeEnd("AVSurface.getVolume")}this.getSurface=function(fe,pe,Ee,q,Z,ae,Ae){return ie(pe,Ee,Z),new Gc(b,E[2],E[1],E[0],_).getSurface(pe,!1,void 0,w,Ae)}}Jn.add("line",dne),Object.assign(V1,{__deps:[Fd,n7,Gc,Od,v7]}),Object.assign(K1,{__deps:[Fd,Gc,ms,Od,Gn,jr,Ai,C7,G]}),Md.add("molsurf",function(e,t){var n=e.data.args,i=e.data.params;if(n&&i){var r=new(i.type==="av"?K1:V1)(n.coordList,n.radiusList,n.indexList).getSurface(i.type,i.probeRadius,i.scaleFactor,i.cutoff,!0,i.smooth,i.contour),s=[r.position.buffer,r.index.buffer];r.normal&&s.push(r.normal.buffer),r.atomindex&&s.push(r.atomindex.buffer),t({sd:r,p:i},s)}},[V1,K1]);var al=function(e){this.structure=e};al.prototype._getAtomData=function(e){return this.structure.getAtomData({what:{position:!0,radius:!0,index:!0},radiusParams:G(e.radiusParams,{type:"vdw",scale:1})})},al.prototype._makeSurface=function(e,t){var n=new dr(t.name,"",e);return n.info.type=t.type,n.info.probeRadius=t.probeRadius,n.info.scaleFactor=t.scaleFactor,n.info.smooth=t.smooth,n.info.cutoff=t.cutoff,n},al.prototype.getSurface=function(e){var t=e||{},n=this._getAtomData(e),i=n.position,r=n.radius,s=n.index,a=new(t.type==="av"?K1:V1)(i,r,s).getSurface(t.type,t.probeRadius,t.scaleFactor,t.cutoff,!0,t.smooth,t.contour);return this._makeSurface(a,t)},al.prototype.getSurfaceWorker=function(e,t){var n=this,i=Object.assign({},e);if(window.hasOwnProperty("Worker")){this.worker===void 0&&(this.worker=new eE("molsurf"));var r=this._getAtomData(e),s=r.position,a=r.radius,o=r.index,c={args:{coordList:s,radiusList:a,indexList:o},params:i},p=[s.buffer,a.buffer,o.buffer];this.worker.post(c,p,function(l){t(n._makeSurface(l.data.sd,i))},function(l){console.warn("MolecularSurface.getSurfaceWorker error - trying without worker",l),n.worker.terminate(),n.worker=void 0;var u=n.getSurface(i);t(u)})}else{var A=this.getSurface(i);t(A)}},al.prototype.dispose=function(){this.worker&&this.worker.terminate()};var hne=function(e){function t(n,i,r){var s=this;e.call(this,n,i,r),this.type="surface",this.parameters=Object.assign({surfaceType:{type:"select",rebuild:!0,options:{vws:"vws",sas:"sas",ms:"ms",ses:"ses",av:"av"}},probeRadius:{type:"number",precision:1,max:20,min:0,rebuild:!0},smooth:{type:"integer",precision:1,max:10,min:0,rebuild:!0},scaleFactor:{type:"number",precision:1,max:5,min:0,rebuild:!0},cutoff:{type:"number",precision:2,max:50,min:0,rebuild:!0},contour:{type:"boolean",rebuild:!0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},filterSele:{type:"text",rebuild:!0},colorVolume:{type:"hidden"},useWorker:{type:"boolean",rebuild:!0}},this.parameters,{radius:null,scale:null}),this.__infoList=[],this.structure.signals.refreshed.add(function(){s.__forceNewMolsurf=!0}),this.toBePrepared=!0,this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"uniform"),i.colorValue=G(i.colorValue,14540253),i.disablePicking=G(i.disablePicking,!0),this.surfaceType=G(i.surfaceType,"ms"),this.probeRadius=G(i.probeRadius,1.4),this.smooth=G(i.smooth,2),this.scaleFactor=G(i.scaleFactor,2),this.cutoff=G(i.cutoff,0),this.contour=G(i.contour,!1),this.background=G(i.background,!1),this.opaqueBack=G(i.opaqueBack,!0),this.filterSele=G(i.filterSele,""),this.colorVolume=G(i.colorVolume,void 0),this.useWorker=G(i.useWorker,!0),e.prototype.init.call(this,n)},t.prototype.prepareData=function(n,i,r){var s=this.__infoList[i];if(s||(s={},this.__infoList[i]=s),s.molsurf&&s.sele===n.selection.string)r(i);else{if(this.filterSele){var a=n.structure.getView(new Nn(this.filterSele)),o=a.boundingBox.getSize(new F),c=Math.max(o.x,o.y,o.z),p=n.getAtomSetWithinPoint(a.center,c/2+6);if((n=n.getView(new Nn(n.getAtomSetWithinSelection(p,3).toSeleString()))).atomCount===0)return void r(i)}s.sele=n.selection.string,s.molsurf=new al(n);var A=this.getSurfaceParams(),l=function(u){s.surface=u,r(i)};this.useWorker?s.molsurf.getSurfaceWorker(A,l):l(s.molsurf.getSurface(A))}},t.prototype.prepare=function(n){var i=this;if((this.__forceNewMolsurf||this.__sele!==this.selection.string||this.__surfaceParams!==JSON.stringify(this.getSurfaceParams()))&&(this.__infoList.forEach(function(o){o&&o.molsurf&&o.molsurf.dispose()}),this.__infoList.length=0),this.structureView.atomCount!==0){var r=function(){i.__sele=i.selection.string,i.__surfaceParams=JSON.stringify(i.getSurfaceParams()),i.__forceNewMolsurf=!1,n()},s=this.assembly==="default"?this.defaultAssembly:this.assembly,a=this.structure.biomolDict[s];a?a.partList.forEach(function(o,c){var p=o.getView(i.structureView);i.prepareData(p,c,function(A){A===a.partList.length-1&&r()})}):this.prepareData(this.structureView,0,r)}else n()},t.prototype.createData=function(n,i){var r=this.__infoList[i],s=r.surface;if(s){var a={position:s.getPosition(),color:s.getColor(this.getColorParams()),index:s.getFilteredIndex(this.filterSele,n)},o=[];if(s.contour){var c=new r7(a,this.getBufferParams({wireframe:!1}));o.push(c)}else{Object.assign(a,{normal:s.getNormal(),picking:s.getPicking(n.getStructure())});var p=new i7(a,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));if(this.getBufferParams().side=="double"){var A=new Ns(p);o.push(A)}else o.push(p)}return{bufferList:o,info:r}}},t.prototype.updateData=function(n,i){var r={};if(n.position||n.radius)return this.__forceNewMolsurf=!0,void this.build();n.color&&(r.color=i.info.surface.getColor(this.getColorParams())),n.index&&(r.index=i.info.surface.getFilteredIndex(this.filterSele,i.sview)),i.bufferList[0].setAttributes(r)},t.prototype.setParameters=function(n,i,r){return i===void 0&&(i={}),n&&n.filterSele&&(i.index=!0),n&&n.colorVolume!==void 0&&(i.color=!0),n&&n.wireframe&&(n.contour||n.contour===void 0&&this.contour)&&(n.wireframe=!1),e.prototype.setParameters.call(this,n,i,r),this},t.prototype.getSurfaceParams=function(n){return n===void 0&&(n={}),Object.assign({type:this.surfaceType,probeRadius:this.probeRadius,scaleFactor:this.scaleFactor,smooth:this.smooth&&!this.contour,cutoff:this.cutoff,contour:this.contour,useWorker:this.useWorker,radiusParams:this.getRadiusParams()},n)},t.prototype.getColorParams=function(){var n=e.prototype.getColorParams.call(this);return n.volume=this.colorVolume,n},t.prototype.getAtomRadius=function(){return 0},t.prototype.clear=function(){e.prototype.clear.call(this)},t.prototype.dispose=function(){this.__infoList.forEach(function(n){n&&n.molsurf&&n.molsurf.dispose()}),this.__infoList.length=0,e.prototype.dispose.call(this)},t}(sr);Jn.add("surface",hne);var mne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="point",this.parameters=Object.assign({pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{flatShaded:null,wireframe:null,linewidth:null,side:null,roughness:null,metalness:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};this.pointSize=G(i.pointSize,1),this.sizeAttenuation=G(i.sizeAttenuation,!0),this.sortParticles=G(i.sortParticles,!1),this.useTexture=G(i.useTexture,!1),this.alphaTest=G(i.alphaTest,.5),this.forceTransparent=G(i.forceTransparent,!1),this.edgeBleach=G(i.edgeBleach,0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){var i=n.getAtomData(this.getAtomParams({position:!0,color:!0,picking:!0}));return{bufferList:[new H_(i,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach}))]}},t.prototype.updateData=function(n,i){var r=i.sview.getAtomData(this.getAtomParams(n)),s={};n&&!n.position||Object.assign(s,{position:r.position}),n&&!n.color||Object.assign(s,{color:r.color}),i.bufferList[0].setAttributes(s)},t.prototype.getAtomRadius=function(){return .1},t}(sr);Jn.add("point",mne),Cn.add("shader/Ribbon.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
attribute vec3 dir;
attribute float size;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
transformed += normalize( dir ) * size;
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`);var Ene=new Uint16Array([0,1,2,1,3,2]);function Xu(e){return 3*(4*(e.position.length/3-1))}var yne=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,{position:new Float32Array(Xu(n)),color:new Float32Array(Xu(n)),index:Za(Xu(n),Xu(n)/3),normal:new Float32Array(Xu(n)),picking:n.picking},i),this.vertexShader="Ribbon.vert";var r=n.position.length/3-1,s=4*r,a=3*s;this.addAttributes({dir:{type:"v3",value:new Float32Array(a)}}),this.addAttributes({size:{type:"f",value:new Float32Array(s)}}),n.primitiveId=ou(r),this.setAttributes(n),this.makeIndex()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n){n===void 0&&(n={});var i,r,s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T=this.size/4,x=this.geometry.attributes;n.position&&(i=n.position,p=x.position.array,x.position.needsUpdate=!0),n.normal&&(r=n.normal,A=x.normal.array,x.normal.needsUpdate=!0),n.size&&(s=n.size,l=x.size.array,x.size.needsUpdate=!0),n.dir&&(a=n.dir,u=x.dir.array,x.dir.needsUpdate=!0),n.color&&(o=n.color,d=x.color.array,x.color.needsUpdate=!0),n.primitiveId&&(c=n.primitiveId,m=x.primitiveId.array,x.primitiveId.needsUpdate=!0);var O=s?s[0]:null;for(y=0;y<T;++y){for(_=3*y,E=3*y*4,b=4*y,i&&(p[E]=p[E+3]=i[_],p[E+1]=p[E+4]=i[_+1],p[E+2]=p[E+5]=i[_+2],p[E+6]=p[E+9]=i[_+3],p[E+7]=p[E+10]=i[_+4],p[E+8]=p[E+11]=i[_+5]),r&&(A[E]=A[E+3]=-r[_],A[E+1]=A[E+4]=-r[_+1],A[E+2]=A[E+5]=-r[_+2],A[E+6]=A[E+9]=-r[_+3],A[E+7]=A[E+10]=-r[_+4],A[E+8]=A[E+11]=-r[_+5]),g=0;g<4;++g)w=E+3*g,o&&(d[w]=o[_],d[w+1]=o[_+1],d[w+2]=o[_+2]),c&&(m[b+g]=c[y]);s&&(C=s[y],O!==s[y]?(l[b]=O,l[b+1]=O,l[b+2]=C,l[b+3]=C):(l[b]=C,l[b+1]=C,l[b+2]=C,l[b+3]=C),O=C),a&&(u[E]=a[_],u[E+1]=a[_+1],u[E+2]=a[_+2],u[E+3]=-a[_],u[E+4]=-a[_+1],u[E+5]=-a[_+2],u[E+6]=a[_+3],u[E+7]=a[_+4],u[E+8]=a[_+5],u[E+9]=-a[_+3],u[E+10]=-a[_+4],u[E+11]=-a[_+5])}},t.prototype.makeIndex=function(){var n=this.geometry.getIndex();if(n)for(var i=n.array,r=i.length/4/3,s=0;s<r;++s){var a=6*s,o=4*s;i.set(Ene,a);for(var c=0;c<6;++c)i[a+c]+=o}else Be.error("Index is null")},t}(zo),gne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="ribbon",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{side:null,wireframe:null,linewidth:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"chainname"),i.colorScale=G(i.colorScale,"RdYlBu"),i.radiusType=G(i.radiusType,"sstruc"),i.radiusScale=G(i.radiusScale,4),i.quality==="low"?this.subdiv=3:i.quality==="medium"?this.subdiv=6:i.quality==="high"?this.subdiv=12:this.subdiv=G(i.subdiv,6),this.tension=G(i.tension,NaN),this.smoothSheet=G(i.smoothSheet,!1),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!0,smoothSheet:this.smoothSheet},n)},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.createData=function(n){var i=this,r=[],s=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){s.push(a);var o=new Mr(a,i.getSplineParams()),c=o.getSubdividedPosition(),p=o.getSubdividedOrientation(),A=o.getSubdividedColor(i.getColorParams()),l=o.getSubdividedPicking(),u=o.getSubdividedSize(i.getRadiusParams());r.push(new yne({position:c.position,normal:p.binormal,dir:p.normal,color:A.color,size:u.size,picking:l.picking},i.getBufferParams()))}},n.getSelection()),{bufferList:r,polymerList:s}},t.prototype.updateData=function(n,i){n=n||{};var r=0,s=i.polymerList.length;for(r=0;r<s;++r){var a={},o=new Mr(i.polymerList[r],this.getSplineParams());if(n.position){var c=o.getSubdividedPosition(),p=o.getSubdividedOrientation();Object.assign(a,{position:c.position,normal:p.binormal,dir:p.normal})}if(n.radius||n.scale){var A=o.getSubdividedSize(this.getRadiusParams());Object.assign(a,{size:A.size})}if(n.color){var l=o.getSubdividedColor(this.getColorParams());Object.assign(a,{color:l.color})}i.bufferList[r].setAttributes(a)}},t.prototype.setParameters=function(n){var i={};return n&&n.tension&&Object.assign(i,{position:!0}),e.prototype.setParameters.call(this,n,i,!1),this},t}(sr);Jn.add("ribbon",gne);var wne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="rocket",this.parameters=Object.assign({localAngle:{type:"integer",max:180,min:0,rebuild:!0},centerDist:{type:"number",precision:1,max:10,min:0,rebuild:!0},ssBorder:{type:"boolean",rebuild:!0},radialSegments:!0,openEnded:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"sstruc"),i.radiusSize=G(i.radiusSize,1.5),i.radiusScale=G(i.radiusScale,1),i.openEnded=G(i.openEnded,!1),i.useInteriorColor=G(i.useInteriorColor,!0),this.localAngle=G(i.localAngle,30),this.centerDist=G(i.centerDist,2.5),this.ssBorder=G(i.ssBorder,!1),e.prototype.init.call(this,i)},t.prototype.createData=function(n){var i=this,r=0,s=[],a=[];this.structure.eachPolymer(function(A){if(!(A.residueCount<4||A.isNucleic())){var l=new F_(A),u=l.getAxis(i.localAngle,i.centerDist,i.ssBorder,i.getColorParams(),i.getRadiusParams());r+=u.size.length,s.push(u),a.push(l)}},n.getSelection());var o={begin:new Float32Array(3*r),end:new Float32Array(3*r),size:new Float32Array(r),color:new Float32Array(3*r),picking:{}},c=new Float32Array(r),p=0;return s.forEach(function(A){o.begin.set(A.begin,3*p),o.end.set(A.end,3*p),o.size.set(A.size,p),o.color.set(A.color,3*p),c.set(A.picking.array,p),p+=A.size.length}),r&&(o.picking=new tA(c,n.getStructure())),{bufferList:[new jo({position1:o.begin,position2:o.end,color:o.color,color2:o.color,radius:o.size,picking:o.picking},this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))],axisList:s,helixbundleList:a,axisData:o}},t.prototype.updateData=function(n,i){var r=this;if((n=n||{}).position)this.build();else{var s={};if(n.color||n.radius){var a=0;i.helixbundleList.forEach(function(o){var c=o.getAxis(r.localAngle,r.centerDist,r.ssBorder,r.getColorParams(),r.getRadiusParams());n.color&&i.axisData.color.set(c.color,3*a),(n.radius||n.scale)&&i.axisData.size.set(c.size,a),a+=c.size.length}),n.color&&Object.assign(s,{color:i.axisData.color,color2:i.axisData.color}),(n.radius||n.scale)&&Object.assign(s,{radius:i.axisData.size})}i.bufferList[0].setAttributes(s)}},t}(sr);Jn.add("rocket",wne);var _ne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="rope",this.parameters=Object.assign({smooth:{type:"integer",max:15,min:0,rebuild:!0}},this.parameters,{aspectRatio:null,smoothSheet:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=1,i.tension=G(i.tension,.5),i.radiusScale=G(i.radiusScale,5),i.smoothSheet=!1,this.smooth=G(i.smooth,2),e.prototype.init.call(this,i)},t.prototype.getSpline=function(n){var i=new Ro(n);return new Mr(n,this.getSplineParams({directional:!1,positionIterator:i.getCenterIterator(this.smooth)}))},t}(K_);Jn.add("rope",_ne);var vne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="spacefill",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.useInteriorColor=G(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){return{bufferList:[new qc(n.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,dullInterior:!0,disableImpostor:this.disableImpostor}))]}},t.prototype.updateData=function(n,i){var r=i.sview.getAtomData(this.getAtomParams(n)),s={};n&&!n.position||Object.assign(s,{position:r.position}),n&&!n.color||Object.assign(s,{color:r.color}),n&&!n.radius||Object.assign(s,{radius:r.radius}),i.bufferList[0].setAttributes(s)},t}(sr);function JT(e){return 3*(e.position.length/3-1)*2}Jn.add("spacefill",vne);var Cne=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,{position:new Float32Array(JT(n)),color:new Float32Array(JT(n))},i),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag",this.setAttributes(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n){var i,r,s,a,o=this.geometry.attributes;if(n.position&&(i=n.position,s=o.position.array,o.position.needsUpdate=!0),n.color&&(r=n.color,a=o.color.array,o.color.needsUpdate=!0),i||r)for(var c,p,A=this.size-1,l=0;l<A;++l)c=3*l,p=3*l*2,i&&(s[p]=i[c],s[p+1]=i[c+1],s[p+2]=i[c+2],s[p+3]=i[c+3],s[p+4]=i[c+4],s[p+5]=i[c+5]),r&&(a[p]=r[c],a[p+1]=r[c+1],a[p+2]=r[c+2],a[p+3]=r[c+3],a[p+4]=r[c+4],a[p+5]=r[c+5]);else Be.warn("TraceBuffer.prototype.setAttributes no data")},t}(un),bne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="trace",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorScheme=G(i.colorScheme,"chainname"),i.colorScale=G(i.colorScale,"RdYlBu"),i.quality==="low"?this.subdiv=3:i.quality==="medium"?this.subdiv=6:i.quality==="high"?this.subdiv=12:this.subdiv=G(i.subdiv,6),this.tension=G(i.tension,NaN),this.smoothSheet=G(i.smoothSheet,!1),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!1,smoothSheet:this.smoothSheet},n)},t.prototype.getAtomRadius=function(n){return n.isTrace()?.1:0},t.prototype.createData=function(n){var i=this,r=[],s=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){s.push(a);var o=new Mr(a,i.getSplineParams()),c=o.getSubdividedPosition(),p=o.getSubdividedColor(i.getColorParams());r.push(new Cne(Object.assign({},c,p),i.getBufferParams()))}},n.getSelection()),{bufferList:r,polymerList:s}},t.prototype.updateData=function(n,i){n=n||{};var r=0,s=i.polymerList.length;for(r=0;r<s;++r){var a={},o=new Mr(i.polymerList[r],this.getSplineParams());if(n.position){var c=o.getSubdividedPosition();Object.assign(a,{position:c.position})}if(n.color){var p=o.getSubdividedColor(this.getColorParams());Object.assign(a,{color:p.color})}i.bufferList[r].setAttributes(a)}},t.prototype.setParameters=function(n){var i={};return n&&n.tension&&Object.assign(i,{position:!0}),e.prototype.setParameters.call(this,n,i,!1),this},t}(sr);Jn.add("trace",bne);var xne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="tube",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.aspectRatio=1,i.radiusScale=G(i.radiusScale,2),i.quality==="low"&&(this.radialSegments=5),e.prototype.init.call(this,i)},t.prototype.getSplineParams=function(){return e.prototype.getSplineParams.call(this,{directional:!1})},t}(K_);Jn.add("tube",xne);var Tne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="unitcell",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0},this.parameters,{assembly:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{},r=.5;this.structure.unitcell&&(r=Math.cbrt(this.structure.unitcell.volume)/200),i.radiusSize=G(i.radiusSize,r),i.colorValue=G(i.colorValue,"orange"),i.useInteriorColor=G(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.getUnitcellData=function(n){return n.unitcell.getData(n)},t.prototype.create=function(){var n=this.structureView.getStructure();if(n.unitcell){var i=this.getUnitcellData(n);this.sphereBuffer=new qc(i.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new jo(i.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}},t.prototype.createData=function(n){},t.prototype.updateData=function(n,i){var r=i.sview.getStructure();if(r.unitcell){var s=this.getUnitcellData(r),a={},o={};n&&!n.position||(Object.assign(a,{position:s.vertex.position}),Object.assign(o,{position1:s.edge.position1,position2:s.edge.position2})),n&&!n.color||(Object.assign(a,{color:s.vertex.color}),Object.assign(o,{color:s.edge.color,color2:s.edge.color2})),n&&!n.radius||(Object.assign(a,{radius:s.vertex.radius}),Object.assign(o,{radius:s.edge.radius})),this.sphereBuffer.setAttributes(a),this.cylinderBuffer.setAttributes(o)}},t}(sr);Jn.add("unitcell",Tne);var Bne=function(e){function t(n,i,r){e.call(this,n,i,r),this.type="validation",this.parameters=Object.assign({},this.parameters,{radiusType:null,radiusSize:null,radiusScale:null}),this.init(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var i=n||{};i.colorValue=G(i.colorValue,"#f0027f"),i.useInteriorColor=G(i.useInteriorColor,!0),e.prototype.init.call(this,i)},t.prototype.createData=function(n){if(n.validation){var i=n.validation.getClashData({structure:n,color:this.colorValue});return{bufferList:[new jo(i,this.getBufferParams({openEnded:!1}))]}}},t}(sr);Jn.add("validation",Bne);var eB=new F,Zg=new F,Jg=new F,Mne=new F(0,1,0),Sne=Object.assign({radialSegments:60,openEnded:!1},Fr),b7=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(i.position1.length),color:i.color,picking:i.picking},r,function(s){s===void 0&&(s={});var a=new md(1,1,G(s.radialSegments,60),1,G(s.openEnded,!1));return a.applyMatrix4(new Xe().makeRotationX(-Math.PI/2)),a}(r)),this.updateNormals=!0,this._position=new Float32Array(i.position1.length),this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Sne},t.prototype.applyPositionTransform=function(i,r,s){Zg.fromArray(this._position1,s),Jg.fromArray(this._position2,s),i.lookAt(Zg,Jg,Mne);var a=this._radius[r];eB.set(a,a,Zg.distanceTo(Jg)),i.scale(eB)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.position1&&i.position2&&(Ya(i.position1,i.position2,this._position),this._position1=i.position1,this._position2=i.position2,i.position=this._position),i.radius&&(this._radius=i.radius),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(Xc);ys.add("cone",b7);var x7=function(e){e===void 0&&(e=[]),this.geometryList=e};x7.prototype.computeBoundingBox=function(){var e=this;this.boundingBox?this.boundingBox.empty():this.boundingBox=new Yn,this.geometryList.forEach(function(t){t.boundingBox||t.computeBoundingBox(),e.boundingBox.union(t.boundingBox)})};var One=Object.assign({aspectRatio:1.5,radialSegments:50,openEnded:!1,disableImpostor:!1},Fr),Ra=function(e,t){t===void 0&&(t={}),this.group=new Dn,this.wireframeGroup=new Dn,this.pickingGroup=new Dn,this.visible=!0,this.parameters=Es(t,this.defaultParameters),this.splitPosition=new Float32Array(e.position1.length),this.cylinderRadius=new Float32Array(e.radius.length);var n=this.makeAttributes(e),i={radialSegments:this.parameters.radialSegments,openEnded:this.parameters.openEnded,disableImpostor:this.parameters.disableImpostor};this.cylinderBuffer=new jo(n.cylinder,i),this.coneBuffer=new b7(n.cone,i),this.geometry=new x7([this.cylinderBuffer.geometry,this.coneBuffer.geometry]),this.matrix=G(t.matrix,new Xe),this.picking=e.picking},qu={defaultParameters:{configurable:!0},matrix:{configurable:!0},pickable:{configurable:!0}};qu.defaultParameters.get=function(){return One},qu.matrix.set=function(e){un.prototype.setMatrix.call(this,e)},qu.matrix.get=function(){return this.group.matrix.clone()},qu.pickable.get=function(){return!!this.picking},Ra.prototype.makeAttributes=function(e){e===void 0&&(e={});var t,n,i=this.splitPosition,r=this.cylinderRadius,s=this.parameters.aspectRatio,a={},o={};if(e.radius){for(t=0,n=r.length;t<n;++t)r[t]=e.radius[t]/s;a.radius=r,o.radius=e.radius}if(e.position1&&e.position2){var c=new F,p=new F,A=new F,l=new F;for(t=0,n=i.length;t<n;t+=3){c.fromArray(e.position1,t),p.fromArray(e.position2,t),A.subVectors(c,p);var u=A.length(),d=r[t/3]*s*2,m=Math.min(u,d);A.setLength(m),l.copy(p).add(A),l.toArray(i,t)}a.position1=e.position1,a.position2=i,o.position1=i,o.position2=e.position2}return e.color&&(a.color=e.color,a.color2=e.color,o.color=e.color),{cylinder:a,cone:o}},Ra.prototype.getMesh=function(){return new Dn().add(this.cylinderBuffer.getMesh(),this.coneBuffer.getMesh())},Ra.prototype.getWireframeMesh=function(){return new Dn().add(this.cylinderBuffer.getWireframeMesh(),this.coneBuffer.getWireframeMesh())},Ra.prototype.getPickingMesh=function(){return new Dn().add(this.cylinderBuffer.getPickingMesh(),this.coneBuffer.getPickingMesh())},Ra.prototype.setAttributes=function(e){e===void 0&&(e={});var t=this.makeAttributes(e);this.cylinderBuffer.setAttributes(t.cylinder),this.coneBuffer.setAttributes(t.cone)},Ra.prototype.setParameters=function(e){e===void 0&&(e={}),(e=Object.assign({},e))&&e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,e&&e.wireframe!==void 0&&(this.parameters.wireframe=e.wireframe,this.setVisibility(this.visible)),this.cylinderBuffer.setParameters(e),this.coneBuffer.setParameters(e)},Ra.prototype.setVisibility=function(e){un.prototype.setVisibility.call(this,e)},Ra.prototype.dispose=function(){this.cylinderBuffer.dispose(),this.coneBuffer.dispose()},Object.defineProperties(Ra.prototype,qu),ys.add("arrow",Ra);var tB=new F,e2=new F,t2=new F,Lne=new F(0,0,0),Rne=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i,new zd(1,1,1)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,i,r){e2.fromArray(this._heightAxis,r),t2.fromArray(this._depthAxis,r),n.lookAt(Lne,e2,t2),tB.set(this._size[i],t2.length(),e2.length()),n.scale(tB)},t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,i)},t}(Xc);ys.add("box",Rne);var nB=new F,n2=new F,i2=new F,Ine=new F(0,0,0),Fne=Object.assign({sphereDetail:2},Fr),Nne=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r,new $p(1,G(r.sphereDetail,2))),this.updateNormals=!0,this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Fne},t.prototype.applyPositionTransform=function(i,r,s){n2.fromArray(this._majorAxis,s),i2.fromArray(this._minorAxis,s),i.lookAt(Ine,n2,i2),nB.set(this._radius[r],i2.length(),n2.length()),i.scale(nB)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.radius&&(this._radius=i.radius),i.majorAxis&&(this._majorAxis=i.majorAxis),i.minorAxis&&(this._minorAxis=i.minorAxis),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(Xc);ys.add("ellipsoid",Nne);var iB=new F,r2=new F,s2=new F,Pne=new F(0,0,0),Une=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i,new Wp(1,0)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,i,r){r2.fromArray(this._heightAxis,r),s2.fromArray(this._depthAxis,r),n.lookAt(Pne,r2,s2),iB.set(this._size[i],s2.length(),r2.length()),n.scale(iB)},t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,i)},t}(Xc);ys.add("octahedron",Une);var rB=new F,a2=new F,o2=new F,Hne=new F(0,0,0),Dne=function(e){function t(n,i){i===void 0&&(i={}),e.call(this,n,i,new Nl(1,0)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,i,r){a2.fromArray(this._heightAxis,r),o2.fromArray(this._depthAxis,r),n.lookAt(Hne,a2,o2),rB.set(this._size[i],o2.length(),a2.length()),n.scale(rB)},t.prototype.setAttributes=function(n,i){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,i)},t}(Xc);ys.add("tetrahedron",Dne);var sB=new F,aB=new F,oB=new F,Gne=new F(0,0,0),Qne=Object.assign({radiusRatio:.2,radialSegments:16,tubularSegments:32},Fr),kne=function(e){function t(i,r){r===void 0&&(r={}),e.call(this,i,r,new Ul(1,G(r.radiusRatio,.2),G(r.radialSegments,16),G(r.tubularSegments,32))),this.updateNormals=!0,this.setAttributes(i,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Qne},t.prototype.applyPositionTransform=function(i,r,s){aB.fromArray(this._majorAxis,s),oB.fromArray(this._minorAxis,s),i.lookAt(Gne,aB,oB);var a=this._radius[r];sB.set(a,a,a),i.scale(sB)},t.prototype.setAttributes=function(i,r){i===void 0&&(i={}),i.radius&&(this._radius=i.radius),i.majorAxis&&(this._majorAxis=i.majorAxis),i.minorAxis&&(this._minorAxis=i.minorAxis),e.prototype.setAttributes.call(this,i,r)},Object.defineProperties(t.prototype,n),t}(Xc);ys.add("torus",kne);var Er=function(e,t){var n=t||{};this.streamer=e,this.name=G(n.name,""),this.path=G(n.path,"")},VA={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0},isJson:{configurable:!0},isXml:{configurable:!0}};VA.type.get=function(){return""},VA.__objName.get=function(){return""},VA.isBinary.get=function(){return!1},VA.isJson.get=function(){return!1},VA.isXml.get=function(){return!1},Er.prototype.parse=function(){var e=this;return this.streamer.read().then(function(){return e._beforeParse(),e._parse(),e._afterParse(),e[e.__objName]})},Er.prototype._parse=function(){},Er.prototype._beforeParse=function(){},Er.prototype._afterParse=function(){De&&Be.log(this[this.__objName])},Object.defineProperties(Er.prototype,VA);var Xo=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.firstModelOnly=G(s.firstModelOnly,!1),this.asTrajectory=G(s.asTrajectory,!1),this.cAlphaOnly=G(s.cAlphaOnly,!1),this.structure=new It(this.name,this.path),this.structureBuilder=new Q1(this.structure)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"structure"},n.__objName.get=function(){return"structure"},Object.defineProperties(t.prototype,n),t}(Er),fa=function(e,t,n,i,r){n===void 0&&(n=""),r===void 0&&(r=[]),this.structure=e,this.index=t,this.description=n,this.entityType=function(s){switch(s=s.toLowerCase()){case"polymer":return 1;case"non-polymer":return 2;case"macrolide":return 3;case"water":return 4;default:return 0}}(i||""),this.chainIndexList=r,r.forEach(function(s){e.chainStore.entityIndex[s]=t})},cB={type:{configurable:!0}};cB.type.get=function(){return function(e){switch(e){case 1:return"polymer";case 2:return"non-polymer";case 3:return"macrolide";case 4:return"water";default:return}}(this.entityType)},fa.prototype.getEntityType=function(){return this.entityType},fa.prototype.isPolymer=function(){return this.entityType===1},fa.prototype.isNonPolymer=function(){return this.entityType===2},fa.prototype.isMacrolide=function(){return this.entityType===3},fa.prototype.isWater=function(){return this.entityType===4},fa.prototype.eachChain=function(e){var t=this.structure.getChainProxy();this.chainIndexList.forEach(function(n){t.index=n,e(t)})},Object.defineProperties(fa.prototype,cB);var Vne={a:1,b:1,c:1,alpha:90,beta:90,gamma:90,spacegroup:"P 1"},Hp=function(e){e===void 0&&(e=Vne),this.cartToFrac=new Xe,this.fracToCart=new Xe,this.a=e.a,this.b=e.b,this.c=e.c,this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma,this.spacegroup=e.spacegroup;var t=li(this.alpha),n=li(this.beta),i=li(this.gamma),r=Math.cos(t),s=Math.cos(n),a=Math.cos(i),o=Math.sin(n),c=Math.sin(i);if(this.volume=this.a*this.b*this.c*Math.sqrt(1-r*r-s*s-a*a+2*r*s*a),e.cartToFrac===void 0){var p=this.a*this.b*c/this.volume,A=(s*a-r)/(o*c);this.fracToCart.set(this.a,0,0,0,this.b*a,this.b*c,0,0,this.c*s,-this.c*o*A,1/p,0,0,0,0,1).transpose(),this.cartToFrac.getInverse(this.fracToCart)}else this.cartToFrac.copy(e.cartToFrac),this.fracToCart.getInverse(this.cartToFrac)};Hp.prototype.getPosition=function(e){var t=new Float32Array(24);if(e.unitcell){var n=e.unitcell,i=e.center.clone().applyMatrix4(n.cartToFrac).floor(),r=new F,s=0,a=function(o,c,p){r.set(o,c,p).add(i).applyMatrix4(n.fracToCart).toArray(t,s),s+=3};a(0,0,0),a(1,0,0),a(0,1,0),a(0,0,1),a(1,1,0),a(1,0,1),a(0,1,1),a(1,1,1)}return t},Hp.prototype.getCenter=function(e){return function(t,n){n===void 0&&(n=new F);for(var i=t.length,r=0;r<i;r+=3)n.x+=t[r],n.y+=t[r+1],n.z+=t[r+2];return n.divideScalar(i/3),n}(this.getPosition(e))},Hp.prototype.getData=function(e,t){t===void 0&&(t={});var n=G(t.colorValue,"orange"),i=G(t.radius,Math.cbrt(this.volume)/200),r=new Je(n),s=new F,a=this.getPosition(e),o=Hn(8,r.r,r.g,r.b),c=ms(8,i),p=new Float32Array(36),A=new Float32Array(36),l=Hn(12,r.r,r.g,r.b),u=ms(12,i),d=0;function m(g,E){s.fromArray(a,3*g).toArray(p,d),s.fromArray(a,3*E).toArray(A,d),d+=3}m(0,1),m(0,2),m(0,3),m(1,4),m(1,5),m(2,6),m(3,5),m(4,7),m(5,7),m(2,4),m(7,6),m(3,6);var y=new gee(this,e);return{vertex:{position:a,color:o,radius:c,picking:y},edge:{position1:p,position2:A,color:l,color2:l,radius:u,picking:y}}};var oE={1:"h",2:"h",3:"i",4:"h",5:"g",6:"h",7:"h",8:"h",9:"h",10:"h",0:"h"},Kne=["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"],zne=["MOL_ID","MOLECULE","CHAIN","FRAGMENT","SYNONYM","EC","ENGINEERED","MUTATION","OTHER_DETAILS"],pB=/\s+/;function AB(e,t,n){var i=""+e;return t&&(i+=":"+t),n&&(i+="^"+n),i}var Hf=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.hex=G(s.hex,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pdb"},t.prototype._parse=function(){De&&Be.time("PdbParser._parse "+this.name);var i=!1,r=this.streamer.peekLines(1)[0],s=r.substr(62,4),a=r.substr(72,4);s===a&&a.trim()&&(i=!0);var o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,x,O,M,H,R,D,P,I,L,k,K,W,ee,le,J,re,te,ge,me=this.type==="pqr",ie=this.type==="pdbqt",fe=this.structure,pe=this.structureBuilder,Ee=this.hex,q=10,Z=10,ae=this.firstModelOnly,Ae=this.asTrajectory,we=this.cAlphaOnly,xe=fe.frames,Le=fe.boxes,V=!1,j=fe.biomolDict,ve={},he={},oe={},ue=[],Oe={},Pe={},Te={},Ne={},Se={helices:[],sheets:[]},ze=Se.helices,Ge=Se.sheets,Ue=fe.atomMap,nt=fe.atomStore;nt.resize(Math.round(this.streamer.data.length/80)),(me||ie)&&nt.addField("partialCharge",1,"float32"),me&&nt.addField("radius",1,"float32");var vt=fe.getAtomProxy(),gt=fe.getAtomProxy(),Et=0,Mt=0,Lt=!0;this.streamer.eachChunkOfLines(function(rt){(function(Vt,Ze,it){for(var yt,ne=Vt;ne<Ze;++ne)if(u=it[ne],(d=u.substr(0,6))==="ATOM  "||d==="HETATM"){if(Lt&&(Ae?(V?(o=new Float32Array(3*nt.count),xe.push(o)):o=[],c=0):ae||(ve={}),W=(K=1).toString(),ee=!0,Lt=!1),ae&&Mt>0)continue;var Ie=void 0,Me=void 0,B=void 0,N=void 0,U=0;if(me){if(U=(N=u.split(pB)).length===10?1:0,_=N[2],we&&_!=="CA")continue;Ie=parseFloat(N[6-U]),Me=parseFloat(N[7-U]),B=parseFloat(N[8-U])}else{if(_=u.substr(12,4).trim(),we&&_!=="CA")continue;Ie=parseFloat(u.substr(30,8)),Me=parseFloat(u.substr(38,8)),B=parseFloat(u.substr(46,8))}if(Ae){var z=3*c;if(o[z+0]=Ie,o[z+1]=Me,o[z+2]=B,c+=1,V)continue}var Y=void 0;me?(m=parseInt(N[1]),Y="",C=u[0]==="H"?1:0,y=U?"":N[4],g=parseInt(N[5-U]),b="",E=N[3],x="",w=1):(m=parseInt(u.substr(6,5),q),Ee&&m===99999&&(q=16),C=u[0]==="H"?1:0,y=u[21].trim(),g=parseInt(u.substr(22,4),Z),Ee&&g===9999&&(Z=16),b=u[26].trim(),E=u.substr(17,4).trim()||"MOL",T=parseFloat(u.substr(60,6)),x=u[16].trim(),w=parseFloat(u.substr(54,6)),i||(ie?Y=u.substr(12,2).trim():(Y=u.substr(76,2).trim(),y||(y=u.substr(72,4).trim())),O=parseInt((u.substr(79,1)+u.substr(78,1)).trim()))),nt.growIfFull(),nt.atomTypeId[Et]=Ue.add(_,Y),nt.x[Et]=Ie,nt.y[Et]=Me,nt.z[Et]=B,nt.serial[Et]=m,nt.altloc[Et]=x.charCodeAt(0),nt.occupancy[Et]=isNaN(w)?0:w,me?(nt.partialCharge[Et]=parseFloat(N[9-U]),nt.radius[Et]=parseFloat(N[10-U])):(nt.bfactor[Et]=isNaN(T)?0:T,ie&&(nt.partialCharge[Et]=parseFloat(u.substr(70,6))),isFinite(O)&&(nt.formalCharge||nt.addField("formalCharge",1,"int8"),nt.formalCharge[Et]=O));var se=AB(g,y,b);!C||Pe[se]||Kne.includes(E)?ee||le===y||(W=(K+=1).toString()):le===y&&re===E&&(iE.includes(E)||J===g&&te===b)||(W=(K+=1).toString(),J=g,re=E,te=b),pe.addAtom(Mt,y,W,E,g,C,void 0,b),ve[m]=Et,Et+=1,ee=!1,le=y}else if(d==="CONECT"){var ce=ve[parseInt(u.substr(6,5))],ye=[11,16,21,26],Fe={};if(ce===void 0)continue;for(var Re=0;Re<4;++Re){var ke=parseInt(u.substr(ye[Re],5));if(!Number.isNaN(ke)&&(ke=ve[ke])!==void 0)if(ce<ke?(vt.index=ce,gt.index=ke):(vt.index=ke,gt.index=ce),Fe[ke]!==void 0)fe.bondStore.bondOrder[Fe[ke]]+=1;else{var tt=vt.index+"|"+gt.index;oe[tt]===void 0&&(oe[tt]=!0,Fe[ke]=fe.bondStore.count,fe.bondStore.addBond(vt,gt,1))}}}else if(d==="HELIX "){M=u[19].trim(),H=parseInt(u.substr(21,4)),R=u[25].trim(),D=u[31].trim(),P=parseInt(u.substr(33,4)),I=u[37].trim();var Ye=parseInt(u.substr(39,1));Ye=(oE[Ye]||oE[0]).charCodeAt(0),ze.push([M,H,R,D,P,I,Ye])}else if(d==="SHEET ")M=u[21].trim(),H=parseInt(u.substr(22,4)),R=u[26].trim(),D=u[32].trim(),P=parseInt(u.substr(33,4)),I=u[37].trim(),Ge.push([M,H,R,D,P,I]);else if(d==="HETNAM")Oe[u.substr(11,3)]=u.substr(15).trim();else if(d==="SEQRES"){var We=u[11].trim();We!==ge&&(Ne[We]=[],ge=We),(yt=Ne[We]).push.apply(yt,u.substr(19).trim().split(pB))}else if(d==="MODRES"){var et=u.substr(12,3).trim(),dt=u[16].trim(),_t=u[22].trim(),ht=parseInt(u.substr(18,4).trim()),Ln=AB(ht,dt,_t);Pe[Ln]={resname:et,chainname:dt,inscode:_t,resno:ht}}else if(d==="COMPND"){var An=u.substr(10,70).trim(),Mi=An.indexOf(":"),wr=An.substring(0,Mi),Pt=void 0;zne.includes(wr)?(k=wr,Pt=An.substring(Mi+2)):Pt=An,Pt=Pt.replace(/;$/,""),k==="MOL_ID"?(L={chainList:[],name:""},ue.push(L)):k==="MOLECULE"?(L.name&&(L.name+=" "),L.name+=Pt):k==="CHAIN"&&Array.prototype.push.apply(L.chainList,Pt.split(/\s*,\s*/))}else if(u.startsWith("TER")){var Ve=fe.getChainProxy(fe.chainStore.count-1);Te[Ve.chainname]=Ve.index,W=(K+=1).toString(),ee=!0}else if(d==="REMARK"&&u.substr(7,3)==="350"){if(u.substr(11,12)==="BIOMOLECULE:"){var ut=u.substr(23).trim();/^(0|[1-9][0-9]*)$/.test(ut)&&(ut="BU"+ut),p=new tr(ut),j[ut]=p}else if(u.substr(13,5)==="BIOMT"){var Kt=u.split(/\s+/),rn=parseInt(u[18])-1;rn===0&&(l=new Xe,A.matrixList.push(l));var St=l.elements;St[0+rn]=parseFloat(Kt[4]),St[4+rn]=parseFloat(Kt[5]),St[8+rn]=parseFloat(Kt[6]),St[12+rn]=parseFloat(Kt[7])}else if(u.substr(11,30)==="APPLY THE FOLLOWING TO CHAINS:"||u.substr(11,30)==="                   AND CHAINS:"){u.substr(11,5)==="APPLY"&&(A=p.addPart());for(var sn=u.substr(41,30).split(","),Zt=0,bn=sn.length;Zt<bn;++Zt){var di=sn[Zt].trim();di&&A.chainList.push(di)}}}else if(d==="HEADER")fe.id=u.substr(62,4);else if(d==="TITLE ")fe.title+=(fe.title?" ":"")+u.substr(10,70).trim();else if(d==="MODEL ")Lt=!0;else if(d==="ENDMDL"||u.trim()==="END"){if(Lt)continue;Ae&&!V&&(xe.push(new Float32Array(o)),V=!0),Mt+=1,Lt=!0}else if(u.substr(0,5)==="MTRIX"){if(u[59]==="1")continue;p&&p.name==="NCS"||(p=new tr("NCS"),j.NCS=p,A=p.addPart());var $t=u.split(/\s+/),Rn=parseInt(u[5])-1;Rn===0&&(l=new Xe,A.matrixList.push(l));var gs=l.elements;gs[0+Rn]=parseFloat($t[2]),gs[4+Rn]=parseFloat($t[3]),gs[8+Rn]=parseFloat($t[4]),gs[12+Rn]=parseFloat($t[5])}else if(u.substr(0,5)==="ORIGX"){he.origx||(he.origx=new Xe);var Nr=u.split(/\s+/),ws=parseInt(u[5])-1,_s=he.origx.elements;_s[0+ws]=parseFloat(Nr[1]),_s[4+ws]=parseFloat(Nr[2]),_s[8+ws]=parseFloat(Nr[3]),_s[12+ws]=parseFloat(Nr[4])}else if(u.substr(0,5)==="SCALE"){he.scale||(he.scale=new Xe);var Xr=u.split(/\s+/),_r=parseInt(u[5])-1,qr=he.scale.elements;qr[0+_r]=parseFloat(Xr[1]),qr[4+_r]=parseFloat(Xr[2]),qr[8+_r]=parseFloat(Xr[3]),qr[12+_r]=parseFloat(Xr[4])}else if(d==="CRYST1"){var ba=parseFloat(u.substr(6,9)),js=parseFloat(u.substr(15,9)),qo=parseFloat(u.substr(24,9)),Xs=parseFloat(u.substr(33,7)),io=parseFloat(u.substr(40,7)),xa=parseFloat(u.substr(47,7)),qs=u.substr(55,11).trim(),Pr=new Float32Array(9);Pr[0]=ba,Pr[4]=js,Pr[8]=qo,Le.push(Pr),Mt===0&&(he.a=ba,he.b=js,he.c=qo,he.alpha=Xs,he.beta=io,he.gamma=xa,he.spacegroup=qs)}})(0,rt.length,rt)}),pe.finalize();var Bt=ue.length;if(Bt){fe.eachChain(function(rt){rt.entityIndex=Bt}),ue.forEach(function(rt,Vt){var Ze=rt.chainList.map(function(it){return Te[it]});fe.entityList.push(new fa(fe,Vt,rt.name,"polymer",Ze))});var at=ue.length,Wt=fe.getResidueProxy(),wt={};fe.eachChain(function(rt){rt.entityIndex===Bt&&(Wt.index=rt.residueOffset,wt[Wt.resname]||(wt[Wt.resname]=[]),wt[Wt.resname].push(rt.index))}),Object.keys(wt).forEach(function(rt){var Vt=wt[rt],Ze="non-polymer",it=Oe[rt]||rt;iE.includes(rt)&&(it="water",Ze="water"),fe.entityList.push(new fa(fe,at,it,Ze,Vt)),at+=1})}he.a!==void 0?fe.unitcell=new Hp(he):fe.unitcell=void 0,(ze.length||Ge.length)&&l7(fe,Se),fe.finalizeAtoms(),i||QE(fe),rE(fe),fe.finalizeBonds(),ze.length||Ge.length||GE(fe),sE(fe),De&&Be.timeEnd("PdbParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("pdb",Hf),Nt.add("pdb1",Hf),Nt.add("ent",Hf);var Yne=/\s+/,lB=/'((?:(?!'\s).)*)'|"((?:(?!"\s).)*)"|(\S+)/g,Zu=/"/g,Ju=/^['"]+|['"]+$/g;function uB(e){return!e||e[0]!==e[e.length-1]||e[0]!=="'"&&e[0]!=='"'?e:e.substring(1,e.length-1)}function kr(e,t){Array.isArray(e[t])||Object.keys(e).forEach(function(n){e[n]=[e[n]]})}function ps(e){return e!=="?"}function p1(e,t){return ps(e)?e:t}function fB(e){switch(e.toLowerCase()){case"?":case"sing":return 1;case"doub":return 2;case"trip":return 3;case"quad":return 4}return 0}var c2=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"cif"},t.prototype._parse=function(){Be.time("CifParser._parse "+this.name);var i,r,s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,x,O,M=this.structure,H=this.structureBuilder,R=this.firstModelOnly,D=this.asTrajectory,P=this.cAlphaOnly,I=M.frames,L={},k={},K={},W=!1,ee=null,le=!1,J=!1,re=!1,te=[],ge=null,me=null,ie=null,fe=null,pe=[],Ee=M.atomMap,q=M.atomStore;q.resize(this.streamer.data.length/100);var Z,ae=0,Ae=0;if(this.streamer.eachChunkOfLines(function(ve){(function(he,oe,ue){for(var Oe=he;Oe<oe;++Oe)if(s=ue[Oe],((a=s.trim())||W||J)&&a[0]!=="#")if(a.substring(0,5)==="data_")L.data=a.substring(5).trim();else if(a[0]===";")W?(J?(ge===te.length&&(ge=0),te[ge].push(ee),ge+=1):ie===!1?L[me]=ee:L[me][ie]=ee,W=!1,ee=null):(W=!0,ee=a.substring(1));else if(a==="loop_")J=!0,re=!0,te.length=0,pe.length=0,ge=0;else if(a[0]==="_"){var Pe,Te,Ne;if(J&&!re&&(J=!1),J)Te=(Pe=a.split("."))[0].substring(1),Ne=Pe[1],Pe.length===1?(Ne=!1,L[Te]||(L[Te]=[]),te.push(L[Te])):(L[Te]||(L[Te]={}),L[Te][Ne]?De&&Be.warn(Te,Ne,"already exists"):(L[Te][Ne]=[],te.push(L[Te][Ne]),pe.push(Ne))),me=Te,ie=Ne,fe=!0;else{var Se=a.match(lB),ze=Se[0],Ge=Se[1];Te=(Pe=ze.split("."))[0].substring(1),Ne=Pe[1],Pe.length===1?(Ne=!1,L[Te]=Ge):(L[Te]||(L[Te]={}),L[Te][Ne]?De&&Be.warn(Te,Ne,"already exists"):L[Te][Ne]=Ge),Ge||(le=!0),me=Te,ie=Ne}}else if(W)ee+=s;else if(J){if(!a)continue;if(me==="atom_site"){var Ue=a.split(Yne);fe&&(o=pe.indexOf("auth_asym_id"),c=pe.indexOf("auth_seq_id"),p=pe.indexOf("label_seq_id"),A=pe.indexOf("label_atom_id"),l=pe.indexOf("label_comp_id"),u=pe.indexOf("label_asym_id"),d=pe.indexOf("label_entity_id"),m=pe.indexOf("label_alt_id"),_=pe.indexOf("Cartn_x"),C=pe.indexOf("Cartn_y"),T=pe.indexOf("Cartn_z"),g=pe.indexOf("id"),E=pe.indexOf("type_symbol"),y=pe.indexOf("group_PDB"),x=pe.indexOf("B_iso_or_equiv"),w=pe.indexOf("pdbx_PDB_model_num"),b=pe.indexOf("pdbx_PDB_ins_code"),O=pe.indexOf("occupancy"),fe=!1,Z=parseInt(Ue[w]),D&&(i=[],r=0));var nt=parseInt(Ue[w]);if(Z!==nt&&(D&&(Ae===0&&I.push(new Float32Array(i)),i=new Float32Array(3*q.count),I.push(i),r=0),Ae+=1),Z=nt,R&&Ae>0)continue;var vt=Ue[A].replace(Zu,"");if(P&&vt!=="CA")continue;var gt=parseFloat(Ue[_]),Et=parseFloat(Ue[C]),Mt=parseFloat(Ue[T]);if(D){var Lt=3*r;if(i[Lt+0]=gt,i[Lt+1]=Et,i[Lt+2]=Mt,r+=1,Ae>0)continue}var Bt=Ue[l],at=parseInt(Ue[c!==-1?c:p]),Wt=Ue[b];Wt=Wt==="?"?"":Wt;var wt=Ue[o],rt=Ue[u],Vt=Ue[y][0]==="H"?1:0,Ze=Ue[E],it=parseFloat(Ue[x]),yt=parseFloat(Ue[O]),ne=Ue[m];if(ne=ne==="."?"":ne,q.growIfFull(),q.atomTypeId[ae]=Ee.add(vt,Ze),q.x[ae]=gt,q.y[ae]=Et,q.z[ae]=Mt,q.serial[ae]=parseInt(Ue[g]),q.bfactor[ae]=isNaN(it)?0:it,q.occupancy[ae]=isNaN(yt)?0:yt,q.altloc[ae]=ne.charCodeAt(0),H.addAtom(Ae,wt,rt,Bt,at,Vt,void 0,Wt),De){var Ie=k[rt];Ie!==void 0&&Ie!==wt&&De&&Be.warn(Ie,wt)}k[rt]=wt;var Me=Ue[d];K[Me]||(K[Me]=new Set),K[Me].add(M.chainStore.count-1),ae+=1}else{var B=a.match(lB),N=B.length;ge===te.length&&(ge=0);for(var U=0;U<N;++U)te[ge+U].push(B[U]);ge+=N}re=!1}else if(a[0]==="'"&&a[a.length-1]==="'"){var z=a.substring(1,a.length-1);ie===!1?L[me]=z:L[me][ie]=z}else le?ie===!1?L[me]=a:L[me][ie]=a:De&&Be.log("CifParser._parse: unknown state",a);else W=!1,J=!1,le=!1,te.length=0,ge=null,me=null,ie=null,fe=null,pe.length=0})(0,ve.length,ve)}),L.chem_comp&&L.chem_comp_atom)(function(ve,he,oe){var ue,Oe,Pe=he.atomStore,Te=he.atomMap,Ne=ve.chem_comp,Se=ve.chem_comp_atom,ze=ve.chem_comp_bond;Ne&&(Ne.name&&(he.title=Ne.name.trim().replace(Ju,"")),Ne.id&&(he.id=Ne.id.trim().replace(Ju,"")));var Ge={};if(Se){var Ue,nt,vt,gt;for(kr(Se,"comp_id"),Oe=Se.comp_id.length,ue=0;ue<Oe;++ue)Pe.growIfFull(),Ue=Se.atom_id[ue].replace(Zu,""),nt=Se.type_symbol[ue],Ge[Ue]=ue,Pe.atomTypeId[ue]=Te.add(Ue,nt),Pe.x[ue]=Se.model_Cartn_x[ue],Pe.y[ue]=Se.model_Cartn_y[ue],Pe.z[ue]=Se.model_Cartn_z[ue],Pe.serial[ue]=ue,vt=Se.pdbx_component_comp_id[ue],gt=Se.pdbx_residue_numbering?Se.pdbx_residue_numbering[ue]:1,oe.addAtom(0,"","",vt,gt,!0);for(ue=0;ue<Oe;++ue){var Et=ue+Oe;Pe.growIfFull(),Ue=Se.atom_id[ue].replace(Zu,""),nt=Se.type_symbol[ue],Pe.atomTypeId[Et]=Te.add(Ue,nt),Pe.x[Et]=Se.pdbx_model_Cartn_x_ideal[ue],Pe.y[Et]=Se.pdbx_model_Cartn_y_ideal[ue],Pe.z[Et]=Se.pdbx_model_Cartn_z_ideal[ue],Pe.serial[Et]=Et,vt=Se.pdbx_component_comp_id[ue],gt=Se.pdbx_residue_numbering?Se.pdbx_residue_numbering[ue]:1,oe.addAtom(1,"","",vt,gt,!0)}}if(Se&&ze){var Mt,Lt,Bt;kr(ze,"comp_id"),Oe=ze.comp_id.length;var at=Se.comp_id.length,Wt=he.getAtomProxy(),wt=he.getAtomProxy();for(ue=0;ue<Oe;++ue)Mt=ze.atom_id_1[ue].replace(Zu,""),Lt=ze.atom_id_2[ue].replace(Zu,""),Bt=fB(ze.value_order[ue]),Wt.index=Ge[Mt],wt.index=Ge[Lt],he.bondStore.growIfFull(),he.bondStore.addBond(Wt,wt,Bt),Wt.index+=at,wt.index+=at,he.bondStore.growIfFull(),he.bondStore.addBond(Wt,wt,Bt)}})(L,M,H),H.finalize(),M.finalizeAtoms(),M.finalizeBonds(),eA(M);else if(L.atom_site_type_symbol&&L.atom_site_label&&L.atom_site_fract_x)(function(ve,he,oe){var ue=he.atomStore,Oe=he.atomMap;ve.data&&(he.id=ve.data,he.name=ve.data),he.unitcell=new Hp({a:parseFloat(ve.cell_length_a),b:parseFloat(ve.cell_length_b),c:parseFloat(ve.cell_length_c),alpha:parseFloat(ve.cell_angle_alpha),beta:parseFloat(ve.cell_angle_beta),gamma:parseFloat(ve.cell_angle_gamma),spacegroup:uB(ve["symmetry_space_group_name_H-M"])});for(var Pe=new F,Te=new F,Ne=ve.atom_site_type_symbol.length,Se=0;Se<Ne;++Se){ue.growIfFull();var ze=ve.atom_site_label[Se],Ge=ve.atom_site_type_symbol[Se];ue.atomTypeId[Se]=Oe.add(ze,Ge),Pe.set(ve.atom_site_fract_x[Se],ve.atom_site_fract_y[Se],ve.atom_site_fract_z[Se]),Pe.applyMatrix4(he.unitcell.fracToCart),Te.add(Pe),ue.x[Se]=Pe.x,ue.y[Se]=Pe.y,ue.z[Se]=Pe.z,ve.atom_site_occupancy&&(ue.occupancy[Se]=parseFloat(ve.atom_site_occupancy[Se])),ue.serial[Se]=Se,oe.addAtom(0,"","","HET",1,!0)}Te.divideScalar(Ne),he.center=Te,sE(he);var Ue=new F,nt=new F,vt=he.biomolDict.SUPERCELL.partList[0].matrixList,gt=Ne;function Et(at){return Oe.get(ue.atomTypeId[at]).covalent}for(var Mt=new Xe,Lt=function(at){var Wt=Et(at);Pe.set(ue.x[at],ue.y[at],ue.z[at]),vt.forEach(function(wt){if(!Mt.equals(wt)){Ue.copy(Pe),Ue.applyMatrix4(wt);for(var rt=0;rt<Ne;++rt){nt.set(ue.x[rt],ue.y[rt],ue.z[rt]);var Vt=Ue.distanceToSquared(nt),Ze=Et(rt)+Wt,it=Ze+.3,yt=Ze-.5;if(Vt<it*it&&Vt>yt*yt)return ue.growIfFull(),ue.atomTypeId[gt]=ue.atomTypeId[at],ue.x[gt]=Ue.x,ue.y[gt]=Ue.y,ue.z[gt]=Ue.z,ue.occupancy[gt]=ue.occupancy[at],ue.serial[gt]=gt,ue.altloc[gt]="A".charCodeAt(0),oe.addAtom(0,"","","HET",1,!0),void(gt+=1)}}})},Bt=0;Bt<Ne;++Bt)Lt(Bt)})(L,M,H),H.finalize(),M.finalizeAtoms(),rE(M),M.finalizeBonds();else{var we=function(ve,he,oe){var ue,Oe,Pe,Te,Ne=[],Se=[],ze=ve.struct_conf;if(ze)for(kr(ze,"id"),ue=0,Oe=ze.beg_auth_seq_id.length;ue<Oe;++ue){var Ge=parseInt(ze.pdbx_PDB_helix_class[ue]);Number.isNaN(Ge)||(Pe=ze.pdbx_beg_PDB_ins_code[ue],Te=ze.pdbx_end_PDB_ins_code[ue],Ne.push([oe[ze.beg_label_asym_id[ue]],parseInt(ze.beg_auth_seq_id[ue]),p1(Pe,""),oe[ze.end_label_asym_id[ue]],parseInt(ze.end_auth_seq_id[ue]),p1(Te,""),(oE[Ge]||oE[0]).charCodeAt(0)]))}var Ue=ve.struct_sheet_range;if(Ue)for(kr(Ue,"id"),ue=0,Oe=Ue.beg_auth_seq_id.length;ue<Oe;++ue)Pe=Ue.pdbx_beg_PDB_ins_code[ue],Te=Ue.pdbx_end_PDB_ins_code[ue],Se.push([oe[Ue.beg_label_asym_id[ue]],parseInt(Ue.beg_auth_seq_id[ue]),p1(Pe,""),oe[Ue.end_label_asym_id[ue]],parseInt(Ue.end_auth_seq_id[ue]),p1(Te,"")]);return!(!ze&&!Ue)&&{helices:Ne,sheets:Se}}(L,0,k);if(function(ve,he,oe){var ue={},Oe=he.biomolDict;if(ve.pdbx_struct_oper_list){var Pe=ve.pdbx_struct_oper_list;kr(Pe,"id"),Pe.id.forEach(function(Vt,Ze){var it=new Xe,yt=it.elements;yt[0]=parseFloat(Pe["matrix[1][1]"][Ze]),yt[1]=parseFloat(Pe["matrix[1][2]"][Ze]),yt[2]=parseFloat(Pe["matrix[1][3]"][Ze]),yt[4]=parseFloat(Pe["matrix[2][1]"][Ze]),yt[5]=parseFloat(Pe["matrix[2][2]"][Ze]),yt[6]=parseFloat(Pe["matrix[2][3]"][Ze]),yt[8]=parseFloat(Pe["matrix[3][1]"][Ze]),yt[9]=parseFloat(Pe["matrix[3][2]"][Ze]),yt[10]=parseFloat(Pe["matrix[3][3]"][Ze]),yt[3]=parseFloat(Pe["vector[1]"][Ze]),yt[7]=parseFloat(Pe["vector[2]"][Ze]),yt[11]=parseFloat(Pe["vector[3]"][Ze]),it.transpose(),ue[Vt]=it})}if(ve.pdbx_struct_assembly_gen){var Te=ve.pdbx_struct_assembly_gen;kr(Te,"assembly_id");var Ne=function(Vt){var Ze={};return Vt.replace(/[()']/g,"").split(",").forEach(function(it){if(it.includes("-"))for(var yt=it.split("-"),ne=parseInt(yt[0]),Ie=parseInt(yt[1]);ne<=Ie;++ne)Ze[ne]=ue[ne];else Ze[it]=ue[it]}),Ze};Te.assembly_id.forEach(function(Vt,Ze){var it={},yt=Te.oper_expression[Ze].replace(/['"]\(|['"]/g,"");if(yt.includes(")(")||yt.indexOf("(")>0){yt=yt.split("(");var ne=Ne(yt[0]),Ie=Ne(yt[1]);Object.keys(ne).forEach(function(se){Object.keys(Ie).forEach(function(ce){var ye=new Xe;ye.multiplyMatrices(ne[se],Ie[ce]),it[se+"x"+ce]=ye})})}else it=Ne(yt);var Me=[];for(var B in it)Me.push(it[B]);var N=Vt;/^(0|[1-9][0-9]*)$/.test(N)&&(N="BU"+N);for(var U=Te.asym_id_list[Ze].split(","),z=0,Y=U.length;z<Y;++z)U[z]=oe[U[z]];Oe[N]===void 0&&(Oe[N]=new tr(N)),Oe[N].addPart(Me,U)})}if(ve.struct_ncs_oper){var Se=ve.struct_ncs_oper;kr(Se,"id");var ze="NCS";Oe.NCS=new tr(ze);var Ge=Oe.NCS.addPart();Se.id.forEach(function(Vt,Ze){if(Se.code[Ze]!=="given"){var it=new Xe,yt=it.elements;yt[0]=parseFloat(Se["matrix[1][1]"][Ze]),yt[1]=parseFloat(Se["matrix[1][2]"][Ze]),yt[2]=parseFloat(Se["matrix[1][3]"][Ze]),yt[4]=parseFloat(Se["matrix[2][1]"][Ze]),yt[5]=parseFloat(Se["matrix[2][2]"][Ze]),yt[6]=parseFloat(Se["matrix[2][3]"][Ze]),yt[8]=parseFloat(Se["matrix[3][1]"][Ze]),yt[9]=parseFloat(Se["matrix[3][2]"][Ze]),yt[10]=parseFloat(Se["matrix[3][3]"][Ze]),yt[3]=parseFloat(Se["vector[1]"][Ze]),yt[7]=parseFloat(Se["vector[2]"][Ze]),yt[11]=parseFloat(Se["vector[3]"][Ze]),it.transpose(),Ge.matrixList.push(it)}}),Ge.matrixList.length===0&&delete Oe.NCS}var Ue={};if(ve.cell){var nt=ve.cell,vt=parseFloat(nt.length_a),gt=parseFloat(nt.length_b),Et=parseFloat(nt.length_c),Mt=new Float32Array(9);Mt[0]=vt,Mt[4]=gt,Mt[8]=Et,he.boxes.push(Mt),Ue.a=vt,Ue.b=gt,Ue.c=Et,Ue.alpha=parseFloat(nt.angle_alpha),Ue.beta=parseFloat(nt.angle_beta),Ue.gamma=parseFloat(nt.angle_gamma)}ve.symmetry&&(Ue.spacegroup=uB(ve.symmetry["space_group_name_H-M"]));var Lt=new Xe;if(ve.database_PDB_matrix){var Bt=ve.database_PDB_matrix,at=Lt.elements;at[0]=parseFloat(Bt["origx[1][1]"]),at[1]=parseFloat(Bt["origx[1][2]"]),at[2]=parseFloat(Bt["origx[1][3]"]),at[4]=parseFloat(Bt["origx[2][1]"]),at[5]=parseFloat(Bt["origx[2][2]"]),at[6]=parseFloat(Bt["origx[2][3]"]),at[8]=parseFloat(Bt["origx[3][1]"]),at[9]=parseFloat(Bt["origx[3][2]"]),at[10]=parseFloat(Bt["origx[3][3]"]),at[3]=parseFloat(Bt["origx_vector[1]"]),at[7]=parseFloat(Bt["origx_vector[2]"]),at[11]=parseFloat(Bt["origx_vector[3]"]),Lt.transpose(),Ue.origx=Lt}var Wt=new Xe;if(ve.atom_sites){var wt=ve.atom_sites,rt=Wt.elements;rt[0]=parseFloat(wt["fract_transf_matrix[1][1]"]),rt[1]=parseFloat(wt["fract_transf_matrix[1][2]"]),rt[2]=parseFloat(wt["fract_transf_matrix[1][3]"]),rt[4]=parseFloat(wt["fract_transf_matrix[2][1]"]),rt[5]=parseFloat(wt["fract_transf_matrix[2][2]"]),rt[6]=parseFloat(wt["fract_transf_matrix[2][3]"]),rt[8]=parseFloat(wt["fract_transf_matrix[3][1]"]),rt[9]=parseFloat(wt["fract_transf_matrix[3][2]"]),rt[10]=parseFloat(wt["fract_transf_matrix[3][3]"]),rt[3]=parseFloat(wt["fract_transf_vector[1]"]),rt[7]=parseFloat(wt["fract_transf_vector[2]"]),rt[11]=parseFloat(wt["fract_transf_vector[3]"]),Wt.transpose(),Ue.scale=Wt}Ue.a!==void 0?he.unitcell=new Hp(Ue):he.unitcell=void 0}(L,M,k),function(ve,he,oe){var ue=ve.struct_conn;if(ue){kr(ue,"id");for(var Oe=/"/g,Pe=he.getAtomProxy(),Te=he.getAtomProxy(),Ne={},Se=0,ze=ue.id.length;Se<ze;++Se){var Ge=ue.conn_type_id[Se];if(Ge!=="hydrog"&&Ge!=="mismat"&&Ge!=="saltbr"&&ue.ptnr1_symmetry[Se]==="1_555"&&ue.ptnr2_symmetry[Se]==="1_555"){var Ue=ue.pdbx_ptnr1_PDB_ins_code[Se],nt=ue.pdbx_ptnr1_label_alt_id[Se],vt=ue.ptnr1_auth_seq_id[Se]+(ps(Ue)?"^"+Ue:"")+":"+oe[ue.ptnr1_label_asym_id[Se]]+"."+ue.ptnr1_label_atom_id[Se].replace(Oe,"")+(ps(nt)?"%"+nt:""),gt=Ne[vt];if(!gt){var Et=new Nn(vt);if(Et.selection.error){De&&Be.warn("invalid selection for connection",vt);continue}gt=he.getAtomIndices(Et),Ne[vt]=gt}var Mt=ue.pdbx_ptnr2_PDB_ins_code[Se],Lt=ue.pdbx_ptnr2_label_alt_id[Se],Bt=ue.ptnr2_auth_seq_id[Se]+(ps(Mt)?"^"+Mt:"")+":"+oe[ue.ptnr2_label_asym_id[Se]]+"."+ue.ptnr2_label_atom_id[Se].replace(Oe,"")+(ps(Lt)?"%"+Lt:""),at=Ne[Bt];if(!at){var Wt=new Nn(Bt);if(Wt.selection.error){De&&Be.warn("invalid selection for connection",Bt);continue}at=he.getAtomIndices(Wt),Ne[Bt]=at}var wt=gt.length,rt=at.length;if(wt>rt){var Vt=wt;wt=rt,rt=Vt;var Ze=gt;gt=at,at=Ze}if(wt!==0&&rt!==0)for(var it=0;it<rt;++it)Pe.index=gt[it%wt],Te.index=at[it],Pe&&Te?he.bondStore.addBond(Pe,Te,fB(ue.pdbx_value_order[Se])):Be.log("atoms for connection not found");else De&&Be.warn("no atoms found for",vt,Bt)}}}}(L,M,k),function(ve,he,oe){if(ve.entity){kr(ve.entity,"id");for(var ue=ve.entity,Oe=ue.id.length,Pe=0;Pe<Oe;++Pe){var Te=ue.pdbx_description[Pe],Ne=ue.type[Pe],Se=Array.from(oe[ue.id[Pe]]);he.entityList[Pe]=new fa(he,Pe,Te,Ne,Se)}}}(L,M,K),L.struct&&L.struct.title&&(M.title=L.struct.title.trim().replace(Ju,"")),L.entry&&L.entry.id&&(M.id=L.entry.id.trim().replace(Ju,"")),L.pdbx_audit_revision_history){if(L.pdbx_audit_revision_history.revision_date){kr(L.pdbx_audit_revision_history,"revision_date");var xe=L.pdbx_audit_revision_history.revision_date.filter(ps);xe.length&&(M.header.releaseDate=xe[0])}if(L.pdbx_database_status.recvd_initial_deposition_date){kr(L.pdbx_database_status,"recvd_initial_deposition_date");var Le=L.pdbx_database_status.recvd_initial_deposition_date.filter(ps);Le.length&&(M.header.depositionDate=Le[0])}}else if(L.database_PDB_rev){if(L.database_PDB_rev.date){kr(L.database_PDB_rev,"date");var V=L.database_PDB_rev.date.filter(ps);V.length&&(M.header.releaseDate=V[0])}if(L.database_PDB_rev.date_original){kr(L.database_PDB_rev,"date_original");var j=L.database_PDB_rev.date_original.filter(ps);j.length&&(M.header.depositionDate=j[0])}}L.reflns&&L.reflns.d_resolution_high?ps(L.reflns.d_resolution_high)&&(M.header.resolution=parseFloat(L.reflns.d_resolution_high)):L.refine&&L.refine.ls_d_res_high&&ps(L.refine.ls_d_res_high)&&(M.header.resolution=parseFloat(L.refine.ls_d_res_high)),L.refine&&L.refine.ls_R_factor_R_free&&ps(L.refine.ls_R_factor_R_free)&&(M.header.rFree=parseFloat(L.refine.ls_R_factor_R_free)),L.refine&&L.refine.ls_R_factor_R_work&&ps(L.refine.ls_R_factor_R_work)&&(M.header.rWork=parseFloat(L.refine.ls_R_factor_R_work)),L.exptl&&L.exptl.method&&(kr(L.exptl,"method"),M.header.experimentalMethods=L.exptl.method.map(function(ve){return ve.replace(Ju,"")})),H.finalize(),M.finalizeAtoms(),rE(M),M.finalizeBonds(),we?l7(M,we):GE(M),sE(M),M.extraData.cif=L}De&&Be.timeEnd("CifParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("cif",c2),Nt.add("mcif",c2),Nt.add("mmcif",c2);var Wne=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"gro"},t.prototype._parse=function(){De&&Be.time("GroParser._parse "+this.name);var i,r,s=this.structure,a=this.structureBuilder,o=this.firstModelOnly,c=this.asTrajectory,p=this.cAlphaOnly,A=s.frames,l=s.boxes,u=this.streamer.peekLines(3);s.title=u[0].trim();var d,m,y,g,E=5+(u[2].length-u[2].lastIndexOf(".")-1),w=20+E,b=20+2*E,_=parseInt(u[1]),C=_+3,T=s.atomMap,x=s.atomStore;x.resize(_);var O=0,M=0,H=0;this.streamer.eachChunkOfLines(function(R){(function(D,P,I){for(var L=D;L<P;++L){var k=++H-1,K=I[L];if(K){if(k%C==0)c&&(i=new Float32Array(3*_),A.push(i),r=0);else if(k%C!=1)if(k%C==C-1){var W=K.trim().split(/\s+/),ee=new Float32Array(9);if(ee[0]=10*parseFloat(W[0]),ee[4]=10*parseFloat(W[1]),ee[8]=10*parseFloat(W[2]),l.push(ee),o)return!0;M+=1}else{if(d=K.substr(10,5).trim(),p&&d!=="CA")continue;var le=10*parseFloat(K.substr(20,E)),J=10*parseFloat(K.substr(w,E)),re=10*parseFloat(K.substr(b,E));if(c){var te=3*r;if(i[te+0]=le,i[te+1]=J,i[te+2]=re,r+=1,k>C)continue}m=K.substr(5,5).trim(),y=parseInt(K.substr(0,5)),g=parseInt(K.substr(15,5)),x.growIfFull(),x.atomTypeId[O]=T.add(d),x.x[O]=le,x.y[O]=J,x.z[O]=re,x.serial[O]=g,a.addAtom(M,"","",m,y,0,"l"),O+=1}}}})(0,R.length,R)}),a.finalize(),s.finalizeAtoms(),QE(s),rE(s),s.finalizeBonds(),GE(s),De&&Be.timeEnd("GroParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("gro",Wne);var $ne=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"].concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]);function qd(e,t,n){return t?new e(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function R4(e){return qd(DataView,e)}function p2(e){return qd(Int8Array,e)}function cE(e){return qd(Int32Array,e,4)}function ef(e,t){var n=e.length/2;t||(t=new Int16Array(n));for(var i=0,r=0;i<n;++i,r+=2)t[i]=e[r]<<8^e[r+1]<<0;return t}function Ia(e,t){var n=e.length/4;t||(t=new Int32Array(n));for(var i=0,r=0;i<n;++i,r+=4)t[i]=e[r]<<24^e[r+1]<<16^e[r+2]<<8^e[r+3]<<0;return t}function pE(e,t,n){var i=e.length,r=1/t;n||(n=new Float32Array(i));for(var s=0;s<i;++s)n[s]=e[s]*r;return n}function A1(e,t){var n,i;if(!t){var r=0;for(n=0,i=e.length;n<i;n+=2)r+=e[n+1];t=new e.constructor(r)}var s=0;for(n=0,i=e.length;n<i;n+=2)for(var a=e[n],o=e[n+1],c=0;c<o;++c)t[s]=a,++s;return t}function T7(e,t){var n=e.length;t||(t=new e.constructor(n)),n&&(t[0]=e[0]);for(var i=1;i<n;++i)t[i]=e[i]+t[i-1];return t}function AE(e,t){var n,i,r=e instanceof Int8Array?127:32767,s=-r-1,a=e.length;if(!t){var o=0;for(n=0;n<a;++n)e[n]<r&&e[n]>s&&++o;t=new Int32Array(o)}for(n=0,i=0;n<a;){for(var c=0;e[n]===r||e[n]===s;)c+=e[n],++n;c+=e[n],++n,t[i]=c,++i}return t}function dB(e,t,n){return pE(AE(e,cE(n)),t,n)}function jne(e,t,n){var i=AE(e,cE(n));return function(r,s,a){return pE(T7(r,cE(a)),s,a)}(i,t,qd(Float32Array,i,4))}function B7(e){var t=0,n=new DataView(e.buffer);function i(c){for(var p={},A=0;A<c;A++)p[o()]=o();return p}function r(c){var p=e.subarray(t,t+c);return t+=c,p}function s(c){var p=e.subarray(t,t+c);t+=c;var A=65535;if(c>A){for(var l=[],u=0;u<p.length;u+=A)l.push(String.fromCharCode.apply(null,p.subarray(u,u+A)));return l.join("")}return String.fromCharCode.apply(null,p)}function a(c){for(var p=new Array(c),A=0;A<c;A++)p[A]=o();return p}function o(){var c,p,A=e[t];if((128&A)==0)return t++,A;if((240&A)==128)return t++,i(p=15&A);if((240&A)==144)return t++,a(p=15&A);if((224&A)==160)return t++,s(p=31&A);if((224&A)==224)return c=n.getInt8(t),t++,c;switch(A){case 192:return t++,null;case 194:return t++,!1;case 195:return t++,!0;case 196:return p=n.getUint8(t+1),t+=2,r(p);case 197:return p=n.getUint16(t+1),t+=3,r(p);case 198:return p=n.getUint32(t+1),t+=5,r(p);case 202:return c=n.getFloat32(t+1),t+=5,c;case 203:return c=n.getFloat64(t+1),t+=9,c;case 204:return c=e[t+1],t+=2,c;case 205:return c=n.getUint16(t+1),t+=3,c;case 206:return c=n.getUint32(t+1),t+=5,c;case 208:return c=n.getInt8(t+1),t+=2,c;case 209:return c=n.getInt16(t+1),t+=3,c;case 210:return c=n.getInt32(t+1),t+=5,c;case 217:return p=n.getUint8(t+1),t+=2,s(p);case 218:return p=n.getUint16(t+1),t+=3,s(p);case 219:return p=n.getUint32(t+1),t+=5,s(p);case 220:return p=n.getUint16(t+1),t+=3,a(p);case 221:return p=n.getUint32(t+1),t+=5,a(p);case 222:return p=n.getUint16(t+1),t+=3,i(p);case 223:return p=n.getUint32(t+1),t+=5,i(p)}throw new Error("Unknown type 0x"+A.toString(16))}return o()}function Xne(e,t,n,i){switch(e){case 1:return function(s,a){var o=s.length;a||(a=new Float32Array(o/4));for(var c=R4(a),p=R4(s),A=0,l=0,u=o/4;A<u;++A,l+=4)c.setFloat32(l,p.getFloat32(l),!0);return a}(t);case 2:return p2(t);case 3:return ef(t);case 4:return Ia(t);case 5:return qd(Uint8Array,t);case 6:return A1(Ia(t),new Uint8Array(n));case 7:return A1(Ia(t));case 8:return T7(A1(Ia(t)),r);case 9:return function(s,a,o){return pE(A1(s,cE(o)),a,o)}(Ia(t),Ia(i)[0]);case 10:return jne(ef(t),Ia(i)[0]);case 11:return pE(ef(t),Ia(i)[0]);case 12:return dB(ef(t),Ia(i)[0]);case 13:return dB(p2(t),Ia(i)[0]);case 14:return AE(ef(t));case 15:return AE(p2(t))}var r}function qne(e,t){var n=(t=t||{}).ignoreFields,i={};return $ne.forEach(function(r){var s,a,o,c,p,A=!!n&&n.indexOf(r)!==-1,l=e[r];A||l===void 0||(l instanceof Uint8Array?i[r]=Xne.apply(null,(a=R4(s=l),o=a.getInt32(0),c=a.getInt32(4),p=s.subarray(8,12),[o,s=s.subarray(12),c,p])):i[r]=l)}),i}var Zne={0:"i".charCodeAt(0),1:"s".charCodeAt(0),2:"h".charCodeAt(0),3:"e".charCodeAt(0),4:"g".charCodeAt(0),5:"b".charCodeAt(0),6:"t".charCodeAt(0),7:"l".charCodeAt(0),"-1":"".charCodeAt(0)},Jne=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"mmtf"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){var i,r,s,a,o;De&&Be.time("MmtfParser._parse "+this.name);var c,p,A,l,u,d,m=this.structure,y=qne(B7(this.streamer.data));if(["depositionDate","releaseDate","resolution","rFree","rWork","experimentalMethods"].forEach(function(Ue){y[Ue]!==void 0&&(m.header[Ue]=y[Ue])}),m.id=y.structureId,m.title=y.title,m.atomStore.addField("formalCharge",1,"int8"),this.firstModelOnly||this.asTrajectory){for(u=1,A=0,i=0,r=l=y.chainsPerModel[0];i<r;++i)A+=y.groupsPerChain[i];for(p=0,i=0,r=A;i<r;++i)p+=(o=y.groupList[y.groupTypeList[i]]).atomNameList.length;c=y.numBonds,d=[l]}else c=y.numBonds,p=y.numAtoms,A=y.numGroups,l=y.numChains,u=y.numModels,d=y.chainsPerModel;if(c+=A,this.asTrajectory)for(i=0,r=y.numModels;i<r;++i){var g=new Float32Array(3*p),E=p*i;for(s=0;s<p;++s){var w=3*s,b=s+E;g[w]=y.xCoordList[b],g[w+1]=y.yCoordList[b],g[w+2]=y.zCoordList[b]}m.frames.push(g)}var _=new Uint32Array(c),C=new Uint32Array(c),T=new Uint8Array(c),x=new Uint32Array(p),O=new Int8Array(p),M=new Uint32Array(A),H=new Uint32Array(A),R=new Uint16Array(A),D=new Uint16Array(l),P=new Uint32Array(l),I=new Uint32Array(l),L=new Uint32Array(u),k=new Uint32Array(u),K=0;for(i=0,r=u;i<r;++i){var W=d[i];for(L[i]=K,k[i]=W,s=0;s<W;++s)D[s+K]=i;K+=W}var ee=y.groupsPerChain,le=0;for(i=0,r=l;i<r;++i){var J=ee[i];for(P[i]=le,I[i]=J,s=0;s<J;++s)M[s+le]=i;le+=J}var re=0,te=0;for(i=0,r=A;i<r;++i){var ge=(o=y.groupList[y.groupTypeList[i]]).atomNameList.length,me=o.formalChargeList,ie=o.bondAtomList,fe=o.bondOrderList;for(s=0,a=fe.length;s<a;++s)_[te]=re+ie[2*s],C[te]=re+ie[2*s+1],T[te]=fe[s],te+=1;for(H[i]=re,R[i]=ge,s=0;s<ge;++s)x[re]=i,O[re]=me[s],re+=1}var pe=y.bondAtomList;if(pe)for(y.bondOrderList&&T.set(y.bondOrderList,te),i=0,r=pe.length;i<r;i+=2){var Ee=pe[i],q=pe[i+1];Ee<p&&q<p&&(_[te]=Ee,C[te]=q,te+=1)}m.bondStore.length=T.length,m.bondStore.count=te,m.bondStore.atomIndex1=_,m.bondStore.atomIndex2=C,m.bondStore.bondOrder=T,m.atomStore.length=p,m.atomStore.count=p,m.atomStore.residueIndex=x,m.atomStore.atomTypeId=new Uint16Array(p),m.atomStore.x=y.xCoordList.subarray(0,p),m.atomStore.y=y.yCoordList.subarray(0,p),m.atomStore.z=y.zCoordList.subarray(0,p),m.atomStore.serial=y.atomIdList.subarray(0,p),m.atomStore.bfactor=y.bFactorList.subarray(0,p),m.atomStore.altloc=y.altLocList.subarray(0,p),m.atomStore.occupancy=y.occupancyList.subarray(0,p),m.atomStore.formalCharge=O,m.residueStore.length=A,m.residueStore.count=A,m.residueStore.chainIndex=M,m.residueStore.residueTypeId=y.groupTypeList,m.residueStore.atomOffset=H,m.residueStore.atomCount=R,m.residueStore.resno=y.groupIdList.subarray(0,A),m.residueStore.sstruc=y.secStructList.subarray(0,A),m.residueStore.inscode=y.insCodeList.subarray(0,A),m.chainStore.length=l,m.chainStore.count=l,m.chainStore.entityIndex=new Uint16Array(l),m.chainStore.modelIndex=D,m.chainStore.residueOffset=P,m.chainStore.residueCount=I,m.chainStore.chainname=y.chainNameList.subarray(0,4*l),m.chainStore.chainid=y.chainIdList.subarray(0,4*l),m.modelStore.length=u,m.modelStore.count=u,m.modelStore.chainOffset=L,m.modelStore.chainCount=k;var Z={};for(i=0,r=y.groupList.length;i<r;++i){var ae=y.groupList[i],Ae=[];for(s=0,a=ae.atomNameList.length;s<a;++s){var we=ae.elementList[s].toUpperCase(),xe=ae.atomNameList[s];Ae.push(m.atomMap.add(xe,we))}var Le=ae.chemCompType.toUpperCase(),V=RJ.includes(Le),j=ae.bondOrderList.length,ve=new Array(j),he=new Array(j);for(s=0;s<j;++s)ve[s]=ae.bondAtomList[2*s],he[s]=ae.bondAtomList[2*s+1];var oe={atomIndices1:ve,atomIndices2:he,bondOrders:ae.bondOrderList};Z[i]=m.residueMap.add(ae.groupName,Ae,V,Le,oe)}for(i=0,r=A;i<r;++i)m.residueStore.residueTypeId[i]=Z[m.residueStore.residueTypeId[i]];for(i=0,r=m.atomStore.count;i<r;++i){var ue=m.atomStore.residueIndex[i],Oe=m.residueMap.list[m.residueStore.residueTypeId[ue]],Pe=m.residueStore.atomOffset[ue];m.atomStore.atomTypeId[i]=Oe.atomTypeIdList[i-Pe]}if(y.secStructList){var Te=y.secStructList.length;for(i=0,r=m.residueStore.count;i<r;++i){var Ne=Zne[m.residueStore.sstruc[i%Te]];Ne!==void 0&&(m.residueStore.sstruc[i]=Ne)}}if(y.entityList&&y.entityList.forEach(function(Ue,nt){m.entityList[nt]=new fa(m,nt,Ue.description,Ue.type,Ue.chainIndexList)}),y.bioAssemblyList&&y.bioAssemblyList.forEach(function(Ue,nt){var vt=nt+1,gt=new tr(""+vt);m.biomolDict["BU"+vt]=gt;var Et={};Ue.transformList.forEach(function(Mt){var Lt=new Xe().fromArray(Mt.matrix).transpose(),Bt=Mt.chainIndexList.map(function(Wt){for(var wt="",rt=0;rt<4;++rt){var Vt=y.chainNameList[4*Wt+rt];if(!Vt)break;wt+=String.fromCharCode(Vt)}return wt}),at=Et[Bt.toString()];at?at.matrixList.push(Lt):Et[Bt.toString()]=gt.addPart([Lt],Bt)})}),y.ncsOperatorList){var Se=new tr("NCS"),ze=Se.addPart();y.ncsOperatorList.forEach(function(Ue){var nt=new Xe().fromArray(Ue).transpose();ze.matrixList.push(nt)}),ze.matrixList.length>0&&(m.biomolDict.NCS=Se)}var Ge=y.unitCell;Ge&&Array.isArray(Ge)&&Ge[0]?m.unitcell=new Hp({a:Ge[0],b:Ge[1],c:Ge[2],alpha:Ge[3],beta:Ge[4],gamma:Ge[5],spacegroup:y.spaceGroup}):m.unitcell=void 0,pu(m,!0),cu(m,!0),m.finalizeAtoms(),m.finalizeBonds(),sE(m),De&&Be.timeEnd("MmtfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("mmtf",Jne);var A2=/\s+/,eie={1:1,2:2,3:3,am:1,ar:1,du:1,un:1,nc:0},tie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"mol2"},t.prototype._parse=function(){De&&Be.time("Mol2Parser._parse "+this.name);var i,r,s=this.structure,a=this.structureBuilder,o=this.firstModelOnly,c=this.asTrajectory,p=s.frames,A=!1,l=s.atomMap,u=s.atomStore;u.resize(Math.round(this.streamer.data.length/60)),u.addField("partialCharge",1,"float32");var d=0,m=0,y=0,g=-1,E=0,w=0,b=s.getAtomProxy(),_=s.getAtomProxy();this.streamer.eachChunkOfLines(function(C){(function(T,x,O){for(var M=T;M<x;++M){var H=O[M].trim();if(H!==""&&H[0]!=="#"){if(H[0]==="@")H==="@<TRIPOS>MOLECULE"?(w=1,m=0,++g):H==="@<TRIPOS>ATOM"?(w=2,y=u.count,c&&(r=0,i=new Float32Array(3*E),p.push(i),g>0&&(A=!0))):w=H==="@<TRIPOS>BOND"?3:0;else if(w===1){if(m===0)s.title=H,s.id=H;else if(m===1){var R=H.split(A2);E=parseInt(R[0])}++m}else if(w===2){var D=H.split(A2);if(o&&g>0)continue;var P=parseFloat(D[2]),I=parseFloat(D[3]),L=parseFloat(D[4]);if(c){var k=3*r;if(i[k+0]=P,i[k+1]=I,i[k+2]=L,r+=1,A)continue}var K=D[0],W=D[1],ee=D[5].split(".")[0],le=D[6]?parseInt(D[6]):1,J=D[7]?D[7]:"",re=D[8]?parseFloat(D[8]):0;u.growIfFull(),u.atomTypeId[d]=l.add(W,ee),u.x[d]=P,u.y[d]=I,u.z[d]=L,u.serial[d]=K,u.partialCharge[d]=re,a.addAtom(g,"","",J,le,1),d+=1}else if(w===3){if(o&&g>0||c&&g>0)continue;var te=H.split(A2);b.index=parseInt(te[1])-1+y,_.index=parseInt(te[2])-1+y;var ge=eie[te[3]];s.bondStore.addBond(b,_,ge)}}}})(0,C.length,C)}),a.finalize(),s.finalizeAtoms(),QE(s),cu(s,!0),pu(s,!0),s.finalizeBonds(),eA(s),GE(s),De&&Be.timeEnd("Mol2Parser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("mol2",tie);var nie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pdbqt"},Object.defineProperties(t.prototype,n),t}(Hf);Nt.add("pdbqt",nie);var iie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pqr"},Object.defineProperties(t.prototype,n),t}(Hf);Nt.add("pqr",iie);var rie=/> +<(.+)>/,l2=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"sdf"},t.prototype._parse=function(){De&&Be.time("SdfParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,s=this.firstModelOnly,a=this.asTrajectory,o=this.streamer.peekLines(2);i.id=o[0].trim(),i.title=o[1].trim();var c,p,A=i.frames,l=!1,u=i.atomMap,d=i.atomStore;d.resize(Math.round(this.streamer.data.length/50)),d.addField("formalCharge",1,"int8");var m,y,g,E,w,b,_,C=i.getAtomProxy(),T=i.getAtomProxy(),x=0,O=0,M=0,H=0,R=[],D=!1,P={};i.extraData.sdf=R,this.streamer.eachChunkOfLines(function(I){(function(L,k,K){for(var W=L;W<k;++W){var ee=K[W];if(ee.substr(0,4)==="$$$$")O=-1,++M,H=d.count,R.push(P),P={},D=!1;else if(O===3)y=parseInt(ee.substr(0,3)),g=parseInt(ee.substr(3,3)),_=(b=w=(E=4)+y)+g,a&&(p=0,c=new Float32Array(3*y),A.push(c),M>0&&(l=!0));else if(O>=E&&O<w){if(s&&M>0)continue;var le=parseFloat(ee.substr(0,10)),J=parseFloat(ee.substr(10,10)),re=parseFloat(ee.substr(20,10));if(a){var te=3*p;if(c[te+0]=le,c[te+1]=J,c[te+2]=re,p+=1,l)continue}var ge=ee.substr(31,3).trim(),me=ge+(x+1);d.growIfFull(),d.atomTypeId[x]=u.add(me,ge),d.x[x]=le,d.y[x]=J,d.z[x]=re,d.serial[x]=x,d.formalCharge[x]=0,r.addAtom(M,"","","HET",1,1),x+=1}else if(O>=b&&O<_){if(s&&M>0||a&&M>0)continue;C.index=parseInt(ee.substr(0,3))-1+H,T.index=parseInt(ee.substr(3,3))-1+H;var ie=parseInt(ee.substr(6,3));i.bondStore.addBond(C,T,ie)}else if(ee.match(/M {2}CHG/))for(var fe=parseInt(ee.substr(6,3)),pe=0,Ee=10;pe<fe;++pe,Ee+=8){var q=parseInt(ee.substr(Ee,3))-1+H,Z=parseInt(ee.substr(Ee+4,3));d.formalCharge[q]=Z}else(m=ee.match(rie))?(D=m[1],P[D]=[]):D!==!1&&ee&&P[D].push(ee);++O}})(0,I.length,I)}),r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),eA(i),De&&Be.timeEnd("SdfParser._parse "+this.name)},t.prototype._postProcess=function(){eA(this.structure)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("sdf",l2),Nt.add("sd",l2),Nt.add("mol",l2);function tf(e,t,n){return parseInt(e.substr(t,n).trim())}var hB=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"prmtop"},t.prototype._parse=function(){De&&Be.time("PrmtopParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,s=i.atomMap,a=i.atomStore;a.addField("partialCharge",1,"float32"),a.addField("radius",1,"float32");var o,c,p,A,l,u=[],d={},m=["NATOM","NTYPES","NBONH","MBONA","NTHETH","MTHETA","NPHIH","MPHIA","NHPARM","NPARM","NNB","NRES","NBONA","NTHETA","NPHIA","NUMBND","NUMANG","NPTRA","NATYP","NPHB","IFPERT","NBPER","NGPER","NDPER","MBPER","MGPER","MDPER","IFBOX","NMXRS","IFCAP","NUMEXTRA","NCOPY"];m.forEach(function(H){d[H]=0});var y,g,E,w,b,_=new Uint8Array(0);this.streamer.eachChunkOfLines(function(H){(function(R,D,P){for(var I=R;I<D;++I){var L=P[I],k=L.trim();if(k&&!L.startsWith("%FORMAT")){if(L.startsWith("%FLAG")){var K=L.substr(5).trim();w=0,K==="TITLE"?E=0:K==="POINTERS"?E=1:K==="ATOM_NAME"?E=2:K==="CHARGE"?E=3:K==="MASS"?E=4:K==="RESIDUE_LABEL"?E=5:K==="RESIDUE_POINTER"?E=6:K==="BONDS_INC_HYDROGEN"?(b=0,E=7):K==="BONDS_WITHOUT_HYDROGEN"?(b=d.NBONH,E=8):E=K==="RADII"?9:void 0}else if(E===0)u.push(k);else if(E===1){for(var W=Math.min(w+10,32),ee=0;w<W;++ee,++w)d[m[w]]=parseInt(L.substr(8*ee,8).trim());o=new Array(d.NATOM),c=new Float32Array(d.NATOM),p=new Float32Array(d.NATOM),a.resize(d.NATOM);var le=d.NBONH+d.MBONA;A=new Uint32Array(le),l=new Uint32Array(le),_=new Uint8Array(le),y=new Array(d.NRES),g=new Uint32Array(d.NRES)}else if(E===2)for(var J=Math.min(w+20,d.NATOM),re=0;w<J;++re,++w)o[w]=L.substr(4*re,4).trim();else if(E===3)for(var te=Math.min(w+5,d.NATOM),ge=0;w<te;++ge,++w)c[w]=parseFloat(L.substr(16*ge,16))/18.2223;else if(E!==4){if(E===5)for(var me=Math.min(w+20,d.NRES),ie=0;w<me;++ie,++w)y[w]=L.substr(4*ie,4).trim();else if(E===6)for(var fe=Math.min(w+10,d.NRES),pe=0;w<fe;++pe,++w)g[w]=tf(L,8*pe,8);else if(E===7)for(var Ee=Math.min(w+10,3*d.NBONH),q=0;w<Ee;++q,++w){var Z=w%3;Z===0&&(A[b]=tf(L,8*q,8)/3),Z===1&&(l[b]=tf(L,8*q,8)/3,_[b]=1,++b)}else if(E===8)for(var ae=Math.min(w+10,3*d.MBONA),Ae=0;w<ae;++Ae,++w){var we=w%3;we===0&&(A[b]=tf(L,8*Ae,8)/3),we===1&&(l[b]=tf(L,8*Ae,8)/3,_[b]=1,++b)}else if(E===9)for(var xe=Math.min(w+5,d.NATOM),Le=0;w<xe;++Le,++w)p[w]=parseFloat(L.substr(16*Le,16))}}}})(0,H.length,H)}),i.title=u.join(" ");for(var C=d.NATOM,T=0,x=y[0],O=1,M=0;M<C;++M)M+1===g[T+1]&&(++T,x=y[T],O=T+1),a.atomTypeId[M]=s.add(o[M]),a.serial[M]=M+1,r.addAtom(0,"","",x,O);a.partialCharge.set(c),a.radius.set(p),i.bondStore.length=_.length,i.bondStore.count=_.length,i.bondStore.atomIndex1=A,i.bondStore.atomIndex2=l,i.bondStore.bondOrder=_,r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),cu(i,!0),pu(i,!0,!0),QE(i,!0),eA(i),De&&Be.timeEnd("PrmtopParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("prmtop",hB),Nt.add("parm7",hB);var l1=/\s+/,sie=/(^\*|REMARK)*/,aie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"psf"},t.prototype._parse=function(){De&&Be.time("PsfParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,s=i.atomMap,a=i.atomStore;a.addField("partialCharge",1,"float32");var o,c,p,A,l,u,d=[],m=0,y=0,g=0;this.streamer.eachChunkOfLines(function(E){(function(w,b,_){for(var C=w;C<b;++C){var T=_[C].trim();if(T){if(o===2){var x=T.split(l1),O=parseInt(x[0]),M=x[1],H=parseInt(x[2]),R=x[3],D=x[4],P=parseFloat(x[6]);M!==p&&(c=Nd(y),++y),a.growIfFull(),a.atomTypeId[m]=s.add(D),a.serial[m]=O,a.partialCharge[m]=P,r.addAtom(0,c,c,R,H),m+=1,p=M}else if(o===3)for(var I=T.split(l1),L=0,k=I.length;L<k;L+=2)A[g]=parseInt(I[L])-1,l[g]=parseInt(I[L+1])-1,u[g]=1,g+=1;else if(o===1)d.push(T.replace(sie,"").trim());else if(o!==4){if(o!==5){if(o!==6)if(T.includes("!NATOM")){o=2;var K=parseInt(T.split(l1)[0]);a.resize(K)}else if(T.includes("!NBOND")){o=3;var W=parseInt(T.split(l1)[0]);A=new Uint32Array(W),l=new Uint32Array(W),u=new Uint8Array(W)}else T.includes("!NTITLE")?o=1:T.includes("!NTHETA")?o=4:T.includes("!NPHI")?o=5:T.includes("!NIMPHI")&&(o=6)}}}else o=void 0}})(0,E.length,E)}),i.title=d.join(" "),i.bondStore.length=u.length,i.bondStore.count=g,i.bondStore.atomIndex1=A,i.bondStore.atomIndex2=l,i.bondStore.bondOrder=u,r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),cu(i,!0),pu(i,!0,!0),eA(i),De&&Be.timeEnd("PsfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("psf",aie);var oie=/\[ (.+) \]/,u1=/\s+/,cie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"top"},t.prototype._parse=function(){De&&Be.time("TopParser._parse "+this.name);var i=this.structure,r=this.structureBuilder,s=i.atomMap,a=i.bondStore,o=i.atomStore;o.addField("partialCharge",1,"float32");var c,p,A=[],l={};this.streamer.eachChunkOfLines(function(C){(function(T,x,O){for(var M=T;M<x;++M){var H=O[M],R=H.trim();if(R&&R[0]!=="*"&&R[0]!==";"){if(R.startsWith("#include"))throw new Error("TopParser: #include statements not allowed");var D=H.match(oie);if(D===null){var P=R.indexOf(";");if(P!==-1&&(R=R.substring(0,P).trim()),p===2){var I=R.split(u1)[0];l[I]=c}else if(p===3){var L=R.split(u1);c.atoms.push([parseInt(L[2]),L[3],L[4],parseFloat(L[6])])}else if(p===4){var k=R.split(u1);c.bonds.push([parseInt(k[0]),parseInt(k[1])])}else if(p===0)i.title=R;else if(p===1){var K=R.split(u1);A.push([K[0],parseInt(K[1])])}}else{var W=D[1];W==="moleculetype"?(p=2,c={atoms:[],bonds:[]}):p=W==="atoms"?3:W==="bonds"?4:W==="system"?0:W==="molecules"?1:void 0}}}})(0,C.length,C)});var u=0,d=0;A.forEach(function(C){var T=C[0],x=C[1],O=l[T];u+=x*O.atoms.length,d+=x*O.bonds.length}),o.resize(u),a.resize(d);var m,y=0,g=0,E=0,w=0,b=0,_=0;A.forEach(function(C){for(var T=C[0],x=C[1],O=l[T],M=Nd(w),H=function(D){m=-1;var P=iE.includes(T)?M:Nd(E);O.atoms.forEach(function(I){var L=I[0],k=I[1],K=I[2],W=I[3];L!==m&&++g,o.atomTypeId[y]=s.add(K),o.serial[y]=y+1,o.partialCharge[y]=W,r.addAtom(0,M,P,k,g+1),++y,m=L}),O.bonds.forEach(function(I){a.atomIndex1[b]=_+I[0]-1,a.atomIndex2[b]=_+I[1]-1,++b}),++E,_+=O.atoms.length},R=0;R<x;++R)H();++w}),a.count=d,r.finalize(),i.finalizeAtoms(),i.finalizeBonds(),cu(i,!0),pu(i,!0,!0),eA(i),De&&Be.timeEnd("TopParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Xo);Nt.add("top",cie);var VE=function(e){function t(i,r){e.call(this,i,r),this.frames=new G_(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"trajectory"},n.__objName.get=function(){return"frames"},Object.defineProperties(t.prototype,n),t}(Er),pie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dcd"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("DcdParser._parse "+this.name);var i=au(this.streamer.data),r=new DataView(i),s=this.frames,a=s.coordinates,o=s.boxes,c={},p=0,A=new Int32Array(i,0,23),l=A[0]!==r.getInt32(0);if(A[0]!==84)for(var u=i.byteLength,d=0;d<u;d+=4)r.setFloat32(d,r.getFloat32(d),!0);A[0]!==84&&Be.error("dcd bad format, header block start"),String.fromCharCode(r.getUint8(4),r.getUint8(5),r.getUint8(6),r.getUint8(7))!=="CORD"&&Be.error("dcd bad format, format string");var m=!1,y=!1,g=!1;A[22]!==0&&(m=!0,A[12]!==0&&(y=!0),A[13]===1&&(g=!0)),c.NSET=A[2],c.ISTART=A[3],c.NSAVC=A[4],c.NAMNF=A[10],c.DELTA=m?r.getFloat32(44,l):r.getFloat64(44,l),A[22]!==84&&Be.error("dcd bad format, header block end"),p=p+84+8;var E=r.getInt32(p,l),w=p+1;if((E-4)%80!=0&&Be.error("dcd bad format, title block start"),c.TITLE=Xm(new Uint8Array(i,w,E)),r.getInt32(w+E+4-1,l)!==E&&Be.error("dcd bad format, title block end"),p=p+E+8,r.getInt32(p,l)!==4&&Be.error("dcd bad format, natom block start"),c.NATOM=r.getInt32(p+4,l),r.getInt32(p+8,l)!==4&&Be.error("dcd bad format, natom block end"),p=p+4+8,c.NAMNF>0)Be.error("dcd format with fixed atoms unsupported, aborting");else{for(var b=c.NATOM,_=4*b,C=0,T=c.NSET;C<T;++C){if(y){p+=4;var x=new Float32Array(9);x[0]=r.getFloat64(p,l),x[4]=r.getFloat64(p+16,l),x[8]=r.getFloat64(p+40,l),o.push(x),p+=48,p+=4}for(var O=new Float32Array(3*b),M=0;M<3;++M){r.getInt32(p,l)!==_&&Be.error("dcd bad format, coord block start",C,M),p+=4;for(var H=new Float32Array(i,p,b),R=0;R<b;++R)O[3*R+M]=H[R];p+=_,r.getInt32(p,l)!==_&&Be.error("dcd bad format, coord block end",C,M),p+=4}a.push(O),g&&(p+=4+r.getInt32(p,l)+4)}c.DELTA&&(s.deltaTime=20.45482949774598*c.DELTA),c.ISTART>=1&&(s.timeOffset=(c.ISTART-1)*s.deltaTime),De&&Be.timeEnd("DcdParser._parse "+this.name)}},Object.defineProperties(t.prototype,n),t}(VE);function ls(e,t){if(e)throw new TypeError("Not a valid NetCDF v3.x file: "+t)}function M7(e){e.offset%4!=0&&e.skip(4-e.offset%4)}function I4(e){var t=e.readUint32(),n=e.readChars(t);return M7(e),n}Nt.add("dcd",pie);var KE=1,zE=2,YE=3,WE=4,$E=5,jE=6;function S7(e){switch(Number(e)){case KE:return"byte";case zE:return"char";case YE:return"short";case WE:return"int";case $E:return"float";case jE:return"double";default:return"undefined"}}function mB(e){switch(Number(e)){case KE:case zE:return 1;case YE:return 2;case WE:case $E:return 4;case jE:return 8;default:return-1}}function EB(e){switch(String(e)){case"byte":return KE;case"char":return zE;case"short":return YE;case"int":return WE;case"float":return $E;case"double":return jE;default:return-1}}function f1(e,t){if(e!==1){for(var n=new Array(e),i=0;i<e;i++)n[i]=t();return n}return t()}function F4(e,t,n){switch(t){case KE:return e.readBytes(n);case zE:return function(i){return i.charCodeAt(i.length-1)===0?i.substring(0,i.length-1):i}(e.readChars(n));case YE:return f1(n,e.readInt16.bind(e));case WE:return f1(n,e.readInt32.bind(e));case $E:return f1(n,e.readFloat32.bind(e));case jE:return f1(n,e.readFloat64.bind(e));default:return void ls(!0,"non valid type "+t)}}function Aie(e,t){var n={recordDimension:{length:e.readUint32()}};n.version=t;var i=function(s){var a,o,c,p=s.readUint32();if(p===0)return ls(s.readUint32()!==0,"wrong empty tag for list of dimensions"),[];ls(p!==10,"wrong tag for list of dimensions");var A=s.readUint32();a=new Array(A);for(var l=0;l<A;l++){var u=I4(s),d=s.readUint32();d===0&&(o=l,c=u),a[l]={name:u,size:d}}return{dimensions:a,recordId:o,recordName:c}}(e);n.recordDimension.id=i.recordId,n.recordDimension.name=i.recordName,n.dimensions=i.dimensions,n.globalAttributes=yB(e);var r=function(s,a,o){var c,p=s.readUint32(),A=0;if(p===0)return ls(s.readUint32()!==0,"wrong empty tag for list of variables"),[];ls(p!==11,"wrong tag for list of variables");var l=s.readUint32();c=new Array(l);for(var u=0;u<l;u++){for(var d=I4(s),m=s.readUint32(),y=new Array(m),g=0;g<m;g++)y[g]=s.readUint32();var E=yB(s),w=s.readUint32();ls(w<1&&w>6,"non valid type "+w);var b=s.readUint32(),_=s.readUint32();o===2&&(ls(_>0,"offsets larger than 4GB not supported"),_=s.readUint32()),y[0]===a&&(A+=b),c[u]={name:d,dimensions:y,attributes:E,type:S7(w),size:b,offset:_,record:y[0]===a}}return{variables:c,recordStep:A}}(e,i.recordId,t);return n.variables=r.variables,n.recordDimension.recordStep=r.recordStep,n}function yB(e){var t,n=e.readUint32();if(n===0)return ls(e.readUint32()!==0,"wrong empty tag for list of attributes"),[];ls(n!==12,"wrong tag for list of attributes");var i=e.readUint32();t=new Array(i);for(var r=0;r<i;r++){var s=I4(e),a=e.readUint32();ls(a<1||a>6,"non valid type "+a);var o=e.readUint32(),c=F4(e,a,o);M7(e),t[r]={name:s,type:S7(a),value:c}}return t}var Df=function(e){var t=new tn(e);t.setBigEndian(),ls(t.readChars(3)!=="CDF","should start with CDF");var n=t.readByte();ls(n>2,"unknown version"),this.header=Aie(t,n),this.buffer=t},KA={version:{configurable:!0},recordDimension:{configurable:!0},dimensions:{configurable:!0},globalAttributes:{configurable:!0},variables:{configurable:!0}};KA.version.get=function(){return this.header.version===1?"classic format":"64-bit offset format"},KA.recordDimension.get=function(){return this.header.recordDimension},KA.dimensions.get=function(){return this.header.dimensions},KA.globalAttributes.get=function(){return this.header.globalAttributes},KA.variables.get=function(){return this.header.variables},Df.prototype.hasDataVariable=function(e){return this.header.variables.findIndex(function(t){return t.name===e})!==-1},Df.prototype.getDataVariable=function(e){var t;return ls((t=typeof e=="string"?this.header.variables.find(function(n){return n.name===e}):e)===void 0,"variable not found"),this.buffer.seek(t.offset),t.record?function(n,i,r){for(var s=EB(i.type),a=i.size?i.size/mB(s):1,o=r.length,c=new Array(o),p=r.recordStep,A=0;A<o;A++){var l=n.offset;c[A]=F4(n,s,a),n.seek(l+p)}return c}(this.buffer,t,this.header.recordDimension):function(n,i){for(var r=EB(i.type),s=i.size/mB(r),a=new Array(s),o=0;o<s;o++)a[o]=F4(n,r,1);return a}(this.buffer,t)},Object.defineProperties(Df.prototype,KA);var u2=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"nctraj"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("NctrajParser._parse "+this.name);var i=new Df(this.streamer.data),r=this.frames,s=r.coordinates,a=r.boxes,o=r.times;i.getDataVariable("coordinates").forEach(function(c){s.push(new Float32Array(c))}),i.hasDataVariable("cell_lengths")&&i.getDataVariable("cell_lengths").forEach(function(c){a.push(new Float32Array(c))}),i.hasDataVariable("time")&&i.getDataVariable("time").forEach(function(c){o.push(c)}),o.length>=1&&(r.timeOffset=o[0]),o.length>=2&&(r.deltaTime=o[1]-o[0]),De&&Be.timeEnd("NctrajParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(VE);Nt.add("nctraj",u2),Nt.add("ncdf",u2),Nt.add("nc",u2);var lie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"trr"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("TrrParser._parse "+this.name);for(var i=au(this.streamer.data),r=new DataView(i),s=this.frames,a=s.coordinates,o=s.boxes,c=s.times,p=0;;){p+=8;var A=r.getInt32(p);p+=4,p+=A;var l=r.getInt32(p+8),u=r.getInt32(p+12),d=r.getInt32(p+16),m=r.getInt32(p+28),y=r.getInt32(p+32),g=r.getInt32(p+36),E=r.getInt32(p+40);p+=52;var w=l/9,b=3*E;if(w===8?c.push(r.getFloat64(p)):c.push(r.getFloat32(p)),p+=2*w,l){var _=new Float32Array(9);if(w===8)for(var C=0;C<9;++C)_[C]=10*r.getFloat64(p),p+=8;else for(var T=0;T<9;++T)_[T]=10*r.getFloat32(p),p+=4;o.push(_)}if(p+=u,p+=d,m){var x=void 0;if(w===8){x=new Float32Array(b);for(var O=0;O<b;++O)x[O]=10*r.getFloat64(p),p+=8}else{for(var M=new Uint32Array(i,p,b),H=0;H<b;++H){var R=M[H];M[H]=(255&R)<<24|(65280&R)<<8|R>>8&65280|R>>24&255}x=new Float32Array(i,p,b);for(var D=0;D<b;++D)x[D]*=10,p+=4}a.push(x)}if(p+=y,(p+=g)>=i.byteLength)break}c.length>=1&&(s.timeOffset=c[0]),c.length>=2&&(s.deltaTime=c[1]-c[0]),De&&Be.timeEnd("TrrParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(VE);Nt.add("trr",lie);var zA=new Uint32Array([0,0,0,0,0,0,0,0,0,8,10,12,16,20,25,32,40,50,64,80,101,128,161,203,256,322,406,512,645,812,1024,1290,1625,2048,2580,3250,4096,5060,6501,8192,10321,13003,16384,20642,26007,32768,41285,52015,65536,82570,104031,131072,165140,208063,262144,330280,416127,524287,660561,832255,1048576,1321122,1664510,2097152,2642245,3329021,4194304,5284491,6658042,8388607,10568983,13316085,16777216]);function f2(e){for(var t=1,n=0;e>=t&&n<32;)n++,t<<=1;return n}var nf=new Uint8Array(32);function uie(e,t){var n=1,i=0;nf[0]=1;for(var r=0;r<e;r++){var s=void 0,a=0;for(s=0;s<n;s++)a+=nf[s]*t[r],nf[s]=255&a,a>>=8;for(;a!==0;)nf[s++]=255&a,a>>=8;n=s}var o=1;for(n--;nf[n]>=o;)i++,o*=2;return i+8*n}function xp(e,t,n,i){for(var r=(1<<n)-1,s=i[1],a=i[2],o=e[0],c=0;n>=8;)c|=(a=a<<8|t[o++])>>s<<n-8,n-=8;return n>0&&(s<n&&(s+=8,a=a<<8|t[o++]),c|=a>>(s-=n)&(1<<n)-1),c&=r,e[0]=o,e[1]=s,e[2]=a,c}var ca=new Int32Array(32);function gB(e,t,n,i,r,s,a){var o=0;for(ca[1]=0,ca[2]=0,ca[3]=0;i>8;)ca[o++]=xp(e,t,8,a),i-=8;i>0&&(ca[o++]=xp(e,t,i,a));for(var c=n-1;c>0;c--){for(var p=0,A=o-1;A>=0;A--){var l=(p=p<<8|ca[A])/r[c]|0;ca[A]=l,p-=l*r[c]}s[c]=p}s[0]=ca[0]|ca[1]<<8|ca[2]<<16|ca[3]<<24}var fie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"xtc"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("XtcParser._parse "+this.name);for(var i=au(this.streamer.data),r=new DataView(i),s=this.frames,a=s.coordinates,o=s.boxes,c=s.times,p=new Int32Array(6),A=new Int32Array(3),l=new Int32Array(3),u=new Uint32Array(3),d=new Float32Array(3),m=new Float32Array(3),y=0,g=new Int32Array(3),E=new Uint32Array(g.buffer);;){var w=void 0,b=r.getInt32(y+4);y+=12;var _=3*b;c.push(r.getFloat32(y)),y+=4;for(var C=new Float32Array(9),T=0;T<9;++T)C[T]=10*r.getFloat32(y),y+=4;if(o.push(C),b<=9){w=new Float32Array(b);for(var x=0;x<b;++x)w[x]=r.getFloat32(y),y+=4}else{g[0]=g[1]=g[2]=0,A[0]=A[1]=A[2]=0,u[0]=u[1]=u[2]=0,l[0]=l[1]=l[2]=0,d[0]=d[1]=d[2]=0,m[0]=m[1]=m[2]=0,w=new Float32Array(_);var O=0,M=r.getInt32(y);y+=4;var H=r.getFloat32(y);y+=4,p[0]=r.getInt32(y),p[1]=r.getInt32(y+4),p[2]=r.getInt32(y+8),p[3]=r.getInt32(y+12),p[4]=r.getInt32(y+16),p[5]=r.getInt32(y+20),A[0]=p[3]-p[0]+1,A[1]=p[4]-p[1]+1,A[2]=p[5]-p[2]+1,y+=24;var R=void 0;(A[0]|A[1]|A[2])>16777215?(l[0]=f2(A[0]),l[1]=f2(A[1]),l[2]=f2(A[2]),R=0):R=uie(3,A);var D=r.getInt32(y);y+=4;var P=D-1,I=zA[P=9>P?9:P]/2|0,L=zA[D]/2|0;u[0]=u[1]=u[2]=zA[D];var k=4*Math.ceil(r.getInt32(y)/4);y+=4;var K=1/H,W=0,ee=0,le=new Uint8Array(i,y);for(d[0]=d[1]=d[2]=0;ee<M;){R===0?(d[0]=xp(g,le,l[0],E),d[1]=xp(g,le,l[1],E),d[2]=xp(g,le,l[2],E)):gB(g,le,3,R,A,d,E),ee++,d[0]+=p[0],d[1]+=p[1],d[2]+=p[2],m[0]=d[0],m[1]=d[1],m[2]=d[2];var J=0;if(xp(g,le,1,E)===1&&(W=xp(g,le,5,E),W-=J=W%3,J--),W>0){d[0]=d[1]=d[2]=0;for(var re=0;re<W;re+=3){if(gB(g,le,3,D,u,d,E),ee++,d[0]+=m[0]-L,d[1]+=m[1]-L,d[2]+=m[2]-L,re===0){var te=d[0];d[0]=m[0],m[0]=te,te=d[1],d[1]=m[1],m[1]=te,te=d[2],d[2]=m[2],m[2]=te,w[O++]=m[0]*K,w[O++]=m[1]*K,w[O++]=m[2]*K}else m[0]=d[0],m[1]=d[1],m[2]=d[2];w[O++]=d[0]*K,w[O++]=d[1]*K,w[O++]=d[2]*K}}else w[O++]=d[0]*K,w[O++]=d[1]*K,w[O++]=d[2]*K;if(D+=J,J<0?(L=I,I=D>9?zA[D-1]/2|0:0):J>0&&(I=L,L=zA[D]/2|0),u[0]=u[1]=u[2]=zA[D],u[0]===0||u[1]===0||u[2]===0)return void console.error("(xdrfile error) Undefined error.")}y+=k}for(var ge=0;ge<_;ge++)w[ge]*=10;if(a.push(w),y>=i.byteLength)break}c.length>=1&&(s.timeOffset=c[0]),c.length>=2&&(s.deltaTime=c[1]-c[0]),De&&Be.timeEnd("XtcParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(VE);Nt.add("xtc",fie);var Zd=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.volume=new Tn(this.name,this.path),this.voxelSize=G(s.voxelSize,1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"volume"},n.__objName.get=function(){return"volume"},t.prototype._afterParse=function(){this.volume.setMatrix(this.getMatrix()),e.prototype._afterParse.call(this)},t.prototype.getMatrix=function(){return new Xe},Object.defineProperties(t.prototype,n),t}(Er),die=/\s+/,hie=/-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,wB=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"cube"},t.prototype._parse=function(){De&&Be.time("CubeParser._parse "+this.name);var i=this.volume,r=this.streamer.peekLines(6),s={},a=.529177210859*this.voxelSize;function o(u,d){var m=r[u].trim().split(die)[d];return parseFloat(m)}s.atomCount=Math.abs(o(2,0)),s.originX=.529177210859*o(2,1),s.originY=.529177210859*o(2,2),s.originZ=.529177210859*o(2,3),s.NVX=o(3,0),s.NVY=o(4,0),s.NVZ=o(5,0),s.basisX=new F(o(3,1),o(3,2),o(3,3)).multiplyScalar(a),s.basisY=new F(o(4,1),o(4,2),o(4,3)).multiplyScalar(a),s.basisZ=new F(o(5,1),o(5,2),o(5,3)).multiplyScalar(a);var c=new Float32Array(s.NVX*s.NVY*s.NVZ),p=0,A=0,l=o(2,0)>0?0:1;this.streamer.eachChunkOfLines(function(u){(function(d,m,y){for(var g=d;g<m;++g){var E=y[g].trim();if(E!==""&&A>=s.atomCount+6+l)for(var w=E.match(hie),b=0,_=w.length;b<_;++b)c[p]=parseFloat(w[b]),++p;++A}})(0,u.length,u)}),i.header=s,i.setData(c,s.NVZ,s.NVY,s.NVX),De&&Be.timeEnd("CubeParser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=new Xe;return r.multiply(new Xe().makeTranslation(i.originX,i.originY,i.originZ)),r.multiply(new Xe().makeBasis(i.basisZ,i.basisY,i.basisX)),r},Object.defineProperties(t.prototype,n),t}(Zd);Nt.add("cub",wB),Nt.add("cube",wB);var _B=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dsn6"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("Dsn6Parser._parse "+this.name);var i,r,s=this.volume,a={},o=au(this.streamer.data),c=new Int16Array(o),p=new Uint8Array(o),A=String.fromCharCode.apply(null,p.subarray(0,512));if(A.startsWith(":-)"))a.xStart=parseInt(A.substr(10,5)),a.yStart=parseInt(A.substr(15,5)),a.zStart=parseInt(A.substr(20,5)),a.xExtent=parseInt(A.substr(32,5)),a.yExtent=parseInt(A.substr(38,5)),a.zExtent=parseInt(A.substr(42,5)),a.xRate=parseInt(A.substr(52,5)),a.yRate=parseInt(A.substr(58,5)),a.zRate=parseInt(A.substr(62,5)),a.xlen=parseFloat(A.substr(73,10))*this.voxelSize,a.ylen=parseFloat(A.substr(83,10))*this.voxelSize,a.zlen=parseFloat(A.substr(93,10))*this.voxelSize,a.alpha=parseFloat(A.substr(103,10)),a.beta=parseFloat(A.substr(113,10)),a.gamma=parseFloat(A.substr(123,10)),i=parseFloat(A.substr(138,12))/100,r=parseInt(A.substr(155,8)),a.sigma=100*parseFloat(A.substr(170,12));else{if(c[18]!==100)for(var l=0,u=c.length;l<u;++l){var d=c[l];c[l]=(255&d)<<8|d>>8&255}a.xStart=c[0],a.yStart=c[1],a.zStart=c[2],a.xExtent=c[3],a.yExtent=c[4],a.zExtent=c[5],a.xRate=c[6],a.yRate=c[7],a.zRate=c[8];var m=1/c[17],y=m*this.voxelSize;a.xlen=c[9]*y,a.ylen=c[10]*y,a.zlen=c[11]*y,a.alpha=c[12]*m,a.beta=c[13]*m,a.gamma=c[14]*m,i=c[15]/100,r=c[16],a.gamma=c[14]*m}s.header=a,De&&Be.log(a,i,r);for(var g=new Float32Array(a.xExtent*a.yExtent*a.zExtent),E=512,w=Math.ceil(a.xExtent/8),b=Math.ceil(a.yExtent/8),_=Math.ceil(a.zExtent/8),C=0;C<_;++C)for(var T=0;T<b;++T)for(var x=0;x<w;++x)for(var O=0;O<8;++O)for(var M=8*C+O,H=0;H<8;++H)for(var R=8*T+H,D=0;D<8;++D){var P=8*x+D;if(!(P<a.xExtent&&R<a.yExtent&&M<a.zExtent)){E+=8-D;break}g[(P*a.yExtent+R)*a.zExtent+M]=(p[E]-r)/i,++E}s.setData(g,a.zExtent,a.yExtent,a.xExtent),a.sigma&&s.setStats(void 0,void 0,void 0,a.sigma),De&&Be.timeEnd("Dsn6Parser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=[i.xlen,0,0],s=[i.ylen*Math.cos(Math.PI/180*i.gamma),i.ylen*Math.sin(Math.PI/180*i.gamma),0],a=[i.zlen*Math.cos(Math.PI/180*i.beta),i.zlen*(Math.cos(Math.PI/180*i.alpha)-Math.cos(Math.PI/180*i.gamma)*Math.cos(Math.PI/180*i.beta))/Math.sin(Math.PI/180*i.gamma),0];a[2]=Math.sqrt(i.zlen*i.zlen*Math.sin(Math.PI/180*i.beta)*Math.sin(Math.PI/180*i.beta)-a[1]*a[1]);var o=[[],r,s,a],c=[0,i.xRate,i.yRate,i.zRate],p=[0,1,2,3],A=new Xe;return A.set(o[p[1]][0]/c[p[1]],o[p[2]][0]/c[p[2]],o[p[3]][0]/c[p[3]],0,o[p[1]][1]/c[p[1]],o[p[2]][1]/c[p[2]],o[p[3]][1]/c[p[3]],0,o[p[1]][2]/c[p[1]],o[p[2]][2]/c[p[2]],o[p[3]][2]/c[p[3]],0,0,0,0,1),A.multiply(new Xe().makeRotationY(li(90))),A.multiply(new Xe().makeTranslation(-i.zStart,i.yStart,i.xStart)),A.multiply(new Xe().makeScale(-1,1,1)),A},Object.defineProperties(t.prototype,n),t}(Zd);Nt.add("dsn6",_B),Nt.add("brix",_B);var d1=/\s+/,O7=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"dx"},t.prototype._parse=function(){De&&Be.time("DxParser._parse "+this.name);var i=this.volume,r=this.streamer.peekLines(30),s=this.parseHeaderLines(r),a=this.volume.header,o=s.dataLineStart,c=a.nx*a.ny*a.nz,p=new Float32Array(c),A=0,l=0;this.streamer.eachChunkOfLines(function(u){(function(d,m,y){for(var g=d;g<m;++g){if(A<c&&l>o){var E=y[g].trim();if(E!=="")for(var w=E.split(d1),b=0,_=w.length;b<_;++b)p[A]=parseFloat(w[b]),++A}++l}})(0,u.length,u)}),i.setData(p,a.nz,a.ny,a.nx),De&&Be.timeEnd("DxParser._parse "+this.name)},t.prototype.parseHeaderLines=function(i){for(var r={},s=i.length,a=0,o=0,c=0,p=0;p<s;++p){var A=void 0,l=i[p];if(l.startsWith("object 1"))A=l.split(d1),r.nx=parseInt(A[5]),r.ny=parseInt(A[6]),r.nz=parseInt(A[7]);else if(l.startsWith("origin"))A=l.split(d1),r.xmin=parseFloat(A[1]),r.ymin=parseFloat(A[2]),r.zmin=parseFloat(A[3]);else if(l.startsWith("delta"))A=l.split(d1),c===0?r.hx=parseFloat(A[1])*this.voxelSize:c===1?r.hy=parseFloat(A[2])*this.voxelSize:c===2&&(r.hz=parseFloat(A[3])*this.voxelSize),c+=1;else if(l.startsWith("object 3")){a=p,o+=l.length+1;break}o+=l.length+1}return this.volume.header=r,{dataLineStart:a,headerByteCount:o}},t.prototype.getMatrix=function(){var i=this.volume.header,r=new Xe;return r.multiply(new Xe().makeRotationY(li(90))),r.multiply(new Xe().makeTranslation(-i.zmin,i.ymin,i.xmin)),r.multiply(new Xe().makeScale(-i.hz,i.hy,i.hx)),r},Object.defineProperties(t.prototype,n),t}(Zd);Nt.add("dx",O7);var mie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dxbin"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("DxbinParser._parse "+this.name);for(var i=au(this.streamer.data),r=function(u,d,m){d===void 0&&(d=10485760),m===void 0&&(m=`
`);for(var y="",g=[],E=0;E<u.length;E+=d){var w=Xm(u.subarray(E,E+d)),b=w.lastIndexOf(m);if(b===-1)y+=w;else{var _=y+w.substr(0,b);g=g.concat(_.split(m)),y=b===w.length-m.length?"":w.substr(b+m.length)}}return y!==""&&g.push(y),g}(new Uint8Array(i,0,1e3)),s=this.parseHeaderLines(r),a=this.volume.header,o=s.headerByteCount,c=a.nx*a.ny*a.nz,p=new DataView(i),A=new Float32Array(c),l=0;l<c;++l)A[l]=p.getFloat64(8*l+o,!0);this.volume.setData(A,a.nz,a.ny,a.nx),De&&Be.timeEnd("DxbinParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(O7);Nt.add("dxbin",mie);var d2=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"mrc"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("MrcParser._parse "+this.name);var i,r=this.volume,s={},a=au(this.streamer.data),o=new Int32Array(a,0,56),c=new Float32Array(a,0,56),p=new DataView(a);if(s.MAP=String.fromCharCode(p.getUint8(208),p.getUint8(209),p.getUint8(210),p.getUint8(211)),s.MACHST=[p.getUint8(212),p.getUint8(213)],s.MACHST[0]===17&&s.MACHST[1]===17)for(var A=a.byteLength,l=0;l<A;l+=4)p.setFloat32(l,p.getFloat32(l),!0);if(s.NX=o[0],s.NY=o[1],s.NZ=o[2],s.MODE=o[3],s.NXSTART=o[4],s.NYSTART=o[5],s.NZSTART=o[6],s.MX=o[7],s.MY=o[8],s.MZ=o[9],s.xlen=c[10]*this.voxelSize,s.ylen=c[11]*this.voxelSize,s.zlen=c[12]*this.voxelSize,s.alpha=c[13],s.beta=c[14],s.gamma=c[15],s.MAPC=o[16],s.MAPR=o[17],s.MAPS=o[18],s.DMIN=c[19],s.DMAX=c[20],s.DMEAN=c[21],s.ISPG=o[22],s.NSYMBT=o[23],s.LSKFLG=o[24],s.originX=c[49],s.originY=c[50],s.originZ=c[51],s.ARMS=c[54],r.header=s,s.MODE===2)i=new Float32Array(a,1024+s.NSYMBT,s.NX*s.NY*s.NZ);else if(s.MODE===0){if(i=new Float32Array(new Int8Array(a,1024+s.NSYMBT,s.NX*s.NY*s.NZ)),o[39]===-128&&o[40]===127)for(var u=(s.DMAX-s.DMIN)/255,d=.5*(s.DMIN+s.DMAX+u),m=0,y=i.length;m<y;++m)i[m]=u*i[m]+d}else Be.error("MrcParser unknown mode",s.MODE);r.setData(i,s.NX,s.NY,s.NZ),s.ARMS!==0&&r.setStats(s.DMIN,s.DMAX,s.DMEAN,s.ARMS),De&&Be.timeEnd("MrcParser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=[i.xlen,0,0],s=[i.ylen*Math.cos(Math.PI/180*i.gamma),i.ylen*Math.sin(Math.PI/180*i.gamma),0],a=[i.zlen*Math.cos(Math.PI/180*i.beta),i.zlen*(Math.cos(Math.PI/180*i.alpha)-Math.cos(Math.PI/180*i.gamma)*Math.cos(Math.PI/180*i.beta))/Math.sin(Math.PI/180*i.gamma),0];a[2]=Math.sqrt(i.zlen*i.zlen*Math.sin(Math.PI/180*i.beta)*Math.sin(Math.PI/180*i.beta)-a[1]*a[1]);var o=[[],r,s,a],c=[0,i.MX,i.MY,i.MZ],p=[0,i.MAPC,i.MAPR,i.MAPS],A=new Xe;return A.set(o[p[1]][0]/c[p[1]],o[p[2]][0]/c[p[2]],o[p[3]][0]/c[p[3]],0,o[p[1]][1]/c[p[1]],o[p[2]][1]/c[p[2]],o[p[3]][1]/c[p[3]],0,o[p[1]][2]/c[p[1]],o[p[2]][2]/c[p[2]],o[p[3]][2]/c[p[3]],0,0,0,0,1),A.setPosition(new F(i.originX,i.originY,i.originZ)),A.multiply(new Xe().makeTranslation(i.NXSTART,i.NYSTART,i.NZSTART)),A},Object.defineProperties(t.prototype,n),t}(Zd);Nt.add("mrc",d2),Nt.add("ccp4",d2),Nt.add("map",d2);var Eie=/\s+/;function h2(e){return e.trim().split(Eie).map(parseFloat)}var vB=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"xplor"},t.prototype._parse=function(){De&&Be.time("XplorParser._parse "+this.name);var i,r=this.volume,s=this.streamer.peekLines(8),a={},o=(i=s[2].startsWith("REMARKS")?parseInt(s[1].substring(0,8))+2:5)+3,c=h2(s[i]);a.NA=c[0],a.AMIN=c[1],a.AMAX=c[2],a.NB=c[3],a.BMIN=c[4],a.BMAX=c[5],a.NC=c[6],a.CMIN=c[7],a.CMAX=c[8];var p=h2(s[i+1]);a.a=p[0]*this.voxelSize,a.b=p[1]*this.voxelSize,a.c=p[2]*this.voxelSize,a.alpha=p[3],a.beta=p[4],a.gamma=p[5];var A=a.AMAX-a.AMIN+1,l=a.BMAX-a.BMIN+1,u=a.CMAX-a.CMIN+1,d=A*l*u,m=new Float32Array(d),y=Math.ceil(1+A*l/6),g=0,E=0;this.streamer.eachChunkOfLines(function(w){(function(b,_,C){for(var T=b;T<_;++T){var x=C[T];if(E>=o&&(E-o)%y!=0&&g<d)for(var O=0;O<6;++O){var M=parseFloat(x.substr(12*O,12));if(isNaN(M))break;m[g++]=M}else if(g===d){var H=x.trim();if(H&&H!=="-9999"){var R=h2(x);a.RAVE=R[0],a.RSIGMA=R[1]}}++E}})(0,w.length,w)}),r.header=a,r.setData(m,A,l,u),a.RAVE!==0&&a.RSIGMA!==1&&r.setStats(void 0,void 0,a.RAVE,a.RSIGMA),De&&Be.timeEnd("XplorParser._parse "+this.name)},t.prototype.getMatrix=function(){var i=this.volume.header,r=[i.a,0,0],s=[i.b*Math.cos(Math.PI/180*i.gamma),i.b*Math.sin(Math.PI/180*i.gamma),0],a=[i.c*Math.cos(Math.PI/180*i.beta),i.c*(Math.cos(Math.PI/180*i.alpha)-Math.cos(Math.PI/180*i.gamma)*Math.cos(Math.PI/180*i.beta))/Math.sin(Math.PI/180*i.gamma),0];a[2]=Math.sqrt(i.c*i.c*Math.sin(Math.PI/180*i.beta)*Math.sin(Math.PI/180*i.beta)-a[1]*a[1]);var o=[[],r,s,a],c=[0,i.NA,i.NB,i.NC],p=[0,1,2,3],A=new Xe;return A.set(o[p[1]][0]/c[p[1]],o[p[2]][0]/c[p[2]],o[p[3]][0]/c[p[3]],0,o[p[1]][1]/c[p[1]],o[p[2]][1]/c[p[2]],o[p[3]][1]/c[p[3]],0,o[p[1]][2]/c[p[1]],o[p[2]][2]/c[p[2]],o[p[3]][2]/c[p[3]],0,0,0,0,1),A.multiply(new Xe().makeTranslation(i.AMIN,i.BMIN,i.CMIN)),A},Object.defineProperties(t.prototype,n),t}(Zd);function ti(e,t,n){var i,r,s;e/=360,t/=100,n/=100;var a=Math.floor(6*e),o=6*e-a,c=n*(1-t),p=n*(1-o*t),A=n*(1-(1-o)*t);switch(a%6){case 0:i=n,r=A,s=c;break;case 1:i=p,r=n,s=c;break;case 2:i=c,r=n,s=A;break;case 3:i=c,r=p,s=n;break;case 4:i=A,r=c,s=n;break;case 5:i=n,r=c,s=p}return[i,r,s]}Nt.add("xplor",vB),Nt.add("cns",vB);var N4={red:ti(0,100,100),orange:ti(20,100,100),gold:ti(40,100,100),yellow:ti(60,100,100),lime:ti(80,100,100),green:ti(120,80,100),sea:ti(150,100,100),cyan:ti(180,100,85),sky:ti(210,75,95),blue:ti(240,70,100),purple:ti(275,75,100),magenta:ti(300,95,100),hotpink:ti(335,100,100),pink:ti(350,55,100),peach:ti(25,75,100),lilac:ti(275,55,100),pinktint:ti(340,30,100),peachtint:ti(25,50,100),yellowtint:ti(60,50,100),greentint:ti(135,40,100),bluetint:ti(220,40,100),lilactint:ti(275,35,100),white:ti(0,0,100),gray:ti(0,0,50),brown:ti(20,45,75),deadwhite:[1,1,1],deadblack:[0,0,0],invisible:[0,0,0]},yie=/[\s,]+/,L7=/[^{}\s]*{[^{}]+}|[^{}\s]+/g,P4=/^{+|}+$/g,gie=/^['"]+|['"]+$/g,R7=/\s*=\s*/g;function h1(e){for(var t,n,i,r=[],s=(e=e.replace(R7,"=")).match(L7),a=1;a<s.length;++a){var o=s[a];if(o[0]==="{")t=o.substring(1,o.length-1);else{var c=o.split("=");c.length===2&&(c[0]==="color"?n=N4[c[1]]:c[0]==="width"?i=parseInt(c[1]):c[0]==="master"&&r.push(c[1].replace(P4,"")))}}return{listName:t,listColor:n,listMasters:r,listWidth:i}}function m1(e){for(var t,n,i,r=(e=e.trim()).indexOf("{"),s=e.indexOf("}"),a=e.substr(s+1).split(yie),o=e.substr(r+1,s-1),c=[parseFloat(a[a.length-3]),parseFloat(a[a.length-2]),parseFloat(a[a.length-1])],p=!1,A=!1,l=4;l<=a.length;l++){var u=a[a.length-l];u in N4&&(t=N4[a[a.length-l]]),u.startsWith("width")&&(n=parseInt(u.substring(5))),u.startsWith("r=")&&(i=parseFloat(u.split("=")[1])),u.startsWith("P")&&(p=!0),u.startsWith("X")&&(A=!0)}return{label:o,position:c,color:t,radius:i,width:n,isLineBreak:p,isTriangleBreak:A}}function m2(e){var t=e.indexOf("{"),n=e.indexOf("}");return e.substring(t!==-1?t+1:0,n!==-1?n:void 0).trim()}function wie(e){var t=e.indexOf("}");return t===-1?void 0:e.substr(t+1).trim()}function E2(e){for(var t="",n=[],i={},r=(e=e.replace(R7,"=")).match(L7),s=1;s<r.length;++s){var a=r[s];if(a[0]==="{")t=a.substring(1,a.length-1);else{var o=a.split("=");o.length===2?o[0]==="master"?n.push(o[1].replace(P4,"")):i[o[0]]=o[1].replace(P4,""):i[o[0]]=!0}}return{groupName:t,groupFlags:i,groupMasters:n}}var _ie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"kin"},n.__objName.get=function(){return"kinemage"},t.prototype._parse=function(){De&&Be.time("KinParser._parse "+this.name);var i,r,s={kinemage:void 0,onewidth:void 0,"1viewid":void 0,pdbfile:void 0,texts:[],text:"",captions:[],caption:"",groupDict:{},subgroupDict:{},masterDict:{},pointmasterDict:{},dotLists:[],vectorLists:[],ballLists:[],ribbonLists:[]};this.kinemage=s;var a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,x,O,M,H,R,D=!1,P="",I=!1,L="",k=null,K=null,W=!1,ee="",le=!1,J="",re=!1,te=!1;if(this.streamer.eachChunkOfLines(function(me){(function(ie,fe,pe){for(var Ee=ie;Ee<fe;++Ee){var q=pe[Ee];if(q[0]==="@"&&(D=!1,I=!1,W=!1,le=!1,re=!1,te=!1),q)if(q.startsWith("@dotlist")){var Z=h1(q),ae=Z.listColor,Ae=Z.listName,we=Z.listMasters;D=!0,P="",o=[],c=[],p=[],a=ae,i&&(we=we.concat(i)),r&&(we=we.concat(r)),s.dotLists.push({name:Ae,masterArray:we,labelArray:o,positionArray:c,colorArray:p})}else if(q.startsWith("@vectorlist")){var xe=h1(q),Le=xe.listMasters,V=xe.listName,j=xe.listWidth,ve=xe.listColor;Le&&Le.forEach(function(_t){s.masterDict[_t]||(s.masterDict[_t]={indent:!1,visible:!1})}),I=!0,L="",k=null,K=null,u=[],d=[],m=[],y=[],g=[],E=[],A=ve,l=[],j&&l.push(j),i&&(Le=Le.concat(i)),r&&(Le=Le.concat(r)),s.vectorLists.push({name:V,masterArray:Le,label1Array:u,label2Array:d,position1Array:m,position2Array:y,color1Array:g,color2Array:E,width:l})}else if(q.startsWith("@balllist")){var he=h1(q),oe=he.listName,ue=he.listColor,Oe=he.listMasters;Oe&&Oe.forEach(function(_t){s.masterDict[_t]||(s.masterDict[_t]={indent:!1,visible:!1})}),W=!0,ee="",_=[],w=[],C=[],T=[],b=ue,i&&(Oe=Oe.concat(i)),r&&(Oe=Oe.concat(r)),s.ballLists.push({name:oe,masterArray:Oe,labelArray:_,radiusArray:w,positionArray:C,colorArray:T})}else if(q.startsWith("@ribbonlist")||q.startsWith("@trianglelist")){var Pe=h1(q),Te=Pe.listMasters,Ne=Pe.listName,Se=Pe.listColor;Te&&Te.forEach(function(_t){s.masterDict[_t]||(s.masterDict[_t]={indent:!1,visible:!1})}),le=!0,J="",O=[],M=[],H=[],R=[],x=Se,i&&(Te=Te.concat(i)),r&&(Te=Te.concat(r)),s.ribbonLists.push({name:Ne,masterArray:Te,labelArray:O,positionArray:M,breakArray:H,colorArray:R})}else if(q.startsWith("@text"))re=!0,s.texts.push(q.substr(5));else if(q.startsWith("@caption"))te=!0,s.captions.push(q.substr(8));else if(D){var ze=m1(q),Ge=ze.label,Ue=ze.color,nt=ze.position;Ge==='"'?Ge=P:P=Ge,Ue===void 0&&(Ue=a),o.push(Ge),c.push.apply(c,nt),p.push.apply(p,Ue)}else if(I)for(var vt=q.replace(/(?!^){/g,`
{`).split(/\n/),gt=0;gt<vt.length;gt++){var Et=m1(vt[gt]),Mt=Et.label,Lt=Et.color,Bt=Et.width,at=Et.position,Wt=Et.isLineBreak;Mt==='"'?Mt=L:L=Mt,Lt===void 0&&(Lt=A),Wt||k!==null&&(Bt&&l.push(Bt),u.push(L),m.push.apply(m,k),g.push.apply(g,K),d.push(Mt),y.push.apply(y,at),E.push.apply(E,Lt)),L=Mt,k=at,K=Lt}else if(W){var wt=m1(q),rt=wt.label,Vt=wt.radius,Ze=wt.color,it=wt.position;rt==='"'?rt=ee:ee=rt,Vt===void 0&&(Vt=1),Ze===void 0&&(Ze=b),_.push(rt),w.push(Vt),C.push.apply(C,it),T.push.apply(T,Ze)}else if(le){var yt=m1(q),ne=yt.label,Ie=yt.color,Me=yt.position,B=yt.isTriangleBreak;ne==='"'?ne=J:J=ne,Ie===void 0&&(Ie=x),O.push(ne),M.push.apply(M,Me),H.push(B),R.push.apply(R,Ie)}else if(re)s.texts.push(q);else if(te)s.captions.push(q);else if(q.startsWith("@kinemage"))s.kinemage=parseInt(q.substr(9).trim());else if(q.startsWith("@onewidth"))s.onewidth=!0;else if(q.startsWith("@1viewid"))s["1viewid"]=m2(q);else if(q.startsWith("@pdbfile"))s.pdbfile=m2(q);else if(q.startsWith("@group")){var N=E2(q),U=N.groupName,z=N.groupFlags,Y=N.groupMasters;for(var se in s.groupDict[U]||(s.groupDict[U]={dominant:!1,animate:!1},i=Y),i&&i.forEach(function(_t){s.masterDict[_t]||(s.masterDict[_t]={indent:!1,visible:!1})}),z)s.groupDict[U][se]=z[se]}else if(q.startsWith("@subgroup")){var ce=E2(q),ye=ce.groupName,Fe=ce.groupFlags,Re=ce.groupMasters;for(var ke in s.subgroupDict[ye]||(s.subgroupDict[ye]={dominant:!1,animate:!1},r=Re),r&&r.forEach(function(_t){s.masterDict[_t]||(s.masterDict[_t]={indent:!1,visible:!1})}),Fe)s.subgroupDict[ye][ke]=Fe[ke]}else if(q.startsWith("@master")){var tt=m2(q),Ye=wie(q);s.masterDict[tt]||(s.masterDict[tt]={indent:!1,visible:!1}),Ye==="on"?s.masterDict[tt].visible=!0:Ye==="off"?s.masterDict[tt].visible=!1:Ye==="indent"&&(s.masterDict[tt].indent=!0)}else if(q.startsWith("@pointmaster")){var We=E2(q),et=We.groupName,dt=We.groupFlags;s.pointmasterDict[et]={id:Object.keys(dt)[0].replace(gie,"")}}else console.log(q);else D=!1,I=!1,W=!1,le=!1}})(0,me.length,me)}),s.text=s.texts.join(`
`).trim(),s.caption=s.captions.join(`
`).trim(),s.ribbonLists){var ge=[];s.ribbonLists.forEach(function(me){ge.push(function(ie){for(var fe=ie.labelArray,pe=ie.positionArray,Ee=ie.colorArray,q=ie.breakArray,Z=[],ae=[],Ae=[],we=[],xe=0;xe<q.length/3;xe++){var Le=3*xe,V=9*xe;q[Le+1]||q[Le+2]||(Z.push(fe[Le]),Z.push(fe[Le+1]),Z.push(fe[Le+2]),we.push(q[Le]),we.push(q[Le+1]),we.push(q[Le+2]),ae.push(pe[V]),ae.push(pe[V+1]),ae.push(pe[V+2]),ae.push(pe[V+3]),ae.push(pe[V+4]),ae.push(pe[V+5]),ae.push(pe[V+6]),ae.push(pe[V+7]),ae.push(pe[V+8]),Ae.push(Ee[V]),Ae.push(Ee[V+1]),Ae.push(Ee[V+2]),Ae.push(Ee[V+3]),Ae.push(Ee[V+4]),Ae.push(Ee[V+5]),Ae.push(Ee[V+6]),Ae.push(Ee[V+7]),Ae.push(Ee[V+8]))}return{name:ie.name,masterArray:ie.masterArray,labelArray:Z,positionArray:ae,breakArray:we,colorArray:Ae}}(function(ie){for(var fe=ie.labelArray,pe=ie.positionArray,Ee=ie.colorArray,q=ie.breakArray,Z=[],ae=0;ae<3*(fe.length-2);++ae)Z[ae]=fe[ae-2*Math.floor(ae/3)];for(var Ae=[],we=0;we<3*(q.length-2);++we)Ae[we]=q[we-2*Math.floor(we/3)];for(var xe=[],Le=0;Le<9*(pe.length/3-2);++Le)xe[Le]=pe[Le-6*Math.floor(Le/9)];for(var V=[],j=0;j<9*(Ee.length/3-2);++j)V[j]=Ee[j-6*Math.floor(j/9)];for(var ve=[],he=0;he<xe.length/3;++he)ve.push(new F(xe[3*he],xe[3*he]+1,xe[3*he]+2));return{name:ie.name,masterArray:ie.masterArray,labelArray:Z,positionArray:xe,breakArray:Ae,colorArray:V}}(me)))}),s.ribbonLists=ge}De&&Be.timeEnd("KinParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Er);Nt.add("kin",_ie);var I7=function(e){function t(i,r){e.call(this,i,r),this.loader=this.getLoader(),this.surface=new dr(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"surface"},n.__objName.get=function(){return"surface"},t.prototype._parse=function(){var i=this.loader.parse(this.streamer.asText());this.surface.fromGeometry(i)},Object.defineProperties(t.prototype,n),t}(Er),U4=function(){this.regexp={vertex_pattern:/^v\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,normal_pattern:/^vn\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,uv_pattern:/^vt\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};U4.prototype={constructor:U4,setPath:function(e){this.path=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],startObject:function(t,n){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=t,void(this.object.fromDeclaration=n!==!1);this.object={name:t||"",geometry:{vertices:[],normals:[]},fromDeclaration:n!==!1},this.objects.push(this.object)},parseVertexIndex:function(t,n){var i=parseInt(t,10);return 3*(i>=0?i-1:i+n/3)},parseNormalIndex:function(t,n){var i=parseInt(t,10);return 3*(i>=0?i-1:i+n/3)},addVertex:function(t,n,i){var r=this.vertices,s=this.object.geometry.vertices;s.push(r[t+0]),s.push(r[t+1]),s.push(r[t+2]),s.push(r[n+0]),s.push(r[n+1]),s.push(r[n+2]),s.push(r[i+0]),s.push(r[i+1]),s.push(r[i+2])},addVertexLine:function(t){var n=this.vertices,i=this.object.geometry.vertices;i.push(n[t+0]),i.push(n[t+1]),i.push(n[t+2])},addNormal:function(t,n,i){var r=this.normals,s=this.object.geometry.normals;s.push(r[t+0]),s.push(r[t+1]),s.push(r[t+2]),s.push(r[n+0]),s.push(r[n+1]),s.push(r[n+2]),s.push(r[i+0]),s.push(r[i+1]),s.push(r[i+2])},addFace:function(t,n,i,r,s,a,o,c){var p,A=this.vertices.length,l=this.parseVertexIndex(t,A),u=this.parseVertexIndex(n,A),d=this.parseVertexIndex(i,A);if(r===void 0?this.addVertex(l,u,d):(p=this.parseVertexIndex(r,A),this.addVertex(l,u,p),this.addVertex(u,d,p)),s!==void 0){var m=this.normals.length;l=this.parseNormalIndex(s,m),u=s===a?l:this.parseNormalIndex(a,m),d=s===o?l:this.parseNormalIndex(o,m),r===void 0?this.addNormal(l,u,d):(p=this.parseNormalIndex(c,m),this.addNormal(l,u,p),this.addNormal(u,d,p))}},addLineGeometry:function(t){this.object.geometry.type="Line";for(var n=this.vertices.length,i=0,r=t.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(t[i],n))}};return e.startObject("",!1),e},parse:function(e){var t,n,i=this._createParserState();e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));var r=e.split(`
`),s="",a="",o="",c=[],p=typeof"".trimLeft=="function";for(t=0,n=r.length;t<n;t++)if(s=r[t],(s=p?s.trimLeft():s.trim()).length!==0&&(a=s.charAt(0))!=="#"){if(a==="v"){if((o=s.charAt(1))===" "&&(c=this.regexp.vertex_pattern.exec(s))!==null)i.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));else if(o==="n"&&(c=this.regexp.normal_pattern.exec(s))!==null)i.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));else if(o!=="t"||this.regexp.uv_pattern.exec(s)===null)throw new Error("Unexpected vertex/normal/uv line: '"+s+"'")}else if(a==="f"){if((c=this.regexp.face_vertex_uv_normal.exec(s))!==null)i.addFace(c[1],c[4],c[7],c[10],c[3],c[6],c[9],c[12]);else if(this.regexp.face_vertex_uv.exec(s)===null)if((c=this.regexp.face_vertex_normal.exec(s))!==null)i.addFace(c[1],c[3],c[5],c[7],c[2],c[4],c[6],c[8]);else{if((c=this.regexp.face_vertex.exec(s))===null)throw new Error("Unexpected face line: '"+s+"'");i.addFace(c[1],c[2],c[3],c[4])}}else if(a==="l"){var A=s.substring(1).trim().split(" "),l=[],u=[];if(s.indexOf("/")===-1)l=A;else for(var d=0,m=A.length;d<m;d++){var y=A[d].split("/");y[0]!==""&&l.push(y[0]),y[1]!==""&&u.push(y[1])}i.addLineGeometry(l,u)}else if((c=this.regexp.object_pattern.exec(s))!==null){var g=c[0].substr(1).trim();i.startObject(g)}else if(!this.regexp.material_use_pattern.test(s)){if(!this.regexp.material_library_pattern.test(s)){if(this.regexp.smoothing_pattern.exec(s)===null){if(s==="\0")continue;throw new Error("Unexpected line: '"+s+"'")}}}}var E=[];for(t=0,n=i.objects.length;t<n;t++){var w=i.objects[t].geometry;if(w.vertices.length!==0){var b=new pt;b.setAttribute("position",new bt(new Float32Array(w.vertices),3)),w.normals.length>0?b.setAttribute("normal",new bt(new Float32Array(w.normals),3)):b.computeVertexNormals(),E.push(b)}}return E}};var vie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"obj"},t.prototype.getLoader=function(){return new U4},Object.defineProperties(t.prototype,n),t}(I7);Nt.add("obj",vie);var H4=function(){this.propertyNameMapping={}};H4.prototype={constructor:H4,setPropertyNameMapping:function(e){this.propertyNameMapping=e},bin2str:function(e){for(var t=new Uint8Array(e),n="",i=0;i<e.byteLength;i++)n+=String.fromCharCode(t[i]);return n},isASCII:function(e){return this.parseHeader(this.bin2str(e)).format==="ascii"},parse:function(e){return e instanceof ArrayBuffer?this.isASCII(e)?this.parseASCII(this.bin2str(e)):this.parseBinary(e):this.parseASCII(e)},parseHeader:function(e){var t="",n=0,i=/ply([\s\S]*)end_header\s/.exec(e);i!==null&&(t=i[1],n=i[0].length);for(var r,s,a,o,c,p,A={comments:[],elements:[],headerLength:n},l=t.split(`
`),u=0;u<l.length;u++){var d=l[u];if((d=d.trim())!=="")switch(s=(a=d.split(/\s+/)).shift(),d=a.join(" "),s){case"format":A.format=a[0],A.version=a[1];break;case"comment":A.comments.push(d);break;case"element":r!==void 0&&A.elements.push(r),(r={}).name=a[0],r.count=parseInt(a[1]),r.properties=[];break;case"property":r.properties.push((o=a,c=this.propertyNameMapping,p=void 0,(p={type:o[0]}).type==="list"?(p.name=o[3],p.countType=o[1],p.itemType=o[2]):p.name=o[1],p.name in c&&(p.name=c[p.name]),p));break;default:console.log("unhandled",s,a)}}return r!==void 0&&A.elements.push(r),A},parseASCIINumber:function(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}},parseASCIIElement:function(e,t){for(var n=t.split(/\s+/),i={},r=0;r<e.length;r++)if(e[r].type==="list"){for(var s=[],a=this.parseASCIINumber(n.shift(),e[r].countType),o=0;o<a;o++)s.push(this.parseASCIINumber(n.shift(),e[r].itemType));i[e[r].name]=s}else i[e[r].name]=this.parseASCIINumber(n.shift(),e[r].type);return i},parseASCII:function(e){var t,n=new Ht,i=this.parseHeader(e),r="";(t=/end_header\s([\s\S]*)$/.exec(e))!==null&&(r=t[1]);var s=r.split(`
`),a=0,o=0;n.useColor=!1;for(var c=0;c<s.length;c++){var p=s[c];if((p=p.trim())!==""){o>=i.elements[a].count&&(a++,o=0);var A=this.parseASCIIElement(i.elements[a].properties,p);this.handleElement(n,i.elements[a].name,A),o++}}return this.postProcess(n)},postProcess:function(e){if(e.useColor){for(var t=0;t<e.faces.length;t++)e.faces[t].vertexColors=[e.colors[e.faces[t].a],e.colors[e.faces[t].b],e.colors[e.faces[t].c]];e.elementsNeedUpdate=!0}return e.computeBoundingSphere(),e},handleElement:function(e,t,n){if(t==="vertex"){if(e.vertices.push(new F(n.x,n.y,n.z)),"red"in n&&"green"in n&&"blue"in n){e.useColor=!0;var i=new Je;i.setRGB(n.red/255,n.green/255,n.blue/255),e.colors.push(i)}}else if(t==="face"){var r=n.vertex_indices;r.length===3?e.faces.push(new Ip(r[0],r[1],r[2])):r.length===4&&e.faces.push(new Ip(r[0],r[1],r[3]),new Ip(r[1],r[2],r[3]))}},binaryRead:function(e,t,n,i){switch(n){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,i),2];case"uint16":case"ushort":return[e.getUint16(t,i),2];case"int32":case"int":return[e.getInt32(t,i),4];case"uint32":case"uint":return[e.getUint32(t,i),4];case"float32":case"float":return[e.getFloat32(t,i),4];case"float64":case"double":return[e.getFloat64(t,i),8]}},binaryReadElement:function(e,t,n,i){for(var r,s={},a=0,o=0;o<n.length;o++)if(n[o].type==="list"){var c=[],p=(r=this.binaryRead(e,t+a,n[o].countType,i))[0];a+=r[1];for(var A=0;A<p;A++)r=this.binaryRead(e,t+a,n[o].itemType,i),c.push(r[0]),a+=r[1];s[n[o].name]=c}else r=this.binaryRead(e,t+a,n[o].type,i),s[n[o].name]=r[0],a+=r[1];return[s,a]},parseBinary:function(e){for(var t,n=new Ht,i=this.parseHeader(this.bin2str(e)),r=i.format==="binary_little_endian",s=new DataView(e,i.headerLength),a=0,o=0;o<i.elements.length;o++)for(var c=0;c<i.elements[o].count;c++){a+=(t=this.binaryReadElement(s,a,i.elements[o].properties,r))[1];var p=t[0];this.handleElement(n,i.elements[o].name,p)}return this.postProcess(n)}};var Cie=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"ply"},t.prototype.getLoader=function(){return new H4},Object.defineProperties(t.prototype,n),t}(I7);Nt.add("ply",Cie);var bie=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.delimiter=G(s.delimiter,","),this.comment=G(s.comment,"#"),this.columnNames=G(s.columnNames,!1),this.table={name:this.name,path:this.path,columnNames:[],data:[]}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"csv"},n.__objName.get=function(){return"table"},t.prototype._parse=function(){var i=this,r=this.table.data,s=new RegExp("\\s*"+this.delimiter+"\\s*"),a=0;this.streamer.eachChunkOfLines(function(o){for(var c=o.length,p=0;p<c;++p){var A=o[p].trim();if(!A.startsWith(i.comment)){var l=A.split(s);a===0?i.table.columnNames=l:A&&r.push(l),++a}}})},Object.defineProperties(t.prototype,n),t}(Er);Nt.add("csv",bie);var xie=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.string=G(s.string,!1),this.json={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isJson:{configurable:!0}};return n.type.get=function(){return"json"},n.__objName.get=function(){return"json"},n.isJson.get=function(){return!0},t.prototype._parse=function(){this.streamer.isBinary()||this.string?this.json.data=JSON.parse(this.streamer.asText()):this.json.data=this.streamer.data},Object.defineProperties(t.prototype,n),t}(Er);Nt.add("json",xie);var Tie=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.msgpack={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"msgpack"},n.__objName.get=function(){return"msgpack"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("MsgpackParser._parse "+this.name),this.msgpack.data=B7(this.streamer.data),De&&Be.timeEnd("MsgpackParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Er);Nt.add("msgpack",Tie);var Bie=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.netcdf={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"netcdf"},n.__objName.get=function(){return"netcdf"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){De&&Be.time("NetcdfParser._parse "+this.name),this.netcdf.data=new Df(this.streamer.data),De&&Be.timeEnd("NetcdfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Er);Nt.add("netcdf",Bie);var CB=function(e){function t(i,r){e.call(this,i,r),this.text={name:this.name,path:this.path,data:""}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"text"},n.__objName.get=function(){return"text"},t.prototype._parse=function(){this.text.data=this.streamer.asText()},Object.defineProperties(t.prototype,n),t}(Er);Nt.add("txt",CB),Nt.add("text",CB);var Mie=/^['"]|['"]$/g,Sie=/^<([\w-:.]+)\s*/,Oie=/^([^<]*)/,Lie=/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/;function Rie(e){return e=e.trim().replace(/<!--[\s\S]*?-->/g,""),{declaration:t(),root:n()};function t(){if(r(/^<\?xml\s*/)){for(var o={attributes:{}};!s()&&!a("?>");){var c=i();if(!c)return o;o.attributes[c.name]=c.value}return r(/\?>\s*/),o}}function n(){var o=r(Sie);if(o){for(var c,p={name:o[1],attributes:{},children:[]};!(s()||a(">")||a("?>")||a("/>"));){var A=i();if(!A)return p;p.attributes[A.name]=A.value}if(r(/^\s*\/>\s*/))return p;for(r(/\??>\s*/),p.content=function(){var l=r(Oie);return l?l[1]:""}();c=n();)p.children.push(c);return r(/^<\/[\w-:.]+>\s*/),p}}function i(){var o,c=r(Lie);if(c)return{name:c[1],value:(o=c[2],o.replace(Mie,""))}}function r(o){var c=e.match(o);if(c)return e=e.slice(c[0].length),c}function s(){return e.length===0}function a(o){return e.indexOf(o)===0}}var F7=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.useDomParser=G(s.useDomParser,!1),this.xml={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isXml:{configurable:!0}};return n.type.get=function(){return"xml"},n.__objName.get=function(){return"xml"},n.isXml.get=function(){return!0},t.prototype.__xmlParser=function(i){return Rie(i)},t.prototype.__domParser=function(i){return new window.DOMParser().parseFromString(i,"text/xml")},t.prototype._parse=function(){De&&Be.time("XmlParser._parse "+this.name),this.useDomParser?this.streamer.data instanceof Document?this.xml.data=this.streamer.data:this.xml.data=this.__domParser(this.streamer.asText()):this.xml.data=this.__xmlParser(this.streamer.asText()),De&&Be.timeEnd("XmlParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Er);function Si(e,t){var n=e.getNamedItem(t);return n!==null?n.value:""}function bB(e,t,n){n===void 0&&(n=!1);var i=Si(e,"icode").trim(),r=Si(e,"chain").trim(),s=Si(e,"altcode"),a=Si(e,"resnum");return i&&(a+="^"+i),r&&(a+=":"+r),t&&(a+="."+t),n&&s.trim()&&(a+="%"+s),a+="/"+(parseInt(Si(e,"model"))-1)}function Iie(e){var t=Si(e,"chain").trim(),n="["+Si(e,"rescode")+"]"+Si(e,"resnum");return t&&(n+=":"+t),n}function y2(e,t,n){e[t]===void 0?e[t]=n:e[t]|=n}function g2(e,t){return e!==null&&e.value===t}function Fie(e,t,n){for(var i=0,r=t.getElementsByTagName("clash"),s=0,a=r.length;s<a;++s)if(e[Si(r[s].attributes,"cid")]){i+=1;break}return t.getElementsByTagName("angle-outlier").length>0&&(i+=1),t.getElementsByTagName("bond-outlier").length>0&&(i+=1),t.getElementsByTagName("plane-outlier").length>0&&(i+=1),g2(n.getNamedItem("rota"),"OUTLIER")&&(i+=1),g2(n.getNamedItem("rama"),"OUTLIER")&&(i+=1),g2(n.getNamedItem("RNApucker"),"outlier")&&(i+=1),i}Nt.add("xml",F7);var z1=function(e,t){this.name=e,this.path=t,this.rsrzDict={},this.rsccDict={},this.rciDict={},this.clashDict={},this.clashArray=[],this.geoDict={},this.geoAtomDict={},this.atomDict={},this.clashSele="NONE"},xB={type:{configurable:!0}};xB.type.get=function(){return"validation"},z1.prototype.fromXml=function(e){De&&Be.time("Validation.fromXml");var t=this.rsrzDict,n=this.rsccDict,i=this.rciDict,r=this.clashDict,s=this.clashArray,a=this.geoDict,o=this.geoAtomDict,c=this.atomDict,p=e.getElementsByTagName("Entry");if(p.length===1){var A=p[0].getElementsByTagName("chemical_shift_list");if(A.length===1)for(var l=A[0].getElementsByTagName("random_coil_index"),u=0,d=l.length;u<d;++u){var m=l[u].attributes;i[Iie(m)]=parseFloat(Si(m,"value"))}}var y=e.getElementsByTagName("ModelledSubgroup"),g={},E=[];De&&Be.time("Validation.fromXml#clashDict");for(var w=0,b=y.length;w<b;++w){var _=y[w],C=_.attributes,T=bB(C);C.getNamedItem("rsrz")!==null&&(t[T]=parseFloat(Si(C,"rsrz"))),C.getNamedItem("rscc")!==null&&(n[T]=parseFloat(Si(C,"rscc")));var x=e.createAttribute("sele");x.value=T,C.setNamedItem(x);for(var O=_.getElementsByTagName("clash"),M=0,H=O.length;M<H;++M){var R=O[M].attributes,D=Si(R,"atom");if(N_(D)!=="H"){var P=Si(R,"cid"),I=bB(C,D,!0);if(c[I]=!0,g[P]===void 0)g[P]={sele1:I,res1:T};else{var L=g[P];L.res1!==T&&(L.sele2=I,L.res2=T,E.push(L.res1,T),r[P]=L,s.push(L))}}}}De&&Be.timeEnd("Validation.fromXml#clashDict");for(var k=0,K=y.length;k<K;++k){var W=y[k],ee=W.attributes,le=Si(ee,"sele");if(Si(ee,"seq")!=="."){var J=Fie(r,W,ee);J>0&&(a[le]=J)}else{var re=W.getElementsByTagName("clash"),te=W.getElementsByTagName("mog-bond-outlier"),ge=W.getElementsByTagName("mog-angle-outlier");if(te.length>0||ge.length>0||re.length>0){var me={};o[le]=me;for(var ie=0,fe=re.length;ie<fe;++ie){var pe=re[ie].attributes;r[Si(pe,"cid")]&&y2(me,Si(pe,"atom"),1)}for(var Ee=0,q=te.length;Ee<q;++Ee)Si(te[Ee].attributes,"atoms").split(",").forEach(function(Ae){y2(me,Ae,2)});for(var Z=0,ae=ge.length;Z<ae;++Z)Si(ge[Z].attributes,"atoms").split(",").forEach(function(Ae){y2(me,Ae,4)})}}}this.clashSele=E.length?E.join(" OR "):"NONE",De&&Be.timeEnd("Validation.fromXml")},z1.prototype.getClashData=function(e){De&&Be.time("Validation.getClashData");var t=e||{},n=t.structure,i=n.atomSet,r=new Je(G(t.color,"#f0027f")),s=n.getAtomProxy(),a=n.getAtomProxy(),o=new F,c=new F,p=new F,A=this.clashArray,l=A.length,u=new Float32Array(3*l),d=new Float32Array(3*l),m=Hn(l,r.r,r.g,r.b),y=new Float32Array(l),g=new Float32Array(l);De&&Be.time("Validation.getClashData#atomDict");var E=this.atomDict;n.eachAtom(function(b){var _=function(C){var T=C.inscode,x=C.chainname,O=C.atomname,M=C.altloc,H=C.resno+"";return T&&(H+="^"+T),x&&(H+=":"+x),O&&(H+="."+O),M&&(H+="%"+M),H+"/"+C.modelIndex}(b);E[_]===!0&&(E[_]=b.index)}),De&&Be.timeEnd("Validation.getClashData#atomDict");var w=0;return A.forEach(function(b,_){if(s.index=E[b.sele1],a.index=E[b.sele2],s.index!==void 0&&a.index!==void 0&&i.isSet(s.index,a.index)){o.subVectors(a,s).setLength(s.vdw),c.copy(s).add(o),o.subVectors(s,a).setLength(a.vdw),p.copy(a).add(o);var C=s.distanceTo(a)/2,T=Math.sqrt(s.vdw*s.vdw-C*C),x=Math.sqrt(a.vdw*a.vdw-C*C);c.toArray(u,3*w),p.toArray(d,3*w),y[w]=(T+x)/2,g[w]=_,++w}}),De&&Be.timeEnd("Validation.getClashData"),{position1:u.subarray(0,3*w),position2:d.subarray(0,3*w),color:m.subarray(0,3*w),color2:m.subarray(0,3*w),radius:y.subarray(0,w),picking:new cee(g.subarray(0,w),this,n)}},Object.defineProperties(z1.prototype,xB);var Nie=function(e){function t(i,r){var s=r||{};e.call(this,i,s),this.useDomParser=!0,this.validation=new z1(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={__objName:{configurable:!0},isXml:{configurable:!0}};return n.__objName.get=function(){return"validation"},n.isXml.get=function(){return!0},t.prototype._parse=function(){e.prototype._parse.call(this),De&&Be.time("ValidationParser._parse "+this.name),this.validation.fromXml(this.xml.data),De&&Be.timeEnd("ValidationParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(F7);function N7(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}function Tl(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var s=0;s<i;s++)e[r+s]=t[n+s]}function D4(e,t,n,i){for(var r=65535&e|0,s=e>>>16&65535|0,a=0;n!==0;){n-=a=n>2e3?2e3:n;do s=s+(r=r+t[i++]|0)|0;while(--a);r%=65521,s%=65521}return r|s<<16|0}Nt.add("validation",Nie);var Pie=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();function Fa(e,t,n,i){var r=Pie,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^r[255&(e^t[a])];return-1^e}function Uie(e,t){var n,i,r,s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,x,O,M,H;n=e.state,i=e.next_in,M=e.input,r=i+(e.avail_in-5),s=e.next_out,H=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),c=n.dmax,p=n.wsize,A=n.whave,l=n.wnext,u=n.window,d=n.hold,m=n.bits,y=n.lencode,g=n.distcode,E=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{m<15&&(d+=M[i++]<<m,m+=8,d+=M[i++]<<m,m+=8),b=y[d&E];t:for(;;){if(d>>>=_=b>>>24,m-=_,(_=b>>>16&255)===0)H[s++]=65535&b;else{if(!(16&_)){if((64&_)==0){b=y[(65535&b)+(d&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}C=65535&b,(_&=15)&&(m<_&&(d+=M[i++]<<m,m+=8),C+=d&(1<<_)-1,d>>>=_,m-=_),m<15&&(d+=M[i++]<<m,m+=8,d+=M[i++]<<m,m+=8),b=g[d&w];n:for(;;){if(d>>>=_=b>>>24,m-=_,!(16&(_=b>>>16&255))){if((64&_)==0){b=g[(65535&b)+(d&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(T=65535&b,m<(_&=15)&&(d+=M[i++]<<m,(m+=8)<_&&(d+=M[i++]<<m,m+=8)),(T+=d&(1<<_)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=_,m-=_,T>(_=s-a)){if((_=T-_)>A&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,O=u,l===0){if(x+=p-_,_<C){C-=_;do H[s++]=u[x++];while(--_);x=s-T,O=H}}else if(l<_){if(x+=p+l-_,(_-=l)<C){C-=_;do H[s++]=u[x++];while(--_);if(x=0,l<C){C-=_=l;do H[s++]=u[x++];while(--_);x=s-T,O=H}}}else if(x+=l-_,_<C){C-=_;do H[s++]=u[x++];while(--_);x=s-T,O=H}for(;C>2;)H[s++]=O[x++],H[s++]=O[x++],H[s++]=O[x++],C-=3;C&&(H[s++]=O[x++],C>1&&(H[s++]=O[x++]))}else{x=s-T;do H[s++]=H[x++],H[s++]=H[x++],H[s++]=H[x++],C-=3;while(C>2);C&&(H[s++]=H[x++],C>1&&(H[s++]=H[x++]))}break}}break}}while(i<r&&s<o);i-=C=m>>3,d&=(1<<(m-=C<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=s<o?o-s+257:257-(s-o),n.hold=d,n.bits=m}var Hie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Die=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Gie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Qie=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Gf(e,t,n,i,r,s,a,o){var c,p,A,l,u,d,m,y,g,E=o.bits,w=0,b=0,_=0,C=0,T=0,x=0,O=0,M=0,H=0,R=0,D=null,P=0,I=new Uint16Array(16),L=new Uint16Array(16),k=null,K=0;for(w=0;w<=15;w++)I[w]=0;for(b=0;b<i;b++)I[t[n+b]]++;for(T=E,C=15;C>=1&&I[C]===0;C--);if(T>C&&(T=C),C===0)return r[s++]=20971520,r[s++]=20971520,o.bits=1,0;for(_=1;_<C&&I[_]===0;_++);for(T<_&&(T=_),M=1,w=1;w<=15;w++)if(M<<=1,(M-=I[w])<0)return-1;if(M>0&&(e===0||C!==1))return-1;for(L[1]=0,w=1;w<15;w++)L[w+1]=L[w]+I[w];for(b=0;b<i;b++)t[n+b]!==0&&(a[L[t[n+b]]++]=b);if(e===0?(D=k=a,d=19):e===1?(D=Hie,P-=257,k=Die,K-=257,d=256):(D=Gie,k=Qie,d=-1),R=0,b=0,w=_,u=s,x=T,O=0,A=-1,l=(H=1<<T)-1,e===1&&H>852||e===2&&H>592)return 1;for(;;){m=w-O,a[b]<d?(y=0,g=a[b]):a[b]>d?(y=k[K+a[b]],g=D[P+a[b]]):(y=96,g=0),c=1<<w-O,_=p=1<<x;do r[u+(R>>O)+(p-=c)]=m<<24|y<<16|g|0;while(p!==0);for(c=1<<w-1;R&c;)c>>=1;if(c!==0?(R&=c-1,R+=c):R=0,b++,--I[w]==0){if(w===C)break;w=t[n+a[b]]}if(w>T&&(R&l)!==A){for(O===0&&(O=T),u+=_,M=1<<(x=w-O);x+O<C&&!((M-=I[x+O])<=0);)x++,M<<=1;if(H+=1<<x,e===1&&H>852||e===2&&H>592)return 1;r[A=R&l]=T<<24|x<<16|u-s|0}}return R!==0&&(r[u+R]=w-O<<24|64<<16|0),o.bits=T,0}function TB(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function kie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Vie(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(n){var i;return n&&n.state?(i=n.state,n.total_in=n.total_out=i.total=0,n.msg="",i.wrap&&(n.adler=1&i.wrap),i.mode=1,i.last=0,i.havedict=0,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(852),i.distcode=i.distdyn=new Int32Array(592),i.sane=1,i.back=-1,0):-2}(e)):-2}function Kie(e,t){var n,i;return e?(i=new kie,e.state=i,i.window=null,n=function(r,s){var a,o;return r&&r.state?(o=r.state,s<0?(a=0,s=-s):(a=1+(s>>4),s<48&&(s&=15)),s&&(s<8||s>15)?-2:(o.window!==null&&o.wbits!==s&&(o.window=null),o.wrap=a,o.wbits=s,Vie(r))):-2}(e,t),n!==0&&(e.state=null),n):-2}var w2,_2,BB=!0;function zie(e){if(BB){var t;for(w2=new Int32Array(512),_2=new Int32Array(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Gf(1,e.lens,0,288,w2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Gf(2,e.lens,0,32,_2,0,e.work,{bits:5}),BB=!1}e.lencode=w2,e.lenbits=9,e.distcode=_2,e.distbits=5}function P7(e,t,n,i){var r,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(Tl(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>i&&(r=i),Tl(s.window,t,n-i,r,s.wnext),(i-=r)?(Tl(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0}function Yie(e,t){var n,i,r,s,a,o,c,p,A,l,u,d,m,y,g,E,w,b,_,C,T,x,O,M,H=0,R=new Uint8Array(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return-2;(n=e.state).mode===12&&(n.mode=13),a=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,p=n.hold,A=n.bits,l=o,u=c,x=0;e:for(;;)switch(n.mode){case 1:if(n.wrap===0){n.mode=13;break}for(;A<16;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(2&n.wrap&&p===35615){n.check=0,R[0]=255&p,R[1]=p>>>8&255,n.check=Fa(n.check,R,2,0),p=0,A=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&p)!=8){e.msg="unknown compression method",n.mode=30;break}if(A-=4,T=8+(15&(p>>>=4)),n.wbits===0)n.wbits=T;else if(T>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<T,e.adler=n.check=1,n.mode=512&p?10:12,p=0,A=0;break;case 2:for(;A<16;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(n.flags=p,(255&n.flags)!=8){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(R[0]=255&p,R[1]=p>>>8&255,n.check=Fa(n.check,R,2,0)),p=0,A=0,n.mode=3;case 3:for(;A<32;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}n.head&&(n.head.time=p),512&n.flags&&(R[0]=255&p,R[1]=p>>>8&255,R[2]=p>>>16&255,R[3]=p>>>24&255,n.check=Fa(n.check,R,4,0)),p=0,A=0,n.mode=4;case 4:for(;A<16;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(R[0]=255&p,R[1]=p>>>8&255,n.check=Fa(n.check,R,2,0)),p=0,A=0,n.mode=5;case 5:if(1024&n.flags){for(;A<16;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(R[0]=255&p,R[1]=p>>>8&255,n.check=Fa(n.check,R,2,0)),p=0,A=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((d=n.length)>o&&(d=o),d&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Tl(n.head.extra,i,s,d,T)),512&n.flags&&(n.check=Fa(n.check,i,d,s)),o-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(o===0)break e;d=0;do T=i[s+d++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T));while(T&&d<o);if(512&n.flags&&(n.check=Fa(n.check,i,d,s)),o-=d,s+=d,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(o===0)break e;d=0;do T=i[s+d++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T));while(T&&d<o);if(512&n.flags&&(n.check=Fa(n.check,i,d,s)),o-=d,s+=d,T)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;A<16;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}p=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;A<32;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}e.adler=n.check=TB(p),p=0,A=0,n.mode=11;case 11:if(n.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=p,n.bits=A,2;e.adler=n.check=1,n.mode=12;case 12:if(t===5||t===6)break e;case 13:if(n.last){p>>>=7&A,A-=7&A,n.mode=27;break}for(;A<3;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}switch(n.last=1&p,A-=1,3&(p>>>=1)){case 0:n.mode=14;break;case 1:if(zie(n),n.mode=20,t===6){p>>>=2,A-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}p>>>=2,A-=2;break;case 14:for(p>>>=7&A,A-=7&A;A<32;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&p,p=0,A=0,n.mode=15,t===6)break e;case 15:n.mode=16;case 16:if(d=n.length){if(d>o&&(d=o),d>c&&(d=c),d===0)break e;Tl(r,i,s,d,a),o-=d,s+=d,c-=d,a+=d,n.length-=d;break}n.mode=12;break;case 17:for(;A<14;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(n.nlen=257+(31&p),p>>>=5,A-=5,n.ndist=1+(31&p),p>>>=5,A-=5,n.ncode=4+(15&p),p>>>=4,A-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;A<3;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}n.lens[D[n.have++]]=7&p,p>>>=3,A-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},x=Gf(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,x){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(H=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,w=65535&H,!((g=H>>>24)<=A);){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(w<16)p>>>=g,A-=g,n.lens[n.have++]=w;else{if(w===16){for(M=g+2;A<M;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(p>>>=g,A-=g,n.have===0){e.msg="invalid bit length repeat",n.mode=30;break}T=n.lens[n.have-1],d=3+(3&p),p>>>=2,A-=2}else if(w===17){for(M=g+3;A<M;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}A-=g,T=0,d=3+(7&(p>>>=g)),p>>>=3,A-=3}else{for(M=g+7;A<M;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}A-=g,T=0,d=11+(127&(p>>>=g)),p>>>=7,A-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;d--;)n.lens[n.have++]=T}}if(n.mode===30)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},x=Gf(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,x){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},x=Gf(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,x){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===6)break e;case 20:n.mode=21;case 21:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=p,n.bits=A,Uie(e,u),a=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,p=n.hold,A=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;E=(H=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,w=65535&H,!((g=H>>>24)<=A);){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(E&&(240&E)==0){for(b=g,_=E,C=w;E=(H=n.lencode[C+((p&(1<<b+_)-1)>>b)])>>>16&255,w=65535&H,!(b+(g=H>>>24)<=A);){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}p>>>=b,A-=b,n.back+=b}if(p>>>=g,A-=g,n.back+=g,n.length=w,E===0){n.mode=26;break}if(32&E){n.back=-1,n.mode=12;break}if(64&E){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(M=n.extra;A<M;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(H=n.distcode[p&(1<<n.distbits)-1])>>>16&255,w=65535&H,!((g=H>>>24)<=A);){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if((240&E)==0){for(b=g,_=E,C=w;E=(H=n.distcode[C+((p&(1<<b+_)-1)>>b)])>>>16&255,w=65535&H,!(b+(g=H>>>24)<=A);){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}p>>>=b,A-=b,n.back+=b}if(p>>>=g,A-=g,n.back+=g,64&E){e.msg="invalid distance code",n.mode=30;break}n.offset=w,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(M=n.extra;A<M;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(c===0)break e;if(d=u-c,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}d>n.wnext?(d-=n.wnext,m=n.wsize-d):m=n.wnext-d,d>n.length&&(d=n.length),y=n.window}else y=r,m=a-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do r[a++]=y[m++];while(--d);n.length===0&&(n.mode=21);break;case 26:if(c===0)break e;r[a++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;A<32;){if(o===0)break e;o--,p|=i[s++]<<A,A+=8}if(u-=c,e.total_out+=u,n.total+=u,u&&(e.adler=n.check=n.flags?Fa(n.check,r,u,a-u):D4(n.check,r,u,a-u)),u=c,(n.flags?p:TB(p))!==n.check){e.msg="incorrect data check",n.mode=30;break}p=0,A=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;A<32;){if(o===0)break e;o--,p+=i[s++]<<A,A+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}p=0,A=0}n.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;default:return-2}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,n.hold=p,n.bits=A,(n.wsize||u!==e.avail_out&&n.mode<30&&(n.mode<27||t!==4))&&P7(e,e.output,e.next_out,u-e.avail_out),l-=e.avail_in,u-=e.avail_out,e.total_in+=l,e.total_out+=u,n.total+=u,n.wrap&&u&&(e.adler=n.check=n.flags?Fa(n.check,r,u,e.next_out-u):D4(n.check,r,u,e.next_out-u)),e.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),(l===0&&u===0||t===4)&&x===0&&(x=-5),x}function Wie(e,t){var n,i=t.length;return e&&e.state?(n=e.state).wrap!==0&&n.mode!==11?-2:n.mode===11&&D4(1,t,i,0)!==n.check?-3:P7(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2}var U7=!0,H7=!0;try{String.fromCharCode.apply(null,[0])}catch{U7=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{H7=!1}for(var Pd=new Uint8Array(256),gc=0;gc<256;gc++)Pd[gc]=gc>=252?6:gc>=248?5:gc>=240?4:gc>=224?3:gc>=192?2:1;function $ie(e){var t,n,i,r,s,a=e.length,o=0;for(r=0;r<a;r++)(64512&(n=e.charCodeAt(r)))==55296&&r+1<a&&(64512&(i=e.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),r++),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,r=0;s<o;r++)(64512&(n=e.charCodeAt(r)))==55296&&r+1<a&&(64512&(i=e.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t}function jie(e,t){var n,i,r,s,a=t||e.length,o=new Array(2*a);for(i=0,n=0;n<a;)if((r=e[n++])<128)o[i++]=r;else if((s=Pd[r])>4)o[i++]=65533,n+=s-1;else{for(r&=s===2?31:s===3?15:7;s>1&&n<a;)r=r<<6|63&e[n++],s--;s>1?o[i++]=65533:r<65536?o[i++]=r:(r-=65536,o[i++]=55296|r>>10&1023,o[i++]=56320|1023&r)}return function(c,p){if(p<65537&&(c.subarray&&H7||!c.subarray&&U7))return String.fromCharCode.apply(null,N7(c,p));for(var A="",l=0;l<p;l++)A+=String.fromCharCode(c[l]);return A}(o,i)}function Xie(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&(192&e[n])==128;)n--;return n<0||n===0?t:n+Pd[e[n]]>t?n:t}Pd[254]=Pd[254]=1;var qie={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Zie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Jie(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var MB=Object.prototype.toString;function yl(e){if(!(this instanceof yl))return new yl(e);this.options=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var c=o.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var p in c)c.hasOwnProperty(p)&&(a[p]=c[p])}}return a}({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Zie,this.strm.avail_out=0;var n,i,r,s=Kie(this.strm,t.windowBits);if(s!==0)throw new Error(qie[s]);this.header=new Jie,n=this.strm,i=this.header,n&&n.state&&((2&(r=n.state).wrap)==0||(r.head=i,i.done=!1))}yl.prototype.push=function(e,t){var n,i,r,s,a,o,c=this.strm,p=this.options.chunkSize,A=this.options.dictionary,l=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?4:0,typeof e=="string"?c.input=function(u){for(var d=new Uint8Array(u.length),m=0,y=d.length;m<y;m++)d[m]=u.charCodeAt(m);return d}(e):MB.call(e)==="[object ArrayBuffer]"?c.input=new Uint8Array(e):c.input=e,c.next_in=0,c.avail_in=c.input.length;do{if(c.avail_out===0&&(c.output=new Uint8Array(p),c.next_out=0,c.avail_out=p),(n=Yie(c,0))===2&&A&&(o=typeof A=="string"?$ie(A):MB.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,n=Wie(this.strm,o)),n===-5&&l===!0&&(n=0,l=!1),n!==1&&n!==0)return this.onEnd(n),this.ended=!0,!1;c.next_out&&(c.avail_out!==0&&n!==1&&(c.avail_in!==0||i!==4&&i!==2)||(this.options.to==="string"?(r=Xie(c.output,c.next_out),s=c.next_out-r,a=jie(c.output,r),c.next_out=s,c.avail_out=p-s,s&&Tl(c.output,c.output,r,s,0),this.onData(a)):this.onData(N7(c.output,c.next_out)))),c.avail_in===0&&c.avail_out===0&&(l=!0)}while((c.avail_in>0||c.avail_out===0)&&n!==1);return n===1&&(i=4),i===4?(n=function(u){if(!u||!u.state)return-2;var d=u.state;return d.window&&(d.window=null),u.state=null,0}(this.strm),this.onEnd(n),this.ended=!0,n===0):i!==2||(this.onEnd(0),c.avail_out=0,!0)},yl.prototype.onData=function(e){this.chunks.push(e)},yl.prototype.onEnd=function(e){e===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=function(t){var n,i,r,s,a,o;for(r=0,n=0,i=t.length;n<i;n++)r+=t[n].length;for(o=new Uint8Array(r),s=0,n=0,i=t.length;n<i;n++)a=t[n],o.set(a,s),s+=a.length;return o}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},M_.add("gz",function(e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));try{t=function(n,i){var r=new yl(i);if(r.push(n,!0),r.err)throw r.msg;return r.result}(e)}catch{t=e}return t});var lu=function(){},v2="//mmtf.rcsb.org/v1.0/full/",ere=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r=Gi(n),s=r.name.substr(0,4);return!["pdb","cif"].includes(r.ext)||r.compressed!==!1&&r.compressed!=="gz"?r.ext==="mmtf"?i=r.base.endsWith(".bb")?"//mmtf.rcsb.org/v1.0/reduced/"+s:v2+s:(r.ext&&Be.warn("unsupported ext",r.ext),i=v2+s):i="//files.rcsb.org/download/"+r.path,C_()+i},t.prototype.getExt=function(n){var i=Gi(n).ext;return i||"mmtf"},t}(lu);Pp.add("rcsb",new ere);var SB="//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/",tre=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r=Gi(n),s=r.name;return r.ext&&r.ext!=="sdf"&&Be.warn("unsupported ext",r.ext),i=SB+s+"/SDF?record_type=3d",C_()+i},t.prototype.getExt=function(n){var i=Gi(n).ext;return i||"sdf"},t}(lu);Pp.add("pubchem",new tre);var C2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){return n},t.prototype.getExt=function(n){return Gi(n).ext},t}(lu);Pp.add("ftp",new C2),Pp.add("http",new C2),Pp.add("https",new C2);var OB="//alphafold.ebi.ac.uk/files/AF-",nre=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r=Gi(n),s=r.name;return r.ext&&r.ext!=="pdb"&&Be.warn("unsupported AF ext",r.ext),i=OB+s+"-F1-model_v2.pdb",C_()+i},t.prototype.getExt=function(n){var i=Gi(n).ext;return i||"pdb"},t}(lu);Pp.add("alphafold",new nre);var ire=/^((http|https|ftp):)*\/\//;(function(e){function t(n){n===void 0&&(n=""),e.call(this),this.baseUrl=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var i,r,s,a,o=Gi(n),c=this.baseUrl+o.path;return ire.test(this.baseUrl)||(i=c,r=window.location,s=r.pathname,a=s.substring(0,s.lastIndexOf("/")+1),c=r.origin+a+i),c},t.prototype.getExt=function(n){return Gi(n).ext},t})(lu);(function(e){function t(n){n===void 0&&(n=""),e.call(this),this.baseUrl=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getListing=function(n){n===void 0&&(n="");var i=this.baseUrl+"dir/"+n;return i[i.length-1]!=="/"&&(i+="/"),h4(i,{ext:"json"}).then(function(r){return{path:n,data:r.data}})},t.prototype.getUrl=function(n){var i=Gi(n);return this.baseUrl+"file/"+i.path+i.query},t.prototype.getCountUrl=function(n){var i=Gi(n);return this.baseUrl+"traj/numframes/"+i.path+i.query},t.prototype.getFrameUrl=function(n,i){var r=Gi(n);return this.baseUrl+"traj/frame/"+i+"/"+r.path+r.query},t.prototype.getFrameParams=function(n,i){return"atomIndices="+i.join(";")},t.prototype.getPathUrl=function(n,i){var r=Gi(n);return this.baseUrl+"traj/path/"+i+"/"+r.path+r.query},t.prototype.getExt=function(n){return Gi(n).ext},t})(lu);function LB(e,t){return{type:"integer",max:e,min:t}}function YA(e,t,n){return{type:"number",precision:e,max:t,min:n}}function WA(e,t,n){return{type:"range",step:e,max:t,min:n}}function rf(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return{type:"select",options:e.reduce(function(n,i){var r;return Object.assign(Object.assign({},n),((r={})[i]=i,r))},{})}}rf("auto","low","medium","high"),WA(1,5,-1),YA(1,10,0),YA(1,10,0),YA(1,10,0),WA(1,100,0),WA(1,100,0),LB(200,0),rf("scene","camera"),rf("relative","absolute"),WA(1,100,0),WA(1,100,0),rf("perspective","orthographic","stereo"),YA(3,1,.01),WA(1,120,15),YA(2,10,0),YA(2,10,0),LB(1e4,-1),rf.apply(void 0,Object.keys(s7));window.Promise||(window.Promise=yi);var lE,D7,uE,G7;class rre{constructor(t,n){n3(this,lE);n3(this,uE);this.config=t,this.config={...t},this.data=n,this.initStage()}initStage(){let t=this;document.getElementById(t.config.parentElement).innerHTML="",document.querySelector(".protein-tooltip")&&document.querySelector(".protein-tooltip").remove(),t.stage=new yn(t.config.parentElement,{backgroundColor:"#FFFFFF"}),t.resize();const n=document.createElement("div");n.className="protein-tooltip",document.body.appendChild(n),t.stage.mouseControls.remove("hoverPick"),t.stage.signals.hovered.add(function(i){var r;if(i&&i.atom){let s=i.atom;n.innerHTML=`<strong>Site:</strong> ${s.resno} </br > <strong>Residue:</strong> ${s.resname}${i3(r=t,lE,D7).call(r,s.resname)} </br > <strong>Chain:</strong> ${s.chainname}`,n.style.display="block"}else n.style.display="none"}),t.stage.viewer.container.addEventListener("mousemove",i=>{n.style.top=i.pageY-10+"px",n.style.left=i.pageX+10+"px"}),t.stage.viewer.container.addEventListener("mouseleave",()=>{n.style.display="none"}),t.load()}load(){let t=this;t.config.pdbID.length==4?(t.structure=`rcsb://${t.config.pdbID}`,t.loadConfig={}):(t.structure=new Blob([t.config.pdbID],{type:"text/plain"}),t.loadConfig={ext:"pdb"});let n=t.data[t.config.dataset].dataChains,i=t.data[t.config.dataset].excludeChains;n!="polymer"?(t.dataChainSelection=`:${n.join(" or :")}`,t.backgroundChainSelection=`not :${n.join(" and not :")}`,i!="none"&&(t.backgroundChainSelection+=` and not :${i.join(" and not :")}`)):(t.dataChainSelection="polymer",t.backgroundChainSelection="none"),t.stage.loadFile(t.structure,t.loadConfig).then(function(r){t.component=r,t.config.dispatch.on("updateSites",s=>{t.selectSites(s)}),t.updateRepresentation(),t.updateData(),t.stage.autoView()}).catch(function(r){console.error("Failed to load:",r)})}updateRepresentation(){let t=this;t.stage.getRepresentationsByName("dataChains").dispose(),t.component.addRepresentation(t.config.proteinRepresentation,{sele:t.dataChainSelection,color:t.config.proteinColor,opacity:t.config.proteinOpacity,name:"dataChains",smoothSheet:!0,side:"front"}),t.stage.getRepresentationsByName("backgroundChains").dispose(),t.backgroundChainSelection!="none"&&t.component.addRepresentation(t.config.backgroundRepresentation,{sele:t.backgroundChainSelection,color:t.config.backgroundColor,opacity:t.config.backgroundOpacity,name:"backgroundChains",smoothSheet:!0,side:"front"}),t.stage.getRepresentationsByName("ligands").dispose(),t.config.showGlycans&&t.component.addRepresentation(t.config.ligandRepresentation,{sele:"ligand and not protein",color:t.config.ligandColor,name:"ligands"}),t.currentSelectionSiteString!==void 0&&(t.stage.getRepresentationsByName("currentSelection").setParameters({opacity:t.config.selectionOpacity}),t.config.selectionRepresentation!==t.stage.getRepresentationsByName("currentSelection").list[0].repr.type&&t.selectSites(Y4(".selected").data()))}updateData(){let t=this;t.mutMetric=t.data[t.config.dataset].mut_metric_df,t.mutMetricSummary=b8(t.mutMetric).filter(s=>s.condition===t.config.proteinCondition),t.colorAccessor=s=>t.config.floor&&s[t.config.summary]<0?0:s[t.config.summary];const n=t.data[t.config.dataset].condition_colors[t.config.proteinCondition],i=mw(n),r=$A(t.mutMetricSummary,t.colorAccessor).map(Math.abs);t.config.floor?t.colorScale=Bc().domain([0,Ds(t.mutMetricSummary,t.colorAccessor)]).range(["white",n]):t.colorScale=Bc().domain([-Ds(r),0,Ds(r)]).range([i,"white",n]),t.colorMap=new Map(t.mutMetricSummary.map(s=>[parseInt(s.site_protein),t.colorScale(s[t.config.summary])])),t.schemeId=on.addScheme(function(){this.atomColor=s=>t.colorMap.has(s.resno)?parseInt(Qc(t.colorMap.get(s.resno)).formatHex().slice(1),16):parseInt(t.config.proteinColor.slice(1),16)}),t.currentSelectionSiteString!==void 0&&t.stage.getRepresentationsByName("currentSelection").setParameters({color:t.schemeId})}selectSites(t){let n=this,i=[];if(t.forEach(r=>{const s=r.site_protein,a=r.site_chain.split(" ");if(!isNaN(parseInt(s))){const o=a.map(c=>{var p;return i3(p=n,uE,G7).call(p,s,c)}).join(" or ");i.push(o)}}),n.currentSelectionSiteString=i.length?i.join(" or "):void 0,n.currentSelectionSiteString!==void 0)return n.stage.getRepresentationsByName("currentSelection").dispose(),n.component.addRepresentation(n.config.selectionRepresentation,{color:n.schemeId,opacity:n.config.selectionOpacity,roughness:1,name:"currentSelection",surfaceType:"av",side:"front",useWorker:!0}).setSelection(n.currentSelectionSiteString);n.stage.getRepresentationsByName("currentSelection").dispose()}resize(){let t=this;const n=window.innerHeight,i=document.querySelector(".header").offsetHeight,r=document.querySelector(".chart").offsetHeight,s=50,a=n-i-r-s;document.querySelector(".protein").style.height=`${a}px`,t.stage.handleResize()}clear(){this.stage.removeAllComponents()}saveImage(){let t=this;t.stage.makeImage({factor:4,antialias:!0,trim:!1,transparent:!1}).then(function(n){let i=new Date,r=i.getFullYear().toString()+"-"+(i.getMonth()+1).toString().padStart(2,"0")+"-"+i.getDate().toString().padStart(2,"0"),s=`${t.config.dataset}_${t.config.proteinCondition}_${r}.png`;bS(n,s)})}}lE=new WeakSet,D7=function(t){const i={ALA:"A",ARG:"R",ASN:"N",ASP:"D",CYS:"C",GLU:"E",GLN:"Q",GLY:"G",HIS:"H",ILE:"I",LEU:"L",LYS:"K",MET:"M",PHE:"F",PRO:"P",SER:"S",THR:"T",TRP:"W",TYR:"Y",VAL:"V",SEC:"U",PYL:"O"}[t.toUpperCase()];return i?` (${i})`:""},uE=new WeakSet,G7=function(t,n){return`${n!="polymer"?":":""}${n} and ${t} and protein`};class sre{constructor(t,n){this.config=t,this.config={parentElement:t.parentElement,dataset:t.dataset,proteinCondition:t.proteinCondition,chartConditions:t.chartConditions,label:t.label||"Condition"},this.data=JSON.parse(JSON.stringify(n)),this.initLegend()}initLegend(){let t=this;document.querySelector(this.config.parentElement).innerHTML="",t.margin={left:20,top:20,bottom:20,point:25},t.svg=Rt(t.config.parentElement).append("svg").attr("width","100%"),t.background=t.svg.append("rect").attr("x",0).attr("y",0).attr("width","100%").attr("fill","white").attr("ry",10),t.legend=t.svg.append("g").attr("class","condition-legend"),t.updateLegend()}updateLegend(){let t=this;if(t.data[t.config.dataset].legend){const n=document.querySelector("#condition-option label");n.textContent=t.config.label,document.getElementById("condition-option").style.display="block"}else{document.getElementById("condition-option").style.display="none";return}t.allConditions=Object.keys(t.data[t.config.dataset].condition_colors),t.conditionColors=t.data[t.config.dataset].condition_colors,t.config.height=(t.allConditions.length-1)*t.margin.point+t.margin.top+t.margin.bottom,t.svg.attr("height",t.config.height),t.background.attr("height",t.config.height),t.renderLegend()}renderLegend(){let t=this;t.legend.selectAll(".condition-box").data(t.allConditions,n=>n).join(n=>n.append("rect").attr("class","condition-box").attr("x",t.margin.left-t.margin.point/2).attr("y",(i,r)=>t.margin.top-10+r*t.margin.point).attr("width","calc(100% - 20px)").attr("height",20).style("opacity",i=>t.config.proteinCondition.includes(i)?".25":"0").attr("ry",4).style("fill",i=>t.conditionColors[i]).on("click",(i,r)=>{i.altKey&&t.config.chartConditions.includes(r)?t.deselectChartConditions(r):i.altKey&&!t.config.chartConditions.includes(r)?t.selectChartConditions(r):t.selectProteinCondition(r)}),n=>n.attr("y",(i,r)=>t.margin.top-10+r*t.margin.point).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.proteinCondition.includes(i)?".25":"0"),n=>n.remove()),t.legend.selectAll(".condition-circle").data(t.allConditions,n=>n).join(n=>n.append("circle").attr("class","condition-circle").attr("cx",t.margin.left).attr("cy",(i,r)=>t.margin.top+r*t.margin.point).attr("r",7).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2").on("click",(i,r)=>{i.altKey&&t.config.chartConditions.includes(r)?t.deselectChartConditions(r):i.altKey&&!t.config.chartConditions.includes(r)?t.selectChartConditions(r):t.selectProteinCondition(r)}),n=>n.attr("cy",(i,r)=>t.margin.top+r*t.margin.point).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2"),n=>n.remove()),t.legend.selectAll(".condition-label").data(t.allConditions,n=>n).join(n=>n.append("text").attr("class","condition-label").attr("x",t.margin.left*2).attr("y",(i,r)=>t.margin.top+r*t.margin.point).text(i=>`${i}`).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2").attr("text-anchor","left").style("alignment-baseline","middle").attr("dominant-baseline","middle").style("user-select","none").on("click",(i,r)=>{i.altKey&&t.config.chartConditions.includes(r)?t.deselectChartConditions(r):i.altKey&&!t.config.chartConditions.includes(r)?t.selectChartConditions(r):t.selectProteinCondition(r)}),n=>n.attr("y",(i,r)=>t.margin.top+r*t.margin.point).text(i=>`${i}`).style("fill",i=>t.conditionColors[i]).style("opacity",i=>t.config.chartConditions.includes(i)?"1":"0.2"),n=>n.remove())}selectProteinCondition(t){let n=this;if(!n.config.chartConditions.includes(t))return;n.legend.selectAll(".condition-box").style("opacity","0"),n.legend.selectAll(".condition-box").filter(function(r){return r==t}).style("opacity",".25"),n.config.proteinCondition=t;const i=new CustomEvent("proteinConditionSelected",{detail:n.config.proteinCondition});window.dispatchEvent(i)}selectChartConditions(t){let n=this;n.legend.selectAll(".condition-label").filter(function(r){return r==t}).style("opacity","1"),n.legend.selectAll(".condition-circle").filter(function(r){return r==t}).style("opacity","1"),n.config.chartConditions.push(t);const i=new CustomEvent("chartConditionsSelected",{detail:n.config.chartConditions});window.dispatchEvent(i)}deselectChartConditions(t){let n=this;if(n.config.chartConditions.length==1)return;n.config.chartConditions=n.config.chartConditions.filter(function(r){return r!=t}),n.config.proteinCondition==t&&n.selectProteinCondition(n.config.chartConditions[0]),n.legend.selectAll(".condition-label").filter(function(r){return r==t}).style("opacity",".25"),n.legend.selectAll(".condition-circle").filter(function(r){return r==t}).style("opacity",".25");const i=new CustomEvent("chartConditionsSelected",{detail:n.config.chartConditions});window.dispatchEvent(i)}}class are{constructor(t){this.data=t,this.initTool()}initTool(){let t=this;for(const n in t.data){t.data[n].condition_col===null?(t.data[n].conditions=["default"],t.data[n].legend=!1):(t.data[n].conditions=t.data[n].conditions.map(a=>a.toString()),t.data[n].legend=!0);const i=t.data[n].sitemap,r=t.data[n].metric_col,s=t.data[n].condition_col;t.data[n].mut_metric_df=t.data[n].mut_metric_df.map(a=>{const o=s!==null?a[s].toString():"default";return{...a,site:i[a.reference_site].sequential_site,site_reference:a.reference_site,site_protein:i[a.reference_site].protein_site,site_chain:i[a.reference_site].chains,metric:a[r],condition:o}})}t.dataset=Object.keys(t.data)[0],t.setState(),t.updateURLParams(),t.chart=new Dz({parentElement:"#chart",dataset:t.dataset,chartConditions:t.chartConditions,summary:t.summary,floor:t.floor,metric:t.data[t.dataset].metric_col,tooltips:t.data[t.dataset].tooltip_cols,filters:t.filters},t.data),t.legend=new sre({parentElement:"#legend",dataset:t.dataset,proteinCondition:t.proteinCondition,chartConditions:t.chartConditions,label:t.data[t.dataset].condition_col},t.data),t.protein=new rre({parentElement:"viewport",dataset:t.dataset,proteinCondition:t.proteinCondition,summary:t.summary,floor:t.floor,pdbID:t.data[t.dataset].pdb,dispatch:t.chart.dispatch,proteinRepresentation:t.proteinRepresentation,selectionRepresentation:t.selectionRepresentation,backgroundRepresentation:t.backgroundRepresentation,ligandRepresentation:t.ligandRepresentation,proteinColor:t.proteinColor,backgroundColor:t.backgroundColor,ligandColor:t.ligandColor,backgroundOpacity:t.backgroundOpacity,proteinOpacity:t.proteinOpacity,selectionOpacity:t.selectionOpacity,showGlycans:t.showGlycans},t.data),t.initSelect(Rt("#dataset"),Object.keys(t.data),t.dataset),t.initSelect(Rt("#summary"),["sum","mean","max","min"],t.summary),t.initCheckbox(Rt("#floor"),t.floor),t.initSelect(Rt("#proteinRepresentation"),["cartoon","rope","ball+stick"],t.proteinRepresentation),t.initSelect(Rt("#selectionRepresentation"),["spacefill","surface"],t.selectionRepresentation),t.initSelect(Rt("#backgroundRepresentation"),["rope","cartoon","ball+stick"],t.backgroundRepresentation),t.initSelect(Rt("#ligandRepresentation"),["spacefill","ball+stick"],t.ligandRepresentation),t.initCheckbox(Rt("#showGlycans"),t.showGlycans),t.initColorPicker(Rt("#proteinColor"),t.proteinColor),t.initColorPicker(Rt("#backgroundColor"),t.backgroundColor),t.initColorPicker(Rt("#ligandColor"),t.ligandColor),t.initRange(Rt("#proteinOpacity"),t.proteinOpacity),t.initRange(Rt("#selectionOpacity"),t.selectionOpacity),t.initRange(Rt("#backgroundOpacity"),t.backgroundOpacity),Rt("#filters").html(""),t.data[t.dataset].filter_cols&&Object.keys(t.data[t.dataset].filter_cols).forEach(n=>{t.initFilter(n,t.data[t.dataset].filter_cols[n],sf(t.data[t.dataset].mut_metric_df,i=>i[n]),Ds(t.data[t.dataset].mut_metric_df,i=>i[n]),t.filters[n])})}initSelect(t,n,i=n[0]){t.selectAll("option").data(n).join("option").attr("value",r=>r).text(r=>r).property("selected",r=>r===i)}initCheckbox(t,n=!0){t.property("checked",n)}initColorPicker(t,n="#D3D3D3"){t.attr("type","color").property("value",n)}initRange(t,n=1){typeof n=="string"&&(n=parseFloat(n)),t.attr("type","range").attr("min",0).attr("max",1).attr("step",.01).property("value",n)}initFilter(t,n,i,r,s){let a=this,o=Rt("#filters");o.append("label").attr("for",t).style("display","block").text(n),o.append("input").attr("type","range").attr("id",t).attr("min",i).attr("max",r).attr("value",s).attr("step",(r-i)/100).on("input",function(){a.updateFilter(this)}),o.append("span").attr("class","output").attr("id",`${t}-output`).text(Sp(".2f")(s))}updateSelectedDataset(t){let n=this;n.dataset=Rt(t).property("value"),n.chart.config.dataset=n.dataset,n.protein.config.dataset=n.dataset,n.legend.config.dataset=n.dataset,n.chartConditions=n.data[n.dataset].conditions,n.proteinCondition=n.chartConditions[0],n.chart.config.chartConditions=n.chartConditions,n.legend.config.chartConditions=n.chartConditions,n.protein.config.proteinCondition=n.proteinCondition,n.legend.config.proteinCondition=n.proteinCondition,n.filters={},n.data[n.dataset].filter_cols&&(n.filters=Object.keys(n.data[n.dataset].filter_cols).reduce((i,r)=>({...i,[r]:sf(n.data[n.dataset].mut_metric_df,s=>s[r])}),{})),Rt("#filters").html(""),n.data[n.dataset].filter_cols&&Object.keys(n.data[n.dataset].filter_cols).forEach(i=>{n.initFilter(i,n.data[n.dataset].filter_cols[i],sf(n.data[n.dataset].mut_metric_df,r=>r[i]),Ds(n.data[n.dataset].mut_metric_df,r=>r[i]),n.filters[i])}),n.chart.config.filters=n.filters,n.chart.deselectSites(),n.chart.updateVis(),n.legend.updateLegend(),n.data[n.dataset].pdb!==n.protein.config.pdbID&&(n.protein.config.pdbID=n.data[n.dataset].pdb,n.protein.clear(),n.protein.load()),n.updateURLParams()}updateChartOptions(t){let n=this;const i=Rt(t),r=i.attr("id"),s=i.property(r=="floor"?"checked":"value");n[r]=s,n.chart.config[r]=s,n.protein.config[r]=s,n.chart.updateVis(),n.protein.updateData(),n.updateURLParams()}updateProteinOptions(t){let n=this;const i=Rt(t),r=i.attr("id"),s=i.property(r=="showGlycans"?"checked":"value");n[r]=s,n.protein.config[r]=s,n.protein.updateRepresentation(),n.updateURLParams()}updateProteinCondition(t){let n=this;n.proteinCondition=t,n.protein.config.proteinCondition=t,n.protein.updateData(),n.updateURLParams()}updateChartConditions(t){let n=this;n.chartConditions=t,n.chart.config.chartConditions=t,n.chart.updateVis(),n.updateURLParams()}updateFilter(t){let n=this;const i=Rt(t),r=i.attr("id"),s=parseFloat(i.property("value"));Rt(`#${r}-output`).text(Sp(".2f")(s)),n.filters[r]=s,n.chart.config.filters=n.filters,n.chart.updateVis(),n.protein.updateData(),n.protein.selectSites(Y4(".selected").data()),n.updateURLParams()}setState(){let t=this;t.defaultParams={dataset:{abbrev:"e",default:t.dataset,json:!1},proteinCondition:{abbrev:"pe",default:t.data[t.dataset].conditions[0],json:!1},chartConditions:{abbrev:"ce",default:t.data[t.dataset].conditions,json:!0},summary:{abbrev:"s",default:"sum",json:!1},floor:{abbrev:"f",default:!0,json:!1},proteinRepresentation:{abbrev:"pr",default:"cartoon",json:!1},selectionRepresentation:{abbrev:"sr",default:"spacefill",json:!1},backgroundRepresentation:{abbrev:"br",default:"rope",json:!1},ligandRepresentation:{abbrev:"lr",default:"spacefill",json:!1},proteinColor:{nabbrevame:"pc",default:"#d3d3d3",json:!1},backgroundColor:{abbrev:"bc",default:"#d3d3d3",json:!1},ligandColor:{abbrev:"lc",default:"#d3d3d3",json:!1},proteinOpacity:{abbrev:"po",default:"1",json:!1},selectionOpacity:{abbrev:"so",default:"1",json:!1},backgroundOpacity:{abbrev:"bo",default:"1",json:!1},showGlycans:{abbrev:"g",default:!1,json:!1},filters:{abbrev:"fi",default:t.data[t.dataset].filter_cols?Object.keys(t.data[t.dataset].filter_cols).reduce((i,r)=>({...i,[r]:sf(t.data[t.dataset].mut_metric_df,s=>s[r])}),{}):{},json:!0}};const n=new URLSearchParams(window.location.search);for(const i in t.defaultParams)if(n.has(t.defaultParams[i].abbrev))if(t.defaultParams[i].json){let r=JSON.parse(decodeURIComponent(n.get(t.defaultParams[i].abbrev)));t[i]=r}else{let r=n.get(t.defaultParams[i].abbrev);r==="true"?t[i]=!0:r==="false"?t[i]=!1:t[i]=r}else typeof t.defaultParams[i].default=="object"?t[i]=nm.exports.cloneDeep(t.defaultParams[i].default):t[i]=t.defaultParams[i].default}updateURLParams(){let t=this;const n=new URLSearchParams(window.location.search);if(!!n.has("data")){for(const i in t.defaultParams){const r=t.defaultParams[i].abbrev,s=t[i],a=t.defaultParams[i].default;if(!nm.exports.isEqual(s,a)){t.defaultParams[i].json?n.set(r,encodeURIComponent(JSON.stringify(s))):n.set(r,s);continue}n.has(r)&&n.delete(r)}window.history.replaceState({},"",`${location.pathname}?${n}`)}}}const b2={"SARS2 RBD":{mut_metric_df:[{mutant:"A",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:1.701,reference_site:331,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:2.62,reference_site:331,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:331,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"C",Epitope:"class 1",Escape:2.69,reference_site:332,wildtype:"I"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"H",Epitope:"class 1",Escape:1.424,reference_site:332,wildtype:"I"},{mutant:"K",Epitope:"class 1",Escape:1.943,reference_site:332,wildtype:"I"},{mutant:"L",Epitope:"class 1",Escape:1.74,reference_site:332,wildtype:"I"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"N",Epitope:"class 1",Escape:1.21,reference_site:332,wildtype:"I"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"R",Epitope:"class 1",Escape:1.216,reference_site:332,wildtype:"I"},{mutant:"S",Epitope:"class 1",Escape:1.406,reference_site:332,wildtype:"I"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:332,wildtype:"I"},{mutant:"Y",Epitope:"class 1",Escape:3.297,reference_site:332,wildtype:"I"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:2.603,reference_site:333,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:2.401,reference_site:333,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:333,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:1.218,reference_site:333,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:1.662,reference_site:334,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:1.415,reference_site:334,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:1.311,reference_site:334,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:1.808,reference_site:334,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:1.248,reference_site:334,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:334,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:1.354,reference_site:334,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"H",Epitope:"class 1",Escape:1.598,reference_site:335,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"S",Epitope:"class 1",Escape:1.355,reference_site:335,wildtype:"L"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"W",Epitope:"class 1",Escape:1.56,reference_site:335,wildtype:"L"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:335,wildtype:"L"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:336,wildtype:"C"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"E",Epitope:"class 1",Escape:3.089,reference_site:337,wildtype:"P"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"H",Epitope:"class 1",Escape:1.95,reference_site:337,wildtype:"P"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"L",Epitope:"class 1",Escape:1.29,reference_site:337,wildtype:"P"},{mutant:"M",Epitope:"class 1",Escape:2.005,reference_site:337,wildtype:"P"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"R",Epitope:"class 1",Escape:1.26,reference_site:337,wildtype:"P"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:337,wildtype:"P"},{mutant:"T",Epitope:"class 1",Escape:2.154,reference_site:337,wildtype:"P"},{mutant:"I",Epitope:"class 1",Escape:3.378,reference_site:338,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:1.312,reference_site:338,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:338,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:338,wildtype:"F"},{mutant:"Y",Epitope:"class 1",Escape:1.93,reference_site:338,wildtype:"F"},{mutant:"A",Epitope:"class 1",Escape:1.631,reference_site:339,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"M",Epitope:"class 1",Escape:1.94,reference_site:339,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:1.92,reference_site:339,wildtype:"G"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:1.672,reference_site:339,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:339,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:1.478,reference_site:340,wildtype:"E"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:340,wildtype:"E"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:340,wildtype:"E"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:340,wildtype:"E"},{mutant:"L",Epitope:"class 1",Escape:1.689,reference_site:340,wildtype:"E"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:340,wildtype:"E"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:340,wildtype:"E"},{mutant:"P",Epitope:"class 1",Escape:1.782,reference_site:340,wildtype:"E"},{mutant:"Q",Epitope:"class 1",Escape:2.934,reference_site:340,wildtype:"E"},{mutant:"S",Epitope:"class 1",Escape:3.29,reference_site:340,wildtype:"E"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:340,wildtype:"E"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:341,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:341,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:342,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:1.427,reference_site:342,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:342,wildtype:"F"},{mutant:"E",Epitope:"class 1",Escape:3.048,reference_site:344,wildtype:"A"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:344,wildtype:"A"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:344,wildtype:"A"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:344,wildtype:"A"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:344,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:344,wildtype:"A"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:345,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:1.505,reference_site:345,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:1.782,reference_site:345,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:345,wildtype:"T"},{mutant:"P",Epitope:"class 1",Escape:1.394,reference_site:345,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:1.633,reference_site:345,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:345,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"H",Epitope:"class 1",Escape:3.669,reference_site:346,wildtype:"R"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"K",Epitope:"class 1",Escape:2.548,reference_site:346,wildtype:"R"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:346,wildtype:"R"},{mutant:"W",Epitope:"class 1",Escape:3.384,reference_site:347,wildtype:"F"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:348,wildtype:"A"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:348,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:2.136,reference_site:348,wildtype:"A"},{mutant:"H",Epitope:"class 1",Escape:2.581,reference_site:348,wildtype:"A"},{mutant:"K",Epitope:"class 1",Escape:1.651,reference_site:348,wildtype:"A"},{mutant:"N",Epitope:"class 1",Escape:1.697,reference_site:348,wildtype:"A"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:348,wildtype:"A"},{mutant:"Q",Epitope:"class 1",Escape:2.31,reference_site:348,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:348,wildtype:"A"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:348,wildtype:"A"},{mutant:"N",Epitope:"class 1",Escape:2.769,reference_site:349,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:1.862,reference_site:349,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:1.383,reference_site:351,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:2.459,reference_site:352,wildtype:"A"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:352,wildtype:"A"},{mutant:"Y",Epitope:"class 1",Escape:1.358,reference_site:352,wildtype:"A"},{mutant:"F",Epitope:"class 1",Escape:3.25,reference_site:353,wildtype:"W"},{mutant:"A",Epitope:"class 1",Escape:1.79,reference_site:354,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:1.577,reference_site:354,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:354,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:354,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:354,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:2.146,reference_site:354,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:1.491,reference_site:354,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:1.937,reference_site:354,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:1.281,reference_site:354,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:1.93,reference_site:356,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:356,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:1.355,reference_site:356,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:2.344,reference_site:356,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:356,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:356,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:1.427,reference_site:356,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:2.04,reference_site:356,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:356,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:356,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:356,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:356,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:2.626,reference_site:356,wildtype:"K"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"C",Epitope:"class 1",Escape:4.034,reference_site:357,wildtype:"R"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"L",Epitope:"class 1",Escape:2.089,reference_site:357,wildtype:"R"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"P",Epitope:"class 1",Escape:1.751,reference_site:357,wildtype:"R"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"S",Epitope:"class 1",Escape:2.441,reference_site:357,wildtype:"R"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:357,wildtype:"R"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:358,wildtype:"I"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:358,wildtype:"I"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:358,wildtype:"I"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:358,wildtype:"I"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:358,wildtype:"I"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:358,wildtype:"I"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:358,wildtype:"I"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:1.921,reference_site:359,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:1.988,reference_site:359,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:1.42,reference_site:359,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:1.701,reference_site:359,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:2.316,reference_site:359,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:2.633,reference_site:359,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:2.381,reference_site:359,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:3.918,reference_site:359,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:359,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:360,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:360,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:360,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:2.213,reference_site:360,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:2.078,reference_site:360,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:360,wildtype:"N"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:361,wildtype:"C"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:361,wildtype:"C"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:1.752,reference_site:362,wildtype:"V"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:1.852,reference_site:362,wildtype:"V"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"S",Epitope:"class 1",Escape:2.517,reference_site:362,wildtype:"V"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"W",Epitope:"class 1",Escape:1.437,reference_site:362,wildtype:"V"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:362,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:1.984,reference_site:363,wildtype:"A"},{mutant:"H",Epitope:"class 1",Escape:4.475,reference_site:363,wildtype:"A"},{mutant:"I",Epitope:"class 1",Escape:2.366,reference_site:363,wildtype:"A"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"Q",Epitope:"class 1",Escape:2.659,reference_site:363,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"T",Epitope:"class 1",Escape:1.394,reference_site:363,wildtype:"A"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:363,wildtype:"A"},{mutant:"A",Epitope:"class 1",Escape:1.589,reference_site:365,wildtype:"Y"},{mutant:"C",Epitope:"class 1",Escape:1.779,reference_site:365,wildtype:"Y"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"G",Epitope:"class 1",Escape:2.872,reference_site:365,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"P",Epitope:"class 1",Escape:2.076,reference_site:365,wildtype:"Y"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:1.51,reference_site:366,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:1.842,reference_site:366,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:1.736,reference_site:366,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:1.218,reference_site:366,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:2.177,reference_site:366,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:1.73,reference_site:366,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:1.813,reference_site:366,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:366,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"D",Epitope:"class 1",Escape:2.241,reference_site:367,wildtype:"V"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"H",Epitope:"class 1",Escape:1.239,reference_site:367,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"N",Epitope:"class 1",Escape:1.854,reference_site:367,wildtype:"V"},{mutant:"P",Epitope:"class 1",Escape:1.988,reference_site:367,wildtype:"V"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:367,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:1.694,reference_site:368,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:368,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:368,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:368,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:1.801,reference_site:369,wildtype:"Y"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"D",Epitope:"class 1",Escape:1.872,reference_site:369,wildtype:"Y"},{mutant:"E",Epitope:"class 1",Escape:1.962,reference_site:369,wildtype:"Y"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"N",Epitope:"class 1",Escape:1.77,reference_site:369,wildtype:"Y"},{mutant:"P",Epitope:"class 1",Escape:1.921,reference_site:369,wildtype:"Y"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:3.062,reference_site:370,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:370,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:1.985,reference_site:371,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:1.311,reference_site:371,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:1.763,reference_site:371,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:1.761,reference_site:371,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:371,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:1.575,reference_site:371,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:1.7,reference_site:371,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:1.434,reference_site:371,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:2.325,reference_site:372,wildtype:"A"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"H",Epitope:"class 1",Escape:2.549,reference_site:372,wildtype:"A"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"V",Epitope:"class 1",Escape:1.232,reference_site:372,wildtype:"A"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:372,wildtype:"A"},{mutant:"A",Epitope:"class 1",Escape:1.467,reference_site:373,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:1.703,reference_site:373,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:373,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:374,wildtype:"F"},{mutant:"D",Epitope:"class 1",Escape:1.603,reference_site:374,wildtype:"F"},{mutant:"H",Epitope:"class 1",Escape:3.545,reference_site:374,wildtype:"F"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:374,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:1.548,reference_site:374,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:374,wildtype:"F"},{mutant:"N",Epitope:"class 1",Escape:2.082,reference_site:374,wildtype:"F"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:374,wildtype:"F"},{mutant:"T",Epitope:"class 1",Escape:1.688,reference_site:374,wildtype:"F"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:374,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:374,wildtype:"F"},{mutant:"Y",Epitope:"class 1",Escape:1.353,reference_site:374,wildtype:"F"},{mutant:"A",Epitope:"class 1",Escape:1.918,reference_site:375,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:375,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:375,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:375,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:1.273,reference_site:375,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:375,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:375,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:375,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:375,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:2.682,reference_site:376,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:1.421,reference_site:376,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:376,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:2.175,reference_site:376,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:377,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:377,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:377,wildtype:"F"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:377,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:1.734,reference_site:377,wildtype:"F"},{mutant:"A",Epitope:"class 1",Escape:1.574,reference_site:378,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:3.129,reference_site:378,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:378,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:1.887,reference_site:378,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:1.367,reference_site:378,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:1.361,reference_site:378,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:378,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:378,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:378,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:378,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:1.343,reference_site:378,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:378,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:378,wildtype:"K"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:380,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:380,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:381,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:381,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:381,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:381,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:381,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:2.479,reference_site:381,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:382,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:382,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:2.027,reference_site:382,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:382,wildtype:"V"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:382,wildtype:"V"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:382,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:2.397,reference_site:383,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:2.85,reference_site:383,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:1.333,reference_site:383,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:2.76,reference_site:383,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:2.219,reference_site:383,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:1.765,reference_site:383,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:383,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"G",Epitope:"class 1",Escape:1.425,reference_site:384,wildtype:"P"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"M",Epitope:"class 1",Escape:1.714,reference_site:384,wildtype:"P"},{mutant:"N",Epitope:"class 1",Escape:1.411,reference_site:384,wildtype:"P"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"T",Epitope:"class 1",Escape:1.539,reference_site:384,wildtype:"P"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"W",Epitope:"class 1",Escape:1.948,reference_site:384,wildtype:"P"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:384,wildtype:"P"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:1.508,reference_site:385,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:2.309,reference_site:385,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:1.288,reference_site:385,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:2.503,reference_site:385,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"P",Epitope:"class 1",Escape:2.122,reference_site:385,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:1.706,reference_site:385,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:385,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:2.278,reference_site:385,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:2.369,reference_site:386,wildtype:"K"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:1.694,reference_site:386,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:1.497,reference_site:386,wildtype:"K"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:1.893,reference_site:386,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:1.344,reference_site:386,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:386,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:1.246,reference_site:386,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:1.681,reference_site:386,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:387,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:387,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:1.819,reference_site:388,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:2.074,reference_site:388,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:1.243,reference_site:388,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:1.664,reference_site:388,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:1.317,reference_site:388,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:388,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:1.288,reference_site:389,wildtype:"D"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"E",Epitope:"class 1",Escape:1.383,reference_site:389,wildtype:"D"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"G",Epitope:"class 1",Escape:1.412,reference_site:389,wildtype:"D"},{mutant:"H",Epitope:"class 1",Escape:1.65,reference_site:389,wildtype:"D"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"L",Epitope:"class 1",Escape:1.232,reference_site:389,wildtype:"D"},{mutant:"M",Epitope:"class 1",Escape:1.975,reference_site:389,wildtype:"D"},{mutant:"N",Epitope:"class 1",Escape:3.834,reference_site:389,wildtype:"D"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"T",Epitope:"class 1",Escape:1.437,reference_site:389,wildtype:"D"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:389,wildtype:"D"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"C",Epitope:"class 1",Escape:1.76,reference_site:390,wildtype:"L"},{mutant:"D",Epitope:"class 1",Escape:2.311,reference_site:390,wildtype:"L"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"K",Epitope:"class 1",Escape:2.063,reference_site:390,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:2.213,reference_site:390,wildtype:"L"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"S",Epitope:"class 1",Escape:1.747,reference_site:390,wildtype:"L"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:390,wildtype:"L"},{mutant:"Y",Epitope:"class 1",Escape:1.592,reference_site:390,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"M",Epitope:"class 1",Escape:1.665,reference_site:391,wildtype:"C"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"R",Epitope:"class 1",Escape:1.442,reference_site:391,wildtype:"C"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"T",Epitope:"class 1",Escape:2.017,reference_site:391,wildtype:"C"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"W",Epitope:"class 1",Escape:1.825,reference_site:391,wildtype:"C"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:391,wildtype:"C"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"P",Epitope:"class 1",Escape:2.908,reference_site:392,wildtype:"F"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:392,wildtype:"F"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:1.207,reference_site:393,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:1.805,reference_site:393,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:1.447,reference_site:393,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:2.128,reference_site:393,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:1.724,reference_site:393,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:2.543,reference_site:393,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:1.792,reference_site:393,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:393,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:1.763,reference_site:394,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:1.246,reference_site:394,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:1.979,reference_site:394,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:2.117,reference_site:394,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:3.216,reference_site:394,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:1.595,reference_site:394,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:2.201,reference_site:394,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:394,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:1.788,reference_site:395,wildtype:"V"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:395,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:395,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:395,wildtype:"V"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:395,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:1.725,reference_site:396,wildtype:"Y"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:2.081,reference_site:396,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"S",Epitope:"class 1",Escape:3.638,reference_site:396,wildtype:"Y"},{mutant:"T",Epitope:"class 1",Escape:3.299,reference_site:396,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:397,wildtype:"A"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:397,wildtype:"A"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:397,wildtype:"A"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:397,wildtype:"A"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:399,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:401,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:3.496,reference_site:402,wildtype:"I"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:402,wildtype:"I"},{mutant:"V",Epitope:"class 1",Escape:1.726,reference_site:402,wildtype:"I"},{mutant:"A",Epitope:"class 1",Escape:2.152,reference_site:403,wildtype:"R"},{mutant:"K",Epitope:"class 1",Escape:2.777,reference_site:403,wildtype:"R"},{mutant:"M",Epitope:"class 1",Escape:2.247,reference_site:403,wildtype:"R"},{mutant:"S",Epitope:"class 1",Escape:2.034,reference_site:403,wildtype:"R"},{mutant:"T",Epitope:"class 1",Escape:1.981,reference_site:403,wildtype:"R"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:404,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:1.42,reference_site:404,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:405,wildtype:"D"},{mutant:"E",Epitope:"class 1",Escape:5.194,reference_site:405,wildtype:"D"},{mutant:"K",Epitope:"class 1",Escape:8.068,reference_site:405,wildtype:"D"},{mutant:"N",Epitope:"class 1",Escape:5.906,reference_site:405,wildtype:"D"},{mutant:"R",Epitope:"class 1",Escape:10.85,reference_site:405,wildtype:"D"},{mutant:"S",Epitope:"class 1",Escape:3.826,reference_site:405,wildtype:"D"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:406,wildtype:"E"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:406,wildtype:"E"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:406,wildtype:"E"},{mutant:"I",Epitope:"class 1",Escape:3.169,reference_site:407,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:407,wildtype:"V"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"E",Epitope:"class 1",Escape:2.375,reference_site:408,wildtype:"R"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"H",Epitope:"class 1",Escape:3.227,reference_site:408,wildtype:"R"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"T",Epitope:"class 1",Escape:3.183,reference_site:408,wildtype:"R"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:408,wildtype:"R"},{mutant:"W",Epitope:"class 1",Escape:5.262,reference_site:408,wildtype:"R"},{mutant:"E",Epitope:"class 1",Escape:1.904,reference_site:409,wildtype:"Q"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:410,wildtype:"I"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:411,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:3.605,reference_site:411,wildtype:"A"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:411,wildtype:"A"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:411,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:1.628,reference_site:411,wildtype:"A"},{mutant:"A",Epitope:"class 1",Escape:2.608,reference_site:413,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:413,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:413,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:413,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:2.635,reference_site:413,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:2.432,reference_site:413,wildtype:"G"},{mutant:"M",Epitope:"class 1",Escape:2.887,reference_site:413,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:413,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:413,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:1.823,reference_site:413,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:1.604,reference_site:413,wildtype:"G"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:413,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:2.277,reference_site:414,wildtype:"Q"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"E",Epitope:"class 1",Escape:2.029,reference_site:414,wildtype:"Q"},{mutant:"G",Epitope:"class 1",Escape:2.709,reference_site:414,wildtype:"Q"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"T",Epitope:"class 1",Escape:1.567,reference_site:414,wildtype:"Q"},{mutant:"V",Epitope:"class 1",Escape:1.329,reference_site:414,wildtype:"Q"},{mutant:"A",Epitope:"class 1",Escape:2.599,reference_site:415,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:5.617,reference_site:415,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:2.404,reference_site:415,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:7.813,reference_site:415,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:415,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:415,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:415,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:415,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:2.73,reference_site:415,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:415,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:2.438,reference_site:415,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:2.318,reference_site:415,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:415,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:1.512,reference_site:415,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:12.37,reference_site:417,wildtype:"K"},{mutant:"C",Epitope:"class 1",Escape:10.8,reference_site:417,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:12.3,reference_site:417,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:11.47,reference_site:417,wildtype:"K"},{mutant:"F",Epitope:"class 1",Escape:11.7,reference_site:417,wildtype:"K"},{mutant:"G",Epitope:"class 1",Escape:11.77,reference_site:417,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:11.21,reference_site:417,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:12.78,reference_site:417,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:12.13,reference_site:417,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:10.1,reference_site:417,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:12.5,reference_site:417,wildtype:"K"},{mutant:"P",Epitope:"class 1",Escape:11.51,reference_site:417,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:9.414,reference_site:417,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:4.697,reference_site:417,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:10.72,reference_site:417,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:11.17,reference_site:417,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:12.3,reference_site:417,wildtype:"K"},{mutant:"W",Epitope:"class 1",Escape:11.11,reference_site:417,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:11.81,reference_site:417,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:418,wildtype:"I"},{mutant:"P",Epitope:"class 1",Escape:1.225,reference_site:419,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:419,wildtype:"A"},{mutant:"A",Epitope:"class 1",Escape:11.26,reference_site:420,wildtype:"D"},{mutant:"E",Epitope:"class 1",Escape:11.2,reference_site:420,wildtype:"D"},{mutant:"K",Epitope:"class 1",Escape:11.12,reference_site:420,wildtype:"D"},{mutant:"M",Epitope:"class 1",Escape:11.54,reference_site:420,wildtype:"D"},{mutant:"N",Epitope:"class 1",Escape:11.67,reference_site:420,wildtype:"D"},{mutant:"Q",Epitope:"class 1",Escape:11.99,reference_site:420,wildtype:"D"},{mutant:"R",Epitope:"class 1",Escape:11.33,reference_site:420,wildtype:"D"},{mutant:"S",Epitope:"class 1",Escape:9.211,reference_site:420,wildtype:"D"},{mutant:"F",Epitope:"class 1",Escape:1.713,reference_site:421,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:9.311,reference_site:421,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:3.206,reference_site:421,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:11.72,reference_site:421,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:424,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:3.645,reference_site:424,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:425,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:425,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:425,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"E",Epitope:"class 1",Escape:1.592,reference_site:427,wildtype:"D"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"G",Epitope:"class 1",Escape:2.988,reference_site:427,wildtype:"D"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"I",Epitope:"class 1",Escape:3.296,reference_site:427,wildtype:"D"},{mutant:"K",Epitope:"class 1",Escape:2.795,reference_site:427,wildtype:"D"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"N",Epitope:"class 1",Escape:2.549,reference_site:427,wildtype:"D"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"Q",Epitope:"class 1",Escape:4.618,reference_site:427,wildtype:"D"},{mutant:"R",Epitope:"class 1",Escape:3.454,reference_site:427,wildtype:"D"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"V",Epitope:"class 1",Escape:2.384,reference_site:427,wildtype:"D"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:427,wildtype:"D"},{mutant:"A",Epitope:"class 1",Escape:1.411,reference_site:428,wildtype:"D"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:428,wildtype:"D"},{mutant:"G",Epitope:"class 1",Escape:2.762,reference_site:428,wildtype:"D"},{mutant:"H",Epitope:"class 1",Escape:1.244,reference_site:428,wildtype:"D"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:428,wildtype:"D"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:428,wildtype:"D"},{mutant:"P",Epitope:"class 1",Escape:3.698,reference_site:428,wildtype:"D"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:428,wildtype:"D"},{mutant:"R",Epitope:"class 1",Escape:1.273,reference_site:428,wildtype:"D"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:428,wildtype:"D"},{mutant:"T",Epitope:"class 1",Escape:1.474,reference_site:428,wildtype:"D"},{mutant:"W",Epitope:"class 1",Escape:2.2,reference_site:429,wildtype:"F"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:1.581,reference_site:430,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:1.927,reference_site:430,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:1.767,reference_site:430,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:2.606,reference_site:430,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:1.382,reference_site:430,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:2.2,reference_site:430,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"W",Epitope:"class 1",Escape:2.451,reference_site:430,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:430,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:433,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:434,wildtype:"I"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:434,wildtype:"I"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:434,wildtype:"I"},{mutant:"V",Epitope:"class 1",Escape:1.397,reference_site:434,wildtype:"I"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:434,wildtype:"I"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:434,wildtype:"I"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:435,wildtype:"A"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:435,wildtype:"A"},{mutant:"P",Epitope:"class 1",Escape:1.946,reference_site:437,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:438,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:438,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:439,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:439,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:1.622,reference_site:439,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:2.556,reference_site:439,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:439,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:439,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:1.401,reference_site:439,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:439,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:439,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:1.451,reference_site:440,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:1.544,reference_site:440,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:1.587,reference_site:440,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:2.516,reference_site:440,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:2.55,reference_site:440,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:1.283,reference_site:440,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:2.286,reference_site:440,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:440,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:1.987,reference_site:440,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:441,wildtype:"L"},{mutant:"F",Epitope:"class 1",Escape:1.409,reference_site:441,wildtype:"L"},{mutant:"H",Epitope:"class 1",Escape:4.57,reference_site:441,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:441,wildtype:"L"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:441,wildtype:"L"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:441,wildtype:"L"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:441,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:441,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:2.676,reference_site:443,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:443,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:443,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:443,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:443,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:443,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:443,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:1.566,reference_site:443,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:1.283,reference_site:444,wildtype:"K"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:1.329,reference_site:444,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:444,wildtype:"K"},{mutant:"A",Epitope:"class 1",Escape:1.498,reference_site:445,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:3.51,reference_site:445,wildtype:"V"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"E",Epitope:"class 1",Escape:1.221,reference_site:445,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"K",Epitope:"class 1",Escape:1.375,reference_site:445,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"M",Epitope:"class 1",Escape:2.018,reference_site:445,wildtype:"V"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"P",Epitope:"class 1",Escape:2.857,reference_site:445,wildtype:"V"},{mutant:"Q",Epitope:"class 1",Escape:1.461,reference_site:445,wildtype:"V"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"W",Epitope:"class 1",Escape:3.693,reference_site:445,wildtype:"V"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:445,wildtype:"V"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:1.294,reference_site:446,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:2.549,reference_site:446,wildtype:"G"},{mutant:"M",Epitope:"class 1",Escape:2.82,reference_site:446,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"P",Epitope:"class 1",Escape:2.468,reference_site:446,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"W",Epitope:"class 1",Escape:3.347,reference_site:446,wildtype:"G"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:446,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:1.226,reference_site:447,wildtype:"G"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:1.511,reference_site:447,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:447,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:1.497,reference_site:448,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:1.24,reference_site:448,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:448,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:1.285,reference_site:449,wildtype:"Y"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"F",Epitope:"class 1",Escape:1.356,reference_site:449,wildtype:"Y"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"R",Epitope:"class 1",Escape:1.312,reference_site:449,wildtype:"Y"},{mutant:"S",Epitope:"class 1",Escape:1.987,reference_site:449,wildtype:"Y"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:1.458,reference_site:449,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:1.224,reference_site:449,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:2.616,reference_site:450,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:1.391,reference_site:450,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:1.311,reference_site:450,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:1.495,reference_site:450,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:1.973,reference_site:450,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:1.914,reference_site:450,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:1.785,reference_site:450,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:2.463,reference_site:450,wildtype:"N"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:450,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"Q",Epitope:"class 1",Escape:3.434,reference_site:451,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"E",Epitope:"class 1",Escape:1.418,reference_site:452,wildtype:"L"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"G",Epitope:"class 1",Escape:2.751,reference_site:452,wildtype:"L"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:2.297,reference_site:452,wildtype:"L"},{mutant:"N",Epitope:"class 1",Escape:2.824,reference_site:452,wildtype:"L"},{mutant:"Q",Epitope:"class 1",Escape:2.272,reference_site:452,wildtype:"L"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"W",Epitope:"class 1",Escape:1.202,reference_site:452,wildtype:"L"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:452,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:1.491,reference_site:453,wildtype:"Y"},{mutant:"F",Epitope:"class 1",Escape:2.796,reference_site:453,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"R",Epitope:"class 1",Escape:2.287,reference_site:453,wildtype:"Y"},{mutant:"S",Epitope:"class 1",Escape:3.921,reference_site:453,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:1.853,reference_site:453,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:1.449,reference_site:455,wildtype:"L"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:455,wildtype:"L"},{mutant:"E",Epitope:"class 1",Escape:11.77,reference_site:455,wildtype:"L"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:455,wildtype:"L"},{mutant:"G",Epitope:"class 1",Escape:7.635,reference_site:455,wildtype:"L"},{mutant:"H",Epitope:"class 1",Escape:5.13,reference_site:455,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:455,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:455,wildtype:"L"},{mutant:"P",Epitope:"class 1",Escape:1.321,reference_site:455,wildtype:"L"},{mutant:"R",Epitope:"class 1",Escape:10.98,reference_site:455,wildtype:"L"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:455,wildtype:"L"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:455,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:455,wildtype:"L"},{mutant:"W",Epitope:"class 1",Escape:10.24,reference_site:455,wildtype:"L"},{mutant:"Y",Epitope:"class 1",Escape:3.709,reference_site:455,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:11.25,reference_site:456,wildtype:"F"},{mutant:"C",Epitope:"class 1",Escape:10.89,reference_site:456,wildtype:"F"},{mutant:"G",Epitope:"class 1",Escape:12.12,reference_site:456,wildtype:"F"},{mutant:"H",Epitope:"class 1",Escape:12.3,reference_site:456,wildtype:"F"},{mutant:"I",Epitope:"class 1",Escape:1.795,reference_site:456,wildtype:"F"},{mutant:"K",Epitope:"class 1",Escape:10.84,reference_site:456,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:456,wildtype:"F"},{mutant:"Q",Epitope:"class 1",Escape:11.29,reference_site:456,wildtype:"F"},{mutant:"R",Epitope:"class 1",Escape:11.8,reference_site:456,wildtype:"F"},{mutant:"T",Epitope:"class 1",Escape:9.74,reference_site:456,wildtype:"F"},{mutant:"V",Epitope:"class 1",Escape:10.26,reference_site:456,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:456,wildtype:"F"},{mutant:"Y",Epitope:"class 1",Escape:1.258,reference_site:456,wildtype:"F"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:1.707,reference_site:458,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:2.775,reference_site:458,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:2.473,reference_site:458,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:1.698,reference_site:458,wildtype:"K"},{mutant:"P",Epitope:"class 1",Escape:4.257,reference_site:458,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:458,wildtype:"K"},{mutant:"A",Epitope:"class 1",Escape:1.588,reference_site:459,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:2.192,reference_site:459,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:2.142,reference_site:459,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:1.427,reference_site:459,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:7.293,reference_site:459,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:1.948,reference_site:459,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:459,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:11.11,reference_site:460,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:8.526,reference_site:460,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:4.367,reference_site:460,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:10.23,reference_site:460,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:10.66,reference_site:460,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:6.984,reference_site:460,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:10.18,reference_site:460,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:11.24,reference_site:460,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:12.44,reference_site:460,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:11.61,reference_site:460,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:10.6,reference_site:460,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:10.48,reference_site:460,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:9.719,reference_site:460,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:11.52,reference_site:460,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:10.01,reference_site:460,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:11.75,reference_site:460,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:10.63,reference_site:460,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:8.462,reference_site:460,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:3.563,reference_site:461,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:461,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:1.83,reference_site:461,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"F",Epitope:"class 1",Escape:2.593,reference_site:462,wildtype:"K"},{mutant:"G",Epitope:"class 1",Escape:2.618,reference_site:462,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:1.861,reference_site:462,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:462,wildtype:"K"},{mutant:"A",Epitope:"class 1",Escape:3.255,reference_site:463,wildtype:"P"},{mutant:"A",Epitope:"class 1",Escape:2.131,reference_site:464,wildtype:"F"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:1.381,reference_site:464,wildtype:"F"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:464,wildtype:"F"},{mutant:"D",Epitope:"class 1",Escape:3.468,reference_site:465,wildtype:"E"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:465,wildtype:"E"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:465,wildtype:"E"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:465,wildtype:"E"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:466,wildtype:"R"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:466,wildtype:"R"},{mutant:"Q",Epitope:"class 1",Escape:1.578,reference_site:466,wildtype:"R"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"P",Epitope:"class 1",Escape:1.224,reference_site:468,wildtype:"I"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"S",Epitope:"class 1",Escape:1.263,reference_site:468,wildtype:"I"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:468,wildtype:"I"},{mutant:"Y",Epitope:"class 1",Escape:1.592,reference_site:468,wildtype:"I"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:469,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:2.398,reference_site:469,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:2.533,reference_site:469,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:469,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:469,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:469,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:1.874,reference_site:469,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:469,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:469,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:469,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:1.308,reference_site:470,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:1.525,reference_site:470,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:1.374,reference_site:470,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:2.327,reference_site:470,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:1.458,reference_site:470,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:470,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:1.202,reference_site:470,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:1.287,reference_site:471,wildtype:"E"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"F",Epitope:"class 1",Escape:2.204,reference_site:471,wildtype:"E"},{mutant:"G",Epitope:"class 1",Escape:1.833,reference_site:471,wildtype:"E"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"N",Epitope:"class 1",Escape:2.157,reference_site:471,wildtype:"E"},{mutant:"P",Epitope:"class 1",Escape:2.515,reference_site:471,wildtype:"E"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:471,wildtype:"E"},{mutant:"A",Epitope:"class 1",Escape:2.868,reference_site:472,wildtype:"I"},{mutant:"C",Epitope:"class 1",Escape:6.422,reference_site:472,wildtype:"I"},{mutant:"D",Epitope:"class 1",Escape:8.486,reference_site:472,wildtype:"I"},{mutant:"E",Epitope:"class 1",Escape:6.787,reference_site:472,wildtype:"I"},{mutant:"F",Epitope:"class 1",Escape:2.655,reference_site:472,wildtype:"I"},{mutant:"G",Epitope:"class 1",Escape:10.81,reference_site:472,wildtype:"I"},{mutant:"H",Epitope:"class 1",Escape:3.367,reference_site:472,wildtype:"I"},{mutant:"K",Epitope:"class 1",Escape:5.203,reference_site:472,wildtype:"I"},{mutant:"L",Epitope:"class 1",Escape:1.984,reference_site:472,wildtype:"I"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:472,wildtype:"I"},{mutant:"N",Epitope:"class 1",Escape:5.233,reference_site:472,wildtype:"I"},{mutant:"P",Epitope:"class 1",Escape:4.951,reference_site:472,wildtype:"I"},{mutant:"Q",Epitope:"class 1",Escape:3.684,reference_site:472,wildtype:"I"},{mutant:"S",Epitope:"class 1",Escape:6.562,reference_site:472,wildtype:"I"},{mutant:"T",Epitope:"class 1",Escape:2.44,reference_site:472,wildtype:"I"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:472,wildtype:"I"},{mutant:"W",Epitope:"class 1",Escape:4.013,reference_site:472,wildtype:"I"},{mutant:"Y",Epitope:"class 1",Escape:2.464,reference_site:472,wildtype:"I"},{mutant:"A",Epitope:"class 1",Escape:7.973,reference_site:473,wildtype:"Y"},{mutant:"C",Epitope:"class 1",Escape:10.67,reference_site:473,wildtype:"Y"},{mutant:"E",Epitope:"class 1",Escape:10.51,reference_site:473,wildtype:"Y"},{mutant:"F",Epitope:"class 1",Escape:2.309,reference_site:473,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:2.795,reference_site:473,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:10.83,reference_site:473,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:9.809,reference_site:473,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:8.53,reference_site:473,wildtype:"Y"},{mutant:"N",Epitope:"class 1",Escape:9.508,reference_site:473,wildtype:"Y"},{mutant:"Q",Epitope:"class 1",Escape:11.08,reference_site:473,wildtype:"Y"},{mutant:"S",Epitope:"class 1",Escape:10.5,reference_site:473,wildtype:"Y"},{mutant:"T",Epitope:"class 1",Escape:9.988,reference_site:473,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:10.53,reference_site:473,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"M",Epitope:"class 1",Escape:1.797,reference_site:474,wildtype:"Q"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:475,wildtype:"A"},{mutant:"D",Epitope:"class 1",Escape:10.18,reference_site:475,wildtype:"A"},{mutant:"E",Epitope:"class 1",Escape:12.23,reference_site:475,wildtype:"A"},{mutant:"F",Epitope:"class 1",Escape:10.85,reference_site:475,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:4.135,reference_site:475,wildtype:"A"},{mutant:"I",Epitope:"class 1",Escape:11.11,reference_site:475,wildtype:"A"},{mutant:"K",Epitope:"class 1",Escape:10.97,reference_site:475,wildtype:"A"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:475,wildtype:"A"},{mutant:"M",Epitope:"class 1",Escape:9.462,reference_site:475,wildtype:"A"},{mutant:"N",Epitope:"class 1",Escape:8.574,reference_site:475,wildtype:"A"},{mutant:"Q",Epitope:"class 1",Escape:9.603,reference_site:475,wildtype:"A"},{mutant:"R",Epitope:"class 1",Escape:12.23,reference_site:475,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:3.658,reference_site:475,wildtype:"A"},{mutant:"T",Epitope:"class 1",Escape:3.363,reference_site:475,wildtype:"A"},{mutant:"V",Epitope:"class 1",Escape:7.163,reference_site:475,wildtype:"A"},{mutant:"Y",Epitope:"class 1",Escape:11.02,reference_site:475,wildtype:"A"},{mutant:"A",Epitope:"class 1",Escape:2.81,reference_site:476,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:1.687,reference_site:476,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:8.813,reference_site:476,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:476,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:7.824,reference_site:476,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:5.138,reference_site:476,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:4.78,reference_site:476,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:7.91,reference_site:476,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:476,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:10.27,reference_site:476,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:1.484,reference_site:477,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:1.339,reference_site:477,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:1.692,reference_site:477,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:477,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:1.508,reference_site:477,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:2.064,reference_site:478,wildtype:"T"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:1.358,reference_site:478,wildtype:"T"},{mutant:"W",Epitope:"class 1",Escape:1.758,reference_site:478,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:478,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"C",Epitope:"class 1",Escape:1.597,reference_site:479,wildtype:"P"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"F",Epitope:"class 1",Escape:2.394,reference_site:479,wildtype:"P"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"I",Epitope:"class 1",Escape:2.041,reference_site:479,wildtype:"P"},{mutant:"K",Epitope:"class 1",Escape:1.67,reference_site:479,wildtype:"P"},{mutant:"L",Epitope:"class 1",Escape:2.902,reference_site:479,wildtype:"P"},{mutant:"M",Epitope:"class 1",Escape:1.899,reference_site:479,wildtype:"P"},{mutant:"N",Epitope:"class 1",Escape:2.165,reference_site:479,wildtype:"P"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"R",Epitope:"class 1",Escape:3.058,reference_site:479,wildtype:"P"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"T",Epitope:"class 1",Escape:2.377,reference_site:479,wildtype:"P"},{mutant:"V",Epitope:"class 1",Escape:2,reference_site:479,wildtype:"P"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:479,wildtype:"P"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:2.077,reference_site:481,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:1.614,reference_site:481,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:1.614,reference_site:481,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:1.966,reference_site:481,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:2.393,reference_site:481,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:2.726,reference_site:481,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:2.401,reference_site:481,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:481,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:482,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:1.213,reference_site:482,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:482,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:482,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:482,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:482,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:3.534,reference_site:482,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:482,wildtype:"G"},{mutant:"P",Epitope:"class 1",Escape:3.975,reference_site:482,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:1.439,reference_site:482,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:1.796,reference_site:482,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:482,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:2.306,reference_site:482,wildtype:"G"},{mutant:"Y",Epitope:"class 1",Escape:3.235,reference_site:482,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"E",Epitope:"class 1",Escape:1.838,reference_site:483,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"G",Epitope:"class 1",Escape:2.776,reference_site:483,wildtype:"V"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"M",Epitope:"class 1",Escape:1.236,reference_site:483,wildtype:"V"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"Q",Epitope:"class 1",Escape:1.768,reference_site:483,wildtype:"V"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"S",Epitope:"class 1",Escape:1.321,reference_site:483,wildtype:"V"},{mutant:"T",Epitope:"class 1",Escape:1.674,reference_site:483,wildtype:"V"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:483,wildtype:"V"},{mutant:"A",Epitope:"class 1",Escape:3.427,reference_site:484,wildtype:"E"},{mutant:"C",Epitope:"class 1",Escape:3.354,reference_site:484,wildtype:"E"},{mutant:"D",Epitope:"class 1",Escape:2.723,reference_site:484,wildtype:"E"},{mutant:"F",Epitope:"class 1",Escape:4.434,reference_site:484,wildtype:"E"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:484,wildtype:"E"},{mutant:"H",Epitope:"class 1",Escape:4.053,reference_site:484,wildtype:"E"},{mutant:"I",Epitope:"class 1",Escape:4.68,reference_site:484,wildtype:"E"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:484,wildtype:"E"},{mutant:"L",Epitope:"class 1",Escape:2.162,reference_site:484,wildtype:"E"},{mutant:"M",Epitope:"class 1",Escape:1.379,reference_site:484,wildtype:"E"},{mutant:"N",Epitope:"class 1",Escape:1.823,reference_site:484,wildtype:"E"},{mutant:"P",Epitope:"class 1",Escape:2.569,reference_site:484,wildtype:"E"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:484,wildtype:"E"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:484,wildtype:"E"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:484,wildtype:"E"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:484,wildtype:"E"},{mutant:"V",Epitope:"class 1",Escape:3.014,reference_site:484,wildtype:"E"},{mutant:"W",Epitope:"class 1",Escape:6.166,reference_site:484,wildtype:"E"},{mutant:"Y",Epitope:"class 1",Escape:5.772,reference_site:484,wildtype:"E"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:485,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:1.427,reference_site:485,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:3.566,reference_site:485,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:2.963,reference_site:485,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:485,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:485,wildtype:"G"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:485,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:485,wildtype:"G"},{mutant:"P",Epitope:"class 1",Escape:9.002,reference_site:485,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:485,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:1.454,reference_site:485,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:485,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:3.032,reference_site:485,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:6.198,reference_site:486,wildtype:"F"},{mutant:"C",Epitope:"class 1",Escape:7.244,reference_site:486,wildtype:"F"},{mutant:"D",Epitope:"class 1",Escape:3.437,reference_site:486,wildtype:"F"},{mutant:"E",Epitope:"class 1",Escape:3.035,reference_site:486,wildtype:"F"},{mutant:"G",Epitope:"class 1",Escape:8.13,reference_site:486,wildtype:"F"},{mutant:"H",Epitope:"class 1",Escape:2.961,reference_site:486,wildtype:"F"},{mutant:"I",Epitope:"class 1",Escape:4.359,reference_site:486,wildtype:"F"},{mutant:"K",Epitope:"class 1",Escape:8.417,reference_site:486,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:2.078,reference_site:486,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:2.059,reference_site:486,wildtype:"F"},{mutant:"N",Epitope:"class 1",Escape:4.973,reference_site:486,wildtype:"F"},{mutant:"P",Epitope:"class 1",Escape:5.915,reference_site:486,wildtype:"F"},{mutant:"Q",Epitope:"class 1",Escape:4.79,reference_site:486,wildtype:"F"},{mutant:"R",Epitope:"class 1",Escape:7.708,reference_site:486,wildtype:"F"},{mutant:"S",Epitope:"class 1",Escape:5.635,reference_site:486,wildtype:"F"},{mutant:"T",Epitope:"class 1",Escape:5.013,reference_site:486,wildtype:"F"},{mutant:"V",Epitope:"class 1",Escape:4.969,reference_site:486,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:2.64,reference_site:486,wildtype:"F"},{mutant:"Y",Epitope:"class 1",Escape:4.158,reference_site:486,wildtype:"F"},{mutant:"A",Epitope:"class 1",Escape:10.8,reference_site:487,wildtype:"N"},{mutant:"D",Epitope:"class 1",Escape:9.892,reference_site:487,wildtype:"N"},{mutant:"E",Epitope:"class 1",Escape:10.45,reference_site:487,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:9.336,reference_site:487,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:8.463,reference_site:487,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:9.83,reference_site:487,wildtype:"N"},{mutant:"K",Epitope:"class 1",Escape:10.3,reference_site:487,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:9.583,reference_site:487,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:5.216,reference_site:487,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:8.186,reference_site:487,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:10.15,reference_site:487,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:11.68,reference_site:487,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:11.67,reference_site:487,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:11.23,reference_site:487,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:4.653,reference_site:489,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:10.61,reference_site:489,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:9.746,reference_site:489,wildtype:"Y"},{mutant:"L",Epitope:"class 1",Escape:11.75,reference_site:489,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:10.12,reference_site:489,wildtype:"Y"},{mutant:"Q",Epitope:"class 1",Escape:10.83,reference_site:489,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:12.26,reference_site:489,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:9.141,reference_site:489,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"I",Epitope:"class 1",Escape:2.401,reference_site:490,wildtype:"F"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:2.857,reference_site:490,wildtype:"F"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"Q",Epitope:"class 1",Escape:4.167,reference_site:490,wildtype:"F"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"T",Epitope:"class 1",Escape:2.493,reference_site:490,wildtype:"F"},{mutant:"V",Epitope:"class 1",Escape:1.931,reference_site:490,wildtype:"F"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:490,wildtype:"F"},{mutant:"Y",Epitope:"class 1",Escape:1.68,reference_site:490,wildtype:"F"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:492,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:492,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:2.132,reference_site:492,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"F",Epitope:"class 1",Escape:2.175,reference_site:493,wildtype:"Q"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"I",Epitope:"class 1",Escape:2.594,reference_site:493,wildtype:"Q"},{mutant:"K",Epitope:"class 1",Escape:6.271,reference_site:493,wildtype:"Q"},{mutant:"L",Epitope:"class 1",Escape:2.199,reference_site:493,wildtype:"Q"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"R",Epitope:"class 1",Escape:6.866,reference_site:493,wildtype:"Q"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"V",Epitope:"class 1",Escape:4.821,reference_site:493,wildtype:"Q"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"Y",Epitope:"class 1",Escape:2.655,reference_site:493,wildtype:"Q"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:2.179,reference_site:494,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:2.902,reference_site:494,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:4.215,reference_site:494,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:3.77,reference_site:494,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:494,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:1.237,reference_site:496,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:1.524,reference_site:496,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:2.513,reference_site:496,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:2.54,reference_site:496,wildtype:"G"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:4.011,reference_site:496,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"V",Epitope:"class 1",Escape:1.869,reference_site:496,wildtype:"G"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:496,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"H",Epitope:"class 1",Escape:2.866,reference_site:498,wildtype:"Q"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"L",Epitope:"class 1",Escape:1.215,reference_site:498,wildtype:"Q"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"R",Epitope:"class 1",Escape:3.017,reference_site:498,wildtype:"Q"},{mutant:"S",Epitope:"class 1",Escape:1.933,reference_site:498,wildtype:"Q"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"D",Epitope:"class 1",Escape:1.644,reference_site:499,wildtype:"P"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"L",Epitope:"class 1",Escape:1.586,reference_site:499,wildtype:"P"},{mutant:"M",Epitope:"class 1",Escape:2.19,reference_site:499,wildtype:"P"},{mutant:"N",Epitope:"class 1",Escape:3.041,reference_site:499,wildtype:"P"},{mutant:"Q",Epitope:"class 1",Escape:1.368,reference_site:499,wildtype:"P"},{mutant:"R",Epitope:"class 1",Escape:3.183,reference_site:499,wildtype:"P"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"V",Epitope:"class 1",Escape:3.26,reference_site:499,wildtype:"P"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:499,wildtype:"P"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:1.242,reference_site:500,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:1.986,reference_site:500,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:500,wildtype:"T"},{mutant:"A",Epitope:"class 1",Escape:4.128,reference_site:501,wildtype:"N"},{mutant:"C",Epitope:"class 1",Escape:3.735,reference_site:501,wildtype:"N"},{mutant:"F",Epitope:"class 1",Escape:2.337,reference_site:501,wildtype:"N"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:501,wildtype:"N"},{mutant:"H",Epitope:"class 1",Escape:2.989,reference_site:501,wildtype:"N"},{mutant:"I",Epitope:"class 1",Escape:2.463,reference_site:501,wildtype:"N"},{mutant:"L",Epitope:"class 1",Escape:4.272,reference_site:501,wildtype:"N"},{mutant:"M",Epitope:"class 1",Escape:5.976,reference_site:501,wildtype:"N"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:501,wildtype:"N"},{mutant:"Q",Epitope:"class 1",Escape:4.006,reference_site:501,wildtype:"N"},{mutant:"R",Epitope:"class 1",Escape:6.836,reference_site:501,wildtype:"N"},{mutant:"S",Epitope:"class 1",Escape:2.463,reference_site:501,wildtype:"N"},{mutant:"T",Epitope:"class 1",Escape:3.936,reference_site:501,wildtype:"N"},{mutant:"V",Epitope:"class 1",Escape:4.25,reference_site:501,wildtype:"N"},{mutant:"W",Epitope:"class 1",Escape:6.157,reference_site:501,wildtype:"N"},{mutant:"Y",Epitope:"class 1",Escape:2.642,reference_site:501,wildtype:"N"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"C",Epitope:"class 1",Escape:1.418,reference_site:503,wildtype:"V"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"H",Epitope:"class 1",Escape:1.203,reference_site:503,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"S",Epitope:"class 1",Escape:2.99,reference_site:503,wildtype:"V"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:503,wildtype:"V"},{mutant:"A",Epitope:"class 1",Escape:3.485,reference_site:504,wildtype:"G"},{mutant:"C",Epitope:"class 1",Escape:8.003,reference_site:504,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:5.592,reference_site:504,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:1.54,reference_site:504,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:6.008,reference_site:504,wildtype:"G"},{mutant:"H",Epitope:"class 1",Escape:5.53,reference_site:504,wildtype:"G"},{mutant:"I",Epitope:"class 1",Escape:9.115,reference_site:504,wildtype:"G"},{mutant:"K",Epitope:"class 1",Escape:7.43,reference_site:504,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:7.674,reference_site:504,wildtype:"G"},{mutant:"M",Epitope:"class 1",Escape:6.948,reference_site:504,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:5.977,reference_site:504,wildtype:"G"},{mutant:"P",Epitope:"class 1",Escape:5.697,reference_site:504,wildtype:"G"},{mutant:"Q",Epitope:"class 1",Escape:5.772,reference_site:504,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:5.948,reference_site:504,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:3.986,reference_site:504,wildtype:"G"},{mutant:"T",Epitope:"class 1",Escape:4.144,reference_site:504,wildtype:"G"},{mutant:"V",Epitope:"class 1",Escape:7.647,reference_site:504,wildtype:"G"},{mutant:"W",Epitope:"class 1",Escape:5.96,reference_site:504,wildtype:"G"},{mutant:"Y",Epitope:"class 1",Escape:4.563,reference_site:504,wildtype:"G"},{mutant:"F",Epitope:"class 1",Escape:2.149,reference_site:505,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:1.699,reference_site:505,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"Q",Epitope:"class 1",Escape:3.483,reference_site:505,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:2.923,reference_site:505,wildtype:"Y"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"A",Epitope:"class 1",Escape:3.622,reference_site:507,wildtype:"P"},{mutant:"A",Epitope:"class 1",Escape:2.206,reference_site:508,wildtype:"Y"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"M",Epitope:"class 1",Escape:1.496,reference_site:508,wildtype:"Y"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"T",Epitope:"class 1",Escape:1.245,reference_site:508,wildtype:"Y"},{mutant:"V",Epitope:"class 1",Escape:1.379,reference_site:508,wildtype:"Y"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"I",Epitope:"class 1",Escape:1.582,reference_site:510,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:512,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:513,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:1.744,reference_site:513,wildtype:"L"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:1.391,reference_site:514,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:3.24,reference_site:514,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:2.263,reference_site:514,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:1.551,reference_site:514,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:1.208,reference_site:514,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:514,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:1.74,reference_site:515,wildtype:"F"},{mutant:"M",Epitope:"class 1",Escape:1.659,reference_site:515,wildtype:"F"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:516,wildtype:"E"},{mutant:"H",Epitope:"class 1",Escape:3.202,reference_site:516,wildtype:"E"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:516,wildtype:"E"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:516,wildtype:"E"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:516,wildtype:"E"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:516,wildtype:"E"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:516,wildtype:"E"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:516,wildtype:"E"},{mutant:"E",Epitope:"class 1",Escape:2.498,reference_site:517,wildtype:"L"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"N",Epitope:"class 1",Escape:3.075,reference_site:517,wildtype:"L"},{mutant:"Q",Epitope:"class 1",Escape:1.99,reference_site:517,wildtype:"L"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"T",Epitope:"class 1",Escape:1.393,reference_site:517,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:517,wildtype:"L"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"H",Epitope:"class 1",Escape:2.4,reference_site:518,wildtype:"L"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"N",Epitope:"class 1",Escape:1.526,reference_site:518,wildtype:"L"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"S",Epitope:"class 1",Escape:1.429,reference_site:518,wildtype:"L"},{mutant:"T",Epitope:"class 1",Escape:1.555,reference_site:518,wildtype:"L"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:518,wildtype:"L"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"D",Epitope:"class 1",Escape:4.288,reference_site:519,wildtype:"H"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"N",Epitope:"class 1",Escape:1.777,reference_site:519,wildtype:"H"},{mutant:"P",Epitope:"class 1",Escape:3.959,reference_site:519,wildtype:"H"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:519,wildtype:"H"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"D",Epitope:"class 1",Escape:3.101,reference_site:520,wildtype:"A"},{mutant:"E",Epitope:"class 1",Escape:1.342,reference_site:520,wildtype:"A"},{mutant:"F",Epitope:"class 1",Escape:1.624,reference_site:520,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"K",Epitope:"class 1",Escape:1.521,reference_site:520,wildtype:"A"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"P",Epitope:"class 1",Escape:2.794,reference_site:520,wildtype:"A"},{mutant:"R",Epitope:"class 1",Escape:1.236,reference_site:520,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:2.876,reference_site:520,wildtype:"A"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:520,wildtype:"A"},{mutant:"Y",Epitope:"class 1",Escape:2.252,reference_site:520,wildtype:"A"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:521,wildtype:"P"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:521,wildtype:"P"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:521,wildtype:"P"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:521,wildtype:"P"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:521,wildtype:"P"},{mutant:"R",Epitope:"class 1",Escape:1.503,reference_site:521,wildtype:"P"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:521,wildtype:"P"},{mutant:"T",Epitope:"class 1",Escape:2.226,reference_site:521,wildtype:"P"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"R",Epitope:"class 1",Escape:1.577,reference_site:522,wildtype:"A"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:522,wildtype:"A"},{mutant:"A",Epitope:"class 1",Escape:3.052,reference_site:524,wildtype:"V"},{mutant:"I",Epitope:"class 1",Escape:1.479,reference_site:524,wildtype:"V"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:525,wildtype:"C"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:525,wildtype:"C"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:525,wildtype:"C"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:525,wildtype:"C"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:525,wildtype:"C"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:525,wildtype:"C"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:525,wildtype:"C"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:526,wildtype:"G"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"G",Epitope:"class 1",Escape:1.306,reference_site:527,wildtype:"P"},{mutant:"H",Epitope:"class 1",Escape:1.678,reference_site:527,wildtype:"P"},{mutant:"I",Epitope:"class 1",Escape:1.556,reference_site:527,wildtype:"P"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"L",Epitope:"class 1",Escape:1.784,reference_site:527,wildtype:"P"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"S",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:527,wildtype:"P"},{mutant:"Y",Epitope:"class 1",Escape:1.623,reference_site:527,wildtype:"P"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:1.569,reference_site:528,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:1.659,reference_site:528,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:2.579,reference_site:528,wildtype:"K"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:1.499,reference_site:528,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:1.593,reference_site:528,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:1.454,reference_site:528,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:528,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:3.247,reference_site:528,wildtype:"K"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"D",Epitope:"class 1",Escape:1.438,reference_site:529,wildtype:"K"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"L",Epitope:"class 1",Escape:2.398,reference_site:529,wildtype:"K"},{mutant:"M",Epitope:"class 1",Escape:3.71,reference_site:529,wildtype:"K"},{mutant:"N",Epitope:"class 1",Escape:2.597,reference_site:529,wildtype:"K"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"S",Epitope:"class 1",Escape:1.369,reference_site:529,wildtype:"K"},{mutant:"T",Epitope:"class 1",Escape:2.06,reference_site:529,wildtype:"K"},{mutant:"V",Epitope:"class 1",Escape:1.663,reference_site:529,wildtype:"K"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:529,wildtype:"K"},{mutant:"A",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"D",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"F",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"M",Epitope:"class 1",Escape:1.312,reference_site:530,wildtype:"S"},{mutant:"N",Epitope:"class 1",Escape:2.471,reference_site:530,wildtype:"S"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"R",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"T",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"W",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:530,wildtype:"S"},{mutant:"A",Epitope:"class 1",Escape:1.253,reference_site:531,wildtype:"T"},{mutant:"C",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"D",Epitope:"class 1",Escape:1.612,reference_site:531,wildtype:"T"},{mutant:"E",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"F",Epitope:"class 1",Escape:2.157,reference_site:531,wildtype:"T"},{mutant:"G",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"H",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"I",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"K",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"L",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"M",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"N",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"P",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"Q",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"R",Epitope:"class 1",Escape:1.612,reference_site:531,wildtype:"T"},{mutant:"S",Epitope:"class 1",Escape:1.448,reference_site:531,wildtype:"T"},{mutant:"V",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"W",Epitope:"class 1",Escape:1.924,reference_site:531,wildtype:"T"},{mutant:"Y",Epitope:"class 1",Escape:0,reference_site:531,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:331,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:332,wildtype:"I"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:333,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:334,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:335,wildtype:"L"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:336,wildtype:"C"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:337,wildtype:"P"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:338,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:338,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:338,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:338,wildtype:"F"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:338,wildtype:"F"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:339,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:340,wildtype:"E"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:341,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:341,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:342,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:342,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:342,wildtype:"F"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:344,wildtype:"A"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:344,wildtype:"A"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:344,wildtype:"A"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:344,wildtype:"A"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:344,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:344,wildtype:"A"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:345,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:345,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:345,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:345,wildtype:"T"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:345,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:345,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:345,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:346,wildtype:"R"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:347,wildtype:"F"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:348,wildtype:"A"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:349,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:349,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:352,wildtype:"A"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:353,wildtype:"W"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:354,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:356,wildtype:"K"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:357,wildtype:"R"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:358,wildtype:"I"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:358,wildtype:"I"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:358,wildtype:"I"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:358,wildtype:"I"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:358,wildtype:"I"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:358,wildtype:"I"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:358,wildtype:"I"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:359,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:360,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:360,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:360,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:360,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:360,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:360,wildtype:"N"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:361,wildtype:"C"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:361,wildtype:"C"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:362,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:363,wildtype:"A"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:366,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:367,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:368,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:368,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:368,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:368,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:370,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:371,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:372,wildtype:"A"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:373,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:374,wildtype:"F"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:375,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:376,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:377,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:377,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:377,wildtype:"F"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:377,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:377,wildtype:"F"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:378,wildtype:"K"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:380,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:380,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:381,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:381,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:381,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:381,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:381,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:381,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:382,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:382,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:382,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:382,wildtype:"V"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:382,wildtype:"V"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:382,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:383,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:384,wildtype:"P"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:385,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:386,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:387,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:387,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:388,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:389,wildtype:"D"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:390,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"F",Epitope:"class 2",Escape:1.251,reference_site:391,wildtype:"C"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:391,wildtype:"C"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:392,wildtype:"F"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:393,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:394,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:395,wildtype:"V"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:395,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:395,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:395,wildtype:"V"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:395,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:397,wildtype:"A"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:397,wildtype:"A"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:397,wildtype:"A"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:397,wildtype:"A"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:399,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:401,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:402,wildtype:"I"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:402,wildtype:"I"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:402,wildtype:"I"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:403,wildtype:"R"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:403,wildtype:"R"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:403,wildtype:"R"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:403,wildtype:"R"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:403,wildtype:"R"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:404,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:404,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:405,wildtype:"D"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:405,wildtype:"D"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:405,wildtype:"D"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:405,wildtype:"D"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:405,wildtype:"D"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:405,wildtype:"D"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:406,wildtype:"E"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:406,wildtype:"E"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:406,wildtype:"E"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:407,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:407,wildtype:"V"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:408,wildtype:"R"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:409,wildtype:"Q"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:410,wildtype:"I"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:411,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:411,wildtype:"A"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:411,wildtype:"A"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:411,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:411,wildtype:"A"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:413,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:415,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:417,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:418,wildtype:"I"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:419,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:419,wildtype:"A"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:420,wildtype:"D"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:424,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:424,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:425,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:425,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:425,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:427,wildtype:"D"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:428,wildtype:"D"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:429,wildtype:"F"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:430,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:433,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:434,wildtype:"I"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:434,wildtype:"I"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:434,wildtype:"I"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:434,wildtype:"I"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:434,wildtype:"I"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:434,wildtype:"I"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:435,wildtype:"A"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:435,wildtype:"A"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:437,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:438,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:438,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:439,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:440,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:441,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:443,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:443,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:443,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:3.077,reference_site:443,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:443,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:443,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:443,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:443,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:444,wildtype:"K"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:445,wildtype:"V"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:446,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:447,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:1.398,reference_site:448,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:448,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"K",Epitope:"class 2",Escape:2.312,reference_site:449,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"N",Epitope:"class 2",Escape:2.043,reference_site:449,wildtype:"Y"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"Q",Epitope:"class 2",Escape:2.308,reference_site:449,wildtype:"Y"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"T",Epitope:"class 2",Escape:2.65,reference_site:449,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:1.753,reference_site:450,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:2.684,reference_site:450,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:450,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"D",Epitope:"class 2",Escape:9.787,reference_site:452,wildtype:"L"},{mutant:"E",Epitope:"class 2",Escape:11.04,reference_site:452,wildtype:"L"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"G",Epitope:"class 2",Escape:2.649,reference_site:452,wildtype:"L"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"K",Epitope:"class 2",Escape:9.537,reference_site:452,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"R",Epitope:"class 2",Escape:9.485,reference_site:452,wildtype:"L"},{mutant:"S",Epitope:"class 2",Escape:2.662,reference_site:452,wildtype:"L"},{mutant:"T",Epitope:"class 2",Escape:2.76,reference_site:452,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"W",Epitope:"class 2",Escape:5.392,reference_site:452,wildtype:"L"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:452,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:455,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"K",Epitope:"class 2",Escape:1.212,reference_site:456,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:456,wildtype:"F"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:458,wildtype:"K"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:459,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:460,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:461,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:461,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:461,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:462,wildtype:"K"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:463,wildtype:"P"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:464,wildtype:"F"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:465,wildtype:"E"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:465,wildtype:"E"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:465,wildtype:"E"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:465,wildtype:"E"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:466,wildtype:"R"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:466,wildtype:"R"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:466,wildtype:"R"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:468,wildtype:"I"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:469,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:470,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:471,wildtype:"E"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"C",Epitope:"class 2",Escape:4.934,reference_site:472,wildtype:"I"},{mutant:"D",Epitope:"class 2",Escape:8.172,reference_site:472,wildtype:"I"},{mutant:"E",Epitope:"class 2",Escape:4.085,reference_site:472,wildtype:"I"},{mutant:"F",Epitope:"class 2",Escape:3.245,reference_site:472,wildtype:"I"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"K",Epitope:"class 2",Escape:8.31,reference_site:472,wildtype:"I"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"N",Epitope:"class 2",Escape:2.128,reference_site:472,wildtype:"I"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:472,wildtype:"I"},{mutant:"W",Epitope:"class 2",Escape:10.07,reference_site:472,wildtype:"I"},{mutant:"Y",Epitope:"class 2",Escape:6.563,reference_site:472,wildtype:"I"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:475,wildtype:"A"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:476,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:1.631,reference_site:477,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:477,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"W",Epitope:"class 2",Escape:1.218,reference_site:478,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:478,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:479,wildtype:"P"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:481,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:482,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:483,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:2.43,reference_site:483,wildtype:"V"},{mutant:"D",Epitope:"class 2",Escape:7.483,reference_site:483,wildtype:"V"},{mutant:"E",Epitope:"class 2",Escape:8.194,reference_site:483,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:483,wildtype:"V"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:483,wildtype:"V"},{mutant:"H",Epitope:"class 2",Escape:5.594,reference_site:483,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:483,wildtype:"V"},{mutant:"K",Epitope:"class 2",Escape:8.51,reference_site:483,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:483,wildtype:"V"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:483,wildtype:"V"},{mutant:"N",Epitope:"class 2",Escape:6.811,reference_site:483,wildtype:"V"},{mutant:"Q",Epitope:"class 2",Escape:7.491,reference_site:483,wildtype:"V"},{mutant:"R",Epitope:"class 2",Escape:9.458,reference_site:483,wildtype:"V"},{mutant:"S",Epitope:"class 2",Escape:6.824,reference_site:483,wildtype:"V"},{mutant:"T",Epitope:"class 2",Escape:3.319,reference_site:483,wildtype:"V"},{mutant:"W",Epitope:"class 2",Escape:5.228,reference_site:483,wildtype:"V"},{mutant:"Y",Epitope:"class 2",Escape:7.202,reference_site:483,wildtype:"V"},{mutant:"A",Epitope:"class 2",Escape:9.032,reference_site:484,wildtype:"E"},{mutant:"C",Epitope:"class 2",Escape:9.294,reference_site:484,wildtype:"E"},{mutant:"D",Epitope:"class 2",Escape:8.867,reference_site:484,wildtype:"E"},{mutant:"F",Epitope:"class 2",Escape:10.36,reference_site:484,wildtype:"E"},{mutant:"G",Epitope:"class 2",Escape:2.743,reference_site:484,wildtype:"E"},{mutant:"H",Epitope:"class 2",Escape:11.84,reference_site:484,wildtype:"E"},{mutant:"I",Epitope:"class 2",Escape:12.28,reference_site:484,wildtype:"E"},{mutant:"K",Epitope:"class 2",Escape:10.3,reference_site:484,wildtype:"E"},{mutant:"L",Epitope:"class 2",Escape:10.91,reference_site:484,wildtype:"E"},{mutant:"M",Epitope:"class 2",Escape:9.717,reference_site:484,wildtype:"E"},{mutant:"N",Epitope:"class 2",Escape:9.348,reference_site:484,wildtype:"E"},{mutant:"P",Epitope:"class 2",Escape:11.51,reference_site:484,wildtype:"E"},{mutant:"Q",Epitope:"class 2",Escape:10.44,reference_site:484,wildtype:"E"},{mutant:"R",Epitope:"class 2",Escape:11.9,reference_site:484,wildtype:"E"},{mutant:"S",Epitope:"class 2",Escape:7.763,reference_site:484,wildtype:"E"},{mutant:"T",Epitope:"class 2",Escape:9.748,reference_site:484,wildtype:"E"},{mutant:"V",Epitope:"class 2",Escape:10.06,reference_site:484,wildtype:"E"},{mutant:"W",Epitope:"class 2",Escape:7.622,reference_site:484,wildtype:"E"},{mutant:"Y",Epitope:"class 2",Escape:9.717,reference_site:484,wildtype:"E"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:485,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:485,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:8.022,reference_site:485,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:485,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:7.408,reference_site:485,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:8.63,reference_site:485,wildtype:"G"},{mutant:"M",Epitope:"class 2",Escape:4.706,reference_site:485,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:8.695,reference_site:485,wildtype:"G"},{mutant:"P",Epitope:"class 2",Escape:10.28,reference_site:485,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:3.231,reference_site:485,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:9.102,reference_site:485,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:485,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:8.269,reference_site:485,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"D",Epitope:"class 2",Escape:3.14,reference_site:486,wildtype:"F"},{mutant:"E",Epitope:"class 2",Escape:3.224,reference_site:486,wildtype:"F"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"I",Epitope:"class 2",Escape:8.324,reference_site:486,wildtype:"F"},{mutant:"K",Epitope:"class 2",Escape:3.948,reference_site:486,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:8.795,reference_site:486,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"P",Epitope:"class 2",Escape:8.852,reference_site:486,wildtype:"F"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"R",Epitope:"class 2",Escape:5.62,reference_site:486,wildtype:"F"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"T",Epitope:"class 2",Escape:8.163,reference_site:486,wildtype:"F"},{mutant:"V",Epitope:"class 2",Escape:7.814,reference_site:486,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:486,wildtype:"F"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:487,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:7.327,reference_site:490,wildtype:"F"},{mutant:"C",Epitope:"class 2",Escape:4.245,reference_site:490,wildtype:"F"},{mutant:"D",Epitope:"class 2",Escape:11.18,reference_site:490,wildtype:"F"},{mutant:"E",Epitope:"class 2",Escape:10.59,reference_site:490,wildtype:"F"},{mutant:"G",Epitope:"class 2",Escape:9.13,reference_site:490,wildtype:"F"},{mutant:"H",Epitope:"class 2",Escape:5.028,reference_site:490,wildtype:"F"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:490,wildtype:"F"},{mutant:"K",Epitope:"class 2",Escape:11.77,reference_site:490,wildtype:"F"},{mutant:"L",Epitope:"class 2",Escape:4.214,reference_site:490,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:490,wildtype:"F"},{mutant:"N",Epitope:"class 2",Escape:9.491,reference_site:490,wildtype:"F"},{mutant:"P",Epitope:"class 2",Escape:9.809,reference_site:490,wildtype:"F"},{mutant:"Q",Epitope:"class 2",Escape:7.844,reference_site:490,wildtype:"F"},{mutant:"R",Epitope:"class 2",Escape:10.67,reference_site:490,wildtype:"F"},{mutant:"S",Epitope:"class 2",Escape:8.838,reference_site:490,wildtype:"F"},{mutant:"T",Epitope:"class 2",Escape:8.645,reference_site:490,wildtype:"F"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:490,wildtype:"F"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:490,wildtype:"F"},{mutant:"Y",Epitope:"class 2",Escape:5.334,reference_site:490,wildtype:"F"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:492,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:492,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:492,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:1.413,reference_site:493,wildtype:"Q"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"F",Epitope:"class 2",Escape:8.122,reference_site:493,wildtype:"Q"},{mutant:"G",Epitope:"class 2",Escape:1.845,reference_site:493,wildtype:"Q"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"I",Epitope:"class 2",Escape:4.262,reference_site:493,wildtype:"Q"},{mutant:"K",Epitope:"class 2",Escape:11.15,reference_site:493,wildtype:"Q"},{mutant:"L",Epitope:"class 2",Escape:2.93,reference_site:493,wildtype:"Q"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"R",Epitope:"class 2",Escape:10.33,reference_site:493,wildtype:"Q"},{mutant:"S",Epitope:"class 2",Escape:1.439,reference_site:493,wildtype:"Q"},{mutant:"T",Epitope:"class 2",Escape:4.764,reference_site:493,wildtype:"Q"},{mutant:"V",Epitope:"class 2",Escape:5.382,reference_site:493,wildtype:"Q"},{mutant:"W",Epitope:"class 2",Escape:7.99,reference_site:493,wildtype:"Q"},{mutant:"Y",Epitope:"class 2",Escape:8.442,reference_site:493,wildtype:"Q"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:494,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:7.941,reference_site:494,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:494,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:494,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:5.743,reference_site:494,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:494,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:9.252,reference_site:494,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:494,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:5.04,reference_site:494,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:8.728,reference_site:494,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:11.04,reference_site:494,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:494,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:494,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:8.663,reference_site:494,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:7.827,reference_site:494,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:496,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:499,wildtype:"P"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:500,wildtype:"T"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:501,wildtype:"N"},{mutant:"A",Epitope:"class 2",Escape:1.823,reference_site:503,wildtype:"V"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:503,wildtype:"V"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:504,wildtype:"G"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:507,wildtype:"P"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:510,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:512,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:513,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:513,wildtype:"L"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:514,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:515,wildtype:"F"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:515,wildtype:"F"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:516,wildtype:"E"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:517,wildtype:"L"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:518,wildtype:"L"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:519,wildtype:"H"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:520,wildtype:"A"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:521,wildtype:"P"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:522,wildtype:"A"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:524,wildtype:"V"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:524,wildtype:"V"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:525,wildtype:"C"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:525,wildtype:"C"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:525,wildtype:"C"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:525,wildtype:"C"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:525,wildtype:"C"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:525,wildtype:"C"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:525,wildtype:"C"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:526,wildtype:"G"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:527,wildtype:"P"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:528,wildtype:"K"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:529,wildtype:"K"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"E",Epitope:"class 2",Escape:4.181,reference_site:530,wildtype:"S"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"T",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:530,wildtype:"S"},{mutant:"A",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"C",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"D",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"E",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"F",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"G",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"H",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"I",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"K",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"L",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"M",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"N",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"P",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"Q",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"R",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"S",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"V",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"W",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"Y",Epitope:"class 2",Escape:0,reference_site:531,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:331,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:332,wildtype:"I"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:333,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:1.28,reference_site:334,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:334,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:335,wildtype:"L"},{mutant:"G",Epitope:"class 3",Escape:3.998,reference_site:336,wildtype:"C"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:337,wildtype:"P"},{mutant:"T",Epitope:"class 3",Escape:2.473,reference_site:337,wildtype:"P"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:338,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:338,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:338,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:338,wildtype:"F"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:338,wildtype:"F"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:339,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"G",Epitope:"class 3",Escape:1.567,reference_site:340,wildtype:"E"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"M",Epitope:"class 3",Escape:2.22,reference_site:340,wildtype:"E"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:340,wildtype:"E"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:341,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:341,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:342,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:342,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:342,wildtype:"F"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:344,wildtype:"A"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:344,wildtype:"A"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:344,wildtype:"A"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:344,wildtype:"A"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:344,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:344,wildtype:"A"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:345,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:345,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:345,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:345,wildtype:"T"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:345,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:345,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:345,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:346,wildtype:"R"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:347,wildtype:"F"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:348,wildtype:"A"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:349,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:349,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:351,wildtype:"Y"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:352,wildtype:"A"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:353,wildtype:"W"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:354,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:2.092,reference_site:356,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:356,wildtype:"K"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:357,wildtype:"R"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:358,wildtype:"I"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:358,wildtype:"I"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:358,wildtype:"I"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:358,wildtype:"I"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:358,wildtype:"I"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:358,wildtype:"I"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:358,wildtype:"I"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:4.275,reference_site:359,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:359,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:360,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:360,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:360,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:360,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:360,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:360,wildtype:"N"},{mutant:"N",Epitope:"class 3",Escape:3.451,reference_site:361,wildtype:"C"},{mutant:"P",Epitope:"class 3",Escape:2.326,reference_site:361,wildtype:"C"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:362,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:363,wildtype:"A"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"C",Epitope:"class 3",Escape:3.931,reference_site:365,wildtype:"Y"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"G",Epitope:"class 3",Escape:3.043,reference_site:365,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"P",Epitope:"class 3",Escape:2.608,reference_site:365,wildtype:"Y"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:365,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:2.428,reference_site:366,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:4.581,reference_site:366,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:366,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"R",Epitope:"class 3",Escape:2.207,reference_site:367,wildtype:"V"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:367,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:368,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:368,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:368,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:2.999,reference_site:368,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"D",Epitope:"class 3",Escape:3.283,reference_site:369,wildtype:"Y"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"G",Epitope:"class 3",Escape:1.415,reference_site:369,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"P",Epitope:"class 3",Escape:3.246,reference_site:369,wildtype:"Y"},{mutant:"Q",Epitope:"class 3",Escape:1.663,reference_site:369,wildtype:"Y"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:369,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:1.649,reference_site:370,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:370,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:6.891,reference_site:371,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:371,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:2.114,reference_site:371,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:372,wildtype:"A"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:2.486,reference_site:373,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:373,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"D",Epitope:"class 3",Escape:1.982,reference_site:374,wildtype:"F"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:2.622,reference_site:374,wildtype:"F"},{mutant:"N",Epitope:"class 3",Escape:3.824,reference_site:374,wildtype:"F"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"T",Epitope:"class 3",Escape:2.045,reference_site:374,wildtype:"F"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:374,wildtype:"F"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:375,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:376,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:377,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:377,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:377,wildtype:"F"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:377,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:377,wildtype:"F"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:378,wildtype:"K"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:380,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:380,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:381,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:381,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:381,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:381,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:381,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:381,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:382,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:382,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:382,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:382,wildtype:"V"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:382,wildtype:"V"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:382,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:383,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:384,wildtype:"P"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:385,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:386,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:387,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:387,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:388,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:389,wildtype:"D"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:390,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:391,wildtype:"C"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:392,wildtype:"F"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:1.417,reference_site:393,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:393,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:1.39,reference_site:394,wildtype:"N"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:394,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:395,wildtype:"V"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:395,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:395,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:395,wildtype:"V"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:395,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"S",Epitope:"class 3",Escape:1.687,reference_site:396,wildtype:"Y"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:396,wildtype:"Y"},{mutant:"C",Epitope:"class 3",Escape:2.542,reference_site:397,wildtype:"A"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:397,wildtype:"A"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:397,wildtype:"A"},{mutant:"V",Epitope:"class 3",Escape:1.978,reference_site:397,wildtype:"A"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:399,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:401,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:402,wildtype:"I"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:402,wildtype:"I"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:402,wildtype:"I"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:403,wildtype:"R"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:403,wildtype:"R"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:403,wildtype:"R"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:403,wildtype:"R"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:403,wildtype:"R"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:404,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:404,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:405,wildtype:"D"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:405,wildtype:"D"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:405,wildtype:"D"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:405,wildtype:"D"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:405,wildtype:"D"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:405,wildtype:"D"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:406,wildtype:"E"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:406,wildtype:"E"},{mutant:"W",Epitope:"class 3",Escape:5.188,reference_site:406,wildtype:"E"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:407,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:407,wildtype:"V"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:408,wildtype:"R"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:409,wildtype:"Q"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:410,wildtype:"I"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:411,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:411,wildtype:"A"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:411,wildtype:"A"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:411,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:411,wildtype:"A"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:413,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:414,wildtype:"Q"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:415,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:417,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:418,wildtype:"I"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:419,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:419,wildtype:"A"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:420,wildtype:"D"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:421,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:424,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:424,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:425,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:425,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:425,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"P",Epitope:"class 3",Escape:1.503,reference_site:427,wildtype:"D"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:427,wildtype:"D"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:428,wildtype:"D"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:429,wildtype:"F"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:430,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:433,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:434,wildtype:"I"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:434,wildtype:"I"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:434,wildtype:"I"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:434,wildtype:"I"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:434,wildtype:"I"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:434,wildtype:"I"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:435,wildtype:"A"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:435,wildtype:"A"},{mutant:"P",Epitope:"class 3",Escape:2.118,reference_site:437,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:438,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:438,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:439,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:439,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:3.203,reference_site:439,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:439,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:1.39,reference_site:439,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:7.542,reference_site:439,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:8.595,reference_site:439,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:439,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:7.33,reference_site:439,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:440,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:4.248,reference_site:440,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:6.774,reference_site:440,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:7.441,reference_site:440,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:8.504,reference_site:440,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:440,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:440,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:9.225,reference_site:440,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:7.161,reference_site:440,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:10.02,reference_site:440,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:6.772,reference_site:440,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:2.617,reference_site:440,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:5.291,reference_site:440,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:440,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:440,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:6.885,reference_site:440,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:6.978,reference_site:440,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:6.909,reference_site:440,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:441,wildtype:"L"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:441,wildtype:"L"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:441,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:441,wildtype:"L"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:441,wildtype:"L"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:441,wildtype:"L"},{mutant:"S",Epitope:"class 3",Escape:7.772,reference_site:441,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:441,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:443,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:443,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:3,reference_site:443,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:7.505,reference_site:443,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:7.334,reference_site:443,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:443,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:2.7,reference_site:443,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:8.278,reference_site:443,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:10.55,reference_site:444,wildtype:"K"},{mutant:"C",Epitope:"class 3",Escape:9.699,reference_site:444,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:8.634,reference_site:444,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:10.12,reference_site:444,wildtype:"K"},{mutant:"F",Epitope:"class 3",Escape:9.948,reference_site:444,wildtype:"K"},{mutant:"G",Epitope:"class 3",Escape:10.23,reference_site:444,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:11.31,reference_site:444,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:11.98,reference_site:444,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:10.34,reference_site:444,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:10.34,reference_site:444,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:9.713,reference_site:444,wildtype:"K"},{mutant:"P",Epitope:"class 3",Escape:11.76,reference_site:444,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:10.37,reference_site:444,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:2.528,reference_site:444,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:10.09,reference_site:444,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:10.88,reference_site:444,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:10.89,reference_site:444,wildtype:"K"},{mutant:"W",Epitope:"class 3",Escape:10.89,reference_site:444,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:10.98,reference_site:444,wildtype:"K"},{mutant:"A",Epitope:"class 3",Escape:10.79,reference_site:445,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:10.49,reference_site:445,wildtype:"V"},{mutant:"D",Epitope:"class 3",Escape:10.01,reference_site:445,wildtype:"V"},{mutant:"E",Epitope:"class 3",Escape:11.95,reference_site:445,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:8.942,reference_site:445,wildtype:"V"},{mutant:"G",Epitope:"class 3",Escape:10.61,reference_site:445,wildtype:"V"},{mutant:"H",Epitope:"class 3",Escape:9.084,reference_site:445,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:445,wildtype:"V"},{mutant:"K",Epitope:"class 3",Escape:16.11,reference_site:445,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:8.324,reference_site:445,wildtype:"V"},{mutant:"M",Epitope:"class 3",Escape:6.767,reference_site:445,wildtype:"V"},{mutant:"N",Epitope:"class 3",Escape:10.5,reference_site:445,wildtype:"V"},{mutant:"P",Epitope:"class 3",Escape:10.65,reference_site:445,wildtype:"V"},{mutant:"Q",Epitope:"class 3",Escape:12.17,reference_site:445,wildtype:"V"},{mutant:"R",Epitope:"class 3",Escape:10.35,reference_site:445,wildtype:"V"},{mutant:"S",Epitope:"class 3",Escape:10.59,reference_site:445,wildtype:"V"},{mutant:"T",Epitope:"class 3",Escape:9.773,reference_site:445,wildtype:"V"},{mutant:"W",Epitope:"class 3",Escape:8.253,reference_site:445,wildtype:"V"},{mutant:"Y",Epitope:"class 3",Escape:10.43,reference_site:445,wildtype:"V"},{mutant:"A",Epitope:"class 3",Escape:7.966,reference_site:446,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:9.553,reference_site:446,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:10.71,reference_site:446,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:9.916,reference_site:446,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:7.874,reference_site:446,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:9.706,reference_site:446,wildtype:"G"},{mutant:"I",Epitope:"class 3",Escape:9.898,reference_site:446,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:11.46,reference_site:446,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:8.665,reference_site:446,wildtype:"G"},{mutant:"M",Epitope:"class 3",Escape:8.429,reference_site:446,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:9.402,reference_site:446,wildtype:"G"},{mutant:"P",Epitope:"class 3",Escape:11.52,reference_site:446,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:10.47,reference_site:446,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:9.909,reference_site:446,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:8.446,reference_site:446,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:11.17,reference_site:446,wildtype:"G"},{mutant:"V",Epitope:"class 3",Escape:10.06,reference_site:446,wildtype:"G"},{mutant:"W",Epitope:"class 3",Escape:8.215,reference_site:446,wildtype:"G"},{mutant:"Y",Epitope:"class 3",Escape:8.446,reference_site:446,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:5.644,reference_site:447,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:7.27,reference_site:447,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:11.18,reference_site:447,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:7.919,reference_site:447,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:9.194,reference_site:447,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:7.971,reference_site:447,wildtype:"G"},{mutant:"I",Epitope:"class 3",Escape:7.151,reference_site:447,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:6.609,reference_site:447,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:9.161,reference_site:447,wildtype:"G"},{mutant:"M",Epitope:"class 3",Escape:6.864,reference_site:447,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:9.757,reference_site:447,wildtype:"G"},{mutant:"P",Epitope:"class 3",Escape:9.348,reference_site:447,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:7.601,reference_site:447,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:5.574,reference_site:447,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:7.495,reference_site:447,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:7.541,reference_site:447,wildtype:"G"},{mutant:"V",Epitope:"class 3",Escape:8.538,reference_site:447,wildtype:"G"},{mutant:"Y",Epitope:"class 3",Escape:7.759,reference_site:447,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:6.887,reference_site:448,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:6.956,reference_site:448,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:7.359,reference_site:448,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:7.448,reference_site:448,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:7.505,reference_site:448,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:6.97,reference_site:448,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:7.488,reference_site:448,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:9.215,reference_site:448,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:7.304,reference_site:448,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:7.75,reference_site:448,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:2.774,reference_site:448,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:4.869,reference_site:448,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:7.565,reference_site:448,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:4.425,reference_site:448,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"P",Epitope:"class 3",Escape:5.909,reference_site:449,wildtype:"Y"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:449,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:2.257,reference_site:450,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:8.548,reference_site:450,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:3.636,reference_site:450,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:10.7,reference_site:450,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:450,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:451,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:452,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:453,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:455,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:456,wildtype:"F"},{mutant:"Y",Epitope:"class 3",Escape:4.619,reference_site:456,wildtype:"F"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:458,wildtype:"K"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:459,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:1.757,reference_site:460,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:460,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:461,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:461,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:461,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:462,wildtype:"K"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:463,wildtype:"P"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"S",Epitope:"class 3",Escape:2.014,reference_site:464,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:464,wildtype:"F"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:465,wildtype:"E"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:465,wildtype:"E"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:465,wildtype:"E"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:465,wildtype:"E"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:466,wildtype:"R"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:466,wildtype:"R"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:466,wildtype:"R"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:468,wildtype:"I"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:469,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:470,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:471,wildtype:"E"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:472,wildtype:"I"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:1.892,reference_site:473,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:473,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:474,wildtype:"Q"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"N",Epitope:"class 3",Escape:3.621,reference_site:475,wildtype:"A"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:475,wildtype:"A"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:476,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:477,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:478,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:479,wildtype:"P"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:481,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:1.335,reference_site:482,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:482,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"M",Epitope:"class 3",Escape:2.206,reference_site:483,wildtype:"V"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:483,wildtype:"V"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:484,wildtype:"E"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:485,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:486,wildtype:"F"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:487,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:489,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:490,wildtype:"F"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:492,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:492,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:492,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:493,wildtype:"Q"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:494,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:2.027,reference_site:496,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:496,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"F",Epitope:"class 3",Escape:3.205,reference_site:498,wildtype:"Q"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:498,wildtype:"Q"},{mutant:"W",Epitope:"class 3",Escape:5.972,reference_site:498,wildtype:"Q"},{mutant:"Y",Epitope:"class 3",Escape:2.196,reference_site:498,wildtype:"Q"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:499,wildtype:"P"},{mutant:"C",Epitope:"class 3",Escape:8.783,reference_site:499,wildtype:"P"},{mutant:"D",Epitope:"class 3",Escape:12.13,reference_site:499,wildtype:"P"},{mutant:"E",Epitope:"class 3",Escape:8.84,reference_site:499,wildtype:"P"},{mutant:"G",Epitope:"class 3",Escape:8.464,reference_site:499,wildtype:"P"},{mutant:"H",Epitope:"class 3",Escape:6.208,reference_site:499,wildtype:"P"},{mutant:"L",Epitope:"class 3",Escape:4.093,reference_site:499,wildtype:"P"},{mutant:"M",Epitope:"class 3",Escape:5.688,reference_site:499,wildtype:"P"},{mutant:"N",Epitope:"class 3",Escape:7.769,reference_site:499,wildtype:"P"},{mutant:"Q",Epitope:"class 3",Escape:7.55,reference_site:499,wildtype:"P"},{mutant:"R",Epitope:"class 3",Escape:9.014,reference_site:499,wildtype:"P"},{mutant:"S",Epitope:"class 3",Escape:8.177,reference_site:499,wildtype:"P"},{mutant:"T",Epitope:"class 3",Escape:7.243,reference_site:499,wildtype:"P"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:499,wildtype:"P"},{mutant:"Y",Epitope:"class 3",Escape:6.284,reference_site:499,wildtype:"P"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:6.8,reference_site:500,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:500,wildtype:"T"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:501,wildtype:"N"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"T",Epitope:"class 3",Escape:1.998,reference_site:503,wildtype:"V"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:503,wildtype:"V"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:504,wildtype:"G"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:505,wildtype:"Y"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"H",Epitope:"class 3",Escape:1.739,reference_site:506,wildtype:"Q"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:506,wildtype:"Q"},{mutant:"A",Epitope:"class 3",Escape:6.259,reference_site:507,wildtype:"P"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:508,wildtype:"Y"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:510,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:512,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:513,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:513,wildtype:"L"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:1.344,reference_site:514,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:514,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:515,wildtype:"F"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:515,wildtype:"F"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:516,wildtype:"E"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:1.474,reference_site:517,wildtype:"L"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:517,wildtype:"L"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:518,wildtype:"L"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"D",Epitope:"class 3",Escape:3.662,reference_site:519,wildtype:"H"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:519,wildtype:"H"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:520,wildtype:"A"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:521,wildtype:"P"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:522,wildtype:"A"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:524,wildtype:"V"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:524,wildtype:"V"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:525,wildtype:"C"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:525,wildtype:"C"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:525,wildtype:"C"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:525,wildtype:"C"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:525,wildtype:"C"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:525,wildtype:"C"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:525,wildtype:"C"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:526,wildtype:"G"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:527,wildtype:"P"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:528,wildtype:"K"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:529,wildtype:"K"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"T",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:530,wildtype:"S"},{mutant:"A",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"C",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"D",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"E",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"F",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"G",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"H",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"I",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"K",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"L",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"M",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"N",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"P",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"Q",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"R",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"S",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"V",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"W",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"},{mutant:"Y",Epitope:"class 3",Escape:0,reference_site:531,wildtype:"T"}],sitemap:{331:{sequential_site:331,protein_site:331,chains:"E"},332:{sequential_site:332,protein_site:332,chains:"E"},333:{sequential_site:333,protein_site:333,chains:"E"},334:{sequential_site:334,protein_site:334,chains:"E"},335:{sequential_site:335,protein_site:335,chains:"E"},336:{sequential_site:336,protein_site:336,chains:"E"},337:{sequential_site:337,protein_site:337,chains:"E"},338:{sequential_site:338,protein_site:338,chains:"E"},339:{sequential_site:339,protein_site:339,chains:"E"},340:{sequential_site:340,protein_site:340,chains:"E"},341:{sequential_site:341,protein_site:341,chains:"E"},342:{sequential_site:342,protein_site:342,chains:"E"},343:{sequential_site:343,protein_site:343,chains:"E"},344:{sequential_site:344,protein_site:344,chains:"E"},345:{sequential_site:345,protein_site:345,chains:"E"},346:{sequential_site:346,protein_site:346,chains:"E"},347:{sequential_site:347,protein_site:347,chains:"E"},348:{sequential_site:348,protein_site:348,chains:"E"},349:{sequential_site:349,protein_site:349,chains:"E"},350:{sequential_site:350,protein_site:350,chains:"E"},351:{sequential_site:351,protein_site:351,chains:"E"},352:{sequential_site:352,protein_site:352,chains:"E"},353:{sequential_site:353,protein_site:353,chains:"E"},354:{sequential_site:354,protein_site:354,chains:"E"},355:{sequential_site:355,protein_site:355,chains:"E"},356:{sequential_site:356,protein_site:356,chains:"E"},357:{sequential_site:357,protein_site:357,chains:"E"},358:{sequential_site:358,protein_site:358,chains:"E"},359:{sequential_site:359,protein_site:359,chains:"E"},360:{sequential_site:360,protein_site:360,chains:"E"},361:{sequential_site:361,protein_site:361,chains:"E"},362:{sequential_site:362,protein_site:362,chains:"E"},363:{sequential_site:363,protein_site:363,chains:"E"},364:{sequential_site:364,protein_site:364,chains:"E"},365:{sequential_site:365,protein_site:365,chains:"E"},366:{sequential_site:366,protein_site:366,chains:"E"},367:{sequential_site:367,protein_site:367,chains:"E"},368:{sequential_site:368,protein_site:368,chains:"E"},369:{sequential_site:369,protein_site:369,chains:"E"},370:{sequential_site:370,protein_site:370,chains:"E"},371:{sequential_site:371,protein_site:371,chains:"E"},372:{sequential_site:372,protein_site:372,chains:"E"},373:{sequential_site:373,protein_site:373,chains:"E"},374:{sequential_site:374,protein_site:374,chains:"E"},375:{sequential_site:375,protein_site:375,chains:"E"},376:{sequential_site:376,protein_site:376,chains:"E"},377:{sequential_site:377,protein_site:377,chains:"E"},378:{sequential_site:378,protein_site:378,chains:"E"},379:{sequential_site:379,protein_site:379,chains:"E"},380:{sequential_site:380,protein_site:380,chains:"E"},381:{sequential_site:381,protein_site:381,chains:"E"},382:{sequential_site:382,protein_site:382,chains:"E"},383:{sequential_site:383,protein_site:383,chains:"E"},384:{sequential_site:384,protein_site:384,chains:"E"},385:{sequential_site:385,protein_site:385,chains:"E"},386:{sequential_site:386,protein_site:386,chains:"E"},387:{sequential_site:387,protein_site:387,chains:"E"},388:{sequential_site:388,protein_site:388,chains:"E"},389:{sequential_site:389,protein_site:389,chains:"E"},390:{sequential_site:390,protein_site:390,chains:"E"},391:{sequential_site:391,protein_site:391,chains:"E"},392:{sequential_site:392,protein_site:392,chains:"E"},393:{sequential_site:393,protein_site:393,chains:"E"},394:{sequential_site:394,protein_site:394,chains:"E"},395:{sequential_site:395,protein_site:395,chains:"E"},396:{sequential_site:396,protein_site:396,chains:"E"},397:{sequential_site:397,protein_site:397,chains:"E"},398:{sequential_site:398,protein_site:398,chains:"E"},399:{sequential_site:399,protein_site:399,chains:"E"},400:{sequential_site:400,protein_site:400,chains:"E"},401:{sequential_site:401,protein_site:401,chains:"E"},402:{sequential_site:402,protein_site:402,chains:"E"},403:{sequential_site:403,protein_site:403,chains:"E"},404:{sequential_site:404,protein_site:404,chains:"E"},405:{sequential_site:405,protein_site:405,chains:"E"},406:{sequential_site:406,protein_site:406,chains:"E"},407:{sequential_site:407,protein_site:407,chains:"E"},408:{sequential_site:408,protein_site:408,chains:"E"},409:{sequential_site:409,protein_site:409,chains:"E"},410:{sequential_site:410,protein_site:410,chains:"E"},411:{sequential_site:411,protein_site:411,chains:"E"},412:{sequential_site:412,protein_site:412,chains:"E"},413:{sequential_site:413,protein_site:413,chains:"E"},414:{sequential_site:414,protein_site:414,chains:"E"},415:{sequential_site:415,protein_site:415,chains:"E"},416:{sequential_site:416,protein_site:416,chains:"E"},417:{sequential_site:417,protein_site:417,chains:"E"},418:{sequential_site:418,protein_site:418,chains:"E"},419:{sequential_site:419,protein_site:419,chains:"E"},420:{sequential_site:420,protein_site:420,chains:"E"},421:{sequential_site:421,protein_site:421,chains:"E"},422:{sequential_site:422,protein_site:422,chains:"E"},423:{sequential_site:423,protein_site:423,chains:"E"},424:{sequential_site:424,protein_site:424,chains:"E"},425:{sequential_site:425,protein_site:425,chains:"E"},426:{sequential_site:426,protein_site:426,chains:"E"},427:{sequential_site:427,protein_site:427,chains:"E"},428:{sequential_site:428,protein_site:428,chains:"E"},429:{sequential_site:429,protein_site:429,chains:"E"},430:{sequential_site:430,protein_site:430,chains:"E"},431:{sequential_site:431,protein_site:431,chains:"E"},432:{sequential_site:432,protein_site:432,chains:"E"},433:{sequential_site:433,protein_site:433,chains:"E"},434:{sequential_site:434,protein_site:434,chains:"E"},435:{sequential_site:435,protein_site:435,chains:"E"},436:{sequential_site:436,protein_site:436,chains:"E"},437:{sequential_site:437,protein_site:437,chains:"E"},438:{sequential_site:438,protein_site:438,chains:"E"},439:{sequential_site:439,protein_site:439,chains:"E"},440:{sequential_site:440,protein_site:440,chains:"E"},441:{sequential_site:441,protein_site:441,chains:"E"},442:{sequential_site:442,protein_site:442,chains:"E"},443:{sequential_site:443,protein_site:443,chains:"E"},444:{sequential_site:444,protein_site:444,chains:"E"},445:{sequential_site:445,protein_site:445,chains:"E"},446:{sequential_site:446,protein_site:446,chains:"E"},447:{sequential_site:447,protein_site:447,chains:"E"},448:{sequential_site:448,protein_site:448,chains:"E"},449:{sequential_site:449,protein_site:449,chains:"E"},450:{sequential_site:450,protein_site:450,chains:"E"},451:{sequential_site:451,protein_site:451,chains:"E"},452:{sequential_site:452,protein_site:452,chains:"E"},453:{sequential_site:453,protein_site:453,chains:"E"},454:{sequential_site:454,protein_site:454,chains:"E"},455:{sequential_site:455,protein_site:455,chains:"E"},456:{sequential_site:456,protein_site:456,chains:"E"},457:{sequential_site:457,protein_site:457,chains:"E"},458:{sequential_site:458,protein_site:458,chains:"E"},459:{sequential_site:459,protein_site:459,chains:"E"},460:{sequential_site:460,protein_site:460,chains:"E"},461:{sequential_site:461,protein_site:461,chains:"E"},462:{sequential_site:462,protein_site:462,chains:"E"},463:{sequential_site:463,protein_site:463,chains:"E"},464:{sequential_site:464,protein_site:464,chains:"E"},465:{sequential_site:465,protein_site:465,chains:"E"},466:{sequential_site:466,protein_site:466,chains:"E"},467:{sequential_site:467,protein_site:467,chains:"E"},468:{sequential_site:468,protein_site:468,chains:"E"},469:{sequential_site:469,protein_site:469,chains:"E"},470:{sequential_site:470,protein_site:470,chains:"E"},471:{sequential_site:471,protein_site:471,chains:"E"},472:{sequential_site:472,protein_site:472,chains:"E"},473:{sequential_site:473,protein_site:473,chains:"E"},474:{sequential_site:474,protein_site:474,chains:"E"},475:{sequential_site:475,protein_site:475,chains:"E"},476:{sequential_site:476,protein_site:476,chains:"E"},477:{sequential_site:477,protein_site:477,chains:"E"},478:{sequential_site:478,protein_site:478,chains:"E"},479:{sequential_site:479,protein_site:479,chains:"E"},480:{sequential_site:480,protein_site:480,chains:"E"},481:{sequential_site:481,protein_site:481,chains:"E"},482:{sequential_site:482,protein_site:482,chains:"E"},483:{sequential_site:483,protein_site:483,chains:"E"},484:{sequential_site:484,protein_site:484,chains:"E"},485:{sequential_site:485,protein_site:485,chains:"E"},486:{sequential_site:486,protein_site:486,chains:"E"},487:{sequential_site:487,protein_site:487,chains:"E"},488:{sequential_site:488,protein_site:488,chains:"E"},489:{sequential_site:489,protein_site:489,chains:"E"},490:{sequential_site:490,protein_site:490,chains:"E"},491:{sequential_site:491,protein_site:491,chains:"E"},492:{sequential_site:492,protein_site:492,chains:"E"},493:{sequential_site:493,protein_site:493,chains:"E"},494:{sequential_site:494,protein_site:494,chains:"E"},495:{sequential_site:495,protein_site:495,chains:"E"},496:{sequential_site:496,protein_site:496,chains:"E"},497:{sequential_site:497,protein_site:497,chains:"E"},498:{sequential_site:498,protein_site:498,chains:"E"},499:{sequential_site:499,protein_site:499,chains:"E"},500:{sequential_site:500,protein_site:500,chains:"E"},501:{sequential_site:501,protein_site:501,chains:"E"},502:{sequential_site:502,protein_site:502,chains:"E"},503:{sequential_site:503,protein_site:503,chains:"E"},504:{sequential_site:504,protein_site:504,chains:"E"},505:{sequential_site:505,protein_site:505,chains:"E"},506:{sequential_site:506,protein_site:506,chains:"E"},507:{sequential_site:507,protein_site:507,chains:"E"},508:{sequential_site:508,protein_site:508,chains:"E"},509:{sequential_site:509,protein_site:509,chains:"E"},510:{sequential_site:510,protein_site:510,chains:"E"},511:{sequential_site:511,protein_site:511,chains:"E"},512:{sequential_site:512,protein_site:512,chains:"E"},513:{sequential_site:513,protein_site:513,chains:"E"},514:{sequential_site:514,protein_site:514,chains:"E"},515:{sequential_site:515,protein_site:515,chains:"E"},516:{sequential_site:516,protein_site:516,chains:"E"},517:{sequential_site:517,protein_site:517,chains:"E"},518:{sequential_site:518,protein_site:518,chains:"E"},519:{sequential_site:519,protein_site:519,chains:"E"},520:{sequential_site:520,protein_site:520,chains:"E"},521:{sequential_site:521,protein_site:521,chains:"E"},522:{sequential_site:522,protein_site:522,chains:"E"},523:{sequential_site:523,protein_site:523,chains:"E"},524:{sequential_site:524,protein_site:524,chains:"E"},525:{sequential_site:525,protein_site:525,chains:"E"},526:{sequential_site:526,protein_site:526,chains:"E"},527:{sequential_site:527,protein_site:527,chains:"E"},528:{sequential_site:528,protein_site:528,chains:"E"},529:{sequential_site:529,protein_site:529,chains:"E"},530:{sequential_site:530,protein_site:530,chains:"E"},531:{sequential_site:531,protein_site:531,chains:"E"}},metric_col:"Escape",condition_col:"Epitope",conditions:["class 2","class 1","class 3"],condition_colors:{"class 2":"#0072B2","class 1":"#CC79A7","class 3":"#4C3549"},alphabet:["R","K","H","D","E","Q","N","S","T","Y","W","F","A","I","L","M","V","G","P","C","-","*"],pdb:`HEADER    VIRAL PROTEIN/HYDROLASE                 21-FEB-20   6M0J              
TITLE     CRYSTAL STRUCTURE OF SARS-COV-2 SPIKE RECEPTOR-BINDING DOMAIN BOUND   
TITLE    2 WITH ACE2                                                            
COMPND    MOL_ID: 1;                                                            
COMPND   2 MOLECULE: ANGIOTENSIN-CONVERTING ENZYME 2;                           
COMPND   3 CHAIN: A;                                                            
COMPND   4 SYNONYM: ACE-RELATED CARBOXYPEPTIDASE,ANGIOTENSIN-CONVERTING ENZYME  
COMPND   5 HOMOLOG,ACEH,METALLOPROTEASE MPROT15;                                
COMPND   6 EC: 3.4.17.23,3.4.17.-;                                              
COMPND   7 ENGINEERED: YES;                                                     
COMPND   8 MOL_ID: 2;                                                           
COMPND   9 MOLECULE: SPIKE PROTEIN S1;                                          
COMPND  10 CHAIN: E;                                                            
COMPND  11 SYNONYM: S GLYCOPROTEIN,E2,PEPLOMER PROTEIN,SPIKE RECEPTOR BINDING   
COMPND  12 DOMAIN;                                                              
COMPND  13 ENGINEERED: YES                                                      
SOURCE    MOL_ID: 1;                                                            
SOURCE   2 ORGANISM_SCIENTIFIC: HOMO SAPIENS;                                   
SOURCE   3 ORGANISM_COMMON: HUMAN;                                              
SOURCE   4 ORGANISM_TAXID: 9606;                                                
SOURCE   5 GENE: ACE2, UNQ868/PRO1885;                                          
SOURCE   6 EXPRESSION_SYSTEM: TRICHOPLUSIA NI;                                  
SOURCE   7 EXPRESSION_SYSTEM_TAXID: 7111;                                       
SOURCE   8 MOL_ID: 2;                                                           
SOURCE   9 ORGANISM_SCIENTIFIC: SEVERE ACUTE RESPIRATORY SYNDROME CORONAVIRUS   
SOURCE  10 2;                                                                   
SOURCE  11 ORGANISM_COMMON: 2019-NCOV;                                          
SOURCE  12 ORGANISM_TAXID: 2697049;                                             
SOURCE  13 GENE: S, 2;                                                          
SOURCE  14 EXPRESSION_SYSTEM: TRICHOPLUSIA NI;                                  
SOURCE  15 EXPRESSION_SYSTEM_TAXID: 7111                                        
KEYWDS    SPIKE, RECEPTOR BINDING, VIRAL PROTEIN-HYDROLASE COMPLEX              
EXPDTA    X-RAY DIFFRACTION                                                     
AUTHOR    X.WANG,J.LAN,J.GE,J.YU,S.SHAN                                         
REVDAT   7   10-MAR-21 6M0J    1       COMPND HETSYN                            
REVDAT   6   29-JUL-20 6M0J    1       COMPND REMARK HETNAM LINK                
REVDAT   6 2                   1       SITE                                     
REVDAT   5   27-MAY-20 6M0J    1       JRNL                                     
REVDAT   4   06-MAY-20 6M0J    1       COMPND SOURCE DBREF  SEQADV              
REVDAT   3   15-APR-20 6M0J    1       JRNL                                     
REVDAT   2   08-APR-20 6M0J    1       TITLE  COMPND JRNL   REMARK              
REVDAT   2 2                   1       HET    HETNAM FORMUL HELIX               
REVDAT   2 3                   1       SHEET  SSBOND LINK   SITE                
REVDAT   2 4                   1       ATOM                                     
REVDAT   1   18-MAR-20 6M0J    0                                                
JRNL        AUTH   J.LAN,J.GE,J.YU,S.SHAN,H.ZHOU,S.FAN,Q.ZHANG,X.SHI,Q.WANG,    
JRNL        AUTH 2 L.ZHANG,X.WANG                                               
JRNL        TITL   STRUCTURE OF THE SARS-COV-2 SPIKE RECEPTOR-BINDING DOMAIN    
JRNL        TITL 2 BOUND TO THE ACE2 RECEPTOR.                                  
JRNL        REF    NATURE                        V. 581   215 2020              
JRNL        REFN                   ESSN 1476-4687                               
JRNL        PMID   32225176                                                     
JRNL        DOI    10.1038/S41586-020-2180-5                                    
REMARK   2                                                                      
REMARK   2 RESOLUTION.    2.45 ANGSTROMS.                                       
REMARK   3                                                                      
REMARK   3 REFINEMENT.                                                          
REMARK   3   PROGRAM     : PHENIX 1.15.2_3472                                   
REMARK   3   AUTHORS     : PAUL ADAMS,PAVEL AFONINE,VINCENT CHEN,IAN            
REMARK   3               : DAVIS,KRESHNA GOPAL,RALF GROSSE-KUNSTLEVE,           
REMARK   3               : LI-WEI HUNG,ROBERT IMMORMINO,TOM IOERGER,            
REMARK   3               : AIRLIE MCCOY,ERIK MCKEE,NIGEL MORIARTY,              
REMARK   3               : REETAL PAI,RANDY READ,JANE RICHARDSON,               
REMARK   3               : DAVID RICHARDSON,TOD ROMO,JIM SACCHETTINI,           
REMARK   3               : NICHOLAS SAUTER,JACOB SMITH,LAURENT                  
REMARK   3               : STORONI,TOM TERWILLIGER,PETER ZWART                  
REMARK   3                                                                      
REMARK   3    REFINEMENT TARGET : ML                                            
REMARK   3                                                                      
REMARK   3  DATA USED IN REFINEMENT.                                            
REMARK   3   RESOLUTION RANGE HIGH (ANGSTROMS) : 2.45                           
REMARK   3   RESOLUTION RANGE LOW  (ANGSTROMS) : 53.11                          
REMARK   3   MIN(FOBS/SIGMA_FOBS)              : 1.350                          
REMARK   3   COMPLETENESS FOR RANGE        (%) : 99.9                           
REMARK   3   NUMBER OF REFLECTIONS             : 47555                          
REMARK   3                                                                      
REMARK   3  FIT TO DATA USED IN REFINEMENT.                                     
REMARK   3   R VALUE     (WORKING + TEST SET) : 0.194                           
REMARK   3   R VALUE            (WORKING SET) : 0.192                           
REMARK   3   FREE R VALUE                     : 0.227                           
REMARK   3   FREE R VALUE TEST SET SIZE   (%) : 5.100                           
REMARK   3   FREE R VALUE TEST SET COUNT      : 2426                            
REMARK   3                                                                      
REMARK   3  FIT TO DATA USED IN REFINEMENT (IN BINS).                           
REMARK   3   BIN  RESOLUTION RANGE  COMPL.    NWORK NFREE   RWORK  RFREE        
REMARK   3     1 53.1050 -  6.2965    0.99     2877   160  0.1734 0.2090        
REMARK   3     2  6.2965 -  4.9989    1.00     2725   163  0.1816 0.1887        
REMARK   3     3  4.9989 -  4.3674    1.00     2676   156  0.1461 0.1835        
REMARK   3     4  4.3674 -  3.9682    1.00     2691   148  0.1650 0.2032        
REMARK   3     5  3.9682 -  3.6838    1.00     2674   133  0.1848 0.2241        
REMARK   3     6  3.6838 -  3.4667    1.00     2665   132  0.2044 0.2638        
REMARK   3     7  3.4667 -  3.2931    1.00     2637   138  0.2254 0.2566        
REMARK   3     8  3.2931 -  3.1498    1.00     2619   159  0.2353 0.2538        
REMARK   3     9  3.1498 -  3.0285    1.00     2644   135  0.2183 0.2690        
REMARK   3    10  3.0285 -  2.9240    1.00     2622   124  0.2139 0.2693        
REMARK   3    11  2.9240 -  2.8326    1.00     2630   138  0.2206 0.2495        
REMARK   3    12  2.8326 -  2.7516    1.00     2612   141  0.2256 0.2597        
REMARK   3    13  2.7516 -  2.6792    1.00     2620   148  0.2518 0.2862        
REMARK   3    14  2.6792 -  2.6138    1.00     2615   140  0.2419 0.3099        
REMARK   3    15  2.6138 -  2.5544    1.00     2600   133  0.2478 0.2929        
REMARK   3    16  2.5544 -  2.5001    1.00     2606   141  0.2626 0.3342        
REMARK   3    17  2.5001 -  2.4501    1.00     2616   137  0.2625 0.3107        
REMARK   3                                                                      
REMARK   3  BULK SOLVENT MODELLING.                                             
REMARK   3   METHOD USED        : FLAT BULK SOLVENT MODEL                       
REMARK   3   SOLVENT RADIUS     : 1.11                                          
REMARK   3   SHRINKAGE RADIUS   : 0.90                                          
REMARK   3   K_SOL              : NULL                                          
REMARK   3   B_SOL              : NULL                                          
REMARK   3                                                                      
REMARK   3  ERROR ESTIMATES.                                                    
REMARK   3   COORDINATE ERROR (MAXIMUM-LIKELIHOOD BASED)     : 0.300            
REMARK   3   PHASE ERROR (DEGREES, MAXIMUM-LIKELIHOOD BASED) : 24.780           
REMARK   3                                                                      
REMARK   3  B VALUES.                                                           
REMARK   3   FROM WILSON PLOT           (A**2) : 61.07                          
REMARK   3   MEAN B VALUE      (OVERALL, A**2) : 65.81                          
REMARK   3   OVERALL ANISOTROPIC B VALUE.                                       
REMARK   3    B11 (A**2) : NULL                                                 
REMARK   3    B22 (A**2) : NULL                                                 
REMARK   3    B33 (A**2) : NULL                                                 
REMARK   3    B12 (A**2) : NULL                                                 
REMARK   3    B13 (A**2) : NULL                                                 
REMARK   3    B23 (A**2) : NULL                                                 
REMARK   3                                                                      
REMARK   3  TWINNING INFORMATION.                                               
REMARK   3   FRACTION: NULL                                                     
REMARK   3   OPERATOR: NULL                                                     
REMARK   3                                                                      
REMARK   3  DEVIATIONS FROM IDEAL VALUES.                                       
REMARK   3                 RMSD          COUNT                                  
REMARK   3   BOND      :   NULL           NULL                                  
REMARK   3   ANGLE     :   NULL           NULL                                  
REMARK   3   CHIRALITY :   NULL           NULL                                  
REMARK   3   PLANARITY :   NULL           NULL                                  
REMARK   3   DIHEDRAL  :   NULL           NULL                                  
REMARK   3                                                                      
REMARK   3  TLS DETAILS                                                         
REMARK   3   NUMBER OF TLS GROUPS  : NULL                                       
REMARK   3                                                                      
REMARK   3  NCS DETAILS                                                         
REMARK   3   NUMBER OF NCS GROUPS : NULL                                        
REMARK   3                                                                      
REMARK   3  OTHER REFINEMENT REMARKS: NULL                                      
REMARK   4                                                                      
REMARK   4 6M0J COMPLIES WITH FORMAT V. 3.30, 13-JUL-11                         
REMARK 100                                                                      
REMARK 100 THIS ENTRY HAS BEEN PROCESSED BY PDBJ ON 25-FEB-20.                  
REMARK 100 THE DEPOSITION ID IS D_1300015820.                                   
REMARK 200                                                                      
REMARK 200 EXPERIMENTAL DETAILS                                                 
REMARK 200  EXPERIMENT TYPE                : X-RAY DIFFRACTION                  
REMARK 200  DATE OF DATA COLLECTION        : 17-FEB-20                          
REMARK 200  TEMPERATURE           (KELVIN) : 100                                
REMARK 200  PH                             : NULL                               
REMARK 200  NUMBER OF CRYSTALS USED        : 1                                  
REMARK 200                                                                      
REMARK 200  SYNCHROTRON              (Y/N) : Y                                  
REMARK 200  RADIATION SOURCE               : SSRF                               
REMARK 200  BEAMLINE                       : BL17U                              
REMARK 200  X-RAY GENERATOR MODEL          : NULL                               
REMARK 200  MONOCHROMATIC OR LAUE    (M/L) : M                                  
REMARK 200  WAVELENGTH OR RANGE        (A) : 0.9796                             
REMARK 200  MONOCHROMATOR                  : NULL                               
REMARK 200  OPTICS                         : NULL                               
REMARK 200                                                                      
REMARK 200  DETECTOR TYPE                  : PIXEL                              
REMARK 200  DETECTOR MANUFACTURER          : DECTRIS EIGER X 16M                
REMARK 200  INTENSITY-INTEGRATION SOFTWARE : XDS                                
REMARK 200  DATA SCALING SOFTWARE          : XDS                                
REMARK 200                                                                      
REMARK 200  NUMBER OF UNIQUE REFLECTIONS   : 47679                              
REMARK 200  RESOLUTION RANGE HIGH      (A) : 2.450                              
REMARK 200  RESOLUTION RANGE LOW       (A) : 95.180                             
REMARK 200  REJECTION CRITERIA  (SIGMA(I)) : NULL                               
REMARK 200                                                                      
REMARK 200 OVERALL.                                                             
REMARK 200  COMPLETENESS FOR RANGE     (%) : 100.0                              
REMARK 200  DATA REDUNDANCY                : 26.10                              
REMARK 200  R MERGE                    (I) : 0.12000                            
REMARK 200  R SYM                      (I) : NULL                               
REMARK 200  <I/SIGMA(I)> FOR THE DATA SET  : 24.2000                            
REMARK 200                                                                      
REMARK 200 IN THE HIGHEST RESOLUTION SHELL.                                     
REMARK 200  HIGHEST RESOLUTION SHELL, RANGE HIGH (A) : 2.45                     
REMARK 200  HIGHEST RESOLUTION SHELL, RANGE LOW  (A) : 2.51                     
REMARK 200  COMPLETENESS FOR SHELL     (%) : NULL                               
REMARK 200  DATA REDUNDANCY IN SHELL       : NULL                               
REMARK 200  R MERGE FOR SHELL          (I) : 2.75000                            
REMARK 200  R SYM FOR SHELL            (I) : NULL                               
REMARK 200  <I/SIGMA(I)> FOR SHELL         : NULL                               
REMARK 200                                                                      
REMARK 200 DIFFRACTION PROTOCOL: SINGLE WAVELENGTH                              
REMARK 200 METHOD USED TO DETERMINE THE STRUCTURE: MOLECULAR REPLACEMENT        
REMARK 200 SOFTWARE USED: PHASER                                                
REMARK 200 STARTING MODEL: 2AJF                                                 
REMARK 200                                                                      
REMARK 200 REMARK: NULL                                                         
REMARK 280                                                                      
REMARK 280 CRYSTAL                                                              
REMARK 280 SOLVENT CONTENT, VS   (%): 64.29                                     
REMARK 280 MATTHEWS COEFFICIENT, VM (ANGSTROMS**3/DA): 3.44                     
REMARK 280                                                                      
REMARK 280 CRYSTALLIZATION CONDITIONS: 0.1M MES, PEG5000MME, VAPOR DIFFUSION,   
REMARK 280  HANGING DROP, TEMPERATURE 298K                                      
REMARK 290                                                                      
REMARK 290 CRYSTALLOGRAPHIC SYMMETRY                                            
REMARK 290 SYMMETRY OPERATORS FOR SPACE GROUP: P 41 21 2                        
REMARK 290                                                                      
REMARK 290      SYMOP   SYMMETRY                                                
REMARK 290     NNNMMM   OPERATOR                                                
REMARK 290       1555   X,Y,Z                                                   
REMARK 290       2555   -X,-Y,Z+1/2                                             
REMARK 290       3555   -Y+1/2,X+1/2,Z+1/4                                      
REMARK 290       4555   Y+1/2,-X+1/2,Z+3/4                                      
REMARK 290       5555   -X+1/2,Y+1/2,-Z+1/4                                     
REMARK 290       6555   X+1/2,-Y+1/2,-Z+3/4                                     
REMARK 290       7555   Y,X,-Z                                                  
REMARK 290       8555   -Y,-X,-Z+1/2                                            
REMARK 290                                                                      
REMARK 290     WHERE NNN -> OPERATOR NUMBER                                     
REMARK 290           MMM -> TRANSLATION VECTOR                                  
REMARK 290                                                                      
REMARK 290 CRYSTALLOGRAPHIC SYMMETRY TRANSFORMATIONS                            
REMARK 290 THE FOLLOWING TRANSFORMATIONS OPERATE ON THE ATOM/HETATM             
REMARK 290 RECORDS IN THIS ENTRY TO PRODUCE CRYSTALLOGRAPHICALLY                
REMARK 290 RELATED MOLECULES.                                                   
REMARK 290   SMTRY1   1  1.000000  0.000000  0.000000        0.00000            
REMARK 290   SMTRY2   1  0.000000  1.000000  0.000000        0.00000            
REMARK 290   SMTRY3   1  0.000000  0.000000  1.000000        0.00000            
REMARK 290   SMTRY1   2 -1.000000  0.000000  0.000000        0.00000            
REMARK 290   SMTRY2   2  0.000000 -1.000000  0.000000        0.00000            
REMARK 290   SMTRY3   2  0.000000  0.000000  1.000000      114.36000            
REMARK 290   SMTRY1   3  0.000000 -1.000000  0.000000       52.33500            
REMARK 290   SMTRY2   3  1.000000  0.000000  0.000000       52.33500            
REMARK 290   SMTRY3   3  0.000000  0.000000  1.000000       57.18000            
REMARK 290   SMTRY1   4  0.000000  1.000000  0.000000       52.33500            
REMARK 290   SMTRY2   4 -1.000000  0.000000  0.000000       52.33500            
REMARK 290   SMTRY3   4  0.000000  0.000000  1.000000      171.54000            
REMARK 290   SMTRY1   5 -1.000000  0.000000  0.000000       52.33500            
REMARK 290   SMTRY2   5  0.000000  1.000000  0.000000       52.33500            
REMARK 290   SMTRY3   5  0.000000  0.000000 -1.000000       57.18000            
REMARK 290   SMTRY1   6  1.000000  0.000000  0.000000       52.33500            
REMARK 290   SMTRY2   6  0.000000 -1.000000  0.000000       52.33500            
REMARK 290   SMTRY3   6  0.000000  0.000000 -1.000000      171.54000            
REMARK 290   SMTRY1   7  0.000000  1.000000  0.000000        0.00000            
REMARK 290   SMTRY2   7  1.000000  0.000000  0.000000        0.00000            
REMARK 290   SMTRY3   7  0.000000  0.000000 -1.000000        0.00000            
REMARK 290   SMTRY1   8  0.000000 -1.000000  0.000000        0.00000            
REMARK 290   SMTRY2   8 -1.000000  0.000000  0.000000        0.00000            
REMARK 290   SMTRY3   8  0.000000  0.000000 -1.000000      114.36000            
REMARK 290                                                                      
REMARK 290 REMARK: NULL                                                         
REMARK 300                                                                      
REMARK 300 BIOMOLECULE: 1                                                       
REMARK 300 SEE REMARK 350 FOR THE AUTHOR PROVIDED AND/OR PROGRAM                
REMARK 300 GENERATED ASSEMBLY INFORMATION FOR THE STRUCTURE IN                  
REMARK 300 THIS ENTRY. THE REMARK MAY ALSO PROVIDE INFORMATION ON               
REMARK 300 BURIED SURFACE AREA.                                                 
REMARK 350                                                                      
REMARK 350 COORDINATES FOR A COMPLETE MULTIMER REPRESENTING THE KNOWN           
REMARK 350 BIOLOGICALLY SIGNIFICANT OLIGOMERIZATION STATE OF THE                
REMARK 350 MOLECULE CAN BE GENERATED BY APPLYING BIOMT TRANSFORMATIONS          
REMARK 350 GIVEN BELOW.  BOTH NON-CRYSTALLOGRAPHIC AND                          
REMARK 350 CRYSTALLOGRAPHIC OPERATIONS ARE GIVEN.                               
REMARK 350                                                                      
REMARK 350 BIOMOLECULE: 1                                                       
REMARK 350 AUTHOR DETERMINED BIOLOGICAL UNIT: DIMERIC                           
REMARK 350 APPLY THE FOLLOWING TO CHAINS: A, E                                  
REMARK 350   BIOMT1   1  1.000000  0.000000  0.000000        0.00000            
REMARK 350   BIOMT2   1  0.000000  1.000000  0.000000        0.00000            
REMARK 350   BIOMT3   1  0.000000  0.000000  1.000000        0.00000            
REMARK 465                                                                      
REMARK 465 MISSING RESIDUES                                                     
REMARK 465 THE FOLLOWING RESIDUES WERE NOT LOCATED IN THE                       
REMARK 465 EXPERIMENT. (M=MODEL NUMBER; RES=RESIDUE NAME; C=CHAIN               
REMARK 465 IDENTIFIER; SSSEQ=SEQUENCE NUMBER; I=INSERTION CODE.)                
REMARK 465                                                                      
REMARK 465   M RES C SSSEQI                                                     
REMARK 465     HIS A   616                                                      
REMARK 465     HIS A   617                                                      
REMARK 465     HIS A   618                                                      
REMARK 465     HIS A   619                                                      
REMARK 465     HIS A   620                                                      
REMARK 465     HIS A   621                                                      
REMARK 465     ARG E   319                                                      
REMARK 465     VAL E   320                                                      
REMARK 465     GLN E   321                                                      
REMARK 465     PRO E   322                                                      
REMARK 465     THR E   323                                                      
REMARK 465     GLU E   324                                                      
REMARK 465     SER E   325                                                      
REMARK 465     ILE E   326                                                      
REMARK 465     VAL E   327                                                      
REMARK 465     ARG E   328                                                      
REMARK 465     PHE E   329                                                      
REMARK 465     PRO E   330                                                      
REMARK 465     ASN E   331                                                      
REMARK 465     ILE E   332                                                      
REMARK 465     PRO E   527                                                      
REMARK 465     LYS E   528                                                      
REMARK 465     LYS E   529                                                      
REMARK 465     SER E   530                                                      
REMARK 465     THR E   531                                                      
REMARK 465     ASN E   532                                                      
REMARK 465     LEU E   533                                                      
REMARK 465     VAL E   534                                                      
REMARK 465     LYS E   535                                                      
REMARK 465     ASN E   536                                                      
REMARK 465     LYS E   537                                                      
REMARK 465     CYS E   538                                                      
REMARK 465     VAL E   539                                                      
REMARK 465     ASN E   540                                                      
REMARK 465     PHE E   541                                                      
REMARK 465     HIS E   542                                                      
REMARK 465     HIS E   543                                                      
REMARK 465     HIS E   544                                                      
REMARK 465     HIS E   545                                                      
REMARK 465     HIS E   546                                                      
REMARK 465     HIS E   547                                                      
REMARK 500                                                                      
REMARK 500 GEOMETRY AND STEREOCHEMISTRY                                         
REMARK 500 SUBTOPIC: TORSION ANGLES                                             
REMARK 500                                                                      
REMARK 500 TORSION ANGLES OUTSIDE THE EXPECTED RAMACHANDRAN REGIONS:            
REMARK 500 (M=MODEL NUMBER; RES=RESIDUE NAME; C=CHAIN IDENTIFIER;               
REMARK 500 SSEQ=SEQUENCE NUMBER; I=INSERTION CODE).                             
REMARK 500                                                                      
REMARK 500 STANDARD TABLE:                                                      
REMARK 500 FORMAT:(10X,I3,1X,A3,1X,A1,I4,A1,4X,F7.2,3X,F7.2)                    
REMARK 500                                                                      
REMARK 500 EXPECTED VALUES: GJ KLEYWEGT AND TA JONES (1996). PHI/PSI-           
REMARK 500 CHOLOGY: RAMACHANDRAN REVISITED. STRUCTURE 4, 1395 - 1400            
REMARK 500                                                                      
REMARK 500  M RES CSSEQI        PSI       PHI                                   
REMARK 500    ASN A  53       81.64   -168.49                                   
REMARK 500    GLN A 102       93.91    -55.94                                   
REMARK 500    SER A 106        4.77    -65.30                                   
REMARK 500    PRO A 135       11.09    -67.93                                   
REMARK 500    ASP A 198     -177.48   -170.49                                   
REMARK 500    PRO A 336       38.24    -72.96                                   
REMARK 500    ALA E 352       51.19   -117.71                                   
REMARK 500    PHE E 377       79.35   -155.20                                   
REMARK 500    ASP E 389       61.03   -105.13                                   
REMARK 500    ASN E 422      -56.95   -126.94                                   
REMARK 500    ASP E 428       45.46    -81.87                                   
REMARK 500    PHE E 464       19.07     56.05                                   
REMARK 500                                                                      
REMARK 500 REMARK: NULL                                                         
REMARK 620                                                                      
REMARK 620 METAL COORDINATION                                                   
REMARK 620 (M=MODEL NUMBER; RES=RESIDUE NAME; C=CHAIN IDENTIFIER;               
REMARK 620 SSEQ=SEQUENCE NUMBER; I=INSERTION CODE):                             
REMARK 620                                                                      
REMARK 620 COORDINATION ANGLES FOR:  M RES CSSEQI METAL                         
REMARK 620                              ZN A 901  ZN                            
REMARK 620 N RES CSSEQI ATOM                                                    
REMARK 620 1 HIS A 374   NE2                                                    
REMARK 620 2 HIS A 378   NE2 101.9                                              
REMARK 620 3 GLU A 402   OE1 112.5  83.9                                        
REMARK 620 N                    1     2                                         
DBREF  6M0J A   19   615  UNP    Q9BYF1   ACE2_HUMAN      19    615             
DBREF  6M0J E  319   541  UNP    P0DTC2   SPIKE_SARS2    319    541             
SEQADV 6M0J HIS A  616  UNP  Q9BYF1              EXPRESSION TAG                 
SEQADV 6M0J HIS A  617  UNP  Q9BYF1              EXPRESSION TAG                 
SEQADV 6M0J HIS A  618  UNP  Q9BYF1              EXPRESSION TAG                 
SEQADV 6M0J HIS A  619  UNP  Q9BYF1              EXPRESSION TAG                 
SEQADV 6M0J HIS A  620  UNP  Q9BYF1              EXPRESSION TAG                 
SEQADV 6M0J HIS A  621  UNP  Q9BYF1              EXPRESSION TAG                 
SEQADV 6M0J HIS E  542  UNP  P0DTC2              EXPRESSION TAG                 
SEQADV 6M0J HIS E  543  UNP  P0DTC2              EXPRESSION TAG                 
SEQADV 6M0J HIS E  544  UNP  P0DTC2              EXPRESSION TAG                 
SEQADV 6M0J HIS E  545  UNP  P0DTC2              EXPRESSION TAG                 
SEQADV 6M0J HIS E  546  UNP  P0DTC2              EXPRESSION TAG                 
SEQADV 6M0J HIS E  547  UNP  P0DTC2              EXPRESSION TAG                 
SEQRES   1 A  603  SER THR ILE GLU GLU GLN ALA LYS THR PHE LEU ASP LYS          
SEQRES   2 A  603  PHE ASN HIS GLU ALA GLU ASP LEU PHE TYR GLN SER SER          
SEQRES   3 A  603  LEU ALA SER TRP ASN TYR ASN THR ASN ILE THR GLU GLU          
SEQRES   4 A  603  ASN VAL GLN ASN MET ASN ASN ALA GLY ASP LYS TRP SER          
SEQRES   5 A  603  ALA PHE LEU LYS GLU GLN SER THR LEU ALA GLN MET TYR          
SEQRES   6 A  603  PRO LEU GLN GLU ILE GLN ASN LEU THR VAL LYS LEU GLN          
SEQRES   7 A  603  LEU GLN ALA LEU GLN GLN ASN GLY SER SER VAL LEU SER          
SEQRES   8 A  603  GLU ASP LYS SER LYS ARG LEU ASN THR ILE LEU ASN THR          
SEQRES   9 A  603  MET SER THR ILE TYR SER THR GLY LYS VAL CYS ASN PRO          
SEQRES  10 A  603  ASP ASN PRO GLN GLU CYS LEU LEU LEU GLU PRO GLY LEU          
SEQRES  11 A  603  ASN GLU ILE MET ALA ASN SER LEU ASP TYR ASN GLU ARG          
SEQRES  12 A  603  LEU TRP ALA TRP GLU SER TRP ARG SER GLU VAL GLY LYS          
SEQRES  13 A  603  GLN LEU ARG PRO LEU TYR GLU GLU TYR VAL VAL LEU LYS          
SEQRES  14 A  603  ASN GLU MET ALA ARG ALA ASN HIS TYR GLU ASP TYR GLY          
SEQRES  15 A  603  ASP TYR TRP ARG GLY ASP TYR GLU VAL ASN GLY VAL ASP          
SEQRES  16 A  603  GLY TYR ASP TYR SER ARG GLY GLN LEU ILE GLU ASP VAL          
SEQRES  17 A  603  GLU HIS THR PHE GLU GLU ILE LYS PRO LEU TYR GLU HIS          
SEQRES  18 A  603  LEU HIS ALA TYR VAL ARG ALA LYS LEU MET ASN ALA TYR          
SEQRES  19 A  603  PRO SER TYR ILE SER PRO ILE GLY CYS LEU PRO ALA HIS          
SEQRES  20 A  603  LEU LEU GLY ASP MET TRP GLY ARG PHE TRP THR ASN LEU          
SEQRES  21 A  603  TYR SER LEU THR VAL PRO PHE GLY GLN LYS PRO ASN ILE          
SEQRES  22 A  603  ASP VAL THR ASP ALA MET VAL ASP GLN ALA TRP ASP ALA          
SEQRES  23 A  603  GLN ARG ILE PHE LYS GLU ALA GLU LYS PHE PHE VAL SER          
SEQRES  24 A  603  VAL GLY LEU PRO ASN MET THR GLN GLY PHE TRP GLU ASN          
SEQRES  25 A  603  SER MET LEU THR ASP PRO GLY ASN VAL GLN LYS ALA VAL          
SEQRES  26 A  603  CYS HIS PRO THR ALA TRP ASP LEU GLY LYS GLY ASP PHE          
SEQRES  27 A  603  ARG ILE LEU MET CYS THR LYS VAL THR MET ASP ASP PHE          
SEQRES  28 A  603  LEU THR ALA HIS HIS GLU MET GLY HIS ILE GLN TYR ASP          
SEQRES  29 A  603  MET ALA TYR ALA ALA GLN PRO PHE LEU LEU ARG ASN GLY          
SEQRES  30 A  603  ALA ASN GLU GLY PHE HIS GLU ALA VAL GLY GLU ILE MET          
SEQRES  31 A  603  SER LEU SER ALA ALA THR PRO LYS HIS LEU LYS SER ILE          
SEQRES  32 A  603  GLY LEU LEU SER PRO ASP PHE GLN GLU ASP ASN GLU THR          
SEQRES  33 A  603  GLU ILE ASN PHE LEU LEU LYS GLN ALA LEU THR ILE VAL          
SEQRES  34 A  603  GLY THR LEU PRO PHE THR TYR MET LEU GLU LYS TRP ARG          
SEQRES  35 A  603  TRP MET VAL PHE LYS GLY GLU ILE PRO LYS ASP GLN TRP          
SEQRES  36 A  603  MET LYS LYS TRP TRP GLU MET LYS ARG GLU ILE VAL GLY          
SEQRES  37 A  603  VAL VAL GLU PRO VAL PRO HIS ASP GLU THR TYR CYS ASP          
SEQRES  38 A  603  PRO ALA SER LEU PHE HIS VAL SER ASN ASP TYR SER PHE          
SEQRES  39 A  603  ILE ARG TYR TYR THR ARG THR LEU TYR GLN PHE GLN PHE          
SEQRES  40 A  603  GLN GLU ALA LEU CYS GLN ALA ALA LYS HIS GLU GLY PRO          
SEQRES  41 A  603  LEU HIS LYS CYS ASP ILE SER ASN SER THR GLU ALA GLY          
SEQRES  42 A  603  GLN LYS LEU PHE ASN MET LEU ARG LEU GLY LYS SER GLU          
SEQRES  43 A  603  PRO TRP THR LEU ALA LEU GLU ASN VAL VAL GLY ALA LYS          
SEQRES  44 A  603  ASN MET ASN VAL ARG PRO LEU LEU ASN TYR PHE GLU PRO          
SEQRES  45 A  603  LEU PHE THR TRP LEU LYS ASP GLN ASN LYS ASN SER PHE          
SEQRES  46 A  603  VAL GLY TRP SER THR ASP TRP SER PRO TYR ALA ASP HIS          
SEQRES  47 A  603  HIS HIS HIS HIS HIS                                          
SEQRES   1 E  229  ARG VAL GLN PRO THR GLU SER ILE VAL ARG PHE PRO ASN          
SEQRES   2 E  229  ILE THR ASN LEU CYS PRO PHE GLY GLU VAL PHE ASN ALA          
SEQRES   3 E  229  THR ARG PHE ALA SER VAL TYR ALA TRP ASN ARG LYS ARG          
SEQRES   4 E  229  ILE SER ASN CYS VAL ALA ASP TYR SER VAL LEU TYR ASN          
SEQRES   5 E  229  SER ALA SER PHE SER THR PHE LYS CYS TYR GLY VAL SER          
SEQRES   6 E  229  PRO THR LYS LEU ASN ASP LEU CYS PHE THR ASN VAL TYR          
SEQRES   7 E  229  ALA ASP SER PHE VAL ILE ARG GLY ASP GLU VAL ARG GLN          
SEQRES   8 E  229  ILE ALA PRO GLY GLN THR GLY LYS ILE ALA ASP TYR ASN          
SEQRES   9 E  229  TYR LYS LEU PRO ASP ASP PHE THR GLY CYS VAL ILE ALA          
SEQRES  10 E  229  TRP ASN SER ASN ASN LEU ASP SER LYS VAL GLY GLY ASN          
SEQRES  11 E  229  TYR ASN TYR LEU TYR ARG LEU PHE ARG LYS SER ASN LEU          
SEQRES  12 E  229  LYS PRO PHE GLU ARG ASP ILE SER THR GLU ILE TYR GLN          
SEQRES  13 E  229  ALA GLY SER THR PRO CYS ASN GLY VAL GLU GLY PHE ASN          
SEQRES  14 E  229  CYS TYR PHE PRO LEU GLN SER TYR GLY PHE GLN PRO THR          
SEQRES  15 E  229  ASN GLY VAL GLY TYR GLN PRO TYR ARG VAL VAL VAL LEU          
SEQRES  16 E  229  SER PHE GLU LEU LEU HIS ALA PRO ALA THR VAL CYS GLY          
SEQRES  17 E  229  PRO LYS LYS SER THR ASN LEU VAL LYS ASN LYS CYS VAL          
SEQRES  18 E  229  ASN PHE HIS HIS HIS HIS HIS HIS                              
HET     ZN  A 901       1                                                       
HET     CL  A 902       1                                                       
HET    NAG  A 903      14                                                       
HET    NAG  A 904      14                                                       
HET    NAG  A 905      14                                                       
HET    NAG  A 906      14                                                       
HET    NAG  E 601      14                                                       
HETNAM      ZN ZINC ION                                                         
HETNAM      CL CHLORIDE ION                                                     
HETNAM     NAG 2-ACETAMIDO-2-DEOXY-BETA-D-GLUCOPYRANOSE                         
HETSYN     NAG N-ACETYL-BETA-D-GLUCOSAMINE; 2-ACETAMIDO-2-DEOXY-BETA-           
HETSYN   2 NAG  D-GLUCOSE; 2-ACETAMIDO-2-DEOXY-D-GLUCOSE; 2-ACETAMIDO-          
HETSYN   3 NAG  2-DEOXY-GLUCOSE; N-ACETYL-D-GLUCOSAMINE                         
FORMUL   3   ZN    ZN 2+                                                        
FORMUL   4   CL    CL 1-                                                        
FORMUL   5  NAG    5(C8 H15 N O6)                                               
FORMUL  10  HOH   *80(H2 O)                                                     
HELIX    1 AA1 THR A   20  THR A   52  1                                  33    
HELIX    2 AA2 THR A   55  GLN A   81  1                                  27    
HELIX    3 AA3 MET A   82  TYR A   83  5                                   2    
HELIX    4 AA4 PRO A   84  ILE A   88  5                                   5    
HELIX    5 AA5 ASN A   90  GLN A  102  1                                  13    
HELIX    6 AA6 ASN A  103  LEU A  108  5                                   6    
HELIX    7 AA7 SER A  109  GLY A  130  1                                  22    
HELIX    8 AA8 PRO A  146  SER A  155  1                                  10    
HELIX    9 AA9 ASP A  157  VAL A  172  1                                  16    
HELIX   10 AB1 VAL A  172  ASN A  194  1                                  23    
HELIX   11 AB2 ASP A  198  GLY A  205  1                                   8    
HELIX   12 AB3 ASP A  206  GLU A  208  5                                   3    
HELIX   13 AB4 SER A  218  TYR A  252  1                                  35    
HELIX   14 AB5 HIS A  265  LEU A  267  5                                   3    
HELIX   15 AB6 TRP A  275  ASN A  277  5                                   3    
HELIX   16 AB7 LEU A  278  VAL A  283  1                                   6    
HELIX   17 AB8 VAL A  293  GLN A  300  1                                   8    
HELIX   18 AB9 ASP A  303  VAL A  318  1                                  16    
HELIX   19 AC1 THR A  324  SER A  331  1                                   8    
HELIX   20 AC2 THR A  365  TYR A  385  1                                  21    
HELIX   21 AC3 PRO A  389  ARG A  393  5                                   5    
HELIX   22 AC4 GLY A  399  THR A  414  1                                  16    
HELIX   23 AC5 THR A  414  ILE A  421  1                                   8    
HELIX   24 AC6 ASP A  431  LYS A  465  1                                  35    
HELIX   25 AC7 PRO A  469  ASP A  471  5                                   3    
HELIX   26 AC8 GLN A  472  ILE A  484  1                                  13    
HELIX   27 AC9 CYS A  498  SER A  502  5                                   5    
HELIX   28 AD1 LEU A  503  ASN A  508  1                                   6    
HELIX   29 AD2 ILE A  513  ALA A  533  1                                  21    
HELIX   30 AD3 PRO A  538  CYS A  542  5                                   5    
HELIX   31 AD4 SER A  547  ARG A  559  1                                  13    
HELIX   32 AD5 PRO A  565  GLY A  575  1                                  11    
HELIX   33 AD6 VAL A  581  ASN A  599  1                                  19    
HELIX   34 AD7 LYS A  600  SER A  602  5                                   3    
HELIX   35 AD8 PHE E  338  ASN E  343  1                                   6    
HELIX   36 AD9 SER E  349  TRP E  353  5                                   5    
HELIX   37 AE1 ASP E  364  ASN E  370  1                                   7    
HELIX   38 AE2 SER E  383  ASN E  388  1                                   6    
HELIX   39 AE3 ASP E  405  ILE E  410  5                                   6    
HELIX   40 AE4 GLY E  416  ASN E  422  1                                   7    
HELIX   41 AE5 SER E  438  SER E  443  1                                   6    
HELIX   42 AE6 GLY E  502  TYR E  505  5                                   4    
SHEET    1 AA1 2 LYS A 131  CYS A 133  0                                        
SHEET    2 AA1 2 CYS A 141  LEU A 143 -1  O  LEU A 142   N  VAL A 132           
SHEET    1 AA2 2 LEU A 262  PRO A 263  0                                        
SHEET    2 AA2 2 VAL A 487  VAL A 488  1  O  VAL A 488   N  LEU A 262           
SHEET    1 AA3 2 THR A 347  GLY A 352  0                                        
SHEET    2 AA3 2 ASP A 355  LEU A 359 -1  O  ARG A 357   N  TRP A 349           
SHEET    1 AA4 5 ASN E 354  ILE E 358  0                                        
SHEET    2 AA4 5 ASN E 394  ARG E 403 -1  O  VAL E 395   N  ILE E 358           
SHEET    3 AA4 5 PRO E 507  GLU E 516 -1  O  VAL E 512   N  ASP E 398           
SHEET    4 AA4 5 CYS E 432  ASN E 437 -1  N  ILE E 434   O  VAL E 511           
SHEET    5 AA4 5 THR E 376  CYS E 379 -1  N  THR E 376   O  ALA E 435           
SHEET    1 AA5 2 CYS E 361  VAL E 362  0                                        
SHEET    2 AA5 2 VAL E 524  CYS E 525  1  O  CYS E 525   N  CYS E 361           
SHEET    1 AA6 2 LEU E 452  ARG E 454  0                                        
SHEET    2 AA6 2 LEU E 492  SER E 494 -1  O  GLN E 493   N  TYR E 453           
SHEET    1 AA7 2 TYR E 473  GLN E 474  0                                        
SHEET    2 AA7 2 CYS E 488  TYR E 489 -1  O  TYR E 489   N  TYR E 473           
SSBOND   1 CYS A  133    CYS A  141                          1555   1555  2.06  
SSBOND   2 CYS A  344    CYS A  361                          1555   1555  2.04  
SSBOND   3 CYS A  530    CYS A  542                          1555   1555  2.02  
SSBOND   4 CYS E  336    CYS E  361                          1555   1555  2.04  
SSBOND   5 CYS E  379    CYS E  432                          1555   1555  2.04  
SSBOND   6 CYS E  391    CYS E  525                          1555   1555  2.05  
SSBOND   7 CYS E  480    CYS E  488                          1555   1555  2.07  
LINK         ND2 ASN A  53                 C1  NAG A 906     1555   1555  1.45  
LINK         ND2 ASN A  90                 C1  NAG A 904     1555   1555  1.44  
LINK         ND2 ASN A 322                 C1  NAG A 905     1555   1555  1.45  
LINK         ND2 ASN A 546                 C1  NAG A 903     1555   1555  1.45  
LINK         ND2 ASN E 343                 C1  NAG E 601     1555   1555  1.45  
LINK         NE2 HIS A 374                ZN    ZN A 901     1555   1555  2.40  
LINK         NE2 HIS A 378                ZN    ZN A 901     1555   1555  2.27  
LINK         OE1 GLU A 402                ZN    ZN A 901     1555   1555  2.10  
CISPEP   1 GLU A  145    PRO A  146          0         4.81                     
CRYST1  104.670  104.670  228.720  90.00  90.00  90.00 P 41 21 2     8          
ORIGX1      1.000000  0.000000  0.000000        0.00000                         
ORIGX2      0.000000  1.000000  0.000000        0.00000                         
ORIGX3      0.000000  0.000000  1.000000        0.00000                         
SCALE1      0.009554  0.000000  0.000000        0.00000                         
SCALE2      0.000000  0.009554  0.000000        0.00000                         
SCALE3      0.000000  0.000000  0.004372        0.00000                         
ATOM      1  N   SER A  19     -31.455  49.474   2.505  1.00 78.93           N  
ATOM      2  CA  SER A  19     -31.359  50.852   2.040  1.00 84.03           C  
ATOM      3  C   SER A  19     -31.051  50.892   0.548  1.00 86.36           C  
ATOM      4  O   SER A  19     -31.921  51.244  -0.251  1.00 89.01           O  
ATOM      5  CB  SER A  19     -30.297  51.627   2.826  1.00 81.27           C  
ATOM      6  OG  SER A  19     -30.882  52.734   3.490  1.00 94.32           O  
ATOM      7  N   THR A  20     -29.822  50.528   0.169  1.00 85.14           N  
ATOM      8  CA  THR A  20     -29.424  50.561  -1.234  1.00 80.94           C  
ATOM      9  C   THR A  20     -30.215  49.535  -2.042  1.00 80.29           C  
ATOM     10  O   THR A  20     -30.926  48.687  -1.500  1.00 84.98           O  
ATOM     11  CB  THR A  20     -27.931  50.272  -1.393  1.00 79.34           C  
ATOM     12  OG1 THR A  20     -27.717  48.857  -1.320  1.00 81.47           O  
ATOM     13  CG2 THR A  20     -27.130  50.951  -0.300  1.00 78.87           C  
ATOM     14  N   ILE A  21     -30.064  49.605  -3.366  1.00 83.15           N  
ATOM     15  CA  ILE A  21     -30.722  48.634  -4.234  1.00 80.53           C  
ATOM     16  C   ILE A  21     -30.068  47.257  -4.105  1.00 79.79           C  
ATOM     17  O   ILE A  21     -30.750  46.226  -4.131  1.00 77.59           O  
ATOM     18  CB  ILE A  21     -30.716  49.144  -5.684  1.00 84.02           C  
ATOM     19  CG1 ILE A  21     -31.726  50.282  -5.845  1.00 84.39           C  
ATOM     20  CG2 ILE A  21     -31.018  48.007  -6.660  1.00 85.38           C  
ATOM     21  CD1 ILE A  21     -33.160  49.804  -6.052  1.00 84.33           C  
ATOM     22  N   GLU A  22     -28.745  47.213  -3.951  1.00 78.27           N  
ATOM     23  CA  GLU A  22     -28.081  45.925  -3.794  1.00 75.36           C  
ATOM     24  C   GLU A  22     -28.514  45.235  -2.507  1.00 79.58           C  
ATOM     25  O   GLU A  22     -28.792  44.030  -2.509  1.00 76.36           O  
ATOM     26  CB  GLU A  22     -26.564  46.102  -3.832  1.00 72.33           C  
ATOM     27  CG  GLU A  22     -25.763  44.827  -3.582  1.00 81.56           C  
ATOM     28  CD  GLU A  22     -24.256  45.008  -3.805  1.00 83.80           C  
ATOM     29  OE1 GLU A  22     -23.880  45.541  -4.867  1.00 82.74           O  
ATOM     30  OE2 GLU A  22     -23.451  44.620  -2.923  1.00 85.99           O  
ATOM     31  N   GLU A  23     -28.591  45.983  -1.398  1.00 83.12           N  
ATOM     32  CA  GLU A  23     -28.982  45.372  -0.131  1.00 76.02           C  
ATOM     33  C   GLU A  23     -30.391  44.804  -0.192  1.00 71.80           C  
ATOM     34  O   GLU A  23     -30.675  43.787   0.449  1.00 75.27           O  
ATOM     35  CB  GLU A  23     -28.870  46.387   1.003  1.00 77.78           C  
ATOM     36  CG  GLU A  23     -27.480  46.958   1.186  1.00 80.26           C  
ATOM     37  CD  GLU A  23     -27.427  48.049   2.247  1.00 87.48           C  
ATOM     38  OE1 GLU A  23     -26.528  47.980   3.113  1.00 94.66           O  
ATOM     39  OE2 GLU A  23     -28.281  48.968   2.220  1.00 84.83           O  
ATOM     40  N   GLN A  24     -31.284  45.440  -0.954  1.00 72.42           N  
ATOM     41  CA  GLN A  24     -32.637  44.913  -1.106  1.00 73.93           C  
ATOM     42  C   GLN A  24     -32.647  43.672  -1.978  1.00 73.03           C  
ATOM     43  O   GLN A  24     -33.392  42.722  -1.707  1.00 77.59           O  
ATOM     44  CB  GLN A  24     -33.556  45.973  -1.699  1.00 72.29           C  
ATOM     45  CG  GLN A  24     -33.607  47.234  -0.889  1.00 77.92           C  
ATOM     46  CD  GLN A  24     -34.182  48.387  -1.669  1.00 79.52           C  
ATOM     47  OE1 GLN A  24     -35.122  48.218  -2.448  1.00 76.94           O  
ATOM     48  NE2 GLN A  24     -33.612  49.570  -1.476  1.00 77.77           N  
ATOM     49  N   ALA A  25     -31.845  43.679  -3.045  1.00 75.61           N  
ATOM     50  CA  ALA A  25     -31.710  42.499  -3.889  1.00 73.52           C  
ATOM     51  C   ALA A  25     -31.173  41.316  -3.097  1.00 69.75           C  
ATOM     52  O   ALA A  25     -31.656  40.188  -3.260  1.00 66.40           O  
ATOM     53  CB  ALA A  25     -30.805  42.811  -5.078  1.00 70.82           C  
ATOM     54  N   LYS A  26     -30.184  41.558  -2.223  1.00 65.85           N  
ATOM     55  CA  LYS A  26     -29.689  40.510  -1.334  1.00 66.81           C  
ATOM     56  C   LYS A  26     -30.803  39.938  -0.472  1.00 69.76           C  
ATOM     57  O   LYS A  26     -30.882  38.720  -0.270  1.00 70.24           O  
ATOM     58  CB  LYS A  26     -28.582  41.045  -0.436  1.00 64.56           C  
ATOM     59  CG  LYS A  26     -27.250  41.242  -1.113  1.00 71.46           C  
ATOM     60  CD  LYS A  26     -26.246  41.768  -0.097  1.00 77.64           C  
ATOM     61  CE  LYS A  26     -24.896  42.078  -0.721  1.00 83.29           C  
ATOM     62  NZ  LYS A  26     -24.013  42.785   0.240  1.00 95.00           N  
ATOM     63  N   THR A  27     -31.660  40.806   0.062  1.00 70.12           N  
ATOM     64  CA  THR A  27     -32.740  40.337   0.917  1.00 66.65           C  
ATOM     65  C   THR A  27     -33.792  39.613   0.093  1.00 67.24           C  
ATOM     66  O   THR A  27     -34.365  38.607   0.538  1.00 63.22           O  
ATOM     67  CB  THR A  27     -33.352  41.520   1.669  1.00 72.01           C  
ATOM     68  OG1 THR A  27     -32.307  42.309   2.259  1.00 69.25           O  
ATOM     69  CG2 THR A  27     -34.299  41.035   2.755  1.00 65.51           C  
ATOM     70  N   PHE A  28     -34.041  40.104  -1.121  1.00 63.93           N  
ATOM     71  CA  PHE A  28     -34.958  39.424  -2.028  1.00 63.27           C  
ATOM     72  C   PHE A  28     -34.459  38.020  -2.362  1.00 63.74           C  
ATOM     73  O   PHE A  28     -35.213  37.044  -2.276  1.00 65.64           O  
ATOM     74  CB  PHE A  28     -35.140  40.261  -3.291  1.00 67.01           C  
ATOM     75  CG  PHE A  28     -35.866  39.550  -4.372  1.00 65.29           C  
ATOM     76  CD1 PHE A  28     -37.206  39.251  -4.233  1.00 62.90           C  
ATOM     77  CD2 PHE A  28     -35.205  39.158  -5.521  1.00 65.68           C  
ATOM     78  CE1 PHE A  28     -37.880  38.579  -5.217  1.00 66.80           C  
ATOM     79  CE2 PHE A  28     -35.869  38.488  -6.512  1.00 66.71           C  
ATOM     80  CZ  PHE A  28     -37.214  38.198  -6.363  1.00 71.29           C  
ATOM     81  N   LEU A  29     -33.180  37.897  -2.724  1.00 64.49           N  
ATOM     82  CA  LEU A  29     -32.603  36.582  -3.002  1.00 68.78           C  
ATOM     83  C   LEU A  29     -32.606  35.702  -1.763  1.00 67.24           C  
ATOM     84  O   LEU A  29     -32.809  34.484  -1.855  1.00 63.90           O  
ATOM     85  CB  LEU A  29     -31.176  36.730  -3.538  1.00 63.88           C  
ATOM     86  CG  LEU A  29     -31.118  37.376  -4.922  1.00 70.20           C  
ATOM     87  CD1 LEU A  29     -29.689  37.765  -5.299  1.00 66.02           C  
ATOM     88  CD2 LEU A  29     -31.738  36.426  -5.940  1.00 66.41           C  
ATOM     89  N   ASP A  30     -32.360  36.298  -0.597  1.00 64.97           N  
ATOM     90  CA  ASP A  30     -32.417  35.536   0.639  1.00 64.03           C  
ATOM     91  C   ASP A  30     -33.782  34.881   0.802  1.00 70.25           C  
ATOM     92  O   ASP A  30     -33.882  33.706   1.178  1.00 69.44           O  
ATOM     93  CB  ASP A  30     -32.101  36.459   1.811  1.00 72.96           C  
ATOM     94  CG  ASP A  30     -31.298  35.775   2.877  1.00 75.28           C  
ATOM     95  OD1 ASP A  30     -31.314  34.530   2.893  1.00 77.46           O  
ATOM     96  OD2 ASP A  30     -30.663  36.477   3.698  1.00 80.06           O  
ATOM     97  N   LYS A  31     -34.847  35.626   0.490  1.00 72.46           N  
ATOM     98  CA  LYS A  31     -36.194  35.075   0.554  1.00 68.39           C  
ATOM     99  C   LYS A  31     -36.429  34.050  -0.551  1.00 60.65           C  
ATOM    100  O   LYS A  31     -37.022  32.994  -0.307  1.00 64.98           O  
ATOM    101  CB  LYS A  31     -37.218  36.211   0.471  1.00 63.89           C  
ATOM    102  CG  LYS A  31     -38.634  35.764   0.142  1.00 56.98           C  
ATOM    103  CD  LYS A  31     -39.297  35.075   1.317  1.00 71.84           C  
ATOM    104  CE  LYS A  31     -40.718  34.681   0.960  1.00 74.51           C  
ATOM    105  NZ  LYS A  31     -41.300  33.825   2.015  1.00 74.57           N  
ATOM    106  N   PHE A  32     -35.997  34.358  -1.777  1.00 64.64           N  
ATOM    107  CA  PHE A  32     -36.186  33.433  -2.892  1.00 60.37           C  
ATOM    108  C   PHE A  32     -35.549  32.083  -2.605  1.00 64.30           C  
ATOM    109  O   PHE A  32     -36.185  31.036  -2.794  1.00 64.15           O  
ATOM    110  CB  PHE A  32     -35.592  34.004  -4.175  1.00 60.16           C  
ATOM    111  CG  PHE A  32     -35.512  33.001  -5.282  1.00 63.69           C  
ATOM    112  CD1 PHE A  32     -36.597  32.799  -6.123  1.00 64.36           C  
ATOM    113  CD2 PHE A  32     -34.361  32.236  -5.471  1.00 60.24           C  
ATOM    114  CE1 PHE A  32     -36.534  31.866  -7.145  1.00 64.25           C  
ATOM    115  CE2 PHE A  32     -34.292  31.298  -6.480  1.00 63.12           C  
ATOM    116  CZ  PHE A  32     -35.385  31.107  -7.319  1.00 65.50           C  
ATOM    117  N   ASN A  33     -34.276  32.093  -2.181  1.00 56.65           N  
ATOM    118  CA  ASN A  33     -33.544  30.851  -1.933  1.00 58.64           C  
ATOM    119  C   ASN A  33     -34.319  29.913  -1.018  1.00 64.73           C  
ATOM    120  O   ASN A  33     -34.419  28.711  -1.295  1.00 59.21           O  
ATOM    121  CB  ASN A  33     -32.169  31.149  -1.328  1.00 53.73           C  
ATOM    122  CG  ASN A  33     -31.244  31.856  -2.302  1.00 60.46           C  
ATOM    123  OD1 ASN A  33     -31.387  31.726  -3.517  1.00 58.91           O  
ATOM    124  ND2 ASN A  33     -30.294  32.611  -1.772  1.00 55.86           N  
ATOM    125  N   HIS A  34     -34.886  30.442   0.076  1.00 63.11           N  
ATOM    126  CA  HIS A  34     -35.554  29.563   1.029  1.00 67.07           C  
ATOM    127  C   HIS A  34     -36.890  29.074   0.474  1.00 71.57           C  
ATOM    128  O   HIS A  34     -37.224  27.883   0.587  1.00 67.22           O  
ATOM    129  CB  HIS A  34     -35.709  30.270   2.383  1.00 67.08           C  
ATOM    130  CG  HIS A  34     -34.396  30.639   3.022  1.00 76.17           C  
ATOM    131  ND1 HIS A  34     -33.622  31.698   2.588  1.00 70.84           N  
ATOM    132  CD2 HIS A  34     -33.708  30.070   4.046  1.00 75.43           C  
ATOM    133  CE1 HIS A  34     -32.524  31.773   3.325  1.00 69.26           C  
ATOM    134  NE2 HIS A  34     -32.554  30.801   4.221  1.00 71.20           N  
ATOM    135  N   GLU A  35     -37.643  29.957  -0.181  1.00 62.87           N  
ATOM    136  CA  GLU A  35     -38.883  29.500  -0.794  1.00 66.51           C  
ATOM    137  C   GLU A  35     -38.599  28.508  -1.916  1.00 66.33           C  
ATOM    138  O   GLU A  35     -39.260  27.466  -2.015  1.00 66.76           O  
ATOM    139  CB  GLU A  35     -39.690  30.696  -1.302  1.00 66.18           C  
ATOM    140  CG  GLU A  35     -41.190  30.601  -1.048  1.00 71.97           C  
ATOM    141  CD  GLU A  35     -41.539  30.475   0.441  1.00 87.29           C  
ATOM    142  OE1 GLU A  35     -41.444  29.349   0.997  1.00 83.46           O  
ATOM    143  OE2 GLU A  35     -41.904  31.504   1.060  1.00 85.11           O  
ATOM    144  N   ALA A  36     -37.597  28.803  -2.752  1.00 64.47           N  
ATOM    145  CA  ALA A  36     -37.317  27.964  -3.912  1.00 60.76           C  
ATOM    146  C   ALA A  36     -36.906  26.555  -3.496  1.00 62.82           C  
ATOM    147  O   ALA A  36     -37.357  25.563  -4.084  1.00 58.12           O  
ATOM    148  CB  ALA A  36     -36.230  28.616  -4.762  1.00 64.07           C  
ATOM    149  N   GLU A  37     -36.058  26.450  -2.474  1.00 63.62           N  
ATOM    150  CA  GLU A  37     -35.581  25.145  -2.039  1.00 59.97           C  
ATOM    151  C   GLU A  37     -36.743  24.206  -1.750  1.00 56.58           C  
ATOM    152  O   GLU A  37     -36.746  23.051  -2.187  1.00 56.81           O  
ATOM    153  CB  GLU A  37     -34.692  25.317  -0.812  1.00 59.86           C  
ATOM    154  CG  GLU A  37     -33.989  24.070  -0.350  1.00 70.94           C  
ATOM    155  CD  GLU A  37     -32.493  24.121  -0.615  1.00 78.86           C  
ATOM    156  OE1 GLU A  37     -31.970  23.181  -1.273  1.00 71.93           O  
ATOM    157  OE2 GLU A  37     -31.849  25.106  -0.171  1.00 76.49           O  
ATOM    158  N   ASP A  38     -37.763  24.694  -1.051  1.00 62.10           N  
ATOM    159  CA  ASP A  38     -38.861  23.809  -0.695  1.00 59.36           C  
ATOM    160  C   ASP A  38     -39.770  23.519  -1.885  1.00 59.85           C  
ATOM    161  O   ASP A  38     -40.174  22.367  -2.090  1.00 59.18           O  
ATOM    162  CB  ASP A  38     -39.666  24.393   0.457  1.00 60.18           C  
ATOM    163  CG  ASP A  38     -40.602  23.367   1.057  1.00 66.21           C  
ATOM    164  OD1 ASP A  38     -40.110  22.332   1.582  1.00 67.17           O  
ATOM    165  OD2 ASP A  38     -41.824  23.571   0.955  1.00 66.67           O  
ATOM    166  N   LEU A  39     -40.097  24.542  -2.681  1.00 54.65           N  
ATOM    167  CA  LEU A  39     -40.940  24.319  -3.851  1.00 64.23           C  
ATOM    168  C   LEU A  39     -40.246  23.440  -4.882  1.00 62.71           C  
ATOM    169  O   LEU A  39     -40.887  22.578  -5.498  1.00 60.79           O  
ATOM    170  CB  LEU A  39     -41.347  25.651  -4.476  1.00 67.91           C  
ATOM    171  CG  LEU A  39     -42.538  26.289  -3.772  1.00 72.58           C  
ATOM    172  CD1 LEU A  39     -42.776  27.676  -4.331  1.00 71.03           C  
ATOM    173  CD2 LEU A  39     -43.756  25.398  -3.952  1.00 71.95           C  
ATOM    174  N   PHE A  40     -38.943  23.644  -5.094  1.00 58.60           N  
ATOM    175  CA  PHE A  40     -38.225  22.760  -6.001  1.00 61.69           C  
ATOM    176  C   PHE A  40     -38.203  21.343  -5.456  1.00 58.04           C  
ATOM    177  O   PHE A  40     -38.305  20.373  -6.220  1.00 59.62           O  
ATOM    178  CB  PHE A  40     -36.799  23.257  -6.251  1.00 59.77           C  
ATOM    179  CG  PHE A  40     -36.027  22.399  -7.226  1.00 57.27           C  
ATOM    180  CD1 PHE A  40     -36.148  22.604  -8.597  1.00 56.18           C  
ATOM    181  CD2 PHE A  40     -35.191  21.383  -6.772  1.00 51.06           C  
ATOM    182  CE1 PHE A  40     -35.443  21.807  -9.506  1.00 55.82           C  
ATOM    183  CE2 PHE A  40     -34.490  20.589  -7.659  1.00 53.96           C  
ATOM    184  CZ  PHE A  40     -34.616  20.794  -9.039  1.00 48.06           C  
ATOM    185  N   TYR A  41     -38.100  21.207  -4.132  1.00 56.57           N  
ATOM    186  CA  TYR A  41     -38.000  19.885  -3.525  1.00 58.29           C  
ATOM    187  C   TYR A  41     -39.290  19.093  -3.711  1.00 60.25           C  
ATOM    188  O   TYR A  41     -39.248  17.902  -4.045  1.00 59.09           O  
ATOM    189  CB  TYR A  41     -37.646  20.001  -2.042  1.00 53.25           C  
ATOM    190  CG  TYR A  41     -37.285  18.664  -1.440  1.00 61.91           C  
ATOM    191  CD1 TYR A  41     -36.004  18.154  -1.578  1.00 60.57           C  
ATOM    192  CD2 TYR A  41     -38.231  17.887  -0.766  1.00 58.42           C  
ATOM    193  CE1 TYR A  41     -35.656  16.933  -1.048  1.00 61.73           C  
ATOM    194  CE2 TYR A  41     -37.889  16.647  -0.233  1.00 60.32           C  
ATOM    195  CZ  TYR A  41     -36.590  16.175  -0.375  1.00 59.12           C  
ATOM    196  OH  TYR A  41     -36.205  14.944   0.130  1.00 56.36           O  
ATOM    197  N   GLN A  42     -40.446  19.735  -3.521  1.00 61.71           N  
ATOM    198  CA  GLN A  42     -41.714  19.039  -3.735  1.00 59.98           C  
ATOM    199  C   GLN A  42     -41.846  18.595  -5.183  1.00 62.14           C  
ATOM    200  O   GLN A  42     -42.199  17.442  -5.465  1.00 66.13           O  
ATOM    201  CB  GLN A  42     -42.888  19.936  -3.339  1.00 62.50           C  
ATOM    202  CG  GLN A  42     -42.837  20.457  -1.898  1.00 64.08           C  
ATOM    203  CD  GLN A  42     -43.053  19.363  -0.859  1.00 73.96           C  
ATOM    204  OE1 GLN A  42     -43.112  18.173  -1.184  1.00 74.24           O  
ATOM    205  NE2 GLN A  42     -43.193  19.767   0.406  1.00 82.13           N  
ATOM    206  N   SER A  43     -41.559  19.502  -6.116  1.00 61.35           N  
ATOM    207  CA  SER A  43     -41.606  19.172  -7.534  1.00 61.69           C  
ATOM    208  C   SER A  43     -40.726  17.963  -7.859  1.00 62.80           C  
ATOM    209  O   SER A  43     -41.201  16.982  -8.442  1.00 58.15           O  
ATOM    210  CB  SER A  43     -41.182  20.389  -8.350  1.00 61.24           C  
ATOM    211  OG  SER A  43     -41.570  20.227  -9.704  1.00 72.93           O  
ATOM    212  N   SER A  44     -39.436  18.016  -7.481  1.00 60.95           N  
ATOM    213  CA  SER A  44     -38.533  16.889  -7.724  1.00 54.55           C  
ATOM    214  C   SER A  44     -39.070  15.613  -7.099  1.00 57.36           C  
ATOM    215  O   SER A  44     -38.982  14.530  -7.689  1.00 59.75           O  
ATOM    216  CB  SER A  44     -37.138  17.182  -7.169  1.00 52.89           C  
ATOM    217  OG  SER A  44     -36.670  18.453  -7.576  1.00 59.10           O  
ATOM    218  N   LEU A  45     -39.638  15.723  -5.902  1.00 60.38           N  
ATOM    219  CA  LEU A  45     -40.194  14.552  -5.240  1.00 62.17           C  
ATOM    220  C   LEU A  45     -41.382  13.993  -6.010  1.00 63.00           C  
ATOM    221  O   LEU A  45     -41.500  12.777  -6.172  1.00 68.39           O  
ATOM    222  CB  LEU A  45     -40.596  14.911  -3.819  1.00 59.12           C  
ATOM    223  CG  LEU A  45     -40.696  13.751  -2.848  1.00 66.37           C  
ATOM    224  CD1 LEU A  45     -39.533  12.814  -3.062  1.00 63.66           C  
ATOM    225  CD2 LEU A  45     -40.682  14.324  -1.451  1.00 59.82           C  
ATOM    226  N   ALA A  46     -42.276  14.860  -6.488  1.00 64.22           N  
ATOM    227  CA  ALA A  46     -43.406  14.375  -7.271  1.00 61.70           C  
ATOM    228  C   ALA A  46     -42.931  13.829  -8.608  1.00 63.23           C  
ATOM    229  O   ALA A  46     -43.435  12.811  -9.092  1.00 66.38           O  
ATOM    230  CB  ALA A  46     -44.430  15.495  -7.466  1.00 62.69           C  
ATOM    231  N   SER A  47     -41.950  14.486  -9.214  1.00 63.46           N  
ATOM    232  CA  SER A  47     -41.393  13.969 -10.454  1.00 68.06           C  
ATOM    233  C   SER A  47     -40.730  12.612 -10.233  1.00 68.63           C  
ATOM    234  O   SER A  47     -40.805  11.726 -11.095  1.00 64.84           O  
ATOM    235  CB  SER A  47     -40.403  14.975 -11.028  1.00 60.72           C  
ATOM    236  OG  SER A  47     -39.799  14.433 -12.179  1.00 68.46           O  
ATOM    237  N   TRP A  48     -40.102  12.423  -9.065  1.00 64.74           N  
ATOM    238  CA  TRP A  48     -39.462  11.149  -8.760  1.00 62.82           C  
ATOM    239  C   TRP A  48     -40.478  10.020  -8.650  1.00 67.04           C  
ATOM    240  O   TRP A  48     -40.239   8.910  -9.143  1.00 65.95           O  
ATOM    241  CB  TRP A  48     -38.656  11.251  -7.464  1.00 58.33           C  
ATOM    242  CG  TRP A  48     -38.105   9.917  -7.032  1.00 61.02           C  
ATOM    243  CD1 TRP A  48     -38.696   9.020  -6.191  1.00 58.92           C  
ATOM    244  CD2 TRP A  48     -36.868   9.314  -7.455  1.00 54.73           C  
ATOM    245  NE1 TRP A  48     -37.897   7.907  -6.052  1.00 61.52           N  
ATOM    246  CE2 TRP A  48     -36.776   8.062  -6.824  1.00 55.92           C  
ATOM    247  CE3 TRP A  48     -35.832   9.719  -8.298  1.00 56.00           C  
ATOM    248  CZ2 TRP A  48     -35.685   7.220  -7.002  1.00 57.39           C  
ATOM    249  CZ3 TRP A  48     -34.754   8.882  -8.470  1.00 51.70           C  
ATOM    250  CH2 TRP A  48     -34.684   7.653  -7.828  1.00 53.40           C  
ATOM    251  N   ASN A  49     -41.605  10.273  -7.975  1.00 70.11           N  
ATOM    252  CA  ASN A  49     -42.595   9.220  -7.770  1.00 65.48           C  
ATOM    253  C   ASN A  49     -43.269   8.835  -9.075  1.00 71.16           C  
ATOM    254  O   ASN A  49     -43.649   7.671  -9.254  1.00 72.29           O  
ATOM    255  CB  ASN A  49     -43.624   9.661  -6.739  1.00 61.76           C  
ATOM    256  CG  ASN A  49     -43.008   9.895  -5.385  1.00 71.03           C  
ATOM    257  OD1 ASN A  49     -42.130   9.151  -4.960  1.00 73.92           O  
ATOM    258  ND2 ASN A  49     -43.437  10.949  -4.708  1.00 74.28           N  
ATOM    259  N   TYR A  50     -43.418   9.786  -9.999  1.00 68.28           N  
ATOM    260  CA  TYR A  50     -43.893   9.422 -11.324  1.00 70.60           C  
ATOM    261  C   TYR A  50     -42.866   8.566 -12.052  1.00 69.30           C  
ATOM    262  O   TYR A  50     -43.212   7.557 -12.673  1.00 67.75           O  
ATOM    263  CB  TYR A  50     -44.224  10.668 -12.151  1.00 71.99           C  
ATOM    264  CG  TYR A  50     -44.501  10.307 -13.594  1.00 67.47           C  
ATOM    265  CD1 TYR A  50     -45.654   9.613 -13.943  1.00 74.34           C  
ATOM    266  CD2 TYR A  50     -43.586  10.606 -14.596  1.00 74.90           C  
ATOM    267  CE1 TYR A  50     -45.900   9.238 -15.253  1.00 74.88           C  
ATOM    268  CE2 TYR A  50     -43.827  10.242 -15.915  1.00 73.67           C  
ATOM    269  CZ  TYR A  50     -44.995   9.568 -16.235  1.00 78.51           C  
ATOM    270  OH  TYR A  50     -45.243   9.206 -17.537  1.00 87.19           O  
ATOM    271  N   ASN A  51     -41.593   8.952 -11.990  1.00 68.67           N  
ATOM    272  CA  ASN A  51     -40.599   8.311 -12.841  1.00 71.72           C  
ATOM    273  C   ASN A  51     -40.180   6.931 -12.347  1.00 67.54           C  
ATOM    274  O   ASN A  51     -39.577   6.175 -13.115  1.00 73.11           O  
ATOM    275  CB  ASN A  51     -39.377   9.222 -12.994  1.00 68.60           C  
ATOM    276  CG  ASN A  51     -39.509  10.175 -14.185  1.00 66.56           C  
ATOM    277  OD1 ASN A  51     -39.176   9.824 -15.321  1.00 58.51           O  
ATOM    278  ND2 ASN A  51     -40.005  11.377 -13.927  1.00 67.80           N  
ATOM    279  N   THR A  52     -40.507   6.574 -11.112  1.00 64.30           N  
ATOM    280  CA  THR A  52     -40.255   5.242 -10.585  1.00 69.84           C  
ATOM    281  C   THR A  52     -41.528   4.423 -10.457  1.00 71.10           C  
ATOM    282  O   THR A  52     -41.480   3.294  -9.962  1.00 76.12           O  
ATOM    283  CB  THR A  52     -39.568   5.342  -9.220  1.00 63.52           C  
ATOM    284  OG1 THR A  52     -40.370   6.146  -8.344  1.00 64.33           O  
ATOM    285  CG2 THR A  52     -38.197   5.999  -9.375  1.00 65.67           C  
ATOM    286  N   ASN A  53     -42.658   4.958 -10.905  1.00 72.70           N  
ATOM    287  CA  ASN A  53     -43.965   4.369 -10.654  1.00 78.34           C  
ATOM    288  C   ASN A  53     -44.981   5.073 -11.542  1.00 76.02           C  
ATOM    289  O   ASN A  53     -45.669   5.995 -11.101  1.00 80.45           O  
ATOM    290  CB  ASN A  53     -44.318   4.494  -9.167  1.00 76.50           C  
ATOM    291  CG  ASN A  53     -45.593   3.770  -8.795  1.00 83.81           C  
ATOM    292  OD1 ASN A  53     -46.182   3.061  -9.608  1.00 86.87           O  
ATOM    293  ND2 ASN A  53     -46.021   3.944  -7.541  1.00 93.55           N  
ATOM    294  N   ILE A  54     -45.063   4.660 -12.805  1.00 75.33           N  
ATOM    295  CA  ILE A  54     -45.847   5.373 -13.812  1.00 80.49           C  
ATOM    296  C   ILE A  54     -47.321   5.048 -13.580  1.00 85.01           C  
ATOM    297  O   ILE A  54     -47.786   3.950 -13.885  1.00 81.69           O  
ATOM    298  CB  ILE A  54     -45.401   5.014 -15.230  1.00 82.41           C  
ATOM    299  CG1 ILE A  54     -43.925   5.388 -15.415  1.00 80.68           C  
ATOM    300  CG2 ILE A  54     -46.292   5.699 -16.274  1.00 77.50           C  
ATOM    301  CD1 ILE A  54     -43.386   5.105 -16.793  1.00 75.53           C  
ATOM    302  N   THR A  55     -48.057   6.007 -13.021  1.00 83.31           N  
ATOM    303  CA  THR A  55     -49.490   5.881 -12.801  1.00 83.50           C  
ATOM    304  C   THR A  55     -50.161   7.187 -13.200  1.00 90.82           C  
ATOM    305  O   THR A  55     -49.524   8.240 -13.267  1.00 87.25           O  
ATOM    306  CB  THR A  55     -49.830   5.562 -11.339  1.00 82.58           C  
ATOM    307  OG1 THR A  55     -49.526   6.693 -10.514  1.00 79.02           O  
ATOM    308  CG2 THR A  55     -49.047   4.357 -10.849  1.00 86.04           C  
ATOM    309  N   GLU A  56     -51.467   7.110 -13.463  1.00 92.43           N  
ATOM    310  CA  GLU A  56     -52.207   8.317 -13.810  1.00 88.58           C  
ATOM    311  C   GLU A  56     -52.262   9.282 -12.632  1.00 92.09           C  
ATOM    312  O   GLU A  56     -52.115  10.498 -12.810  1.00 90.83           O  
ATOM    313  CB  GLU A  56     -53.614   7.955 -14.286  1.00 92.98           C  
ATOM    314  CG  GLU A  56     -54.489   9.165 -14.605  1.00 99.14           C  
ATOM    315  CD  GLU A  56     -53.857  10.114 -15.622  1.00102.09           C  
ATOM    316  OE1 GLU A  56     -53.179   9.642 -16.563  1.00 99.25           O  
ATOM    317  OE2 GLU A  56     -54.040  11.342 -15.474  1.00105.43           O  
ATOM    318  N   GLU A  57     -52.458   8.763 -11.418  1.00 86.75           N  
ATOM    319  CA  GLU A  57     -52.420   9.629 -10.248  1.00 86.58           C  
ATOM    320  C   GLU A  57     -51.080  10.345 -10.121  1.00 90.57           C  
ATOM    321  O   GLU A  57     -51.030  11.491  -9.658  1.00 88.93           O  
ATOM    322  CB  GLU A  57     -52.704   8.826  -8.977  1.00 88.42           C  
ATOM    323  CG  GLU A  57     -52.462   9.631  -7.702  1.00 90.92           C  
ATOM    324  CD  GLU A  57     -52.679   8.839  -6.424  1.00 98.37           C  
ATOM    325  OE1 GLU A  57     -53.155   9.437  -5.436  1.00 99.15           O  
ATOM    326  OE2 GLU A  57     -52.371   7.628  -6.401  1.00 98.78           O  
ATOM    327  N   ASN A  58     -49.985   9.696 -10.533  1.00 90.34           N  
ATOM    328  CA  ASN A  58     -48.664  10.292 -10.365  1.00 81.70           C  
ATOM    329  C   ASN A  58     -48.354  11.330 -11.439  1.00 81.97           C  
ATOM    330  O   ASN A  58     -47.680  12.328 -11.144  1.00 77.69           O  
ATOM    331  CB  ASN A  58     -47.594   9.201 -10.336  1.00 79.35           C  
ATOM    332  CG  ASN A  58     -47.504   8.520  -8.988  1.00 78.73           C  
ATOM    333  OD1 ASN A  58     -47.752   9.142  -7.954  1.00 85.52           O  
ATOM    334  ND2 ASN A  58     -47.142   7.241  -8.985  1.00 78.21           N  
ATOM    335  N   VAL A  59     -48.831  11.132 -12.675  1.00 80.56           N  
ATOM    336  CA  VAL A  59     -48.776  12.214 -13.658  1.00 78.58           C  
ATOM    337  C   VAL A  59     -49.432  13.464 -13.091  1.00 84.73           C  
ATOM    338  O   VAL A  59     -48.963  14.589 -13.308  1.00 84.67           O  
ATOM    339  CB  VAL A  59     -49.449  11.800 -14.981  1.00 83.09           C  
ATOM    340  CG1 VAL A  59     -49.222  12.868 -16.034  1.00 81.98           C  
ATOM    341  CG2 VAL A  59     -48.944  10.479 -15.464  1.00 86.51           C  
ATOM    342  N   GLN A  60     -50.531  13.284 -12.355  1.00 81.57           N  
ATOM    343  CA  GLN A  60     -51.267  14.425 -11.826  1.00 83.14           C  
ATOM    344  C   GLN A  60     -50.456  15.152 -10.761  1.00 81.01           C  
ATOM    345  O   GLN A  60     -50.212  16.356 -10.880  1.00 80.26           O  
ATOM    346  CB  GLN A  60     -52.625  13.974 -11.275  1.00 91.94           C  
ATOM    347  CG  GLN A  60     -53.779  14.118 -12.269  1.00 90.87           C  
ATOM    348  CD  GLN A  60     -53.881  15.529 -12.829  1.00 98.10           C  
ATOM    349  OE1 GLN A  60     -53.686  15.746 -14.027  1.00105.50           O  
ATOM    350  NE2 GLN A  60     -54.174  16.499 -11.960  1.00 94.02           N  
ATOM    351  N   ASN A  61     -50.038  14.438  -9.701  1.00 79.92           N  
ATOM    352  CA  ASN A  61     -49.238  15.077  -8.655  1.00 74.86           C  
ATOM    353  C   ASN A  61     -48.003  15.739  -9.248  1.00 80.21           C  
ATOM    354  O   ASN A  61     -47.580  16.810  -8.790  1.00 75.66           O  
ATOM    355  CB  ASN A  61     -48.795  14.073  -7.592  1.00 66.13           C  
ATOM    356  CG  ASN A  61     -49.937  13.335  -6.960  1.00 82.25           C  
ATOM    357  OD1 ASN A  61     -50.378  13.675  -5.862  1.00 82.07           O  
ATOM    358  ND2 ASN A  61     -50.405  12.285  -7.629  1.00 89.53           N  
ATOM    359  N   MET A  62     -47.404  15.105 -10.263  1.00 73.66           N  
ATOM    360  CA  MET A  62     -46.213  15.670 -10.881  1.00 74.22           C  
ATOM    361  C   MET A  62     -46.540  16.973 -11.593  1.00 73.86           C  
ATOM    362  O   MET A  62     -45.772  17.939 -11.515  1.00 77.81           O  
ATOM    363  CB  MET A  62     -45.582  14.667 -11.851  1.00 68.10           C  
ATOM    364  CG  MET A  62     -44.326  15.203 -12.498  1.00 58.97           C  
ATOM    365  SD  MET A  62     -43.551  14.139 -13.727  1.00 68.82           S  
ATOM    366  CE  MET A  62     -42.129  15.144 -14.158  1.00 79.34           C  
ATOM    367  N   ASN A  63     -47.687  17.028 -12.272  1.00 79.71           N  
ATOM    368  CA  ASN A  63     -48.055  18.241 -12.995  1.00 77.03           C  
ATOM    369  C   ASN A  63     -48.414  19.376 -12.046  1.00 76.02           C  
ATOM    370  O   ASN A  63     -48.014  20.523 -12.277  1.00 78.89           O  
ATOM    371  CB  ASN A  63     -49.198  17.942 -13.956  1.00 76.36           C  
ATOM    372  CG  ASN A  63     -48.741  17.144 -15.154  1.00 86.34           C  
ATOM    373  OD1 ASN A  63     -47.634  17.350 -15.663  1.00 87.02           O  
ATOM    374  ND2 ASN A  63     -49.578  16.215 -15.605  1.00 85.52           N  
ATOM    375  N   ASN A  64     -49.145  19.082 -10.965  1.00 70.90           N  
ATOM    376  CA  ASN A  64     -49.539  20.134 -10.026  1.00 78.33           C  
ATOM    377  C   ASN A  64     -48.323  20.741  -9.331  1.00 79.46           C  
ATOM    378  O   ASN A  64     -48.171  21.967  -9.282  1.00 79.52           O  
ATOM    379  CB  ASN A  64     -50.533  19.594  -8.989  1.00 75.18           C  
ATOM    380  CG  ASN A  64     -51.774  18.966  -9.626  1.00 86.46           C  
ATOM    381  OD1 ASN A  64     -52.181  19.328 -10.738  1.00 84.28           O  
ATOM    382  ND2 ASN A  64     -52.370  18.007  -8.923  1.00 83.99           N  
ATOM    383  N   ALA A  65     -47.441  19.897  -8.784  1.00 79.66           N  
ATOM    384  CA  ALA A  65     -46.255  20.414  -8.105  1.00 72.20           C  
ATOM    385  C   ALA A  65     -45.324  21.140  -9.070  1.00 72.71           C  
ATOM    386  O   ALA A  65     -44.677  22.118  -8.683  1.00 75.84           O  
ATOM    387  CB  ALA A  65     -45.518  19.283  -7.390  1.00 64.70           C  
ATOM    388  N   GLY A  66     -45.245  20.692 -10.324  1.00 68.68           N  
ATOM    389  CA  GLY A  66     -44.466  21.427 -11.308  1.00 67.33           C  
ATOM    390  C   GLY A  66     -45.106  22.752 -11.679  1.00 76.68           C  
ATOM    391  O   GLY A  66     -44.408  23.744 -11.921  1.00 73.78           O  
ATOM    392  N   ASP A  67     -46.444  22.786 -11.730  1.00 78.39           N  
ATOM    393  CA  ASP A  67     -47.150  24.035 -12.000  1.00 77.75           C  
ATOM    394  C   ASP A  67     -46.908  25.050 -10.887  1.00 76.23           C  
ATOM    395  O   ASP A  67     -46.586  26.215 -11.153  1.00 75.22           O  
ATOM    396  CB  ASP A  67     -48.646  23.763 -12.179  1.00 82.03           C  
ATOM    397  CG  ASP A  67     -48.981  23.162 -13.543  1.00 86.77           C  
ATOM    398  OD1 ASP A  67     -48.091  23.130 -14.427  1.00 87.90           O  
ATOM    399  OD2 ASP A  67     -50.140  22.718 -13.726  1.00 79.82           O  
ATOM    400  N   LYS A  68     -47.044  24.623  -9.627  1.00 68.97           N  
ATOM    401  CA  LYS A  68     -46.707  25.505  -8.515  1.00 72.65           C  
ATOM    402  C   LYS A  68     -45.294  26.062  -8.664  1.00 73.70           C  
ATOM    403  O   LYS A  68     -45.071  27.266  -8.492  1.00 70.69           O  
ATOM    404  CB  LYS A  68     -46.860  24.766  -7.180  1.00 69.66           C  
ATOM    405  CG  LYS A  68     -48.271  24.273  -6.906  1.00 77.21           C  
ATOM    406  CD  LYS A  68     -48.460  23.784  -5.477  1.00 86.91           C  
ATOM    407  CE  LYS A  68     -49.866  23.183  -5.286  1.00 92.43           C  
ATOM    408  NZ  LYS A  68     -50.191  22.925  -3.843  1.00 91.35           N  
ATOM    409  N   TRP A  69     -44.330  25.199  -9.011  1.00 75.34           N  
ATOM    410  CA  TRP A  69     -42.946  25.646  -9.155  1.00 72.69           C  
ATOM    411  C   TRP A  69     -42.794  26.599 -10.336  1.00 70.15           C  
ATOM    412  O   TRP A  69     -42.126  27.631 -10.219  1.00 69.56           O  
ATOM    413  CB  TRP A  69     -42.025  24.430  -9.291  1.00 74.05           C  
ATOM    414  CG  TRP A  69     -40.608  24.723  -9.726  1.00 72.06           C  
ATOM    415  CD1 TRP A  69     -40.022  24.326 -10.887  1.00 69.14           C  
ATOM    416  CD2 TRP A  69     -39.604  25.460  -9.003  1.00 67.32           C  
ATOM    417  NE1 TRP A  69     -38.724  24.770 -10.943  1.00 69.15           N  
ATOM    418  CE2 TRP A  69     -38.437  25.467  -9.801  1.00 66.60           C  
ATOM    419  CE3 TRP A  69     -39.582  26.125  -7.772  1.00 62.95           C  
ATOM    420  CZ2 TRP A  69     -37.253  26.104  -9.404  1.00 57.97           C  
ATOM    421  CZ3 TRP A  69     -38.405  26.765  -7.376  1.00 62.93           C  
ATOM    422  CH2 TRP A  69     -37.255  26.745  -8.192  1.00 63.41           C  
ATOM    423  N   SER A  70     -43.425  26.286 -11.471  1.00 69.11           N  
ATOM    424  CA  SER A  70     -43.393  27.203 -12.610  1.00 69.41           C  
ATOM    425  C   SER A  70     -44.033  28.542 -12.265  1.00 71.41           C  
ATOM    426  O   SER A  70     -43.515  29.602 -12.639  1.00 72.74           O  
ATOM    427  CB  SER A  70     -44.095  26.579 -13.818  1.00 70.25           C  
ATOM    428  OG  SER A  70     -43.301  25.580 -14.427  1.00 74.91           O  
ATOM    429  N   ALA A  71     -45.167  28.516 -11.561  1.00 71.15           N  
ATOM    430  CA  ALA A  71     -45.821  29.763 -11.178  1.00 71.96           C  
ATOM    431  C   ALA A  71     -44.944  30.562 -10.225  1.00 67.69           C  
ATOM    432  O   ALA A  71     -44.790  31.782 -10.382  1.00 66.97           O  
ATOM    433  CB  ALA A  71     -47.187  29.475 -10.548  1.00 61.27           C  
ATOM    434  N   PHE A  72     -44.338  29.887  -9.246  1.00 62.30           N  
ATOM    435  CA  PHE A  72     -43.431  30.574  -8.329  1.00 66.25           C  
ATOM    436  C   PHE A  72     -42.322  31.305  -9.086  1.00 69.64           C  
ATOM    437  O   PHE A  72     -41.989  32.453  -8.763  1.00 65.94           O  
ATOM    438  CB  PHE A  72     -42.856  29.569  -7.331  1.00 66.90           C  
ATOM    439  CG  PHE A  72     -41.720  30.107  -6.504  1.00 68.26           C  
ATOM    440  CD1 PHE A  72     -41.945  31.065  -5.532  1.00 61.88           C  
ATOM    441  CD2 PHE A  72     -40.430  29.634  -6.687  1.00 63.28           C  
ATOM    442  CE1 PHE A  72     -40.915  31.548  -4.767  1.00 65.78           C  
ATOM    443  CE2 PHE A  72     -39.386  30.124  -5.929  1.00 63.47           C  
ATOM    444  CZ  PHE A  72     -39.627  31.087  -4.971  1.00 67.43           C  
ATOM    445  N   LEU A  73     -41.783  30.678 -10.141  1.00 70.84           N  
ATOM    446  CA  LEU A  73     -40.660  31.271 -10.867  1.00 72.13           C  
ATOM    447  C   LEU A  73     -41.088  32.477 -11.691  1.00 71.05           C  
ATOM    448  O   LEU A  73     -40.384  33.494 -11.717  1.00 70.24           O  
ATOM    449  CB  LEU A  73     -40.003  30.230 -11.762  1.00 70.65           C  
ATOM    450  CG  LEU A  73     -39.033  29.308 -11.050  1.00 70.12           C  
ATOM    451  CD1 LEU A  73     -38.575  28.246 -12.020  1.00 74.29           C  
ATOM    452  CD2 LEU A  73     -37.871  30.124 -10.556  1.00 68.43           C  
ATOM    453  N   LYS A  74     -42.219  32.381 -12.393  1.00 67.64           N  
ATOM    454  CA  LYS A  74     -42.706  33.538 -13.136  1.00 69.49           C  
ATOM    455  C   LYS A  74     -42.946  34.717 -12.200  1.00 69.84           C  
ATOM    456  O   LYS A  74     -42.535  35.846 -12.485  1.00 75.71           O  
ATOM    457  CB  LYS A  74     -43.979  33.179 -13.904  1.00 76.54           C  
ATOM    458  CG  LYS A  74     -44.361  34.208 -14.976  1.00 85.65           C  
ATOM    459  CD  LYS A  74     -45.521  33.718 -15.847  1.00 81.71           C  
ATOM    460  CE  LYS A  74     -45.131  32.467 -16.621  1.00 95.77           C  
ATOM    461  NZ  LYS A  74     -43.907  32.673 -17.460  1.00 94.11           N  
ATOM    462  N   GLU A  75     -43.585  34.469 -11.059  1.00 67.91           N  
ATOM    463  CA  GLU A  75     -43.809  35.549 -10.107  1.00 75.04           C  
ATOM    464  C   GLU A  75     -42.487  36.113  -9.599  1.00 76.07           C  
ATOM    465  O   GLU A  75     -42.322  37.336  -9.508  1.00 75.34           O  
ATOM    466  CB  GLU A  75     -44.690  35.063  -8.949  1.00 68.77           C  
ATOM    467  CG  GLU A  75     -44.743  36.004  -7.747  1.00 87.15           C  
ATOM    468  CD  GLU A  75     -45.373  37.379  -8.052  1.00 99.39           C  
ATOM    469  OE1 GLU A  75     -45.888  37.588  -9.178  1.00 96.39           O  
ATOM    470  OE2 GLU A  75     -45.354  38.257  -7.152  1.00 92.73           O  
ATOM    471  N   GLN A  76     -41.520  35.239  -9.290  1.00 71.31           N  
ATOM    472  CA  GLN A  76     -40.240  35.722  -8.777  1.00 72.40           C  
ATOM    473  C   GLN A  76     -39.412  36.376  -9.867  1.00 71.78           C  
ATOM    474  O   GLN A  76     -38.573  37.236  -9.573  1.00 70.47           O  
ATOM    475  CB  GLN A  76     -39.441  34.584  -8.140  1.00 75.03           C  
ATOM    476  CG  GLN A  76     -40.020  34.031  -6.839  1.00 67.35           C  
ATOM    477  CD  GLN A  76     -39.948  35.014  -5.706  1.00 65.98           C  
ATOM    478  OE1 GLN A  76     -38.875  35.494  -5.356  1.00 72.66           O  
ATOM    479  NE2 GLN A  76     -41.092  35.322  -5.122  1.00 64.28           N  
ATOM    480  N   SER A  77     -39.615  35.972 -11.119  1.00 73.56           N  
ATOM    481  CA  SER A  77     -38.898  36.611 -12.217  1.00 78.34           C  
ATOM    482  C   SER A  77     -39.358  38.049 -12.387  1.00 73.34           C  
ATOM    483  O   SER A  77     -38.539  38.973 -12.438  1.00 76.42           O  
ATOM    484  CB  SER A  77     -39.096  35.825 -13.509  1.00 74.39           C  
ATOM    485  OG  SER A  77     -38.322  36.385 -14.548  1.00 89.82           O  
ATOM    486  N   THR A  78     -40.672  38.252 -12.459  1.00 71.24           N  
ATOM    487  CA  THR A  78     -41.231  39.598 -12.455  1.00 75.14           C  
ATOM    488  C   THR A  78     -40.675  40.422 -11.297  1.00 77.65           C  
ATOM    489  O   THR A  78     -40.149  41.523 -11.496  1.00 78.62           O  
ATOM    490  CB  THR A  78     -42.755  39.513 -12.379  1.00 79.39           C  
ATOM    491  OG1 THR A  78     -43.241  38.710 -13.466  1.00 79.01           O  
ATOM    492  CG2 THR A  78     -43.381  40.905 -12.435  1.00 70.09           C  
ATOM    493  N   LEU A  79     -40.762  39.885 -10.078  1.00 74.90           N  
ATOM    494  CA  LEU A  79     -40.280  40.609  -8.908  1.00 73.29           C  
ATOM    495  C   LEU A  79     -38.802  40.956  -9.029  1.00 76.18           C  
ATOM    496  O   LEU A  79     -38.390  42.064  -8.675  1.00 77.85           O  
ATOM    497  CB  LEU A  79     -40.532  39.783  -7.650  1.00 79.23           C  
ATOM    498  CG  LEU A  79     -41.882  40.005  -6.970  1.00 81.16           C  
ATOM    499  CD1 LEU A  79     -42.152  38.887  -5.980  1.00 69.28           C  
ATOM    500  CD2 LEU A  79     -41.887  41.371  -6.287  1.00 77.65           C  
ATOM    501  N   ALA A  80     -37.987  40.025  -9.533  1.00 80.51           N  
ATOM    502  CA  ALA A  80     -36.552  40.278  -9.632  1.00 77.49           C  
ATOM    503  C   ALA A  80     -36.240  41.391 -10.625  1.00 75.98           C  
ATOM    504  O   ALA A  80     -35.240  42.099 -10.468  1.00 77.07           O  
ATOM    505  CB  ALA A  80     -35.818  38.995 -10.025  1.00 75.51           C  
ATOM    506  N   GLN A  81     -37.085  41.577 -11.634  1.00 75.89           N  
ATOM    507  CA  GLN A  81     -36.831  42.603 -12.639  1.00 85.68           C  
ATOM    508  C   GLN A  81     -36.981  44.019 -12.103  1.00 84.75           C  
ATOM    509  O   GLN A  81     -36.613  44.964 -12.811  1.00 85.27           O  
ATOM    510  CB  GLN A  81     -37.755  42.402 -13.846  1.00 86.41           C  
ATOM    511  CG  GLN A  81     -37.300  41.272 -14.772  1.00 84.84           C  
ATOM    512  CD  GLN A  81     -38.401  40.778 -15.687  1.00 96.83           C  
ATOM    513  OE1 GLN A  81     -39.353  41.501 -15.985  1.00 99.49           O  
ATOM    514  NE2 GLN A  81     -38.280  39.532 -16.136  1.00103.94           N  
ATOM    515  N   MET A  82     -37.497  44.191 -10.885  1.00 82.15           N  
ATOM    516  CA  MET A  82     -37.648  45.504 -10.274  1.00 74.26           C  
ATOM    517  C   MET A  82     -36.390  45.968  -9.559  1.00 77.23           C  
ATOM    518  O   MET A  82     -36.414  47.024  -8.923  1.00 82.33           O  
ATOM    519  CB  MET A  82     -38.827  45.507  -9.296  1.00 78.02           C  
ATOM    520  CG  MET A  82     -40.169  45.259  -9.959  1.00 76.03           C  
ATOM    521  SD  MET A  82     -41.486  45.011  -8.751  1.00 96.45           S  
ATOM    522  CE  MET A  82     -42.783  44.295  -9.780  1.00 79.85           C  
ATOM    523  N   TYR A  83     -35.308  45.204  -9.629  1.00 78.77           N  
ATOM    524  CA  TYR A  83     -34.000  45.650  -9.147  1.00 81.65           C  
ATOM    525  C   TYR A  83     -33.082  45.717 -10.357  1.00 89.88           C  
ATOM    526  O   TYR A  83     -32.817  44.673 -10.986  1.00 83.34           O  
ATOM    527  CB  TYR A  83     -33.415  44.716  -8.082  1.00 76.00           C  
ATOM    528  CG  TYR A  83     -34.346  44.370  -6.923  1.00 80.96           C  
ATOM    529  CD1 TYR A  83     -35.331  43.396  -7.064  1.00 78.83           C  
ATOM    530  CD2 TYR A  83     -34.217  44.989  -5.685  1.00 77.56           C  
ATOM    531  CE1 TYR A  83     -36.175  43.066  -6.019  1.00 77.25           C  
ATOM    532  CE2 TYR A  83     -35.060  44.662  -4.630  1.00 78.83           C  
ATOM    533  CZ  TYR A  83     -36.040  43.697  -4.805  1.00 76.98           C  
ATOM    534  OH  TYR A  83     -36.889  43.355  -3.773  1.00 69.14           O  
ATOM    535  N   PRO A  84     -32.595  46.900 -10.740  1.00 92.64           N  
ATOM    536  CA  PRO A  84     -31.759  47.010 -11.944  1.00 89.52           C  
ATOM    537  C   PRO A  84     -30.338  46.528 -11.678  1.00 96.16           C  
ATOM    538  O   PRO A  84     -29.689  46.964 -10.722  1.00 93.83           O  
ATOM    539  CB  PRO A  84     -31.789  48.507 -12.255  1.00 94.19           C  
ATOM    540  CG  PRO A  84     -31.977  49.147 -10.912  1.00 95.90           C  
ATOM    541  CD  PRO A  84     -32.858  48.213 -10.123  1.00 91.11           C  
ATOM    542  N   LEU A  85     -29.859  45.615 -12.535  1.00 94.16           N  
ATOM    543  CA  LEU A  85     -28.476  45.157 -12.426  1.00 95.71           C  
ATOM    544  C   LEU A  85     -27.510  46.323 -12.525  1.00 95.51           C  
ATOM    545  O   LEU A  85     -26.429  46.291 -11.923  1.00 94.25           O  
ATOM    546  CB  LEU A  85     -28.160  44.135 -13.520  1.00 91.46           C  
ATOM    547  CG  LEU A  85     -29.072  42.925 -13.694  1.00 89.11           C  
ATOM    548  CD1 LEU A  85     -28.660  42.142 -14.930  1.00 90.21           C  
ATOM    549  CD2 LEU A  85     -29.024  42.041 -12.468  1.00 84.75           C  
ATOM    550  N   GLN A  86     -27.900  47.361 -13.274  1.00103.82           N  
ATOM    551  CA  GLN A  86     -27.075  48.550 -13.463  1.00107.13           C  
ATOM    552  C   GLN A  86     -26.578  49.122 -12.135  1.00105.06           C  
ATOM    553  O   GLN A  86     -25.516  49.758 -12.089  1.00106.23           O  
ATOM    554  CB  GLN A  86     -27.883  49.589 -14.257  1.00103.51           C  
ATOM    555  CG  GLN A  86     -27.090  50.792 -14.757  1.00112.94           C  
ATOM    556  CD  GLN A  86     -27.262  52.022 -13.875  1.00113.64           C  
ATOM    557  OE1 GLN A  86     -28.234  52.133 -13.122  1.00112.37           O  
ATOM    558  NE2 GLN A  86     -26.315  52.952 -13.966  1.00110.61           N  
ATOM   4879  N   THR E 333     -34.808  16.588  48.236  1.00107.78           N  
ATOM   4880  CA  THR E 333     -34.100  15.480  47.592  1.00115.74           C  
ATOM   4881  C   THR E 333     -34.909  14.801  46.465  1.00119.65           C  
ATOM   4882  O   THR E 333     -34.954  13.568  46.370  1.00119.56           O  
ATOM   4883  CB  THR E 333     -33.695  14.409  48.627  1.00111.44           C  
ATOM   4884  OG1 THR E 333     -34.797  14.149  49.507  1.00112.08           O  
ATOM   4885  CG2 THR E 333     -32.495  14.879  49.438  1.00117.47           C  
ATOM   4886  N   ASN E 334     -35.532  15.604  45.605  1.00112.95           N  
ATOM   4887  CA  ASN E 334     -36.287  15.087  44.474  1.00108.01           C  
ATOM   4888  C   ASN E 334     -35.475  15.204  43.182  1.00103.94           C  
ATOM   4889  O   ASN E 334     -34.533  15.994  43.076  1.00 94.37           O  
ATOM   4890  CB  ASN E 334     -37.622  15.823  44.337  1.00106.04           C  
ATOM   4891  CG  ASN E 334     -38.660  15.006  43.586  1.00110.30           C  
ATOM   4892  OD1 ASN E 334     -38.568  13.776  43.514  1.00107.51           O  
ATOM   4893  ND2 ASN E 334     -39.649  15.686  43.016  1.00104.46           N  
ATOM   4894  N   LEU E 335     -35.849  14.391  42.194  1.00101.24           N  
ATOM   4895  CA  LEU E 335     -35.084  14.305  40.955  1.00101.11           C  
ATOM   4896  C   LEU E 335     -35.466  15.426  39.992  1.00 96.63           C  
ATOM   4897  O   LEU E 335     -36.653  15.689  39.764  1.00 88.84           O  
ATOM   4898  CB  LEU E 335     -35.294  12.941  40.298  1.00 98.31           C  
ATOM   4899  CG  LEU E 335     -34.378  11.855  40.861  1.00 96.71           C  
ATOM   4900  CD1 LEU E 335     -34.809  10.486  40.383  1.00 93.18           C  
ATOM   4901  CD2 LEU E 335     -32.926  12.144  40.477  1.00 95.00           C  
ATOM   4902  N   CYS E 336     -34.452  16.074  39.422  1.00 92.18           N  
ATOM   4903  CA  CYS E 336     -34.688  17.165  38.488  1.00 93.06           C  
ATOM   4904  C   CYS E 336     -35.438  16.657  37.261  1.00 94.85           C  
ATOM   4905  O   CYS E 336     -35.031  15.650  36.661  1.00 90.41           O  
ATOM   4906  CB  CYS E 336     -33.372  17.812  38.073  1.00 92.49           C  
ATOM   4907  SG  CYS E 336     -32.506  18.574  39.463  1.00 95.52           S  
ATOM   4908  N   PRO E 337     -36.527  17.323  36.852  1.00 94.39           N  
ATOM   4909  CA  PRO E 337     -37.399  16.812  35.770  1.00 95.09           C  
ATOM   4910  C   PRO E 337     -36.794  17.010  34.383  1.00 87.42           C  
ATOM   4911  O   PRO E 337     -37.284  17.762  33.535  1.00 82.28           O  
ATOM   4912  CB  PRO E 337     -38.685  17.620  35.983  1.00 91.79           C  
ATOM   4913  CG  PRO E 337     -38.213  18.919  36.570  1.00 83.11           C  
ATOM   4914  CD  PRO E 337     -37.004  18.609  37.399  1.00 82.47           C  
ATOM   4915  N   PHE E 338     -35.690  16.309  34.128  1.00 89.29           N  
ATOM   4916  CA  PHE E 338     -35.057  16.388  32.819  1.00 85.19           C  
ATOM   4917  C   PHE E 338     -35.808  15.582  31.774  1.00 82.35           C  
ATOM   4918  O   PHE E 338     -35.819  15.970  30.602  1.00 80.64           O  
ATOM   4919  CB  PHE E 338     -33.606  15.923  32.907  1.00 88.27           C  
ATOM   4920  CG  PHE E 338     -32.684  16.954  33.489  1.00 92.68           C  
ATOM   4921  CD1 PHE E 338     -32.723  18.260  33.039  1.00 83.81           C  
ATOM   4922  CD2 PHE E 338     -31.796  16.623  34.500  1.00 95.44           C  
ATOM   4923  CE1 PHE E 338     -31.884  19.216  33.575  1.00 90.38           C  
ATOM   4924  CE2 PHE E 338     -30.955  17.574  35.041  1.00 96.52           C  
ATOM   4925  CZ  PHE E 338     -31.001  18.874  34.578  1.00 94.70           C  
ATOM   4926  N   GLY E 339     -36.443  14.479  32.175  1.00 85.34           N  
ATOM   4927  CA  GLY E 339     -37.191  13.673  31.224  1.00 74.69           C  
ATOM   4928  C   GLY E 339     -38.249  14.467  30.482  1.00 83.96           C  
ATOM   4929  O   GLY E 339     -38.491  14.236  29.292  1.00 81.92           O  
ATOM   4930  N   GLU E 340     -38.881  15.429  31.159  1.00 78.85           N  
ATOM   4931  CA  GLU E 340     -39.934  16.180  30.488  1.00 78.83           C  
ATOM   4932  C   GLU E 340     -39.378  17.235  29.537  1.00 75.39           C  
ATOM   4933  O   GLU E 340     -40.110  17.694  28.655  1.00 73.11           O  
ATOM   4934  CB  GLU E 340     -40.888  16.812  31.513  1.00 80.26           C  
ATOM   4935  CG  GLU E 340     -40.279  17.855  32.442  1.00 92.09           C  
ATOM   4936  CD  GLU E 340     -41.190  18.187  33.629  1.00 98.84           C  
ATOM   4937  OE1 GLU E 340     -42.105  17.383  33.919  1.00 96.64           O  
ATOM   4938  OE2 GLU E 340     -40.992  19.252  34.265  1.00 94.45           O  
ATOM   4939  N   VAL E 341     -38.107  17.607  29.669  1.00 73.26           N  
ATOM   4940  CA  VAL E 341     -37.475  18.507  28.704  1.00 71.40           C  
ATOM   4941  C   VAL E 341     -36.919  17.740  27.511  1.00 72.44           C  
ATOM   4942  O   VAL E 341     -37.134  18.126  26.355  1.00 66.39           O  
ATOM   4943  CB  VAL E 341     -36.375  19.340  29.387  1.00 74.69           C  
ATOM   4944  CG1 VAL E 341     -35.537  20.058  28.333  1.00 70.17           C  
ATOM   4945  CG2 VAL E 341     -37.000  20.336  30.352  1.00 70.52           C  
ATOM   4946  N   PHE E 342     -36.212  16.636  27.781  1.00 71.51           N  
ATOM   4947  CA  PHE E 342     -35.583  15.847  26.726  1.00 72.80           C  
ATOM   4948  C   PHE E 342     -36.581  14.977  25.976  1.00 68.00           C  
ATOM   4949  O   PHE E 342     -36.434  14.792  24.767  1.00 66.98           O  
ATOM   4950  CB  PHE E 342     -34.459  14.982  27.303  1.00 66.81           C  
ATOM   4951  CG  PHE E 342     -33.213  15.755  27.608  1.00 64.70           C  
ATOM   4952  CD1 PHE E 342     -33.089  16.455  28.803  1.00 72.88           C  
ATOM   4953  CD2 PHE E 342     -32.173  15.813  26.695  1.00 65.69           C  
ATOM   4954  CE1 PHE E 342     -31.940  17.184  29.088  1.00 71.00           C  
ATOM   4955  CE2 PHE E 342     -31.021  16.546  26.971  1.00 69.43           C  
ATOM   4956  CZ  PHE E 342     -30.905  17.230  28.169  1.00 71.19           C  
ATOM   4957  N   ASN E 343     -37.600  14.453  26.651  1.00 72.32           N  
ATOM   4958  CA  ASN E 343     -38.549  13.549  26.016  1.00 72.73           C  
ATOM   4959  C   ASN E 343     -39.904  14.206  25.729  1.00 65.48           C  
ATOM   4960  O   ASN E 343     -40.895  13.495  25.540  1.00 63.79           O  
ATOM   4961  CB  ASN E 343     -38.726  12.291  26.875  1.00 75.98           C  
ATOM   4962  CG  ASN E 343     -37.563  11.303  26.729  1.00 87.21           C  
ATOM   4963  OD1 ASN E 343     -36.906  11.254  25.686  1.00 84.52           O  
ATOM   4964  ND2 ASN E 343     -37.309  10.512  27.784  1.00 94.59           N  
ATOM   4965  N   ALA E 344     -39.971  15.538  25.682  1.00 66.21           N  
ATOM   4966  CA  ALA E 344     -41.210  16.195  25.272  1.00 60.97           C  
ATOM   4967  C   ALA E 344     -41.639  15.698  23.895  1.00 67.74           C  
ATOM   4968  O   ALA E 344     -40.802  15.421  23.029  1.00 62.19           O  
ATOM   4969  CB  ALA E 344     -41.046  17.715  25.256  1.00 55.67           C  
ATOM   4970  N   THR E 345     -42.959  15.550  23.708  1.00 66.00           N  
ATOM   4971  CA  THR E 345     -43.469  15.038  22.441  1.00 64.09           C  
ATOM   4972  C   THR E 345     -43.199  16.010  21.300  1.00 65.97           C  
ATOM   4973  O   THR E 345     -42.956  15.588  20.161  1.00 58.57           O  
ATOM   4974  CB  THR E 345     -44.967  14.764  22.547  1.00 69.61           C  
ATOM   4975  OG1 THR E 345     -45.645  15.994  22.807  1.00 78.05           O  
ATOM   4976  CG2 THR E 345     -45.261  13.807  23.687  1.00 65.14           C  
ATOM   4977  N   ARG E 346     -43.211  17.306  21.596  1.00 65.77           N  
ATOM   4978  CA  ARG E 346     -43.070  18.347  20.592  1.00 61.58           C  
ATOM   4979  C   ARG E 346     -42.158  19.414  21.169  1.00 58.93           C  
ATOM   4980  O   ARG E 346     -42.323  19.798  22.328  1.00 58.36           O  
ATOM   4981  CB  ARG E 346     -44.446  18.914  20.240  1.00 53.32           C  
ATOM   4982  CG  ARG E 346     -44.485  20.048  19.236  1.00 53.44           C  
ATOM   4983  CD  ARG E 346     -45.955  20.424  19.003  1.00 43.08           C  
ATOM   4984  NE  ARG E 346     -46.284  20.269  17.610  1.00 56.89           N  
ATOM   4985  CZ  ARG E 346     -47.122  19.374  17.104  1.00 54.22           C  
ATOM   4986  NH1 ARG E 346     -47.786  18.520  17.870  1.00 50.35           N  
ATOM   4987  NH2 ARG E 346     -47.296  19.358  15.797  1.00 59.86           N  
ATOM   4988  N   PHE E 347     -41.182  19.862  20.389  1.00 54.66           N  
ATOM   4989  CA  PHE E 347     -40.257  20.900  20.818  1.00 52.95           C  
ATOM   4990  C   PHE E 347     -40.733  22.254  20.304  1.00 54.62           C  
ATOM   4991  O   PHE E 347     -41.593  22.339  19.425  1.00 54.17           O  
ATOM   4992  CB  PHE E 347     -38.831  20.602  20.319  1.00 57.15           C  
ATOM   4993  CG  PHE E 347     -37.985  19.816  21.297  1.00 63.98           C  
ATOM   4994  CD1 PHE E 347     -38.498  18.690  21.941  1.00 62.72           C  
ATOM   4995  CD2 PHE E 347     -36.671  20.200  21.567  1.00 60.84           C  
ATOM   4996  CE1 PHE E 347     -37.716  17.954  22.835  1.00 61.51           C  
ATOM   4997  CE2 PHE E 347     -35.884  19.476  22.466  1.00 63.48           C  
ATOM   4998  CZ  PHE E 347     -36.406  18.350  23.095  1.00 61.77           C  
ATOM   4999  N   ALA E 348     -40.148  23.320  20.850  1.00 54.79           N  
ATOM   5000  CA  ALA E 348     -40.467  24.668  20.398  1.00 55.59           C  
ATOM   5001  C   ALA E 348     -39.769  24.980  19.079  1.00 58.51           C  
ATOM   5002  O   ALA E 348     -38.740  24.386  18.737  1.00 59.25           O  
ATOM   5003  CB  ALA E 348     -40.062  25.711  21.443  1.00 52.44           C  
ATOM   5004  N   SER E 349     -40.351  25.909  18.324  1.00 48.09           N  
ATOM   5005  CA  SER E 349     -39.601  26.543  17.255  1.00 53.58           C  
ATOM   5006  C   SER E 349     -38.460  27.353  17.860  1.00 57.82           C  
ATOM   5007  O   SER E 349     -38.584  27.918  18.949  1.00 56.30           O  
ATOM   5008  CB  SER E 349     -40.507  27.445  16.405  1.00 55.40           C  
ATOM   5009  OG  SER E 349     -41.510  26.706  15.707  1.00 57.96           O  
ATOM   5010  N   VAL E 350     -37.339  27.414  17.141  1.00 58.32           N  
ATOM   5011  CA  VAL E 350     -36.150  28.047  17.704  1.00 58.93           C  
ATOM   5012  C   VAL E 350     -36.363  29.545  17.915  1.00 61.07           C  
ATOM   5013  O   VAL E 350     -35.806  30.123  18.856  1.00 61.07           O  
ATOM   5014  CB  VAL E 350     -34.919  27.763  16.819  1.00 60.98           C  
ATOM   5015  CG1 VAL E 350     -35.101  28.352  15.408  1.00 57.99           C  
ATOM   5016  CG2 VAL E 350     -33.640  28.274  17.492  1.00 54.74           C  
ATOM   5017  N   TYR E 351     -37.171  30.200  17.072  1.00 54.62           N  
ATOM   5018  CA  TYR E 351     -37.409  31.627  17.285  1.00 58.25           C  
ATOM   5019  C   TYR E 351     -38.179  31.870  18.569  1.00 61.24           C  
ATOM   5020  O   TYR E 351     -38.114  32.966  19.137  1.00 64.17           O  
ATOM   5021  CB  TYR E 351     -38.181  32.234  16.116  1.00 59.11           C  
ATOM   5022  CG  TYR E 351     -39.695  32.139  16.233  1.00 55.26           C  
ATOM   5023  CD1 TYR E 351     -40.363  30.982  15.856  1.00 53.75           C  
ATOM   5024  CD2 TYR E 351     -40.453  33.217  16.690  1.00 58.50           C  
ATOM   5025  CE1 TYR E 351     -41.730  30.885  15.933  1.00 56.39           C  
ATOM   5026  CE2 TYR E 351     -41.833  33.132  16.774  1.00 59.45           C  
ATOM   5027  CZ  TYR E 351     -42.465  31.957  16.396  1.00 63.72           C  
ATOM   5028  OH  TYR E 351     -43.835  31.839  16.468  1.00 61.73           O  
ATOM   5029  N   ALA E 352     -38.940  30.874  19.010  1.00 58.43           N  
ATOM   5030  CA  ALA E 352     -39.709  30.950  20.238  1.00 61.99           C  
ATOM   5031  C   ALA E 352     -39.176  29.875  21.166  1.00 56.54           C  
ATOM   5032  O   ALA E 352     -39.941  29.044  21.669  1.00 51.71           O  
ATOM   5033  CB  ALA E 352     -41.203  30.768  19.958  1.00 53.25           C  
ATOM   5034  N   TRP E 353     -37.856  29.863  21.349  1.00 57.62           N  
ATOM   5035  CA  TRP E 353     -37.216  28.792  22.105  1.00 61.35           C  
ATOM   5036  C   TRP E 353     -37.805  28.696  23.510  1.00 62.47           C  
ATOM   5037  O   TRP E 353     -38.070  29.703  24.172  1.00 63.56           O  
ATOM   5038  CB  TRP E 353     -35.693  29.000  22.160  1.00 55.39           C  
ATOM   5039  CG  TRP E 353     -35.225  30.389  22.590  1.00 58.62           C  
ATOM   5040  CD1 TRP E 353     -35.092  31.489  21.798  1.00 63.64           C  
ATOM   5041  CD2 TRP E 353     -34.817  30.798  23.905  1.00 62.98           C  
ATOM   5042  NE1 TRP E 353     -34.637  32.561  22.535  1.00 62.17           N  
ATOM   5043  CE2 TRP E 353     -34.454  32.161  23.828  1.00 63.73           C  
ATOM   5044  CE3 TRP E 353     -34.723  30.145  25.138  1.00 62.22           C  
ATOM   5045  CZ2 TRP E 353     -34.004  32.882  24.934  1.00 62.39           C  
ATOM   5046  CZ3 TRP E 353     -34.278  30.869  26.235  1.00 67.75           C  
ATOM   5047  CH2 TRP E 353     -33.933  32.224  26.124  1.00 60.22           C  
ATOM   5048  N   ASN E 354     -38.035  27.469  23.948  1.00 64.02           N  
ATOM   5049  CA  ASN E 354     -38.599  27.211  25.261  1.00 59.41           C  
ATOM   5050  C   ASN E 354     -37.520  27.234  26.344  1.00 69.30           C  
ATOM   5051  O   ASN E 354     -36.399  26.758  26.130  1.00 64.09           O  
ATOM   5052  CB  ASN E 354     -39.285  25.856  25.244  1.00 60.15           C  
ATOM   5053  CG  ASN E 354     -40.429  25.799  26.181  1.00 72.74           C  
ATOM   5054  OD1 ASN E 354     -40.303  25.290  27.297  1.00 75.88           O  
ATOM   5055  ND2 ASN E 354     -41.563  26.358  25.760  1.00 75.70           N  
ATOM   5056  N   ARG E 355     -37.864  27.777  27.518  1.00 66.34           N  
ATOM   5057  CA  ARG E 355     -36.973  27.765  28.678  1.00 63.77           C  
ATOM   5058  C   ARG E 355     -37.671  27.133  29.873  1.00 68.48           C  
ATOM   5059  O   ARG E 355     -38.790  27.524  30.226  1.00 64.45           O  
ATOM   5060  CB  ARG E 355     -36.494  29.172  29.071  1.00 63.63           C  
ATOM   5061  CG  ARG E 355     -35.937  29.227  30.510  1.00 63.70           C  
ATOM   5062  CD  ARG E 355     -34.937  30.352  30.721  1.00 68.56           C  
ATOM   5063  NE  ARG E 355     -33.749  30.207  29.881  1.00 71.72           N  
ATOM   5064  CZ  ARG E 355     -32.789  31.122  29.775  1.00 70.24           C  
ATOM   5065  NH1 ARG E 355     -32.866  32.258  30.460  1.00 69.03           N  
ATOM   5066  NH2 ARG E 355     -31.748  30.902  28.983  1.00 66.59           N  
ATOM   5067  N   LYS E 356     -37.006  26.167  30.499  1.00 66.65           N  
ATOM   5068  CA  LYS E 356     -37.480  25.585  31.746  1.00 68.50           C  
ATOM   5069  C   LYS E 356     -36.454  25.869  32.832  1.00 72.49           C  
ATOM   5070  O   LYS E 356     -35.269  25.541  32.683  1.00 71.25           O  
ATOM   5071  CB  LYS E 356     -37.730  24.082  31.628  1.00 67.89           C  
ATOM   5072  CG  LYS E 356     -38.039  23.464  32.995  1.00 77.37           C  
ATOM   5073  CD  LYS E 356     -38.717  22.102  32.912  1.00 79.37           C  
ATOM   5074  CE  LYS E 356     -40.142  22.180  33.418  1.00 86.58           C  
ATOM   5075  NZ  LYS E 356     -40.246  23.025  34.648  1.00 86.07           N  
ATOM   5076  N   ARG E 357     -36.907  26.495  33.911  1.00 73.17           N  
ATOM   5077  CA  ARG E 357     -36.071  26.700  35.082  1.00 72.44           C  
ATOM   5078  C   ARG E 357     -36.028  25.419  35.906  1.00 69.50           C  
ATOM   5079  O   ARG E 357     -37.068  24.823  36.205  1.00 65.43           O  
ATOM   5080  CB  ARG E 357     -36.605  27.863  35.914  1.00 68.89           C  
ATOM   5081  CG  ARG E 357     -35.716  28.233  37.068  1.00 76.75           C  
ATOM   5082  CD  ARG E 357     -36.270  29.418  37.802  1.00 79.45           C  
ATOM   5083  NE  ARG E 357     -35.549  29.643  39.044  1.00 78.28           N  
ATOM   5084  CZ  ARG E 357     -35.709  30.712  39.810  1.00 74.29           C  
ATOM   5085  NH1 ARG E 357     -35.003  30.843  40.931  1.00 80.13           N  
ATOM   5086  NH2 ARG E 357     -36.570  31.650  39.453  1.00 65.27           N  
ATOM   5087  N   ILE E 358     -34.819  24.988  36.249  1.00 76.68           N  
ATOM   5088  CA  ILE E 358     -34.584  23.806  37.071  1.00 82.19           C  
ATOM   5089  C   ILE E 358     -34.169  24.274  38.458  1.00 77.75           C  
ATOM   5090  O   ILE E 358     -33.242  25.082  38.592  1.00 81.67           O  
ATOM   5091  CB  ILE E 358     -33.505  22.903  36.447  1.00 83.61           C  
ATOM   5092  CG1 ILE E 358     -33.951  22.420  35.066  1.00 84.55           C  
ATOM   5093  CG2 ILE E 358     -33.191  21.731  37.349  1.00 84.76           C  
ATOM   5094  CD1 ILE E 358     -35.229  21.597  35.093  1.00 85.52           C  
ATOM   5095  N   SER E 359     -34.856  23.785  39.488  1.00 85.30           N  
ATOM   5096  CA  SER E 359     -34.566  24.230  40.848  1.00 91.26           C  
ATOM   5097  C   SER E 359     -34.961  23.159  41.855  1.00 88.87           C  
ATOM   5098  O   SER E 359     -35.815  22.311  41.582  1.00 85.08           O  
ATOM   5099  CB  SER E 359     -35.285  25.548  41.179  1.00 89.92           C  
ATOM   5100  OG  SER E 359     -34.639  26.654  40.558  1.00 92.67           O  
ATOM   5101  N   ASN E 360     -34.305  23.205  43.018  1.00 94.97           N  
ATOM   5102  CA  ASN E 360     -34.653  22.411  44.201  1.00 91.15           C  
ATOM   5103  C   ASN E 360     -34.837  20.934  43.850  1.00 89.27           C  
ATOM   5104  O   ASN E 360     -35.922  20.358  43.972  1.00 88.34           O  
ATOM   5105  CB  ASN E 360     -35.903  22.981  44.882  1.00 93.40           C  
ATOM   5106  CG  ASN E 360     -35.925  24.507  44.882  1.00 98.79           C  
ATOM   5107  OD1 ASN E 360     -35.107  25.149  45.541  1.00103.00           O  
ATOM   5108  ND2 ASN E 360     -36.867  25.093  44.140  1.00 92.56           N  
ATOM   5109  N   CYS E 361     -33.744  20.320  43.410  1.00 87.27           N  
ATOM   5110  CA  CYS E 361     -33.790  18.934  42.964  1.00 88.71           C  
ATOM   5111  C   CYS E 361     -32.361  18.423  42.816  1.00 85.30           C  
ATOM   5112  O   CYS E 361     -31.398  19.197  42.858  1.00 84.98           O  
ATOM   5113  CB  CYS E 361     -34.565  18.812  41.651  1.00 95.10           C  
ATOM   5114  SG  CYS E 361     -33.874  19.818  40.319  1.00 90.85           S  
ATOM   5115  N   VAL E 362     -32.234  17.108  42.633  1.00 88.00           N  
ATOM   5116  CA  VAL E 362     -30.938  16.451  42.465  1.00 97.51           C  
ATOM   5117  C   VAL E 362     -30.826  15.931  41.031  1.00 96.25           C  
ATOM   5118  O   VAL E 362     -31.706  15.202  40.550  1.00 90.94           O  
ATOM   5119  CB  VAL E 362     -30.732  15.332  43.509  1.00 95.66           C  
ATOM   5120  CG1 VAL E 362     -31.910  14.359  43.529  1.00102.46           C  
ATOM   5121  CG2 VAL E 362     -29.411  14.600  43.275  1.00 91.73           C  
ATOM   5122  N   ALA E 363     -29.735  16.304  40.355  1.00 95.96           N  
ATOM   5123  CA  ALA E 363     -29.555  16.090  38.923  1.00102.02           C  
ATOM   5124  C   ALA E 363     -28.374  15.163  38.670  1.00102.45           C  
ATOM   5125  O   ALA E 363     -27.248  15.463  39.079  1.00104.10           O  
ATOM   5126  CB  ALA E 363     -29.331  17.422  38.206  1.00103.61           C  
ATOM   5127  N   ASP E 364     -28.619  14.059  37.964  1.00103.72           N  
ATOM   5128  CA  ASP E 364     -27.562  13.105  37.619  1.00109.65           C  
ATOM   5129  C   ASP E 364     -27.089  13.371  36.188  1.00107.53           C  
ATOM   5130  O   ASP E 364     -27.535  12.748  35.226  1.00106.86           O  
ATOM   5131  CB  ASP E 364     -28.056  11.671  37.798  1.00104.04           C  
ATOM   5132  CG  ASP E 364     -26.957  10.646  37.570  1.00107.39           C  
ATOM   5133  OD1 ASP E 364     -25.833  10.853  38.075  1.00105.58           O  
ATOM   5134  OD2 ASP E 364     -27.221   9.628  36.896  1.00109.61           O  
ATOM   5135  N   TYR E 365     -26.140  14.302  36.059  1.00103.00           N  
ATOM   5136  CA  TYR E 365     -25.648  14.704  34.744  1.00108.86           C  
ATOM   5137  C   TYR E 365     -24.840  13.620  34.033  1.00111.32           C  
ATOM   5138  O   TYR E 365     -24.551  13.773  32.840  1.00110.35           O  
ATOM   5139  CB  TYR E 365     -24.795  15.967  34.866  1.00105.70           C  
ATOM   5140  CG  TYR E 365     -25.526  17.140  35.470  1.00105.21           C  
ATOM   5141  CD1 TYR E 365     -26.273  17.998  34.677  1.00103.28           C  
ATOM   5142  CD2 TYR E 365     -25.465  17.395  36.835  1.00109.36           C  
ATOM   5143  CE1 TYR E 365     -26.946  19.076  35.229  1.00106.03           C  
ATOM   5144  CE2 TYR E 365     -26.132  18.466  37.395  1.00104.18           C  
ATOM   5145  CZ  TYR E 365     -26.871  19.303  36.589  1.00104.17           C  
ATOM   5146  OH  TYR E 365     -27.538  20.371  37.139  1.00102.00           O  
ATOM   5147  N   SER E 366     -24.454  12.547  34.717  1.00108.96           N  
ATOM   5148  CA  SER E 366     -23.709  11.486  34.058  1.00109.10           C  
ATOM   5149  C   SER E 366     -24.600  10.351  33.573  1.00110.71           C  
ATOM   5150  O   SER E 366     -24.094   9.419  32.944  1.00112.80           O  
ATOM   5151  CB  SER E 366     -22.607  10.943  34.980  1.00107.56           C  
ATOM   5152  OG  SER E 366     -23.028  10.875  36.330  1.00110.98           O  
ATOM   5153  N   VAL E 367     -25.907  10.393  33.843  1.00107.66           N  
ATOM   5154  CA  VAL E 367     -26.794   9.506  33.094  1.00111.76           C  
ATOM   5155  C   VAL E 367     -27.136  10.136  31.750  1.00113.32           C  
ATOM   5156  O   VAL E 367     -27.352   9.425  30.759  1.00115.08           O  
ATOM   5157  CB  VAL E 367     -28.066   9.159  33.890  1.00111.93           C  
ATOM   5158  CG1 VAL E 367     -29.071  10.309  33.858  1.00109.88           C  
ATOM   5159  CG2 VAL E 367     -28.696   7.875  33.348  1.00107.81           C  
ATOM   5160  N   LEU E 368     -27.170  11.469  31.687  1.00109.81           N  
ATOM   5161  CA  LEU E 368     -27.388  12.143  30.415  1.00107.13           C  
ATOM   5162  C   LEU E 368     -26.207  11.926  29.480  1.00108.91           C  
ATOM   5163  O   LEU E 368     -26.383  11.498  28.334  1.00112.22           O  
ATOM   5164  CB  LEU E 368     -27.642  13.633  30.646  1.00108.01           C  
ATOM   5165  CG  LEU E 368     -29.092  14.090  30.876  1.00101.54           C  
ATOM   5166  CD1 LEU E 368     -29.716  13.453  32.120  1.00101.63           C  
ATOM   5167  CD2 LEU E 368     -29.163  15.615  30.945  1.00 86.67           C  
ATOM   5168  N   TYR E 369     -24.988  12.194  29.958  1.00109.92           N  
ATOM   5169  CA  TYR E 369     -23.811  11.977  29.119  1.00114.61           C  
ATOM   5170  C   TYR E 369     -23.693  10.513  28.701  1.00115.84           C  
ATOM   5171  O   TYR E 369     -23.531  10.204  27.514  1.00117.31           O  
ATOM   5172  CB  TYR E 369     -22.543  12.432  29.844  1.00113.70           C  
ATOM   5173  CG  TYR E 369     -21.347  12.602  28.921  1.00114.37           C  
ATOM   5174  CD1 TYR E 369     -21.507  12.616  27.535  1.00110.13           C  
ATOM   5175  CD2 TYR E 369     -20.057  12.737  29.431  1.00117.54           C  
ATOM   5176  CE1 TYR E 369     -20.421  12.767  26.685  1.00111.79           C  
ATOM   5177  CE2 TYR E 369     -18.963  12.895  28.587  1.00114.40           C  
ATOM   5178  CZ  TYR E 369     -19.152  12.906  27.216  1.00112.55           C  
ATOM   5179  OH  TYR E 369     -18.075  13.057  26.371  1.00107.60           O  
ATOM   5180  N   ASN E 370     -23.792   9.595  29.661  1.00116.59           N  
ATOM   5181  CA  ASN E 370     -23.591   8.176  29.390  1.00117.78           C  
ATOM   5182  C   ASN E 370     -24.819   7.497  28.788  1.00117.55           C  
ATOM   5183  O   ASN E 370     -24.943   6.271  28.900  1.00120.33           O  
ATOM   5184  CB  ASN E 370     -23.165   7.450  30.668  1.00116.17           C  
ATOM   5185  CG  ASN E 370     -21.987   8.126  31.358  1.00117.13           C  
ATOM   5186  OD1 ASN E 370     -21.203   8.837  30.725  1.00113.57           O  
ATOM   5187  ND2 ASN E 370     -21.868   7.914  32.667  1.00116.99           N  
ATOM   5188  N   SER E 371     -25.725   8.252  28.159  1.00117.44           N  
ATOM   5189  CA  SER E 371     -26.797   7.625  27.389  1.00122.12           C  
ATOM   5190  C   SER E 371     -26.296   7.080  26.054  1.00121.57           C  
ATOM   5191  O   SER E 371     -26.838   6.083  25.557  1.00121.32           O  
ATOM   5192  CB  SER E 371     -27.942   8.619  27.152  1.00116.72           C  
ATOM   5193  OG  SER E 371     -28.963   8.055  26.334  1.00108.21           O  
ATOM   5194  N   ALA E 372     -25.268   7.712  25.472  1.00115.68           N  
ATOM   5195  CA  ALA E 372     -24.725   7.335  24.163  1.00113.20           C  
ATOM   5196  C   ALA E 372     -25.789   7.412  23.070  1.00109.55           C  
ATOM   5197  O   ALA E 372     -25.790   6.615  22.128  1.00108.87           O  
ATOM   5198  CB  ALA E 372     -24.083   5.943  24.198  1.00109.56           C  
ATOM   5199  N   SER E 373     -26.702   8.376  23.189  1.00103.06           N  
ATOM   5200  CA  SER E 373     -27.780   8.563  22.228  1.00 98.73           C  
ATOM   5201  C   SER E 373     -27.784   9.964  21.636  1.00 90.44           C  
ATOM   5202  O   SER E 373     -28.696  10.300  20.870  1.00 83.37           O  
ATOM   5203  CB  SER E 373     -29.131   8.273  22.886  1.00101.87           C  
ATOM   5204  OG  SER E 373     -29.267   9.010  24.095  1.00102.91           O  
ATOM   5205  N   PHE E 374     -26.797  10.789  21.975  1.00 91.97           N  
ATOM   5206  CA  PHE E 374     -26.700  12.163  21.505  1.00 80.07           C  
ATOM   5207  C   PHE E 374     -25.566  12.293  20.501  1.00 74.94           C  
ATOM   5208  O   PHE E 374     -24.477  11.758  20.713  1.00 81.25           O  
ATOM   5209  CB  PHE E 374     -26.446  13.128  22.667  1.00 78.50           C  
ATOM   5210  CG  PHE E 374     -27.515  13.120  23.720  1.00 82.67           C  
ATOM   5211  CD1 PHE E 374     -28.804  13.542  23.428  1.00 76.81           C  
ATOM   5212  CD2 PHE E 374     -27.223  12.719  25.018  1.00 87.87           C  
ATOM   5213  CE1 PHE E 374     -29.789  13.545  24.412  1.00 78.03           C  
ATOM   5214  CE2 PHE E 374     -28.202  12.720  26.002  1.00 85.06           C  
ATOM   5215  CZ  PHE E 374     -29.485  13.135  25.699  1.00 75.86           C  
ATOM   5216  N   SER E 375     -25.813  13.031  19.419  1.00 78.15           N  
ATOM   5217  CA  SER E 375     -24.754  13.325  18.462  1.00 70.26           C  
ATOM   5218  C   SER E 375     -23.924  14.536  18.875  1.00 72.57           C  
ATOM   5219  O   SER E 375     -22.824  14.745  18.346  1.00 69.20           O  
ATOM   5220  CB  SER E 375     -25.352  13.542  17.070  1.00 67.00           C  
ATOM   5221  OG  SER E 375     -26.106  14.742  17.009  1.00 71.70           O  
ATOM   5222  N   THR E 376     -24.421  15.344  19.797  1.00 70.55           N  
ATOM   5223  CA  THR E 376     -23.642  16.463  20.300  1.00 75.15           C  
ATOM   5224  C   THR E 376     -23.844  16.559  21.804  1.00 72.59           C  
ATOM   5225  O   THR E 376     -24.976  16.489  22.292  1.00 72.85           O  
ATOM   5226  CB  THR E 376     -24.037  17.771  19.612  1.00 69.07           C  
ATOM   5227  OG1 THR E 376     -23.866  17.626  18.204  1.00 73.78           O  
ATOM   5228  CG2 THR E 376     -23.173  18.910  20.097  1.00 67.41           C  
ATOM   5229  N   PHE E 377     -22.739  16.685  22.529  1.00 77.75           N  
ATOM   5230  CA  PHE E 377     -22.760  16.907  23.967  1.00 78.68           C  
ATOM   5231  C   PHE E 377     -21.460  17.594  24.330  1.00 78.17           C  
ATOM   5232  O   PHE E 377     -20.515  16.949  24.794  1.00 79.01           O  
ATOM   5233  CB  PHE E 377     -22.924  15.597  24.738  1.00 71.68           C  
ATOM   5234  CG  PHE E 377     -23.426  15.778  26.148  1.00 84.27           C  
ATOM   5235  CD1 PHE E 377     -22.922  16.783  26.969  1.00 85.72           C  
ATOM   5236  CD2 PHE E 377     -24.408  14.942  26.654  1.00 88.36           C  
ATOM   5237  CE1 PHE E 377     -23.382  16.945  28.265  1.00 82.98           C  
ATOM   5238  CE2 PHE E 377     -24.870  15.098  27.946  1.00 92.25           C  
ATOM   5239  CZ  PHE E 377     -24.355  16.103  28.753  1.00 89.37           C  
ATOM   5240  N   LYS E 378     -21.394  18.893  24.094  1.00 73.78           N  
ATOM   5241  CA  LYS E 378     -20.157  19.638  24.256  1.00 77.92           C  
ATOM   5242  C   LYS E 378     -20.389  20.667  25.341  1.00 80.95           C  
ATOM   5243  O   LYS E 378     -21.123  21.634  25.136  1.00 81.51           O  
ATOM   5244  CB  LYS E 378     -19.734  20.293  22.946  1.00 78.43           C  
ATOM   5245  CG  LYS E 378     -19.547  19.293  21.817  1.00 91.13           C  
ATOM   5246  CD  LYS E 378     -18.531  18.192  22.176  1.00 91.15           C  
ATOM   5247  CE  LYS E 378     -19.002  16.822  21.676  1.00 88.70           C  
ATOM   5248  NZ  LYS E 378     -19.926  16.939  20.502  1.00 81.70           N  
ATOM   5249  N   CYS E 379     -19.762  20.465  26.489  1.00 87.16           N  
ATOM   5250  CA  CYS E 379     -19.890  21.433  27.559  1.00 84.14           C  
ATOM   5251  C   CYS E 379     -18.821  22.501  27.428  1.00 79.77           C  
ATOM   5252  O   CYS E 379     -17.747  22.272  26.877  1.00 84.04           O  
ATOM   5253  CB  CYS E 379     -19.824  20.741  28.916  1.00 80.29           C  
ATOM   5254  SG  CYS E 379     -21.249  19.718  29.186  1.00 98.13           S  
ATOM   5255  N   TYR E 380     -19.151  23.691  27.897  1.00 83.12           N  
ATOM   5256  CA  TYR E 380     -18.276  24.848  27.793  1.00 88.59           C  
ATOM   5257  C   TYR E 380     -18.091  25.351  29.215  1.00 96.60           C  
ATOM   5258  O   TYR E 380     -18.999  25.966  29.769  1.00100.22           O  
ATOM   5259  CB  TYR E 380     -18.883  25.933  26.895  1.00 84.46           C  
ATOM   5260  CG  TYR E 380     -19.054  25.557  25.425  1.00 81.09           C  
ATOM   5261  CD1 TYR E 380     -20.024  24.644  25.026  1.00 78.69           C  
ATOM   5262  CD2 TYR E 380     -18.261  26.137  24.433  1.00 82.00           C  
ATOM   5263  CE1 TYR E 380     -20.181  24.297  23.686  1.00 79.39           C  
ATOM   5264  CE2 TYR E 380     -18.414  25.794  23.090  1.00 79.04           C  
ATOM   5265  CZ  TYR E 380     -19.373  24.877  22.727  1.00 78.57           C  
ATOM   5266  OH  TYR E 380     -19.517  24.547  21.400  1.00 83.84           O  
ATOM   5267  N   GLY E 381     -16.952  25.059  29.833  1.00 97.80           N  
ATOM   5268  CA  GLY E 381     -16.762  25.544  31.187  1.00 95.74           C  
ATOM   5269  C   GLY E 381     -16.316  24.527  32.216  1.00103.79           C  
ATOM   5270  O   GLY E 381     -15.459  24.845  33.043  1.00114.58           O  
ATOM   5271  N   VAL E 382     -16.879  23.319  32.203  1.00102.36           N  
ATOM   5272  CA  VAL E 382     -16.433  22.267  33.115  1.00116.32           C  
ATOM   5273  C   VAL E 382     -16.957  20.939  32.596  1.00112.68           C  
ATOM   5274  O   VAL E 382     -18.009  20.881  31.960  1.00114.35           O  
ATOM   5275  CB  VAL E 382     -16.901  22.533  34.569  1.00118.44           C  
ATOM   5276  CG1 VAL E 382     -18.331  22.031  34.779  1.00112.94           C  
ATOM   5277  CG2 VAL E 382     -15.931  21.904  35.568  1.00111.40           C  
ATOM   5278  N   SER E 383     -16.229  19.863  32.894  1.00115.30           N  
ATOM   5279  CA  SER E 383     -16.582  18.550  32.366  1.00117.22           C  
ATOM   5280  C   SER E 383     -17.855  18.032  33.029  1.00115.33           C  
ATOM   5281  O   SER E 383     -18.064  18.258  34.223  1.00117.12           O  
ATOM   5282  CB  SER E 383     -15.433  17.559  32.585  1.00118.94           C  
ATOM   5283  OG  SER E 383     -15.819  16.216  32.331  1.00116.46           O  
ATOM   5284  N   PRO E 384     -18.715  17.324  32.282  1.00115.94           N  
ATOM   5285  CA  PRO E 384     -19.930  16.736  32.877  1.00117.19           C  
ATOM   5286  C   PRO E 384     -19.625  15.849  34.069  1.00117.04           C  
ATOM   5287  O   PRO E 384     -20.241  15.947  35.140  1.00113.88           O  
ATOM   5288  CB  PRO E 384     -20.536  15.917  31.725  1.00115.25           C  
ATOM   5289  CG  PRO E 384     -19.461  15.836  30.671  1.00114.37           C  
ATOM   5290  CD  PRO E 384     -18.600  17.043  30.842  1.00115.01           C  
ATOM   5291  N   THR E 385     -18.649  14.970  33.844  1.00117.72           N  
ATOM   5292  CA  THR E 385     -18.097  14.051  34.827  1.00117.04           C  
ATOM   5293  C   THR E 385     -17.753  14.801  36.100  1.00115.96           C  
ATOM   5294  O   THR E 385     -17.913  14.289  37.214  1.00112.69           O  
ATOM   5295  CB  THR E 385     -16.845  13.376  34.259  1.00119.58           C  
ATOM   5296  OG1 THR E 385     -15.810  14.357  34.101  1.00122.39           O  
ATOM   5297  CG2 THR E 385     -17.138  12.767  32.894  1.00118.18           C  
ATOM   5298  N   LYS E 386     -17.296  16.036  35.924  1.00116.28           N  
ATOM   5299  CA  LYS E 386     -16.880  16.872  37.034  1.00116.80           C  
ATOM   5300  C   LYS E 386     -17.998  17.753  37.575  1.00119.06           C  
ATOM   5301  O   LYS E 386     -18.015  18.032  38.780  1.00121.62           O  
ATOM   5302  CB  LYS E 386     -15.690  17.739  36.614  1.00117.13           C  
ATOM   5303  CG  LYS E 386     -14.393  16.948  36.458  1.00117.24           C  
ATOM   5304  CD  LYS E 386     -13.288  17.804  35.865  1.00116.54           C  
ATOM   5305  CE  LYS E 386     -11.989  17.024  35.754  1.00113.76           C  
ATOM   5306  NZ  LYS E 386     -11.515  16.541  37.084  1.00106.28           N  
ATOM   5307  N   LEU E 387     -18.941  18.197  36.733  1.00119.39           N  
ATOM   5308  CA  LEU E 387     -20.009  19.053  37.250  1.00117.66           C  
ATOM   5309  C   LEU E 387     -21.073  18.266  38.008  1.00114.57           C  
ATOM   5310  O   LEU E 387     -21.844  18.865  38.765  1.00111.04           O  
ATOM   5311  CB  LEU E 387     -20.659  19.877  36.129  1.00117.20           C  
ATOM   5312  CG  LEU E 387     -21.201  19.273  34.827  1.00114.48           C  
ATOM   5313  CD1 LEU E 387     -22.482  18.490  35.036  1.00110.97           C  
ATOM   5314  CD2 LEU E 387     -21.409  20.357  33.776  1.00102.52           C  
ATOM   5315  N   ASN E 388     -21.131  16.943  37.829  1.00115.11           N  
ATOM   5316  CA  ASN E 388     -21.941  16.118  38.718  1.00111.44           C  
ATOM   5317  C   ASN E 388     -21.496  16.257  40.173  1.00115.08           C  
ATOM   5318  O   ASN E 388     -22.245  15.885  41.086  1.00108.43           O  
ATOM   5319  CB  ASN E 388     -21.871  14.657  38.270  1.00109.97           C  
ATOM   5320  CG  ASN E 388     -23.166  13.905  38.517  1.00108.23           C  
ATOM   5321  OD1 ASN E 388     -24.043  14.372  39.243  1.00111.94           O  
ATOM   5322  ND2 ASN E 388     -23.287  12.728  37.918  1.00106.17           N  
ATOM   5323  N   ASP E 389     -20.290  16.785  40.401  1.00116.46           N  
ATOM   5324  CA  ASP E 389     -19.789  17.116  41.729  1.00112.76           C  
ATOM   5325  C   ASP E 389     -19.826  18.623  41.933  1.00111.64           C  
ATOM   5326  O   ASP E 389     -18.785  19.251  42.151  1.00113.14           O  
ATOM   5327  CB  ASP E 389     -18.362  16.595  41.912  1.00111.33           C  
ATOM   5328  CG  ASP E 389     -18.292  15.083  41.929  1.00110.60           C  
ATOM   5329  OD1 ASP E 389     -19.110  14.465  42.641  1.00109.57           O  
ATOM   5330  OD2 ASP E 389     -17.424  14.517  41.227  1.00109.91           O  
ATOM   5331  N   LEU E 390     -21.017  19.212  41.867  1.00110.40           N  
ATOM   5332  CA  LEU E 390     -21.139  20.663  41.883  1.00110.32           C  
ATOM   5333  C   LEU E 390     -22.548  21.034  42.337  1.00106.28           C  
ATOM   5334  O   LEU E 390     -23.452  20.195  42.378  1.00103.49           O  
ATOM   5335  CB  LEU E 390     -20.809  21.240  40.498  1.00106.82           C  
ATOM   5336  CG  LEU E 390     -20.357  22.688  40.317  1.00107.19           C  
ATOM   5337  CD1 LEU E 390     -19.550  23.194  41.512  1.00 98.87           C  
ATOM   5338  CD2 LEU E 390     -19.543  22.786  39.021  1.00102.65           C  
ATOM   5339  N   CYS E 391     -22.715  22.305  42.701  1.00104.30           N  
ATOM   5340  CA  CYS E 391     -24.020  22.850  43.048  1.00106.47           C  
ATOM   5341  C   CYS E 391     -24.164  24.233  42.425  1.00107.90           C  
ATOM   5342  O   CYS E 391     -23.202  25.010  42.397  1.00108.32           O  
ATOM   5343  CB  CYS E 391     -24.234  22.946  44.573  1.00108.41           C  
ATOM   5344  SG  CYS E 391     -24.401  21.381  45.530  1.00124.11           S  
ATOM   5345  N   PHE E 392     -25.365  24.530  41.919  1.00105.98           N  
ATOM   5346  CA  PHE E 392     -25.706  25.851  41.402  1.00102.17           C  
ATOM   5347  C   PHE E 392     -27.027  26.300  42.004  1.00 99.27           C  
ATOM   5348  O   PHE E 392     -27.837  25.482  42.451  1.00 99.11           O  
ATOM   5349  CB  PHE E 392     -25.826  25.868  39.872  1.00 97.31           C  
ATOM   5350  CG  PHE E 392     -24.555  25.526  39.160  1.00 97.38           C  
ATOM   5351  CD1 PHE E 392     -24.242  24.201  38.869  1.00 98.28           C  
ATOM   5352  CD2 PHE E 392     -23.672  26.525  38.777  1.00 93.21           C  
ATOM   5353  CE1 PHE E 392     -23.066  23.881  38.211  1.00 97.40           C  
ATOM   5354  CE2 PHE E 392     -22.491  26.211  38.116  1.00 96.13           C  
ATOM   5355  CZ  PHE E 392     -22.190  24.889  37.829  1.00 94.44           C  
ATOM   5356  N   THR E 393     -27.241  27.618  42.004  1.00 96.42           N  
ATOM   5357  CA  THR E 393     -28.517  28.147  42.477  1.00 99.61           C  
ATOM   5358  C   THR E 393     -29.636  27.836  41.486  1.00101.91           C  
ATOM   5359  O   THR E 393     -30.699  27.330  41.871  1.00 94.65           O  
ATOM   5360  CB  THR E 393     -28.404  29.653  42.728  1.00100.76           C  
ATOM   5361  OG1 THR E 393     -29.588  30.319  42.267  1.00103.11           O  
ATOM   5362  CG2 THR E 393     -27.223  30.211  42.008  1.00 99.20           C  
ATOM   5363  N   ASN E 394     -29.409  28.109  40.201  1.00 98.50           N  
ATOM   5364  CA  ASN E 394     -30.415  27.833  39.186  1.00 96.22           C  
ATOM   5365  C   ASN E 394     -29.779  27.207  37.954  1.00 88.22           C  
ATOM   5366  O   ASN E 394     -28.667  27.567  37.555  1.00 88.20           O  
ATOM   5367  CB  ASN E 394     -31.175  29.106  38.791  1.00 93.87           C  
ATOM   5368  CG  ASN E 394     -32.133  29.578  39.877  1.00 93.72           C  
ATOM   5369  OD1 ASN E 394     -32.846  28.774  40.488  1.00 91.02           O  
ATOM   5370  ND2 ASN E 394     -32.153  30.887  40.122  1.00 90.12           N  
ATOM   5371  N   VAL E 395     -30.496  26.257  37.368  1.00 85.20           N  
ATOM   5372  CA  VAL E 395     -30.179  25.705  36.059  1.00 84.79           C  
ATOM   5373  C   VAL E 395     -31.328  26.038  35.115  1.00 80.64           C  
ATOM   5374  O   VAL E 395     -32.502  25.932  35.488  1.00 75.77           O  
ATOM   5375  CB  VAL E 395     -29.935  24.182  36.125  1.00 81.96           C  
ATOM   5376  CG1 VAL E 395     -29.710  23.607  34.728  1.00 84.83           C  
ATOM   5377  CG2 VAL E 395     -28.739  23.887  37.003  1.00 84.25           C  
ATOM   5378  N   TYR E 396     -30.987  26.473  33.907  1.00 75.63           N  
ATOM   5379  CA  TYR E 396     -31.961  26.717  32.856  1.00 73.84           C  
ATOM   5380  C   TYR E 396     -31.750  25.705  31.737  1.00 73.28           C  
ATOM   5381  O   TYR E 396     -30.616  25.320  31.447  1.00 72.96           O  
ATOM   5382  CB  TYR E 396     -31.848  28.150  32.323  1.00 76.02           C  
ATOM   5383  CG  TYR E 396     -32.035  29.209  33.395  1.00 79.92           C  
ATOM   5384  CD1 TYR E 396     -33.273  29.414  33.989  1.00 79.42           C  
ATOM   5385  CD2 TYR E 396     -30.971  30.001  33.814  1.00 85.50           C  
ATOM   5386  CE1 TYR E 396     -33.444  30.377  34.988  1.00 91.58           C  
ATOM   5387  CE2 TYR E 396     -31.132  30.970  34.802  1.00 88.53           C  
ATOM   5388  CZ  TYR E 396     -32.369  31.153  35.387  1.00 91.67           C  
ATOM   5389  OH  TYR E 396     -32.532  32.111  36.368  1.00 93.22           O  
ATOM   5390  N   ALA E 397     -32.845  25.255  31.129  1.00 74.84           N  
ATOM   5391  CA  ALA E 397     -32.803  24.275  30.043  1.00 67.94           C  
ATOM   5392  C   ALA E 397     -33.628  24.813  28.876  1.00 71.82           C  
ATOM   5393  O   ALA E 397     -34.856  24.676  28.860  1.00 76.70           O  
ATOM   5394  CB  ALA E 397     -33.315  22.914  30.495  1.00 59.53           C  
ATOM   5395  N   ASP E 398     -32.952  25.416  27.902  1.00 63.99           N  
ATOM   5396  CA  ASP E 398     -33.586  25.873  26.680  1.00 62.38           C  
ATOM   5397  C   ASP E 398     -33.612  24.761  25.634  1.00 65.49           C  
ATOM   5398  O   ASP E 398     -32.625  24.043  25.447  1.00 64.44           O  
ATOM   5399  CB  ASP E 398     -32.843  27.093  26.148  1.00 70.67           C  
ATOM   5400  CG  ASP E 398     -32.659  28.156  27.210  1.00 69.79           C  
ATOM   5401  OD1 ASP E 398     -33.501  28.214  28.131  1.00 67.10           O  
ATOM   5402  OD2 ASP E 398     -31.685  28.936  27.126  1.00 71.67           O  
ATOM   5403  N   SER E 399     -34.746  24.621  24.946  1.00 65.16           N  
ATOM   5404  CA  SER E 399     -34.893  23.564  23.954  1.00 61.95           C  
ATOM   5405  C   SER E 399     -35.642  24.071  22.725  1.00 61.37           C  
ATOM   5406  O   SER E 399     -36.493  24.960  22.819  1.00 61.85           O  
ATOM   5407  CB  SER E 399     -35.594  22.342  24.556  1.00 57.88           C  
ATOM   5408  OG  SER E 399     -36.861  22.685  25.051  1.00 66.66           O  
ATOM   5409  N   PHE E 400     -35.318  23.490  21.570  1.00 59.28           N  
ATOM   5410  CA  PHE E 400     -35.844  23.921  20.274  1.00 54.53           C  
ATOM   5411  C   PHE E 400     -35.381  22.927  19.209  1.00 58.47           C  
ATOM   5412  O   PHE E 400     -34.624  21.993  19.489  1.00 60.34           O  
ATOM   5413  CB  PHE E 400     -35.393  25.342  19.930  1.00 55.12           C  
ATOM   5414  CG  PHE E 400     -33.922  25.552  20.075  1.00 61.25           C  
ATOM   5415  CD1 PHE E 400     -33.052  25.207  19.046  1.00 57.26           C  
ATOM   5416  CD2 PHE E 400     -33.397  26.076  21.254  1.00 59.66           C  
ATOM   5417  CE1 PHE E 400     -31.677  25.394  19.184  1.00 64.34           C  
ATOM   5418  CE2 PHE E 400     -32.023  26.274  21.395  1.00 62.87           C  
ATOM   5419  CZ  PHE E 400     -31.159  25.928  20.362  1.00 58.79           C  
ATOM   5420  N   VAL E 401     -35.844  23.134  17.978  1.00 57.21           N  
ATOM   5421  CA  VAL E 401     -35.483  22.290  16.848  1.00 57.49           C  
ATOM   5422  C   VAL E 401     -34.863  23.164  15.767  1.00 56.87           C  
ATOM   5423  O   VAL E 401     -35.340  24.275  15.511  1.00 57.87           O  
ATOM   5424  CB  VAL E 401     -36.704  21.510  16.311  1.00 56.03           C  
ATOM   5425  CG1 VAL E 401     -36.504  21.095  14.852  1.00 55.88           C  
ATOM   5426  CG2 VAL E 401     -36.935  20.283  17.149  1.00 55.02           C  
ATOM   5427  N   ILE E 402     -33.784  22.668  15.151  1.00 59.38           N  
ATOM   5428  CA  ILE E 402     -33.143  23.309  14.006  1.00 56.75           C  
ATOM   5429  C   ILE E 402     -32.678  22.237  13.020  1.00 58.04           C  
ATOM   5430  O   ILE E 402     -32.811  21.033  13.263  1.00 53.29           O  
ATOM   5431  CB  ILE E 402     -31.963  24.213  14.424  1.00 56.48           C  
ATOM   5432  CG1 ILE E 402     -30.907  23.422  15.203  1.00 53.97           C  
ATOM   5433  CG2 ILE E 402     -32.446  25.432  15.191  1.00 52.78           C  
ATOM   5434  CD1 ILE E 402     -29.747  24.284  15.690  1.00 51.15           C  
ATOM   5435  N   ARG E 403     -32.141  22.693  11.879  1.00 62.82           N  
ATOM   5436  CA  ARG E 403     -31.502  21.817  10.894  1.00 58.14           C  
ATOM   5437  C   ARG E 403     -30.194  21.256  11.431  1.00 59.83           C  
ATOM   5438  O   ARG E 403     -29.464  21.932  12.165  1.00 57.99           O  
ATOM   5439  CB  ARG E 403     -31.177  22.587   9.611  1.00 59.29           C  
ATOM   5440  CG  ARG E 403     -32.236  22.612   8.555  1.00 64.26           C  
ATOM   5441  CD  ARG E 403     -31.859  23.598   7.444  1.00 62.32           C  
ATOM   5442  NE  ARG E 403     -30.546  23.304   6.901  1.00 69.69           N  
ATOM   5443  CZ  ARG E 403     -29.980  23.970   5.901  1.00 74.93           C  
ATOM   5444  NH1 ARG E 403     -30.625  24.975   5.325  1.00 69.97           N  
ATOM   5445  NH2 ARG E 403     -28.768  23.624   5.475  1.00 74.56           N  
ATOM   5446  N   GLY E 404     -29.868  20.032  10.999  1.00 62.31           N  
ATOM   5447  CA  GLY E 404     -28.566  19.449  11.321  1.00 58.48           C  
ATOM   5448  C   GLY E 404     -27.392  20.370  11.034  1.00 60.50           C  
ATOM   5449  O   GLY E 404     -26.514  20.555  11.878  1.00 59.55           O  
ATOM   5450  N   ASP E 405     -27.364  20.967   9.834  1.00 61.01           N  
ATOM   5451  CA  ASP E 405     -26.305  21.895   9.434  1.00 63.64           C  
ATOM   5452  C   ASP E 405     -26.192  23.121  10.323  1.00 65.51           C  
ATOM   5453  O   ASP E 405     -25.232  23.882  10.167  1.00 70.08           O  
ATOM   5454  CB  ASP E 405     -26.532  22.403   8.009  1.00 66.92           C  
ATOM   5455  CG  ASP E 405     -25.927  21.496   6.968  1.00 81.25           C  
ATOM   5456  OD1 ASP E 405     -24.995  20.746   7.355  1.00 75.51           O  
ATOM   5457  OD2 ASP E 405     -26.375  21.540   5.779  1.00 79.62           O  
ATOM   5458  N   GLU E 406     -27.167  23.376  11.190  1.00 65.68           N  
ATOM   5459  CA  GLU E 406     -27.200  24.608  11.964  1.00 64.78           C  
ATOM   5460  C   GLU E 406     -26.824  24.405  13.422  1.00 60.24           C  
ATOM   5461  O   GLU E 406     -26.669  25.394  14.144  1.00 62.91           O  
ATOM   5462  CB  GLU E 406     -28.590  25.245  11.884  1.00 58.65           C  
ATOM   5463  CG  GLU E 406     -28.815  26.117  10.676  1.00 53.34           C  
ATOM   5464  CD  GLU E 406     -30.291  26.412  10.456  1.00 63.61           C  
ATOM   5465  OE1 GLU E 406     -31.126  25.721  11.084  1.00 66.63           O  
ATOM   5466  OE2 GLU E 406     -30.623  27.319   9.658  1.00 67.19           O  
ATOM   5467  N   VAL E 407     -26.676  23.153  13.868  1.00 61.57           N  
ATOM   5468  CA  VAL E 407     -26.310  22.882  15.255  1.00 62.22           C  
ATOM   5469  C   VAL E 407     -24.998  23.569  15.621  1.00 65.67           C  
ATOM   5470  O   VAL E 407     -24.805  23.988  16.769  1.00 69.23           O  
ATOM   5471  CB  VAL E 407     -26.253  21.360  15.484  1.00 63.24           C  
ATOM   5472  CG1 VAL E 407     -25.715  21.040  16.865  1.00 57.89           C  
ATOM   5473  CG2 VAL E 407     -27.647  20.733  15.275  1.00 55.00           C  
ATOM   5474  N   ARG E 408     -24.099  23.747  14.649  1.00 67.75           N  
ATOM   5475  CA  ARG E 408     -22.823  24.401  14.917  1.00 65.45           C  
ATOM   5476  C   ARG E 408     -22.982  25.864  15.307  1.00 66.91           C  
ATOM   5477  O   ARG E 408     -22.025  26.462  15.805  1.00 70.32           O  
ATOM   5478  CB  ARG E 408     -21.913  24.303  13.696  1.00 69.07           C  
ATOM   5479  CG  ARG E 408     -22.256  25.300  12.596  1.00 71.09           C  
ATOM   5480  CD  ARG E 408     -21.266  25.208  11.475  1.00 75.75           C  
ATOM   5481  NE  ARG E 408     -21.068  23.813  11.091  1.00 88.70           N  
ATOM   5482  CZ  ARG E 408     -21.567  23.254   9.991  1.00 91.39           C  
ATOM   5483  NH1 ARG E 408     -22.291  23.978   9.144  1.00 78.71           N  
ATOM   5484  NH2 ARG E 408     -21.334  21.969   9.734  1.00 83.06           N  
ATOM   5485  N   GLN E 409     -24.147  26.467  15.068  1.00 71.52           N  
ATOM   5486  CA  GLN E 409     -24.366  27.840  15.511  1.00 68.97           C  
ATOM   5487  C   GLN E 409     -24.792  27.920  16.972  1.00 66.38           C  
ATOM   5488  O   GLN E 409     -24.834  29.021  17.533  1.00 64.39           O  
ATOM   5489  CB  GLN E 409     -25.413  28.532  14.627  1.00 65.40           C  
ATOM   5490  CG  GLN E 409     -25.158  28.401  13.153  1.00 64.17           C  
ATOM   5491  CD  GLN E 409     -26.083  29.265  12.303  1.00 66.68           C  
ATOM   5492  OE1 GLN E 409     -26.559  30.315  12.740  1.00 63.34           O  
ATOM   5493  NE2 GLN E 409     -26.329  28.825  11.067  1.00 63.41           N  
ATOM   5494  N   ILE E 410     -25.112  26.790  17.600  1.00 66.80           N  
ATOM   5495  CA  ILE E 410     -25.445  26.778  19.017  1.00 62.85           C  
ATOM   5496  C   ILE E 410     -24.152  26.635  19.812  1.00 64.95           C  
ATOM   5497  O   ILE E 410     -23.878  25.592  20.423  1.00 62.66           O  
ATOM   5498  CB  ILE E 410     -26.455  25.665  19.343  1.00 66.03           C  
ATOM   5499  CG1 ILE E 410     -27.611  25.687  18.334  1.00 59.64           C  
ATOM   5500  CG2 ILE E 410     -26.972  25.812  20.776  1.00 64.54           C  
ATOM   5501  CD1 ILE E 410     -28.266  27.039  18.156  1.00 57.15           C  
ATOM   5502  N   ALA E 411     -23.355  27.701  19.806  1.00 65.70           N  
ATOM   5503  CA  ALA E 411     -22.045  27.730  20.440  1.00 75.88           C  
ATOM   5504  C   ALA E 411     -21.626  29.184  20.549  1.00 76.91           C  
ATOM   5505  O   ALA E 411     -22.088  30.012  19.750  1.00 72.70           O  
ATOM   5506  CB  ALA E 411     -21.013  26.928  19.627  1.00 72.22           C  
ATOM   5507  N   PRO E 412     -20.761  29.534  21.509  1.00 76.12           N  
ATOM   5508  CA  PRO E 412     -20.386  30.946  21.683  1.00 73.53           C  
ATOM   5509  C   PRO E 412     -19.569  31.465  20.506  1.00 71.59           C  
ATOM   5510  O   PRO E 412     -18.742  30.755  19.931  1.00 71.84           O  
ATOM   5511  CB  PRO E 412     -19.570  30.940  22.980  1.00 79.61           C  
ATOM   5512  CG  PRO E 412     -19.069  29.542  23.108  1.00 74.65           C  
ATOM   5513  CD  PRO E 412     -20.133  28.668  22.522  1.00 76.56           C  
ATOM   5514  N   GLY E 413     -19.842  32.708  20.128  1.00 72.70           N  
ATOM   5515  CA  GLY E 413     -19.095  33.351  19.068  1.00 73.65           C  
ATOM   5516  C   GLY E 413     -19.378  32.848  17.672  1.00 79.30           C  
ATOM   5517  O   GLY E 413     -18.489  32.909  16.821  1.00 83.14           O  
ATOM   5518  N   GLN E 414     -20.593  32.361  17.405  1.00 81.50           N  
ATOM   5519  CA  GLN E 414     -21.008  31.951  16.068  1.00 67.00           C  
ATOM   5520  C   GLN E 414     -21.938  32.985  15.442  1.00 69.43           C  
ATOM   5521  O   GLN E 414     -22.618  33.739  16.140  1.00 72.65           O  
ATOM   5522  CB  GLN E 414     -21.724  30.601  16.099  1.00 70.35           C  
ATOM   5523  CG  GLN E 414     -20.969  29.489  16.800  1.00 77.24           C  
ATOM   5524  CD  GLN E 414     -19.627  29.170  16.161  1.00 83.61           C  
ATOM   5525  OE1 GLN E 414     -19.372  29.493  14.992  1.00 79.42           O  
ATOM   5526  NE2 GLN E 414     -18.755  28.527  16.934  1.00 86.62           N  
ATOM   5527  N   THR E 415     -21.970  33.005  14.112  1.00 75.20           N  
ATOM   5528  CA  THR E 415     -22.915  33.814  13.341  1.00 71.93           C  
ATOM   5529  C   THR E 415     -23.729  32.907  12.409  1.00 72.01           C  
ATOM   5530  O   THR E 415     -23.502  31.694  12.330  1.00 68.27           O  
ATOM   5531  CB  THR E 415     -22.181  34.909  12.558  1.00 75.11           C  
ATOM   5532  OG1 THR E 415     -21.536  34.334  11.415  1.00 69.56           O  
ATOM   5533  CG2 THR E 415     -21.136  35.567  13.441  1.00 72.40           C  
ATOM   5534  N   GLY E 416     -24.677  33.503  11.697  1.00 68.62           N  
ATOM   5535  CA  GLY E 416     -25.674  32.769  10.942  1.00 60.53           C  
ATOM   5536  C   GLY E 416     -27.087  33.100  11.402  1.00 66.01           C  
ATOM   5537  O   GLY E 416     -27.309  33.756  12.417  1.00 67.00           O  
ATOM   5538  N   LYS E 417     -28.055  32.620  10.614  1.00 60.66           N  
ATOM   5539  CA  LYS E 417     -29.453  32.961  10.870  1.00 60.59           C  
ATOM   5540  C   LYS E 417     -29.879  32.563  12.282  1.00 63.37           C  
ATOM   5541  O   LYS E 417     -30.560  33.330  12.974  1.00 65.40           O  
ATOM   5542  CB  LYS E 417     -30.362  32.298   9.832  1.00 59.60           C  
ATOM   5543  CG  LYS E 417     -30.164  32.780   8.387  1.00 63.38           C  
ATOM   5544  CD  LYS E 417     -30.561  34.240   8.221  1.00 64.52           C  
ATOM   5545  CE  LYS E 417     -30.461  34.690   6.774  1.00 68.84           C  
ATOM   5546  NZ  LYS E 417     -30.876  36.112   6.572  1.00 66.83           N  
ATOM   5547  N   ILE E 418     -29.470  31.385  12.745  1.00 59.01           N  
ATOM   5548  CA  ILE E 418     -29.883  30.954  14.078  1.00 65.34           C  
ATOM   5549  C   ILE E 418     -29.213  31.806  15.154  1.00 66.57           C  
ATOM   5550  O   ILE E 418     -29.888  32.409  15.998  1.00 67.68           O  
ATOM   5551  CB  ILE E 418     -29.601  29.458  14.278  1.00 60.34           C  
ATOM   5552  CG1 ILE E 418     -30.185  28.660  13.107  1.00 60.76           C  
ATOM   5553  CG2 ILE E 418     -30.205  28.997  15.579  1.00 62.39           C  
ATOM   5554  CD1 ILE E 418     -31.623  29.012  12.760  1.00 60.67           C  
ATOM   5555  N   ALA E 419     -27.877  31.874  15.133  1.00 65.55           N  
ATOM   5556  CA  ALA E 419     -27.146  32.626  16.156  1.00 72.11           C  
ATOM   5557  C   ALA E 419     -27.505  34.115  16.146  1.00 70.65           C  
ATOM   5558  O   ALA E 419     -27.565  34.750  17.205  1.00 74.42           O  
ATOM   5559  CB  ALA E 419     -25.638  32.438  15.963  1.00 64.70           C  
ATOM   5560  N   ASP E 420     -27.754  34.687  14.967  1.00 60.98           N  
ATOM   5561  CA  ASP E 420     -28.024  36.120  14.866  1.00 72.11           C  
ATOM   5562  C   ASP E 420     -29.472  36.465  15.195  1.00 69.49           C  
ATOM   5563  O   ASP E 420     -29.735  37.500  15.820  1.00 62.36           O  
ATOM   5564  CB  ASP E 420     -27.697  36.642  13.457  1.00 66.99           C  
ATOM   5565  CG  ASP E 420     -26.236  36.440  13.074  1.00 73.88           C  
ATOM   5566  OD1 ASP E 420     -25.428  36.019  13.937  1.00 79.15           O  
ATOM   5567  OD2 ASP E 420     -25.896  36.704  11.904  1.00 75.15           O  
ATOM   5568  N   TYR E 421     -30.430  35.643  14.753  1.00 62.74           N  
ATOM   5569  CA  TYR E 421     -31.829  36.036  14.814  1.00 63.36           C  
ATOM   5570  C   TYR E 421     -32.718  35.158  15.685  1.00 64.10           C  
ATOM   5571  O   TYR E 421     -33.895  35.498  15.857  1.00 63.80           O  
ATOM   5572  CB  TYR E 421     -32.443  36.076  13.404  1.00 64.13           C  
ATOM   5573  CG  TYR E 421     -31.794  37.043  12.431  1.00 65.92           C  
ATOM   5574  CD1 TYR E 421     -31.004  38.105  12.871  1.00 60.13           C  
ATOM   5575  CD2 TYR E 421     -31.987  36.890  11.056  1.00 66.65           C  
ATOM   5576  CE1 TYR E 421     -30.418  38.985  11.963  1.00 66.37           C  
ATOM   5577  CE2 TYR E 421     -31.411  37.761  10.145  1.00 65.82           C  
ATOM   5578  CZ  TYR E 421     -30.628  38.799  10.598  1.00 69.63           C  
ATOM   5579  OH  TYR E 421     -30.074  39.650   9.673  1.00 73.55           O  
ATOM   5580  N   ASN E 422     -32.214  34.053  16.240  1.00 62.94           N  
ATOM   5581  CA  ASN E 422     -33.118  33.123  16.906  1.00 60.95           C  
ATOM   5582  C   ASN E 422     -32.695  32.790  18.333  1.00 67.46           C  
ATOM   5583  O   ASN E 422     -33.467  33.006  19.278  1.00 63.00           O  
ATOM   5584  CB  ASN E 422     -33.260  31.858  16.063  1.00 56.43           C  
ATOM   5585  CG  ASN E 422     -33.984  32.129  14.747  1.00 62.11           C  
ATOM   5586  OD1 ASN E 422     -35.188  31.907  14.631  1.00 57.63           O  
ATOM   5587  ND2 ASN E 422     -33.256  32.650  13.764  1.00 61.32           N  
ATOM   5588  N   TYR E 423     -31.477  32.282  18.500  1.00 65.18           N  
ATOM   5589  CA  TYR E 423     -30.983  31.865  19.805  1.00 62.05           C  
ATOM   5590  C   TYR E 423     -29.481  32.111  19.832  1.00 71.27           C  
ATOM   5591  O   TYR E 423     -28.742  31.509  19.045  1.00 72.63           O  
ATOM   5592  CB  TYR E 423     -31.310  30.395  20.076  1.00 60.13           C  
ATOM   5593  CG  TYR E 423     -30.911  29.936  21.460  1.00 64.88           C  
ATOM   5594  CD1 TYR E 423     -31.752  30.138  22.550  1.00 61.08           C  
ATOM   5595  CD2 TYR E 423     -29.681  29.318  21.683  1.00 69.40           C  
ATOM   5596  CE1 TYR E 423     -31.381  29.734  23.832  1.00 65.98           C  
ATOM   5597  CE2 TYR E 423     -29.297  28.913  22.961  1.00 72.59           C  
ATOM   5598  CZ  TYR E 423     -30.155  29.120  24.032  1.00 68.47           C  
ATOM   5599  OH  TYR E 423     -29.783  28.709  25.295  1.00 65.63           O  
ATOM   5600  N   LYS E 424     -29.042  32.993  20.734  1.00 67.38           N  
ATOM   5601  CA  LYS E 424     -27.677  33.505  20.773  1.00 63.05           C  
ATOM   5602  C   LYS E 424     -27.027  33.155  22.106  1.00 69.67           C  
ATOM   5603  O   LYS E 424     -27.508  33.570  23.165  1.00 73.76           O  
ATOM   5604  CB  LYS E 424     -27.670  35.018  20.565  1.00 66.81           C  
ATOM   5605  CG  LYS E 424     -26.282  35.638  20.609  1.00 77.03           C  
ATOM   5606  CD  LYS E 424     -25.356  34.988  19.602  1.00 72.87           C  
ATOM   5607  CE  LYS E 424     -23.963  35.588  19.638  1.00 68.89           C  
ATOM   5608  NZ  LYS E 424     -23.030  34.823  18.752  1.00 70.23           N  
ATOM   5609  N   LEU E 425     -25.934  32.406  22.052  1.00 69.05           N  
ATOM   5610  CA  LEU E 425     -25.146  32.097  23.240  1.00 70.21           C  
ATOM   5611  C   LEU E 425     -24.092  33.181  23.488  1.00 73.79           C  
ATOM   5612  O   LEU E 425     -23.474  33.678  22.541  1.00 71.94           O  
ATOM   5613  CB  LEU E 425     -24.465  30.743  23.095  1.00 69.30           C  
ATOM   5614  CG  LEU E 425     -25.362  29.540  23.364  1.00 69.09           C  
ATOM   5615  CD1 LEU E 425     -24.567  28.268  23.181  1.00 73.87           C  
ATOM   5616  CD2 LEU E 425     -25.948  29.605  24.779  1.00 71.04           C  
ATOM   5617  N   PRO E 426     -23.870  33.579  24.740  1.00 81.79           N  
ATOM   5618  CA  PRO E 426     -22.885  34.630  25.019  1.00 83.74           C  
ATOM   5619  C   PRO E 426     -21.467  34.108  24.843  1.00 86.37           C  
ATOM   5620  O   PRO E 426     -21.221  32.903  24.761  1.00 86.68           O  
ATOM   5621  CB  PRO E 426     -23.167  34.995  26.474  1.00 75.49           C  
ATOM   5622  CG  PRO E 426     -23.649  33.718  27.059  1.00 78.82           C  
ATOM   5623  CD  PRO E 426     -24.442  33.025  25.979  1.00 78.42           C  
ATOM   5624  N   ASP E 427     -20.519  35.049  24.791  1.00 87.49           N  
ATOM   5625  CA  ASP E 427     -19.111  34.670  24.689  1.00 84.98           C  
ATOM   5626  C   ASP E 427     -18.668  33.862  25.908  1.00 84.79           C  
ATOM   5627  O   ASP E 427     -18.154  32.745  25.778  1.00 83.97           O  
ATOM   5628  CB  ASP E 427     -18.251  35.921  24.504  1.00 81.05           C  
ATOM   5629  CG  ASP E 427     -18.411  36.536  23.119  1.00 86.51           C  
ATOM   5630  OD1 ASP E 427     -18.754  35.785  22.180  1.00 83.94           O  
ATOM   5631  OD2 ASP E 427     -18.194  37.757  22.964  1.00 81.15           O  
ATOM   5632  N   ASP E 428     -18.889  34.390  27.102  1.00 87.14           N  
ATOM   5633  CA  ASP E 428     -18.491  33.688  28.321  1.00 87.29           C  
ATOM   5634  C   ASP E 428     -19.498  32.628  28.756  1.00 92.46           C  
ATOM   5635  O   ASP E 428     -19.840  32.538  29.938  1.00 99.73           O  
ATOM   5636  CB  ASP E 428     -18.247  34.707  29.433  1.00 89.13           C  
ATOM   5637  CG  ASP E 428     -19.429  35.637  29.658  1.00 98.12           C  
ATOM   5638  OD1 ASP E 428     -20.576  35.259  29.332  1.00 94.37           O  
ATOM   5639  OD2 ASP E 428     -19.206  36.759  30.166  1.00104.25           O  
ATOM   5640  N   PHE E 429     -19.978  31.813  27.821  1.00 90.15           N  
ATOM   5641  CA  PHE E 429     -20.973  30.797  28.136  1.00 87.15           C  
ATOM   5642  C   PHE E 429     -20.346  29.660  28.939  1.00 90.96           C  
ATOM   5643  O   PHE E 429     -19.270  29.155  28.600  1.00 88.07           O  
ATOM   5644  CB  PHE E 429     -21.593  30.263  26.843  1.00 82.39           C  
ATOM   5645  CG  PHE E 429     -22.541  29.122  27.048  1.00 77.88           C  
ATOM   5646  CD1 PHE E 429     -23.728  29.308  27.731  1.00 77.92           C  
ATOM   5647  CD2 PHE E 429     -22.253  27.865  26.541  1.00 81.48           C  
ATOM   5648  CE1 PHE E 429     -24.607  28.259  27.917  1.00 75.78           C  
ATOM   5649  CE2 PHE E 429     -23.135  26.808  26.723  1.00 79.56           C  
ATOM   5650  CZ  PHE E 429     -24.311  27.009  27.412  1.00 74.70           C  
ATOM   5651  N   THR E 430     -21.026  29.249  30.014  1.00 87.10           N  
ATOM   5652  CA  THR E 430     -20.479  28.205  30.870  1.00 97.03           C  
ATOM   5653  C   THR E 430     -21.303  26.916  30.951  1.00 94.04           C  
ATOM   5654  O   THR E 430     -20.917  26.025  31.708  1.00 99.52           O  
ATOM   5655  CB  THR E 430     -20.214  28.739  32.300  1.00 96.09           C  
ATOM   5656  OG1 THR E 430     -21.402  29.327  32.850  1.00 94.85           O  
ATOM   5657  CG2 THR E 430     -19.086  29.771  32.293  1.00 90.99           C  
ATOM   5658  N   GLY E 431     -22.361  26.744  30.170  1.00 82.12           N  
ATOM   5659  CA  GLY E 431     -23.173  25.533  30.221  1.00 79.05           C  
ATOM   5660  C   GLY E 431     -22.824  24.470  29.187  1.00 84.26           C  
ATOM   5661  O   GLY E 431     -21.701  24.400  28.674  1.00 82.52           O  
ATOM   5662  N   CYS E 432     -23.808  23.620  28.877  1.00 85.77           N  
ATOM   5663  CA  CYS E 432     -23.658  22.551  27.898  1.00 80.62           C  
ATOM   5664  C   CYS E 432     -24.667  22.675  26.759  1.00 77.09           C  
ATOM   5665  O   CYS E 432     -25.791  23.158  26.942  1.00 77.16           O  
ATOM   5666  CB  CYS E 432     -23.828  21.180  28.561  1.00 81.74           C  
ATOM   5667  SG  CYS E 432     -22.730  20.894  29.961  1.00 93.44           S  
ATOM   5668  N   VAL E 433     -24.265  22.197  25.582  1.00 76.28           N  
ATOM   5669  CA  VAL E 433     -25.131  22.142  24.407  1.00 69.92           C  
ATOM   5670  C   VAL E 433     -25.281  20.686  23.990  1.00 70.73           C  
ATOM   5671  O   VAL E 433     -24.294  20.030  23.635  1.00 72.73           O  
ATOM   5672  CB  VAL E 433     -24.589  22.992  23.249  1.00 67.11           C  
ATOM   5673  CG1 VAL E 433     -25.445  22.781  21.999  1.00 61.93           C  
ATOM   5674  CG2 VAL E 433     -24.561  24.462  23.641  1.00 69.57           C  
ATOM   5675  N   ILE E 434     -26.513  20.183  24.027  1.00 68.11           N  
ATOM   5676  CA  ILE E 434     -26.826  18.811  23.651  1.00 64.36           C  
ATOM   5677  C   ILE E 434     -27.740  18.832  22.433  1.00 64.68           C  
ATOM   5678  O   ILE E 434     -28.609  19.703  22.314  1.00 64.86           O  
ATOM   5679  CB  ILE E 434     -27.486  18.055  24.818  1.00 65.96           C  
ATOM   5680  CG1 ILE E 434     -26.649  18.224  26.083  1.00 70.65           C  
ATOM   5681  CG2 ILE E 434     -27.685  16.588  24.468  1.00 67.86           C  
ATOM   5682  CD1 ILE E 434     -27.429  18.022  27.368  1.00 71.74           C  
ATOM   5683  N   ALA E 435     -27.539  17.879  21.524  1.00 64.72           N  
ATOM   5684  CA  ALA E 435     -28.389  17.766  20.350  1.00 61.28           C  
ATOM   5685  C   ALA E 435     -28.403  16.320  19.881  1.00 66.30           C  
ATOM   5686  O   ALA E 435     -27.484  15.548  20.166  1.00 69.26           O  
ATOM   5687  CB  ALA E 435     -27.925  18.706  19.230  1.00 59.53           C  
ATOM   5688  N   TRP E 436     -29.475  15.957  19.173  1.00 66.08           N  
ATOM   5689  CA  TRP E 436     -29.608  14.640  18.562  1.00 63.42           C  
ATOM   5690  C   TRP E 436     -30.553  14.728  17.368  1.00 64.07           C  
ATOM   5691  O   TRP E 436     -31.358  15.656  17.256  1.00 63.85           O  
ATOM   5692  CB  TRP E 436     -30.101  13.591  19.566  1.00 61.34           C  
ATOM   5693  CG  TRP E 436     -31.499  13.782  20.088  1.00 65.98           C  
ATOM   5694  CD1 TRP E 436     -32.635  13.127  19.676  1.00 61.77           C  
ATOM   5695  CD2 TRP E 436     -31.907  14.654  21.152  1.00 65.69           C  
ATOM   5696  NE1 TRP E 436     -33.717  13.553  20.405  1.00 60.51           N  
ATOM   5697  CE2 TRP E 436     -33.300  14.484  21.319  1.00 58.81           C  
ATOM   5698  CE3 TRP E 436     -31.233  15.565  21.972  1.00 62.51           C  
ATOM   5699  CZ2 TRP E 436     -34.028  15.195  22.265  1.00 62.20           C  
ATOM   5700  CZ3 TRP E 436     -31.958  16.271  22.912  1.00 61.58           C  
ATOM   5701  CH2 TRP E 436     -33.339  16.082  23.053  1.00 65.96           C  
ATOM   5702  N   ASN E 437     -30.447  13.738  16.480  1.00 61.93           N  
ATOM   5703  CA  ASN E 437     -31.217  13.729  15.244  1.00 64.13           C  
ATOM   5704  C   ASN E 437     -32.640  13.268  15.527  1.00 63.44           C  
ATOM   5705  O   ASN E 437     -32.848  12.217  16.138  1.00 61.79           O  
ATOM   5706  CB  ASN E 437     -30.569  12.808  14.211  1.00 59.50           C  
ATOM   5707  CG  ASN E 437     -31.321  12.807  12.890  1.00 62.99           C  
ATOM   5708  OD1 ASN E 437     -32.407  12.241  12.774  1.00 62.89           O  
ATOM   5709  ND2 ASN E 437     -30.755  13.458  11.899  1.00 53.82           N  
ATOM   5710  N   SER E 438     -33.624  14.048  15.080  1.00 58.82           N  
ATOM   5711  CA  SER E 438     -35.019  13.747  15.396  1.00 63.50           C  
ATOM   5712  C   SER E 438     -35.827  13.555  14.126  1.00 61.61           C  
ATOM   5713  O   SER E 438     -37.036  13.795  14.101  1.00 63.79           O  
ATOM   5714  CB  SER E 438     -35.643  14.828  16.282  1.00 57.84           C  
ATOM   5715  OG  SER E 438     -35.611  16.111  15.667  1.00 57.83           O  
ATOM   5716  N   ASN E 439     -35.146  13.121  13.065  1.00 63.09           N  
ATOM   5717  CA  ASN E 439     -35.808  12.837  11.801  1.00 63.07           C  
ATOM   5718  C   ASN E 439     -36.973  11.869  11.977  1.00 61.93           C  
ATOM   5719  O   ASN E 439     -37.979  11.971  11.269  1.00 61.93           O  
ATOM   5720  CB  ASN E 439     -34.772  12.283  10.825  1.00 65.11           C  
ATOM   5721  CG  ASN E 439     -35.220  12.348   9.401  1.00 60.70           C  
ATOM   5722  OD1 ASN E 439     -35.887  13.299   8.987  1.00 61.82           O  
ATOM   5723  ND2 ASN E 439     -34.863  11.330   8.632  1.00 60.83           N  
ATOM   5724  N   ASN E 440     -36.871  10.949  12.938  1.00 63.21           N  
ATOM   5725  CA  ASN E 440     -37.922   9.956  13.149  1.00 65.05           C  
ATOM   5726  C   ASN E 440     -39.198  10.556  13.735  1.00 68.57           C  
ATOM   5727  O   ASN E 440     -40.272   9.970  13.571  1.00 76.63           O  
ATOM   5728  CB  ASN E 440     -37.408   8.850  14.072  1.00 66.33           C  
ATOM   5729  CG  ASN E 440     -37.053   9.371  15.471  1.00 76.19           C  
ATOM   5730  OD1 ASN E 440     -36.211  10.268  15.628  1.00 74.98           O  
ATOM   5731  ND2 ASN E 440     -37.711   8.821  16.491  1.00 75.02           N  
ATOM   5732  N   LEU E 441     -39.106  11.696  14.422  1.00 67.66           N  
ATOM   5733  CA  LEU E 441     -40.247  12.346  15.058  1.00 63.25           C  
ATOM   5734  C   LEU E 441     -40.669  13.638  14.383  1.00 64.77           C  
ATOM   5735  O   LEU E 441     -41.858  13.952  14.370  1.00 68.17           O  
ATOM   5736  CB  LEU E 441     -39.932  12.681  16.523  1.00 58.78           C  
ATOM   5737  CG  LEU E 441     -39.331  11.633  17.451  1.00 67.35           C  
ATOM   5738  CD1 LEU E 441     -38.789  12.314  18.726  1.00 60.53           C  
ATOM   5739  CD2 LEU E 441     -40.371  10.563  17.779  1.00 58.33           C  
ATOM   5740  N   ASP E 442     -39.728  14.412  13.850  1.00 63.69           N  
ATOM   5741  CA  ASP E 442     -40.012  15.778  13.448  1.00 61.36           C  
ATOM   5742  C   ASP E 442     -40.141  15.969  11.946  1.00 57.67           C  
ATOM   5743  O   ASP E 442     -40.338  17.097  11.487  1.00 58.18           O  
ATOM   5744  CB  ASP E 442     -38.945  16.695  14.024  1.00 58.55           C  
ATOM   5745  CG  ASP E 442     -39.155  16.917  15.475  1.00 59.83           C  
ATOM   5746  OD1 ASP E 442     -40.339  16.989  15.852  1.00 66.02           O  
ATOM   5747  OD2 ASP E 442     -38.177  17.002  16.235  1.00 60.44           O  
ATOM   5748  N   SER E 443     -40.079  14.909  11.167  1.00 54.70           N  
ATOM   5749  CA  SER E 443     -40.312  15.048   9.750  1.00 57.86           C  
ATOM   5750  C   SER E 443     -41.369  14.031   9.348  1.00 60.85           C  
ATOM   5751  O   SER E 443     -41.658  13.090  10.088  1.00 68.73           O  
ATOM   5752  CB  SER E 443     -38.997  14.899   8.955  1.00 56.60           C  
ATOM   5753  OG  SER E 443     -38.414  13.639   9.121  1.00 59.42           O  
ATOM   5754  N   LYS E 444     -41.988  14.260   8.193  1.00 59.80           N  
ATOM   5755  CA  LYS E 444     -43.009  13.349   7.697  1.00 57.16           C  
ATOM   5756  C   LYS E 444     -43.131  13.576   6.205  1.00 61.50           C  
ATOM   5757  O   LYS E 444     -42.716  14.618   5.688  1.00 64.85           O  
ATOM   5758  CB  LYS E 444     -44.356  13.557   8.395  1.00 61.78           C  
ATOM   5759  CG  LYS E 444     -45.038  14.864   8.044  1.00 65.37           C  
ATOM   5760  CD  LYS E 444     -46.344  15.072   8.810  1.00 67.11           C  
ATOM   5761  CE  LYS E 444     -46.836  16.533   8.667  1.00 71.04           C  
ATOM   5762  NZ  LYS E 444     -48.286  16.680   8.356  1.00 66.32           N  
ATOM   5763  N   VAL E 445     -43.684  12.577   5.512  1.00 65.28           N  
ATOM   5764  CA  VAL E 445     -43.765  12.646   4.057  1.00 58.96           C  
ATOM   5765  C   VAL E 445     -44.732  13.753   3.663  1.00 61.75           C  
ATOM   5766  O   VAL E 445     -45.717  14.023   4.361  1.00 58.32           O  
ATOM   5767  CB  VAL E 445     -44.174  11.285   3.470  1.00 64.90           C  
ATOM   5768  CG1 VAL E 445     -44.115  11.319   1.941  1.00 61.43           C  
ATOM   5769  CG2 VAL E 445     -43.248  10.195   4.002  1.00 61.53           C  
ATOM   5770  N   GLY E 446     -44.433  14.435   2.561  1.00 68.98           N  
ATOM   5771  CA  GLY E 446     -45.121  15.661   2.235  1.00 59.30           C  
ATOM   5772  C   GLY E 446     -44.645  16.867   3.010  1.00 64.49           C  
ATOM   5773  O   GLY E 446     -44.858  18.000   2.557  1.00 70.44           O  
ATOM   5774  N   GLY E 447     -43.993  16.669   4.153  1.00 59.98           N  
ATOM   5775  CA  GLY E 447     -43.379  17.811   4.844  1.00 59.89           C  
ATOM   5776  C   GLY E 447     -43.994  18.095   6.197  1.00 61.46           C  
ATOM   5777  O   GLY E 447     -45.218  18.119   6.373  1.00 59.68           O  
ATOM   5778  N   ASN E 448     -43.128  18.306   7.190  1.00 59.20           N  
ATOM   5779  CA  ASN E 448     -43.536  18.856   8.476  1.00 54.05           C  
ATOM   5780  C   ASN E 448     -43.155  20.326   8.511  1.00 51.26           C  
ATOM   5781  O   ASN E 448     -41.972  20.662   8.468  1.00 60.67           O  
ATOM   5782  CB  ASN E 448     -42.893  18.122   9.648  1.00 56.96           C  
ATOM   5783  CG  ASN E 448     -43.367  18.657  10.989  1.00 51.71           C  
ATOM   5784  OD1 ASN E 448     -44.392  19.329  11.069  1.00 56.54           O  
ATOM   5785  ND2 ASN E 448     -42.624  18.368  12.042  1.00 50.46           N  
ATOM   5786  N   TYR E 449     -44.157  21.195   8.598  1.00 54.36           N  
ATOM   5787  CA  TYR E 449     -43.959  22.635   8.618  1.00 49.93           C  
ATOM   5788  C   TYR E 449     -44.187  23.229   9.997  1.00 54.57           C  
ATOM   5789  O   TYR E 449     -44.264  24.450  10.130  1.00 58.28           O  
ATOM   5790  CB  TYR E 449     -44.862  23.283   7.566  1.00 53.79           C  
ATOM   5791  CG  TYR E 449     -44.432  22.869   6.175  1.00 59.42           C  
ATOM   5792  CD1 TYR E 449     -43.394  23.539   5.523  1.00 58.99           C  
ATOM   5793  CD2 TYR E 449     -45.006  21.772   5.542  1.00 55.68           C  
ATOM   5794  CE1 TYR E 449     -42.962  23.154   4.269  1.00 58.08           C  
ATOM   5795  CE2 TYR E 449     -44.579  21.375   4.285  1.00 57.82           C  
ATOM   5796  CZ  TYR E 449     -43.554  22.078   3.654  1.00 62.48           C  
ATOM   5797  OH  TYR E 449     -43.114  21.704   2.409  1.00 61.85           O  
ATOM   5798  N   ASN E 450     -44.239  22.384  11.035  1.00 60.51           N  
ATOM   5799  CA  ASN E 450     -44.516  22.847  12.390  1.00 57.52           C  
ATOM   5800  C   ASN E 450     -43.451  23.799  12.911  1.00 56.50           C  
ATOM   5801  O   ASN E 450     -43.767  24.714  13.677  1.00 59.91           O  
ATOM   5802  CB  ASN E 450     -44.636  21.653  13.329  1.00 53.33           C  
ATOM   5803  CG  ASN E 450     -44.741  22.068  14.793  1.00 57.65           C  
ATOM   5804  OD1 ASN E 450     -45.816  22.411  15.266  1.00 56.38           O  
ATOM   5805  ND2 ASN E 450     -43.621  22.030  15.512  1.00 54.99           N  
ATOM   5806  N   TYR E 451     -42.199  23.599  12.524  1.00 55.87           N  
ATOM   5807  CA  TYR E 451     -41.066  24.326  13.084  1.00 53.94           C  
ATOM   5808  C   TYR E 451     -40.686  25.502  12.192  1.00 57.99           C  
ATOM   5809  O   TYR E 451     -40.562  25.357  10.967  1.00 55.38           O  
ATOM   5810  CB  TYR E 451     -39.871  23.388  13.258  1.00 55.96           C  
ATOM   5811  CG  TYR E 451     -40.137  22.296  14.237  1.00 53.83           C  
ATOM   5812  CD1 TYR E 451     -39.975  22.524  15.600  1.00 57.06           C  
ATOM   5813  CD2 TYR E 451     -40.581  21.046  13.816  1.00 53.96           C  
ATOM   5814  CE1 TYR E 451     -40.222  21.531  16.522  1.00 54.48           C  
ATOM   5815  CE2 TYR E 451     -40.835  20.042  14.729  1.00 53.79           C  
ATOM   5816  CZ  TYR E 451     -40.655  20.301  16.084  1.00 55.20           C  
ATOM   5817  OH  TYR E 451     -40.893  19.337  17.020  1.00 57.14           O  
ATOM   5818  N   LEU E 452     -40.503  26.659  12.813  1.00 55.44           N  
ATOM   5819  CA  LEU E 452     -40.148  27.885  12.125  1.00 55.92           C  
ATOM   5820  C   LEU E 452     -38.836  28.415  12.689  1.00 61.22           C  
ATOM   5821  O   LEU E 452     -38.394  28.020  13.776  1.00 53.17           O  
ATOM   5822  CB  LEU E 452     -41.236  28.965  12.276  1.00 53.10           C  
ATOM   5823  CG  LEU E 452     -42.728  28.631  12.170  1.00 57.61           C  
ATOM   5824  CD1 LEU E 452     -43.552  29.926  12.199  1.00 51.99           C  
ATOM   5825  CD2 LEU E 452     -43.064  27.811  10.934  1.00 54.18           C  
ATOM   5826  N   TYR E 453     -38.221  29.321  11.926  1.00 58.28           N  
ATOM   5827  CA  TYR E 453     -37.064  30.080  12.366  1.00 54.54           C  
ATOM   5828  C   TYR E 453     -37.211  31.484  11.806  1.00 57.74           C  
ATOM   5829  O   TYR E 453     -37.939  31.704  10.835  1.00 58.13           O  
ATOM   5830  CB  TYR E 453     -35.746  29.445  11.905  1.00 59.19           C  
ATOM   5831  CG  TYR E 453     -35.604  29.412  10.409  1.00 58.00           C  
ATOM   5832  CD1 TYR E 453     -36.174  28.391   9.674  1.00 62.10           C  
ATOM   5833  CD2 TYR E 453     -34.926  30.422   9.725  1.00 57.60           C  
ATOM   5834  CE1 TYR E 453     -36.073  28.358   8.304  1.00 61.49           C  
ATOM   5835  CE2 TYR E 453     -34.816  30.396   8.357  1.00 63.93           C  
ATOM   5836  CZ  TYR E 453     -35.395  29.354   7.651  1.00 64.81           C  
ATOM   5837  OH  TYR E 453     -35.312  29.298   6.285  1.00 70.15           O  
ATOM   5838  N   ARG E 454     -36.530  32.442  12.434  1.00 56.05           N  
ATOM   5839  CA  ARG E 454     -36.593  33.818  11.977  1.00 59.56           C  
ATOM   5840  C   ARG E 454     -35.544  34.042  10.890  1.00 63.19           C  
ATOM   5841  O   ARG E 454     -34.353  33.793  11.105  1.00 61.53           O  
ATOM   5842  CB  ARG E 454     -36.397  34.800  13.133  1.00 58.08           C  
ATOM   5843  CG  ARG E 454     -36.622  36.258  12.716  1.00 61.64           C  
ATOM   5844  CD  ARG E 454     -36.578  37.240  13.902  1.00 70.93           C  
ATOM   5845  NE  ARG E 454     -37.621  36.948  14.881  1.00 67.17           N  
ATOM   5846  CZ  ARG E 454     -38.870  37.403  14.811  1.00 64.45           C  
ATOM   5847  NH1 ARG E 454     -39.239  38.187  13.811  1.00 63.72           N  
ATOM   5848  NH2 ARG E 454     -39.753  37.068  15.749  1.00 65.34           N  
ATOM   5849  N   LEU E 455     -35.996  34.529   9.734  1.00 62.74           N  
ATOM   5850  CA  LEU E 455     -35.139  34.735   8.573  1.00 64.27           C  
ATOM   5851  C   LEU E 455     -34.565  36.143   8.494  1.00 64.05           C  
ATOM   5852  O   LEU E 455     -33.430  36.317   8.035  1.00 63.10           O  
ATOM   5853  CB  LEU E 455     -35.925  34.428   7.295  1.00 63.52           C  
ATOM   5854  CG  LEU E 455     -35.234  34.597   5.939  1.00 70.85           C  
ATOM   5855  CD1 LEU E 455     -33.886  33.889   5.925  1.00 61.26           C  
ATOM   5856  CD2 LEU E 455     -36.146  34.090   4.795  1.00 61.21           C  
ATOM   5857  N   PHE E 456     -35.318  37.151   8.924  1.00 66.37           N  
ATOM   5858  CA  PHE E 456     -34.855  38.529   8.888  1.00 64.36           C  
ATOM   5859  C   PHE E 456     -35.071  39.185  10.239  1.00 65.76           C  
ATOM   5860  O   PHE E 456     -35.998  38.838  10.976  1.00 74.74           O  
ATOM   5861  CB  PHE E 456     -35.577  39.359   7.826  1.00 65.93           C  
ATOM   5862  CG  PHE E 456     -35.633  38.711   6.483  1.00 65.76           C  
ATOM   5863  CD1 PHE E 456     -34.492  38.593   5.705  1.00 62.23           C  
ATOM   5864  CD2 PHE E 456     -36.830  38.237   5.988  1.00 60.29           C  
ATOM   5865  CE1 PHE E 456     -34.546  38.005   4.469  1.00 68.22           C  
ATOM   5866  CE2 PHE E 456     -36.889  37.645   4.747  1.00 69.21           C  
ATOM   5867  CZ  PHE E 456     -35.747  37.532   3.984  1.00 69.45           C  
ATOM   5868  N   ARG E 457     -34.207  40.147  10.545  1.00 67.67           N  
ATOM   5869  CA  ARG E 457     -34.359  40.992  11.718  1.00 72.81           C  
ATOM   5870  C   ARG E 457     -33.528  42.247  11.509  1.00 69.76           C  
ATOM   5871  O   ARG E 457     -32.464  42.193  10.891  1.00 70.17           O  
ATOM   5872  CB  ARG E 457     -33.928  40.262  12.993  1.00 71.73           C  
ATOM   5873  CG  ARG E 457     -34.657  40.717  14.229  1.00 68.04           C  
ATOM   5874  CD  ARG E 457     -34.161  39.960  15.432  1.00 68.00           C  
ATOM   5875  NE  ARG E 457     -34.768  40.444  16.665  1.00 71.74           N  
ATOM   5876  CZ  ARG E 457     -34.156  41.239  17.537  1.00 75.94           C  
ATOM   5877  NH1 ARG E 457     -32.912  41.639  17.307  1.00 69.63           N  
ATOM   5878  NH2 ARG E 457     -34.785  41.627  18.643  1.00 78.34           N  
ATOM   5879  N   LYS E 458     -34.021  43.376  12.034  1.00 74.99           N  
ATOM   5880  CA  LYS E 458     -33.304  44.644  11.898  1.00 70.31           C  
ATOM   5881  C   LYS E 458     -31.927  44.618  12.560  1.00 64.34           C  
ATOM   5882  O   LYS E 458     -31.080  45.452  12.227  1.00 72.10           O  
ATOM   5883  CB  LYS E 458     -34.128  45.799  12.478  1.00 66.83           C  
ATOM   5884  CG  LYS E 458     -35.498  46.001  11.834  1.00 75.17           C  
ATOM   5885  CD  LYS E 458     -36.238  47.222  12.415  1.00 74.92           C  
ATOM   5886  CE  LYS E 458     -37.771  47.166  12.165  1.00 90.11           C  
ATOM   5887  NZ  LYS E 458     -38.215  46.758  10.776  1.00 85.79           N  
ATOM   5888  N   SER E 459     -31.671  43.684  13.469  1.00 62.12           N  
ATOM   5889  CA  SER E 459     -30.371  43.595  14.124  1.00 64.24           C  
ATOM   5890  C   SER E 459     -30.257  42.229  14.782  1.00 68.96           C  
ATOM   5891  O   SER E 459     -31.196  41.426  14.756  1.00 67.01           O  
ATOM   5892  CB  SER E 459     -30.180  44.705  15.162  1.00 70.25           C  
ATOM   5893  OG  SER E 459     -30.758  44.315  16.395  1.00 70.02           O  
ATOM   5894  N   ASN E 460     -29.096  41.977  15.387  1.00 68.67           N  
ATOM   5895  CA  ASN E 460     -28.781  40.682  15.966  1.00 69.14           C  
ATOM   5896  C   ASN E 460     -29.267  40.605  17.412  1.00 74.56           C  
ATOM   5897  O   ASN E 460     -29.432  41.615  18.096  1.00 77.84           O  
ATOM   5898  CB  ASN E 460     -27.274  40.396  15.897  1.00 71.00           C  
ATOM   5899  CG  ASN E 460     -26.768  40.189  14.461  1.00 77.08           C  
ATOM   5900  OD1 ASN E 460     -27.548  40.123  13.508  1.00 75.65           O  
ATOM   5901  ND2 ASN E 460     -25.453  40.084  14.310  1.00 76.68           N  
ATOM   5902  N   LEU E 461     -29.502  39.376  17.863  1.00 76.73           N  
ATOM   5903  CA  LEU E 461     -29.990  39.133  19.211  1.00 69.30           C  
ATOM   5904  C   LEU E 461     -28.887  39.323  20.243  1.00 76.63           C  
ATOM   5905  O   LEU E 461     -27.729  38.957  20.016  1.00 79.60           O  
ATOM   5906  CB  LEU E 461     -30.535  37.707  19.330  1.00 67.36           C  
ATOM   5907  CG  LEU E 461     -31.888  37.367  18.708  1.00 70.79           C  
ATOM   5908  CD1 LEU E 461     -32.209  35.937  19.011  1.00 64.49           C  
ATOM   5909  CD2 LEU E 461     -32.991  38.279  19.227  1.00 69.22           C  
ATOM   5910  N   LYS E 462     -29.258  39.875  21.398  1.00 76.48           N  
ATOM   5911  CA  LYS E 462     -28.389  39.796  22.554  1.00 77.79           C  
ATOM   5912  C   LYS E 462     -28.448  38.375  23.105  1.00 77.02           C  
ATOM   5913  O   LYS E 462     -29.417  37.652  22.863  1.00 71.68           O  
ATOM   5914  CB  LYS E 462     -28.807  40.810  23.614  1.00 75.86           C  
ATOM   5915  CG  LYS E 462     -28.719  42.268  23.163  1.00 75.93           C  
ATOM   5916  CD  LYS E 462     -29.533  43.141  24.103  1.00 86.76           C  
ATOM   5917  CE  LYS E 462     -29.168  42.854  25.566  1.00 93.91           C  
ATOM   5918  NZ  LYS E 462     -30.297  43.082  26.525  1.00 87.58           N  
ATOM   5919  N   PRO E 463     -27.408  37.935  23.811  1.00 76.48           N  
ATOM   5920  CA  PRO E 463     -27.403  36.559  24.327  1.00 74.93           C  
ATOM   5921  C   PRO E 463     -28.644  36.253  25.162  1.00 74.33           C  
ATOM   5922  O   PRO E 463     -29.132  37.092  25.922  1.00 76.17           O  
ATOM   5923  CB  PRO E 463     -26.120  36.506  25.166  1.00 72.23           C  
ATOM   5924  CG  PRO E 463     -25.214  37.477  24.498  1.00 72.46           C  
ATOM   5925  CD  PRO E 463     -26.107  38.602  24.001  1.00 70.75           C  
ATOM   5926  N   PHE E 464     -29.172  35.042  24.985  1.00 71.64           N  
ATOM   5927  CA  PHE E 464     -30.378  34.562  25.666  1.00 71.51           C  
ATOM   5928  C   PHE E 464     -31.591  35.466  25.448  1.00 69.65           C  
ATOM   5929  O   PHE E 464     -32.566  35.392  26.196  1.00 70.81           O  
ATOM   5930  CB  PHE E 464     -30.136  34.363  27.161  1.00 70.14           C  
ATOM   5931  CG  PHE E 464     -29.153  33.284  27.466  1.00 70.29           C  
ATOM   5932  CD1 PHE E 464     -29.445  31.964  27.166  1.00 69.13           C  
ATOM   5933  CD2 PHE E 464     -27.937  33.585  28.051  1.00 61.37           C  
ATOM   5934  CE1 PHE E 464     -28.537  30.953  27.438  1.00 71.89           C  
ATOM   5935  CE2 PHE E 464     -27.022  32.579  28.330  1.00 71.22           C  
ATOM   5936  CZ  PHE E 464     -27.322  31.261  28.028  1.00 72.40           C  
ATOM   5937  N   GLU E 465     -31.573  36.309  24.424  1.00 66.81           N  
ATOM   5938  CA  GLU E 465     -32.776  37.038  24.069  1.00 62.97           C  
ATOM   5939  C   GLU E 465     -33.733  36.148  23.265  1.00 68.78           C  
ATOM   5940  O   GLU E 465     -33.337  35.153  22.641  1.00 65.50           O  
ATOM   5941  CB  GLU E 465     -32.408  38.286  23.276  1.00 67.49           C  
ATOM   5942  CG  GLU E 465     -33.425  39.387  23.299  1.00 66.22           C  
ATOM   5943  CD  GLU E 465     -33.027  40.540  22.404  1.00 75.29           C  
ATOM   5944  OE1 GLU E 465     -31.856  40.579  21.940  1.00 70.55           O  
ATOM   5945  OE2 GLU E 465     -33.896  41.404  22.163  1.00 77.17           O  
ATOM   5946  N   ARG E 466     -35.016  36.511  23.301  1.00 63.74           N  
ATOM   5947  CA  ARG E 466     -36.048  35.850  22.511  1.00 67.16           C  
ATOM   5948  C   ARG E 466     -36.908  36.911  21.840  1.00 64.73           C  
ATOM   5949  O   ARG E 466     -37.361  37.847  22.500  1.00 67.67           O  
ATOM   5950  CB  ARG E 466     -36.922  34.928  23.372  1.00 63.38           C  
ATOM   5951  CG  ARG E 466     -38.027  34.262  22.587  1.00 64.15           C  
ATOM   5952  CD  ARG E 466     -39.069  33.563  23.463  1.00 66.80           C  
ATOM   5953  NE  ARG E 466     -38.483  32.545  24.315  1.00 62.97           N  
ATOM   5954  CZ  ARG E 466     -38.312  32.700  25.626  1.00 76.69           C  
ATOM   5955  NH1 ARG E 466     -38.706  33.827  26.214  1.00 78.98           N  
ATOM   5956  NH2 ARG E 466     -37.754  31.736  26.356  1.00 69.41           N  
ATOM   5957  N   ASP E 467     -37.120  36.773  20.531  1.00 65.27           N  
ATOM   5958  CA  ASP E 467     -38.022  37.631  19.768  1.00 58.16           C  
ATOM   5959  C   ASP E 467     -39.106  36.753  19.155  1.00 65.64           C  
ATOM   5960  O   ASP E 467     -38.803  35.858  18.354  1.00 65.24           O  
ATOM   5961  CB  ASP E 467     -37.253  38.392  18.683  1.00 66.32           C  
ATOM   5962  CG  ASP E 467     -38.118  39.399  17.913  1.00 72.47           C  
ATOM   5963  OD1 ASP E 467     -39.355  39.470  18.120  1.00 70.67           O  
ATOM   5964  OD2 ASP E 467     -37.538  40.134  17.082  1.00 71.69           O  
ATOM   5965  N   ILE E 468     -40.363  37.002  19.526  1.00 62.03           N  
ATOM   5966  CA  ILE E 468     -41.484  36.261  18.956  1.00 63.36           C  
ATOM   5967  C   ILE E 468     -42.410  37.157  18.140  1.00 64.70           C  
ATOM   5968  O   ILE E 468     -43.515  36.732  17.773  1.00 71.05           O  
ATOM   5969  CB  ILE E 468     -42.270  35.493  20.035  1.00 60.11           C  
ATOM   5970  CG1 ILE E 468     -43.053  36.447  20.948  1.00 65.80           C  
ATOM   5971  CG2 ILE E 468     -41.325  34.633  20.848  1.00 59.80           C  
ATOM   5972  CD1 ILE E 468     -44.035  35.739  21.891  1.00 55.74           C  
ATOM   5973  N   SER E 469     -41.985  38.374  17.818  1.00 60.18           N  
ATOM   5974  CA  SER E 469     -42.817  39.254  17.010  1.00 64.94           C  
ATOM   5975  C   SER E 469     -43.070  38.660  15.626  1.00 67.17           C  
ATOM   5976  O   SER E 469     -42.295  37.841  15.114  1.00 61.73           O  
ATOM   5977  CB  SER E 469     -42.157  40.626  16.863  1.00 67.02           C  
ATOM   5978  OG  SER E 469     -40.971  40.530  16.098  1.00 76.26           O  
ATOM   5979  N   THR E 470     -44.171  39.093  15.012  1.00 62.31           N  
ATOM   5980  CA  THR E 470     -44.540  38.687  13.663  1.00 61.80           C  
ATOM   5981  C   THR E 470     -44.741  39.903  12.772  1.00 64.48           C  
ATOM   5982  O   THR E 470     -45.587  39.893  11.876  1.00 65.57           O  
ATOM   5983  CB  THR E 470     -45.803  37.829  13.661  1.00 68.36           C  
ATOM   5984  OG1 THR E 470     -46.925  38.640  14.040  1.00 65.99           O  
ATOM   5985  CG2 THR E 470     -45.659  36.653  14.618  1.00 64.10           C  
ATOM   5986  N   GLU E 471     -43.979  40.959  13.028  1.00 67.73           N  
ATOM   5987  CA  GLU E 471     -44.089  42.183  12.255  1.00 68.87           C  
ATOM   5988  C   GLU E 471     -43.445  41.990  10.890  1.00 67.34           C  
ATOM   5989  O   GLU E 471     -42.361  41.408  10.778  1.00 63.67           O  
ATOM   5990  CB  GLU E 471     -43.426  43.336  13.013  1.00 68.18           C  
ATOM   5991  CG  GLU E 471     -43.053  44.529  12.156  1.00 79.13           C  
ATOM   5992  CD  GLU E 471     -42.551  45.709  12.978  1.00 92.31           C  
ATOM   5993  OE1 GLU E 471     -43.392  46.563  13.358  1.00101.52           O  
ATOM   5994  OE2 GLU E 471     -41.325  45.773  13.250  1.00 85.88           O  
ATOM   5995  N   ILE E 472     -44.125  42.463   9.842  1.00 69.48           N  
ATOM   5996  CA  ILE E 472     -43.576  42.324   8.497  1.00 66.25           C  
ATOM   5997  C   ILE E 472     -42.257  43.072   8.421  1.00 65.91           C  
ATOM   5998  O   ILE E 472     -42.141  44.208   8.893  1.00 67.32           O  
ATOM   5999  CB  ILE E 472     -44.571  42.829   7.448  1.00 67.26           C  
ATOM   6000  CG1 ILE E 472     -45.907  42.094   7.599  1.00 70.76           C  
ATOM   6001  CG2 ILE E 472     -44.008  42.621   6.053  1.00 67.98           C  
ATOM   6002  CD1 ILE E 472     -45.798  40.594   7.439  1.00 69.66           C  
ATOM   6003  N   TYR E 473     -41.242  42.425   7.857  1.00 71.42           N  
ATOM   6004  CA  TYR E 473     -39.916  43.023   7.779  1.00 71.12           C  
ATOM   6005  C   TYR E 473     -39.868  43.970   6.592  1.00 73.90           C  
ATOM   6006  O   TYR E 473     -40.094  43.555   5.447  1.00 76.29           O  
ATOM   6007  CB  TYR E 473     -38.840  41.950   7.655  1.00 67.79           C  
ATOM   6008  CG  TYR E 473     -37.440  42.518   7.578  1.00 70.98           C  
ATOM   6009  CD1 TYR E 473     -36.826  43.045   8.702  1.00 70.63           C  
ATOM   6010  CD2 TYR E 473     -36.728  42.514   6.382  1.00 72.75           C  
ATOM   6011  CE1 TYR E 473     -35.542  43.558   8.643  1.00 77.56           C  
ATOM   6012  CE2 TYR E 473     -35.449  43.032   6.309  1.00 70.22           C  
ATOM   6013  CZ  TYR E 473     -34.860  43.550   7.443  1.00 77.64           C  
ATOM   6014  OH  TYR E 473     -33.583  44.061   7.386  1.00 84.96           O  
ATOM   6015  N   GLN E 474     -39.576  45.235   6.865  1.00 69.95           N  
ATOM   6016  CA  GLN E 474     -39.536  46.266   5.831  1.00 70.80           C  
ATOM   6017  C   GLN E 474     -38.124  46.313   5.272  1.00 68.59           C  
ATOM   6018  O   GLN E 474     -37.228  46.904   5.877  1.00 72.10           O  
ATOM   6019  CB  GLN E 474     -39.956  47.611   6.406  1.00 69.95           C  
ATOM   6020  CG  GLN E 474     -40.203  48.667   5.378  1.00 77.39           C  
ATOM   6021  CD  GLN E 474     -40.453  50.007   6.010  1.00 85.60           C  
ATOM   6022  OE1 GLN E 474     -41.398  50.175   6.782  1.00 91.49           O  
ATOM   6023  NE2 GLN E 474     -39.596  50.971   5.705  1.00 84.89           N  
ATOM   6024  N   ALA E 475     -37.918  45.685   4.112  1.00 76.60           N  
ATOM   6025  CA  ALA E 475     -36.594  45.649   3.495  1.00 77.89           C  
ATOM   6026  C   ALA E 475     -36.295  46.880   2.649  1.00 75.46           C  
ATOM   6027  O   ALA E 475     -35.117  47.194   2.437  1.00 72.41           O  
ATOM   6028  CB  ALA E 475     -36.427  44.388   2.636  1.00 65.70           C  
ATOM   6029  N   GLY E 476     -37.324  47.579   2.166  1.00 77.24           N  
ATOM   6030  CA  GLY E 476     -37.157  48.811   1.440  1.00 77.33           C  
ATOM   6031  C   GLY E 476     -37.534  50.026   2.261  1.00 79.81           C  
ATOM   6032  O   GLY E 476     -37.541  50.001   3.499  1.00 80.85           O  
ATOM   6033  N   SER E 477     -37.857  51.110   1.564  1.00 82.64           N  
ATOM   6034  CA  SER E 477     -38.275  52.345   2.215  1.00 88.50           C  
ATOM   6035  C   SER E 477     -39.788  52.489   2.330  1.00 89.22           C  
ATOM   6036  O   SER E 477     -40.264  53.158   3.252  1.00 95.98           O  
ATOM   6037  CB  SER E 477     -37.722  53.557   1.460  1.00 80.28           C  
ATOM   6038  OG  SER E 477     -38.361  53.673   0.200  1.00 84.73           O  
ATOM   6039  N   THR E 478     -40.553  51.896   1.422  1.00 84.45           N  
ATOM   6040  CA  THR E 478     -42.007  51.988   1.500  1.00 88.44           C  
ATOM   6041  C   THR E 478     -42.531  51.134   2.653  1.00 92.70           C  
ATOM   6042  O   THR E 478     -42.153  49.962   2.770  1.00 91.38           O  
ATOM   6043  CB  THR E 478     -42.630  51.531   0.189  1.00 89.23           C  
ATOM   6044  OG1 THR E 478     -42.280  50.159  -0.047  1.00 92.10           O  
ATOM   6045  CG2 THR E 478     -42.121  52.389  -0.960  1.00 85.85           C  
ATOM   6046  N   PRO E 479     -43.398  51.672   3.514  1.00 94.16           N  
ATOM   6047  CA  PRO E 479     -43.905  50.879   4.643  1.00 87.72           C  
ATOM   6048  C   PRO E 479     -44.679  49.661   4.158  1.00 89.19           C  
ATOM   6049  O   PRO E 479     -45.064  49.556   2.990  1.00 90.51           O  
ATOM   6050  CB  PRO E 479     -44.817  51.862   5.392  1.00 90.17           C  
ATOM   6051  CG  PRO E 479     -44.372  53.231   4.938  1.00 89.11           C  
ATOM   6052  CD  PRO E 479     -43.932  53.045   3.513  1.00 87.03           C  
ATOM   6053  N   CYS E 480     -44.904  48.722   5.075  1.00 82.79           N  
ATOM   6054  CA  CYS E 480     -45.555  47.472   4.707  1.00 82.12           C  
ATOM   6055  C   CYS E 480     -47.047  47.439   5.030  1.00 85.57           C  
ATOM   6056  O   CYS E 480     -47.793  46.709   4.366  1.00 81.18           O  
ATOM   6057  CB  CYS E 480     -44.848  46.290   5.386  1.00 78.80           C  
ATOM   6058  SG  CYS E 480     -43.064  46.116   4.925  1.00 94.48           S  
ATOM   6059  N   ASN E 481     -47.505  48.221   6.013  1.00 85.57           N  
ATOM   6060  CA  ASN E 481     -48.912  48.220   6.424  1.00 85.39           C  
ATOM   6061  C   ASN E 481     -49.388  46.805   6.742  1.00 86.26           C  
ATOM   6062  O   ASN E 481     -50.489  46.398   6.363  1.00 84.25           O  
ATOM   6063  CB  ASN E 481     -49.812  48.858   5.359  1.00 89.46           C  
ATOM   6064  CG  ASN E 481     -49.280  50.186   4.858  1.00 91.09           C  
ATOM   6065  OD1 ASN E 481     -49.279  50.445   3.656  1.00 86.57           O  
ATOM   6066  ND2 ASN E 481     -48.812  51.032   5.779  1.00 89.33           N  
ATOM   6067  N   GLY E 482     -48.526  46.035   7.407  1.00 82.69           N  
ATOM   6068  CA  GLY E 482     -48.888  44.719   7.894  1.00 76.27           C  
ATOM   6069  C   GLY E 482     -49.220  43.671   6.854  1.00 78.70           C  
ATOM   6070  O   GLY E 482     -49.903  42.697   7.181  1.00 79.14           O  
ATOM   6071  N   VAL E 483     -48.756  43.814   5.609  1.00 71.29           N  
ATOM   6072  CA  VAL E 483     -48.904  42.739   4.634  1.00 77.55           C  
ATOM   6073  C   VAL E 483     -47.625  42.574   3.821  1.00 79.42           C  
ATOM   6074  O   VAL E 483     -46.800  43.483   3.706  1.00 84.11           O  
ATOM   6075  CB  VAL E 483     -50.103  42.939   3.676  1.00 79.33           C  
ATOM   6076  CG1 VAL E 483     -51.392  42.512   4.351  1.00 70.69           C  
ATOM   6077  CG2 VAL E 483     -50.177  44.385   3.170  1.00 76.41           C  
ATOM   6078  N   GLU E 484     -47.476  41.382   3.252  1.00 78.47           N  
ATOM   6079  CA  GLU E 484     -46.329  41.084   2.417  1.00 75.29           C  
ATOM   6080  C   GLU E 484     -46.503  41.689   1.039  1.00 74.94           C  
ATOM   6081  O   GLU E 484     -47.594  41.659   0.462  1.00 73.18           O  
ATOM   6082  CB  GLU E 484     -46.124  39.579   2.294  1.00 68.77           C  
ATOM   6083  CG  GLU E 484     -45.444  38.985   3.491  1.00 73.65           C  
ATOM   6084  CD  GLU E 484     -45.122  37.521   3.294  1.00 82.45           C  
ATOM   6085  OE1 GLU E 484     -43.971  37.204   2.883  1.00 68.85           O  
ATOM   6086  OE2 GLU E 484     -46.034  36.696   3.553  1.00 84.26           O  
ATOM   6087  N   GLY E 485     -45.418  42.243   0.526  1.00 70.15           N  
ATOM   6088  CA  GLY E 485     -45.383  42.733  -0.831  1.00 69.10           C  
ATOM   6089  C   GLY E 485     -43.952  43.012  -1.216  1.00 76.79           C  
ATOM   6090  O   GLY E 485     -43.019  42.533  -0.567  1.00 76.05           O  
ATOM   6091  N   PHE E 486     -43.781  43.814  -2.262  1.00 77.54           N  
ATOM   6092  CA  PHE E 486     -42.436  44.174  -2.691  1.00 79.30           C  
ATOM   6093  C   PHE E 486     -41.639  44.742  -1.524  1.00 76.47           C  
ATOM   6094  O   PHE E 486     -42.068  45.699  -0.874  1.00 76.98           O  
ATOM   6095  CB  PHE E 486     -42.495  45.184  -3.838  1.00 76.60           C  
ATOM   6096  CG  PHE E 486     -41.144  45.559  -4.376  1.00 77.87           C  
ATOM   6097  CD1 PHE E 486     -40.483  44.722  -5.266  1.00 79.62           C  
ATOM   6098  CD2 PHE E 486     -40.532  46.745  -3.993  1.00 78.74           C  
ATOM   6099  CE1 PHE E 486     -39.236  45.059  -5.769  1.00 80.81           C  
ATOM   6100  CE2 PHE E 486     -39.285  47.091  -4.492  1.00 79.48           C  
ATOM   6101  CZ  PHE E 486     -38.633  46.242  -5.379  1.00 78.22           C  
ATOM   6102  N   ASN E 487     -40.490  44.121  -1.252  1.00 73.32           N  
ATOM   6103  CA  ASN E 487     -39.576  44.507  -0.178  1.00 72.91           C  
ATOM   6104  C   ASN E 487     -40.205  44.394   1.203  1.00 71.25           C  
ATOM   6105  O   ASN E 487     -39.719  45.009   2.160  1.00 70.15           O  
ATOM   6106  CB  ASN E 487     -39.025  45.920  -0.397  1.00 76.75           C  
ATOM   6107  CG  ASN E 487     -37.804  45.927  -1.292  1.00 76.29           C  
ATOM   6108  OD1 ASN E 487     -37.149  44.900  -1.467  1.00 80.42           O  
ATOM   6109  ND2 ASN E 487     -37.483  47.082  -1.849  1.00 75.42           N  
ATOM   6110  N   CYS E 488     -41.255  43.582   1.331  1.00 69.35           N  
ATOM   6111  CA  CYS E 488     -41.983  43.433   2.592  1.00 71.96           C  
ATOM   6112  C   CYS E 488     -42.249  41.949   2.825  1.00 67.36           C  
ATOM   6113  O   CYS E 488     -43.177  41.381   2.248  1.00 66.37           O  
ATOM   6114  CB  CYS E 488     -43.283  44.230   2.564  1.00 75.29           C  
ATOM   6115  SG  CYS E 488     -43.072  45.987   2.863  1.00 73.12           S  
ATOM   6116  N   TYR E 489     -41.466  41.331   3.700  1.00 69.29           N  
ATOM   6117  CA  TYR E 489     -41.524  39.893   3.901  1.00 66.15           C  
ATOM   6118  C   TYR E 489     -41.956  39.559   5.322  1.00 64.74           C  
ATOM   6119  O   TYR E 489     -41.476  40.162   6.287  1.00 69.70           O  
ATOM   6120  CB  TYR E 489     -40.166  39.248   3.617  1.00 66.51           C  
ATOM   6121  CG  TYR E 489     -39.438  39.831   2.431  1.00 72.17           C  
ATOM   6122  CD1 TYR E 489     -39.769  39.455   1.128  1.00 72.54           C  
ATOM   6123  CD2 TYR E 489     -38.411  40.756   2.608  1.00 67.54           C  
ATOM   6124  CE1 TYR E 489     -39.094  39.993   0.030  1.00 70.49           C  
ATOM   6125  CE2 TYR E 489     -37.734  41.291   1.520  1.00 67.01           C  
ATOM   6126  CZ  TYR E 489     -38.075  40.904   0.239  1.00 67.42           C  
ATOM   6127  OH  TYR E 489     -37.401  41.446  -0.830  1.00 76.79           O  
ATOM   6128  N   PHE E 490     -42.853  38.588   5.438  1.00 61.75           N  
ATOM   6129  CA  PHE E 490     -43.091  37.934   6.715  1.00 62.27           C  
ATOM   6130  C   PHE E 490     -41.771  37.377   7.258  1.00 64.95           C  
ATOM   6131  O   PHE E 490     -41.076  36.635   6.551  1.00 62.69           O  
ATOM   6132  CB  PHE E 490     -44.126  36.822   6.537  1.00 60.66           C  
ATOM   6133  CG  PHE E 490     -44.573  36.176   7.829  1.00 65.77           C  
ATOM   6134  CD1 PHE E 490     -45.377  36.865   8.729  1.00 65.09           C  
ATOM   6135  CD2 PHE E 490     -44.218  34.867   8.125  1.00 59.68           C  
ATOM   6136  CE1 PHE E 490     -45.808  36.263   9.923  1.00 67.45           C  
ATOM   6137  CE2 PHE E 490     -44.636  34.257   9.319  1.00 63.44           C  
ATOM   6138  CZ  PHE E 490     -45.442  34.958  10.215  1.00 65.38           C  
ATOM   6139  N   PRO E 491     -41.395  37.696   8.497  1.00 57.76           N  
ATOM   6140  CA  PRO E 491     -40.013  37.476   8.935  1.00 58.21           C  
ATOM   6141  C   PRO E 491     -39.696  36.060   9.375  1.00 58.65           C  
ATOM   6142  O   PRO E 491     -38.529  35.774   9.664  1.00 64.66           O  
ATOM   6143  CB  PRO E 491     -39.880  38.448  10.110  1.00 58.15           C  
ATOM   6144  CG  PRO E 491     -41.259  38.477  10.695  1.00 61.94           C  
ATOM   6145  CD  PRO E 491     -42.201  38.378   9.521  1.00 62.03           C  
ATOM   6146  N   LEU E 492     -40.676  35.168   9.435  1.00 57.78           N  
ATOM   6147  CA  LEU E 492     -40.476  33.808   9.919  1.00 59.37           C  
ATOM   6148  C   LEU E 492     -40.723  32.840   8.770  1.00 63.98           C  
ATOM   6149  O   LEU E 492     -41.795  32.861   8.160  1.00 71.07           O  
ATOM   6150  CB  LEU E 492     -41.419  33.500  11.087  1.00 62.68           C  
ATOM   6151  CG  LEU E 492     -41.442  34.375  12.363  1.00 59.46           C  
ATOM   6152  CD1 LEU E 492     -42.399  33.762  13.376  1.00 59.86           C  
ATOM   6153  CD2 LEU E 492     -40.068  34.574  13.005  1.00 55.75           C  
ATOM   6154  N   GLN E 493     -39.738  32.015   8.453  1.00 60.87           N  
ATOM   6155  CA AGLN E 493     -39.920  30.982   7.452  0.50 62.36           C  
ATOM   6156  CA BGLN E 493     -39.896  30.974   7.447  0.50 62.37           C  
ATOM   6157  C   GLN E 493     -39.982  29.618   8.130  1.00 60.72           C  
ATOM   6158  O   GLN E 493     -39.416  29.405   9.201  1.00 61.83           O  
ATOM   6159  CB AGLN E 493     -38.803  31.029   6.403  0.50 64.23           C  
ATOM   6160  CB BGLN E 493     -38.741  30.957   6.434  0.50 64.19           C  
ATOM   6161  CG AGLN E 493     -39.296  31.387   4.982  0.50 68.92           C  
ATOM   6162  CG BGLN E 493     -39.205  30.812   4.959  0.50 69.00           C  
ATOM   6163  CD AGLN E 493     -40.322  32.520   4.963  0.50 65.80           C  
ATOM   6164  CD BGLN E 493     -38.600  29.616   4.215  0.50 67.94           C  
ATOM   6165  OE1AGLN E 493     -40.043  33.637   5.401  0.50 62.35           O  
ATOM   6166  OE1BGLN E 493     -37.777  28.874   4.755  0.50 69.55           O  
ATOM   6167  NE2AGLN E 493     -41.513  32.228   4.457  0.50 63.74           N  
ATOM   6168  NE2BGLN E 493     -39.009  29.435   2.965  0.50 60.92           N  
ATOM   6169  N   SER E 494     -40.697  28.710   7.502  1.00 61.14           N  
ATOM   6170  CA  SER E 494     -40.871  27.365   8.000  1.00 60.07           C  
ATOM   6171  C   SER E 494     -39.766  26.457   7.475  1.00 65.90           C  
ATOM   6172  O   SER E 494     -39.372  26.564   6.310  1.00 62.32           O  
ATOM   6173  CB  SER E 494     -42.245  26.854   7.561  1.00 63.79           C  
ATOM   6174  OG  SER E 494     -42.363  25.459   7.750  1.00 71.44           O  
ATOM   6175  N   TYR E 495     -39.240  25.593   8.349  1.00 57.01           N  
ATOM   6176  CA  TYR E 495     -38.518  24.432   7.854  1.00 60.10           C  
ATOM   6177  C   TYR E 495     -39.518  23.484   7.214  1.00 62.47           C  
ATOM   6178  O   TYR E 495     -40.687  23.420   7.608  1.00 66.05           O  
ATOM   6179  CB  TYR E 495     -37.778  23.672   8.964  1.00 56.02           C  
ATOM   6180  CG  TYR E 495     -36.695  24.410   9.702  1.00 59.27           C  
ATOM   6181  CD1 TYR E 495     -35.485  24.728   9.087  1.00 60.64           C  
ATOM   6182  CD2 TYR E 495     -36.859  24.744  11.044  1.00 58.29           C  
ATOM   6183  CE1 TYR E 495     -34.477  25.393   9.782  1.00 61.93           C  
ATOM   6184  CE2 TYR E 495     -35.873  25.407  11.739  1.00 61.35           C  
ATOM   6185  CZ  TYR E 495     -34.681  25.725  11.114  1.00 67.92           C  
ATOM   6186  OH  TYR E 495     -33.710  26.390  11.834  1.00 64.92           O  
ATOM   6187  N   GLY E 496     -39.062  22.741   6.226  1.00 58.65           N  
ATOM   6188  CA  GLY E 496     -39.913  21.715   5.659  1.00 62.41           C  
ATOM   6189  C   GLY E 496     -39.215  20.398   5.854  1.00 63.66           C  
ATOM   6190  O   GLY E 496     -38.327  20.062   5.076  1.00 69.04           O  
ATOM   6191  N   PHE E 497     -39.539  19.673   6.910  1.00 55.15           N  
ATOM   6192  CA  PHE E 497     -38.777  18.486   7.260  1.00 53.29           C  
ATOM   6193  C   PHE E 497     -39.435  17.274   6.616  1.00 58.45           C  
ATOM   6194  O   PHE E 497     -40.511  16.846   7.040  1.00 56.83           O  
ATOM   6195  CB  PHE E 497     -38.679  18.341   8.779  1.00 54.64           C  
ATOM   6196  CG  PHE E 497     -37.702  19.281   9.420  1.00 54.47           C  
ATOM   6197  CD1 PHE E 497     -36.399  19.391   8.933  1.00 54.75           C  
ATOM   6198  CD2 PHE E 497     -38.083  20.067  10.507  1.00 51.79           C  
ATOM   6199  CE1 PHE E 497     -35.483  20.262   9.518  1.00 52.02           C  
ATOM   6200  CE2 PHE E 497     -37.178  20.940  11.106  1.00 50.53           C  
ATOM   6201  CZ  PHE E 497     -35.866  21.036  10.614  1.00 54.23           C  
ATOM   6202  N   GLN E 498     -38.799  16.739   5.566  1.00 59.64           N  
ATOM   6203  CA  GLN E 498     -39.162  15.459   5.011  1.00 55.69           C  
ATOM   6204  C   GLN E 498     -38.143  14.419   5.456  1.00 62.04           C  
ATOM   6205  O   GLN E 498     -36.947  14.731   5.554  1.00 56.90           O  
ATOM   6206  CB  GLN E 498     -39.208  15.487   3.478  1.00 62.98           C  
ATOM   6207  CG  GLN E 498     -40.438  16.113   2.846  1.00 61.01           C  
ATOM   6208  CD  GLN E 498     -40.200  17.548   2.364  1.00 75.40           C  
ATOM   6209  OE1 GLN E 498     -39.189  18.208   2.710  1.00 67.51           O  
ATOM   6210  NE2 GLN E 498     -41.128  18.035   1.548  1.00 71.98           N  
ATOM   6211  N   PRO E 499     -38.573  13.181   5.708  1.00 60.26           N  
ATOM   6212  CA  PRO E 499     -37.617  12.149   6.149  1.00 57.61           C  
ATOM   6213  C   PRO E 499     -36.511  11.848   5.139  1.00 63.43           C  
ATOM   6214  O   PRO E 499     -35.485  11.286   5.542  1.00 63.71           O  
ATOM   6215  CB  PRO E 499     -38.511  10.920   6.379  1.00 48.35           C  
ATOM   6216  CG  PRO E 499     -39.700  11.144   5.499  1.00 55.65           C  
ATOM   6217  CD  PRO E 499     -39.925  12.638   5.495  1.00 55.89           C  
ATOM   6218  N   THR E 500     -36.687  12.192   3.850  1.00 62.26           N  
ATOM   6219  CA  THR E 500     -35.710  11.919   2.793  1.00 54.52           C  
ATOM   6220  C   THR E 500     -34.679  13.037   2.604  1.00 62.40           C  
ATOM   6221  O   THR E 500     -33.821  12.923   1.718  1.00 61.19           O  
ATOM   6222  CB  THR E 500     -36.421  11.665   1.450  1.00 59.62           C  
ATOM   6223  OG1 THR E 500     -37.347  12.726   1.182  1.00 59.06           O  
ATOM   6224  CG2 THR E 500     -37.156  10.320   1.441  1.00 46.78           C  
ATOM   6225  N   ASN E 501     -34.740  14.112   3.390  1.00 62.46           N  
ATOM   6226  CA  ASN E 501     -33.706  15.131   3.339  1.00 55.03           C  
ATOM   6227  C   ASN E 501     -32.355  14.527   3.718  1.00 60.66           C  
ATOM   6228  O   ASN E 501     -32.279  13.486   4.381  1.00 53.40           O  
ATOM   6229  CB  ASN E 501     -34.011  16.273   4.314  1.00 61.12           C  
ATOM   6230  CG  ASN E 501     -35.318  17.028   4.011  1.00 56.55           C  
ATOM   6231  OD1 ASN E 501     -35.966  16.843   2.977  1.00 58.75           O  
ATOM   6232  ND2 ASN E 501     -35.680  17.922   4.929  1.00 59.85           N  
ATOM   6233  N   GLY E 502     -31.271  15.199   3.309  1.00 55.86           N  
ATOM   6234  CA  GLY E 502     -29.967  14.849   3.843  1.00 49.81           C  
ATOM   6235  C   GLY E 502     -29.800  15.248   5.306  1.00 59.59           C  
ATOM   6236  O   GLY E 502     -30.547  16.063   5.865  1.00 57.10           O  
ATOM   6237  N   VAL E 503     -28.772  14.675   5.940  1.00 52.08           N  
ATOM   6238  CA  VAL E 503     -28.544  14.909   7.367  1.00 54.32           C  
ATOM   6239  C   VAL E 503     -28.375  16.394   7.685  1.00 57.36           C  
ATOM   6240  O   VAL E 503     -28.805  16.855   8.748  1.00 62.90           O  
ATOM   6241  CB  VAL E 503     -27.335  14.096   7.862  1.00 55.00           C  
ATOM   6242  CG1 VAL E 503     -27.076  14.371   9.335  1.00 50.15           C  
ATOM   6243  CG2 VAL E 503     -27.585  12.603   7.637  1.00 52.79           C  
ATOM   6244  N   GLY E 504     -27.768  17.167   6.785  1.00 58.99           N  
ATOM   6245  CA  GLY E 504     -27.636  18.594   7.024  1.00 51.05           C  
ATOM   6246  C   GLY E 504     -28.962  19.318   7.065  1.00 61.84           C  
ATOM   6247  O   GLY E 504     -29.049  20.421   7.621  1.00 63.62           O  
ATOM   6248  N   TYR E 505     -30.003  18.711   6.505  1.00 56.43           N  
ATOM   6249  CA  TYR E 505     -31.328  19.303   6.414  1.00 57.75           C  
ATOM   6250  C   TYR E 505     -32.327  18.622   7.334  1.00 55.53           C  
ATOM   6251  O   TYR E 505     -33.481  19.051   7.407  1.00 56.25           O  
ATOM   6252  CB  TYR E 505     -31.826  19.242   4.960  1.00 54.45           C  
ATOM   6253  CG  TYR E 505     -31.221  20.327   4.104  1.00 63.28           C  
ATOM   6254  CD1 TYR E 505     -29.926  20.214   3.604  1.00 61.19           C  
ATOM   6255  CD2 TYR E 505     -31.937  21.485   3.813  1.00 65.55           C  
ATOM   6256  CE1 TYR E 505     -29.364  21.236   2.833  1.00 63.30           C  
ATOM   6257  CE2 TYR E 505     -31.389  22.497   3.050  1.00 65.84           C  
ATOM   6258  CZ  TYR E 505     -30.103  22.374   2.562  1.00 65.12           C  
ATOM   6259  OH  TYR E 505     -29.579  23.399   1.799  1.00 68.06           O  
ATOM   6260  N   GLN E 506     -31.922  17.577   8.024  1.00 52.39           N  
ATOM   6261  CA  GLN E 506     -32.833  16.883   8.901  1.00 54.41           C  
ATOM   6262  C   GLN E 506     -33.002  17.653  10.204  1.00 55.52           C  
ATOM   6263  O   GLN E 506     -32.137  18.448  10.584  1.00 61.87           O  
ATOM   6264  CB  GLN E 506     -32.327  15.471   9.145  1.00 52.64           C  
ATOM   6265  CG  GLN E 506     -32.477  14.601   7.907  1.00 55.76           C  
ATOM   6266  CD  GLN E 506     -31.967  13.203   8.121  1.00 58.91           C  
ATOM   6267  OE1 GLN E 506     -31.577  12.829   9.232  1.00 60.41           O  
ATOM   6268  NE2 GLN E 506     -31.962  12.414   7.060  1.00 55.53           N  
ATOM   6269  N   PRO E 507     -34.125  17.456  10.897  1.00 57.30           N  
ATOM   6270  CA  PRO E 507     -34.345  18.172  12.162  1.00 53.37           C  
ATOM   6271  C   PRO E 507     -33.524  17.592  13.302  1.00 52.68           C  
ATOM   6272  O   PRO E 507     -33.341  16.375  13.415  1.00 58.10           O  
ATOM   6273  CB  PRO E 507     -35.845  17.986  12.413  1.00 50.83           C  
ATOM   6274  CG  PRO E 507     -36.136  16.643  11.797  1.00 61.02           C  
ATOM   6275  CD  PRO E 507     -35.238  16.539  10.574  1.00 55.20           C  
ATOM   6276  N   TYR E 508     -33.039  18.485  14.166  1.00 56.13           N  
ATOM   6277  CA  TYR E 508     -32.283  18.114  15.360  1.00 57.66           C  
ATOM   6278  C   TYR E 508     -32.893  18.786  16.582  1.00 62.54           C  
ATOM   6279  O   TYR E 508     -33.012  20.019  16.634  1.00 60.46           O  
ATOM   6280  CB  TYR E 508     -30.795  18.493  15.230  1.00 58.88           C  
ATOM   6281  CG  TYR E 508     -29.995  17.443  14.495  1.00 58.63           C  
ATOM   6282  CD1 TYR E 508     -30.202  17.225  13.137  1.00 63.86           C  
ATOM   6283  CD2 TYR E 508     -29.069  16.643  15.155  1.00 59.60           C  
ATOM   6284  CE1 TYR E 508     -29.501  16.256  12.452  1.00 69.21           C  
ATOM   6285  CE2 TYR E 508     -28.360  15.655  14.479  1.00 59.29           C  
ATOM   6286  CZ  TYR E 508     -28.585  15.469  13.126  1.00 66.29           C  
ATOM   6287  OH  TYR E 508     -27.909  14.509  12.416  1.00 66.48           O  
ATOM   6288  N   ARG E 509     -33.258  17.979  17.570  1.00 61.22           N  
ATOM   6289  CA  ARG E 509     -33.659  18.515  18.861  1.00 62.77           C  
ATOM   6290  C   ARG E 509     -32.430  18.936  19.654  1.00 65.24           C  
ATOM   6291  O   ARG E 509     -31.424  18.221  19.698  1.00 62.95           O  
ATOM   6292  CB  ARG E 509     -34.484  17.486  19.634  1.00 58.39           C  
ATOM   6293  CG  ARG E 509     -35.777  17.162  18.914  1.00 56.36           C  
ATOM   6294  CD  ARG E 509     -36.767  16.349  19.715  1.00 57.11           C  
ATOM   6295  NE  ARG E 509     -38.050  16.349  19.022  1.00 59.83           N  
ATOM   6296  CZ  ARG E 509     -39.200  15.942  19.544  1.00 60.71           C  
ATOM   6297  NH1 ARG E 509     -39.231  15.482  20.778  1.00 60.28           N  
ATOM   6298  NH2 ARG E 509     -40.324  16.005  18.828  1.00 59.18           N  
ATOM   6299  N   VAL E 510     -32.519  20.112  20.272  1.00 61.87           N  
ATOM   6300  CA  VAL E 510     -31.408  20.759  20.962  1.00 66.45           C  
ATOM   6301  C   VAL E 510     -31.856  21.113  22.374  1.00 65.08           C  
ATOM   6302  O   VAL E 510     -32.919  21.717  22.559  1.00 60.80           O  
ATOM   6303  CB  VAL E 510     -30.939  22.035  20.229  1.00 59.17           C  
ATOM   6304  CG1 VAL E 510     -29.819  22.687  20.986  1.00 58.47           C  
ATOM   6305  CG2 VAL E 510     -30.519  21.725  18.810  1.00 60.38           C  
ATOM   6306  N   VAL E 511     -31.046  20.752  23.365  1.00 68.48           N  
ATOM   6307  CA  VAL E 511     -31.215  21.219  24.736  1.00 66.60           C  
ATOM   6308  C   VAL E 511     -29.945  21.958  25.131  1.00 69.12           C  
ATOM   6309  O   VAL E 511     -28.844  21.421  24.981  1.00 73.44           O  
ATOM   6310  CB  VAL E 511     -31.487  20.065  25.717  1.00 68.19           C  
ATOM   6311  CG1 VAL E 511     -31.529  20.598  27.150  1.00 64.46           C  
ATOM   6312  CG2 VAL E 511     -32.769  19.335  25.363  1.00 65.52           C  
ATOM   6313  N   VAL E 512     -30.099  23.182  25.629  1.00 67.22           N  
ATOM   6314  CA  VAL E 512     -29.000  23.972  26.174  1.00 69.40           C  
ATOM   6315  C   VAL E 512     -29.192  24.116  27.684  1.00 73.80           C  
ATOM   6316  O   VAL E 512     -30.256  24.548  28.143  1.00 69.02           O  
ATOM   6317  CB  VAL E 512     -28.922  25.349  25.498  1.00 67.69           C  
ATOM   6318  CG1 VAL E 512     -27.879  26.208  26.189  1.00 68.46           C  
ATOM   6319  CG2 VAL E 512     -28.614  25.186  24.007  1.00 66.50           C  
ATOM   6320  N   LEU E 513     -28.163  23.764  28.454  1.00 71.32           N  
ATOM   6321  CA  LEU E 513     -28.190  23.854  29.911  1.00 70.18           C  
ATOM   6322  C   LEU E 513     -27.325  25.025  30.353  1.00 76.76           C  
ATOM   6323  O   LEU E 513     -26.113  25.017  30.127  1.00 75.91           O  
ATOM   6324  CB  LEU E 513     -27.684  22.565  30.550  1.00 71.17           C  
ATOM   6325  CG  LEU E 513     -28.471  21.284  30.302  1.00 69.66           C  
ATOM   6326  CD1 LEU E 513     -27.837  20.121  31.042  1.00 71.59           C  
ATOM   6327  CD2 LEU E 513     -29.922  21.470  30.715  1.00 70.18           C  
ATOM   6328  N   SER E 514     -27.940  26.028  30.974  1.00 74.60           N  
ATOM   6329  CA  SER E 514     -27.206  27.144  31.558  1.00 77.38           C  
ATOM   6330  C   SER E 514     -27.114  26.953  33.066  1.00 86.54           C  
ATOM   6331  O   SER E 514     -28.115  26.637  33.725  1.00 84.29           O  
ATOM   6332  CB  SER E 514     -27.863  28.484  31.235  1.00 77.87           C  
ATOM   6333  OG  SER E 514     -27.732  28.788  29.856  1.00 81.08           O  
ATOM   6334  N   PHE E 515     -25.911  27.129  33.602  1.00 86.77           N  
ATOM   6335  CA  PHE E 515     -25.648  27.009  35.028  1.00 90.05           C  
ATOM   6336  C   PHE E 515     -25.282  28.379  35.579  1.00 90.52           C  
ATOM   6337  O   PHE E 515     -24.381  29.038  35.050  1.00 93.81           O  
ATOM   6338  CB  PHE E 515     -24.514  26.022  35.284  1.00 88.12           C  
ATOM   6339  CG  PHE E 515     -24.717  24.675  34.661  1.00 85.86           C  
ATOM   6340  CD1 PHE E 515     -25.569  23.746  35.244  1.00 91.23           C  
ATOM   6341  CD2 PHE E 515     -24.022  24.315  33.517  1.00 83.37           C  
ATOM   6342  CE1 PHE E 515     -25.746  22.482  34.680  1.00 89.82           C  
ATOM   6343  CE2 PHE E 515     -24.189  23.054  32.949  1.00 83.91           C  
ATOM   6344  CZ  PHE E 515     -25.051  22.135  33.533  1.00 85.36           C  
ATOM   6345  N   GLU E 516     -25.975  28.814  36.633  1.00 92.92           N  
ATOM   6346  CA  GLU E 516     -25.724  30.131  37.203  1.00100.73           C  
ATOM   6347  C   GLU E 516     -25.422  30.025  38.695  1.00105.92           C  
ATOM   6348  O   GLU E 516     -25.914  29.127  39.392  1.00 99.32           O  
ATOM   6349  CB  GLU E 516     -26.908  31.103  36.959  1.00 98.36           C  
ATOM   6350  CG  GLU E 516     -28.150  30.884  37.822  1.00 99.04           C  
ATOM   6351  CD  GLU E 516     -29.173  32.010  37.668  1.00 99.24           C  
ATOM   6352  OE1 GLU E 516     -28.974  32.885  36.798  1.00100.47           O  
ATOM   6353  OE2 GLU E 516     -30.173  32.030  38.420  1.00 99.69           O  
ATOM   6354  N   LEU E 517     -24.583  30.955  39.165  1.00110.80           N  
ATOM   6355  CA  LEU E 517     -24.205  31.093  40.568  1.00109.33           C  
ATOM   6356  C   LEU E 517     -24.565  32.495  41.045  1.00109.10           C  
ATOM   6357  O   LEU E 517     -24.289  33.480  40.353  1.00112.76           O  
ATOM   6358  CB  LEU E 517     -22.707  30.837  40.769  1.00106.69           C  
ATOM   6359  CG  LEU E 517     -22.174  29.410  40.651  1.00103.04           C  
ATOM   6360  CD1 LEU E 517     -20.657  29.439  40.736  1.00102.05           C  
ATOM   6361  CD2 LEU E 517     -22.767  28.503  41.733  1.00103.41           C  
ATOM   6362  N   LEU E 518     -25.179  32.585  42.218  1.00111.34           N  
ATOM   6363  CA  LEU E 518     -25.621  33.865  42.767  1.00120.35           C  
ATOM   6364  C   LEU E 518     -25.278  33.881  44.254  1.00124.00           C  
ATOM   6365  O   LEU E 518     -24.437  33.111  44.732  1.00121.30           O  
ATOM   6366  CB  LEU E 518     -27.123  34.087  42.512  1.00117.39           C  
ATOM   6367  CG  LEU E 518     -27.637  34.088  41.072  1.00109.94           C  
ATOM   6368  CD1 LEU E 518     -29.153  34.022  41.066  1.00104.33           C  
ATOM   6369  CD2 LEU E 518     -27.143  35.313  40.323  1.00106.70           C  
ATOM   6370  N   HIS E 519     -25.943  34.762  45.000  1.00126.44           N  
ATOM   6371  CA  HIS E 519     -25.764  34.853  46.442  1.00126.60           C  
ATOM   6372  C   HIS E 519     -26.719  33.952  47.218  1.00126.75           C  
ATOM   6373  O   HIS E 519     -26.488  33.717  48.409  1.00130.16           O  
ATOM   6374  CB  HIS E 519     -25.933  36.309  46.901  1.00125.58           C  
ATOM   6375  CG  HIS E 519     -25.002  37.269  46.221  1.00132.88           C  
ATOM   6376  ND1 HIS E 519     -23.836  36.867  45.604  1.00134.27           N  
ATOM   6377  CD2 HIS E 519     -25.069  38.613  46.058  1.00132.30           C  
ATOM   6378  CE1 HIS E 519     -23.223  37.920  45.092  1.00128.66           C  
ATOM   6379  NE2 HIS E 519     -23.951  38.992  45.353  1.00131.25           N  
ATOM   6380  N   ALA E 520     -27.772  33.440  46.575  1.00124.32           N  
ATOM   6381  CA  ALA E 520     -28.749  32.565  47.210  1.00122.65           C  
ATOM   6382  C   ALA E 520     -28.248  31.119  47.240  1.00121.15           C  
ATOM   6383  O   ALA E 520     -27.354  30.746  46.473  1.00115.33           O  
ATOM   6384  CB  ALA E 520     -30.082  32.656  46.468  1.00118.35           C  
ATOM   6385  N   PRO E 521     -28.804  30.283  48.129  1.00125.35           N  
ATOM   6386  CA  PRO E 521     -28.314  28.900  48.251  1.00122.73           C  
ATOM   6387  C   PRO E 521     -28.448  28.104  46.958  1.00115.53           C  
ATOM   6388  O   PRO E 521     -29.351  28.325  46.146  1.00112.73           O  
ATOM   6389  CB  PRO E 521     -29.189  28.305  49.366  1.00120.33           C  
ATOM   6390  CG  PRO E 521     -30.355  29.243  49.510  1.00119.22           C  
ATOM   6391  CD  PRO E 521     -29.805  30.593  49.166  1.00123.76           C  
ATOM   6392  N   ALA E 522     -27.533  27.150  46.791  1.00110.06           N  
ATOM   6393  CA  ALA E 522     -27.404  26.365  45.565  1.00107.81           C  
ATOM   6394  C   ALA E 522     -28.387  25.201  45.606  1.00106.60           C  
ATOM   6395  O   ALA E 522     -28.126  24.170  46.229  1.00106.91           O  
ATOM   6396  CB  ALA E 522     -25.969  25.877  45.400  1.00101.79           C  
ATOM   6397  N   THR E 523     -29.509  25.352  44.903  1.00106.87           N  
ATOM   6398  CA  THR E 523     -30.629  24.422  44.980  1.00104.70           C  
ATOM   6399  C   THR E 523     -30.553  23.282  43.966  1.00102.63           C  
ATOM   6400  O   THR E 523     -31.479  22.463  43.914  1.00 98.50           O  
ATOM   6401  CB  THR E 523     -31.950  25.181  44.792  1.00105.42           C  
ATOM   6402  OG1 THR E 523     -32.097  25.555  43.414  1.00108.43           O  
ATOM   6403  CG2 THR E 523     -31.972  26.441  45.659  1.00102.00           C  
ATOM   6404  N   VAL E 524     -29.496  23.211  43.156  1.00101.18           N  
ATOM   6405  CA  VAL E 524     -29.306  22.126  42.195  1.00105.19           C  
ATOM   6406  C   VAL E 524     -27.956  21.482  42.480  1.00107.63           C  
ATOM   6407  O   VAL E 524     -26.920  22.153  42.402  1.00105.87           O  
ATOM   6408  CB  VAL E 524     -29.373  22.617  40.737  1.00103.16           C  
ATOM   6409  CG1 VAL E 524     -29.416  21.429  39.780  1.00 94.95           C  
ATOM   6410  CG2 VAL E 524     -30.573  23.535  40.518  1.00 97.46           C  
ATOM   6411  N   CYS E 525     -27.968  20.184  42.803  1.00107.76           N  
ATOM   6412  CA  CYS E 525     -26.756  19.419  43.086  1.00108.02           C  
ATOM   6413  C   CYS E 525     -26.880  18.041  42.436  1.00109.01           C  
ATOM   6414  O   CYS E 525     -27.851  17.753  41.728  1.00108.91           O  
ATOM   6415  CB  CYS E 525     -26.510  19.303  44.598  1.00108.48           C  
ATOM   6416  SG  CYS E 525     -26.386  20.880  45.526  1.00120.06           S  
ATOM   6417  N   GLY E 526     -25.892  17.179  42.683  1.00108.58           N  
ATOM   6418  CA  GLY E 526     -25.867  15.855  42.077  1.00102.12           C  
ATOM   6419  C   GLY E 526     -25.401  14.718  42.971  1.00103.10           C  
ATOM   6420  O   GLY E 526     -25.316  13.565  42.534  1.00 96.35           O  
TER    6421      GLY E 526                                                      
HETATM 6422 ZN    ZN A 901     -24.742  12.214 -18.297  1.00 95.15          ZN  
HETATM 6423 CL    CL A 902     -30.876  14.861 -42.367  1.00 52.32          CL  
HETATM 6424  C1  NAG A 903      -5.628   1.339  -5.562  1.00 81.42           C  
HETATM 6425  C2  NAG A 903      -5.372   0.224  -6.561  1.00 92.23           C  
HETATM 6426  C3  NAG A 903      -5.905  -1.095  -6.022  1.00 93.48           C  
HETATM 6427  C4  NAG A 903      -5.225  -1.405  -4.693  1.00 93.23           C  
HETATM 6428  C5  NAG A 903      -5.392  -0.236  -3.711  1.00 95.80           C  
HETATM 6429  C6  NAG A 903      -4.553  -0.396  -2.460  1.00 95.35           C  
HETATM 6430  C7  NAG A 903      -5.137   0.883  -8.884  1.00 86.76           C  
HETATM 6431  C8  NAG A 903      -5.823   1.169 -10.192  1.00 80.41           C  
HETATM 6432  N2  NAG A 903      -5.926   0.524  -7.870  1.00 89.72           N  
HETATM 6433  O3  NAG A 903      -5.662  -2.133  -6.968  1.00 85.17           O  
HETATM 6434  O4  NAG A 903      -5.742  -2.606  -4.127  1.00 91.83           O  
HETATM 6435  O5  NAG A 903      -4.991   1.014  -4.308  1.00 89.05           O  
HETATM 6436  O6  NAG A 903      -3.161  -0.400  -2.750  1.00 95.19           O  
HETATM 6437  O7  NAG A 903      -3.918   0.977  -8.748  1.00 82.88           O  
HETATM 6438  C1  NAG A 904     -21.064  39.486  -2.094  1.00 79.01           C  
HETATM 6439  C2  NAG A 904     -19.746  39.639  -1.315  1.00 81.73           C  
HETATM 6440  C3  NAG A 904     -19.526  38.436  -0.398  1.00 83.45           C  
HETATM 6441  C4  NAG A 904     -20.706  38.280   0.548  1.00 85.57           C  
HETATM 6442  C5  NAG A 904     -21.978  38.093  -0.272  1.00 89.24           C  
HETATM 6443  C6  NAG A 904     -23.221  38.070   0.588  1.00 87.53           C  
HETATM 6444  C7  NAG A 904     -18.281  40.943  -2.818  1.00 90.38           C  
HETATM 6445  C8  NAG A 904     -17.082  40.889  -3.716  1.00 86.93           C  
HETATM 6446  N2  NAG A 904     -18.617  39.792  -2.222  1.00 93.40           N  
HETATM 6447  O3  NAG A 904     -18.312  38.592   0.330  1.00 91.98           O  
HETATM 6448  O4  NAG A 904     -20.521  37.182   1.438  1.00 83.19           O  
HETATM 6449  O5  NAG A 904     -22.146  39.196  -1.179  1.00 87.22           O  
HETATM 6450  O6  NAG A 904     -23.937  39.293   0.472  1.00 81.79           O  
HETATM 6451  O7  NAG A 904     -18.916  41.978  -2.645  1.00 91.66           O  
HETATM 6452  C1  NAG A 905     -18.337   7.636   4.451  1.00 88.36           C  
HETATM 6453  C2  NAG A 905     -19.099   6.753   5.437  1.00 95.89           C  
HETATM 6454  C3  NAG A 905     -18.964   7.304   6.860  1.00103.06           C  
HETATM 6455  C4  NAG A 905     -17.494   7.458   7.230  1.00104.37           C  
HETATM 6456  C5  NAG A 905     -16.783   8.332   6.197  1.00101.86           C  
HETATM 6457  C6  NAG A 905     -15.292   8.470   6.440  1.00 99.04           C  
HETATM 6458  C7  NAG A 905     -21.092   5.464   4.803  1.00100.30           C  
HETATM 6459  C8  NAG A 905     -22.538   5.532   4.392  1.00 91.41           C  
HETATM 6460  N2  NAG A 905     -20.497   6.638   5.052  1.00 93.09           N  
HETATM 6461  O3  NAG A 905     -19.607   6.434   7.788  1.00101.20           O  
HETATM 6462  O4  NAG A 905     -17.372   8.036   8.526  1.00112.52           O  
HETATM 6463  O5  NAG A 905     -16.950   7.771   4.882  1.00103.02           O  
HETATM 6464  O6  NAG A 905     -14.724   7.315   7.044  1.00104.53           O  
HETATM 6465  O7  NAG A 905     -20.492   4.392   4.910  1.00100.78           O  
HETATM 6466  C1  NAG A 906     -47.218   3.389  -6.952  1.00 93.87           C  
HETATM 6467  C2  NAG A 906     -46.965   3.009  -5.477  1.00 95.80           C  
HETATM 6468  C3  NAG A 906     -48.282   2.734  -4.740  1.00104.67           C  
HETATM 6469  C4  NAG A 906     -49.256   3.890  -4.921  1.00103.40           C  
HETATM 6470  C5  NAG A 906     -49.487   4.105  -6.408  1.00 99.45           C  
HETATM 6471  C6  NAG A 906     -50.444   5.238  -6.703  1.00 94.63           C  
HETATM 6472  C7  NAG A 906     -45.003   1.818  -4.598  1.00 96.86           C  
HETATM 6473  C8  NAG A 906     -44.218   0.542  -4.624  1.00 93.39           C  
HETATM 6474  N2  NAG A 906     -46.085   1.855  -5.384  1.00 95.12           N  
HETATM 6475  O3  NAG A 906     -48.015   2.531  -3.356  1.00 99.61           O  
HETATM 6476  O4  NAG A 906     -50.497   3.620  -4.277  1.00105.54           O  
HETATM 6477  O5  NAG A 906     -48.235   4.433  -7.028  1.00 94.13           O  
HETATM 6478  O6  NAG A 906     -49.880   6.200  -7.584  1.00 94.61           O  
HETATM 6479  O7  NAG A 906     -44.670   2.774  -3.902  1.00103.84           O  
HETATM 6480  C1  NAG E 601     -36.265   9.503  27.832  1.00 97.09           C  
HETATM 6481  C2  NAG E 601     -35.565   9.458  29.202  1.00 98.18           C  
HETATM 6482  C3  NAG E 601     -34.604   8.269  29.280  1.00102.97           C  
HETATM 6483  C4  NAG E 601     -35.319   6.972  28.929  1.00110.11           C  
HETATM 6484  C5  NAG E 601     -35.962   7.103  27.553  1.00108.79           C  
HETATM 6485  C6  NAG E 601     -36.766   5.885  27.159  1.00111.10           C  
HETATM 6486  C7  NAG E 601     -34.653  11.173  30.698  1.00 95.63           C  
HETATM 6487  C8  NAG E 601     -33.883  12.460  30.792  1.00 87.46           C  
HETATM 6488  N2  NAG E 601     -34.854  10.698  29.465  1.00 94.05           N  
HETATM 6489  O3  NAG E 601     -34.058   8.184  30.592  1.00 94.97           O  
HETATM 6490  O4  NAG E 601     -34.406   5.877  28.928  1.00112.41           O  
HETATM 6491  O5  NAG E 601     -36.868   8.218  27.549  1.00104.09           O  
HETATM 6492  O6  NAG E 601     -37.589   5.433  28.227  1.00107.96           O  
HETATM 6493  O7  NAG E 601     -35.078  10.592  31.693  1.00100.69           O  
HETATM 6494  O   HOH A1001     -41.988  17.825 -53.288  1.00 64.32           O  
HETATM 6495  O   HOH A1002     -25.963  23.857 -26.732  1.00 53.02           O  
HETATM 6496  O   HOH A1003     -42.305   8.602 -33.842  1.00 56.65           O  
HETATM 6497  O   HOH A1004     -27.829  15.936 -11.401  1.00 53.00           O  
HETATM 6498  O   HOH A1005     -34.901  10.598 -30.978  1.00 54.11           O  
HETATM 6499  O   HOH A1006     -28.745  12.173  -0.294  1.00 53.52           O  
HETATM 6500  O   HOH A1007      -3.961   7.815 -26.371  1.00 53.63           O  
HETATM 6501  O   HOH A1008     -31.196  55.095   4.137  1.00 71.37           O  
HETATM 6502  O   HOH A1009     -40.376  10.106 -50.865  1.00 63.78           O  
HETATM 6503  O   HOH A1010      -7.813  29.158 -11.880  1.00 64.89           O  
HETATM 6504  O   HOH A1011     -25.568   4.973 -53.610  1.00 57.39           O  
HETATM 6505  O   HOH A1012     -34.586  24.032 -33.242  1.00 48.29           O  
HETATM 6506  O   HOH A1013     -26.478  36.450 -22.246  1.00 57.25           O  
HETATM 6507  O   HOH A1014      -9.853  18.761 -26.358  1.00 46.93           O  
HETATM 6508  O   HOH A1015     -49.594  39.831 -30.107  1.00 57.16           O  
HETATM 6509  O   HOH A1016     -23.927   4.546 -35.359  1.00 51.05           O  
HETATM 6510  O   HOH A1017     -27.799  20.091  -9.531  1.00 59.31           O  
HETATM 6511  O   HOH A1018     -20.582  13.443 -53.091  1.00 51.80           O  
HETATM 6512  O   HOH A1019     -18.138  24.261 -11.830  1.00 52.33           O  
HETATM 6513  O   HOH A1020     -27.510  33.135 -34.943  1.00 53.19           O  
HETATM 6514  O   HOH A1021     -21.354  31.953 -19.065  1.00 54.40           O  
HETATM 6515  O   HOH A1022     -39.862  29.657 -25.756  1.00 62.29           O  
HETATM 6516  O   HOH A1023     -28.170   8.587 -32.462  1.00 47.95           O  
HETATM 6517  O   HOH A1024     -29.593  31.629  -5.502  1.00 60.83           O  
HETATM 6518  O   HOH A1025     -38.949  37.142 -36.247  1.00 59.69           O  
HETATM 6519  O   HOH A1026     -42.436  24.659 -47.957  1.00 61.77           O  
HETATM 6520  O   HOH A1027     -31.364   6.422 -34.931  1.00 52.05           O  
HETATM 6521  O   HOH A1028     -41.792  32.593 -42.267  1.00 58.56           O  
HETATM 6522  O   HOH A1029     -27.474   6.523 -41.589  1.00 49.77           O  
HETATM 6523  O   HOH A1030     -28.163  12.280 -15.537  1.00 58.79           O  
HETATM 6524  O   HOH A1031     -37.477  -2.432 -36.981  1.00 57.68           O  
HETATM 6525  O   HOH A1032     -23.873  15.039 -31.114  1.00 48.10           O  
HETATM 6526  O   HOH A1033     -23.693  18.873 -19.478  1.00 52.29           O  
HETATM 6527  O   HOH A1034     -18.064  28.487 -11.749  1.00 55.23           O  
HETATM 6528  O   HOH A1035     -40.777  14.886 -29.015  1.00 59.84           O  
HETATM 6529  O   HOH A1036      -2.150   9.396 -27.064  1.00 51.03           O  
HETATM 6530  O   HOH A1037     -17.478  10.422 -25.104  1.00 55.37           O  
HETATM 6531  O   HOH A1038     -39.568  31.579 -40.941  1.00 59.11           O  
HETATM 6532  O   HOH A1039     -31.441  17.572 -52.045  1.00 58.06           O  
HETATM 6533  O   HOH A1040     -21.202  -2.552 -35.457  1.00 53.03           O  
HETATM 6534  O   HOH A1041     -46.177  11.081 -27.498  1.00 60.72           O  
HETATM 6535  O   HOH A1042     -37.712  16.624 -53.303  1.00 60.55           O  
HETATM 6536  O   HOH A1043     -27.625  -3.910 -49.364  1.00 52.46           O  
HETATM 6537  O   HOH A1044     -18.036   1.984  -1.726  1.00 54.71           O  
HETATM 6538  O   HOH A1045     -31.206  -3.908 -50.935  1.00 57.76           O  
HETATM 6539  O   HOH A1046      -5.676  19.725 -20.599  1.00 55.03           O  
HETATM 6540  O   HOH A1047     -41.552  27.137 -47.586  1.00 55.34           O  
HETATM 6541  O   HOH A1048     -15.708  -3.625 -45.040  1.00 51.35           O  
HETATM 6542  O   HOH A1049      -4.597  19.788 -36.370  1.00 59.47           O  
HETATM 6543  O   HOH A1050     -19.740  31.213 -16.945  1.00 50.62           O  
HETATM 6544  O   HOH A1051     -12.426  11.522 -46.869  1.00 50.90           O  
HETATM 6545  O   HOH A1052     -14.859  19.514 -42.787  1.00 54.48           O  
HETATM 6546  O   HOH A1053     -13.762   0.422  -7.862  1.00 53.87           O  
HETATM 6547  O   HOH A1054     -40.775  21.420 -29.137  1.00 60.27           O  
HETATM 6548  O   HOH A1055     -25.998  27.443 -29.854  1.00 53.48           O  
HETATM 6549  O   HOH A1056     -36.967  36.085 -38.231  1.00 61.18           O  
HETATM 6550  O   HOH A1057     -30.183   3.844 -34.693  1.00 54.55           O  
HETATM 6551  O   HOH A1058      -7.642  24.607 -30.022  1.00 61.36           O  
HETATM 6552  O   HOH A1059     -24.775  10.710  -2.578  1.00 53.40           O  
HETATM 6553  O   HOH A1060      -6.245  21.990 -22.071  1.00 55.52           O  
HETATM 6554  O   HOH A1061     -25.359  27.394 -27.192  1.00 53.46           O  
HETATM 6555  O   HOH A1062     -41.150   7.555 -31.848  1.00 63.24           O  
HETATM 6556  O   HOH A1063     -40.464  21.569 -26.508  1.00 64.40           O  
HETATM 6557  O   HOH A1064      -4.110  23.358 -22.339  1.00 68.10           O  
HETATM 6558  O   HOH A1065     -40.205  30.861 -49.346  1.00 62.38           O  
HETATM 6559  O   HOH A1066     -40.132  28.261 -49.223  1.00 64.23           O  
HETATM 6560  O   HOH A1067     -30.690   7.025 -32.430  1.00 60.22           O  
HETATM 6561  O   HOH A1068     -16.111   3.276  -0.747  1.00 61.53           O  
HETATM 6562  O   HOH A1069     -38.928  -3.115 -35.004  1.00 66.73           O  
HETATM 6563  O   HOH A1070     -38.697  -3.747 -39.071  1.00 57.13           O  
HETATM 6564  O   HOH A1071     -37.489  33.686 -40.631  1.00 74.27           O  
HETATM 6565  O   HOH E 701     -36.386  35.226  16.325  1.00 60.52           O  
HETATM 6566  O   HOH E 702     -35.994  34.423  19.290  1.00 64.55           O  
HETATM 6567  O   HOH E 703     -37.707  25.648  14.678  1.00 52.96           O  
HETATM 6568  O   HOH E 704     -47.972  39.014  11.203  1.00 57.75           O  
HETATM 6569  O   HOH E 705     -43.606  23.520  18.207  1.00 54.61           O  
HETATM 6570  O   HOH E 706     -42.572  28.558  21.810  1.00 54.80           O  
HETATM 6571  O   HOH E 707     -42.600  27.029  19.519  1.00 58.30           O  
HETATM 6572  O   HOH E 708     -45.291  30.065  18.159  1.00 51.05           O  
HETATM 6573  O   HOH E 709     -44.956  27.364  17.955  1.00 52.40           O  
CONECT  293 6466                                                                
CONECT  592 6438                                                                
CONECT  919  981                                                                
CONECT  981  919                                                                
CONECT 2491 6452                                                                
CONECT 2660 2796                                                                
CONECT 2796 2660                                                                
CONECT 2901 6422                                                                
CONECT 2932 6422                                                                
CONECT 3125 6422                                                                
CONECT 4193 4284                                                                
CONECT 4284 4193                                                                
CONECT 4314 6424                                                                
CONECT 4907 5114                                                                
CONECT 4964 6480                                                                
CONECT 5114 4907                                                                
CONECT 5254 5667                                                                
CONECT 5344 6416                                                                
CONECT 5667 5254                                                                
CONECT 6058 6115                                                                
CONECT 6115 6058                                                                
CONECT 6416 5344                                                                
CONECT 6422 2901 2932 3125                                                      
CONECT 6424 4314 6425 6435                                                      
CONECT 6425 6424 6426 6432                                                      
CONECT 6426 6425 6427 6433                                                      
CONECT 6427 6426 6428 6434                                                      
CONECT 6428 6427 6429 6435                                                      
CONECT 6429 6428 6436                                                           
CONECT 6430 6431 6432 6437                                                      
CONECT 6431 6430                                                                
CONECT 6432 6425 6430                                                           
CONECT 6433 6426                                                                
CONECT 6434 6427                                                                
CONECT 6435 6424 6428                                                           
CONECT 6436 6429                                                                
CONECT 6437 6430                                                                
CONECT 6438  592 6439 6449                                                      
CONECT 6439 6438 6440 6446                                                      
CONECT 6440 6439 6441 6447                                                      
CONECT 6441 6440 6442 6448                                                      
CONECT 6442 6441 6443 6449                                                      
CONECT 6443 6442 6450                                                           
CONECT 6444 6445 6446 6451                                                      
CONECT 6445 6444                                                                
CONECT 6446 6439 6444                                                           
CONECT 6447 6440                                                                
CONECT 6448 6441                                                                
CONECT 6449 6438 6442                                                           
CONECT 6450 6443                                                                
CONECT 6451 6444                                                                
CONECT 6452 2491 6453 6463                                                      
CONECT 6453 6452 6454 6460                                                      
CONECT 6454 6453 6455 6461                                                      
CONECT 6455 6454 6456 6462                                                      
CONECT 6456 6455 6457 6463                                                      
CONECT 6457 6456 6464                                                           
CONECT 6458 6459 6460 6465                                                      
CONECT 6459 6458                                                                
CONECT 6460 6453 6458                                                           
CONECT 6461 6454                                                                
CONECT 6462 6455                                                                
CONECT 6463 6452 6456                                                           
CONECT 6464 6457                                                                
CONECT 6465 6458                                                                
CONECT 6466  293 6467 6477                                                      
CONECT 6467 6466 6468 6474                                                      
CONECT 6468 6467 6469 6475                                                      
CONECT 6469 6468 6470 6476                                                      
CONECT 6470 6469 6471 6477                                                      
CONECT 6471 6470 6478                                                           
CONECT 6472 6473 6474 6479                                                      
CONECT 6473 6472                                                                
CONECT 6474 6467 6472                                                           
CONECT 6475 6468                                                                
CONECT 6476 6469                                                                
CONECT 6477 6466 6470                                                           
CONECT 6478 6471                                                                
CONECT 6479 6472                                                                
CONECT 6480 4964 6481 6491                                                      
CONECT 6481 6480 6482 6488                                                      
CONECT 6482 6481 6483 6489                                                      
CONECT 6483 6482 6484 6490                                                      
CONECT 6484 6483 6485 6491                                                      
CONECT 6485 6484 6492                                                           
CONECT 6486 6487 6488 6493                                                      
CONECT 6487 6486                                                                
CONECT 6488 6481 6486                                                           
CONECT 6489 6482                                                                
CONECT 6490 6483                                                                
CONECT 6491 6480 6484                                                           
CONECT 6492 6485                                                                
CONECT 6493 6486                                                                
MASTER      308    0    7   42   17    0    0    6 6558    2   93   65          
END                                                                             
`,dataChains:["E"],excludeChains:["none"],filter_cols:null,tooltip_cols:null}};let ni;ore().then(e=>{ni=new are(e),cre(),pre(),Are(),lre(),ure()});async function ore(){const t=new URLSearchParams(window.location.search).get("data");if(t)try{const n=await fetch(t);return n.ok?await n.json():(alert(`HTTP error! status: ${n.status}`),b2)}catch(n){return alert(`Fetch operation failed: ${n.message}`),b2}else return b2}function cre(){Rt("#local-json-file").on("change",function(){const e=document.getElementById("local-json-file");if(e.files.length===0){alert("Please select a JSON file to upload.");return}const t=e.files[0];if(t.type!=="application/json"){alert("Please select a valid JSON file.");return}const n=new FileReader;n.onload=function(){const i=JSON.parse(n.result);ni.data=i,ni.initTool()},n.readAsText(t),window.history.replaceState({},"",`${location.pathname}`),document.getElementById("url-json-file").value=""}),Rt("#url-json-file").on("keyup",async function(e){if(e.key==="Enter"){if(!this.value){alert("Please enter a URL.");return}try{new URL(this.value)}catch{alert("Please enter a valid URL.");return}try{const t=await fetch(this.value);if(!t.ok){alert(`There was an error fetching data from the URL. HTTP Status: ${t.status}`);return}const n=await t.json(),i=new URLSearchParams;i.set("data",this.value),window.history.replaceState({},"",`${location.pathname}?${i}`),ni.data=n,ni.initTool(),document.getElementById("local-json-file").value=""}catch(t){alert(`Fetch operation failed: ${t.message}`)}}})}function pre(){Rt("#dataset").on("change",function(){ni.updateSelectedDataset(this);let e=document.getElementById("chart-btn");if(e.classList.contains("is-open")){let t=e.nextElementSibling;t.style.maxHeight=t.scrollHeight+"px"}}),window.addEventListener("proteinConditionSelected",function(e){ni.updateProteinCondition(e.detail)}),window.addEventListener("chartConditionsSelected",function(e){ni.updateChartConditions(e.detail)}),Rt("#summary").on("change",function(){ni.updateChartOptions(this)}),Rt("#floor").on("change",function(){ni.updateChartOptions(this)})}function Are(){Rt("#proteinRepresentation").on("change",function(){ni.updateProteinOptions(this)}),Rt("#selectionRepresentation").on("change",function(){ni.updateProteinOptions(this)}),Rt("#backgroundRepresentation").on("change",function(){ni.updateProteinOptions(this)}),Rt("#ligandRepresentation").on("change",function(){ni.updateProteinOptions(this)}),Rt("#proteinColor").on("change",function(){ni.updateProteinOptions(this)}),Rt("#backgroundColor").on("change",function(){ni.updateProteinOptions(this)}),Rt("#ligandColor").on("change",function(){ni.updateProteinOptions(this)}),Rt("#backgroundOpacity").on("input",function(){ni.updateProteinOptions(this)}),Rt("#proteinOpacity").on("input",function(){ni.updateProteinOptions(this)}),Rt("#selectionOpacity").on("input",function(){ni.updateProteinOptions(this)}),Rt("#showGlycans").on("change",function(){ni.updateProteinOptions(this)})}function lre(){Rt("#downloadProtein").on("click",function(){ni.protein.saveImage()}),Rt("#downloadPlot").on("click",function(){ni.chart.saveImage()})}function ure(){window.addEventListener("resize",function(){ni.chart.resize(),ni.protein.resize()})}
