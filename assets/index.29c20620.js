(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const Bw=document.querySelector(".modal"),zE=document.querySelector(".trigger"),HE=document.querySelector(".close-button"),UE=document.querySelectorAll(".accordion"),Vw=document.getElementById("sidebar"),qw=document.getElementById("sidebar-toggle"),WE=document.getElementById("header"),jE=document.getElementById("main");function o_(){Bw.classList.toggle("show-modal")}function $E(e){e.target===Bw&&o_()}function c_(){Vw.classList.toggle("sidebar--collapsed"),qw.classList.toggle("bx-x"),WE.classList.toggle("body-pad"),jE.classList.toggle("body-pad")}function KE(e){if(Vw.classList.contains("sidebar--collapsed"))c_(),setTimeout(()=>{window.dispatchEvent(new Event("resize")),e.classList.toggle("is-open");let t=e.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"},500);else{e.classList.toggle("is-open");let t=e.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}}zE.addEventListener("click",o_);HE.addEventListener("click",o_);window.addEventListener("click",$E);UE.forEach(e=>{e.onclick=function(){KE(this)}});qw.addEventListener("click",()=>{c_(),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},500),document.querySelectorAll(".accordion").forEach(t=>{t.classList.remove("is-open");let i=t.nextElementSibling;i.style.maxHeight=null})});window.addEventListener("load",()=>{window.matchMedia("(max-width: 1000px)").matches&&c_()});function fl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YE(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zw(e){let t,i,n;e.length!==2?(t=fl,i=(o,c)=>fl(e(o),c),n=(o,c)=>e(o)-c):(t=e===fl||e===YE?e:JE,i=e,n=e);function s(o,c,p=0,f=o.length){if(p<f){if(t(c,c)!==0)return f;do{const l=p+f>>>1;i(o[l],c)<0?p=l+1:f=l}while(p<f)}return p}function r(o,c,p=0,f=o.length){if(p<f){if(t(c,c)!==0)return f;do{const l=p+f>>>1;i(o[l],c)<=0?p=l+1:f=l}while(p<f)}return p}function a(o,c,p=0,f=o.length){const l=s(o,c,p,f-1);return l>p&&n(o[l-1],c)>-n(o[l],c)?l-1:l}return{left:s,center:a,right:r}}function JE(){return 0}function QE(e){return e===null?NaN:+e}const XE=zw(fl),ZE=XE.right;zw(QE).center;const e5=ZE;function Ho(e,t){let i,n;if(t===void 0)for(const s of e)s!=null&&(i===void 0?s>=s&&(i=n=s):(i>s&&(i=s),n<s&&(n=s)));else{let s=-1;for(let r of e)(r=t(r,++s,e))!=null&&(i===void 0?r>=r&&(i=n=r):(i>r&&(i=r),n<r&&(n=r)))}return[i,n]}class yd extends Map{constructor(t,i=n5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(r3(this,t))}has(t){return super.has(r3(this,t))}set(t,i){return super.set(t5(this,t),i)}delete(t){return super.delete(i5(this,t))}}function r3({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):i}function t5({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function i5({_intern:e,_key:t},i){const n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function n5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function s5(e){return e}function r5(e,t,...i){return a5(e,s5,t,i)}function a5(e,t,i,n){return function s(r,a){if(a>=n.length)return i(r);const o=new yd,c=n[a++];let p=-1;for(const f of r){const l=c(f,++p,r),u=o.get(l);u?u.push(f):o.set(l,[f])}for(const[f,l]of o)o.set(f,s(l,a));return t(o)}(e,0)}var gd=Math.sqrt(50),wd=Math.sqrt(10),Ed=Math.sqrt(2);function o5(e,t,i){var n,s=-1,r,a,o;if(t=+t,e=+e,i=+i,e===t&&i>0)return[e];if((n=t<e)&&(r=e,e=t,t=r),(o=Hw(e,t,i))===0||!isFinite(o))return[];if(o>0){let c=Math.round(e/o),p=Math.round(t/o);for(c*o<e&&++c,p*o>t&&--p,a=new Array(r=p-c+1);++s<r;)a[s]=(c+s)*o}else{o=-o;let c=Math.round(e*o),p=Math.round(t*o);for(c/o<e&&++c,p/o>t&&--p,a=new Array(r=p-c+1);++s<r;)a[s]=(c+s)/o}return n&&a.reverse(),a}function Hw(e,t,i){var n=(t-e)/Math.max(0,i),s=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,s);return s>=0?(r>=gd?10:r>=wd?5:r>=Ed?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(r>=gd?10:r>=wd?5:r>=Ed?2:1)}function c5(e,t,i){var n=Math.abs(t-e)/Math.max(0,i),s=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),r=n/s;return r>=gd?s*=10:r>=wd?s*=5:r>=Ed&&(s*=2),t<e?-s:s}function mr(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}return i}function p5(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let s of e)(s=t(s,++n,e))!=null&&(i>s||i===void 0&&s>=s)&&(i=s)}return i}function f5(e,t){let i=0,n=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(++i,n+=s);else{let s=-1;for(let r of e)(r=t(r,++s,e))!=null&&(r=+r)>=r&&(++i,n+=r)}if(i)return n/i}function l5(e,t,i){e=+e,t=+t,i=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+i;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/i))|0,r=new Array(s);++n<s;)r[n]=e+n*i;return r}function u5(e,t){let i=0;if(t===void 0)for(let n of e)(n=+n)&&(i+=n);else{let n=-1;for(let s of e)(s=+t(s,++n,e))&&(i+=s)}return i}function m5(e){return e}var g1=1,ll=2,vd=3,vp=4,a3=1e-6;function d5(e){return"translate("+e+",0)"}function h5(e){return"translate(0,"+e+")"}function _5(e){return t=>+e(t)}function y5(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),i=>+e(i)+t}function g5(){return!this.__axis}function p_(e,t){var i=[],n=null,s=null,r=6,a=6,o=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,p=e===g1||e===vp?-1:1,f=e===vp||e===ll?"x":"y",l=e===g1||e===vd?d5:h5;function u(m){var d=n==null?t.ticks?t.ticks.apply(t,i):t.domain():n,y=s==null?t.tickFormat?t.tickFormat.apply(t,i):m5:s,_=Math.max(r,0)+o,h=t.range(),g=+h[0]+c,E=+h[h.length-1]+c,w=(t.bandwidth?y5:_5)(t.copy(),c),v=m.selection?m.selection():m,x=v.selectAll(".domain").data([null]),b=v.selectAll(".tick").data(d,t).order(),A=b.exit(),M=b.enter().append("g").attr("class","tick"),G=b.select("line"),T=b.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(M),G=G.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",p*r)),T=T.merge(M.append("text").attr("fill","currentColor").attr(f,p*_).attr("dy",e===g1?"0em":e===vd?"0.71em":"0.32em")),m!==v&&(x=x.transition(m),b=b.transition(m),G=G.transition(m),T=T.transition(m),A=A.transition(m).attr("opacity",a3).attr("transform",function(N){return isFinite(N=w(N))?l(N+c):this.getAttribute("transform")}),M.attr("opacity",a3).attr("transform",function(N){var D=this.parentNode.__axis;return l((D&&isFinite(D=D(N))?D:w(N))+c)})),A.remove(),x.attr("d",e===vp||e===ll?a?"M"+p*a+","+g+"H"+c+"V"+E+"H"+p*a:"M"+c+","+g+"V"+E:a?"M"+g+","+p*a+"V"+c+"H"+E+"V"+p*a:"M"+g+","+c+"H"+E),b.attr("opacity",1).attr("transform",function(N){return l(w(N)+c)}),G.attr(f+"2",p*r),T.attr(f,p*_).text(y),v.filter(g5).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ll?"start":e===vp?"end":"middle"),v.each(function(){this.__axis=w})}return u.scale=function(m){return arguments.length?(t=m,u):t},u.ticks=function(){return i=Array.from(arguments),u},u.tickArguments=function(m){return arguments.length?(i=m==null?[]:Array.from(m),u):i.slice()},u.tickValues=function(m){return arguments.length?(n=m==null?null:Array.from(m),u):n&&n.slice()},u.tickFormat=function(m){return arguments.length?(s=m,u):s},u.tickSize=function(m){return arguments.length?(r=a=+m,u):r},u.tickSizeInner=function(m){return arguments.length?(r=+m,u):r},u.tickSizeOuter=function(m){return arguments.length?(a=+m,u):a},u.tickPadding=function(m){return arguments.length?(o=+m,u):o},u.offset=function(m){return arguments.length?(c=+m,u):c},u}function w5(e){return p_(ll,e)}function w1(e){return p_(vd,e)}function E1(e){return p_(vp,e)}var E5={value:()=>{}};function kf(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new ul(i)}function ul(e){this._=e}function v5(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",s=i.indexOf(".");if(s>=0&&(n=i.slice(s+1),i=i.slice(0,s)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}ul.prototype=kf.prototype={constructor:ul,on:function(e,t){var i=this._,n=v5(e+"",i),s,r=-1,a=n.length;if(arguments.length<2){for(;++r<a;)if((s=(e=n[r]).type)&&(s=b5(i[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(s=(e=n[r]).type)i[s]=o3(i[s],e.name,t);else if(t==null)for(s in i)i[s]=o3(i[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new ul(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var i=new Array(s),n=0,s,r;n<s;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],n=0,s=r.length;n<s;++n)r[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,r=n.length;s<r;++s)n[s].value.apply(t,i)}};function b5(e,t){for(var i=0,n=e.length,s;i<n;++i)if((s=e[i]).name===t)return s.value}function o3(e,t,i){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=E5,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var bd="http://www.w3.org/1999/xhtml";const c3={svg:"http://www.w3.org/2000/svg",xhtml:bd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uu(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),c3.hasOwnProperty(t)?{space:c3[t],local:e}:e}function x5(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===bd&&t.documentElement.namespaceURI===bd?t.createElement(e):t.createElementNS(i,e)}}function S5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Uw(e){var t=Uu(e);return(t.local?S5:x5)(t)}function M5(){}function f_(e){return e==null?M5:function(){return this.querySelector(e)}}function A5(e){typeof e!="function"&&(e=f_(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r=t[s],a=r.length,o=n[s]=new Array(a),c,p,f=0;f<a;++f)(c=r[f])&&(p=e.call(c,c.__data__,f,r))&&("__data__"in c&&(p.__data__=c.__data__),o[f]=p);return new _n(n,this._parents)}function Ww(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function C5(){return[]}function jw(e){return e==null?C5:function(){return this.querySelectorAll(e)}}function P5(e){return function(){return Ww(e.apply(this,arguments))}}function T5(e){typeof e=="function"?e=P5(e):e=jw(e);for(var t=this._groups,i=t.length,n=[],s=[],r=0;r<i;++r)for(var a=t[r],o=a.length,c,p=0;p<o;++p)(c=a[p])&&(n.push(e.call(c,c.__data__,p,a)),s.push(c));return new _n(n,s)}function $w(e){return function(){return this.matches(e)}}function Kw(e){return function(t){return t.matches(e)}}var I5=Array.prototype.find;function L5(e){return function(){return I5.call(this.children,e)}}function F5(){return this.firstElementChild}function R5(e){return this.select(e==null?F5:L5(typeof e=="function"?e:Kw(e)))}var N5=Array.prototype.filter;function D5(){return Array.from(this.children)}function G5(e){return function(){return N5.call(this.children,e)}}function O5(e){return this.selectAll(e==null?D5:G5(typeof e=="function"?e:Kw(e)))}function k5(e){typeof e!="function"&&(e=$w(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r=t[s],a=r.length,o=n[s]=[],c,p=0;p<a;++p)(c=r[p])&&e.call(c,c.__data__,p,r)&&o.push(c);return new _n(n,this._parents)}function Yw(e){return new Array(e.length)}function B5(){return new _n(this._enter||this._groups.map(Yw),this._parents)}function Dl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Dl.prototype={constructor:Dl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function V5(e){return function(){return e}}function q5(e,t,i,n,s,r){for(var a=0,o,c=t.length,p=r.length;a<p;++a)(o=t[a])?(o.__data__=r[a],n[a]=o):i[a]=new Dl(e,r[a]);for(;a<c;++a)(o=t[a])&&(s[a]=o)}function z5(e,t,i,n,s,r,a){var o,c,p=new Map,f=t.length,l=r.length,u=new Array(f),m;for(o=0;o<f;++o)(c=t[o])&&(u[o]=m=a.call(c,c.__data__,o,t)+"",p.has(m)?s[o]=c:p.set(m,c));for(o=0;o<l;++o)m=a.call(e,r[o],o,r)+"",(c=p.get(m))?(n[o]=c,c.__data__=r[o],p.delete(m)):i[o]=new Dl(e,r[o]);for(o=0;o<f;++o)(c=t[o])&&p.get(u[o])===c&&(s[o]=c)}function H5(e){return e.__data__}function U5(e,t){if(!arguments.length)return Array.from(this,H5);var i=t?z5:q5,n=this._parents,s=this._groups;typeof e!="function"&&(e=V5(e));for(var r=s.length,a=new Array(r),o=new Array(r),c=new Array(r),p=0;p<r;++p){var f=n[p],l=s[p],u=l.length,m=W5(e.call(f,f&&f.__data__,p,n)),d=m.length,y=o[p]=new Array(d),_=a[p]=new Array(d),h=c[p]=new Array(u);i(f,l,y,_,h,m,t);for(var g=0,E=0,w,v;g<d;++g)if(w=y[g]){for(g>=E&&(E=g+1);!(v=_[E])&&++E<d;);w._next=v||null}}return a=new _n(a,n),a._enter=o,a._exit=c,a}function W5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j5(){return new _n(this._exit||this._groups.map(Yw),this._parents)}function $5(e,t,i){var n=this.enter(),s=this,r=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),i==null?r.remove():i(r),n&&s?n.merge(s).order():s}function K5(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,s=i.length,r=n.length,a=Math.min(s,r),o=new Array(s),c=0;c<a;++c)for(var p=i[c],f=n[c],l=p.length,u=o[c]=new Array(l),m,d=0;d<l;++d)(m=p[d]||f[d])&&(u[d]=m);for(;c<s;++c)o[c]=i[c];return new _n(o,this._parents)}function Y5(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],s=n.length-1,r=n[s],a;--s>=0;)(a=n[s])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function J5(e){e||(e=Q5);function t(l,u){return l&&u?e(l.__data__,u.__data__):!l-!u}for(var i=this._groups,n=i.length,s=new Array(n),r=0;r<n;++r){for(var a=i[r],o=a.length,c=s[r]=new Array(o),p,f=0;f<o;++f)(p=a[f])&&(c[f]=p);c.sort(t)}return new _n(s,this._parents).order()}function Q5(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function X5(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Z5(){return Array.from(this)}function ev(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,r=n.length;s<r;++s){var a=n[s];if(a)return a}return null}function tv(){let e=0;for(const t of this)++e;return e}function iv(){return!this.node()}function nv(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var s=t[i],r=0,a=s.length,o;r<a;++r)(o=s[r])&&e.call(o,o.__data__,r,s);return this}function sv(e){return function(){this.removeAttribute(e)}}function rv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function av(e,t){return function(){this.setAttribute(e,t)}}function ov(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function cv(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function pv(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function fv(e,t){var i=Uu(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?rv:sv:typeof t=="function"?i.local?pv:cv:i.local?ov:av)(i,t))}function Jw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lv(e){return function(){this.style.removeProperty(e)}}function uv(e,t,i){return function(){this.style.setProperty(e,t,i)}}function mv(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function dv(e,t,i){return arguments.length>1?this.each((t==null?lv:typeof t=="function"?mv:uv)(e,t,i==null?"":i)):cc(this.node(),e)}function cc(e,t){return e.style.getPropertyValue(t)||Jw(e).getComputedStyle(e,null).getPropertyValue(t)}function hv(e){return function(){delete this[e]}}function _v(e,t){return function(){this[e]=t}}function yv(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function gv(e,t){return arguments.length>1?this.each((t==null?hv:typeof t=="function"?yv:_v)(e,t)):this.node()[e]}function Qw(e){return e.trim().split(/^|\s+/)}function l_(e){return e.classList||new Xw(e)}function Xw(e){this._node=e,this._names=Qw(e.getAttribute("class")||"")}Xw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zw(e,t){for(var i=l_(e),n=-1,s=t.length;++n<s;)i.add(t[n])}function e6(e,t){for(var i=l_(e),n=-1,s=t.length;++n<s;)i.remove(t[n])}function wv(e){return function(){Zw(this,e)}}function Ev(e){return function(){e6(this,e)}}function vv(e,t){return function(){(t.apply(this,arguments)?Zw:e6)(this,e)}}function bv(e,t){var i=Qw(e+"");if(arguments.length<2){for(var n=l_(this.node()),s=-1,r=i.length;++s<r;)if(!n.contains(i[s]))return!1;return!0}return this.each((typeof t=="function"?vv:t?wv:Ev)(i,t))}function xv(){this.textContent=""}function Sv(e){return function(){this.textContent=e}}function Mv(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Av(e){return arguments.length?this.each(e==null?xv:(typeof e=="function"?Mv:Sv)(e)):this.node().textContent}function Cv(){this.innerHTML=""}function Pv(e){return function(){this.innerHTML=e}}function Tv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Iv(e){return arguments.length?this.each(e==null?Cv:(typeof e=="function"?Tv:Pv)(e)):this.node().innerHTML}function Lv(){this.nextSibling&&this.parentNode.appendChild(this)}function Fv(){return this.each(Lv)}function Rv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nv(){return this.each(Rv)}function Dv(e){var t=typeof e=="function"?e:Uw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Gv(){return null}function Ov(e,t){var i=typeof e=="function"?e:Uw(e),n=t==null?Gv:typeof t=="function"?t:f_(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function kv(){var e=this.parentNode;e&&e.removeChild(this)}function Bv(){return this.each(kv)}function Vv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zv(e){return this.select(e?qv:Vv)}function Hv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Uv(e){return function(t){e.call(this,t,this.__data__)}}function Wv(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function jv(e){return function(){var t=this.__on;if(!!t){for(var i=0,n=-1,s=t.length,r;i<s;++i)r=t[i],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++n]=r;++n?t.length=n:delete this.__on}}}function $v(e,t,i){return function(){var n=this.__on,s,r=Uv(t);if(n){for(var a=0,o=n.length;a<o;++a)if((s=n[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=i),s.value=t;return}}this.addEventListener(e.type,r,i),s={type:e.type,name:e.name,value:t,listener:r,options:i},n?n.push(s):this.__on=[s]}}function Kv(e,t,i){var n=Wv(e+""),s,r=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,p=o.length,f;c<p;++c)for(s=0,f=o[c];s<r;++s)if((a=n[s]).type===f.type&&a.name===f.name)return f.value}return}for(o=t?$v:jv,s=0;s<r;++s)this.each(o(n[s],t,i));return this}function t6(e,t,i){var n=Jw(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,i):(s=n.document.createEvent("Event"),i?(s.initEvent(t,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Yv(e,t){return function(){return t6(this,e,t)}}function Jv(e,t){return function(){return t6(this,e,t.apply(this,arguments))}}function Qv(e,t){return this.each((typeof t=="function"?Jv:Yv)(e,t))}function*Xv(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],s=0,r=n.length,a;s<r;++s)(a=n[s])&&(yield a)}var u_=[null];function _n(e,t){this._groups=e,this._parents=t}function Bf(){return new _n([[document.documentElement]],u_)}function Zv(){return this}_n.prototype=Bf.prototype={constructor:_n,select:A5,selectAll:T5,selectChild:R5,selectChildren:O5,filter:k5,data:U5,enter:B5,exit:j5,join:$5,merge:K5,selection:Zv,order:Y5,sort:J5,call:X5,nodes:Z5,node:ev,size:tv,empty:iv,each:nv,attr:fv,style:dv,property:gv,classed:bv,text:Av,html:Iv,raise:Fv,lower:Nv,append:Dv,insert:Ov,remove:Bv,clone:zv,datum:Hv,on:Kv,dispatch:Qv,[Symbol.iterator]:Xv};function Vt(e){return typeof e=="string"?new _n([[document.querySelector(e)]],[document.documentElement]):new _n([[e]],u_)}function e7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function p3(e,t){if(e=e7(e),t===void 0&&(t=e.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}function i6(e){return typeof e=="string"?new _n([document.querySelectorAll(e)],[document.documentElement]):new _n([Ww(e)],u_)}const xd={capture:!0,passive:!1};function Sd(e){e.preventDefault(),e.stopImmediatePropagation()}function t7(e){var t=e.document.documentElement,i=Vt(e).on("dragstart.drag",Sd,xd);"onselectstart"in t?i.on("selectstart.drag",Sd,xd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function i7(e,t){var i=e.document.documentElement,n=Vt(e).on("dragstart.drag",null);t&&(n.on("click.drag",Sd,xd),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in i?n.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function m_(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function n6(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function Vf(){}var Up=.7,Gl=1/Up,tc="\\s*([+-]?\\d+)\\s*",Wp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n7=/^#([0-9a-f]{3,8})$/,s7=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),r7=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),a7=new RegExp(`^rgba\\(${tc},${tc},${tc},${Wp}\\)$`),o7=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${Wp}\\)$`),c7=new RegExp(`^hsl\\(${Wp},${Vs},${Vs}\\)$`),p7=new RegExp(`^hsla\\(${Wp},${Vs},${Vs},${Wp}\\)$`),f3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m_(Vf,aa,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l3,formatHex:l3,formatHex8:f7,formatHsl:l7,formatRgb:u3,toString:u3});function l3(){return this.rgb().formatHex()}function f7(){return this.rgb().formatHex8()}function l7(){return s6(this).formatHsl()}function u3(){return this.rgb().formatRgb()}function aa(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=n7.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?m3(t):i===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?e0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?e0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s7.exec(e))?new Sn(t[1],t[2],t[3],1):(t=r7.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=a7.exec(e))?e0(t[1],t[2],t[3],t[4]):(t=o7.exec(e))?e0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=c7.exec(e))?_3(t[1],t[2]/100,t[3]/100,1):(t=p7.exec(e))?_3(t[1],t[2]/100,t[3]/100,t[4]):f3.hasOwnProperty(e)?m3(f3[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function m3(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function e0(e,t,i,n){return n<=0&&(e=t=i=NaN),new Sn(e,t,i,n)}function u7(e){return e instanceof Vf||(e=aa(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function Md(e,t,i,n){return arguments.length===1?u7(e):new Sn(e,t,i,n==null?1:n)}function Sn(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}m_(Sn,Md,n6(Vf,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Up:Math.pow(Up,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(Na(this.r),Na(this.g),Na(this.b),Ol(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d3,formatHex:d3,formatHex8:m7,formatRgb:h3,toString:h3}));function d3(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}`}function m7(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}${Ra((isNaN(this.opacity)?1:this.opacity)*255)}`}function h3(){const e=Ol(this.opacity);return`${e===1?"rgb(":"rgba("}${Na(this.r)}, ${Na(this.g)}, ${Na(this.b)}${e===1?")":`, ${e})`}`}function Ol(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Na(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ra(e){return e=Na(e),(e<16?"0":"")+e.toString(16)}function _3(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new ms(e,t,i,n)}function s6(e){if(e instanceof ms)return new ms(e.h,e.s,e.l,e.opacity);if(e instanceof Vf||(e=aa(e)),!e)return new ms;if(e instanceof ms)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,s=Math.min(t,i,n),r=Math.max(t,i,n),a=NaN,o=r-s,c=(r+s)/2;return o?(t===r?a=(i-n)/o+(i<n)*6:i===r?a=(n-t)/o+2:a=(t-i)/o+4,o/=c<.5?r+s:2-r-s,a*=60):o=c>0&&c<1?0:a,new ms(a,o,c,e.opacity)}function d7(e,t,i,n){return arguments.length===1?s6(e):new ms(e,t,i,n==null?1:n)}function ms(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}m_(ms,d7,n6(Vf,{brighter(e){return e=e==null?Gl:Math.pow(Gl,e),new ms(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Up:Math.pow(Up,e),new ms(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,s=2*i-n;return new Sn(v1(e>=240?e-240:e+120,s,n),v1(e,s,n),v1(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ms(y3(this.h),t0(this.s),t0(this.l),Ol(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ol(this.opacity);return`${e===1?"hsl(":"hsla("}${y3(this.h)}, ${t0(this.s)*100}%, ${t0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function y3(e){return e=(e||0)%360,e<0?e+360:e}function t0(e){return Math.max(0,Math.min(1,e||0))}function v1(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const d_=e=>()=>e;function h7(e,t){return function(i){return e+i*t}}function _7(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function y7(e){return(e=+e)==1?r6:function(t,i){return i-t?_7(t,i,e):d_(isNaN(t)?i:t)}}function r6(e,t){var i=t-e;return i?h7(e,i):d_(isNaN(e)?t:e)}const kl=function e(t){var i=y7(t);function n(s,r){var a=i((s=Md(s)).r,(r=Md(r)).r),o=i(s.g,r.g),c=i(s.b,r.b),p=r6(s.opacity,r.opacity);return function(f){return s.r=a(f),s.g=o(f),s.b=c(f),s.opacity=p(f),s+""}}return n.gamma=e,n}(1);function g7(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(r){for(s=0;s<i;++s)n[s]=e[s]*(1-r)+t[s]*r;return n}}function w7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E7(e,t){var i=t?t.length:0,n=e?Math.min(i,e.length):0,s=new Array(n),r=new Array(i),a;for(a=0;a<n;++a)s[a]=qf(e[a],t[a]);for(;a<i;++a)r[a]=t[a];return function(o){for(a=0;a<n;++a)r[a]=s[a](o);return r}}function v7(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}function ls(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function b7(e,t){var i={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?i[s]=qf(e[s],t[s]):n[s]=t[s];return function(r){for(s in i)n[s]=i[s](r);return n}}var Ad=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b1=new RegExp(Ad.source,"g");function x7(e){return function(){return e}}function S7(e){return function(t){return e(t)+""}}function a6(e,t){var i=Ad.lastIndex=b1.lastIndex=0,n,s,r,a=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Ad.exec(e))&&(s=b1.exec(t));)(r=s.index)>i&&(r=t.slice(i,r),o[a]?o[a]+=r:o[++a]=r),(n=n[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,c.push({i:a,x:ls(n,s)})),i=b1.lastIndex;return i<t.length&&(r=t.slice(i),o[a]?o[a]+=r:o[++a]=r),o.length<2?c[0]?S7(c[0].x):x7(t):(t=c.length,function(p){for(var f=0,l;f<t;++f)o[(l=c[f]).i]=l.x(p);return o.join("")})}function qf(e,t){var i=typeof t,n;return t==null||i==="boolean"?d_(t):(i==="number"?ls:i==="string"?(n=aa(t))?(t=n,kl):a6:t instanceof aa?kl:t instanceof Date?v7:w7(t)?g7:Array.isArray(t)?E7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?b7:ls)(e,t)}function M7(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}var g3=180/Math.PI,Cd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function o6(e,t,i,n,s,r){var a,o,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*i+t*n)&&(i-=e*c,n-=t*c),(o=Math.sqrt(i*i+n*n))&&(i/=o,n/=o,c/=o),e*n<t*i&&(e=-e,t=-t,c=-c,a=-a),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*g3,skewX:Math.atan(c)*g3,scaleX:a,scaleY:o}}var i0;function A7(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Cd:o6(t.a,t.b,t.c,t.d,t.e,t.f)}function C7(e){return e==null||(i0||(i0=document.createElementNS("http://www.w3.org/2000/svg","g")),i0.setAttribute("transform",e),!(e=i0.transform.baseVal.consolidate()))?Cd:(e=e.matrix,o6(e.a,e.b,e.c,e.d,e.e,e.f))}function c6(e,t,i,n){function s(p){return p.length?p.pop()+" ":""}function r(p,f,l,u,m,d){if(p!==l||f!==u){var y=m.push("translate(",null,t,null,i);d.push({i:y-4,x:ls(p,l)},{i:y-2,x:ls(f,u)})}else(l||u)&&m.push("translate("+l+t+u+i)}function a(p,f,l,u){p!==f?(p-f>180?f+=360:f-p>180&&(p+=360),u.push({i:l.push(s(l)+"rotate(",null,n)-2,x:ls(p,f)})):f&&l.push(s(l)+"rotate("+f+n)}function o(p,f,l,u){p!==f?u.push({i:l.push(s(l)+"skewX(",null,n)-2,x:ls(p,f)}):f&&l.push(s(l)+"skewX("+f+n)}function c(p,f,l,u,m,d){if(p!==l||f!==u){var y=m.push(s(m)+"scale(",null,",",null,")");d.push({i:y-4,x:ls(p,l)},{i:y-2,x:ls(f,u)})}else(l!==1||u!==1)&&m.push(s(m)+"scale("+l+","+u+")")}return function(p,f){var l=[],u=[];return p=e(p),f=e(f),r(p.translateX,p.translateY,f.translateX,f.translateY,l,u),a(p.rotate,f.rotate,l,u),o(p.skewX,f.skewX,l,u),c(p.scaleX,p.scaleY,f.scaleX,f.scaleY,l,u),p=f=null,function(m){for(var d=-1,y=u.length,_;++d<y;)l[(_=u[d]).i]=_.x(m);return l.join("")}}}var P7=c6(A7,"px, ","px)","deg)"),T7=c6(C7,", ",")",")");function I7(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e(n/(t-1));return i}var pc=0,bp=0,Qc=0,p6=1e3,Bl,xp,Vl=0,za=0,Wu=0,jp=typeof performance=="object"&&performance.now?performance:Date,f6=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h_(){return za||(f6(L7),za=jp.now()+Wu)}function L7(){za=0}function ql(){this._call=this._time=this._next=null}ql.prototype=l6.prototype={constructor:ql,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?h_():+i)+(t==null?0:+t),!this._next&&xp!==this&&(xp?xp._next=this:Bl=this,xp=this),this._call=e,this._time=i,Pd()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pd())}};function l6(e,t,i){var n=new ql;return n.restart(e,t,i),n}function F7(){h_(),++pc;for(var e=Bl,t;e;)(t=za-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pc}function w3(){za=(Vl=jp.now())+Wu,pc=bp=0;try{F7()}finally{pc=0,N7(),za=0}}function R7(){var e=jp.now(),t=e-Vl;t>p6&&(Wu-=t,Vl=e)}function N7(){for(var e,t=Bl,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:Bl=i);xp=e,Pd(n)}function Pd(e){if(!pc){bp&&(bp=clearTimeout(bp));var t=e-za;t>24?(e<1/0&&(bp=setTimeout(w3,e-jp.now()-Wu)),Qc&&(Qc=clearInterval(Qc))):(Qc||(Vl=jp.now(),Qc=setInterval(R7,p6)),pc=1,f6(w3))}}function E3(e,t,i){var n=new ql;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,i),n}var D7=kf("start","end","cancel","interrupt"),G7=[],u6=0,v3=1,Td=2,ml=3,b3=4,Id=5,dl=6;function ju(e,t,i,n,s,r){var a=e.__transition;if(!a)e.__transition={};else if(i in a)return;O7(e,i,{name:t,index:n,group:s,on:D7,tween:G7,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:u6})}function __(e,t){var i=ws(e,t);if(i.state>u6)throw new Error("too late; already scheduled");return i}function Js(e,t){var i=ws(e,t);if(i.state>ml)throw new Error("too late; already running");return i}function ws(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function O7(e,t,i){var n=e.__transition,s;n[t]=i,i.timer=l6(r,0,i.time);function r(p){i.state=v3,i.timer.restart(a,i.delay,i.time),i.delay<=p&&a(p-i.delay)}function a(p){var f,l,u,m;if(i.state!==v3)return c();for(f in n)if(m=n[f],m.name===i.name){if(m.state===ml)return E3(a);m.state===b3?(m.state=dl,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[f]):+f<t&&(m.state=dl,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[f])}if(E3(function(){i.state===ml&&(i.state=b3,i.timer.restart(o,i.delay,i.time),o(p))}),i.state=Td,i.on.call("start",e,e.__data__,i.index,i.group),i.state===Td){for(i.state=ml,s=new Array(u=i.tween.length),f=0,l=-1;f<u;++f)(m=i.tween[f].value.call(e,e.__data__,i.index,i.group))&&(s[++l]=m);s.length=l+1}}function o(p){for(var f=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(c),i.state=Id,1),l=-1,u=s.length;++l<u;)s[l].call(e,f);i.state===Id&&(i.on.call("end",e,e.__data__,i.index,i.group),c())}function c(){i.state=dl,i.timer.stop(),delete n[t];for(var p in n)return;delete e.__transition}}function Ld(e,t){var i=e.__transition,n,s,r=!0,a;if(!!i){t=t==null?null:t+"";for(a in i){if((n=i[a]).name!==t){r=!1;continue}s=n.state>Td&&n.state<Id,n.state=dl,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[a]}r&&delete e.__transition}}function k7(e){return this.each(function(){Ld(this,e)})}function B7(e,t){var i,n;return function(){var s=Js(this,e),r=s.tween;if(r!==i){n=i=r;for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}s.tween=n}}function V7(e,t,i){var n,s;if(typeof i!="function")throw new Error;return function(){var r=Js(this,e),a=r.tween;if(a!==n){s=(n=a).slice();for(var o={name:t,value:i},c=0,p=s.length;c<p;++c)if(s[c].name===t){s[c]=o;break}c===p&&s.push(o)}r.tween=s}}function q7(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=ws(this.node(),i).tween,s=0,r=n.length,a;s<r;++s)if((a=n[s]).name===e)return a.value;return null}return this.each((t==null?B7:V7)(i,e,t))}function y_(e,t,i){var n=e._id;return e.each(function(){var s=Js(this,n);(s.value||(s.value={}))[t]=i.apply(this,arguments)}),function(s){return ws(s,n).value[t]}}function m6(e,t){var i;return(typeof t=="number"?ls:t instanceof aa?kl:(i=aa(t))?(t=i,kl):a6)(e,t)}function z7(e){return function(){this.removeAttribute(e)}}function H7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function U7(e,t,i){var n,s=i+"",r;return function(){var a=this.getAttribute(e);return a===s?null:a===n?r:r=t(n=a,i)}}function W7(e,t,i){var n,s=i+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===n?r:r=t(n=a,i)}}function j7(e,t,i){var n,s,r;return function(){var a,o=i(this),c;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=o+"",a===c?null:a===n&&c===s?r:(s=c,r=t(n=a,o)))}}function $7(e,t,i){var n,s,r;return function(){var a,o=i(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=o+"",a===c?null:a===n&&c===s?r:(s=c,r=t(n=a,o)))}}function K7(e,t){var i=Uu(e),n=i==="transform"?T7:m6;return this.attrTween(e,typeof t=="function"?(i.local?$7:j7)(i,n,y_(this,"attr."+e,t)):t==null?(i.local?H7:z7)(i):(i.local?W7:U7)(i,n,t))}function Y7(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function J7(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function Q7(e,t){var i,n;function s(){var r=t.apply(this,arguments);return r!==n&&(i=(n=r)&&J7(e,r)),i}return s._value=t,s}function X7(e,t){var i,n;function s(){var r=t.apply(this,arguments);return r!==n&&(i=(n=r)&&Y7(e,r)),i}return s._value=t,s}function Z7(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=Uu(e);return this.tween(i,(n.local?Q7:X7)(n,t))}function eb(e,t){return function(){__(this,e).delay=+t.apply(this,arguments)}}function tb(e,t){return t=+t,function(){__(this,e).delay=t}}function ib(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eb:tb)(t,e)):ws(this.node(),t).delay}function nb(e,t){return function(){Js(this,e).duration=+t.apply(this,arguments)}}function sb(e,t){return t=+t,function(){Js(this,e).duration=t}}function rb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nb:sb)(t,e)):ws(this.node(),t).duration}function ab(e,t){if(typeof t!="function")throw new Error;return function(){Js(this,e).ease=t}}function ob(e){var t=this._id;return arguments.length?this.each(ab(t,e)):ws(this.node(),t).ease}function cb(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;Js(this,e).ease=i}}function pb(e){if(typeof e!="function")throw new Error;return this.each(cb(this._id,e))}function fb(e){typeof e!="function"&&(e=$w(e));for(var t=this._groups,i=t.length,n=new Array(i),s=0;s<i;++s)for(var r=t[s],a=r.length,o=n[s]=[],c,p=0;p<a;++p)(c=r[p])&&e.call(c,c.__data__,p,r)&&o.push(c);return new yr(n,this._parents,this._name,this._id)}function lb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,s=i.length,r=Math.min(n,s),a=new Array(n),o=0;o<r;++o)for(var c=t[o],p=i[o],f=c.length,l=a[o]=new Array(f),u,m=0;m<f;++m)(u=c[m]||p[m])&&(l[m]=u);for(;o<n;++o)a[o]=t[o];return new yr(a,this._parents,this._name,this._id)}function ub(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function mb(e,t,i){var n,s,r=ub(t)?__:Js;return function(){var a=r(this,e),o=a.on;o!==n&&(s=(n=o).copy()).on(t,i),a.on=s}}function db(e,t){var i=this._id;return arguments.length<2?ws(this.node(),i).on.on(e):this.each(mb(i,e,t))}function hb(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function _b(){return this.on("end.remove",hb(this._id))}function yb(e){var t=this._name,i=this._id;typeof e!="function"&&(e=f_(e));for(var n=this._groups,s=n.length,r=new Array(s),a=0;a<s;++a)for(var o=n[a],c=o.length,p=r[a]=new Array(c),f,l,u=0;u<c;++u)(f=o[u])&&(l=e.call(f,f.__data__,u,o))&&("__data__"in f&&(l.__data__=f.__data__),p[u]=l,ju(p[u],t,i,u,p,ws(f,i)));return new yr(r,this._parents,t,i)}function gb(e){var t=this._name,i=this._id;typeof e!="function"&&(e=jw(e));for(var n=this._groups,s=n.length,r=[],a=[],o=0;o<s;++o)for(var c=n[o],p=c.length,f,l=0;l<p;++l)if(f=c[l]){for(var u=e.call(f,f.__data__,l,c),m,d=ws(f,i),y=0,_=u.length;y<_;++y)(m=u[y])&&ju(m,t,i,y,u,d);r.push(u),a.push(f)}return new yr(r,a,t,i)}var wb=Bf.prototype.constructor;function Eb(){return new wb(this._groups,this._parents)}function vb(e,t){var i,n,s;return function(){var r=cc(this,e),a=(this.style.removeProperty(e),cc(this,e));return r===a?null:r===i&&a===n?s:s=t(i=r,n=a)}}function d6(e){return function(){this.style.removeProperty(e)}}function bb(e,t,i){var n,s=i+"",r;return function(){var a=cc(this,e);return a===s?null:a===n?r:r=t(n=a,i)}}function xb(e,t,i){var n,s,r;return function(){var a=cc(this,e),o=i(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),cc(this,e))),a===c?null:a===n&&c===s?r:(s=c,r=t(n=a,o))}}function Sb(e,t){var i,n,s,r="style."+t,a="end."+r,o;return function(){var c=Js(this,e),p=c.on,f=c.value[r]==null?o||(o=d6(t)):void 0;(p!==i||s!==f)&&(n=(i=p).copy()).on(a,s=f),c.on=n}}function Mb(e,t,i){var n=(e+="")=="transform"?P7:m6;return t==null?this.styleTween(e,vb(e,n)).on("end.style."+e,d6(e)):typeof t=="function"?this.styleTween(e,xb(e,n,y_(this,"style."+e,t))).each(Sb(this._id,e)):this.styleTween(e,bb(e,n,t),i).on("end.style."+e,null)}function Ab(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function Cb(e,t,i){var n,s;function r(){var a=t.apply(this,arguments);return a!==s&&(n=(s=a)&&Ab(e,a,i)),n}return r._value=t,r}function Pb(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Cb(e,t,i==null?"":i))}function Tb(e){return function(){this.textContent=e}}function Ib(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Lb(e){return this.tween("text",typeof e=="function"?Ib(y_(this,"text",e)):Tb(e==null?"":e+""))}function Fb(e){return function(t){this.textContent=e.call(this,t)}}function Rb(e){var t,i;function n(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&Fb(s)),t}return n._value=e,n}function Nb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Rb(e))}function Db(){for(var e=this._name,t=this._id,i=h6(),n=this._groups,s=n.length,r=0;r<s;++r)for(var a=n[r],o=a.length,c,p=0;p<o;++p)if(c=a[p]){var f=ws(c,t);ju(c,e,i,p,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new yr(n,this._parents,e,i)}function Gb(){var e,t,i=this,n=i._id,s=i.size();return new Promise(function(r,a){var o={value:a},c={value:function(){--s===0&&r()}};i.each(function(){var p=Js(this,n),f=p.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),p.on=t}),s===0&&r()})}var Ob=0;function yr(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function h6(){return++Ob}var Xs=Bf.prototype;yr.prototype={constructor:yr,select:yb,selectAll:gb,selectChild:Xs.selectChild,selectChildren:Xs.selectChildren,filter:fb,merge:lb,selection:Eb,transition:Db,call:Xs.call,nodes:Xs.nodes,node:Xs.node,size:Xs.size,empty:Xs.empty,each:Xs.each,on:db,attr:K7,attrTween:Z7,style:Mb,styleTween:Pb,text:Lb,textTween:Nb,remove:_b,tween:q7,delay:ib,duration:rb,ease:ob,easeVarying:pb,end:Gb,[Symbol.iterator]:Xs[Symbol.iterator]};function kb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Bb={time:null,delay:0,duration:250,ease:kb};function Vb(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function qb(e){var t,i;e instanceof yr?(t=e._id,e=e._name):(t=h6(),(i=Bb).time=h_(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,r=0;r<s;++r)for(var a=n[r],o=a.length,c,p=0;p<o;++p)(c=a[p])&&ju(c,e,t,p,a,i||Vb(c,t));return new yr(n,this._parents,e,t)}Bf.prototype.interrupt=k7;Bf.prototype.transition=qb;const x1=e=>()=>e;function zb(e,{sourceEvent:t,target:i,selection:n,mode:s,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function Hb(e){e.stopImmediatePropagation()}function S1(e){e.preventDefault(),e.stopImmediatePropagation()}var x3={name:"drag"},M1={name:"space"},ao={name:"handle"},oo={name:"center"};const{abs:S3,max:Qi,min:Xi}=Math;function M3(e){return[+e[0],+e[1]]}function Fd(e){return[M3(e[0]),M3(e[1])]}var hl={name:"x",handles:["w","e"].map($p),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},A1={name:"y",handles:["n","s"].map($p),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Ub={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map($p),input:function(e){return e==null?null:Fd(e)},output:function(e){return e}},Zs={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},A3={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},C3={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Wb={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},jb={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function $p(e){return{type:e}}function $b(e){return!e.ctrlKey&&!e.button}function Kb(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Yb(){return navigator.maxTouchPoints||"ontouchstart"in this}function C1(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Jb(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Qb(){return _6(hl)}function Xb(){return _6(Ub)}function _6(e){var t=Kb,i=$b,n=Yb,s=!0,r=kf("start","brush","end"),a=6,o;function c(_){var h=_.property("__brush",y).selectAll(".overlay").data([$p("overlay")]);h.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Zs.overlay).merge(h).each(function(){var E=C1(this).extent;Vt(this).attr("x",E[0][0]).attr("y",E[0][1]).attr("width",E[1][0]-E[0][0]).attr("height",E[1][1]-E[0][1])}),_.selectAll(".selection").data([$p("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Zs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var g=_.selectAll(".handle").data(e.handles,function(E){return E.type});g.exit().remove(),g.enter().append("rect").attr("class",function(E){return"handle handle--"+E.type}).attr("cursor",function(E){return Zs[E.type]}),_.each(p).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(n).on("touchstart.brush",u).on("touchmove.brush",m).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(_,h,g){_.tween?_.on("start.brush",function(E){f(this,arguments).beforestart().start(E)}).on("interrupt.brush end.brush",function(E){f(this,arguments).end(E)}).tween("brush",function(){var E=this,w=E.__brush,v=f(E,arguments),x=w.selection,b=e.input(typeof h=="function"?h.apply(this,arguments):h,w.extent),A=qf(x,b);function M(G){w.selection=G===1&&b===null?null:A(G),p.call(E),v.brush()}return x!==null&&b!==null?M:M(1)}):_.each(function(){var E=this,w=arguments,v=E.__brush,x=e.input(typeof h=="function"?h.apply(E,w):h,v.extent),b=f(E,w).beforestart();Ld(E),v.selection=x===null?null:x,p.call(E),b.start(g).brush(g).end(g)})},c.clear=function(_,h){c.move(_,null,h)};function p(){var _=Vt(this),h=C1(this).selection;h?(_.selectAll(".selection").style("display",null).attr("x",h[0][0]).attr("y",h[0][1]).attr("width",h[1][0]-h[0][0]).attr("height",h[1][1]-h[0][1]),_.selectAll(".handle").style("display",null).attr("x",function(g){return g.type[g.type.length-1]==="e"?h[1][0]-a/2:h[0][0]-a/2}).attr("y",function(g){return g.type[0]==="s"?h[1][1]-a/2:h[0][1]-a/2}).attr("width",function(g){return g.type==="n"||g.type==="s"?h[1][0]-h[0][0]+a:a}).attr("height",function(g){return g.type==="e"||g.type==="w"?h[1][1]-h[0][1]+a:a})):_.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(_,h,g){var E=_.__brush.emitter;return E&&(!g||!E.clean)?E:new l(_,h,g)}function l(_,h,g){this.that=_,this.args=h,this.state=_.__brush,this.active=0,this.clean=g}l.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(_,h){return this.starting?(this.starting=!1,this.emit("start",_,h)):this.emit("brush",_),this},brush:function(_,h){return this.emit("brush",_,h),this},end:function(_,h){return--this.active===0&&(delete this.state.emitter,this.emit("end",_,h)),this},emit:function(_,h,g){var E=Vt(this.that).datum();r.call(_,this.that,new zb(_,{sourceEvent:h,target:c,selection:e.output(this.state.selection),mode:g,dispatch:r}),E)}};function u(_){if(o&&!_.touches||!i.apply(this,arguments))return;var h=this,g=_.target.__data__.type,E=(s&&_.metaKey?g="overlay":g)==="selection"?x3:s&&_.altKey?oo:ao,w=e===A1?null:Wb[g],v=e===hl?null:jb[g],x=C1(h),b=x.extent,A=x.selection,M=b[0][0],G,T,N=b[0][1],D,L,C=b[1][0],O,q,z=b[1][1],$,re,K=0,J=0,Y,le=w&&v&&s&&_.shiftKey,fe,X,ae=Array.from(_.touches||[_],k=>{const H=k.identifier;return k=p3(k,h),k.point0=k.slice(),k.identifier=H,k});Ld(h);var ne=f(h,arguments,!0).beforestart();if(g==="overlay"){A&&(Y=!0);const k=[ae[0],ae[1]||ae[0]];x.selection=A=[[G=e===A1?M:Xi(k[0][0],k[1][0]),D=e===hl?N:Xi(k[0][1],k[1][1])],[O=e===A1?C:Qi(k[0][0],k[1][0]),$=e===hl?z:Qi(k[0][1],k[1][1])]],ae.length>1&&ie(_)}else G=A[0][0],D=A[0][1],O=A[1][0],$=A[1][1];T=G,L=D,q=O,re=$;var pe=Vt(h).attr("pointer-events","none"),U=pe.selectAll(".overlay").attr("cursor",Zs[g]);if(_.touches)ne.moved=Z,ne.ended=ue;else{var W=Vt(_.view).on("mousemove.brush",Z,!0).on("mouseup.brush",ue,!0);s&&W.on("keydown.brush",he,!0).on("keyup.brush",ge,!0),t7(_.view)}p.call(h),ne.start(_,E.name);function Z(k){for(const H of k.changedTouches||[k])for(const me of ae)me.identifier===H.identifier&&(me.cur=p3(H,h));if(le&&!fe&&!X&&ae.length===1){const H=ae[0];S3(H.cur[0]-H[0])>S3(H.cur[1]-H[1])?X=!0:fe=!0}for(const H of ae)H.cur&&(H[0]=H.cur[0],H[1]=H.cur[1]);Y=!0,S1(k),ie(k)}function ie(k){const H=ae[0],me=H.point0;var oe;switch(K=H[0]-me[0],J=H[1]-me[1],E){case M1:case x3:{w&&(K=Qi(M-G,Xi(C-O,K)),T=G+K,q=O+K),v&&(J=Qi(N-D,Xi(z-$,J)),L=D+J,re=$+J);break}case ao:{ae[1]?(w&&(T=Qi(M,Xi(C,ae[0][0])),q=Qi(M,Xi(C,ae[1][0])),w=1),v&&(L=Qi(N,Xi(z,ae[0][1])),re=Qi(N,Xi(z,ae[1][1])),v=1)):(w<0?(K=Qi(M-G,Xi(C-G,K)),T=G+K,q=O):w>0&&(K=Qi(M-O,Xi(C-O,K)),T=G,q=O+K),v<0?(J=Qi(N-D,Xi(z-D,J)),L=D+J,re=$):v>0&&(J=Qi(N-$,Xi(z-$,J)),L=D,re=$+J));break}case oo:{w&&(T=Qi(M,Xi(C,G-K*w)),q=Qi(M,Xi(C,O+K*w))),v&&(L=Qi(N,Xi(z,D-J*v)),re=Qi(N,Xi(z,$+J*v)));break}}q<T&&(w*=-1,oe=G,G=O,O=oe,oe=T,T=q,q=oe,g in A3&&U.attr("cursor",Zs[g=A3[g]])),re<L&&(v*=-1,oe=D,D=$,$=oe,oe=L,L=re,re=oe,g in C3&&U.attr("cursor",Zs[g=C3[g]])),x.selection&&(A=x.selection),fe&&(T=A[0][0],q=A[1][0]),X&&(L=A[0][1],re=A[1][1]),(A[0][0]!==T||A[0][1]!==L||A[1][0]!==q||A[1][1]!==re)&&(x.selection=[[T,L],[q,re]],p.call(h),ne.brush(k,E.name))}function ue(k){if(Hb(k),k.touches){if(k.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else i7(k.view,Y),W.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);pe.attr("pointer-events","all"),U.attr("cursor",Zs.overlay),x.selection&&(A=x.selection),Jb(A)&&(x.selection=null,p.call(h)),ne.end(k,E.name)}function he(k){switch(k.keyCode){case 16:{le=w&&v;break}case 18:{E===ao&&(w&&(O=q-K*w,G=T+K*w),v&&($=re-J*v,D=L+J*v),E=oo,ie(k));break}case 32:{(E===ao||E===oo)&&(w<0?O=q-K:w>0&&(G=T-K),v<0?$=re-J:v>0&&(D=L-J),E=M1,U.attr("cursor",Zs.selection),ie(k));break}default:return}S1(k)}function ge(k){switch(k.keyCode){case 16:{le&&(fe=X=le=!1,ie(k));break}case 18:{E===oo&&(w<0?O=q:w>0&&(G=T),v<0?$=re:v>0&&(D=L),E=ao,ie(k));break}case 32:{E===M1&&(k.altKey?(w&&(O=q-K*w,G=T+K*w),v&&($=re-J*v,D=L+J*v),E=oo):(w<0?O=q:w>0&&(G=T),v<0?$=re:v>0&&(D=L),E=ao),U.attr("cursor",Zs[g]),ie(k));break}default:return}S1(k)}}function m(_){f(this,arguments).moved(_)}function d(_){f(this,arguments).ended(_)}function y(){var _=this.__brush||{selection:null};return _.extent=Fd(t.apply(this,arguments)),_.dim=e,_}return c.extent=function(_){return arguments.length?(t=typeof _=="function"?_:x1(Fd(_)),c):t},c.filter=function(_){return arguments.length?(i=typeof _=="function"?_:x1(!!_),c):i},c.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:x1(!!_),c):n},c.handleSize=function(_){return arguments.length?(a=+_,c):a},c.keyModifiers=function(_){return arguments.length?(s=!!_,c):s},c.on=function(){var _=r.on.apply(r,arguments);return _===r?c:_},c}const Rd=Math.PI,Nd=2*Rd,Ta=1e-6,Zb=Nd-Ta;function Dd(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function g_(){return new Dd}Dd.prototype=g_.prototype={constructor:Dd,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,i,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(e,t,i,n,s,r){this._+="C"+ +e+","+ +t+","+ +i+","+ +n+","+(this._x1=+s)+","+(this._y1=+r)},arcTo:function(e,t,i,n,s){e=+e,t=+t,i=+i,n=+n,s=+s;var r=this._x1,a=this._y1,o=i-e,c=n-t,p=r-e,f=a-t,l=p*p+f*f;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(l>Ta)if(!(Math.abs(f*o-c*p)>Ta)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var u=i-r,m=n-a,d=o*o+c*c,y=u*u+m*m,_=Math.sqrt(d),h=Math.sqrt(l),g=s*Math.tan((Rd-Math.acos((d+l-y)/(2*_*h)))/2),E=g/h,w=g/_;Math.abs(E-1)>Ta&&(this._+="L"+(e+E*p)+","+(t+E*f)),this._+="A"+s+","+s+",0,0,"+ +(f*u>p*m)+","+(this._x1=e+w*o)+","+(this._y1=t+w*c)}},arc:function(e,t,i,n,s,r){e=+e,t=+t,i=+i,r=!!r;var a=i*Math.cos(n),o=i*Math.sin(n),c=e+a,p=t+o,f=1^r,l=r?n-s:s-n;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+c+","+p:(Math.abs(this._x1-c)>Ta||Math.abs(this._y1-p)>Ta)&&(this._+="L"+c+","+p),i&&(l<0&&(l=l%Nd+Nd),l>Zb?this._+="A"+i+","+i+",0,1,"+f+","+(e-a)+","+(t-o)+"A"+i+","+i+",0,1,"+f+","+(this._x1=c)+","+(this._y1=p):l>Ta&&(this._+="A"+i+","+i+",0,"+ +(l>=Rd)+","+f+","+(this._x1=e+i*Math.cos(s))+","+(this._y1=t+i*Math.sin(s))))},rect:function(e,t,i,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}};function ex(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zl(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}function fc(e){return e=zl(Math.abs(e)),e?e[1]:NaN}function tx(e,t){return function(i,n){for(var s=i.length,r=[],a=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),r.push(i.substring(s-=o,s+o)),!((c+=o+1)>n));)o=e[a=(a+1)%e.length];return r.reverse().join(t)}}function ix(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var nx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hl(e){if(!(t=nx.exec(e)))throw new Error("invalid format: "+e);var t;return new w_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hl.prototype=w_.prototype;function w_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}w_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sx(e){e:for(var t=e.length,i=1,n=-1,s;i<t;++i)switch(e[i]){case".":n=s=i;break;case"0":n===0&&(n=i),s=i;break;default:if(!+e[i])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var y6;function rx(e,t){var i=zl(e,t);if(!i)return e+"";var n=i[0],s=i[1],r=s-(y6=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=n.length;return r===a?n:r>a?n+new Array(r-a+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+zl(e,Math.max(0,t+r-1))[0]}function P3(e,t){var i=zl(e,t);if(!i)return e+"";var n=i[0],s=i[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const T3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ex,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>P3(e*100,t),r:P3,s:rx,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function I3(e){return e}var L3=Array.prototype.map,F3=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ax(e){var t=e.grouping===void 0||e.thousands===void 0?I3:tx(L3.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?I3:ix(L3.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function p(l){l=Hl(l);var u=l.fill,m=l.align,d=l.sign,y=l.symbol,_=l.zero,h=l.width,g=l.comma,E=l.precision,w=l.trim,v=l.type;v==="n"?(g=!0,v="g"):T3[v]||(E===void 0&&(E=12),w=!0,v="g"),(_||u==="0"&&m==="=")&&(_=!0,u="0",m="=");var x=y==="$"?i:y==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b=y==="$"?n:/[%p]/.test(v)?a:"",A=T3[v],M=/[defgprs%]/.test(v);E=E===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function G(T){var N=x,D=b,L,C,O;if(v==="c")D=A(T)+D,T="";else{T=+T;var q=T<0||1/T<0;if(T=isNaN(T)?c:A(Math.abs(T),E),w&&(T=sx(T)),q&&+T==0&&d!=="+"&&(q=!1),N=(q?d==="("?d:o:d==="-"||d==="("?"":d)+N,D=(v==="s"?F3[8+y6/3]:"")+D+(q&&d==="("?")":""),M){for(L=-1,C=T.length;++L<C;)if(O=T.charCodeAt(L),48>O||O>57){D=(O===46?s+T.slice(L+1):T.slice(L))+D,T=T.slice(0,L);break}}}g&&!_&&(T=t(T,1/0));var z=N.length+T.length+D.length,$=z<h?new Array(h-z+1).join(u):"";switch(g&&_&&(T=t($+T,$.length?h-D.length:1/0),$=""),m){case"<":T=N+T+D+$;break;case"=":T=N+$+T+D;break;case"^":T=$.slice(0,z=$.length>>1)+N+T+D+$.slice(z);break;default:T=$+N+T+D;break}return r(T)}return G.toString=function(){return l+""},G}function f(l,u){var m=p((l=Hl(l),l.type="f",l)),d=Math.max(-8,Math.min(8,Math.floor(fc(u)/3)))*3,y=Math.pow(10,-d),_=F3[8+d/3];return function(h){return m(y*h)+_}}return{format:p,formatPrefix:f}}var n0,Ul,g6;ox({thousands:",",grouping:[3],currency:["$",""]});function ox(e){return n0=ax(e),Ul=n0.format,g6=n0.formatPrefix,n0}function cx(e){return Math.max(0,-fc(Math.abs(e)))}function px(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fc(t)/3)))*3-fc(Math.abs(e)))}function fx(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fc(t)-fc(e))+1}function E_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const R3=Symbol("implicit");function w6(){var e=new yd,t=[],i=[],n=R3;function s(r){let a=e.get(r);if(a===void 0){if(n!==R3)return n;e.set(r,a=t.push(r)-1)}return i[a%i.length]}return s.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new yd;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return s},s.range=function(r){return arguments.length?(i=Array.from(r),s):i.slice()},s.unknown=function(r){return arguments.length?(n=r,s):n},s.copy=function(){return w6(t,i).unknown(n)},E_.apply(s,arguments),s}function Gd(){var e=w6().unknown(void 0),t=e.domain,i=e.range,n=0,s=1,r,a,o=!1,c=0,p=0,f=.5;delete e.unknown;function l(){var u=t().length,m=s<n,d=m?s:n,y=m?n:s;r=(y-d)/Math.max(1,u-c+p*2),o&&(r=Math.floor(r)),d+=(y-d-r*(u-c))*f,a=r*(1-c),o&&(d=Math.round(d),a=Math.round(a));var _=l5(u).map(function(h){return d+r*h});return i(m?_.reverse():_)}return e.domain=function(u){return arguments.length?(t(u),l()):t()},e.range=function(u){return arguments.length?([n,s]=u,n=+n,s=+s,l()):[n,s]},e.rangeRound=function(u){return[n,s]=u,n=+n,s=+s,o=!0,l()},e.bandwidth=function(){return a},e.step=function(){return r},e.round=function(u){return arguments.length?(o=!!u,l()):o},e.padding=function(u){return arguments.length?(c=Math.min(1,p=+u),l()):c},e.paddingInner=function(u){return arguments.length?(c=Math.min(1,u),l()):c},e.paddingOuter=function(u){return arguments.length?(p=+u,l()):p},e.align=function(u){return arguments.length?(f=Math.max(0,Math.min(1,u)),l()):f},e.copy=function(){return Gd(t(),[n,s]).round(o).paddingInner(c).paddingOuter(p).align(f)},E_.apply(l(),arguments)}function lx(e){return function(){return e}}function ux(e){return+e}var N3=[0,1];function Uo(e){return e}function Od(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:lx(isNaN(t)?NaN:.5)}function mx(e,t){var i;return e>t&&(i=e,e=t,t=i),function(n){return Math.max(e,Math.min(t,n))}}function dx(e,t,i){var n=e[0],s=e[1],r=t[0],a=t[1];return s<n?(n=Od(s,n),r=i(a,r)):(n=Od(n,s),r=i(r,a)),function(o){return r(n(o))}}function hx(e,t,i){var n=Math.min(e.length,t.length)-1,s=new Array(n),r=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)s[a]=Od(e[a],e[a+1]),r[a]=i(t[a],t[a+1]);return function(o){var c=e5(e,o,1,n)-1;return r[c](s[c](o))}}function _x(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yx(){var e=N3,t=N3,i=qf,n,s,r,a=Uo,o,c,p;function f(){var u=Math.min(e.length,t.length);return a!==Uo&&(a=mx(e[0],e[u-1])),o=u>2?hx:dx,c=p=null,l}function l(u){return u==null||isNaN(u=+u)?r:(c||(c=o(e.map(n),t,i)))(n(a(u)))}return l.invert=function(u){return a(s((p||(p=o(t,e.map(n),ls)))(u)))},l.domain=function(u){return arguments.length?(e=Array.from(u,ux),f()):e.slice()},l.range=function(u){return arguments.length?(t=Array.from(u),f()):t.slice()},l.rangeRound=function(u){return t=Array.from(u),i=M7,f()},l.clamp=function(u){return arguments.length?(a=u?!0:Uo,f()):a!==Uo},l.interpolate=function(u){return arguments.length?(i=u,f()):i},l.unknown=function(u){return arguments.length?(r=u,l):r},function(u,m){return n=u,s=m,f()}}function gx(){return yx()(Uo,Uo)}function wx(e,t,i,n){var s=c5(e,t,i),r;switch(n=Hl(n==null?",f":n),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(r=px(s,a))&&(n.precision=r),g6(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(r=fx(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=r-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(r=cx(s))&&(n.precision=r-(n.type==="%")*2);break}}return Ul(n)}function Ex(e){var t=e.domain;return e.ticks=function(i){var n=t();return o5(n[0],n[n.length-1],i==null?10:i)},e.tickFormat=function(i,n){var s=t();return wx(s[0],s[s.length-1],i==null?10:i,n)},e.nice=function(i){i==null&&(i=10);var n=t(),s=0,r=n.length-1,a=n[s],o=n[r],c,p,f=10;for(o<a&&(p=a,a=o,o=p,p=s,s=r,r=p);f-- >0;){if(p=Hw(a,o,i),p===c)return n[s]=a,n[r]=o,t(n);if(p>0)a=Math.floor(a/p)*p,o=Math.ceil(o/p)*p;else if(p<0)a=Math.ceil(a*p)/p,o=Math.floor(o*p)/p;else break;c=p}return e},e}function Qr(){var e=gx();return e.copy=function(){return _x(e,Qr())},E_.apply(e,arguments),Ex(e)}function zi(e){return function(){return e}}function E6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v6(e){this._context=e}v6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wl(e){return new v6(e)}function b6(e){return e[0]}function x6(e){return e[1]}function S6(e,t){var i=zi(!0),n=null,s=Wl,r=null;e=typeof e=="function"?e:e===void 0?b6:zi(e),t=typeof t=="function"?t:t===void 0?x6:zi(t);function a(o){var c,p=(o=E6(o)).length,f,l=!1,u;for(n==null&&(r=s(u=g_())),c=0;c<=p;++c)!(c<p&&i(f=o[c],c,o))===l&&((l=!l)?r.lineStart():r.lineEnd()),l&&r.point(+e(f,c,o),+t(f,c,o));if(u)return r=null,u+""||null}return a.x=function(o){return arguments.length?(e=typeof o=="function"?o:zi(+o),a):e},a.y=function(o){return arguments.length?(t=typeof o=="function"?o:zi(+o),a):t},a.defined=function(o){return arguments.length?(i=typeof o=="function"?o:zi(!!o),a):i},a.curve=function(o){return arguments.length?(s=o,n!=null&&(r=s(n)),a):s},a.context=function(o){return arguments.length?(o==null?n=r=null:r=s(n=o),a):n},a}function vx(e,t,i){var n=null,s=zi(!0),r=null,a=Wl,o=null;e=typeof e=="function"?e:e===void 0?b6:zi(+e),t=typeof t=="function"?t:zi(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?x6:zi(+i);function c(f){var l,u,m,d=(f=E6(f)).length,y,_=!1,h,g=new Array(d),E=new Array(d);for(r==null&&(o=a(h=g_())),l=0;l<=d;++l){if(!(l<d&&s(y=f[l],l,f))===_)if(_=!_)u=l,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=l-1;m>=u;--m)o.point(g[m],E[m]);o.lineEnd(),o.areaEnd()}_&&(g[l]=+e(y,l,f),E[l]=+t(y,l,f),o.point(n?+n(y,l,f):g[l],i?+i(y,l,f):E[l]))}if(h)return o=null,h+""||null}function p(){return S6().defined(s).curve(a).context(r)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:zi(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zi(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zi(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:zi(+f),i=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zi(+f),c):t},c.y1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:zi(+f),c):i},c.lineX0=c.lineY0=function(){return p().x(e).y(t)},c.lineY1=function(){return p().x(e).y(i)},c.lineX1=function(){return p().x(n).y(t)},c.defined=function(f){return arguments.length?(s=typeof f=="function"?f:zi(!!f),c):s},c.curve=function(f){return arguments.length?(a=f,r!=null&&(o=a(r)),c):a},c.context=function(f){return arguments.length?(f==null?r=o=null:o=a(r=f),c):r},c}function Wo(e,t,i){this.k=e,this.x=t,this.y=i}Wo.prototype={constructor:Wo,scale:function(e){return e===1?this:new Wo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Wo(1,0,0);Wo.prototype;function bx(e){var t=this.constructor;return this.then(function(i){return t.resolve(e()).then(function(){return i})},function(i){return t.resolve(e()).then(function(){return t.reject(i)})})}function xx(e){var t=this;return new t(function(i,n){if(!(e&&typeof e.length<"u"))return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var s=Array.prototype.slice.call(e);if(s.length===0)return i([]);var r=s.length;function a(c,p){if(p&&(typeof p=="object"||typeof p=="function")){var f=p.then;if(typeof f=="function"){f.call(p,function(l){a(c,l)},function(l){s[c]={status:"rejected",reason:l},--r===0&&i(s)});return}}s[c]={status:"fulfilled",value:p},--r===0&&i(s)}for(var o=0;o<s.length;o++)a(o,s[o])})}var Sx=setTimeout;function M6(e){return Boolean(e&&typeof e.length<"u")}function Mx(){}function Ax(e,t){return function(){e.apply(t,arguments)}}function xi(e){if(!(this instanceof xi))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],C6(e,this)}function A6(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,xi._immediateFn(function(){var i=e._state===1?t.onFulfilled:t.onRejected;if(i===null){(e._state===1?kd:Kp)(t.promise,e._value);return}var n;try{n=i(e._value)}catch(s){Kp(t.promise,s);return}kd(t.promise,n)})}function kd(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var i=t.then;if(t instanceof xi){e._state=3,e._value=t,Bd(e);return}else if(typeof i=="function"){C6(Ax(i,t),e);return}}e._state=1,e._value=t,Bd(e)}catch(n){Kp(e,n)}}function Kp(e,t){e._state=2,e._value=t,Bd(e)}function Bd(e){e._state===2&&e._deferreds.length===0&&xi._immediateFn(function(){e._handled||xi._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)A6(e,e._deferreds[t]);e._deferreds=null}function Cx(e,t,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=i}function C6(e,t){var i=!1;try{e(function(n){i||(i=!0,kd(t,n))},function(n){i||(i=!0,Kp(t,n))})}catch(n){if(i)return;i=!0,Kp(t,n)}}xi.prototype.catch=function(e){return this.then(null,e)};xi.prototype.then=function(e,t){var i=new this.constructor(Mx);return A6(this,new Cx(e,t,i)),i};xi.prototype.finally=bx;xi.all=function(e){return new xi(function(t,i){if(!M6(e))return i(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var s=n.length;function r(o,c){try{if(c&&(typeof c=="object"||typeof c=="function")){var p=c.then;if(typeof p=="function"){p.call(c,function(f){r(o,f)},i);return}}n[o]=c,--s===0&&t(n)}catch(f){i(f)}}for(var a=0;a<n.length;a++)r(a,n[a])})};xi.allSettled=xx;xi.resolve=function(e){return e&&typeof e=="object"&&e.constructor===xi?e:new xi(function(t){t(e)})};xi.reject=function(e){return new xi(function(t,i){i(e)})};xi.race=function(e){return new xi(function(t,i){if(!M6(e))return i(new TypeError("Promise.race accepts an array"));for(var n=0,s=e.length;n<s;n++)xi.resolve(e[n]).then(t,i)})};xi._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){Sx(e,0)};xi._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let i=1;i<arguments.length;i++){const n=arguments[i];if(n!=null)for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t});const Px="118",Tx=0,D3=1,Ix=2,P6=1,Lx=2,Sp=3,Dc=0,Gi=1,zf=2,T6=1,_r=0,ea=1,Vd=2,G3=3,O3=4,Fx=5,Ro=100,Rx=101,Nx=102,k3=103,B3=104,Dx=200,Gx=201,Ox=202,kx=203,I6=204,L6=205,Bx=206,Vx=207,qx=208,zx=209,Hx=210,Ux=0,Wx=1,jx=2,qd=3,$x=4,Kx=5,Yx=6,Jx=7,$u=0,Qx=1,Xx=2,ic=0,Zx=1,e8=2,t8=3,i8=4,n8=5,v_=300,b_=301,x_=302,F6=303,S_=304,Hf=306,M_=307,jl=1e3,xn=1001,$l=1002,si=1003,zd=1004,Hd=1005,Ri=1006,R6=1007,Ku=1008,Ha=1009,s8=1010,r8=1011,Kl=1012,a8=1013,_l=1014,dr=1015,Yl=1016,o8=1017,c8=1018,p8=1019,Rp=1020,f8=1021,Da=1022,Mn=1023,l8=1024,u8=1025,m8=Mn,nc=1026,Yp=1027,d8=1028,h8=1029,_8=1030,y8=1031,g8=1032,w8=1033,V3=33776,q3=33777,z3=33778,H3=33779,U3=35840,W3=35841,j3=35842,$3=35843,E8=36196,K3=37492,Y3=37496,v8=37808,b8=37809,x8=37810,S8=37811,M8=37812,A8=37813,C8=37814,P8=37815,T8=37816,I8=37817,L8=37818,F8=37819,R8=37820,N8=37821,D8=36492,G8=37840,O8=37841,k8=37842,B8=37843,V8=37844,q8=37845,z8=37846,H8=37847,U8=37848,W8=37849,j8=37850,$8=37851,K8=37852,Y8=37853,J8=2200,Q8=2201,X8=2202,Jl=2300,yl=2301,P1=2302,lc=2400,jo=2401,Ql=2402,A_=2500,N6=2501,Z8=0,an=3e3,Uf=3001,C_=3007,P_=3002,e9=3003,D6=3004,G6=3005,O6=3006,t9=3200,i9=3201,Gc=0,n9=1,T1=7680,s9=519,Yu=35044,Jp=35048;function Pr(){}Object.assign(Pr.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const n=i.slice(0);for(let s=0,r=n.length;s<r;s++)n[s].call(this,e)}}});const Ui=[];for(let e=0;e<256;e++)Ui[e]=(e<16?"0":"")+e.toString(16);const Pt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ui[e&255]+Ui[e>>8&255]+Ui[e>>16&255]+Ui[e>>24&255]+"-"+Ui[t&255]+Ui[t>>8&255]+"-"+Ui[t>>16&15|64]+Ui[t>>24&255]+"-"+Ui[i&63|128]+Ui[i>>8&255]+"-"+Ui[i>>16&255]+Ui[i>>24&255]+Ui[n&255]+Ui[n>>8&255]+Ui[n>>16&255]+Ui[n>>24&255]).toUpperCase()},clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,n,s){return n+(e-t)*(s-n)/(i-t)},lerp:function(e,t,i){return(1-i)*e+i*t},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Pt.DEG2RAD},radToDeg:function(e){return e*Pt.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,i,n,s){const r=Math.cos,a=Math.sin,o=r(i/2),c=a(i/2),p=r((t+n)/2),f=a((t+n)/2),l=r((t-n)/2),u=a((t-n)/2),m=r((n-t)/2),d=a((n-t)/2);switch(s){case"XYX":e.set(o*f,c*l,c*u,o*p);break;case"YZY":e.set(c*u,o*f,c*l,o*p);break;case"ZXZ":e.set(c*l,c*u,o*f,o*p);break;case"XZX":e.set(o*f,c*d,c*m,o*p);break;case"YXY":e.set(c*m,o*f,c*d,o*p);break;case"ZYZ":e.set(c*d,c*m,o*f,o*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}};function Te(e=0,t=0){this.x=e,this.y=t}Object.defineProperties(Te.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(Te.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const i=Math.cos(t),n=Math.sin(t),s=this.x-e.x,r=this.y-e.y;return this.x=s*i-r*n+e.x,this.y=s*n+r*i+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}});function Yi(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Yi.prototype,{isMatrix3:!0,set:function(e,t,i,n,s,r,a,o,c){const p=this.elements;return p[0]=e,p[1]=n,p[2]=a,p[3]=t,p[4]=s,p[5]=o,p[6]=i,p[7]=r,p[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},extractBasis:function(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const i=e.elements,n=t.elements,s=this.elements,r=i[0],a=i[3],o=i[6],c=i[1],p=i[4],f=i[7],l=i[2],u=i[5],m=i[8],d=n[0],y=n[3],_=n[6],h=n[1],g=n[4],E=n[7],w=n[2],v=n[5],x=n[8];return s[0]=r*d+a*h+o*w,s[3]=r*y+a*g+o*v,s[6]=r*_+a*E+o*x,s[1]=c*d+p*h+f*w,s[4]=c*y+p*g+f*v,s[7]=c*_+p*E+f*x,s[2]=l*d+u*h+m*w,s[5]=l*y+u*g+m*v,s[8]=l*_+u*E+m*x,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],i=e[1],n=e[2],s=e[3],r=e[4],a=e[5],o=e[6],c=e[7],p=e[8];return t*r*p-t*a*c-i*s*p+i*a*o+n*s*c-n*r*o},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const i=e.elements,n=this.elements,s=i[0],r=i[1],a=i[2],o=i[3],c=i[4],p=i[5],f=i[6],l=i[7],u=i[8],m=u*c-p*l,d=p*f-u*o,y=l*o-c*f,_=s*m+r*d+a*y;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const h=1/_;return n[0]=m*h,n[1]=(a*l-u*r)*h,n[2]=(p*r-a*c)*h,n[3]=d*h,n[4]=(u*s-a*f)*h,n[5]=(a*o-p*s)*h,n[6]=y*h,n[7]=(r*f-l*s)*h,n[8]=(c*s-r*o)*h,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,i,n,s,r,a){const o=Math.cos(s),c=Math.sin(s);this.set(i*o,i*c,-i*(o*r+c*a)+r+e,-n*c,n*o,-n*(-c*r+o*a)+a+t,0,0,1)},scale:function(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this},rotate:function(e){const t=Math.cos(e),i=Math.sin(e),n=this.elements,s=n[0],r=n[3],a=n[6],o=n[1],c=n[4],p=n[7];return n[0]=t*s+i*o,n[3]=t*r+i*c,n[6]=t*a+i*p,n[1]=-i*s+t*o,n[4]=-i*r+t*c,n[7]=-i*a+t*p,this},translate:function(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this},equals:function(e){const t=this.elements,i=e.elements;for(let n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}});let co;const Ua={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{co===void 0&&(co=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),co.width=e.width,co.height=e.height;const i=co.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=co}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let r9=0;function pi(e,t,i,n,s,r,a,o,c,p){Object.defineProperty(this,"id",{value:r9++}),this.uuid=Pt.generateUUID(),this.name="",this.image=e!==void 0?e:pi.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:pi.DEFAULT_MAPPING,this.wrapS=i!==void 0?i:xn,this.wrapT=n!==void 0?n:xn,this.magFilter=s!==void 0?s:Ri,this.minFilter=r!==void 0?r:Ku,this.anisotropy=c!==void 0?c:1,this.format=a!==void 0?a:Mn,this.internalFormat=null,this.type=o!==void 0?o:Ha,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p!==void 0?p:an,this.version=0,this.onUpdate=null}pi.DEFAULT_IMAGE=void 0;pi.DEFAULT_MAPPING=v_;pi.prototype=Object.assign(Object.create(Pr.prototype),{constructor:pi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const n=this.image;if(n.uuid===void 0&&(n.uuid=Pt.generateUUID()),!t&&e.images[n.uuid]===void 0){let s;if(Array.isArray(n)){s=[];for(let r=0,a=n.length;r<a;r++)s.push(Ua.getDataURL(n[r]))}else s=Ua.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:s}}i.image=n.uuid}return t||(e.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==v_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case jl:e.x=e.x-Math.floor(e.x);break;case xn:e.x=e.x<0?0:1;break;case $l:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case jl:e.y=e.y-Math.floor(e.y);break;case xn:e.y=e.y<0?0:1;break;case $l:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(pi.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function ti(e=0,t=0,i=0,n=1){this.x=e,this.y=t,this.z=i,this.w=n}Object.defineProperties(ti.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}});Object.assign(ti.prototype,{isVector4:!0,set:function(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,i=this.y,n=this.z,s=this.w,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n+r[12]*s,this.y=r[1]*t+r[5]*i+r[9]*n+r[13]*s,this.z=r[2]*t+r[6]*i+r[10]*n+r[14]*s,this.w=r[3]*t+r[7]*i+r[11]*n+r[15]*s,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,i,n,s;const o=e.elements,c=o[0],p=o[4],f=o[8],l=o[1],u=o[5],m=o[9],d=o[2],y=o[6],_=o[10];if(Math.abs(p-l)<.01&&Math.abs(f-d)<.01&&Math.abs(m-y)<.01){if(Math.abs(p+l)<.1&&Math.abs(f+d)<.1&&Math.abs(m+y)<.1&&Math.abs(c+u+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const g=(c+1)/2,E=(u+1)/2,w=(_+1)/2,v=(p+l)/4,x=(f+d)/4,b=(m+y)/4;return g>E&&g>w?g<.01?(i=0,n=.707106781,s=.707106781):(i=Math.sqrt(g),n=v/i,s=x/i):E>w?E<.01?(i=.707106781,n=0,s=.707106781):(n=Math.sqrt(E),i=v/n,s=b/n):w<.01?(i=.707106781,n=.707106781,s=0):(s=Math.sqrt(w),i=x/s,n=b/s),this.set(i,n,s,t),this}let h=Math.sqrt((y-m)*(y-m)+(f-d)*(f-d)+(l-p)*(l-p));return Math.abs(h)<.001&&(h=1),this.x=(y-m)/h,this.y=(f-d)/h,this.z=(l-p)/h,this.w=Math.acos((c+u+_-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}});function dn(e,t,i){this.width=e,this.height=t,this.scissor=new ti(0,0,e,t),this.scissorTest=!1,this.viewport=new ti(0,0,e,t),i=i||{},this.texture=new pi(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Ri,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!0,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}dn.prototype=Object.assign(Object.create(Pr.prototype),{constructor:dn,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function J3(e,t,i){dn.call(this,e,t,i),this.samples=4}J3.prototype=Object.assign(Object.create(dn.prototype),{constructor:J3,isWebGLMultisampleRenderTarget:!0,copy:function(e){return dn.prototype.copy.call(this,e),this.samples=e.samples,this}});function ri(e=0,t=0,i=0,n=1){this._x=e,this._y=t,this._z=i,this._w=n}Object.assign(ri,{slerp:function(e,t,i,n){return i.copy(e).slerp(t,n)},slerpFlat:function(e,t,i,n,s,r,a){let o=i[n+0],c=i[n+1],p=i[n+2],f=i[n+3];const l=s[r+0],u=s[r+1],m=s[r+2],d=s[r+3];if(f!==d||o!==l||c!==u||p!==m){let y=1-a,_=o*l+c*u+p*m+f*d,h=_>=0?1:-1,g=1-_*_;if(g>Number.EPSILON){const w=Math.sqrt(g),v=Math.atan2(w,_*h);y=Math.sin(y*v)/w,a=Math.sin(a*v)/w}const E=a*h;if(o=o*y+l*E,c=c*y+u*E,p=p*y+m*E,f=f*y+d*E,y===1-a){const w=1/Math.sqrt(o*o+c*c+p*p+f*f);o*=w,c*=w,p*=w,f*=w}}e[t]=o,e[t+1]=c,e[t+2]=p,e[t+3]=f},multiplyQuaternionsFlat:function(e,t,i,n,s,r){const a=i[n],o=i[n+1],c=i[n+2],p=i[n+3],f=s[r],l=s[r+1],u=s[r+2],m=s[r+3];return e[t]=a*m+p*f+o*u-c*l,e[t+1]=o*m+p*l+c*f-a*u,e[t+2]=c*m+p*u+a*l-o*f,e[t+3]=p*m-a*f-o*l-c*u,e}});Object.defineProperties(ri.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}});Object.assign(ri.prototype,{isQuaternion:!0,set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,n=e._y,s=e._z,r=e.order,a=Math.cos,o=Math.sin,c=a(i/2),p=a(n/2),f=a(s/2),l=o(i/2),u=o(n/2),m=o(s/2);switch(r){case"XYZ":this._x=l*p*f+c*u*m,this._y=c*u*f-l*p*m,this._z=c*p*m+l*u*f,this._w=c*p*f-l*u*m;break;case"YXZ":this._x=l*p*f+c*u*m,this._y=c*u*f-l*p*m,this._z=c*p*m-l*u*f,this._w=c*p*f+l*u*m;break;case"ZXY":this._x=l*p*f-c*u*m,this._y=c*u*f+l*p*m,this._z=c*p*m+l*u*f,this._w=c*p*f-l*u*m;break;case"ZYX":this._x=l*p*f-c*u*m,this._y=c*u*f+l*p*m,this._z=c*p*m-l*u*f,this._w=c*p*f+l*u*m;break;case"YZX":this._x=l*p*f+c*u*m,this._y=c*u*f+l*p*m,this._z=c*p*m-l*u*f,this._w=c*p*f-l*u*m;break;case"XZY":this._x=l*p*f-c*u*m,this._y=c*u*f-l*p*m,this._z=c*p*m+l*u*f,this._w=c*p*f+l*u*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+r)}return t!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,i=t[0],n=t[4],s=t[8],r=t[1],a=t[5],o=t[9],c=t[2],p=t[6],f=t[10],l=i+a+f;if(l>0){const u=.5/Math.sqrt(l+1);this._w=.25/u,this._x=(p-o)*u,this._y=(s-c)*u,this._z=(r-n)*u}else if(i>a&&i>f){const u=2*Math.sqrt(1+i-a-f);this._w=(p-o)/u,this._x=.25*u,this._y=(n+r)/u,this._z=(s+c)/u}else if(a>f){const u=2*Math.sqrt(1+a-i-f);this._w=(s-c)/u,this._x=(n+r)/u,this._y=.25*u,this._z=(o+p)/u}else{const u=2*Math.sqrt(1+f-i-a);this._w=(r-n)/u,this._x=(s+c)/u,this._y=(o+p)/u,this._z=.25*u}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){let n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Pt.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const i=this.angleTo(e);if(i===0)return this;const n=Math.min(1,t/i);return this.slerp(e,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const i=e._x,n=e._y,s=e._z,r=e._w,a=t._x,o=t._y,c=t._z,p=t._w;return this._x=i*p+r*a+n*c-s*o,this._y=n*p+r*o+s*a-i*c,this._z=s*p+r*c+i*o-n*a,this._w=r*p-i*a-n*o-s*c,this._onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,n=this._y,s=this._z,r=this._w;let a=r*e._w+i*e._x+n*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=r,this._x=i,this._y=n,this._z=s,this;const o=1-a*a;if(o<=Number.EPSILON){const u=1-t;return this._w=u*r+t*this._w,this._x=u*i+t*this._x,this._y=u*n+t*this._y,this._z=u*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(o),p=Math.atan2(c,a),f=Math.sin((1-t)*p)/c,l=Math.sin(t*p)/c;return this._w=r*f+this._w*l,this._x=i*f+this._x*l,this._y=n*f+this._y*l,this._z=s*f+this._z*l,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const I1=new P,Q3=new ri;function P(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}Object.assign(P.prototype,{isVector3:!0,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Q3.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Q3.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,i=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*n,this.y=s[1]*t+s[4]*i+s[7]*n,this.z=s[2]*t+s[5]*i+s[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,i=this.y,n=this.z,s=e.elements,r=1/(s[3]*t+s[7]*i+s[11]*n+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*n+s[12])*r,this.y=(s[1]*t+s[5]*i+s[9]*n+s[13])*r,this.z=(s[2]*t+s[6]*i+s[10]*n+s[14])*r,this},applyQuaternion:function(e){const t=this.x,i=this.y,n=this.z,s=e.x,r=e.y,a=e.z,o=e.w,c=o*t+r*n-a*i,p=o*i+a*t-s*n,f=o*n+s*i-r*t,l=-s*t-r*i-a*n;return this.x=c*o+l*-s+p*-a-f*-r,this.y=p*o+l*-r+f*-s-c*-a,this.z=f*o+l*-a+c*-r-p*-s,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,i=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*n,this.y=s[1]*t+s[5]*i+s[9]*n,this.z=s[2]*t+s[6]*i+s[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const i=e.x,n=e.y,s=e.z,r=t.x,a=t.y,o=t.z;return this.x=n*o-s*a,this.y=s*r-i*o,this.z=i*a-n*r,this},projectOnVector:function(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)},projectOnPlane:function(e){return I1.copy(this).projectOnVector(e),this.sub(I1)},reflect:function(e){return this.sub(I1.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Pt.clamp(i,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,i){const n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,t*3)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const po=new P,ts=new De,a9=new P(0,0,0),o9=new P(1,1,1),Gr=new P,s0=new P,Pn=new P;function De(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(De.prototype,{isMatrix4:!0,set:function(e,t,i,n,s,r,a,o,c,p,f,l,u,m,d,y){const _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=n,_[1]=s,_[5]=r,_[9]=a,_[13]=o,_[2]=c,_[6]=p,_[10]=f,_[14]=l,_[3]=u,_[7]=m,_[11]=d,_[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new De().fromArray(this.elements)},copy:function(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},copyPosition:function(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,i=e.elements,n=1/po.setFromMatrixColumn(e,0).length(),s=1/po.setFromMatrixColumn(e,1).length(),r=1/po.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*r,t[9]=i[9]*r,t[10]=i[10]*r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,n=e.y,s=e.z,r=Math.cos(i),a=Math.sin(i),o=Math.cos(n),c=Math.sin(n),p=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const l=r*p,u=r*f,m=a*p,d=a*f;t[0]=o*p,t[4]=-o*f,t[8]=c,t[1]=u+m*c,t[5]=l-d*c,t[9]=-a*o,t[2]=d-l*c,t[6]=m+u*c,t[10]=r*o}else if(e.order==="YXZ"){const l=o*p,u=o*f,m=c*p,d=c*f;t[0]=l+d*a,t[4]=m*a-u,t[8]=r*c,t[1]=r*f,t[5]=r*p,t[9]=-a,t[2]=u*a-m,t[6]=d+l*a,t[10]=r*o}else if(e.order==="ZXY"){const l=o*p,u=o*f,m=c*p,d=c*f;t[0]=l-d*a,t[4]=-r*f,t[8]=m+u*a,t[1]=u+m*a,t[5]=r*p,t[9]=d-l*a,t[2]=-r*c,t[6]=a,t[10]=r*o}else if(e.order==="ZYX"){const l=r*p,u=r*f,m=a*p,d=a*f;t[0]=o*p,t[4]=m*c-u,t[8]=l*c+d,t[1]=o*f,t[5]=d*c+l,t[9]=u*c-m,t[2]=-c,t[6]=a*o,t[10]=r*o}else if(e.order==="YZX"){const l=r*o,u=r*c,m=a*o,d=a*c;t[0]=o*p,t[4]=d-l*f,t[8]=m*f+u,t[1]=f,t[5]=r*p,t[9]=-a*p,t[2]=-c*p,t[6]=u*f+m,t[10]=l-d*f}else if(e.order==="XZY"){const l=r*o,u=r*c,m=a*o,d=a*c;t[0]=o*p,t[4]=-f,t[8]=c*p,t[1]=l*f+d,t[5]=r*p,t[9]=u*f-m,t[2]=m*f-u,t[6]=a*p,t[10]=d*f+l}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(a9,e,o9)},lookAt:function(e,t,i){const n=this.elements;return Pn.subVectors(e,t),Pn.lengthSq()===0&&(Pn.z=1),Pn.normalize(),Gr.crossVectors(i,Pn),Gr.lengthSq()===0&&(Math.abs(i.z)===1?Pn.x+=1e-4:Pn.z+=1e-4,Pn.normalize(),Gr.crossVectors(i,Pn)),Gr.normalize(),s0.crossVectors(Pn,Gr),n[0]=Gr.x,n[4]=s0.x,n[8]=Pn.x,n[1]=Gr.y,n[5]=s0.y,n[9]=Pn.y,n[2]=Gr.z,n[6]=s0.z,n[10]=Pn.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const i=e.elements,n=t.elements,s=this.elements,r=i[0],a=i[4],o=i[8],c=i[12],p=i[1],f=i[5],l=i[9],u=i[13],m=i[2],d=i[6],y=i[10],_=i[14],h=i[3],g=i[7],E=i[11],w=i[15],v=n[0],x=n[4],b=n[8],A=n[12],M=n[1],G=n[5],T=n[9],N=n[13],D=n[2],L=n[6],C=n[10],O=n[14],q=n[3],z=n[7],$=n[11],re=n[15];return s[0]=r*v+a*M+o*D+c*q,s[4]=r*x+a*G+o*L+c*z,s[8]=r*b+a*T+o*C+c*$,s[12]=r*A+a*N+o*O+c*re,s[1]=p*v+f*M+l*D+u*q,s[5]=p*x+f*G+l*L+u*z,s[9]=p*b+f*T+l*C+u*$,s[13]=p*A+f*N+l*O+u*re,s[2]=m*v+d*M+y*D+_*q,s[6]=m*x+d*G+y*L+_*z,s[10]=m*b+d*T+y*C+_*$,s[14]=m*A+d*N+y*O+_*re,s[3]=h*v+g*M+E*D+w*q,s[7]=h*x+g*G+E*L+w*z,s[11]=h*b+g*T+E*C+w*$,s[15]=h*A+g*N+E*O+w*re,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],i=e[4],n=e[8],s=e[12],r=e[1],a=e[5],o=e[9],c=e[13],p=e[2],f=e[6],l=e[10],u=e[14],m=e[3],d=e[7],y=e[11],_=e[15];return m*(+s*o*f-n*c*f-s*a*l+i*c*l+n*a*u-i*o*u)+d*(+t*o*u-t*c*l+s*r*l-n*r*u+n*c*p-s*o*p)+y*(+t*c*f-t*a*u-s*r*f+i*r*u+s*a*p-i*c*p)+_*(-n*a*p-t*o*f+t*a*l+n*r*f-i*r*l+i*o*p)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,i){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const i=this.elements,n=e.elements,s=n[0],r=n[1],a=n[2],o=n[3],c=n[4],p=n[5],f=n[6],l=n[7],u=n[8],m=n[9],d=n[10],y=n[11],_=n[12],h=n[13],g=n[14],E=n[15],w=m*g*l-h*d*l+h*f*y-p*g*y-m*f*E+p*d*E,v=_*d*l-u*g*l-_*f*y+c*g*y+u*f*E-c*d*E,x=u*h*l-_*m*l+_*p*y-c*h*y-u*p*E+c*m*E,b=_*m*f-u*h*f-_*p*d+c*h*d+u*p*g-c*m*g,A=s*w+r*v+a*x+o*b;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/A;return i[0]=w*M,i[1]=(h*d*o-m*g*o-h*a*y+r*g*y+m*a*E-r*d*E)*M,i[2]=(p*g*o-h*f*o+h*a*l-r*g*l-p*a*E+r*f*E)*M,i[3]=(m*f*o-p*d*o-m*a*l+r*d*l+p*a*y-r*f*y)*M,i[4]=v*M,i[5]=(u*g*o-_*d*o+_*a*y-s*g*y-u*a*E+s*d*E)*M,i[6]=(_*f*o-c*g*o-_*a*l+s*g*l+c*a*E-s*f*E)*M,i[7]=(c*d*o-u*f*o+u*a*l-s*d*l-c*a*y+s*f*y)*M,i[8]=x*M,i[9]=(_*m*o-u*h*o-_*r*y+s*h*y+u*r*E-s*m*E)*M,i[10]=(c*h*o-_*p*o+_*r*l-s*h*l-c*r*E+s*p*E)*M,i[11]=(u*p*o-c*m*o-u*r*l+s*m*l+c*r*y-s*p*y)*M,i[12]=b*M,i[13]=(u*h*a-_*m*a+_*r*d-s*h*d-u*r*g+s*m*g)*M,i[14]=(_*p*a-c*h*a-_*r*f+s*h*f+c*r*g-s*p*g)*M,i[15]=(c*m*a-u*p*a+u*r*f-s*m*f-c*r*d+s*p*d)*M,this},scale:function(e){const t=this.elements,i=e.x,n=e.y,s=e.z;return t[0]*=i,t[4]*=n,t[8]*=s,t[1]*=i,t[5]*=n,t[9]*=s,t[2]*=i,t[6]*=n,t[10]*=s,t[3]*=i,t[7]*=n,t[11]*=s,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const i=Math.cos(t),n=Math.sin(t),s=1-i,r=e.x,a=e.y,o=e.z,c=s*r,p=s*a;return this.set(c*r+i,c*a-n*o,c*o+n*a,0,c*a+n*o,p*a+i,p*o-n*r,0,c*o-n*a,p*o+n*r,s*o*o+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(e,t,i){return this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,i){const n=this.elements,s=t._x,r=t._y,a=t._z,o=t._w,c=s+s,p=r+r,f=a+a,l=s*c,u=s*p,m=s*f,d=r*p,y=r*f,_=a*f,h=o*c,g=o*p,E=o*f,w=i.x,v=i.y,x=i.z;return n[0]=(1-(d+_))*w,n[1]=(u+E)*w,n[2]=(m-g)*w,n[3]=0,n[4]=(u-E)*v,n[5]=(1-(l+_))*v,n[6]=(y+h)*v,n[7]=0,n[8]=(m+g)*x,n[9]=(y-h)*x,n[10]=(1-(l+d))*x,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,i){const n=this.elements;let s=po.set(n[0],n[1],n[2]).length(),r=po.set(n[4],n[5],n[6]).length(),a=po.set(n[8],n[9],n[10]).length();this.determinant()<0&&(s=-s),e.x=n[12],e.y=n[13],e.z=n[14],ts.copy(this);const c=1/s,p=1/r,f=1/a;return ts.elements[0]*=c,ts.elements[1]*=c,ts.elements[2]*=c,ts.elements[4]*=p,ts.elements[5]*=p,ts.elements[6]*=p,ts.elements[8]*=f,ts.elements[9]*=f,ts.elements[10]*=f,t.setFromRotationMatrix(ts),i.x=s,i.y=r,i.z=a,this},makePerspective:function(e,t,i,n,s,r){r===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*s/(t-e),c=2*s/(i-n),p=(t+e)/(t-e),f=(i+n)/(i-n),l=-(r+s)/(r-s),u=-2*r*s/(r-s);return a[0]=o,a[4]=0,a[8]=p,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=u,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,i,n,s,r){const a=this.elements,o=1/(t-e),c=1/(i-n),p=1/(r-s),f=(t+e)*o,l=(i+n)*c,u=(r+s)*p;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*p,a[14]=-u,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){const t=this.elements,i=e.elements;for(let n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}});const X3=new De,Z3=new ri;function oa(e=0,t=0,i=0,n=oa.DefaultOrder){this._x=e,this._y=t,this._z=i,this._order=n}oa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];oa.DefaultOrder="XYZ";Object.defineProperties(oa.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}});Object.assign(oa.prototype,{isEuler:!0,set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){const n=Pt.clamp,s=e.elements,r=s[0],a=s[4],o=s[8],c=s[1],p=s[5],f=s[9],l=s[2],u=s[6],m=s[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(u,p),this._z=0);break;case"YXZ":this._x=Math.asin(-n(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(c,p)):(this._y=Math.atan2(-l,r),this._z=0);break;case"ZXY":this._x=Math.asin(n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-l,m),this._z=Math.atan2(-a,p)):(this._y=0,this._z=Math.atan2(c,r));break;case"ZYX":this._y=Math.asin(-n(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(u,m),this._z=Math.atan2(c,r)):(this._x=0,this._z=Math.atan2(-a,p));break;case"YZX":this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,p),this._y=Math.atan2(-l,r)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(u,p),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,i){return X3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(X3,t,i)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Z3.setFromEuler(this),this.setFromQuaternion(Z3,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new P(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});function T_(){this.mask=1}Object.assign(T_.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!==0}});let c9=0;const ey=new P,fo=new ri,er=new De,r0=new P,Xc=new P,p9=new P,f9=new ri,ty=new P(1,0,0),iy=new P(0,1,0),ny=new P(0,0,1),l9={type:"added"},u9={type:"removed"};function Ue(){Object.defineProperty(this,"id",{value:c9++}),this.uuid=Pt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ue.DefaultUp.clone();const e=new P,t=new oa,i=new ri,n=new P(1,1,1);function s(){i.setFromEuler(t,!1)}function r(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(r),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new De},normalMatrix:{value:new Yi}}),this.matrix=new De,this.matrixWorld=new De,this.matrixAutoUpdate=Ue.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new T_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Ue.DefaultUp=new P(0,1,0);Ue.DefaultMatrixAutoUpdate=!0;Ue.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Ue,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return fo.setFromAxisAngle(e,t),this.quaternion.multiply(fo),this},rotateOnWorldAxis:function(e,t){return fo.setFromAxisAngle(e,t),this.quaternion.premultiply(fo),this},rotateX:function(e){return this.rotateOnAxis(ty,e)},rotateY:function(e){return this.rotateOnAxis(iy,e)},rotateZ:function(e){return this.rotateOnAxis(ny,e)},translateOnAxis:function(e,t){return ey.copy(e).applyQuaternion(this.quaternion),this.position.add(ey.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ty,e)},translateY:function(e){return this.translateOnAxis(iy,e)},translateZ:function(e){return this.translateOnAxis(ny,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(er.getInverse(this.matrixWorld))},lookAt:function(e,t,i){e.isVector3?r0.copy(e):r0.set(e,t,i);const n=this.parent;this.updateWorldMatrix(!0,!1),Xc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?er.lookAt(Xc,r0,this.up):er.lookAt(r0,Xc,this.up),this.quaternion.setFromRotationMatrix(er),n&&(er.extractRotation(n.matrixWorld),fo.setFromRotationMatrix(er),this.quaternion.premultiply(fo.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(l9)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(u9)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),er.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),er.multiply(e.parent.matrixWorld)),e.applyMatrix4(er),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let i=0,n=this.children.length;i<n;i++){const r=this.children[i].getObjectByProperty(e,t);if(r!==void 0)return r}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new P),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new ri),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Xc,e,p9),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new P),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Xc,f9,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new P),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const n=this.children;for(let s=0,r=n.length;s<r;s++)n[s].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON());function s(a,o){return a[o.uuid]===void 0&&(a[o.uuid]=o.toJSON(e)),o.uuid}if(this.isMesh||this.isLine||this.isPoints){n.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const o=a.shapes;if(Array.isArray(o))for(let c=0,p=o.length;c<p;c++){const f=o[c];s(e.shapes,f)}else s(e.shapes,o)}}if(this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let o=0,c=this.material.length;o<c;o++)a.push(s(e.materials,this.material[o]));n.material=a}else n.material=s(e.materials,this.material);if(this.children.length>0){n.children=[];for(let a=0;a<this.children.length;a++)n.children.push(this.children[a].toJSON(e).object)}if(t){const a=r(e.geometries),o=r(e.materials),c=r(e.textures),p=r(e.images),f=r(e.shapes);a.length>0&&(i.geometries=a),o.length>0&&(i.materials=o),c.length>0&&(i.textures=c),p.length>0&&(i.images=p),f.length>0&&(i.shapes=f)}return i.object=n,i;function r(a){const o=[];for(const c in a){const p=a[c];delete p.metadata,o.push(p)}return o}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const n=e.children[i];this.add(n.clone())}return this}});function uc(){Ue.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}uc.prototype=Object.assign(Object.create(Ue.prototype),{constructor:uc,isScene:!0,copy:function(e,t){return Ue.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=Ue.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const tr=[new P,new P,new P,new P,new P,new P,new P,new P],Zc=new P,L1=new ai,lo=new P,uo=new P,mo=new P,Or=new P,kr=new P,Ea=new P,ep=new P,a0=new P,o0=new P,va=new P;function ai(e,t){this.min=e!==void 0?e:new P(1/0,1/0,1/0),this.max=t!==void 0?t:new P(-1/0,-1/0,-1/0)}Object.assign(ai.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,i=1/0,n=1/0,s=-1/0,r=-1/0,a=-1/0;for(let o=0,c=e.length;o<c;o+=3){const p=e[o],f=e[o+1],l=e[o+2];p<t&&(t=p),f<i&&(i=f),l<n&&(n=l),p>s&&(s=p),f>r&&(r=f),l>a&&(a=l)}return this.min.set(t,i,n),this.max.set(s,r,a),this},setFromBufferAttribute:function(e){let t=1/0,i=1/0,n=1/0,s=-1/0,r=-1/0,a=-1/0;for(let o=0,c=e.count;o<c;o++){const p=e.getX(o),f=e.getY(o),l=e.getZ(o);p<t&&(t=p),f<i&&(i=f),l<n&&(n=l),p>s&&(s=p),f>r&&(r=f),l>a&&(a=l)}return this.min.set(t,i,n),this.max.set(s,r,a),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const i=Zc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new P),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new P),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),L1.copy(t.boundingBox),L1.applyMatrix4(e.matrixWorld),this.union(L1));const i=e.children;for(let n=0,s=i.length;n<s;n++)this.expandByObject(i[n]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new P),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Zc),Zc.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(ep),a0.subVectors(this.max,ep),lo.subVectors(e.a,ep),uo.subVectors(e.b,ep),mo.subVectors(e.c,ep),Or.subVectors(uo,lo),kr.subVectors(mo,uo),Ea.subVectors(lo,mo);let t=[0,-Or.z,Or.y,0,-kr.z,kr.y,0,-Ea.z,Ea.y,Or.z,0,-Or.x,kr.z,0,-kr.x,Ea.z,0,-Ea.x,-Or.y,Or.x,0,-kr.y,kr.x,0,-Ea.y,Ea.x,0];return!F1(t,lo,uo,mo,a0)||(t=[1,0,0,0,1,0,0,0,1],!F1(t,lo,uo,mo,a0))?!1:(o0.crossVectors(Or,kr),t=[o0.x,o0.y,o0.z],F1(t,lo,uo,mo,a0))},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new P),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Zc.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(Zc).length()*.5,e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(tr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),tr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),tr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),tr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),tr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),tr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),tr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),tr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(tr),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function F1(e,t,i,n,s){for(let r=0,a=e.length-3;r<=a;r+=3){va.fromArray(e,r);const o=s.x*Math.abs(va.x)+s.y*Math.abs(va.y)+s.z*Math.abs(va.z),c=t.dot(va),p=i.dot(va),f=n.dot(va);if(Math.max(-Math.max(c,p,f),Math.min(c,p,f))>o)return!1}return!0}const m9=new ai;function Tr(e,t){this.center=e!==void 0?e:new P,this.radius=t!==void 0?t:-1}Object.assign(Tr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const i=this.center;t!==void 0?i.copy(t):m9.setFromPoints(e).getCenter(i);let n=0;for(let s=0,r=e.length;s<r;s++)n=Math.max(n,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(n),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const i=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new P),t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new ai),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const ir=new P,R1=new P,c0=new P,Br=new P,N1=new P,p0=new P,D1=new P;function Oc(e,t){this.origin=e!==void 0?e:new P,this.direction=t!==void 0?t:new P(0,0,-1)}Object.assign(Oc.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new P),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,ir)),this},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new P),t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=ir.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ir.copy(this.direction).multiplyScalar(t).add(this.origin),ir.distanceToSquared(e))},distanceSqToSegment:function(e,t,i,n){R1.copy(e).add(t).multiplyScalar(.5),c0.copy(t).sub(e).normalize(),Br.copy(this.origin).sub(R1);const s=e.distanceTo(t)*.5,r=-this.direction.dot(c0),a=Br.dot(this.direction),o=-Br.dot(c0),c=Br.lengthSq(),p=Math.abs(1-r*r);let f,l,u,m;if(p>0)if(f=r*o-a,l=r*a-o,m=s*p,f>=0)if(l>=-m)if(l<=m){const d=1/p;f*=d,l*=d,u=f*(f+r*l+2*a)+l*(r*f+l+2*o)+c}else l=s,f=Math.max(0,-(r*l+a)),u=-f*f+l*(l+2*o)+c;else l=-s,f=Math.max(0,-(r*l+a)),u=-f*f+l*(l+2*o)+c;else l<=-m?(f=Math.max(0,-(-r*s+a)),l=f>0?-s:Math.min(Math.max(-s,-o),s),u=-f*f+l*(l+2*o)+c):l<=m?(f=0,l=Math.min(Math.max(-s,-o),s),u=l*(l+2*o)+c):(f=Math.max(0,-(r*s+a)),l=f>0?s:Math.min(Math.max(-s,-o),s),u=-f*f+l*(l+2*o)+c);else l=r>0?-s:s,f=Math.max(0,-(r*l+a)),u=-f*f+l*(l+2*o)+c;return i&&i.copy(this.direction).multiplyScalar(f).add(this.origin),n&&n.copy(c0).multiplyScalar(l).add(R1),u},intersectSphere:function(e,t){ir.subVectors(e.center,this.origin);const i=ir.dot(this.direction),n=ir.dot(ir)-i*i,s=e.radius*e.radius;if(n>s)return null;const r=Math.sqrt(s-n),a=i-r,o=i+r;return a<0&&o<0?null:a<0?this.at(o,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){let i,n,s,r,a,o;const c=1/this.direction.x,p=1/this.direction.y,f=1/this.direction.z,l=this.origin;return c>=0?(i=(e.min.x-l.x)*c,n=(e.max.x-l.x)*c):(i=(e.max.x-l.x)*c,n=(e.min.x-l.x)*c),p>=0?(s=(e.min.y-l.y)*p,r=(e.max.y-l.y)*p):(s=(e.max.y-l.y)*p,r=(e.min.y-l.y)*p),i>r||s>n||((s>i||i!==i)&&(i=s),(r<n||n!==n)&&(n=r),f>=0?(a=(e.min.z-l.z)*f,o=(e.max.z-l.z)*f):(a=(e.max.z-l.z)*f,o=(e.min.z-l.z)*f),i>o||a>n)||((a>i||i!==i)&&(i=a),(o<n||n!==n)&&(n=o),n<0)?null:this.at(i>=0?i:n,t)},intersectsBox:function(e){return this.intersectBox(e,ir)!==null},intersectTriangle:function(e,t,i,n,s){N1.subVectors(t,e),p0.subVectors(i,e),D1.crossVectors(N1,p0);let r=this.direction.dot(D1),a;if(r>0){if(n)return null;a=1}else if(r<0)a=-1,r=-r;else return null;Br.subVectors(this.origin,e);const o=a*this.direction.dot(p0.crossVectors(Br,p0));if(o<0)return null;const c=a*this.direction.dot(N1.cross(Br));if(c<0||o+c>r)return null;const p=-a*Br.dot(D1);return p<0?null:this.at(p/r,s)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const G1=new P,d9=new P,h9=new Yi;function Os(e,t){this.normal=e!==void 0?e:new P(1,0,0),this.constant=t!==void 0?t:0}Object.assign(Os.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,i){const n=G1.subVectors(i,t).cross(d9.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new P),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new P);const i=e.delta(G1),n=this.normal.dot(i);if(n===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):void 0;const s=-(e.start.dot(this.normal)+this.constant)/n;if(!(s<0||s>1))return t.copy(i).multiplyScalar(s).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new P),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const i=t||h9.getNormalMatrix(e),n=this.coplanarPoint(G1).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(s),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const os=new P,fr=new P,O1=new P,nr=new P,ho=new P,_o=new P,sy=new P,k1=new P,B1=new P,V1=new P;function Ki(e,t,i){this.a=e!==void 0?e:new P,this.b=t!==void 0?t:new P,this.c=i!==void 0?i:new P}Object.assign(Ki,{getNormal:function(e,t,i,n){n===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new P),n.subVectors(i,t),os.subVectors(e,t),n.cross(os);const s=n.lengthSq();return s>0?n.multiplyScalar(1/Math.sqrt(s)):n.set(0,0,0)},getBarycoord:function(e,t,i,n,s){os.subVectors(n,t),fr.subVectors(i,t),O1.subVectors(e,t);const r=os.dot(os),a=os.dot(fr),o=os.dot(O1),c=fr.dot(fr),p=fr.dot(O1),f=r*c-a*a;if(s===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new P),f===0)return s.set(-2,-1,-1);const l=1/f,u=(c*o-a*p)*l,m=(r*p-a*o)*l;return s.set(1-u-m,m,u)},containsPoint:function(e,t,i,n){return Ki.getBarycoord(e,t,i,n,nr),nr.x>=0&&nr.y>=0&&nr.x+nr.y<=1},getUV:function(e,t,i,n,s,r,a,o){return this.getBarycoord(e,t,i,n,nr),o.set(0,0),o.addScaledVector(s,nr.x),o.addScaledVector(r,nr.y),o.addScaledVector(a,nr.z),o},isFrontFacing:function(e,t,i,n){return os.subVectors(i,t),fr.subVectors(e,t),os.cross(fr).dot(n)<0}});Object.assign(Ki.prototype,{set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return os.subVectors(this.c,this.b),fr.subVectors(this.a,this.b),os.cross(fr).length()*.5},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new P),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Ki.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Os),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Ki.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,i,n,s){return Ki.getUV(e,this.a,this.b,this.c,t,i,n,s)},containsPoint:function(e){return Ki.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Ki.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new P);const i=this.a,n=this.b,s=this.c;let r,a;ho.subVectors(n,i),_o.subVectors(s,i),k1.subVectors(e,i);const o=ho.dot(k1),c=_o.dot(k1);if(o<=0&&c<=0)return t.copy(i);B1.subVectors(e,n);const p=ho.dot(B1),f=_o.dot(B1);if(p>=0&&f<=p)return t.copy(n);const l=o*f-p*c;if(l<=0&&o>=0&&p<=0)return r=o/(o-p),t.copy(i).addScaledVector(ho,r);V1.subVectors(e,s);const u=ho.dot(V1),m=_o.dot(V1);if(m>=0&&u<=m)return t.copy(s);const d=u*c-o*m;if(d<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(i).addScaledVector(_o,a);const y=p*m-u*f;if(y<=0&&f-p>=0&&u-m>=0)return sy.subVectors(s,n),a=(f-p)/(f-p+(u-m)),t.copy(n).addScaledVector(sy,a);const _=1/(y+d+l);return r=d*_,a=l*_,t.copy(i).addScaledVector(ho,r).addScaledVector(_o,a)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const k6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},is={h:0,s:0,l:0},f0={h:0,s:0,l:0};function Oe(e,t,i){return t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}function q1(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*6*(2/3-i):e}function z1(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function H1(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}Object.assign(Oe.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(e,t,i){if(e=Pt.euclideanModulo(e,1),t=Pt.clamp(t,0,1),i=Pt.clamp(i,0,1),t===0)this.r=this.g=this.b=i;else{const n=i<=.5?i*(1+t):i+t-i*t,s=2*i-n;this.r=q1(s,n,e+1/3),this.g=q1(s,n,e),this.b=q1(s,n,e-1/3)}return this},setStyle:function(e){function t(n){n!==void 0&&parseFloat(n)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let n;const s=i[1],r=i[2];switch(s){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){const a=parseFloat(n[1])/360,o=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(a,o,c)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){const n=i[1],s=n.length;if(s===3)return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=k6[e];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);const i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=z1(e.r),this.g=z1(e.g),this.b=z1(e.b),this},copyLinearToSRGB:function(e){return this.r=H1(e.r),this.g=H1(e.g),this.b=H1(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,i=this.g,n=this.b,s=Math.max(t,i,n),r=Math.min(t,i,n);let a,o;const c=(r+s)/2;if(r===s)a=0,o=0;else{const p=s-r;switch(o=c<=.5?p/(s+r):p/(2-s-r),s){case t:a=(i-n)/p+(i<n?6:0);break;case i:a=(n-t)/p+2;break;case n:a=(t-i)/p+4;break}a/=6}return e.h=a,e.s=o,e.l=c,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,i){return this.getHSL(is),is.h+=e,is.s+=t,is.l+=i,this.setHSL(is.h,is.s,is.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(is),e.getHSL(f0);const i=Pt.lerp(is.h,f0.h,t),n=Pt.lerp(is.s,f0.s,t),s=Pt.lerp(is.l,f0.l,t);return this.setHSL(i,n,s),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}});Oe.NAMES=k6;function Ga(e,t,i,n,s,r){this.a=e,this.b=t,this.c=i,this.normal=n&&n.isVector3?n:new P,this.vertexNormals=Array.isArray(n)?n:[],this.color=s&&s.isColor?s:new Oe,this.vertexColors=Array.isArray(s)?s:[],this.materialIndex=r!==void 0?r:0}Object.assign(Ga.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let _9=0;function gt(){Object.defineProperty(this,"id",{value:_9++}),this.uuid=Pt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=ea,this.side=Dc,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=I6,this.blendDst=L6,this.blendEquation=Ro,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=s9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=T1,this.stencilZFail=T1,this.stencilZPass=T1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}gt.prototype=Object.assign(Object.create(Pr.prototype),{constructor:gt,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===T6;continue}const n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity,i.refractionRatio=this.refractionRatio,this.combine!==void 0&&(i.combine=this.combine),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(i.size=this.size),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ea&&(i.blending=this.blending),this.flatShading===!0&&(i.flatShading=this.flatShading),this.side!==Dc&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(i.morphTargets=!0),this.morphNormals===!0&&(i.morphNormals=!0),this.skinning===!0&&(i.skinning=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function n(s){const r=[];for(const a in s){const o=s[a];delete o.metadata,r.push(o)}return r}if(t){const s=n(e.textures),r=n(e.images);s.length>0&&(i.textures=s),r.length>0&&(i.images=r)}return i},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const n=t.length;i=new Array(n);for(let s=0;s!==n;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(gt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function gs(e){gt.call(this),this.type="MeshBasicMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$u,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}gs.prototype=Object.create(gt.prototype);gs.prototype.constructor=gs;gs.prototype.isMeshBasicMaterial=!0;gs.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const fi=new P,l0=new Te;function it(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=Yu,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(it.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(it.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,s=this.itemSize;n<s;n++)this.array[e+n]=t.array[i+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let i=0;for(let n=0,s=e.length;n<s;n++){let r=e[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),r=new Oe),t[i++]=r.r,t[i++]=r.g,t[i++]=r.b}return this},copyVector2sArray:function(e){const t=this.array;let i=0;for(let n=0,s=e.length;n<s;n++){let r=e[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),r=new Te),t[i++]=r.x,t[i++]=r.y}return this},copyVector3sArray:function(e){const t=this.array;let i=0;for(let n=0,s=e.length;n<s;n++){let r=e[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),r=new P),t[i++]=r.x,t[i++]=r.y,t[i++]=r.z}return this},copyVector4sArray:function(e){const t=this.array;let i=0;for(let n=0,s=e.length;n<s;n++){let r=e[n];r===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),r=new ti),t[i++]=r.x,t[i++]=r.y,t[i++]=r.z,t[i++]=r.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)l0.fromBufferAttribute(this,t),l0.applyMatrix3(e),this.setXY(t,l0.x,l0.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix3(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this},applyMatrix4:function(e){for(let t=0,i=this.count;t<i;t++)fi.x=this.getX(t),fi.y=this.getY(t),fi.z=this.getZ(t),fi.applyMatrix4(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this},applyNormalMatrix:function(e){for(let t=0,i=this.count;t<i;t++)fi.x=this.getX(t),fi.y=this.getY(t),fi.z=this.getZ(t),fi.applyNormalMatrix(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this},transformDirection:function(e){for(let t=0,i=this.count;t<i;t++)fi.x=this.getX(t),fi.y=this.getY(t),fi.z=this.getZ(t),fi.transformDirection(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this},setXYZW:function(e,t,i,n,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=s,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Ud(e,t,i){it.call(this,new Int8Array(e),t,i)}Ud.prototype=Object.create(it.prototype);Ud.prototype.constructor=Ud;function Wd(e,t,i){it.call(this,new Uint8Array(e),t,i)}Wd.prototype=Object.create(it.prototype);Wd.prototype.constructor=Wd;function jd(e,t,i){it.call(this,new Uint8ClampedArray(e),t,i)}jd.prototype=Object.create(it.prototype);jd.prototype.constructor=jd;function $d(e,t,i){it.call(this,new Int16Array(e),t,i)}$d.prototype=Object.create(it.prototype);$d.prototype.constructor=$d;function Qp(e,t,i){it.call(this,new Uint16Array(e),t,i)}Qp.prototype=Object.create(it.prototype);Qp.prototype.constructor=Qp;function Kd(e,t,i){it.call(this,new Int32Array(e),t,i)}Kd.prototype=Object.create(it.prototype);Kd.prototype.constructor=Kd;function Xp(e,t,i){it.call(this,new Uint32Array(e),t,i)}Xp.prototype=Object.create(it.prototype);Xp.prototype.constructor=Xp;function $e(e,t,i){it.call(this,new Float32Array(e),t,i)}$e.prototype=Object.create(it.prototype);$e.prototype.constructor=$e;function Yd(e,t,i){it.call(this,new Float64Array(e),t,i)}Yd.prototype=Object.create(it.prototype);Yd.prototype.constructor=Yd;function B6(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(B6.prototype,{computeGroups:function(e){const t=[];let i,n,s;const r=e.faces;for(n=0;n<r.length;n++){const a=r[n];a.materialIndex!==s&&(s=a.materialIndex,i!==void 0&&(i.count=n*3-i.start,t.push(i)),i={start:n*3,materialIndex:s})}i!==void 0&&(i.count=n*3-i.start,t.push(i)),this.groups=t},fromGeometry:function(e){const t=e.faces,i=e.vertices,n=e.faceVertexUvs,s=n[0]&&n[0].length>0,r=n[1]&&n[1].length>0,a=e.morphTargets,o=a.length;let c;if(o>0){c=[];for(let _=0;_<o;_++)c[_]={name:a[_].name,data:[]};this.morphTargets.position=c}const p=e.morphNormals,f=p.length;let l;if(f>0){l=[];for(let _=0;_<f;_++)l[_]={name:p[_].name,data:[]};this.morphTargets.normal=l}const u=e.skinIndices,m=e.skinWeights,d=u.length===i.length,y=m.length===i.length;i.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let _=0;_<t.length;_++){const h=t[_];this.vertices.push(i[h.a],i[h.b],i[h.c]);const g=h.vertexNormals;if(g.length===3)this.normals.push(g[0],g[1],g[2]);else{const w=h.normal;this.normals.push(w,w,w)}const E=h.vertexColors;if(E.length===3)this.colors.push(E[0],E[1],E[2]);else{const w=h.color;this.colors.push(w,w,w)}if(s===!0){const w=n[0][_];w!==void 0?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",_),this.uvs.push(new Te,new Te,new Te))}if(r===!0){const w=n[1][_];w!==void 0?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",_),this.uvs2.push(new Te,new Te,new Te))}for(let w=0;w<o;w++){const v=a[w].vertices;c[w].data.push(v[h.a],v[h.b],v[h.c])}for(let w=0;w<f;w++){const v=p[w].vertexNormals[_];l[w].data.push(v.a,v.b,v.c)}d&&this.skinIndices.push(u[h.a],u[h.b],u[h.c]),y&&this.skinWeights.push(m[h.a],m[h.b],m[h.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});function V6(e){if(e.length===0)return-1/0;let t=e[0];for(let i=1,n=e.length;i<n;++i)e[i]>t&&(t=e[i]);return t}let y9=1;const As=new De,U1=new Ue,yo=new P,Tn=new ai,tp=new ai,Bi=new P;function We(){Object.defineProperty(this,"id",{value:y9+=2}),this.uuid=Pt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}We.prototype=Object.assign(Object.create(Pr.prototype),{constructor:We,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(V6(e)>65535?Xp:Qp)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:i!==void 0?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Yi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return As.makeRotationX(e),this.applyMatrix4(As),this},rotateY:function(e){return As.makeRotationY(e),this.applyMatrix4(As),this},rotateZ:function(e){return As.makeRotationZ(e),this.applyMatrix4(As),this},translate:function(e,t,i){return As.makeTranslation(e,t,i),this.applyMatrix4(As),this},scale:function(e,t,i){return As.makeScale(e,t,i),this.applyMatrix4(As),this},lookAt:function(e){return U1.lookAt(e),U1.updateMatrix(),this.applyMatrix4(U1.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(yo).negate(),this.translate(yo.x,yo.y,yo.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const i=new $e(t.vertices.length*3,3),n=new $e(t.colors.length*3,3);if(this.setAttribute("position",i.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const s=new $e(t.lineDistances.length,1);this.setAttribute("lineDistance",s.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let i=0,n=e.length;i<n;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new $e(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let i=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(i=void 0,t.elementsNeedUpdate=!1),i===void 0)return this.fromGeometry(t);i.verticesNeedUpdate=t.verticesNeedUpdate,i.normalsNeedUpdate=t.normalsNeedUpdate,i.colorsNeedUpdate=t.colorsNeedUpdate,i.uvsNeedUpdate=t.uvsNeedUpdate,i.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=i}if(t.verticesNeedUpdate===!0){const i=this.attributes.position;i!==void 0&&(i.copyVector3sArray(t.vertices),i.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const i=this.attributes.normal;i!==void 0&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const i=this.attributes.color;i!==void 0&&(i.copyColorsArray(t.colors),i.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const i=this.attributes.uv;i!==void 0&&(i.copyVector2sArray(t.uvs),i.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const i=this.attributes.lineDistance;i!==void 0&&(i.copyArray(t.lineDistances),i.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new B6().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new it(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const i=new Float32Array(e.normals.length*3);this.setAttribute("normal",new it(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const i=new Float32Array(e.colors.length*3);this.setAttribute("color",new it(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const i=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new it(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const i=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new it(i,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const i in e.morphTargets){const n=[],s=e.morphTargets[i];for(let r=0,a=s.length;r<a;r++){const o=s[r],c=new $e(o.data.length*3,3);c.name=o.name,n.push(c.copyVector3sArray(o.data))}this.morphAttributes[i]=n}if(e.skinIndices.length>0){const i=new $e(e.skinIndices.length*4,4);this.setAttribute("skinIndex",i.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const i=new $e(e.skinWeights.length*4,4);this.setAttribute("skinWeight",i.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ai);const e=this.attributes.position,t=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,n=t.length;i<n;i++){const s=t[i];Tn.setFromBufferAttribute(s),this.morphTargetsRelative?(Bi.addVectors(this.boundingBox.min,Tn.min),this.boundingBox.expandByPoint(Bi),Bi.addVectors(this.boundingBox.max,Tn.max),this.boundingBox.expandByPoint(Bi)):(this.boundingBox.expandByPoint(Tn.min),this.boundingBox.expandByPoint(Tn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Tr);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const i=this.boundingSphere.center;if(Tn.setFromBufferAttribute(e),t)for(let s=0,r=t.length;s<r;s++){const a=t[s];tp.setFromBufferAttribute(a),this.morphTargetsRelative?(Bi.addVectors(Tn.min,tp.min),Tn.expandByPoint(Bi),Bi.addVectors(Tn.max,tp.max),Tn.expandByPoint(Bi)):(Tn.expandByPoint(tp.min),Tn.expandByPoint(tp.max))}Tn.getCenter(i);let n=0;for(let s=0,r=e.count;s<r;s++)Bi.fromBufferAttribute(e,s),n=Math.max(n,i.distanceToSquared(Bi));if(t)for(let s=0,r=t.length;s<r;s++){const a=t[s],o=this.morphTargetsRelative;for(let c=0,p=a.count;c<p;c++)Bi.fromBufferAttribute(a,c),o&&(yo.fromBufferAttribute(e,c),Bi.add(yo)),n=Math.max(n,i.distanceToSquared(Bi))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new it(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let l=0,u=i.count;l<u;l++)i.setXYZ(l,0,0,0);const n=new P,s=new P,r=new P,a=new P,o=new P,c=new P,p=new P,f=new P;if(e)for(let l=0,u=e.count;l<u;l+=3){const m=e.getX(l+0),d=e.getX(l+1),y=e.getX(l+2);n.fromBufferAttribute(t,m),s.fromBufferAttribute(t,d),r.fromBufferAttribute(t,y),p.subVectors(r,s),f.subVectors(n,s),p.cross(f),a.fromBufferAttribute(i,m),o.fromBufferAttribute(i,d),c.fromBufferAttribute(i,y),a.add(p),o.add(p),c.add(p),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(d,o.x,o.y,o.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let l=0,u=t.count;l<u;l+=3)n.fromBufferAttribute(t,l+0),s.fromBufferAttribute(t,l+1),r.fromBufferAttribute(t,l+2),p.subVectors(r,s),f.subVectors(n,s),p.cross(f),i.setXYZ(l+0,p.x,p.y,p.z),i.setXYZ(l+1,p.x,p.y,p.z),i.setXYZ(l+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const n in i){if(e.attributes[n]===void 0)continue;const r=i[n].array,a=e.attributes[n],o=a.array,c=a.itemSize*t,p=Math.min(o.length,r.length-c);for(let f=0,l=c;f<p;f++,l++)r[l]=o[f]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Bi.fromBufferAttribute(e,t),Bi.normalize(),e.setXYZ(t,Bi.x,Bi.y,Bi.z)},toNonIndexed:function(){function e(a,o){const c=a.array,p=a.itemSize,f=a.normalized,l=new c.constructor(o.length*p);let u=0,m=0;for(let d=0,y=o.length;d<y;d++){u=o[d]*p;for(let _=0;_<p;_++)l[m++]=c[u++]}return new it(l,p,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new We,i=this.index.array,n=this.attributes;for(const a in n){const o=n[a],c=e(o,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const o=[],c=s[a];for(let p=0,f=c.length;p<f;p++){const l=c[p],u=e(l,i);o.push(u)}t.morphAttributes[a]=o}t.morphTargetsRelative=this.morphTargetsRelative;const r=this.groups;for(let a=0,o=r.length;a<o;a++){const c=r[a];t.addGroup(c.start,c.count,c.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const c in o)o[c]!==void 0&&(e[c]=o[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const o in i){const c=i[o],p=c.toJSON(e.data);c.name!==""&&(p.name=c.name),e.data.attributes[o]=p}const n={};let s=!1;for(const o in this.morphAttributes){const c=this.morphAttributes[o],p=[];for(let f=0,l=c.length;f<l;f++){const u=c[f],m=u.toJSON(e.data);u.name!==""&&(m.name=u.name),p.push(m)}p.length>0&&(n[o]=p,s=!0)}s&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const r=this.groups;r.length>0&&(e.data.groups=JSON.parse(JSON.stringify(r)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e},clone:function(){return new We().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const n=e.attributes;for(const c in n){const p=n[c];this.setAttribute(c,p.clone(t))}const s=e.morphAttributes;for(const c in s){const p=[],f=s[c];for(let l=0,u=f.length;l<u;l++)p.push(f[l].clone(t));this.morphAttributes[c]=p}this.morphTargetsRelative=e.morphTargetsRelative;const r=e.groups;for(let c=0,p=r.length;c<p;c++){const f=r[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const ry=new De,ba=new Oc,W1=new Tr,Vr=new P,qr=new P,zr=new P,j1=new P,$1=new P,K1=new P,u0=new P,m0=new P,d0=new P,$o=new Te,Ko=new Te,Yo=new Te,Np=new P,h0=new P;function ci(e,t){Ue.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new We,this.material=t!==void 0?t:new gs,this.updateMorphTargets()}ci.prototype=Object.assign(Object.create(Ue.prototype),{constructor:ci,isMesh:!0,copy:function(e){return Ue.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,r=n.length;s<r;s++){const a=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const i=this.geometry,n=this.material,s=this.matrixWorld;if(n===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),W1.copy(i.boundingSphere),W1.applyMatrix4(s),e.ray.intersectsSphere(W1)===!1)||(ry.getInverse(s),ba.copy(e.ray).applyMatrix4(ry),i.boundingBox!==null&&ba.intersectsBox(i.boundingBox)===!1))return;let r;if(i.isBufferGeometry){const a=i.index,o=i.attributes.position,c=i.morphAttributes.position,p=i.morphTargetsRelative,f=i.attributes.uv,l=i.attributes.uv2,u=i.groups,m=i.drawRange;if(a!==null)if(Array.isArray(n))for(let d=0,y=u.length;d<y;d++){const _=u[d],h=n[_.materialIndex],g=Math.max(_.start,m.start),E=Math.min(_.start+_.count,m.start+m.count);for(let w=g,v=E;w<v;w+=3){const x=a.getX(w),b=a.getX(w+1),A=a.getX(w+2);r=_0(this,h,e,ba,o,c,p,f,l,x,b,A),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const d=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=d,h=y;_<h;_+=3){const g=a.getX(_),E=a.getX(_+1),w=a.getX(_+2);r=_0(this,n,e,ba,o,c,p,f,l,g,E,w),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(o!==void 0)if(Array.isArray(n))for(let d=0,y=u.length;d<y;d++){const _=u[d],h=n[_.materialIndex],g=Math.max(_.start,m.start),E=Math.min(_.start+_.count,m.start+m.count);for(let w=g,v=E;w<v;w+=3){const x=w,b=w+1,A=w+2;r=_0(this,h,e,ba,o,c,p,f,l,x,b,A),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const d=Math.max(0,m.start),y=Math.min(o.count,m.start+m.count);for(let _=d,h=y;_<h;_+=3){const g=_,E=_+1,w=_+2;r=_0(this,n,e,ba,o,c,p,f,l,g,E,w),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}else if(i.isGeometry){const a=Array.isArray(n),o=i.vertices,c=i.faces;let p;const f=i.faceVertexUvs[0];f.length>0&&(p=f);for(let l=0,u=c.length;l<u;l++){const m=c[l],d=a?n[m.materialIndex]:n;if(d===void 0)continue;const y=o[m.a],_=o[m.b],h=o[m.c];if(r=q6(this,d,e,ba,y,_,h,Np),r){if(p&&p[l]){const g=p[l];$o.copy(g[0]),Ko.copy(g[1]),Yo.copy(g[2]),r.uv=Ki.getUV(Np,y,_,h,$o,Ko,Yo,new Te)}r.face=m,r.faceIndex=l,t.push(r)}}}}});function q6(e,t,i,n,s,r,a,o){let c;if(t.side===Gi?c=n.intersectTriangle(a,r,s,!0,o):c=n.intersectTriangle(s,r,a,t.side!==zf,o),c===null)return null;h0.copy(o),h0.applyMatrix4(e.matrixWorld);const p=i.ray.origin.distanceTo(h0);return p<i.near||p>i.far?null:{distance:p,point:h0.clone(),object:e}}function _0(e,t,i,n,s,r,a,o,c,p,f,l){Vr.fromBufferAttribute(s,p),qr.fromBufferAttribute(s,f),zr.fromBufferAttribute(s,l);const u=e.morphTargetInfluences;if(t.morphTargets&&r&&u){u0.set(0,0,0),m0.set(0,0,0),d0.set(0,0,0);for(let d=0,y=r.length;d<y;d++){const _=u[d],h=r[d];_!==0&&(j1.fromBufferAttribute(h,p),$1.fromBufferAttribute(h,f),K1.fromBufferAttribute(h,l),a?(u0.addScaledVector(j1,_),m0.addScaledVector($1,_),d0.addScaledVector(K1,_)):(u0.addScaledVector(j1.sub(Vr),_),m0.addScaledVector($1.sub(qr),_),d0.addScaledVector(K1.sub(zr),_)))}Vr.add(u0),qr.add(m0),zr.add(d0)}e.isSkinnedMesh&&(e.boneTransform(p,Vr),e.boneTransform(f,qr),e.boneTransform(l,zr));const m=q6(e,t,i,n,Vr,qr,zr,Np);if(m){o&&($o.fromBufferAttribute(o,p),Ko.fromBufferAttribute(o,f),Yo.fromBufferAttribute(o,l),m.uv=Ki.getUV(Np,Vr,qr,zr,$o,Ko,Yo,new Te)),c&&($o.fromBufferAttribute(c,p),Ko.fromBufferAttribute(c,f),Yo.fromBufferAttribute(c,l),m.uv2=Ki.getUV(Np,Vr,qr,zr,$o,Ko,Yo,new Te));const d=new Ga(p,f,l);Ki.getNormal(Vr,qr,zr,d.normal),m.face=d}return m}let g9=0;const Cs=new De,Y1=new Ue,y0=new P;function ut(){Object.defineProperty(this,"id",{value:g9+=2}),this.uuid=Pt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}ut.prototype=Object.assign(Object.create(Pr.prototype),{constructor:ut,isGeometry:!0,applyMatrix4:function(e){const t=new Yi().getNormalMatrix(e);for(let i=0,n=this.vertices.length;i<n;i++)this.vertices[i].applyMatrix4(e);for(let i=0,n=this.faces.length;i<n;i++){const s=this.faces[i];s.normal.applyMatrix3(t).normalize();for(let r=0,a=s.vertexNormals.length;r<a;r++)s.vertexNormals[r].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Cs.makeRotationX(e),this.applyMatrix4(Cs),this},rotateY:function(e){return Cs.makeRotationY(e),this.applyMatrix4(Cs),this},rotateZ:function(e){return Cs.makeRotationZ(e),this.applyMatrix4(Cs),this},translate:function(e,t,i){return Cs.makeTranslation(e,t,i),this.applyMatrix4(Cs),this},scale:function(e,t,i){return Cs.makeScale(e,t,i),this.applyMatrix4(Cs),this},lookAt:function(e){return Y1.lookAt(e),Y1.updateMatrix(),this.applyMatrix4(Y1.matrix),this},fromBufferGeometry:function(e){const t=this,i=e.index!==null?e.index:void 0,n=e.attributes;if(n.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const s=n.position,r=n.normal,a=n.color,o=n.uv,c=n.uv2;c!==void 0&&(this.faceVertexUvs[1]=[]);for(let l=0;l<s.count;l++)t.vertices.push(new P().fromBufferAttribute(s,l)),a!==void 0&&t.colors.push(new Oe().fromBufferAttribute(a,l));function p(l,u,m,d){const y=a===void 0?[]:[t.colors[l].clone(),t.colors[u].clone(),t.colors[m].clone()],_=r===void 0?[]:[new P().fromBufferAttribute(r,l),new P().fromBufferAttribute(r,u),new P().fromBufferAttribute(r,m)],h=new Ga(l,u,m,_,y,d);t.faces.push(h),o!==void 0&&t.faceVertexUvs[0].push([new Te().fromBufferAttribute(o,l),new Te().fromBufferAttribute(o,u),new Te().fromBufferAttribute(o,m)]),c!==void 0&&t.faceVertexUvs[1].push([new Te().fromBufferAttribute(c,l),new Te().fromBufferAttribute(c,u),new Te().fromBufferAttribute(c,m)])}const f=e.groups;if(f.length>0)for(let l=0;l<f.length;l++){const u=f[l],m=u.start,d=u.count;for(let y=m,_=m+d;y<_;y+=3)i!==void 0?p(i.getX(y),i.getX(y+1),i.getX(y+2),u.materialIndex):p(y,y+1,y+2,u.materialIndex)}else if(i!==void 0)for(let l=0;l<i.count;l+=3)p(i.getX(l),i.getX(l+1),i.getX(l+2));else for(let l=0;l<s.count;l+=3)p(l,l+1,l+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(y0).negate(),this.translate(y0.x,y0.y,y0.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,i=t===0?1:1/t,n=new De;return n.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){const e=new P,t=new P;for(let i=0,n=this.faces.length;i<n;i++){const s=this.faces[i],r=this.vertices[s.a],a=this.vertices[s.b],o=this.vertices[s.c];e.subVectors(o,a),t.subVectors(r,a),e.cross(t),e.normalize(),s.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let i=0,n=this.vertices.length;i<n;i++)t[i]=new P;if(e){const i=new P,n=new P;for(let s=0,r=this.faces.length;s<r;s++){const a=this.faces[s],o=this.vertices[a.a],c=this.vertices[a.b],p=this.vertices[a.c];i.subVectors(p,c),n.subVectors(o,c),i.cross(n),t[a.a].add(i),t[a.b].add(i),t[a.c].add(i)}}else{this.computeFaceNormals();for(let i=0,n=this.faces.length;i<n;i++){const s=this.faces[i];t[s.a].add(s.normal),t[s.b].add(s.normal),t[s.c].add(s.normal)}}for(let i=0,n=this.vertices.length;i<n;i++)t[i].normalize();for(let i=0,n=this.faces.length;i<n;i++){const s=this.faces[i],r=s.vertexNormals;r.length===3?(r[0].copy(t[s.a]),r[1].copy(t[s.b]),r[2].copy(t[s.c])):(r[0]=t[s.a].clone(),r[1]=t[s.b].clone(),r[2]=t[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const i=this.faces[e],n=i.vertexNormals;n.length===3?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,i=this.faces.length;t<i;t++){const n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(let s=0,r=n.vertexNormals.length;s<r;s++)n.__originalVertexNormals[s]?n.__originalVertexNormals[s].copy(n.vertexNormals[s]):n.__originalVertexNormals[s]=n.vertexNormals[s].clone()}const e=new ut;e.faces=this.faces;for(let t=0,i=this.morphTargets.length;t<i;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const s=this.morphNormals[t].faceNormals,r=this.morphNormals[t].vertexNormals;for(let a=0,o=this.faces.length;a<o;a++){const c=new P,p={a:new P,b:new P,c:new P};s.push(c),r.push(p)}}const n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let s=0,r=this.faces.length;s<r;s++){const a=this.faces[s],o=n.faceNormals[s],c=n.vertexNormals[s];o.copy(a.normal),c.a.copy(a.vertexNormals[0]),c.b.copy(a.vertexNormals[1]),c.c.copy(a.vertexNormals[2])}}for(let t=0,i=this.faces.length;t<i;t++){const n=this.faces[t];n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new ai),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Tr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let n,s=this.vertices.length,r=this.vertices,a=e.vertices,o=this.faces,c=e.faces,p=this.colors,f=e.colors;i===void 0&&(i=0),t!==void 0&&(n=new Yi().getNormalMatrix(t));for(let l=0,u=a.length;l<u;l++){const d=a[l].clone();t!==void 0&&d.applyMatrix4(t),r.push(d)}for(let l=0,u=f.length;l<u;l++)p.push(f[l].clone());for(let l=0,u=c.length;l<u;l++){let m=c[l],d,y,_,h=m.vertexNormals,g=m.vertexColors;d=new Ga(m.a+s,m.b+s,m.c+s),d.normal.copy(m.normal),n!==void 0&&d.normal.applyMatrix3(n).normalize();for(let E=0,w=h.length;E<w;E++)y=h[E].clone(),n!==void 0&&y.applyMatrix3(n).normalize(),d.vertexNormals.push(y);d.color.copy(m.color);for(let E=0,w=g.length;E<w;E++)_=g[E],d.vertexColors.push(_.clone());d.materialIndex=m.materialIndex+i,o.push(d)}for(let l=0,u=e.faceVertexUvs.length;l<u;l++){const m=e.faceVertexUvs[l];this.faceVertexUvs[l]===void 0&&(this.faceVertexUvs[l]=[]);for(let d=0,y=m.length;d<y;d++){const _=m[d],h=[];for(let g=0,E=_.length;g<E;g++)h.push(_[g].clone());this.faceVertexUvs[l].push(h)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],i=[],s=Math.pow(10,4);for(let o=0,c=this.vertices.length;o<c;o++){const p=this.vertices[o],f=Math.round(p.x*s)+"_"+Math.round(p.y*s)+"_"+Math.round(p.z*s);e[f]===void 0?(e[f]=o,t.push(this.vertices[o]),i[o]=t.length-1):i[o]=i[e[f]]}const r=[];for(let o=0,c=this.faces.length;o<c;o++){const p=this.faces[o];p.a=i[p.a],p.b=i[p.b],p.c=i[p.c];const f=[p.a,p.b,p.c];for(let l=0;l<3;l++)if(f[l]===f[(l+1)%3]){r.push(o);break}}for(let o=r.length-1;o>=0;o--){const c=r[o];this.faces.splice(c,1);for(let p=0,f=this.faceVertexUvs.length;p<f;p++)this.faceVertexUvs[p].splice(c,1)}const a=this.vertices.length-t.length;return this.vertices=t,a},setFromPoints:function(e){this.vertices=[];for(let t=0,i=e.length;t<i;t++){const n=e[t];this.vertices.push(new P(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let o=0;o<t;o++)e[o]._id=o;function i(o,c){return o.materialIndex-c.materialIndex}e.sort(i);const n=this.faceVertexUvs[0],s=this.faceVertexUvs[1];let r,a;n&&n.length===t&&(r=[]),s&&s.length===t&&(a=[]);for(let o=0;o<t;o++){const c=e[o]._id;r&&r.push(n[c]),a&&a.push(s[c])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const m=this.parameters;for(const d in m)m[d]!==void 0&&(e[d]=m[d]);return e}const t=[];for(let m=0;m<this.vertices.length;m++){const d=this.vertices[m];t.push(d.x,d.y,d.z)}const i=[],n=[],s={},r=[],a={},o=[],c={};for(let m=0;m<this.faces.length;m++){const d=this.faces[m],y=!0,_=!1,h=this.faceVertexUvs[0][m]!==void 0,g=d.normal.length()>0,E=d.vertexNormals.length>0,w=d.color.r!==1||d.color.g!==1||d.color.b!==1,v=d.vertexColors.length>0;let x=0;if(x=p(x,0,0),x=p(x,1,y),x=p(x,2,_),x=p(x,3,h),x=p(x,4,g),x=p(x,5,E),x=p(x,6,w),x=p(x,7,v),i.push(x),i.push(d.a,d.b,d.c),i.push(d.materialIndex),h){const b=this.faceVertexUvs[0][m];i.push(u(b[0]),u(b[1]),u(b[2]))}if(g&&i.push(f(d.normal)),E){const b=d.vertexNormals;i.push(f(b[0]),f(b[1]),f(b[2]))}if(w&&i.push(l(d.color)),v){const b=d.vertexColors;i.push(l(b[0]),l(b[1]),l(b[2]))}}function p(m,d,y){return y?m|1<<d:m&~(1<<d)}function f(m){const d=m.x.toString()+m.y.toString()+m.z.toString();return s[d]!==void 0||(s[d]=n.length/3,n.push(m.x,m.y,m.z)),s[d]}function l(m){const d=m.r.toString()+m.g.toString()+m.b.toString();return a[d]!==void 0||(a[d]=r.length,r.push(m.getHex())),a[d]}function u(m){const d=m.x.toString()+m.y.toString();return c[d]!==void 0||(c[d]=o.length/2,o.push(m.x,m.y)),c[d]}return e.data={},e.data.vertices=t,e.data.normals=n,r.length>0&&(e.data.colors=r),o.length>0&&(e.data.uvs=[o]),e.data.faces=i,e},clone:function(){return new ut().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let l=0,u=t.length;l<u;l++)this.vertices.push(t[l].clone());const i=e.colors;for(let l=0,u=i.length;l<u;l++)this.colors.push(i[l].clone());const n=e.faces;for(let l=0,u=n.length;l<u;l++)this.faces.push(n[l].clone());for(let l=0,u=e.faceVertexUvs.length;l<u;l++){const m=e.faceVertexUvs[l];this.faceVertexUvs[l]===void 0&&(this.faceVertexUvs[l]=[]);for(let d=0,y=m.length;d<y;d++){const _=m[d],h=[];for(let g=0,E=_.length;g<E;g++){const w=_[g];h.push(w.clone())}this.faceVertexUvs[l].push(h)}}const s=e.morphTargets;for(let l=0,u=s.length;l<u;l++){const m={};if(m.name=s[l].name,s[l].vertices!==void 0){m.vertices=[];for(let d=0,y=s[l].vertices.length;d<y;d++)m.vertices.push(s[l].vertices[d].clone())}if(s[l].normals!==void 0){m.normals=[];for(let d=0,y=s[l].normals.length;d<y;d++)m.normals.push(s[l].normals[d].clone())}this.morphTargets.push(m)}const r=e.morphNormals;for(let l=0,u=r.length;l<u;l++){const m={};if(r[l].vertexNormals!==void 0){m.vertexNormals=[];for(let d=0,y=r[l].vertexNormals.length;d<y;d++){const _=r[l].vertexNormals[d],h={};h.a=_.a.clone(),h.b=_.b.clone(),h.c=_.c.clone(),m.vertexNormals.push(h)}}if(r[l].faceNormals!==void 0){m.faceNormals=[];for(let d=0,y=r[l].faceNormals.length;d<y;d++)m.faceNormals.push(r[l].faceNormals[d].clone())}this.morphNormals.push(m)}const a=e.skinWeights;for(let l=0,u=a.length;l<u;l++)this.skinWeights.push(a[l].clone());const o=e.skinIndices;for(let l=0,u=o.length;l<u;l++)this.skinIndices.push(o[l].clone());const c=e.lineDistances;for(let l=0,u=c.length;l<u;l++)this.lineDistances.push(c[l]);const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class w9 extends ut{constructor(t,i,n,s,r,a){super(),this.type="BoxGeometry",this.parameters={width:t,height:i,depth:n,widthSegments:s,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Wf(t,i,n,s,r,a)),this.mergeVertices()}}class Wf extends We{constructor(t,i,n,s,r,a){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:i,depth:n,widthSegments:s,heightSegments:r,depthSegments:a};const o=this;t=t||1,i=i||1,n=n||1,s=Math.floor(s)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;const c=[],p=[],f=[],l=[];let u=0,m=0;d("z","y","x",-1,-1,n,i,t,a,r,0),d("z","y","x",1,-1,n,i,-t,a,r,1),d("x","z","y",1,1,t,n,i,s,a,2),d("x","z","y",1,-1,t,n,-i,s,a,3),d("x","y","z",1,-1,t,i,n,s,r,4),d("x","y","z",-1,-1,t,i,-n,s,r,5),this.setIndex(c),this.setAttribute("position",new $e(p,3)),this.setAttribute("normal",new $e(f,3)),this.setAttribute("uv",new $e(l,2));function d(y,_,h,g,E,w,v,x,b,A,M){const G=w/b,T=v/A,N=w/2,D=v/2,L=x/2,C=b+1,O=A+1;let q=0,z=0;const $=new P;for(let re=0;re<O;re++){const K=re*T-D;for(let J=0;J<C;J++){const Y=J*G-N;$[y]=Y*g,$[_]=K*E,$[h]=L,p.push($.x,$.y,$.z),$[y]=0,$[_]=0,$[h]=x>0?1:-1,f.push($.x,$.y,$.z),l.push(J/b),l.push(1-re/A),q+=1}}for(let re=0;re<A;re++)for(let K=0;K<b;K++){const J=u+K+C*re,Y=u+K+C*(re+1),le=u+(K+1)+C*(re+1),fe=u+(K+1)+C*re;c.push(J,Y,fe),c.push(Y,le,fe),z+=6}o.addGroup(m,z,M),m+=z,u+=q}}}function mc(e){const t={};for(const i in e){t[i]={};for(const n in e[i]){const s=e[i][n];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture)?t[i][n]=s.clone():Array.isArray(s)?t[i][n]=s.slice():t[i][n]=s}}return t}function tn(e){const t={};for(let i=0;i<e.length;i++){const n=mc(e[i]);for(const s in n)t[s]=n[s]}return t}const Xl={clone:mc,merge:tn};var E9=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,v9=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function ki(e){gt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=E9,this.fragmentShader=v9,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}ki.prototype=Object.create(gt.prototype);ki.prototype.constructor=ki;ki.prototype.isShaderMaterial=!0;ki.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mc(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this};ki.prototype.toJSON=function(e){const t=gt.prototype.toJSON.call(this,e);t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(t.extensions=i),t};function gr(){Ue.call(this),this.type="Camera",this.matrixWorldInverse=new De,this.projectionMatrix=new De,this.projectionMatrixInverse=new De}gr.prototype=Object.assign(Object.create(Ue.prototype),{constructor:gr,isCamera:!0,copy:function(e,t){return Ue.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new P),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Ue.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Ue.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function Li(e,t,i,n){gr.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=i!==void 0?i:.1,this.far=n!==void 0?n:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Li.prototype=Object.assign(Object.create(gr.prototype),{constructor:Li,isPerspectiveCamera:!0,copy:function(e,t){return gr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=Pt.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(Pt.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return Pt.RAD2DEG*2*Math.atan(Math.tan(Pt.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,i,n,s,r){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=s,this.view.height=r,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(Pt.DEG2RAD*.5*this.fov)/this.zoom,i=2*t,n=this.aspect*i,s=-.5*n,r=this.view;if(this.view!==null&&this.view.enabled){const o=r.fullWidth,c=r.fullHeight;s+=r.offsetX*n/o,t-=r.offsetY*i/c,n*=r.width/o,i*=r.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+n,t,t-i,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Ue.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const go=90,wo=1;function Zp(e,t,i){if(Ue.call(this),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const n=new Li(go,wo,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new P(1,0,0)),this.add(n);const s=new Li(go,wo,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new P(-1,0,0)),this.add(s);const r=new Li(go,wo,e,t);r.layers=this.layers,r.up.set(0,0,1),r.lookAt(new P(0,1,0)),this.add(r);const a=new Li(go,wo,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new P(0,-1,0)),this.add(a);const o=new Li(go,wo,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new P(0,0,1)),this.add(o);const c=new Li(go,wo,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new P(0,0,-1)),this.add(c),this.update=function(p,f){this.parent===null&&this.updateMatrixWorld();const l=p.xr.enabled,u=p.getRenderTarget();p.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,p.setRenderTarget(i,0),p.render(f,n),p.setRenderTarget(i,1),p.render(f,s),p.setRenderTarget(i,2),p.render(f,r),p.setRenderTarget(i,3),p.render(f,a),p.setRenderTarget(i,4),p.render(f,o),i.texture.generateMipmaps=m,p.setRenderTarget(i,5),p.render(f,c),p.setRenderTarget(u),p.xr.enabled=l},this.clear=function(p,f,l,u){const m=p.getRenderTarget();for(let d=0;d<6;d++)p.setRenderTarget(i,d),p.clear(f,l,u);p.setRenderTarget(m)}}Zp.prototype=Object.create(Ue.prototype);Zp.prototype.constructor=Zp;function ef(e,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i),dn.call(this,e,e,t)}ef.prototype=Object.create(dn.prototype);ef.prototype.constructor=ef;ef.prototype.isWebGLCubeRenderTarget=!0;ef.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const i=new uc,n={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV = equirectUv( direction );","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},s=new ki({name:"CubemapFromEquirect",uniforms:mc(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Gi,blending:_r});s.uniforms.tEquirect.value=t;const r=new ci(new Wf(5,5,5),s);return i.add(r),new Zp(1,10,this).update(e,i),r.geometry.dispose(),r.material.dispose(),this};function wr(e,t,i,n,s,r,a,o,c,p,f,l){pi.call(this,null,r,a,o,c,p,n,s,f,l),this.image={data:e||null,width:t||1,height:i||1},this.magFilter=c!==void 0?c:si,this.minFilter=p!==void 0?p:si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}wr.prototype=Object.create(pi.prototype);wr.prototype.constructor=wr;wr.prototype.isDataTexture=!0;const Eo=new Tr,g0=new P;function jf(e,t,i,n,s,r){this.planes=[e!==void 0?e:new Os,t!==void 0?t:new Os,i!==void 0?i:new Os,n!==void 0?n:new Os,s!==void 0?s:new Os,r!==void 0?r:new Os]}Object.assign(jf.prototype,{set:function(e,t,i,n,s,r){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(n),a[4].copy(s),a[5].copy(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromProjectionMatrix:function(e){const t=this.planes,i=e.elements,n=i[0],s=i[1],r=i[2],a=i[3],o=i[4],c=i[5],p=i[6],f=i[7],l=i[8],u=i[9],m=i[10],d=i[11],y=i[12],_=i[13],h=i[14],g=i[15];return t[0].setComponents(a-n,f-o,d-l,g-y).normalize(),t[1].setComponents(a+n,f+o,d+l,g+y).normalize(),t[2].setComponents(a+s,f+c,d+u,g+_).normalize(),t[3].setComponents(a-s,f-c,d-u,g-_).normalize(),t[4].setComponents(a-r,f-p,d-m,g-h).normalize(),t[5].setComponents(a+r,f+p,d+m,g+h).normalize(),this},intersectsObject:function(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Eo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Eo)},intersectsSprite:function(e){return Eo.center.set(0,0,0),Eo.radius=.7071067811865476,Eo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Eo)},intersectsSphere:function(e){const t=this.planes,i=e.center,n=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<n)return!1;return!0},intersectsBox:function(e){const t=this.planes;for(let i=0;i<6;i++){const n=t[i];if(g0.x=n.normal.x>0?e.max.x:e.min.x,g0.y=n.normal.y>0?e.max.y:e.min.y,g0.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(g0)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}});const He={common:{diffuse:{value:new Oe(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yi},uv2Transform:{value:new Yi},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Oe(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Yi}},sprite:{diffuse:{value:new Oe(15658734)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Yi}}};function z6(){let e=null,t=!1,i=null,n=null;function s(r,a){i(r,a),n=e.requestAnimationFrame(s)}return{start:function(){t!==!0&&i!==null&&(n=e.requestAnimationFrame(s),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(r){i=r},setContext:function(r){e=r}}}function b9(e,t){const i=t.isWebGL2,n=new WeakMap;function s(p,f){const l=p.array,u=p.usage,m=e.createBuffer();e.bindBuffer(f,m),e.bufferData(f,l,u),p.onUploadCallback();let d=5126;return l instanceof Float32Array?d=5126:l instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):l instanceof Uint16Array?d=5123:l instanceof Int16Array?d=5122:l instanceof Uint32Array?d=5125:l instanceof Int32Array?d=5124:l instanceof Int8Array?d=5120:l instanceof Uint8Array&&(d=5121),{buffer:m,type:d,bytesPerElement:l.BYTES_PER_ELEMENT,version:p.version}}function r(p,f,l){const u=f.array,m=f.updateRange;e.bindBuffer(l,p),m.count===-1?e.bufferSubData(l,0,u):(i?e.bufferSubData(l,m.offset*u.BYTES_PER_ELEMENT,u,m.offset,m.count):e.bufferSubData(l,m.offset*u.BYTES_PER_ELEMENT,u.subarray(m.offset,m.offset+m.count)),m.count=-1)}function a(p){return p.isInterleavedBufferAttribute&&(p=p.data),n.get(p)}function o(p){p.isInterleavedBufferAttribute&&(p=p.data);const f=n.get(p);f&&(e.deleteBuffer(f.buffer),n.delete(p))}function c(p,f){p.isInterleavedBufferAttribute&&(p=p.data);const l=n.get(p);l===void 0?n.set(p,s(p,f)):l.version<p.version&&(r(l.buffer,p,f),l.version=p.version)}return{get:a,remove:o,update:c}}function tf(e,t,i,n){ut.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new dc(e,t,i,n)),this.mergeVertices()}tf.prototype=Object.create(ut.prototype);tf.prototype.constructor=tf;function dc(e,t,i,n){We.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n},e=e||1,t=t||1;const s=e/2,r=t/2,a=Math.floor(i)||1,o=Math.floor(n)||1,c=a+1,p=o+1,f=e/a,l=t/o,u=[],m=[],d=[],y=[];for(let _=0;_<p;_++){const h=_*l-r;for(let g=0;g<c;g++){const E=g*f-s;m.push(E,-h,0),d.push(0,0,1),y.push(g/a),y.push(1-_/o)}}for(let _=0;_<o;_++)for(let h=0;h<a;h++){const g=h+c*_,E=h+c*(_+1),w=h+1+c*(_+1),v=h+1+c*_;u.push(g,E,v),u.push(E,w,v)}this.setIndex(u),this.setAttribute("position",new $e(m,3)),this.setAttribute("normal",new $e(d,3)),this.setAttribute("uv",new $e(y,2))}dc.prototype=Object.create(We.prototype);dc.prototype.constructor=dc;var x9=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,S9=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,M9=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,A9=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,C9=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,P9="vec3 transformed = vec3( position );",T9=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,I9=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,L9=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,F9=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,R9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,N9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,D9=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,G9=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,O9=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,k9=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,B9=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,V9=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,q9=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,z9=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,H9=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,U9=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,W9=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,j9=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$9="gl_FragColor = linearToOutputTexel( gl_FragColor );",K9=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,Y9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,J9=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Q9=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,X9=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Z9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,eS=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,tS=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,iS=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,nS=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,sS=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,rS=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,aS=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,oS=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,cS=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,pS=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,fS=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lS=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,uS=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mS=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,dS=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,hS=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_S=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,yS=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,gS=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,wS=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ES=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vS=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,bS=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,xS=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,SS=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,MS=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,AS=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,CS=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,PS=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,TS=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,IS=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,LS=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,FS=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,RS=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,NS=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,DS=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,GS=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,OS=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,kS=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,BS=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VS=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qS=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zS=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,HS=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,US=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,WS=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,jS=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$S=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,KS=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,YS=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,JS=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,QS=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,XS=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ZS=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,eM=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tM=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iM=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,nM=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,sM=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,rM=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,aM=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,oM=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,cM=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,pM=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,fM=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,lM=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,uM=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mM=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dM=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,hM=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,_M=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yM=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gM=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wM=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,EM=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vM=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bM=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xM=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,SM=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MM=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AM=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CM=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,PM=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TM=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IM=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LM=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,FM=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RM=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NM=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,DM=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,GM=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,OM=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kM=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,BM=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VM=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,qM=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Rt={alphamap_fragment:x9,alphamap_pars_fragment:S9,alphatest_fragment:M9,aomap_fragment:A9,aomap_pars_fragment:C9,begin_vertex:P9,beginnormal_vertex:T9,bsdfs:I9,bumpmap_pars_fragment:L9,clipping_planes_fragment:F9,clipping_planes_pars_fragment:R9,clipping_planes_pars_vertex:N9,clipping_planes_vertex:D9,color_fragment:G9,color_pars_fragment:O9,color_pars_vertex:k9,color_vertex:B9,common:V9,cube_uv_reflection_fragment:q9,defaultnormal_vertex:z9,displacementmap_pars_vertex:H9,displacementmap_vertex:U9,emissivemap_fragment:W9,emissivemap_pars_fragment:j9,encodings_fragment:$9,encodings_pars_fragment:K9,envmap_fragment:Y9,envmap_common_pars_fragment:J9,envmap_pars_fragment:Q9,envmap_pars_vertex:X9,envmap_physical_pars_fragment:pS,envmap_vertex:Z9,fog_vertex:eS,fog_pars_vertex:tS,fog_fragment:iS,fog_pars_fragment:nS,gradientmap_pars_fragment:sS,lightmap_fragment:rS,lightmap_pars_fragment:aS,lights_lambert_vertex:oS,lights_pars_begin:cS,lights_toon_fragment:fS,lights_toon_pars_fragment:lS,lights_phong_fragment:uS,lights_phong_pars_fragment:mS,lights_physical_fragment:dS,lights_physical_pars_fragment:hS,lights_fragment_begin:_S,lights_fragment_maps:yS,lights_fragment_end:gS,logdepthbuf_fragment:wS,logdepthbuf_pars_fragment:ES,logdepthbuf_pars_vertex:vS,logdepthbuf_vertex:bS,map_fragment:xS,map_pars_fragment:SS,map_particle_fragment:MS,map_particle_pars_fragment:AS,metalnessmap_fragment:CS,metalnessmap_pars_fragment:PS,morphnormal_vertex:TS,morphtarget_pars_vertex:IS,morphtarget_vertex:LS,normal_fragment_begin:FS,normal_fragment_maps:RS,normalmap_pars_fragment:NS,clearcoat_normal_fragment_begin:DS,clearcoat_normal_fragment_maps:GS,clearcoat_pars_fragment:OS,packing:kS,premultiplied_alpha_fragment:BS,project_vertex:VS,dithering_fragment:qS,dithering_pars_fragment:zS,roughnessmap_fragment:HS,roughnessmap_pars_fragment:US,shadowmap_pars_fragment:WS,shadowmap_pars_vertex:jS,shadowmap_vertex:$S,shadowmask_pars_fragment:KS,skinbase_vertex:YS,skinning_pars_vertex:JS,skinning_vertex:QS,skinnormal_vertex:XS,specularmap_fragment:ZS,specularmap_pars_fragment:eM,tonemapping_fragment:tM,tonemapping_pars_fragment:iM,uv_pars_fragment:nM,uv_pars_vertex:sM,uv_vertex:rM,uv2_pars_fragment:aM,uv2_pars_vertex:oM,uv2_vertex:cM,worldpos_vertex:pM,background_frag:fM,background_vert:lM,cube_frag:uM,cube_vert:mM,depth_frag:dM,depth_vert:hM,distanceRGBA_frag:_M,distanceRGBA_vert:yM,equirect_frag:gM,equirect_vert:wM,linedashed_frag:EM,linedashed_vert:vM,meshbasic_frag:bM,meshbasic_vert:xM,meshlambert_frag:SM,meshlambert_vert:MM,meshmatcap_frag:AM,meshmatcap_vert:CM,meshtoon_frag:PM,meshtoon_vert:TM,meshphong_frag:IM,meshphong_vert:LM,meshphysical_frag:FM,meshphysical_vert:RM,normal_frag:NM,normal_vert:DM,points_frag:GM,points_vert:OM,shadow_frag:kM,shadow_vert:BM,sprite_frag:VM,sprite_vert:qM},lr={basic:{uniforms:tn([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.fog]),vertexShader:Rt.meshbasic_vert,fragmentShader:Rt.meshbasic_frag},lambert:{uniforms:tn([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.fog,He.lights,{emissive:{value:new Oe(0)}}]),vertexShader:Rt.meshlambert_vert,fragmentShader:Rt.meshlambert_frag},phong:{uniforms:tn([He.common,He.specularmap,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.fog,He.lights,{emissive:{value:new Oe(0)},specular:{value:new Oe(1118481)},shininess:{value:30}}]),vertexShader:Rt.meshphong_vert,fragmentShader:Rt.meshphong_frag},standard:{uniforms:tn([He.common,He.envmap,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.roughnessmap,He.metalnessmap,He.fog,He.lights,{emissive:{value:new Oe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag},toon:{uniforms:tn([He.common,He.aomap,He.lightmap,He.emissivemap,He.bumpmap,He.normalmap,He.displacementmap,He.gradientmap,He.fog,He.lights,{emissive:{value:new Oe(0)}}]),vertexShader:Rt.meshtoon_vert,fragmentShader:Rt.meshtoon_frag},matcap:{uniforms:tn([He.common,He.bumpmap,He.normalmap,He.displacementmap,He.fog,{matcap:{value:null}}]),vertexShader:Rt.meshmatcap_vert,fragmentShader:Rt.meshmatcap_frag},points:{uniforms:tn([He.points,He.fog]),vertexShader:Rt.points_vert,fragmentShader:Rt.points_frag},dashed:{uniforms:tn([He.common,He.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rt.linedashed_vert,fragmentShader:Rt.linedashed_frag},depth:{uniforms:tn([He.common,He.displacementmap]),vertexShader:Rt.depth_vert,fragmentShader:Rt.depth_frag},normal:{uniforms:tn([He.common,He.bumpmap,He.normalmap,He.displacementmap,{opacity:{value:1}}]),vertexShader:Rt.normal_vert,fragmentShader:Rt.normal_frag},sprite:{uniforms:tn([He.sprite,He.fog]),vertexShader:Rt.sprite_vert,fragmentShader:Rt.sprite_frag},background:{uniforms:{uvTransform:{value:new Yi},t2D:{value:null}},vertexShader:Rt.background_vert,fragmentShader:Rt.background_frag},cube:{uniforms:tn([He.envmap,{opacity:{value:1}}]),vertexShader:Rt.cube_vert,fragmentShader:Rt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rt.equirect_vert,fragmentShader:Rt.equirect_frag},distanceRGBA:{uniforms:tn([He.common,He.displacementmap,{referencePosition:{value:new P},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rt.distanceRGBA_vert,fragmentShader:Rt.distanceRGBA_frag},shadow:{uniforms:tn([He.lights,He.fog,{color:{value:new Oe(0)},opacity:{value:1}}]),vertexShader:Rt.shadow_vert,fragmentShader:Rt.shadow_frag}};lr.physical={uniforms:tn([lr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Te(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Oe(0)},transparency:{value:0}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag};function zM(e,t,i,n){const s=new Oe(0);let r=0,a,o,c=null,p=0,f=null;function l(m,d,y,_){let h=d.isScene===!0?d.background:null;const g=e.xr,E=g.getSession&&g.getSession();if(E&&E.environmentBlendMode==="additive"&&(h=null),h===null?u(s,r):h&&h.isColor&&(u(h,1),_=!0),(e.autoClear||_)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),h&&(h.isCubeTexture||h.isWebGLCubeRenderTarget||h.mapping===Hf)){o===void 0&&(o=new ci(new Wf(1,1,1),new ki({name:"BackgroundCubeMaterial",uniforms:mc(lr.cube.uniforms),vertexShader:lr.cube.vertexShader,fragmentShader:lr.cube.fragmentShader,side:Gi,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(v,x,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(o));const w=h.isWebGLCubeRenderTarget?h.texture:h;o.material.uniforms.envMap.value=w,o.material.uniforms.flipEnvMap.value=w.isCubeTexture?-1:1,(c!==h||p!==w.version||f!==e.toneMapping)&&(o.material.needsUpdate=!0,c=h,p=w.version,f=e.toneMapping),m.unshift(o,o.geometry,o.material,0,0,null)}else h&&h.isTexture&&(a===void 0&&(a=new ci(new dc(2,2),new ki({name:"BackgroundMaterial",uniforms:mc(lr.background.uniforms),vertexShader:lr.background.vertexShader,fragmentShader:lr.background.fragmentShader,side:Dc,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=h,h.matrixAutoUpdate===!0&&h.updateMatrix(),a.material.uniforms.uvTransform.value.copy(h.matrix),(c!==h||p!==h.version||f!==e.toneMapping)&&(a.material.needsUpdate=!0,c=h,p=h.version,f=e.toneMapping),m.unshift(a,a.geometry,a.material,0,0,null))}function u(m,d){t.buffers.color.setClear(m.r,m.g,m.b,d,n)}return{getClearColor:function(){return s},setClearColor:function(m,d){s.set(m),r=d!==void 0?d:1,u(s,r)},getClearAlpha:function(){return r},setClearAlpha:function(m){r=m,u(s,r)},render:l}}function HM(e,t,i,n){const s=e.getParameter(34921),r=n.isWebGL2?null:t.get("OES_vertex_array_object"),a=n.isWebGL2||r!==null,o={},c=y(null);let p=c;function f(D,L,C,O,q){let z=!1;if(a){const $=d(O,C,L);p!==$&&(p=$,u(p.object)),z=_(O),z&&h(O)}else{const $=L.wireframe===!0;(p.geometry!==O.id||p.program!==C.id||p.wireframe!==$)&&(p.geometry=O.id,p.program=C.id,p.wireframe=$,z=!0)}D.isInstancedMesh===!0&&(z=!0),q!==null&&i.update(q,34963),z&&(b(D,L,C,O),q!==null&&e.bindBuffer(34963,i.get(q).buffer))}function l(){return n.isWebGL2?e.createVertexArray():r.createVertexArrayOES()}function u(D){return n.isWebGL2?e.bindVertexArray(D):r.bindVertexArrayOES(D)}function m(D){return n.isWebGL2?e.deleteVertexArray(D):r.deleteVertexArrayOES(D)}function d(D,L,C){const O=C.wireframe===!0;let q=o[D.id];q===void 0&&(q={},o[D.id]=q);let z=q[L.id];z===void 0&&(z={},q[L.id]=z);let $=z[O];return $===void 0&&($=y(l()),z[O]=$),$}function y(D){const L=[],C=[],O=[];for(let q=0;q<s;q++)L[q]=0,C[q]=0,O[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:C,attributeDivisors:O,object:D,attributes:{}}}function _(D){const L=p.attributes,C=D.attributes;if(Object.keys(L).length!==Object.keys(C).length)return!0;for(const O in C){const q=L[O],z=C[O];if(q.attribute!==z||q.data!==z.data)return!0}return!1}function h(D){const L={},C=D.attributes;for(const O in C){const q=C[O],z={};z.attribute=q,q.data&&(z.data=q.data),L[O]=z}p.attributes=L}function g(){const D=p.newAttributes;for(let L=0,C=D.length;L<C;L++)D[L]=0}function E(D){w(D,0)}function w(D,L){const C=p.newAttributes,O=p.enabledAttributes,q=p.attributeDivisors;C[D]=1,O[D]===0&&(e.enableVertexAttribArray(D),O[D]=1),q[D]!==L&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,L),q[D]=L)}function v(){const D=p.newAttributes,L=p.enabledAttributes;for(let C=0,O=L.length;C<O;C++)L[C]!==D[C]&&(e.disableVertexAttribArray(C),L[C]=0)}function x(D,L,C,O,q,z){n.isWebGL2===!0&&(C===5124||C===5125)?e.vertexAttribIPointer(D,L,C,O,q,z):e.vertexAttribPointer(D,L,C,O,q,z)}function b(D,L,C,O){if(n.isWebGL2===!1&&(D.isInstancedMesh||O.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;g();const q=O.attributes,z=C.getAttributes(),$=L.defaultAttributeValues;for(const re in z){const K=z[re];if(K>=0){const J=q[re];if(J!==void 0){const Y=J.normalized,le=J.itemSize,fe=i.get(J);if(fe===void 0)continue;const X=fe.buffer,ae=fe.type,ne=fe.bytesPerElement;if(J.isInterleavedBufferAttribute){const pe=J.data,U=pe.stride,W=J.offset;pe&&pe.isInstancedInterleavedBuffer?(w(K,pe.meshPerAttribute),O._maxInstanceCount===void 0&&(O._maxInstanceCount=pe.meshPerAttribute*pe.count)):E(K),e.bindBuffer(34962,X),x(K,le,ae,Y,U*ne,W*ne)}else J.isInstancedBufferAttribute?(w(K,J.meshPerAttribute),O._maxInstanceCount===void 0&&(O._maxInstanceCount=J.meshPerAttribute*J.count)):E(K),e.bindBuffer(34962,X),x(K,le,ae,Y,0,0)}else if(re==="instanceMatrix"){const Y=i.get(D.instanceMatrix);if(Y===void 0)continue;const le=Y.buffer,fe=Y.type;w(K+0,1),w(K+1,1),w(K+2,1),w(K+3,1),e.bindBuffer(34962,le),e.vertexAttribPointer(K+0,4,fe,!1,64,0),e.vertexAttribPointer(K+1,4,fe,!1,64,16),e.vertexAttribPointer(K+2,4,fe,!1,64,32),e.vertexAttribPointer(K+3,4,fe,!1,64,48)}else if($!==void 0){const Y=$[re];if(Y!==void 0)switch(Y.length){case 2:e.vertexAttrib2fv(K,Y);break;case 3:e.vertexAttrib3fv(K,Y);break;case 4:e.vertexAttrib4fv(K,Y);break;default:e.vertexAttrib1fv(K,Y)}}}}v()}function A(){T();for(const D in o){const L=o[D];for(const C in L){const O=L[C];for(const q in O)m(O[q].object),delete O[q];delete L[C]}delete o[D]}}function M(D){if(o[D.id]===void 0)return;const L=o[D.id];for(const C in L){const O=L[C];for(const q in O)m(O[q].object),delete O[q];delete L[C]}delete o[D.id]}function G(D){for(const L in o){const C=o[L];if(C[D.id]===void 0)continue;const O=C[D.id];for(const q in O)m(O[q].object),delete O[q];delete C[D.id]}}function T(){N(),p!==c&&(p=c,u(p.object))}function N(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:f,reset:T,resetDefaultState:N,dispose:A,releaseStatesOfGeometry:M,releaseStatesOfProgram:G,initAttributes:g,enableAttribute:E,disableUnusedAttributes:v}}function UM(e,t,i,n){const s=n.isWebGL2;let r;function a(p){r=p}function o(p,f){e.drawArrays(r,p,f),i.update(f,r)}function c(p,f,l,u){if(u===0)return;let m,d;if(s)m=e,d="drawArraysInstanced";else if(m=t.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[d](r,f,l,u),i.update(l,r,u)}this.setMode=a,this.render=o,this.renderInstances=c}function WM(e,t,i){let n;function s(){if(n!==void 0)return n;const x=t.get("EXT_texture_filter_anisotropic");return x!==null?n=e.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT):n=0,n}function r(x){if(x==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";x="mediump"}return x==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let o=i.precision!==void 0?i.precision:"highp";const c=r(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const p=i.logarithmicDepthBuffer===!0,f=e.getParameter(34930),l=e.getParameter(35660),u=e.getParameter(3379),m=e.getParameter(34076),d=e.getParameter(34921),y=e.getParameter(36347),_=e.getParameter(36348),h=e.getParameter(36349),g=l>0,E=a||!!t.get("OES_texture_float"),w=g&&E,v=a?e.getParameter(36183):0;return{isWebGL2:a,getMaxAnisotropy:s,getMaxPrecision:r,precision:o,logarithmicDepthBuffer:p,maxTextures:f,maxVertexTextures:l,maxTextureSize:u,maxCubemapSize:m,maxAttributes:d,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:h,vertexTextures:g,floatFragmentTextures:E,floatVertexTextures:w,maxSamples:v}}function jM(){const e=this;let t=null,i=0,n=!1,s=!1;const r=new Os,a=new Yi,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(f,l,u){const m=f.length!==0||l||i!==0||n;return n=l,t=p(f,u,0),i=f.length,m},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,l,u,m,d,y){if(!n||f===null||f.length===0||s&&!u)s?p(null):c();else{const _=s?0:i,h=_*4;let g=d.clippingState||null;o.value=g,g=p(f,m,h,y);for(let E=0;E!==h;++E)g[E]=t[E];d.clippingState=g,this.numIntersection=l?this.numPlanes:0,this.numPlanes+=_}};function c(){o.value!==t&&(o.value=t,o.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(f,l,u,m){let d=f!==null?f.length:0,y=null;if(d!==0){if(y=o.value,m!==!0||y===null){const _=u+d*4,h=l.matrixWorldInverse;a.getNormalMatrix(h),(y===null||y.length<_)&&(y=new Float32Array(_));for(let g=0,E=u;g!==d;++g,E+=4)r.copy(f[g]).applyMatrix4(h,a),r.normal.toArray(y,E),y[E+3]=r.constant}o.value=y,o.needsUpdate=!0}return e.numPlanes=d,e.numIntersection=0,y}}function $M(e){const t={};return{get:function(i){if(t[i]!==void 0)return t[i];let n;switch(i){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(i)}return n===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),t[i]=n,n}}}function KM(e,t,i,n){const s=new WeakMap,r=new WeakMap;function a(l){const u=l.target,m=s.get(u);m.index!==null&&t.remove(m.index);for(const y in m.attributes)t.remove(m.attributes[y]);u.removeEventListener("dispose",a),s.delete(u);const d=r.get(m);d&&(t.remove(d),r.delete(m)),n.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,i.memory.geometries--}function o(l,u){let m=s.get(u);return m||(u.addEventListener("dispose",a),u.isBufferGeometry?m=u:u.isGeometry&&(u._bufferGeometry===void 0&&(u._bufferGeometry=new We().setFromObject(l)),m=u._bufferGeometry),s.set(u,m),i.memory.geometries++,m)}function c(l){const u=l.attributes;for(const d in u)t.update(u[d],34962);const m=l.morphAttributes;for(const d in m){const y=m[d];for(let _=0,h=y.length;_<h;_++)t.update(y[_],34962)}}function p(l){const u=[],m=l.index,d=l.attributes.position;let y=0;if(m!==null){const g=m.array;y=m.version;for(let E=0,w=g.length;E<w;E+=3){const v=g[E+0],x=g[E+1],b=g[E+2];u.push(v,x,x,b,b,v)}}else{const g=d.array;y=d.version;for(let E=0,w=g.length/3-1;E<w;E+=3){const v=E+0,x=E+1,b=E+2;u.push(v,x,x,b,b,v)}}const _=new(V6(u)>65535?Xp:Qp)(u,1);_.version=y;const h=r.get(l);h&&t.remove(h),r.set(l,_)}function f(l){const u=r.get(l);if(u){const m=l.index;m!==null&&u.version<m.version&&p(l)}else p(l);return r.get(l)}return{get:o,update:c,getWireframeAttribute:f}}function YM(e,t,i,n){const s=n.isWebGL2;let r;function a(u){r=u}let o,c;function p(u){o=u.type,c=u.bytesPerElement}function f(u,m){e.drawElements(r,m,o,u*c),i.update(m,r)}function l(u,m,d,y){if(y===0)return;let _,h;if(s)_=e,h="drawElementsInstanced";else if(_=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[h](r,d,o,m*c,y),i.update(d,r,y)}this.setMode=a,this.setIndex=p,this.render=f,this.renderInstances=l}function JM(e){const t={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function n(r,a,o){switch(o=o||1,i.calls++,a){case 4:i.triangles+=o*(r/3);break;case 1:i.lines+=o*(r/2);break;case 3:i.lines+=o*(r-1);break;case 2:i.lines+=o*r;break;case 0:i.points+=o*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function s(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:t,render:i,programs:null,autoReset:!0,reset:s,update:n}}function QM(e,t){return e[0]-t[0]}function XM(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ZM(e){const t={},i=new Float32Array(8),n=[];for(let r=0;r<8;r++)n[r]=[r,0];function s(r,a,o,c){const p=r.morphTargetInfluences,f=p===void 0?0:p.length;let l=t[a.id];if(l===void 0){l=[];for(let _=0;_<f;_++)l[_]=[_,0];t[a.id]=l}for(let _=0;_<f;_++){const h=l[_];h[0]=_,h[1]=p[_]}l.sort(XM);for(let _=0;_<8;_++)_<f&&l[_][1]?(n[_][0]=l[_][0],n[_][1]=l[_][1]):(n[_][0]=Number.MAX_SAFE_INTEGER,n[_][1]=0);n.sort(QM);const u=o.morphTargets&&a.morphAttributes.position,m=o.morphNormals&&a.morphAttributes.normal;let d=0;for(let _=0;_<8;_++){const h=n[_],g=h[0],E=h[1];g!==Number.MAX_SAFE_INTEGER&&E?(u&&a.getAttribute("morphTarget"+_)!==u[g]&&a.setAttribute("morphTarget"+_,u[g]),m&&a.getAttribute("morphNormal"+_)!==m[g]&&a.setAttribute("morphNormal"+_,m[g]),i[_]=E,d+=E):(u&&a.getAttribute("morphTarget"+_)!==void 0&&a.deleteAttribute("morphTarget"+_),m&&a.getAttribute("morphNormal"+_)!==void 0&&a.deleteAttribute("morphNormal"+_),i[_]=0)}const y=a.morphTargetsRelative?1:1-d;c.getUniforms().setValue(e,"morphTargetBaseInfluence",y),c.getUniforms().setValue(e,"morphTargetInfluences",i)}return{update:s}}function eA(e,t,i,n){let s=new WeakMap;function r(o){const c=n.render.frame,p=o.geometry,f=t.get(o,p);return s.get(f)!==c&&(p.isGeometry&&f.updateFromObject(o),t.update(f),s.set(f,c)),o.isInstancedMesh&&i.update(o.instanceMatrix,34962),f}function a(){s=new WeakMap}return{update:r,dispose:a}}function ca(e,t,i,n,s,r,a,o,c,p){e=e!==void 0?e:[],t=t!==void 0?t:b_,a=a!==void 0?a:Da,pi.call(this,e,t,i,n,s,r,a,o,c,p),this.flipY=!1}ca.prototype=Object.create(pi.prototype);ca.prototype.constructor=ca;ca.prototype.isCubeTexture=!0;Object.defineProperty(ca.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function nf(e,t,i,n){pi.call(this,null),this.image={data:e||null,width:t||1,height:i||1,depth:n||1},this.magFilter=si,this.minFilter=si,this.wrapR=xn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}nf.prototype=Object.create(pi.prototype);nf.prototype.constructor=nf;nf.prototype.isDataTexture2DArray=!0;function sf(e,t,i,n){pi.call(this,null),this.image={data:e||null,width:t||1,height:i||1,depth:n||1},this.magFilter=si,this.minFilter=si,this.wrapR=xn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}sf.prototype=Object.create(pi.prototype);sf.prototype.constructor=sf;sf.prototype.isDataTexture3D=!0;const H6=new pi,tA=new nf,iA=new sf,U6=new ca,ay=[],oy=[],cy=new Float32Array(16),py=new Float32Array(9),fy=new Float32Array(4);function kc(e,t,i){const n=e[0];if(n<=0||n>0)return e;let s=t*i,r=ay[s];if(r===void 0&&(r=new Float32Array(s),ay[s]=r),t!==0){n.toArray(r,0);for(let a=1,o=0;a!==t;++a)o+=i,e[a].toArray(r,o)}return r}function Jn(e,t){if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Nn(e,t){for(let i=0,n=t.length;i<n;i++)e[i]=t[i]}function W6(e,t){let i=oy[t];i===void 0&&(i=new Int32Array(t),oy[t]=i);for(let n=0;n!==t;++n)i[n]=e.allocateTextureUnit();return i}function nA(e,t){const i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function sA(e,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Jn(i,t))return;e.uniform2fv(this.addr,t),Nn(i,t)}}function rA(e,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(t.r!==void 0)(i[0]!==t.r||i[1]!==t.g||i[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(Jn(i,t))return;e.uniform3fv(this.addr,t),Nn(i,t)}}function aA(e,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Jn(i,t))return;e.uniform4fv(this.addr,t),Nn(i,t)}}function oA(e,t){const i=this.cache,n=t.elements;if(n===void 0){if(Jn(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),Nn(i,t)}else{if(Jn(i,n))return;fy.set(n),e.uniformMatrix2fv(this.addr,!1,fy),Nn(i,n)}}function cA(e,t){const i=this.cache,n=t.elements;if(n===void 0){if(Jn(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),Nn(i,t)}else{if(Jn(i,n))return;py.set(n),e.uniformMatrix3fv(this.addr,!1,py),Nn(i,n)}}function pA(e,t){const i=this.cache,n=t.elements;if(n===void 0){if(Jn(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),Nn(i,t)}else{if(Jn(i,n))return;cy.set(n),e.uniformMatrix4fv(this.addr,!1,cy),Nn(i,n)}}function fA(e,t,i){const n=this.cache,s=i.allocateTextureUnit();n[0]!==s&&(e.uniform1i(this.addr,s),n[0]=s),i.safeSetTexture2D(t||H6,s)}function lA(e,t,i){const n=this.cache,s=i.allocateTextureUnit();n[0]!==s&&(e.uniform1i(this.addr,s),n[0]=s),i.setTexture2DArray(t||tA,s)}function uA(e,t,i){const n=this.cache,s=i.allocateTextureUnit();n[0]!==s&&(e.uniform1i(this.addr,s),n[0]=s),i.setTexture3D(t||iA,s)}function mA(e,t,i){const n=this.cache,s=i.allocateTextureUnit();n[0]!==s&&(e.uniform1i(this.addr,s),n[0]=s),i.safeSetTextureCube(t||U6,s)}function dA(e,t){const i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function hA(e,t){const i=this.cache;Jn(i,t)||(e.uniform2iv(this.addr,t),Nn(i,t))}function _A(e,t){const i=this.cache;Jn(i,t)||(e.uniform3iv(this.addr,t),Nn(i,t))}function yA(e,t){const i=this.cache;Jn(i,t)||(e.uniform4iv(this.addr,t),Nn(i,t))}function gA(e,t){const i=this.cache;i[0]!==t&&(e.uniform1ui(this.addr,t),i[0]=t)}function wA(e){switch(e){case 5126:return nA;case 35664:return sA;case 35665:return rA;case 35666:return aA;case 35674:return oA;case 35675:return cA;case 35676:return pA;case 5124:case 35670:return dA;case 35667:case 35671:return hA;case 35668:case 35672:return _A;case 35669:case 35673:return yA;case 5125:return gA;case 35678:case 36198:case 36298:case 36306:case 35682:return fA;case 35679:case 36299:case 36307:return uA;case 35680:case 36300:case 36308:case 36293:return mA;case 36289:case 36303:case 36311:case 36292:return lA}}function EA(e,t){e.uniform1fv(this.addr,t)}function vA(e,t){e.uniform1iv(this.addr,t)}function bA(e,t){e.uniform2iv(this.addr,t)}function xA(e,t){e.uniform3iv(this.addr,t)}function SA(e,t){e.uniform4iv(this.addr,t)}function MA(e,t){const i=kc(t,this.size,2);e.uniform2fv(this.addr,i)}function AA(e,t){const i=kc(t,this.size,3);e.uniform3fv(this.addr,i)}function CA(e,t){const i=kc(t,this.size,4);e.uniform4fv(this.addr,i)}function PA(e,t){const i=kc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,i)}function TA(e,t){const i=kc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,i)}function IA(e,t){const i=kc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,i)}function LA(e,t,i){const n=t.length,s=W6(i,n);e.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)i.safeSetTexture2D(t[r]||H6,s[r])}function FA(e,t,i){const n=t.length,s=W6(i,n);e.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)i.safeSetTextureCube(t[r]||U6,s[r])}function RA(e){switch(e){case 5126:return EA;case 35664:return MA;case 35665:return AA;case 35666:return CA;case 35674:return PA;case 35675:return TA;case 35676:return IA;case 5124:case 35670:return vA;case 35667:case 35671:return bA;case 35668:case 35672:return xA;case 35669:case 35673:return SA;case 35678:case 36198:case 36298:case 36306:case 35682:return LA;case 35680:case 36300:case 36308:case 36293:return FA}}function NA(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=wA(t.type)}function j6(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=RA(t.type)}j6.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Nn(t,e)};function $6(e){this.id=e,this.seq=[],this.map={}}$6.prototype.setValue=function(e,t,i){const n=this.seq;for(let s=0,r=n.length;s!==r;++s){const a=n[s];a.setValue(e,t[a.id],i)}};const J1=/([\w\d_]+)(\])?(\[|\.)?/g;function ly(e,t){e.seq.push(t),e.map[t.id]=t}function DA(e,t,i){const n=e.name,s=n.length;for(J1.lastIndex=0;;){const r=J1.exec(n),a=J1.lastIndex;let o=r[1],c=r[2]==="]",p=r[3];if(c&&(o=o|0),p===void 0||p==="["&&a+2===s){ly(i,p===void 0?new NA(o,e,t):new j6(o,e,t));break}else{let l=i.map[o];l===void 0&&(l=new $6(o),ly(i,l)),i=l}}}function ta(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let n=0;n<i;++n){const s=e.getActiveUniform(t,n),r=e.getUniformLocation(t,s.name);DA(s,r,this)}}ta.prototype.setValue=function(e,t,i,n){const s=this.map[t];s!==void 0&&s.setValue(e,i,n)};ta.prototype.setOptional=function(e,t,i){const n=t[i];n!==void 0&&this.setValue(e,i,n)};ta.upload=function(e,t,i,n){for(let s=0,r=t.length;s!==r;++s){const a=t[s],o=i[a.id];o.needsUpdate!==!1&&a.setValue(e,o.value,n)}};ta.seqWithValue=function(e,t){const i=[];for(let n=0,s=e.length;n!==s;++n){const r=e[n];r.id in t&&i.push(r)}return i};function uy(e,t,i){const n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),n}let GA=0;function OA(e){const t=e.split(`
`);for(let i=0;i<t.length;i++)t[i]=i+1+": "+t[i];return t.join(`
`)}function K6(e){switch(e){case an:return["Linear","( value )"];case Uf:return["sRGB","( value )"];case P_:return["RGBE","( value )"];case D6:return["RGBM","( value, 7.0 )"];case G6:return["RGBM","( value, 16.0 )"];case O6:return["RGBD","( value, 256.0 )"];case C_:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case e9:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function my(e,t,i){const n=e.getShaderParameter(t,35713),s=e.getShaderInfoLog(t).trim();if(n&&s==="")return"";const r=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+i+`
`+s+OA(r)}function ip(e,t){const i=K6(t);return"vec4 "+e+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function kA(e,t){const i=K6(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function BA(e,t){let i;switch(t){case Zx:i="Linear";break;case e8:i="Reinhard";break;case t8:i="OptimizedCineon";break;case i8:i="ACESFilmic";break;case n8:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function VA(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Mp).join(`
`)}function qA(e){const t=[];for(const i in e){const n=e[i];n!==!1&&t.push("#define "+i+" "+n)}return t.join(`
`)}function zA(e,t){const i={},n=e.getProgramParameter(t,35721);for(let s=0;s<n;s++){const a=e.getActiveAttrib(t,s).name;i[a]=e.getAttribLocation(t,a)}return i}function Mp(e){return e!==""}function dy(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function hy(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const HA=/^[ \t]*#include +<([\w\d./]+)>/gm;function Jd(e){return e.replace(HA,UA)}function UA(e,t){const i=Rt[t];if(i===void 0)throw new Error("Can not resolve #include <"+t+">");return Jd(i)}const WA=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,jA=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function _y(e){return e.replace(jA,Y6).replace(WA,$A)}function $A(e,t,i,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Y6(e,t,i,n)}function Y6(e,t,i,n){let s="";for(let r=parseInt(t);r<parseInt(i);r++)s+=n.replace(/\[ i \]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function yy(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function KA(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===P6?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Lx?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Sp&&(t="SHADOWMAP_TYPE_VSM"),t}function YA(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case b_:case x_:t="ENVMAP_TYPE_CUBE";break;case Hf:case M_:t="ENVMAP_TYPE_CUBE_UV";break;case F6:case S_:t="ENVMAP_TYPE_EQUIREC";break}return t}function JA(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case x_:case S_:t="ENVMAP_MODE_REFRACTION";break}return t}function QA(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case $u:t="ENVMAP_BLENDING_MULTIPLY";break;case Qx:t="ENVMAP_BLENDING_MIX";break;case Xx:t="ENVMAP_BLENDING_ADD";break}return t}function XA(e,t,i,n){const s=e.getContext(),r=i.defines;let a=i.vertexShader,o=i.fragmentShader;const c=KA(i),p=YA(i),f=JA(i),l=QA(i),u=e.gammaFactor>0?e.gammaFactor:1,m=i.isWebGL2?"":VA(i),d=qA(r),y=s.createProgram();let _,h;if(i.isRawShaderMaterial?(_=[d].filter(Mp).join(`
`),_.length>0&&(_+=`
`),h=[m,d].filter(Mp).join(`
`),h.length>0&&(h+=`
`)):(_=[yy(i),"#define SHADER_NAME "+i.shaderName,d,i.instancing?"#define USE_INSTANCING":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+u,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+f:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+c:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Mp).join(`
`),h=[m,yy(i),"#define SHADER_NAME "+i.shaderName,d,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+u,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+p:"",i.envMap?"#define "+f:"",i.envMap?"#define "+l:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+c:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==ic?"#define TONE_MAPPING":"",i.toneMapping!==ic?Rt.tonemapping_pars_fragment:"",i.toneMapping!==ic?BA("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",Rt.encodings_pars_fragment,i.map?ip("mapTexelToLinear",i.mapEncoding):"",i.matcap?ip("matcapTexelToLinear",i.matcapEncoding):"",i.envMap?ip("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMap?ip("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMap?ip("lightMapTexelToLinear",i.lightMapEncoding):"",kA("linearToOutputTexel",i.outputEncoding),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(Mp).join(`
`)),a=Jd(a),a=dy(a,i),a=hy(a,i),o=Jd(o),o=dy(o,i),o=hy(o,i),a=_y(a),o=_y(o),i.isWebGL2&&!i.isRawShaderMaterial){let A=!1;const M=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&a.match(M)!==null&&o.match(M)!==null&&(A=!0,a=a.replace(M,""),o=o.replace(M,"")),_=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,h=[`#version 300 es
`,"#define varying in",A?"":"out highp vec4 pc_fragColor;",A?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+h}const g=_+a,E=h+o,w=uy(s,35633,g),v=uy(s,35632,E);if(s.attachShader(y,w),s.attachShader(y,v),i.index0AttributeName!==void 0?s.bindAttribLocation(y,0,i.index0AttributeName):i.morphTargets===!0&&s.bindAttribLocation(y,0,"position"),s.linkProgram(y),e.debug.checkShaderErrors){const A=s.getProgramInfoLog(y).trim(),M=s.getShaderInfoLog(w).trim(),G=s.getShaderInfoLog(v).trim();let T=!0,N=!0;if(s.getProgramParameter(y,35714)===!1){T=!1;const D=my(s,w,"vertex"),L=my(s,v,"fragment");console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(y,35715),"gl.getProgramInfoLog",A,D,L)}else A!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):(M===""||G==="")&&(N=!1);N&&(this.diagnostics={runnable:T,programLog:A,vertexShader:{log:M,prefix:_},fragmentShader:{log:G,prefix:h}})}s.deleteShader(w),s.deleteShader(v);let x;this.getUniforms=function(){return x===void 0&&(x=new ta(s,y)),x};let b;return this.getAttributes=function(){return b===void 0&&(b=zA(s,y)),b},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(y),this.program=void 0},this.name=i.shaderName,this.id=GA++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=w,this.fragmentShader=v,this}function ZA(e,t,i,n){const s=[],r=i.isWebGL2,a=i.logarithmicDepthBuffer,o=i.floatVertexTextures,c=i.maxVertexUniforms,p=i.vertexTextures;let f=i.precision;const l={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},u=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function m(w,v){let x;if(v){const b=lr[v];x={name:w.name||w.type,uniforms:Xl.clone(b.uniforms),vertexShader:b.vertexShader,fragmentShader:b.fragmentShader}}else x={name:w.name||w.type,uniforms:w.uniforms,vertexShader:w.vertexShader,fragmentShader:w.fragmentShader};return x}function d(w){const x=w.skeleton.bones;if(o)return 1024;{const A=Math.floor((c-20)/4),M=Math.min(A,x.length);return M<x.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+x.length+" bones. This GPU supports "+M+"."),0):M}}function y(w){let v;return w?w.isTexture?v=w.encoding:w.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),v=w.texture.encoding):v=an,v}function _(w,v,x,b,A,M,G){const T=b.fog,N=w.isMeshStandardMaterial?b.environment:null,D=w.envMap||N,L=l[w.type],C=G.isSkinnedMesh?d(G):0;w.precision!==null&&(f=i.getMaxPrecision(w.precision),f!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",f,"instead."));const O=m(w,L);w.onBeforeCompile(O,e);const q=e.getRenderTarget();return{isWebGL2:r,shaderID:L,shaderName:O.name,uniforms:O.uniforms,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,defines:w.defines,isRawShaderMaterial:w.isRawShaderMaterial,isShaderMaterial:w.isShaderMaterial,precision:f,instancing:G.isInstancedMesh===!0,supportsVertexTextures:p,outputEncoding:q!==null?y(q.texture):e.outputEncoding,map:!!w.map,mapEncoding:y(w.map),matcap:!!w.matcap,matcapEncoding:y(w.matcap),envMap:!!D,envMapMode:D&&D.mapping,envMapEncoding:y(D),envMapCubeUV:!!D&&(D.mapping===Hf||D.mapping===M_),lightMap:!!w.lightMap,lightMapEncoding:y(w.lightMap),aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,emissiveMapEncoding:y(w.emissiveMap),bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===n9,tangentSpaceNormalMap:w.normalMapType===Gc,clearcoatMap:!!w.clearcoatMap,clearcoatRoughnessMap:!!w.clearcoatRoughnessMap,clearcoatNormalMap:!!w.clearcoatNormalMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,alphaMap:!!w.alphaMap,gradientMap:!!w.gradientMap,sheen:!!w.sheen,combine:w.combine,vertexTangents:w.normalMap&&w.vertexTangents,vertexColors:w.vertexColors,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.displacementMap,uvsVertexOnly:!(!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatNormalMap)&&!!w.displacementMap,fog:!!T,useFog:w.fog,fogExp2:T&&T.isFogExp2,flatShading:w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:a,skinning:w.skinning&&C>0,maxBones:C,useVertexTexture:o,morphTargets:w.morphTargets,morphNormals:w.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:v.directional.length,numPointLights:v.point.length,numSpotLights:v.spot.length,numRectAreaLights:v.rectArea.length,numHemiLights:v.hemi.length,numDirLightShadows:v.directionalShadowMap.length,numPointLightShadows:v.pointShadowMap.length,numSpotLightShadows:v.spotShadowMap.length,numClippingPlanes:A,numClipIntersection:M,dithering:w.dithering,shadowMapEnabled:e.shadowMap.enabled&&x.length>0,shadowMapType:e.shadowMap.type,toneMapping:w.toneMapped?e.toneMapping:ic,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,alphaTest:w.alphaTest,doubleSided:w.side===zf,flipSided:w.side===Gi,depthPacking:w.depthPacking!==void 0?w.depthPacking:!1,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:r||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:r||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:r||t.get("EXT_shader_texture_lod")!==null,customProgramCacheKey:w.customProgramCacheKey()}}function h(w){const v=[];if(w.shaderID?v.push(w.shaderID):(v.push(w.fragmentShader),v.push(w.vertexShader)),w.defines!==void 0)for(const x in w.defines)v.push(x),v.push(w.defines[x]);if(w.isRawShaderMaterial===void 0){for(let x=0;x<u.length;x++)v.push(w[u[x]]);v.push(e.outputEncoding),v.push(e.gammaFactor)}return v.push(w.customProgramCacheKey),v.join()}function g(w,v){let x;for(let b=0,A=s.length;b<A;b++){const M=s[b];if(M.cacheKey===v){x=M,++x.usedTimes;break}}return x===void 0&&(x=new XA(e,v,w,n),s.push(x)),x}function E(w){if(--w.usedTimes===0){const v=s.indexOf(w);s[v]=s[s.length-1],s.pop(),w.destroy()}}return{getParameters:_,getProgramCacheKey:h,acquireProgram:g,releaseProgram:E,programs:s}}function eC(){let e=new WeakMap;function t(r){let a=e.get(r);return a===void 0&&(a={},e.set(r,a)),a}function i(r){e.delete(r)}function n(r,a,o){e.get(r)[a]=o}function s(){e=new WeakMap}return{get:t,remove:i,update:n,dispose:s}}function tC(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function iC(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function gy(){const e=[];let t=0;const i=[],n=[],s={id:-1};function r(){t=0,i.length=0,n.length=0}function a(l,u,m,d,y,_){let h=e[t];return h===void 0?(h={id:l.id,object:l,geometry:u,material:m,program:m.program||s,groupOrder:d,renderOrder:l.renderOrder,z:y,group:_},e[t]=h):(h.id=l.id,h.object=l,h.geometry=u,h.material=m,h.program=m.program||s,h.groupOrder=d,h.renderOrder=l.renderOrder,h.z=y,h.group=_),t++,h}function o(l,u,m,d,y,_){const h=a(l,u,m,d,y,_);(m.transparent===!0?n:i).push(h)}function c(l,u,m,d,y,_){const h=a(l,u,m,d,y,_);(m.transparent===!0?n:i).unshift(h)}function p(l,u){i.length>1&&i.sort(l||tC),n.length>1&&n.sort(u||iC)}function f(){for(let l=t,u=e.length;l<u;l++){const m=e[l];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.program=null,m.group=null}}return{opaque:i,transparent:n,init:r,push:o,unshift:c,finish:f,sort:p}}function nC(){let e=new WeakMap;function t(s){const r=s.target;r.removeEventListener("dispose",t),e.delete(r)}function i(s,r){const a=e.get(s);let o;return a===void 0?(o=new gy,e.set(s,new WeakMap),e.get(s).set(r,o),s.addEventListener("dispose",t)):(o=a.get(r),o===void 0&&(o=new gy,a.set(r,o))),o}function n(){e=new WeakMap}return{get:i,dispose:n}}function sC(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={direction:new P,color:new Oe};break;case"SpotLight":i={position:new P,direction:new P,color:new Oe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new P,color:new Oe,distance:0,decay:0};break;case"HemisphereLight":i={direction:new P,skyColor:new Oe,groundColor:new Oe};break;case"RectAreaLight":i={color:new Oe,position:new P,halfWidth:new P,halfHeight:new P};break}return e[t.id]=i,i}}}function rC(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let i;switch(t.type){case"DirectionalLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=i,i}}}let aC=0;function oC(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function cC(){const e=new sC,t=rC(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let o=0;o<9;o++)i.probe.push(new P);const n=new P,s=new De,r=new De;function a(o,c,p){let f=0,l=0,u=0;for(let b=0;b<9;b++)i.probe[b].set(0,0,0);let m=0,d=0,y=0,_=0,h=0,g=0,E=0,w=0;const v=p.matrixWorldInverse;o.sort(oC);for(let b=0,A=o.length;b<A;b++){const M=o[b],G=M.color,T=M.intensity,N=M.distance,D=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)f+=G.r*T,l+=G.g*T,u+=G.b*T;else if(M.isLightProbe)for(let L=0;L<9;L++)i.probe[L].addScaledVector(M.sh.coefficients[L],T);else if(M.isDirectionalLight){const L=e.get(M);if(L.color.copy(M.color).multiplyScalar(M.intensity),L.direction.setFromMatrixPosition(M.matrixWorld),n.setFromMatrixPosition(M.target.matrixWorld),L.direction.sub(n),L.direction.transformDirection(v),M.castShadow){const C=M.shadow,O=t.get(M);O.shadowBias=C.bias,O.shadowNormalBias=C.normalBias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,i.directionalShadow[m]=O,i.directionalShadowMap[m]=D,i.directionalShadowMatrix[m]=M.shadow.matrix,g++}i.directional[m]=L,m++}else if(M.isSpotLight){const L=e.get(M);if(L.position.setFromMatrixPosition(M.matrixWorld),L.position.applyMatrix4(v),L.color.copy(G).multiplyScalar(T),L.distance=N,L.direction.setFromMatrixPosition(M.matrixWorld),n.setFromMatrixPosition(M.target.matrixWorld),L.direction.sub(n),L.direction.transformDirection(v),L.coneCos=Math.cos(M.angle),L.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),L.decay=M.decay,M.castShadow){const C=M.shadow,O=t.get(M);O.shadowBias=C.bias,O.shadowNormalBias=C.normalBias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,i.spotShadow[y]=O,i.spotShadowMap[y]=D,i.spotShadowMatrix[y]=M.shadow.matrix,w++}i.spot[y]=L,y++}else if(M.isRectAreaLight){const L=e.get(M);L.color.copy(G).multiplyScalar(T),L.position.setFromMatrixPosition(M.matrixWorld),L.position.applyMatrix4(v),r.identity(),s.copy(M.matrixWorld),s.premultiply(v),r.extractRotation(s),L.halfWidth.set(M.width*.5,0,0),L.halfHeight.set(0,M.height*.5,0),L.halfWidth.applyMatrix4(r),L.halfHeight.applyMatrix4(r),i.rectArea[_]=L,_++}else if(M.isPointLight){const L=e.get(M);if(L.position.setFromMatrixPosition(M.matrixWorld),L.position.applyMatrix4(v),L.color.copy(M.color).multiplyScalar(M.intensity),L.distance=M.distance,L.decay=M.decay,M.castShadow){const C=M.shadow,O=t.get(M);O.shadowBias=C.bias,O.shadowNormalBias=C.normalBias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,O.shadowCameraNear=C.camera.near,O.shadowCameraFar=C.camera.far,i.pointShadow[d]=O,i.pointShadowMap[d]=D,i.pointShadowMatrix[d]=M.shadow.matrix,E++}i.point[d]=L,d++}else if(M.isHemisphereLight){const L=e.get(M);L.direction.setFromMatrixPosition(M.matrixWorld),L.direction.transformDirection(v),L.direction.normalize(),L.skyColor.copy(M.color).multiplyScalar(T),L.groundColor.copy(M.groundColor).multiplyScalar(T),i.hemi[h]=L,h++}}i.ambient[0]=f,i.ambient[1]=l,i.ambient[2]=u;const x=i.hash;(x.directionalLength!==m||x.pointLength!==d||x.spotLength!==y||x.rectAreaLength!==_||x.hemiLength!==h||x.numDirectionalShadows!==g||x.numPointShadows!==E||x.numSpotShadows!==w)&&(i.directional.length=m,i.spot.length=y,i.rectArea.length=_,i.point.length=d,i.hemi.length=h,i.directionalShadow.length=g,i.directionalShadowMap.length=g,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=g,i.pointShadowMatrix.length=E,i.spotShadowMatrix.length=w,x.directionalLength=m,x.pointLength=d,x.spotLength=y,x.rectAreaLength=_,x.hemiLength=h,x.numDirectionalShadows=g,x.numPointShadows=E,x.numSpotShadows=w,i.version=aC++)}return{setup:a,state:i}}function wy(){const e=new cC,t=[],i=[];function n(){t.length=0,i.length=0}function s(c){t.push(c)}function r(c){i.push(c)}function a(c){e.setup(t,i,c)}return{init:n,state:{lightsArray:t,shadowsArray:i,lights:e},setupLights:a,pushLight:s,pushShadow:r}}function pC(){let e=new WeakMap;function t(s){const r=s.target;r.removeEventListener("dispose",t),e.delete(r)}function i(s,r){let a;return e.has(s)===!1?(a=new wy,e.set(s,new WeakMap),e.get(s).set(r,a),s.addEventListener("dispose",t)):e.get(s).has(r)===!1?(a=new wy,e.get(s).set(r,a)):a=e.get(s).get(r),a}function n(){e=new WeakMap}return{get:i,dispose:n}}function Wa(e){gt.call(this),this.type="MeshDepthMaterial",this.depthPacking=t9,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}Wa.prototype=Object.create(gt.prototype);Wa.prototype.constructor=Wa;Wa.prototype.isMeshDepthMaterial=!0;Wa.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function ja(e){gt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new P,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}ja.prototype=Object.create(gt.prototype);ja.prototype.constructor=ja;ja.prototype.isMeshDistanceMaterial=!0;ja.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var fC=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,lC=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function J6(e,t,i){let n=new jf;const s=new Te,r=new Te,a=new ti,o=[],c=[],p={},f={0:Gi,1:Dc,2:zf},l=new ki({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:lC,fragmentShader:fC}),u=l.clone();u.defines.HORIZONAL_PASS=1;const m=new We;m.setAttribute("position",new it(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const d=new ci(m,l),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=P6,this.render=function(v,x,b){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||v.length===0)return;const A=e.getRenderTarget(),M=e.getActiveCubeFace(),G=e.getActiveMipmapLevel(),T=e.state;T.setBlending(_r),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);for(let N=0,D=v.length;N<D;N++){const L=v[N],C=L.shadow;if(C.autoUpdate===!1&&C.needsUpdate===!1)continue;if(C===void 0){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}s.copy(C.mapSize);const O=C.getFrameExtents();if(s.multiply(O),r.copy(C.mapSize),(s.x>i||s.y>i)&&(s.x>i&&(r.x=Math.floor(i/O.x),s.x=r.x*O.x,C.mapSize.x=r.x),s.y>i&&(r.y=Math.floor(i/O.y),s.y=r.y*O.y,C.mapSize.y=r.y)),C.map===null&&!C.isPointLightShadow&&this.type===Sp){const z={minFilter:Ri,magFilter:Ri,format:Mn};C.map=new dn(s.x,s.y,z),C.map.texture.name=L.name+".shadowMap",C.mapPass=new dn(s.x,s.y,z),C.camera.updateProjectionMatrix()}if(C.map===null){const z={minFilter:si,magFilter:si,format:Mn};C.map=new dn(s.x,s.y,z),C.map.texture.name=L.name+".shadowMap",C.camera.updateProjectionMatrix()}e.setRenderTarget(C.map),e.clear();const q=C.getViewportCount();for(let z=0;z<q;z++){const $=C.getViewport(z);a.set(r.x*$.x,r.y*$.y,r.x*$.z,r.y*$.w),T.viewport(a),C.updateMatrices(L,z),n=C.getFrustum(),w(x,b,C.camera,L,this.type)}!C.isPointLightShadow&&this.type===Sp&&_(C,b),C.needsUpdate=!1}y.needsUpdate=!1,e.setRenderTarget(A,M,G)};function _(v,x){const b=t.update(d);l.uniforms.shadow_pass.value=v.map.texture,l.uniforms.resolution.value=v.mapSize,l.uniforms.radius.value=v.radius,e.setRenderTarget(v.mapPass),e.clear(),e.renderBufferDirect(x,null,b,l,d,null),u.uniforms.shadow_pass.value=v.mapPass.texture,u.uniforms.resolution.value=v.mapSize,u.uniforms.radius.value=v.radius,e.setRenderTarget(v.map),e.clear(),e.renderBufferDirect(x,null,b,u,d,null)}function h(v,x,b){const A=v<<0|x<<1|b<<2;let M=o[A];return M===void 0&&(M=new Wa({depthPacking:i9,morphTargets:v,skinning:x}),o[A]=M),M}function g(v,x,b){const A=v<<0|x<<1|b<<2;let M=c[A];return M===void 0&&(M=new ja({morphTargets:v,skinning:x}),c[A]=M),M}function E(v,x,b,A,M,G,T){let N=null,D=h,L=v.customDepthMaterial;if(A.isPointLight===!0&&(D=g,L=v.customDistanceMaterial),L===void 0){let C=!1;b.morphTargets===!0&&(C=x.morphAttributes&&x.morphAttributes.position&&x.morphAttributes.position.length>0);let O=!1;v.isSkinnedMesh===!0&&(b.skinning===!0?O=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",v));const q=v.isInstancedMesh===!0;N=D(C,O,q)}else N=L;if(e.localClippingEnabled&&b.clipShadows===!0&&b.clippingPlanes.length!==0){const C=N.uuid,O=b.uuid;let q=p[C];q===void 0&&(q={},p[C]=q);let z=q[O];z===void 0&&(z=N.clone(),q[O]=z),N=z}return N.visible=b.visible,N.wireframe=b.wireframe,T===Sp?N.side=b.shadowSide!==null?b.shadowSide:b.side:N.side=b.shadowSide!==null?b.shadowSide:f[b.side],N.clipShadows=b.clipShadows,N.clippingPlanes=b.clippingPlanes,N.clipIntersection=b.clipIntersection,N.wireframeLinewidth=b.wireframeLinewidth,N.linewidth=b.linewidth,A.isPointLight===!0&&N.isMeshDistanceMaterial===!0&&(N.referencePosition.setFromMatrixPosition(A.matrixWorld),N.nearDistance=M,N.farDistance=G),N}function w(v,x,b,A,M){if(v.visible===!1)return;if(v.layers.test(x.layers)&&(v.isMesh||v.isLine||v.isPoints)&&(v.castShadow||v.receiveShadow&&M===Sp)&&(!v.frustumCulled||n.intersectsObject(v))){v.modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,v.matrixWorld);const N=t.update(v),D=v.material;if(Array.isArray(D)){const L=N.groups;for(let C=0,O=L.length;C<O;C++){const q=L[C],z=D[q.materialIndex];if(z&&z.visible){const $=E(v,N,z,A,b.near,b.far,M);e.renderBufferDirect(b,null,N,$,v,q)}}}else if(D.visible){const L=E(v,N,D,A,b.near,b.far,M);e.renderBufferDirect(b,null,N,L,v,null)}}const T=v.children;for(let N=0,D=T.length;N<D;N++)w(T[N],x,b,A,M)}}function uC(e,t,i){const n=i.isWebGL2;function s(){let te=!1;const se=new ti;let we=null;const Me=new ti(0,0,0,0);return{setMask:function(_e){we!==_e&&!te&&(e.colorMask(_e,_e,_e,_e),we=_e)},setLocked:function(_e){te=_e},setClear:function(_e,Se,Ee,Re,Pe){Pe===!0&&(_e*=Re,Se*=Re,Ee*=Re),se.set(_e,Se,Ee,Re),Me.equals(se)===!1&&(e.clearColor(_e,Se,Ee,Re),Me.copy(se))},reset:function(){te=!1,we=null,Me.set(-1,0,0,0)}}}function r(){let te=!1,se=null,we=null,Me=null;return{setTest:function(_e){_e?re(2929):K(2929)},setMask:function(_e){se!==_e&&!te&&(e.depthMask(_e),se=_e)},setFunc:function(_e){if(we!==_e){if(_e)switch(_e){case Ux:e.depthFunc(512);break;case Wx:e.depthFunc(519);break;case jx:e.depthFunc(513);break;case qd:e.depthFunc(515);break;case $x:e.depthFunc(514);break;case Kx:e.depthFunc(518);break;case Yx:e.depthFunc(516);break;case Jx:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);we=_e}},setLocked:function(_e){te=_e},setClear:function(_e){Me!==_e&&(e.clearDepth(_e),Me=_e)},reset:function(){te=!1,se=null,we=null,Me=null}}}function a(){let te=!1,se=null,we=null,Me=null,_e=null,Se=null,Ee=null,Re=null,Pe=null;return{setTest:function(Ae){te||(Ae?re(2960):K(2960))},setMask:function(Ae){se!==Ae&&!te&&(e.stencilMask(Ae),se=Ae)},setFunc:function(Ae,Ve,rt){(we!==Ae||Me!==Ve||_e!==rt)&&(e.stencilFunc(Ae,Ve,rt),we=Ae,Me=Ve,_e=rt)},setOp:function(Ae,Ve,rt){(Se!==Ae||Ee!==Ve||Re!==rt)&&(e.stencilOp(Ae,Ve,rt),Se=Ae,Ee=Ve,Re=rt)},setLocked:function(Ae){te=Ae},setClear:function(Ae){Pe!==Ae&&(e.clearStencil(Ae),Pe=Ae)},reset:function(){te=!1,se=null,we=null,Me=null,_e=null,Se=null,Ee=null,Re=null,Pe=null}}}const o=new s,c=new r,p=new a;let f={},l=null,u=null,m=null,d=null,y=null,_=null,h=null,g=null,E=null,w=!1,v=null,x=null,b=null,A=null,M=null;const G=e.getParameter(35661);let T=!1,N=0;const D=e.getParameter(7938);D.indexOf("WebGL")!==-1?(N=parseFloat(/^WebGL\ ([0-9])/.exec(D)[1]),T=N>=1):D.indexOf("OpenGL ES")!==-1&&(N=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(D)[1]),T=N>=2);let L=null,C={};const O=new ti,q=new ti;function z(te,se,we){const Me=new Uint8Array(4),_e=e.createTexture();e.bindTexture(te,_e),e.texParameteri(te,10241,9728),e.texParameteri(te,10240,9728);for(let Se=0;Se<we;Se++)e.texImage2D(se+Se,0,6408,1,1,0,6408,5121,Me);return _e}const $={};$[3553]=z(3553,3553,1),$[34067]=z(34067,34069,6),o.setClear(0,0,0,1),c.setClear(1),p.setClear(0),re(2929),c.setFunc(qd),ae(!1),ne(D3),re(2884),fe(_r);function re(te){f[te]!==!0&&(e.enable(te),f[te]=!0)}function K(te){f[te]!==!1&&(e.disable(te),f[te]=!1)}function J(te){return l!==te?(e.useProgram(te),l=te,!0):!1}const Y={[Ro]:32774,[Rx]:32778,[Nx]:32779};if(n)Y[k3]=32775,Y[B3]=32776;else{const te=t.get("EXT_blend_minmax");te!==null&&(Y[k3]=te.MIN_EXT,Y[B3]=te.MAX_EXT)}const le={[Dx]:0,[Gx]:1,[Ox]:768,[I6]:770,[Hx]:776,[qx]:774,[Bx]:772,[kx]:769,[L6]:771,[zx]:775,[Vx]:773};function fe(te,se,we,Me,_e,Se,Ee,Re){if(te===_r){u&&(K(3042),u=!1);return}if(u||(re(3042),u=!0),te!==Fx){if(te!==m||Re!==w){if((d!==Ro||h!==Ro)&&(e.blendEquation(32774),d=Ro,h=Ro),Re)switch(te){case ea:e.blendFuncSeparate(1,771,1,771);break;case Vd:e.blendFunc(1,1);break;case G3:e.blendFuncSeparate(0,0,769,771);break;case O3:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case ea:e.blendFuncSeparate(770,771,1,771);break;case Vd:e.blendFunc(770,1);break;case G3:e.blendFunc(0,769);break;case O3:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}y=null,_=null,g=null,E=null,m=te,w=Re}return}_e=_e||se,Se=Se||we,Ee=Ee||Me,(se!==d||_e!==h)&&(e.blendEquationSeparate(Y[se],Y[_e]),d=se,h=_e),(we!==y||Me!==_||Se!==g||Ee!==E)&&(e.blendFuncSeparate(le[we],le[Me],le[Se],le[Ee]),y=we,_=Me,g=Se,E=Ee),m=te,w=null}function X(te,se){te.side===zf?K(2884):re(2884);let we=te.side===Gi;se&&(we=!we),ae(we),te.blending===ea&&te.transparent===!1?fe(_r):fe(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),c.setFunc(te.depthFunc),c.setTest(te.depthTest),c.setMask(te.depthWrite),o.setMask(te.colorWrite);const Me=te.stencilWrite;p.setTest(Me),Me&&(p.setMask(te.stencilWriteMask),p.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),p.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),U(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits)}function ae(te){v!==te&&(te?e.frontFace(2304):e.frontFace(2305),v=te)}function ne(te){te!==Tx?(re(2884),te!==x&&(te===D3?e.cullFace(1029):te===Ix?e.cullFace(1028):e.cullFace(1032))):K(2884),x=te}function pe(te){te!==b&&(T&&e.lineWidth(te),b=te)}function U(te,se,we){te?(re(32823),(A!==se||M!==we)&&(e.polygonOffset(se,we),A=se,M=we)):K(32823)}function W(te){te?re(3089):K(3089)}function Z(te){te===void 0&&(te=33984+G-1),L!==te&&(e.activeTexture(te),L=te)}function ie(te,se){L===null&&Z();let we=C[L];we===void 0&&(we={type:void 0,texture:void 0},C[L]=we),(we.type!==te||we.texture!==se)&&(e.bindTexture(te,se||$[te]),we.type=te,we.texture=se)}function ue(){const te=C[L];te!==void 0&&te.type!==void 0&&(e.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function he(){try{e.compressedTexImage2D.apply(e,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ge(){try{e.texImage2D.apply(e,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function k(){try{e.texImage3D.apply(e,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function H(te){O.equals(te)===!1&&(e.scissor(te.x,te.y,te.z,te.w),O.copy(te))}function me(te){q.equals(te)===!1&&(e.viewport(te.x,te.y,te.z,te.w),q.copy(te))}function oe(){f={},L=null,C={},l=null,m=null,v=null,x=null,o.reset(),c.reset(),p.reset()}return{buffers:{color:o,depth:c,stencil:p},enable:re,disable:K,useProgram:J,setBlending:fe,setMaterial:X,setFlipSided:ae,setCullFace:ne,setLineWidth:pe,setPolygonOffset:U,setScissorTest:W,activeTexture:Z,bindTexture:ie,unbindTexture:ue,compressedTexImage2D:he,texImage2D:ge,texImage3D:k,scissor:H,viewport:me,reset:oe}}function mC(e,t,i,n,s,r,a){const o=s.isWebGL2,c=s.maxTextures,p=s.maxCubemapSize,f=s.maxTextureSize,l=s.maxSamples,u=new WeakMap;let m,d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(k,H){return d?new OffscreenCanvas(k,H):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(k,H,me,oe){let te=1;if((k.width>oe||k.height>oe)&&(te=oe/Math.max(k.width,k.height)),te<1||H===!0)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const se=H?Pt.floorPowerOfTwo:Math.floor,we=se(te*k.width),Me=se(te*k.height);m===void 0&&(m=y(we,Me));const _e=me?y(we,Me):m;return _e.width=we,_e.height=Me,_e.getContext("2d").drawImage(k,0,0,we,Me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+we+"x"+Me+")."),_e}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k;return k}function h(k){return Pt.isPowerOfTwo(k.width)&&Pt.isPowerOfTwo(k.height)}function g(k){return o?!1:k.wrapS!==xn||k.wrapT!==xn||k.minFilter!==si&&k.minFilter!==Ri}function E(k,H){return k.generateMipmaps&&H&&k.minFilter!==si&&k.minFilter!==Ri}function w(k,H,me,oe){e.generateMipmap(k);const te=n.get(H);te.__maxMipLevel=Math.log(Math.max(me,oe))*Math.LOG2E}function v(k,H,me){if(o===!1)return H;if(k!==null){if(e[k]!==void 0)return e[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let oe=H;return H===6403&&(me===5126&&(oe=33326),me===5131&&(oe=33325),me===5121&&(oe=33321)),H===6407&&(me===5126&&(oe=34837),me===5131&&(oe=34843),me===5121&&(oe=32849)),H===6408&&(me===5126&&(oe=34836),me===5131&&(oe=34842),me===5121&&(oe=32856)),(oe===33325||oe===33326||oe===34842||oe===34836)&&t.get("EXT_color_buffer_float"),oe}function x(k){return k===si||k===zd||k===Hd?9728:9729}function b(k){const H=k.target;H.removeEventListener("dispose",b),M(H),H.isVideoTexture&&u.delete(H),a.memory.textures--}function A(k){const H=k.target;H.removeEventListener("dispose",A),G(H),a.memory.textures--}function M(k){const H=n.get(k);H.__webglInit!==void 0&&(e.deleteTexture(H.__webglTexture),n.remove(k))}function G(k){const H=n.get(k),me=n.get(k.texture);if(!!k){if(me.__webglTexture!==void 0&&e.deleteTexture(me.__webglTexture),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++)e.deleteFramebuffer(H.__webglFramebuffer[oe]),H.__webglDepthbuffer&&e.deleteRenderbuffer(H.__webglDepthbuffer[oe]);else e.deleteFramebuffer(H.__webglFramebuffer),H.__webglDepthbuffer&&e.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&e.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer&&e.deleteRenderbuffer(H.__webglColorRenderbuffer),H.__webglDepthRenderbuffer&&e.deleteRenderbuffer(H.__webglDepthRenderbuffer);n.remove(k.texture),n.remove(k)}}let T=0;function N(){T=0}function D(){const k=T;return k>=c&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+c),T+=1,k}function L(k,H){const me=n.get(k);if(k.isVideoTexture&&Z(k),k.version>0&&me.__version!==k.version){const oe=k.image;if(oe===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Y(me,k,H);return}}i.activeTexture(33984+H),i.bindTexture(3553,me.__webglTexture)}function C(k,H){const me=n.get(k);if(k.version>0&&me.__version!==k.version){Y(me,k,H);return}i.activeTexture(33984+H),i.bindTexture(35866,me.__webglTexture)}function O(k,H){const me=n.get(k);if(k.version>0&&me.__version!==k.version){Y(me,k,H);return}i.activeTexture(33984+H),i.bindTexture(32879,me.__webglTexture)}function q(k,H){if(k.image.length!==6)return;const me=n.get(k);if(k.version>0&&me.__version!==k.version){J(me,k),i.activeTexture(33984+H),i.bindTexture(34067,me.__webglTexture),e.pixelStorei(37440,k.flipY);const oe=k&&(k.isCompressedTexture||k.image[0].isCompressedTexture),te=k.image[0]&&k.image[0].isDataTexture,se=[];for(let Pe=0;Pe<6;Pe++)!oe&&!te?se[Pe]=_(k.image[Pe],!1,!0,p):se[Pe]=te?k.image[Pe].image:k.image[Pe];const we=se[0],Me=h(we)||o,_e=r.convert(k.format),Se=r.convert(k.type),Ee=v(k.internalFormat,_e,Se);K(34067,k,Me);let Re;if(oe){for(let Pe=0;Pe<6;Pe++){Re=se[Pe].mipmaps;for(let Ae=0;Ae<Re.length;Ae++){const Ve=Re[Ae];k.format!==Mn&&k.format!==Da?_e!==null?i.compressedTexImage2D(34069+Pe,Ae,Ee,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+Pe,Ae,Ee,Ve.width,Ve.height,0,_e,Se,Ve.data)}}me.__maxMipLevel=Re.length-1}else{Re=k.mipmaps;for(let Pe=0;Pe<6;Pe++)if(te){i.texImage2D(34069+Pe,0,Ee,se[Pe].width,se[Pe].height,0,_e,Se,se[Pe].data);for(let Ae=0;Ae<Re.length;Ae++){const rt=Re[Ae].image[Pe].image;i.texImage2D(34069+Pe,Ae+1,Ee,rt.width,rt.height,0,_e,Se,rt.data)}}else{i.texImage2D(34069+Pe,0,Ee,_e,Se,se[Pe]);for(let Ae=0;Ae<Re.length;Ae++){const Ve=Re[Ae];i.texImage2D(34069+Pe,Ae+1,Ee,_e,Se,Ve.image[Pe])}}me.__maxMipLevel=Re.length}E(k,Me)&&w(34067,k,we.width,we.height),me.__version=k.version,k.onUpdate&&k.onUpdate(k)}else i.activeTexture(33984+H),i.bindTexture(34067,me.__webglTexture)}function z(k,H){i.activeTexture(33984+H),i.bindTexture(34067,n.get(k).__webglTexture)}const $={[jl]:10497,[xn]:33071,[$l]:33648},re={[si]:9728,[zd]:9984,[Hd]:9986,[Ri]:9729,[R6]:9985,[Ku]:9987};function K(k,H,me){me?(e.texParameteri(k,10242,$[H.wrapS]),e.texParameteri(k,10243,$[H.wrapT]),(k===32879||k===35866)&&e.texParameteri(k,32882,$[H.wrapR]),e.texParameteri(k,10240,re[H.magFilter]),e.texParameteri(k,10241,re[H.minFilter])):(e.texParameteri(k,10242,33071),e.texParameteri(k,10243,33071),(k===32879||k===35866)&&e.texParameteri(k,32882,33071),(H.wrapS!==xn||H.wrapT!==xn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(k,10240,x(H.magFilter)),e.texParameteri(k,10241,x(H.minFilter)),H.minFilter!==si&&H.minFilter!==Ri&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const oe=t.get("EXT_texture_filter_anisotropic");if(oe){if(H.type===dr&&t.get("OES_texture_float_linear")===null||H.type===Yl&&(o||t.get("OES_texture_half_float_linear"))===null)return;(H.anisotropy>1||n.get(H).__currentAnisotropy)&&(e.texParameterf(k,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,s.getMaxAnisotropy())),n.get(H).__currentAnisotropy=H.anisotropy)}}function J(k,H){k.__webglInit===void 0&&(k.__webglInit=!0,H.addEventListener("dispose",b),k.__webglTexture=e.createTexture(),a.memory.textures++)}function Y(k,H,me){let oe=3553;H.isDataTexture2DArray&&(oe=35866),H.isDataTexture3D&&(oe=32879),J(k,H),i.activeTexture(33984+me),i.bindTexture(oe,k.__webglTexture),e.pixelStorei(37440,H.flipY),e.pixelStorei(37441,H.premultiplyAlpha),e.pixelStorei(3317,H.unpackAlignment);const te=g(H)&&h(H.image)===!1,se=_(H.image,te,!1,f),we=h(se)||o,Me=r.convert(H.format);let _e=r.convert(H.type),Se=v(H.internalFormat,Me,_e);K(oe,H,we);let Ee;const Re=H.mipmaps;if(H.isDepthTexture)Se=6402,o?H.type===dr?Se=36012:H.type===_l?Se=33190:H.type===Rp?Se=35056:Se=33189:H.type===dr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===nc&&Se===6402&&H.type!==Kl&&H.type!==_l&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Kl,_e=r.convert(H.type)),H.format===Yp&&Se===6402&&(Se=34041,H.type!==Rp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=Rp,_e=r.convert(H.type))),i.texImage2D(3553,0,Se,se.width,se.height,0,Me,_e,null);else if(H.isDataTexture)if(Re.length>0&&we){for(let Pe=0,Ae=Re.length;Pe<Ae;Pe++)Ee=Re[Pe],i.texImage2D(3553,Pe,Se,Ee.width,Ee.height,0,Me,_e,Ee.data);H.generateMipmaps=!1,k.__maxMipLevel=Re.length-1}else i.texImage2D(3553,0,Se,se.width,se.height,0,Me,_e,se.data),k.__maxMipLevel=0;else if(H.isCompressedTexture){for(let Pe=0,Ae=Re.length;Pe<Ae;Pe++)Ee=Re[Pe],H.format!==Mn&&H.format!==Da?Me!==null?i.compressedTexImage2D(3553,Pe,Se,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,Pe,Se,Ee.width,Ee.height,0,Me,_e,Ee.data);k.__maxMipLevel=Re.length-1}else if(H.isDataTexture2DArray)i.texImage3D(35866,0,Se,se.width,se.height,se.depth,0,Me,_e,se.data),k.__maxMipLevel=0;else if(H.isDataTexture3D)i.texImage3D(32879,0,Se,se.width,se.height,se.depth,0,Me,_e,se.data),k.__maxMipLevel=0;else if(Re.length>0&&we){for(let Pe=0,Ae=Re.length;Pe<Ae;Pe++)Ee=Re[Pe],i.texImage2D(3553,Pe,Se,Me,_e,Ee);H.generateMipmaps=!1,k.__maxMipLevel=Re.length-1}else i.texImage2D(3553,0,Se,Me,_e,se),k.__maxMipLevel=0;E(H,we)&&w(oe,H,se.width,se.height),k.__version=H.version,H.onUpdate&&H.onUpdate(H)}function le(k,H,me,oe){const te=r.convert(H.texture.format),se=r.convert(H.texture.type),we=v(H.texture.internalFormat,te,se);i.texImage2D(oe,0,we,H.width,H.height,0,te,se,null),e.bindFramebuffer(36160,k),e.framebufferTexture2D(36160,me,oe,n.get(H.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function fe(k,H,me){if(e.bindRenderbuffer(36161,k),H.depthBuffer&&!H.stencilBuffer){let oe=33189;if(me){const te=H.depthTexture;te&&te.isDepthTexture&&(te.type===dr?oe=36012:te.type===_l&&(oe=33190));const se=W(H);e.renderbufferStorageMultisample(36161,se,oe,H.width,H.height)}else e.renderbufferStorage(36161,oe,H.width,H.height);e.framebufferRenderbuffer(36160,36096,36161,k)}else if(H.depthBuffer&&H.stencilBuffer){if(me){const oe=W(H);e.renderbufferStorageMultisample(36161,oe,35056,H.width,H.height)}else e.renderbufferStorage(36161,34041,H.width,H.height);e.framebufferRenderbuffer(36160,33306,36161,k)}else{const oe=r.convert(H.texture.format),te=r.convert(H.texture.type),se=v(H.texture.internalFormat,oe,te);if(me){const we=W(H);e.renderbufferStorageMultisample(36161,we,se,H.width,H.height)}else e.renderbufferStorage(36161,se,H.width,H.height)}e.bindRenderbuffer(36161,null)}function X(k,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,k),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),L(H.depthTexture,0);const oe=n.get(H.depthTexture).__webglTexture;if(H.depthTexture.format===nc)e.framebufferTexture2D(36160,36096,3553,oe,0);else if(H.depthTexture.format===Yp)e.framebufferTexture2D(36160,33306,3553,oe,0);else throw new Error("Unknown depthTexture format")}function ae(k){const H=n.get(k),me=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture){if(me)throw new Error("target.depthTexture not supported in Cube render targets");X(H.__webglFramebuffer,k)}else if(me){H.__webglDepthbuffer=[];for(let oe=0;oe<6;oe++)e.bindFramebuffer(36160,H.__webglFramebuffer[oe]),H.__webglDepthbuffer[oe]=e.createRenderbuffer(),fe(H.__webglDepthbuffer[oe],k,!1)}else e.bindFramebuffer(36160,H.__webglFramebuffer),H.__webglDepthbuffer=e.createRenderbuffer(),fe(H.__webglDepthbuffer,k,!1);e.bindFramebuffer(36160,null)}function ne(k){const H=n.get(k),me=n.get(k.texture);k.addEventListener("dispose",A),me.__webglTexture=e.createTexture(),a.memory.textures++;const oe=k.isWebGLCubeRenderTarget===!0,te=k.isWebGLMultisampleRenderTarget===!0,se=h(k)||o;if(o&&k.texture.format===Da&&(k.texture.type===dr||k.texture.type===Yl)&&(k.texture.format=Mn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),oe){H.__webglFramebuffer=[];for(let we=0;we<6;we++)H.__webglFramebuffer[we]=e.createFramebuffer()}else if(H.__webglFramebuffer=e.createFramebuffer(),te)if(o){H.__webglMultisampledFramebuffer=e.createFramebuffer(),H.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,H.__webglColorRenderbuffer);const we=r.convert(k.texture.format),Me=r.convert(k.texture.type),_e=v(k.texture.internalFormat,we,Me),Se=W(k);e.renderbufferStorageMultisample(36161,Se,_e,k.width,k.height),e.bindFramebuffer(36160,H.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,H.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),k.depthBuffer&&(H.__webglDepthRenderbuffer=e.createRenderbuffer(),fe(H.__webglDepthRenderbuffer,k,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(oe){i.bindTexture(34067,me.__webglTexture),K(34067,k.texture,se);for(let we=0;we<6;we++)le(H.__webglFramebuffer[we],k,36064,34069+we);E(k.texture,se)&&w(34067,k.texture,k.width,k.height),i.bindTexture(34067,null)}else i.bindTexture(3553,me.__webglTexture),K(3553,k.texture,se),le(H.__webglFramebuffer,k,36064,3553),E(k.texture,se)&&w(3553,k.texture,k.width,k.height),i.bindTexture(3553,null);k.depthBuffer&&ae(k)}function pe(k){const H=k.texture,me=h(k)||o;if(E(H,me)){const oe=k.isWebGLCubeRenderTarget?34067:3553,te=n.get(H).__webglTexture;i.bindTexture(oe,te),w(oe,H,k.width,k.height),i.bindTexture(oe,null)}}function U(k){if(k.isWebGLMultisampleRenderTarget)if(o){const H=n.get(k);e.bindFramebuffer(36008,H.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,H.__webglFramebuffer);const me=k.width,oe=k.height;let te=16384;k.depthBuffer&&(te|=256),k.stencilBuffer&&(te|=1024),e.blitFramebuffer(0,0,me,oe,0,0,me,oe,te,9728),e.bindFramebuffer(36160,H.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function W(k){return o&&k.isWebGLMultisampleRenderTarget?Math.min(l,k.samples):0}function Z(k){const H=a.render.frame;u.get(k)!==H&&(u.set(k,H),k.update())}let ie=!1,ue=!1;function he(k,H){k&&k.isWebGLRenderTarget&&(ie===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),ie=!0),k=k.texture),L(k,H)}function ge(k,H){k&&k.isWebGLCubeRenderTarget&&(ue===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ue=!0),k=k.texture),k&&k.isCubeTexture||Array.isArray(k.image)&&k.image.length===6?q(k,H):z(k,H)}this.allocateTextureUnit=D,this.resetTextureUnits=N,this.setTexture2D=L,this.setTexture2DArray=C,this.setTexture3D=O,this.setTextureCube=q,this.setTextureCubeDynamic=z,this.setupRenderTarget=ne,this.updateRenderTargetMipmap=pe,this.updateMultisampleRenderTarget=U,this.safeSetTexture2D=he,this.safeSetTextureCube=ge}function dC(e,t,i){const n=i.isWebGL2;function s(r){let a;if(r===Ha)return 5121;if(r===o8)return 32819;if(r===c8)return 32820;if(r===p8)return 33635;if(r===s8)return 5120;if(r===r8)return 5122;if(r===Kl)return 5123;if(r===a8)return 5124;if(r===_l)return 5125;if(r===dr)return 5126;if(r===Yl)return n?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(r===f8)return 6406;if(r===Da)return 6407;if(r===Mn)return 6408;if(r===l8)return 6409;if(r===u8)return 6410;if(r===nc)return 6402;if(r===Yp)return 34041;if(r===d8)return 6403;if(r===h8)return 36244;if(r===_8)return 33319;if(r===y8)return 33320;if(r===g8)return 36248;if(r===w8)return 36249;if(r===V3||r===q3||r===z3||r===H3)if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===V3)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===q3)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===z3)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===H3)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===U3||r===W3||r===j3||r===$3)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===U3)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===W3)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===j3)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===$3)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===E8)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((r===K3||r===Y3)&&(a=t.get("WEBGL_compressed_texture_etc"),a!==null)){if(r===K3)return a.COMPRESSED_RGB8_ETC2;if(r===Y3)return a.COMPRESSED_RGBA8_ETC2_EAC}if(r===v8||r===b8||r===x8||r===S8||r===M8||r===A8||r===C8||r===P8||r===T8||r===I8||r===L8||r===F8||r===R8||r===N8||r===G8||r===O8||r===k8||r===B8||r===V8||r===q8||r===z8||r===H8||r===U8||r===W8||r===j8||r===$8||r===K8||r===Y8)return a=t.get("WEBGL_compressed_texture_astc"),a!==null?r:null;if(r===D8)return a=t.get("EXT_texture_compression_bptc"),a!==null?r:null;if(r===Rp)return n?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:s}}function Qd(e){Li.call(this),this.cameras=e||[]}Qd.prototype=Object.assign(Object.create(Li.prototype),{constructor:Qd,isArrayCamera:!0});function Zt(){Ue.call(this),this.type="Group"}Zt.prototype=Object.assign(Object.create(Ue.prototype),{constructor:Zt,isGroup:!0});function Zl(){this._targetRay=null,this._grip=null}Object.assign(Zl.prototype,{constructor:Zl,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Zt,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Zt,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,t,i){let n=null,s=null;const r=this._targetRay,a=this._grip;return e&&(r!==null&&(n=t.getPose(e.targetRaySpace,i),n!==null&&(r.matrix.fromArray(n.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale))),a!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)))),r!==null&&(r.visible=n!==null),a!==null&&(a.visible=s!==null),this}});function Q6(e,t){const i=this;let n=null,s=1,r=null,a="local-floor",o=null;const c=[],p=new Map,f=new Li;f.layers.enable(1),f.viewport=new ti;const l=new Li;l.layers.enable(2),l.viewport=new ti;const u=[f,l],m=new Qd;m.layers.enable(1),m.layers.enable(2);let d=null,y=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(T){let N=c[T];return N===void 0&&(N=new Zl,c[T]=N),N.getTargetRaySpace()},this.getControllerGrip=function(T){let N=c[T];return N===void 0&&(N=new Zl,c[T]=N),N.getGripSpace()};function _(T){const N=p.get(T.inputSource);N&&N.dispatchEvent({type:T.type})}function h(){p.forEach(function(T,N){T.disconnect(N)}),p.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),G.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function g(T){r=T,G.setContext(n),G.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(T){s=T,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(T){a=T,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return r},this.getSession=function(){return n},this.setSession=function(T){if(n=T,n!==null){n.addEventListener("select",_),n.addEventListener("selectstart",_),n.addEventListener("selectend",_),n.addEventListener("squeeze",_),n.addEventListener("squeezestart",_),n.addEventListener("squeezeend",_),n.addEventListener("end",h);const N=t.getContextAttributes();N.xrCompatible!==!0&&t.makeXRCompatible();const D={antialias:N.antialias,alpha:N.alpha,depth:N.depth,stencil:N.stencil,framebufferScaleFactor:s},L=new XRWebGLLayer(n,t,D);n.updateRenderState({baseLayer:L}),n.requestReferenceSpace(a).then(g),n.addEventListener("inputsourceschange",E)}};function E(T){const N=n.inputSources;for(let D=0;D<c.length;D++)p.set(N[D],c[D]);for(let D=0;D<T.removed.length;D++){const L=T.removed[D],C=p.get(L);C&&(C.dispatchEvent({type:"disconnected",data:L}),p.delete(L))}for(let D=0;D<T.added.length;D++){const L=T.added[D],C=p.get(L);C&&C.dispatchEvent({type:"connected",data:L})}}const w=new P,v=new P;function x(T,N,D){w.setFromMatrixPosition(N.matrixWorld),v.setFromMatrixPosition(D.matrixWorld);const L=w.distanceTo(v),C=N.projectionMatrix.elements,O=D.projectionMatrix.elements,q=C[14]/(C[10]-1),z=C[14]/(C[10]+1),$=(C[9]+1)/C[5],re=(C[9]-1)/C[5],K=(C[8]-1)/C[0],J=(O[8]+1)/O[0],Y=q*K,le=q*J,fe=L/(-K+J),X=fe*-K;N.matrixWorld.decompose(T.position,T.quaternion,T.scale),T.translateX(X),T.translateZ(fe),T.matrixWorld.compose(T.position,T.quaternion,T.scale),T.matrixWorldInverse.getInverse(T.matrixWorld);const ae=q+fe,ne=z+fe,pe=Y-X,U=le+(L-X),W=$*z/ne*ae,Z=re*z/ne*ae;T.projectionMatrix.makePerspective(pe,U,W,Z,ae,ne)}function b(T,N){N===null?T.matrixWorld.copy(T.matrix):T.matrixWorld.multiplyMatrices(N.matrixWorld,T.matrix),T.matrixWorldInverse.getInverse(T.matrixWorld)}this.getCamera=function(T){m.near=l.near=f.near=T.near,m.far=l.far=f.far=T.far,(d!==m.near||y!==m.far)&&(n.updateRenderState({depthNear:m.near,depthFar:m.far}),d=m.near,y=m.far);const N=T.parent,D=m.cameras;b(m,N);for(let C=0;C<D.length;C++)b(D[C],N);T.matrixWorld.copy(m.matrixWorld);const L=T.children;for(let C=0,O=L.length;C<O;C++)L[C].updateMatrixWorld(!0);return D.length===2?x(m,f,l):m.projectionMatrix.copy(f.projectionMatrix),m};let A=null;function M(T,N){if(o=N.getViewerPose(r),o!==null){const L=o.views,C=n.renderState.baseLayer;e.setFramebuffer(C.framebuffer);let O=!1;L.length!==m.cameras.length&&(m.cameras.length=0,O=!0);for(let q=0;q<L.length;q++){const z=L[q],$=C.getViewport(z),re=u[q];re.matrix.fromArray(z.transform.matrix),re.projectionMatrix.fromArray(z.projectionMatrix),re.viewport.set($.x,$.y,$.width,$.height),q===0&&m.matrix.copy(re.matrix),O===!0&&m.cameras.push(re)}}const D=n.inputSources;for(let L=0;L<c.length;L++){const C=c[L],O=D[L];C.update(O,N,r)}A&&A(T,N)}const G=new z6;G.setAnimationLoop(M),this.setAnimationLoop=function(T){A=T},this.dispose=function(){}}Object.assign(Q6.prototype,Pr.prototype);function hC(e){function t(h,g){h.fogColor.value.copy(g.color),g.isFog?(h.fogNear.value=g.near,h.fogFar.value=g.far):g.isFogExp2&&(h.fogDensity.value=g.density)}function i(h,g,E,w,v){g.isMeshBasicMaterial?n(h,g):g.isMeshLambertMaterial?(n(h,g),c(h,g)):g.isMeshToonMaterial?(n(h,g),f(h,g)):g.isMeshPhongMaterial?(n(h,g),p(h,g)):g.isMeshStandardMaterial?(n(h,g,E),g.isMeshPhysicalMaterial?u(h,g,E):l(h,g,E)):g.isMeshMatcapMaterial?(n(h,g),m(h,g)):g.isMeshDepthMaterial?(n(h,g),d(h,g)):g.isMeshDistanceMaterial?(n(h,g),y(h,g)):g.isMeshNormalMaterial?(n(h,g),_(h,g)):g.isLineBasicMaterial?(s(h,g),g.isLineDashedMaterial&&r(h,g)):g.isPointsMaterial?a(h,g,w,v):g.isSpriteMaterial?o(h,g):g.isShadowMaterial?(h.color.value.copy(g.color),h.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function n(h,g,E){h.opacity.value=g.opacity,g.color&&h.diffuse.value.copy(g.color),g.emissive&&h.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(h.map.value=g.map),g.alphaMap&&(h.alphaMap.value=g.alphaMap),g.specularMap&&(h.specularMap.value=g.specularMap);const w=g.envMap||E;w&&(h.envMap.value=w,h.flipEnvMap.value=w.isCubeTexture?-1:1,h.reflectivity.value=g.reflectivity,h.refractionRatio.value=g.refractionRatio,h.maxMipLevel.value=e.get(w).__maxMipLevel),g.lightMap&&(h.lightMap.value=g.lightMap,h.lightMapIntensity.value=g.lightMapIntensity),g.aoMap&&(h.aoMap.value=g.aoMap,h.aoMapIntensity.value=g.aoMapIntensity);let v;g.map?v=g.map:g.specularMap?v=g.specularMap:g.displacementMap?v=g.displacementMap:g.normalMap?v=g.normalMap:g.bumpMap?v=g.bumpMap:g.roughnessMap?v=g.roughnessMap:g.metalnessMap?v=g.metalnessMap:g.alphaMap?v=g.alphaMap:g.emissiveMap&&(v=g.emissiveMap),v!==void 0&&(v.isWebGLRenderTarget&&(v=v.texture),v.matrixAutoUpdate===!0&&v.updateMatrix(),h.uvTransform.value.copy(v.matrix));let x;g.aoMap?x=g.aoMap:g.lightMap&&(x=g.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),h.uv2Transform.value.copy(x.matrix))}function s(h,g){h.diffuse.value.copy(g.color),h.opacity.value=g.opacity}function r(h,g){h.dashSize.value=g.dashSize,h.totalSize.value=g.dashSize+g.gapSize,h.scale.value=g.scale}function a(h,g,E,w){h.diffuse.value.copy(g.color),h.opacity.value=g.opacity,h.size.value=g.size*E,h.scale.value=w*.5,g.map&&(h.map.value=g.map),g.alphaMap&&(h.alphaMap.value=g.alphaMap);let v;g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),h.uvTransform.value.copy(v.matrix))}function o(h,g){h.diffuse.value.copy(g.color),h.opacity.value=g.opacity,h.rotation.value=g.rotation,g.map&&(h.map.value=g.map),g.alphaMap&&(h.alphaMap.value=g.alphaMap);let E;g.map?E=g.map:g.alphaMap&&(E=g.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),h.uvTransform.value.copy(E.matrix))}function c(h,g){g.emissiveMap&&(h.emissiveMap.value=g.emissiveMap)}function p(h,g){h.specular.value.copy(g.specular),h.shininess.value=Math.max(g.shininess,1e-4),g.emissiveMap&&(h.emissiveMap.value=g.emissiveMap),g.bumpMap&&(h.bumpMap.value=g.bumpMap,h.bumpScale.value=g.bumpScale,g.side===Gi&&(h.bumpScale.value*=-1)),g.normalMap&&(h.normalMap.value=g.normalMap,h.normalScale.value.copy(g.normalScale),g.side===Gi&&h.normalScale.value.negate()),g.displacementMap&&(h.displacementMap.value=g.displacementMap,h.displacementScale.value=g.displacementScale,h.displacementBias.value=g.displacementBias)}function f(h,g){g.gradientMap&&(h.gradientMap.value=g.gradientMap),g.emissiveMap&&(h.emissiveMap.value=g.emissiveMap),g.bumpMap&&(h.bumpMap.value=g.bumpMap,h.bumpScale.value=g.bumpScale,g.side===Gi&&(h.bumpScale.value*=-1)),g.normalMap&&(h.normalMap.value=g.normalMap,h.normalScale.value.copy(g.normalScale),g.side===Gi&&h.normalScale.value.negate()),g.displacementMap&&(h.displacementMap.value=g.displacementMap,h.displacementScale.value=g.displacementScale,h.displacementBias.value=g.displacementBias)}function l(h,g,E){h.roughness.value=g.roughness,h.metalness.value=g.metalness,g.roughnessMap&&(h.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(h.metalnessMap.value=g.metalnessMap),g.emissiveMap&&(h.emissiveMap.value=g.emissiveMap),g.bumpMap&&(h.bumpMap.value=g.bumpMap,h.bumpScale.value=g.bumpScale,g.side===Gi&&(h.bumpScale.value*=-1)),g.normalMap&&(h.normalMap.value=g.normalMap,h.normalScale.value.copy(g.normalScale),g.side===Gi&&h.normalScale.value.negate()),g.displacementMap&&(h.displacementMap.value=g.displacementMap,h.displacementScale.value=g.displacementScale,h.displacementBias.value=g.displacementBias),(g.envMap||E)&&(h.envMapIntensity.value=g.envMapIntensity)}function u(h,g,E){l(h,g,E),h.reflectivity.value=g.reflectivity,h.clearcoat.value=g.clearcoat,h.clearcoatRoughness.value=g.clearcoatRoughness,g.sheen&&h.sheen.value.copy(g.sheen),g.clearcoatMap&&(h.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(h.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(h.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),h.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===Gi&&h.clearcoatNormalScale.value.negate()),h.transparency.value=g.transparency}function m(h,g){g.matcap&&(h.matcap.value=g.matcap),g.bumpMap&&(h.bumpMap.value=g.bumpMap,h.bumpScale.value=g.bumpScale,g.side===Gi&&(h.bumpScale.value*=-1)),g.normalMap&&(h.normalMap.value=g.normalMap,h.normalScale.value.copy(g.normalScale),g.side===Gi&&h.normalScale.value.negate()),g.displacementMap&&(h.displacementMap.value=g.displacementMap,h.displacementScale.value=g.displacementScale,h.displacementBias.value=g.displacementBias)}function d(h,g){g.displacementMap&&(h.displacementMap.value=g.displacementMap,h.displacementScale.value=g.displacementScale,h.displacementBias.value=g.displacementBias)}function y(h,g){g.displacementMap&&(h.displacementMap.value=g.displacementMap,h.displacementScale.value=g.displacementScale,h.displacementBias.value=g.displacementBias),h.referencePosition.value.copy(g.referencePosition),h.nearDistance.value=g.nearDistance,h.farDistance.value=g.farDistance}function _(h,g){g.bumpMap&&(h.bumpMap.value=g.bumpMap,h.bumpScale.value=g.bumpScale,g.side===Gi&&(h.bumpScale.value*=-1)),g.normalMap&&(h.normalMap.value=g.normalMap,h.normalScale.value.copy(g.normalScale),g.side===Gi&&h.normalScale.value.negate()),g.displacementMap&&(h.displacementMap.value=g.displacementMap,h.displacementScale.value=g.displacementScale,h.displacementBias.value=g.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function $f(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=e.context!==void 0?e.context:null,n=e.alpha!==void 0?e.alpha:!1,s=e.depth!==void 0?e.depth:!0,r=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,o=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,c=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,p=e.powerPreference!==void 0?e.powerPreference:"default",f=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let l=null,u=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=an,this.physicallyCorrectLights=!1,this.toneMapping=ic,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const m=this;let d=!1,y=null,_=0,h=0,g=null,E=null,w=-1,v=null,x=null;const b=new ti,A=new ti;let M=null,G=t.width,T=t.height,N=1,D=null,L=null;const C=new ti(0,0,G,T),O=new ti(0,0,G,T);let q=!1;const z=new jf,$=new jM;let re=!1,K=!1;const J=new De,Y=new P,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function fe(){return g===null?N:1}let X=i;function ae(j,xe){for(let ye=0;ye<j.length;ye++){const S=j[ye],I=t.getContext(S,xe);if(I!==null)return I}return null}try{const j={alpha:n,depth:s,stencil:r,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:c,powerPreference:p,failIfMajorPerformanceCaveat:f};if(t.addEventListener("webglcontextlost",Ae,!1),t.addEventListener("webglcontextrestored",Ve,!1),X===null){const xe=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&xe.shift(),X=ae(xe,j),X===null)throw ae(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let ne,pe,U,W,Z,ie,ue,he,ge,k,H,me,oe,te,se,we,Me,_e,Se;function Ee(){ne=new $M(X),pe=new WM(X,ne,e),pe.isWebGL2===!1&&(ne.get("WEBGL_depth_texture"),ne.get("OES_texture_float"),ne.get("OES_texture_half_float"),ne.get("OES_texture_half_float_linear"),ne.get("OES_standard_derivatives"),ne.get("OES_element_index_uint"),ne.get("OES_vertex_array_object"),ne.get("ANGLE_instanced_arrays")),ne.get("OES_texture_float_linear"),_e=new dC(X,ne,pe),U=new uC(X,ne,pe),U.scissor(A.copy(O).multiplyScalar(N).floor()),U.viewport(b.copy(C).multiplyScalar(N).floor()),W=new JM,Z=new eC,ie=new mC(X,ne,U,Z,pe,_e,W),ue=new b9(X,pe),Se=new HM(X,ne,ue,pe),he=new KM(X,ue,W,Se),ge=new eA(X,he,ue,W),se=new ZM(X),k=new ZA(m,ne,pe,Se),H=new hC(Z),me=new nC,oe=new pC,te=new zM(m,U,ge,o),we=new UM(X,ne,W,pe),Me=new YM(X,ne,W,pe),W.programs=k.programs,m.capabilities=pe,m.extensions=ne,m.properties=Z,m.renderLists=me,m.state=U,m.info=W}Ee();const Re=new Q6(m,X);this.xr=Re;const Pe=new J6(m,ge,pe.maxTextureSize);this.shadowMap=Pe,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const j=ne.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=ne.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(j){j!==void 0&&(N=j,this.setSize(G,T,!1))},this.getSize=function(j){return j===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),j=new Te),j.set(G,T)},this.setSize=function(j,xe,ye){if(Re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=j,T=xe,t.width=Math.floor(j*N),t.height=Math.floor(xe*N),ye!==!1&&(t.style.width=j+"px",t.style.height=xe+"px"),this.setViewport(0,0,j,xe)},this.getDrawingBufferSize=function(j){return j===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),j=new Te),j.set(G*N,T*N).floor()},this.setDrawingBufferSize=function(j,xe,ye){G=j,T=xe,N=ye,t.width=Math.floor(j*ye),t.height=Math.floor(xe*ye),this.setViewport(0,0,j,xe)},this.getCurrentViewport=function(j){return j===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),j=new ti),j.copy(b)},this.getViewport=function(j){return j.copy(C)},this.setViewport=function(j,xe,ye,S){j.isVector4?C.set(j.x,j.y,j.z,j.w):C.set(j,xe,ye,S),U.viewport(b.copy(C).multiplyScalar(N).floor())},this.getScissor=function(j){return j.copy(O)},this.setScissor=function(j,xe,ye,S){j.isVector4?O.set(j.x,j.y,j.z,j.w):O.set(j,xe,ye,S),U.scissor(A.copy(O).multiplyScalar(N).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(j){U.setScissorTest(q=j)},this.setOpaqueSort=function(j){D=j},this.setTransparentSort=function(j){L=j},this.getClearColor=function(){return te.getClearColor()},this.setClearColor=function(){te.setClearColor.apply(te,arguments)},this.getClearAlpha=function(){return te.getClearAlpha()},this.setClearAlpha=function(){te.setClearAlpha.apply(te,arguments)},this.clear=function(j,xe,ye){let S=0;(j===void 0||j)&&(S|=16384),(xe===void 0||xe)&&(S|=256),(ye===void 0||ye)&&(S|=1024),X.clear(S)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ae,!1),t.removeEventListener("webglcontextrestored",Ve,!1),me.dispose(),oe.dispose(),Z.dispose(),ge.dispose(),Se.dispose(),Re.dispose(),je.stop()};function Ae(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),d=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),d=!1,Ee()}function rt(j){const xe=j.target;xe.removeEventListener("dispose",rt),tt(xe)}function tt(j){Xe(j),Z.remove(j)}function Xe(j){const xe=Z.get(j).program;j.program=void 0,xe!==void 0&&k.releaseProgram(xe)}function mt(j,xe){j.render(function(ye){m.renderBufferImmediate(ye,xe)})}this.renderBufferImmediate=function(j,xe){Se.initAttributes();const ye=Z.get(j);j.hasPositions&&!ye.position&&(ye.position=X.createBuffer()),j.hasNormals&&!ye.normal&&(ye.normal=X.createBuffer()),j.hasUvs&&!ye.uv&&(ye.uv=X.createBuffer()),j.hasColors&&!ye.color&&(ye.color=X.createBuffer());const S=xe.getAttributes();j.hasPositions&&(X.bindBuffer(34962,ye.position),X.bufferData(34962,j.positionArray,35048),Se.enableAttribute(S.position),X.vertexAttribPointer(S.position,3,5126,!1,0,0)),j.hasNormals&&(X.bindBuffer(34962,ye.normal),X.bufferData(34962,j.normalArray,35048),Se.enableAttribute(S.normal),X.vertexAttribPointer(S.normal,3,5126,!1,0,0)),j.hasUvs&&(X.bindBuffer(34962,ye.uv),X.bufferData(34962,j.uvArray,35048),Se.enableAttribute(S.uv),X.vertexAttribPointer(S.uv,2,5126,!1,0,0)),j.hasColors&&(X.bindBuffer(34962,ye.color),X.bufferData(34962,j.colorArray,35048),Se.enableAttribute(S.color),X.vertexAttribPointer(S.color,3,5126,!1,0,0)),Se.disableUnusedAttributes(),X.drawArrays(4,0,j.count),j.count=0},this.renderBufferDirect=function(j,xe,ye,S,I,F){xe===null&&(xe=le);const B=I.isMesh&&I.matrixWorld.determinant()<0,V=Ge(j,xe,S,I);U.setMaterial(S,B);let Q=ye.index;const ee=ye.attributes.position;if(Q===null){if(ee===void 0||ee.count===0)return}else if(Q.count===0)return;let ce=1;S.wireframe===!0&&(Q=he.getWireframeAttribute(ye),ce=2),(S.morphTargets||S.morphNormals)&&se.update(I,ye,S,V),Se.setup(I,S,V,ye,Q);let be,ve=we;Q!==null&&(be=ue.get(Q),ve=Me,ve.setIndex(be));const Ie=Q!==null?Q.count:ee.count,Be=ye.drawRange.start*ce,Fe=ye.drawRange.count*ce,Ne=F!==null?F.start*ce:0,ke=F!==null?F.count*ce:1/0,Ye=Math.max(Be,Ne),et=Math.min(Ie,Be+Fe,Ne+ke)-1,Je=Math.max(0,et-Ye+1);if(Je!==0){if(I.isMesh)S.wireframe===!0?(U.setLineWidth(S.wireframeLinewidth*fe()),ve.setMode(1)):ve.setMode(4);else if(I.isLine){let ni=S.linewidth;ni===void 0&&(ni=1),U.setLineWidth(ni*fe()),I.isLineSegments?ve.setMode(1):I.isLineLoop?ve.setMode(2):ve.setMode(3)}else I.isPoints?ve.setMode(0):I.isSprite&&ve.setMode(4);if(I.isInstancedMesh)ve.renderInstances(ye,Ye,Je,I.count);else if(ye.isInstancedBufferGeometry){const ni=Math.min(ye.instanceCount,ye._maxInstanceCount);ve.renderInstances(ye,Ye,Je,ni)}else ve.render(Ye,Je)}},this.compile=function(j,xe){u=oe.get(j,xe),u.init(),j.traverse(function(S){S.isLight&&(u.pushLight(S),S.castShadow&&u.pushShadow(S))}),u.setupLights(xe);const ye=new WeakMap;j.traverse(function(S){let I=S.material;if(I)if(Array.isArray(I))for(let F=0;F<I.length;F++){let B=I[F];ye.has(B)===!1&&(Mt(B,j,S),ye.set(B))}else ye.has(I)===!1&&(Mt(I,j,S),ye.set(I))})};let ht=null;function ot(j){Re.isPresenting||ht&&ht(j)}const je=new z6;je.setAnimationLoop(ot),typeof window<"u"&&je.setContext(window),this.setAnimationLoop=function(j){ht=j,Re.setAnimationLoop(j),j===null?je.stop():je.start()},this.render=function(j,xe){let ye,S;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),ye=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),S=arguments[3]),xe!==void 0&&xe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(d===!0)return;Se.resetDefaultState(),w=-1,v=null,j.autoUpdate===!0&&j.updateMatrixWorld(),xe.parent===null&&xe.updateMatrixWorld(),Re.enabled===!0&&Re.isPresenting===!0&&(xe=Re.getCamera(xe)),j.isScene===!0&&j.onBeforeRender(m,j,xe,ye||g),u=oe.get(j,xe),u.init(),J.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),z.setFromProjectionMatrix(J),K=this.localClippingEnabled,re=$.init(this.clippingPlanes,K,xe),l=me.get(j,xe),l.init(),St(j,xe,0,m.sortObjects),l.finish(),m.sortObjects===!0&&l.sort(D,L),re===!0&&$.beginShadows();const I=u.state.shadowsArray;Pe.render(I,j,xe),u.setupLights(xe),re===!0&&$.endShadows(),this.info.autoReset===!0&&this.info.reset(),ye!==void 0&&this.setRenderTarget(ye),te.render(l,j,xe,S);const F=l.opaque,B=l.transparent;F.length>0&&Ze(F,j,xe),B.length>0&&Ze(B,j,xe),j.isScene===!0&&j.onAfterRender(m,j,xe),g!==null&&(ie.updateRenderTargetMipmap(g),ie.updateMultisampleRenderTarget(g)),U.buffers.depth.setTest(!0),U.buffers.depth.setMask(!0),U.buffers.color.setMask(!0),U.setPolygonOffset(!1),l=null,u=null};function St(j,xe,ye,S){if(j.visible===!1)return;if(j.layers.test(xe.layers)){if(j.isGroup)ye=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(xe);else if(j.isLight)u.pushLight(j),j.castShadow&&u.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||z.intersectsSprite(j)){S&&Y.setFromMatrixPosition(j.matrixWorld).applyMatrix4(J);const B=ge.update(j),V=j.material;V.visible&&l.push(j,B,V,ye,Y.z,null)}}else if(j.isImmediateRenderObject)S&&Y.setFromMatrixPosition(j.matrixWorld).applyMatrix4(J),l.push(j,null,j.material,ye,Y.z,null);else if((j.isMesh||j.isLine||j.isPoints)&&(j.isSkinnedMesh&&j.skeleton.frame!==W.render.frame&&(j.skeleton.update(),j.skeleton.frame=W.render.frame),!j.frustumCulled||z.intersectsObject(j))){S&&Y.setFromMatrixPosition(j.matrixWorld).applyMatrix4(J);const B=ge.update(j),V=j.material;if(Array.isArray(V)){const Q=B.groups;for(let ee=0,ce=Q.length;ee<ce;ee++){const be=Q[ee],ve=V[be.materialIndex];ve&&ve.visible&&l.push(j,B,ve,ye,Y.z,be)}}else V.visible&&l.push(j,B,V,ye,Y.z,null)}}const F=j.children;for(let B=0,V=F.length;B<V;B++)St(F[B],xe,ye,S)}function Ze(j,xe,ye){const S=xe.isScene===!0?xe.overrideMaterial:null;for(let I=0,F=j.length;I<F;I++){const B=j[I],V=B.object,Q=B.geometry,ee=S===null?B.material:S,ce=B.group;if(ye.isArrayCamera){x=ye;const be=ye.cameras;for(let ve=0,Ie=be.length;ve<Ie;ve++){const Be=be[ve];V.layers.test(Be.layers)&&(U.viewport(b.copy(Be.viewport)),u.setupLights(Be),ze(V,xe,Be,Q,ee,ce))}}else x=null,ze(V,xe,ye,Q,ee,ce)}}function ze(j,xe,ye,S,I,F){if(j.onBeforeRender(m,xe,ye,S,I,F),u=oe.get(xe,x||ye),j.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),j.isImmediateRenderObject){const B=Ge(ye,xe,I,j);U.setMaterial(I),Se.reset(),mt(j,B)}else m.renderBufferDirect(ye,xe,S,I,j,F);j.onAfterRender(m,xe,ye,S,I,F),u=oe.get(xe,x||ye)}function Mt(j,xe,ye){xe.isScene!==!0&&(xe=le);const S=Z.get(j),I=u.state.lights,F=u.state.shadowsArray,B=I.state.version,V=k.getParameters(j,I.state,F,xe,$.numPlanes,$.numIntersection,ye),Q=k.getProgramCacheKey(V);let ee=S.program,ce=!0;if(ee===void 0)j.addEventListener("dispose",rt);else if(ee.cacheKey!==Q)Xe(j);else if(S.lightsStateVersion!==B)S.lightsStateVersion=B,ce=!1;else{if(V.shaderID!==void 0)return;ce=!1}ce&&(ee=k.acquireProgram(V,Q),S.program=ee,S.uniforms=V.uniforms,S.outputEncoding=V.outputEncoding,j.program=ee);const be=ee.getAttributes();if(j.morphTargets){j.numSupportedMorphTargets=0;for(let Fe=0;Fe<m.maxMorphTargets;Fe++)be["morphTarget"+Fe]>=0&&j.numSupportedMorphTargets++}if(j.morphNormals){j.numSupportedMorphNormals=0;for(let Fe=0;Fe<m.maxMorphNormals;Fe++)be["morphNormal"+Fe]>=0&&j.numSupportedMorphNormals++}const ve=S.uniforms;(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(S.numClippingPlanes=$.numPlanes,S.numIntersection=$.numIntersection,ve.clippingPlanes=$.uniform),S.environment=j.isMeshStandardMaterial?xe.environment:null,S.fog=xe.fog,S.needsLights=Qe(j),S.lightsStateVersion=B,S.needsLights&&(ve.ambientLightColor.value=I.state.ambient,ve.lightProbe.value=I.state.probe,ve.directionalLights.value=I.state.directional,ve.directionalLightShadows.value=I.state.directionalShadow,ve.spotLights.value=I.state.spot,ve.spotLightShadows.value=I.state.spotShadow,ve.rectAreaLights.value=I.state.rectArea,ve.pointLights.value=I.state.point,ve.pointLightShadows.value=I.state.pointShadow,ve.hemisphereLights.value=I.state.hemi,ve.directionalShadowMap.value=I.state.directionalShadowMap,ve.directionalShadowMatrix.value=I.state.directionalShadowMatrix,ve.spotShadowMap.value=I.state.spotShadowMap,ve.spotShadowMatrix.value=I.state.spotShadowMatrix,ve.pointShadowMap.value=I.state.pointShadowMap,ve.pointShadowMatrix.value=I.state.pointShadowMatrix);const Ie=S.program.getUniforms(),Be=ta.seqWithValue(Ie.seq,ve);S.uniformsList=Be}function Ge(j,xe,ye,S){xe.isScene!==!0&&(xe=le),ie.resetTextureUnits();const I=xe.fog,F=ye.isMeshStandardMaterial?xe.environment:null,B=g===null?m.outputEncoding:g.texture.encoding,V=Z.get(ye),Q=u.state.lights;if(re===!0&&(K===!0||j!==v)){const Fe=j===v&&ye.id===w;$.setState(ye.clippingPlanes,ye.clipIntersection,ye.clipShadows,j,V,Fe)}ye.version===V.__version?(V.program===void 0||ye.fog&&V.fog!==I||V.environment!==F||V.needsLights&&V.lightsStateVersion!==Q.state.version||V.numClippingPlanes!==void 0&&(V.numClippingPlanes!==$.numPlanes||V.numIntersection!==$.numIntersection)||V.outputEncoding!==B)&&Mt(ye,xe,S):(Mt(ye,xe,S),V.__version=ye.version);let ee=!1,ce=!1,be=!1;const ve=V.program,Ie=ve.getUniforms(),Be=V.uniforms;if(U.useProgram(ve.program)&&(ee=!0,ce=!0,be=!0),ye.id!==w&&(w=ye.id,ce=!0),ee||v!==j){if(Ie.setValue(X,"projectionMatrix",j.projectionMatrix),pe.logarithmicDepthBuffer&&Ie.setValue(X,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),v!==j&&(v=j,ce=!0,be=!0),ye.isShaderMaterial||ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshStandardMaterial||ye.envMap){const Fe=Ie.map.cameraPosition;Fe!==void 0&&Fe.setValue(X,Y.setFromMatrixPosition(j.matrixWorld))}(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial)&&Ie.setValue(X,"isOrthographic",j.isOrthographicCamera===!0),(ye.isMeshPhongMaterial||ye.isMeshToonMaterial||ye.isMeshLambertMaterial||ye.isMeshBasicMaterial||ye.isMeshStandardMaterial||ye.isShaderMaterial||ye.isShadowMaterial||ye.skinning)&&Ie.setValue(X,"viewMatrix",j.matrixWorldInverse)}if(ye.skinning){Ie.setOptional(X,S,"bindMatrix"),Ie.setOptional(X,S,"bindMatrixInverse");const Fe=S.skeleton;if(Fe){const Ne=Fe.bones;if(pe.floatVertexTextures){if(Fe.boneTexture===void 0){let ke=Math.sqrt(Ne.length*4);ke=Pt.ceilPowerOfTwo(ke),ke=Math.max(ke,4);const Ye=new Float32Array(ke*ke*4);Ye.set(Fe.boneMatrices);const et=new wr(Ye,ke,ke,Mn,dr);Fe.boneMatrices=Ye,Fe.boneTexture=et,Fe.boneTextureSize=ke}Ie.setValue(X,"boneTexture",Fe.boneTexture,ie),Ie.setValue(X,"boneTextureSize",Fe.boneTextureSize)}else Ie.setOptional(X,Fe,"boneMatrices")}}return(ce||V.receiveShadow!==S.receiveShadow)&&(V.receiveShadow=S.receiveShadow,Ie.setValue(X,"receiveShadow",S.receiveShadow)),ce&&(Ie.setValue(X,"toneMappingExposure",m.toneMappingExposure),V.needsLights&&qe(Be,be),I&&ye.fog&&H.refreshFogUniforms(Be,I),H.refreshMaterialUniforms(Be,ye,F,N,T),Be.ltc_1!==void 0&&(Be.ltc_1.value=He.LTC_1),Be.ltc_2!==void 0&&(Be.ltc_2.value=He.LTC_2),ta.upload(X,V.uniformsList,Be,ie)),ye.isShaderMaterial&&ye.uniformsNeedUpdate===!0&&(ta.upload(X,V.uniformsList,Be,ie),ye.uniformsNeedUpdate=!1),ye.isSpriteMaterial&&Ie.setValue(X,"center",S.center),Ie.setValue(X,"modelViewMatrix",S.modelViewMatrix),Ie.setValue(X,"normalMatrix",S.normalMatrix),Ie.setValue(X,"modelMatrix",S.matrixWorld),ve}function qe(j,xe){j.ambientLightColor.needsUpdate=xe,j.lightProbe.needsUpdate=xe,j.directionalLights.needsUpdate=xe,j.directionalLightShadows.needsUpdate=xe,j.pointLights.needsUpdate=xe,j.pointLightShadows.needsUpdate=xe,j.spotLights.needsUpdate=xe,j.spotLightShadows.needsUpdate=xe,j.rectAreaLights.needsUpdate=xe,j.hemisphereLights.needsUpdate=xe}function Qe(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.setFramebuffer=function(j){y!==j&&g===null&&X.bindFramebuffer(36160,j),y=j},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return h},this.getRenderTarget=function(){return g},this.setRenderTarget=function(j,xe,ye){g=j,_=xe,h=ye,j&&Z.get(j).__webglFramebuffer===void 0&&ie.setupRenderTarget(j);let S=y,I=!1;if(j){const F=Z.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(S=F[xe||0],I=!0):j.isWebGLMultisampleRenderTarget?S=Z.get(j).__webglMultisampledFramebuffer:S=F,b.copy(j.viewport),A.copy(j.scissor),M=j.scissorTest}else b.copy(C).multiplyScalar(N).floor(),A.copy(O).multiplyScalar(N).floor(),M=q;if(E!==S&&(X.bindFramebuffer(36160,S),E=S),U.viewport(b),U.scissor(A),U.setScissorTest(M),I){const F=Z.get(j.texture);X.framebufferTexture2D(36160,36064,34069+(xe||0),F.__webglTexture,ye||0)}},this.readRenderTargetPixels=function(j,xe,ye,S,I,F,B){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let V=Z.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&B!==void 0&&(V=V[B]),V){let Q=!1;V!==E&&(X.bindFramebuffer(36160,V),Q=!0);try{const ee=j.texture,ce=ee.format,be=ee.type;if(ce!==Mn&&_e.convert(ce)!==X.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(be!==Ha&&_e.convert(be)!==X.getParameter(35738)&&!(be===dr&&(pe.isWebGL2||ne.get("OES_texture_float")||ne.get("WEBGL_color_buffer_float")))&&!(be===Yl&&(pe.isWebGL2?ne.get("EXT_color_buffer_float"):ne.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}X.checkFramebufferStatus(36160)===36053?xe>=0&&xe<=j.width-S&&ye>=0&&ye<=j.height-I&&X.readPixels(xe,ye,S,I,_e.convert(ce),_e.convert(be),F):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Q&&X.bindFramebuffer(36160,E)}}},this.copyFramebufferToTexture=function(j,xe,ye){ye===void 0&&(ye=0);const S=Math.pow(2,-ye),I=Math.floor(xe.image.width*S),F=Math.floor(xe.image.height*S),B=_e.convert(xe.format);ie.setTexture2D(xe,0),X.copyTexImage2D(3553,ye,B,j.x,j.y,I,F,0),U.unbindTexture()},this.copyTextureToTexture=function(j,xe,ye,S){S===void 0&&(S=0);const I=xe.image.width,F=xe.image.height,B=_e.convert(ye.format),V=_e.convert(ye.type);ie.setTexture2D(ye,0),X.pixelStorei(37440,ye.flipY),X.pixelStorei(37441,ye.premultiplyAlpha),X.pixelStorei(3317,ye.unpackAlignment),xe.isDataTexture?X.texSubImage2D(3553,S,j.x,j.y,I,F,B,V,xe.image.data):xe.isCompressedTexture?X.compressedTexSubImage2D(3553,S,j.x,j.y,xe.mipmaps[0].width,xe.mipmaps[0].height,B,xe.mipmaps[0].data):X.texSubImage2D(3553,S,j.x,j.y,B,V,xe.image),S===0&&ye.generateMipmaps&&X.generateMipmap(3553),U.unbindTexture()},this.initTexture=function(j){ie.setTexture2D(j,0),U.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ey(e){$f.call(this,e)}Ey.prototype=Object.assign(Object.create($f.prototype),{constructor:Ey,isWebGL1Renderer:!0});function Xd(e,t){this.name="",this.color=new Oe(e),this.density=t!==void 0?t:25e-5}Object.assign(Xd.prototype,{isFogExp2:!0,clone:function(){return new Xd(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function eu(e,t,i){this.name="",this.color=new Oe(e),this.near=t!==void 0?t:1,this.far=i!==void 0?i:1e3}Object.assign(eu.prototype,{isFog:!0,clone:function(){return new eu(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function Kn(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Yu,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Pt.generateUUID()}Object.defineProperty(Kn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Kn.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(let n=0,s=this.stride;n<s;n++)this.array[e+n]=t.array[i+n];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pt.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new Kn(t,this.stride);return i.setUsage(this.usage),i},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pt.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const xa=new P;function $a(e,t,i,n){this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=n===!0}Object.defineProperties($a.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign($a.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,i=this.data.count;t<i;t++)xa.x=this.getX(t),xa.y=this.getY(t),xa.z=this.getZ(t),xa.applyMatrix4(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this},setXYZW:function(e,t,i,n,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=s,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[n+s])}return new it(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new $a(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[n+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function Ka(e){gt.call(this),this.type="SpriteMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Ka.prototype=Object.create(gt.prototype);Ka.prototype.constructor=Ka;Ka.prototype.isSpriteMaterial=!0;Ka.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let vo;const np=new P,bo=new P,xo=new P,So=new Te,sp=new Te,X6=new De,w0=new P,rp=new P,E0=new P,vy=new Te,Q1=new Te,by=new Te;function Zd(e){if(Ue.call(this),this.type="Sprite",vo===void 0){vo=new We;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Kn(t,5);vo.setIndex([0,1,2,0,2,3]),vo.setAttribute("position",new $a(i,3,0,!1)),vo.setAttribute("uv",new $a(i,2,3,!1))}this.geometry=vo,this.material=e!==void 0?e:new Ka,this.center=new Te(.5,.5)}Zd.prototype=Object.assign(Object.create(Ue.prototype),{constructor:Zd,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bo.setFromMatrixScale(this.matrixWorld),X6.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xo.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&bo.multiplyScalar(-xo.z);const i=this.material.rotation;let n,s;i!==0&&(s=Math.cos(i),n=Math.sin(i));const r=this.center;v0(w0.set(-.5,-.5,0),xo,r,bo,n,s),v0(rp.set(.5,-.5,0),xo,r,bo,n,s),v0(E0.set(.5,.5,0),xo,r,bo,n,s),vy.set(0,0),Q1.set(1,0),by.set(1,1);let a=e.ray.intersectTriangle(w0,rp,E0,!1,np);if(a===null&&(v0(rp.set(-.5,.5,0),xo,r,bo,n,s),Q1.set(0,1),a=e.ray.intersectTriangle(w0,E0,rp,!1,np),a===null))return;const o=e.ray.origin.distanceTo(np);o<e.near||o>e.far||t.push({distance:o,point:np.clone(),uv:Ki.getUV(np,w0,rp,E0,vy,Q1,by,new Te),face:null,object:this})},copy:function(e){return Ue.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function v0(e,t,i,n,s,r){So.subVectors(e,i).addScalar(.5).multiply(n),s!==void 0?(sp.x=r*So.x-s*So.y,sp.y=s*So.x+r*So.y):sp.copy(So),e.copy(t),e.x+=sp.x,e.y+=sp.y,e.applyMatrix4(X6)}const b0=new P,xy=new P;function tu(){Ue.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}tu.prototype=Object.assign(Object.create(Ue.prototype),{constructor:tu,isLOD:!0,copy:function(e){Ue.prototype.copy.call(this,e,!1);const t=e.levels;for(let i=0,n=t.length;i<n;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const i=this.levels;let n;for(n=0;n<i.length&&!(t<i[n].distance);n++);return i.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let i,n;for(i=1,n=t.length;i<n&&!(e<t[i].distance);i++);return t[i-1].object}return null},raycast:function(e,t){if(this.levels.length>0){b0.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(b0);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){b0.setFromMatrixPosition(e.matrixWorld),xy.setFromMatrixPosition(this.matrixWorld);const i=b0.distanceTo(xy)/e.zoom;t[0].object.visible=!0;let n,s;for(n=1,s=t.length;n<s&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<s;n++)t[n].object.visible=!1}},toJSON:function(e){const t=Ue.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let n=0,s=i.length;n<s;n++){const r=i[n];t.object.levels.push({object:r.object.uuid,distance:r.distance})}return t}});function eh(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ci.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new De,this.bindMatrixInverse=new De}eh.prototype=Object.assign(Object.create(ci.prototype),{constructor:eh,isSkinnedMesh:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new ti,t=this.geometry.attributes.skinWeight;for(let i=0,n=t.count;i<n;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){ci.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new P,t=new ti,i=new ti,n=new P,s=new De;return function(r,a){const o=this.skeleton,c=this.geometry;t.fromBufferAttribute(c.attributes.skinIndex,r),i.fromBufferAttribute(c.attributes.skinWeight,r),e.fromBufferAttribute(c.attributes.position,r).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let p=0;p<4;p++){const f=i.getComponent(p);if(f!==0){const l=t.getComponent(p);s.multiplyMatrices(o.bones[l].matrixWorld,o.boneInverses[l]),a.addScaledVector(n.copy(e).applyMatrix4(s),f)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});const Sy=new De,_C=new De;function th(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new De)}}Object.assign(th.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const i=new De;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.getInverse(i.parent.matrixWorld),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}},update:function(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,n=this.boneTexture;for(let s=0,r=e.length;s<r;s++){const a=e[s]?e[s].matrixWorld:_C;Sy.multiplyMatrices(a,t[s]),Sy.toArray(i,s*16)}n!==void 0&&(n.needsUpdate=!0)},clone:function(){return new th(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,i=this.bones.length;t<i;t++){const n=this.bones[t];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function My(){Ue.call(this),this.type="Bone"}My.prototype=Object.assign(Object.create(Ue.prototype),{constructor:My,isBone:!0});const Ay=new De,Cy=new De,x0=[],ap=new ci;function ih(e,t,i){ci.call(this,e,t),this.instanceMatrix=new it(new Float32Array(i*16),16),this.count=i,this.frustumCulled=!1}ih.prototype=Object.assign(Object.create(ci.prototype),{constructor:ih,isInstancedMesh:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const i=this.matrixWorld,n=this.count;if(ap.geometry=this.geometry,ap.material=this.material,ap.material!==void 0)for(let s=0;s<n;s++){this.getMatrixAt(s,Ay),Cy.multiplyMatrices(i,Ay),ap.matrixWorld=Cy,ap.raycast(e,x0);for(let r=0,a=x0.length;r<a;r++){const o=x0[r];o.instanceId=s,o.object=this,t.push(o)}x0.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function Pi(e){gt.call(this),this.type="LineBasicMaterial",this.color=new Oe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Pi.prototype=Object.create(gt.prototype);Pi.prototype.constructor=Pi;Pi.prototype.isLineBasicMaterial=!0;Pi.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const Py=new P,Ty=new P,Iy=new De,S0=new Oc,M0=new Tr;function Qn(e,t,i){i===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Ue.call(this),this.type="Line",this.geometry=e!==void 0?e:new We,this.material=t!==void 0?t:new Pi,this.updateMorphTargets()}Qn.prototype=Object.assign(Object.create(Ue.prototype),{constructor:Qn,isLine:!0,copy:function(e){return Ue.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[0];for(let n=1,s=t.count;n<s;n++)Py.fromBufferAttribute(t,n-1),Ty.fromBufferAttribute(t,n),i[n]=i[n-1],i[n]+=Py.distanceTo(Ty);e.setAttribute("lineDistance",new $e(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,i=e.lineDistances;i[0]=0;for(let n=1,s=t.length;n<s;n++)i[n]=i[n-1],i[n]+=t[n-1].distanceTo(t[n])}return this},raycast:function(e,t){const i=this.geometry,n=this.matrixWorld,s=e.params.Line.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),M0.copy(i.boundingSphere),M0.applyMatrix4(n),M0.radius+=s,e.ray.intersectsSphere(M0)===!1)return;Iy.getInverse(n),S0.copy(e.ray).applyMatrix4(Iy);const r=s/((this.scale.x+this.scale.y+this.scale.z)/3),a=r*r,o=new P,c=new P,p=new P,f=new P,l=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){const u=i.index,d=i.attributes.position.array;if(u!==null){const y=u.array;for(let _=0,h=y.length-1;_<h;_+=l){const g=y[_],E=y[_+1];if(o.fromArray(d,g*3),c.fromArray(d,E*3),S0.distanceSqToSegment(o,c,f,p)>a)continue;f.applyMatrix4(this.matrixWorld);const v=e.ray.origin.distanceTo(f);v<e.near||v>e.far||t.push({distance:v,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(let y=0,_=d.length/3-1;y<_;y+=l){if(o.fromArray(d,3*y),c.fromArray(d,3*y+3),S0.distanceSqToSegment(o,c,f,p)>a)continue;f.applyMatrix4(this.matrixWorld);const g=e.ray.origin.distanceTo(f);g<e.near||g>e.far||t.push({distance:g,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(i.isGeometry){const u=i.vertices,m=u.length;for(let d=0;d<m-1;d+=l){if(S0.distanceSqToSegment(u[d],u[d+1],f,p)>a)continue;f.applyMatrix4(this.matrixWorld);const _=e.ray.origin.distanceTo(f);_<e.near||_>e.far||t.push({distance:_,point:p.clone().applyMatrix4(this.matrixWorld),index:d,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,r=n.length;s<r;s++){const a=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const A0=new P,C0=new P;function Ei(e,t){Qn.call(this,e,t),this.type="LineSegments"}Ei.prototype=Object.assign(Object.create(Qn.prototype),{constructor:Ei,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,i=[];for(let n=0,s=t.count;n<s;n+=2)A0.fromBufferAttribute(t,n),C0.fromBufferAttribute(t,n+1),i[n]=n===0?0:i[n-1],i[n+1]=i[n]+A0.distanceTo(C0);e.setAttribute("lineDistance",new $e(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,i=e.lineDistances;for(let n=0,s=t.length;n<s;n+=2)A0.copy(t[n]),C0.copy(t[n+1]),i[n]=n===0?0:i[n-1],i[n+1]=i[n]+A0.distanceTo(C0)}return this}});function nh(e,t){Qn.call(this,e,t),this.type="LineLoop"}nh.prototype=Object.assign(Object.create(Qn.prototype),{constructor:nh,isLineLoop:!0});function Ya(e){gt.call(this),this.type="PointsMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Ya.prototype=Object.create(gt.prototype);Ya.prototype.constructor=Ya;Ya.prototype.isPointsMaterial=!0;Ya.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const Ly=new De,sh=new Oc,P0=new Tr,T0=new P;function rf(e,t){Ue.call(this),this.type="Points",this.geometry=e!==void 0?e:new We,this.material=t!==void 0?t:new Ya,this.updateMorphTargets()}rf.prototype=Object.assign(Object.create(Ue.prototype),{constructor:rf,isPoints:!0,copy:function(e){return Ue.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const i=this.geometry,n=this.matrixWorld,s=e.params.Points.threshold;if(i.boundingSphere===null&&i.computeBoundingSphere(),P0.copy(i.boundingSphere),P0.applyMatrix4(n),P0.radius+=s,e.ray.intersectsSphere(P0)===!1)return;Ly.getInverse(n),sh.copy(e.ray).applyMatrix4(Ly);const r=s/((this.scale.x+this.scale.y+this.scale.z)/3),a=r*r;if(i.isBufferGeometry){const o=i.index,p=i.attributes.position.array;if(o!==null){const f=o.array;for(let l=0,u=f.length;l<u;l++){const m=f[l];T0.fromArray(p,m*3),X1(T0,m,a,n,e,t,this)}}else for(let f=0,l=p.length/3;f<l;f++)T0.fromArray(p,f*3),X1(T0,f,a,n,e,t,this)}else{const o=i.vertices;for(let c=0,p=o.length;c<p;c++)X1(o[c],c,a,n,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,r=n.length;s<r;s++){const a=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function X1(e,t,i,n,s,r,a){const o=sh.distanceSqToPoint(e);if(o<i){const c=new P;sh.closestPointToPoint(e,c),c.applyMatrix4(n);const p=s.ray.origin.distanceTo(c);if(p<s.near||p>s.far)return;r.push({distance:p,distanceToRay:Math.sqrt(o),point:c,index:t,face:null,object:a})}}function Fy(e,t,i,n,s,r,a,o,c){pi.call(this,e,t,i,n,s,r,a,o,c),this.format=a!==void 0?a:Da,this.minFilter=r!==void 0?r:Ri,this.magFilter=s!==void 0?s:Ri,this.generateMipmaps=!1}Fy.prototype=Object.assign(Object.create(pi.prototype),{constructor:Fy,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function af(e,t,i,n,s,r,a,o,c,p,f,l){pi.call(this,null,r,a,o,c,p,n,s,f,l),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}af.prototype=Object.create(pi.prototype);af.prototype.constructor=af;af.prototype.isCompressedTexture=!0;function of(e,t,i,n,s,r,a,o,c){pi.call(this,e,t,i,n,s,r,a,o,c),this.needsUpdate=!0}of.prototype=Object.create(pi.prototype);of.prototype.constructor=of;of.prototype.isCanvasTexture=!0;function iu(e,t,i,n,s,r,a,o,c,p){if(p=p!==void 0?p:nc,p!==nc&&p!==Yp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&p===nc&&(i=Kl),i===void 0&&p===Yp&&(i=Rp),pi.call(this,null,n,s,r,a,o,p,i,c),this.image={width:e,height:t},this.magFilter=a!==void 0?a:si,this.minFilter=o!==void 0?o:si,this.flipY=!1,this.generateMipmaps=!1}iu.prototype=Object.create(pi.prototype);iu.prototype.constructor=iu;iu.prototype.isDepthTexture=!0;function nu(e){We.call(this),this.type="WireframeGeometry";const t=[],i=[0,0],n={},s=["a","b","c"];if(e&&e.isGeometry){const r=e.faces;for(let a=0,o=r.length;a<o;a++){const c=r[a];for(let p=0;p<3;p++){const f=c[s[p]],l=c[s[(p+1)%3]];i[0]=Math.min(f,l),i[1]=Math.max(f,l);const u=i[0]+","+i[1];n[u]===void 0&&(n[u]={index1:i[0],index2:i[1]})}}for(const a in n){const o=n[a];let c=e.vertices[o.index1];t.push(c.x,c.y,c.z),c=e.vertices[o.index2],t.push(c.x,c.y,c.z)}}else if(e&&e.isBufferGeometry){let r=new P;if(e.index!==null){const a=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let p=0,f=c.length;p<f;++p){const l=c[p],u=l.start,m=l.count;for(let d=u,y=u+m;d<y;d+=3)for(let _=0;_<3;_++){const h=o.getX(d+_),g=o.getX(d+(_+1)%3);i[0]=Math.min(h,g),i[1]=Math.max(h,g);const E=i[0]+","+i[1];n[E]===void 0&&(n[E]={index1:i[0],index2:i[1]})}}for(const p in n){const f=n[p];r.fromBufferAttribute(a,f.index1),t.push(r.x,r.y,r.z),r.fromBufferAttribute(a,f.index2),t.push(r.x,r.y,r.z)}}else{const a=e.attributes.position;for(let o=0,c=a.count/3;o<c;o++)for(let p=0;p<3;p++){const f=3*o+p;r.fromBufferAttribute(a,f),t.push(r.x,r.y,r.z);const l=3*o+(p+1)%3;r.fromBufferAttribute(a,l),t.push(r.x,r.y,r.z)}}}this.setAttribute("position",new $e(t,3))}nu.prototype=Object.create(We.prototype);nu.prototype.constructor=nu;function su(e,t,i){ut.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i},this.fromBufferGeometry(new cf(e,t,i)),this.mergeVertices()}su.prototype=Object.create(ut.prototype);su.prototype.constructor=su;function cf(e,t,i){We.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:i};const n=[],s=[],r=[],a=[],o=1e-5,c=new P,p=new P,f=new P,l=new P,u=new P;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const m=t+1;for(let d=0;d<=i;d++){const y=d/i;for(let _=0;_<=t;_++){const h=_/t;e(h,y,p),s.push(p.x,p.y,p.z),h-o>=0?(e(h-o,y,f),l.subVectors(p,f)):(e(h+o,y,f),l.subVectors(f,p)),y-o>=0?(e(h,y-o,f),u.subVectors(p,f)):(e(h,y+o,f),u.subVectors(f,p)),c.crossVectors(l,u).normalize(),r.push(c.x,c.y,c.z),a.push(h,y)}}for(let d=0;d<i;d++)for(let y=0;y<t;y++){const _=d*m+y,h=d*m+y+1,g=(d+1)*m+y+1,E=(d+1)*m+y;n.push(_,h,E),n.push(h,g,E)}this.setIndex(n),this.setAttribute("position",new $e(s,3)),this.setAttribute("normal",new $e(r,3)),this.setAttribute("uv",new $e(a,2))}cf.prototype=Object.create(We.prototype);cf.prototype.constructor=cf;function ru(e,t,i,n){ut.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n},this.fromBufferGeometry(new Dn(e,t,i,n)),this.mergeVertices()}ru.prototype=Object.create(ut.prototype);ru.prototype.constructor=ru;function Dn(e,t,i,n){We.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n},i=i||1,n=n||0;const s=[],r=[];a(n),c(i),p(),this.setAttribute("position",new $e(s,3)),this.setAttribute("normal",new $e(s.slice(),3)),this.setAttribute("uv",new $e(r,2)),n===0?this.computeVertexNormals():this.normalizeNormals();function a(h){const g=new P,E=new P,w=new P;for(let v=0;v<t.length;v+=3)u(t[v+0],g),u(t[v+1],E),u(t[v+2],w),o(g,E,w,h)}function o(h,g,E,w){const v=Math.pow(2,w),x=[];for(let b=0;b<=v;b++){x[b]=[];const A=h.clone().lerp(E,b/v),M=g.clone().lerp(E,b/v),G=v-b;for(let T=0;T<=G;T++)T===0&&b===v?x[b][T]=A:x[b][T]=A.clone().lerp(M,T/G)}for(let b=0;b<v;b++)for(let A=0;A<2*(v-b)-1;A++){const M=Math.floor(A/2);A%2===0?(l(x[b][M+1]),l(x[b+1][M]),l(x[b][M])):(l(x[b][M+1]),l(x[b+1][M+1]),l(x[b+1][M]))}}function c(h){const g=new P;for(let E=0;E<s.length;E+=3)g.x=s[E+0],g.y=s[E+1],g.z=s[E+2],g.normalize().multiplyScalar(h),s[E+0]=g.x,s[E+1]=g.y,s[E+2]=g.z}function p(){const h=new P;for(let g=0;g<s.length;g+=3){h.x=s[g+0],h.y=s[g+1],h.z=s[g+2];const E=y(h)/2/Math.PI+.5,w=_(h)/Math.PI+.5;r.push(E,1-w)}m(),f()}function f(){for(let h=0;h<r.length;h+=6){const g=r[h+0],E=r[h+2],w=r[h+4],v=Math.max(g,E,w),x=Math.min(g,E,w);v>.9&&x<.1&&(g<.2&&(r[h+0]+=1),E<.2&&(r[h+2]+=1),w<.2&&(r[h+4]+=1))}}function l(h){s.push(h.x,h.y,h.z)}function u(h,g){const E=h*3;g.x=e[E+0],g.y=e[E+1],g.z=e[E+2]}function m(){const h=new P,g=new P,E=new P,w=new P,v=new Te,x=new Te,b=new Te;for(let A=0,M=0;A<s.length;A+=9,M+=6){h.set(s[A+0],s[A+1],s[A+2]),g.set(s[A+3],s[A+4],s[A+5]),E.set(s[A+6],s[A+7],s[A+8]),v.set(r[M+0],r[M+1]),x.set(r[M+2],r[M+3]),b.set(r[M+4],r[M+5]),w.copy(h).add(g).add(E).divideScalar(3);const G=y(w);d(v,M+0,h,G),d(x,M+2,g,G),d(b,M+4,E,G)}}function d(h,g,E,w){w<0&&h.x===1&&(r[g]=h.x-1),E.x===0&&E.z===0&&(r[g]=w/2/Math.PI+.5)}function y(h){return Math.atan2(h.z,-h.x)}function _(h){return Math.atan2(-h.y,Math.sqrt(h.x*h.x+h.z*h.z))}}Dn.prototype=Object.create(We.prototype);Dn.prototype.constructor=Dn;function au(e,t){ut.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new hc(e,t)),this.mergeVertices()}au.prototype=Object.create(ut.prototype);au.prototype.constructor=au;function hc(e,t){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];Dn.call(this,i,n,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}hc.prototype=Object.create(Dn.prototype);hc.prototype.constructor=hc;function ou(e,t){ut.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ja(e,t)),this.mergeVertices()}ou.prototype=Object.create(ut.prototype);ou.prototype.constructor=ou;function Ja(e,t){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Dn.call(this,i,n,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Ja.prototype=Object.create(Dn.prototype);Ja.prototype.constructor=Ja;function cu(e,t){ut.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Qa(e,t)),this.mergeVertices()}cu.prototype=Object.create(ut.prototype);cu.prototype.constructor=cu;function Qa(e,t){const i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Dn.call(this,n,s,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}Qa.prototype=Object.create(Dn.prototype);Qa.prototype.constructor=Qa;function pu(e,t){ut.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new pf(e,t)),this.mergeVertices()}pu.prototype=Object.create(ut.prototype);pu.prototype.constructor=pu;function pf(e,t){const i=(1+Math.sqrt(5))/2,n=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],r=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Dn.call(this,s,r,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}pf.prototype=Object.create(Dn.prototype);pf.prototype.constructor=pf;function fu(e,t,i,n,s,r){ut.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:n,closed:s},r!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const a=new _c(e,t,i,n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}fu.prototype=Object.create(ut.prototype);fu.prototype.constructor=fu;function _c(e,t,i,n,s){We.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:n,closed:s},t=t||64,i=i||1,n=n||8,s=s||!1;const r=e.computeFrenetFrames(t,s);this.tangents=r.tangents,this.normals=r.normals,this.binormals=r.binormals;const a=new P,o=new P,c=new Te;let p=new P;const f=[],l=[],u=[],m=[];d(),this.setIndex(m),this.setAttribute("position",new $e(f,3)),this.setAttribute("normal",new $e(l,3)),this.setAttribute("uv",new $e(u,2));function d(){for(let g=0;g<t;g++)y(g);y(s===!1?t:0),h(),_()}function y(g){p=e.getPointAt(g/t,p);const E=r.normals[g],w=r.binormals[g];for(let v=0;v<=n;v++){const x=v/n*Math.PI*2,b=Math.sin(x),A=-Math.cos(x);o.x=A*E.x+b*w.x,o.y=A*E.y+b*w.y,o.z=A*E.z+b*w.z,o.normalize(),l.push(o.x,o.y,o.z),a.x=p.x+i*o.x,a.y=p.y+i*o.y,a.z=p.z+i*o.z,f.push(a.x,a.y,a.z)}}function _(){for(let g=1;g<=t;g++)for(let E=1;E<=n;E++){const w=(n+1)*(g-1)+(E-1),v=(n+1)*g+(E-1),x=(n+1)*g+E,b=(n+1)*(g-1)+E;m.push(w,v,b),m.push(v,x,b)}}function h(){for(let g=0;g<=t;g++)for(let E=0;E<=n;E++)c.x=g/t,c.y=E/n,u.push(c.x,c.y)}}_c.prototype=Object.create(We.prototype);_c.prototype.constructor=_c;_c.prototype.toJSON=function(){const e=We.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e};function lu(e,t,i,n,s,r,a){ut.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:s,q:r},a!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ff(e,t,i,n,s,r)),this.mergeVertices()}lu.prototype=Object.create(ut.prototype);lu.prototype.constructor=lu;function ff(e,t,i,n,s,r){We.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:s,q:r},e=e||1,t=t||.4,i=Math.floor(i)||64,n=Math.floor(n)||8,s=s||2,r=r||3;const a=[],o=[],c=[],p=[],f=new P,l=new P,u=new P,m=new P,d=new P,y=new P,_=new P;for(let g=0;g<=i;++g){const E=g/i*s*Math.PI*2;h(E,s,r,e,u),h(E+.01,s,r,e,m),y.subVectors(m,u),_.addVectors(m,u),d.crossVectors(y,_),_.crossVectors(d,y),d.normalize(),_.normalize();for(let w=0;w<=n;++w){const v=w/n*Math.PI*2,x=-t*Math.cos(v),b=t*Math.sin(v);f.x=u.x+(x*_.x+b*d.x),f.y=u.y+(x*_.y+b*d.y),f.z=u.z+(x*_.z+b*d.z),o.push(f.x,f.y,f.z),l.subVectors(f,u).normalize(),c.push(l.x,l.y,l.z),p.push(g/i),p.push(w/n)}}for(let g=1;g<=i;g++)for(let E=1;E<=n;E++){const w=(n+1)*(g-1)+(E-1),v=(n+1)*g+(E-1),x=(n+1)*g+E,b=(n+1)*(g-1)+E;a.push(w,v,b),a.push(v,x,b)}this.setIndex(a),this.setAttribute("position",new $e(o,3)),this.setAttribute("normal",new $e(c,3)),this.setAttribute("uv",new $e(p,2));function h(g,E,w,v,x){const b=Math.cos(g),A=Math.sin(g),M=w/E*g,G=Math.cos(M);x.x=v*(2+G)*.5*b,x.y=v*(2+G)*A*.5,x.z=v*Math.sin(M)*.5}}ff.prototype=Object.create(We.prototype);ff.prototype.constructor=ff;function uu(e,t,i,n,s){ut.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:s},this.fromBufferGeometry(new yc(e,t,i,n,s)),this.mergeVertices()}uu.prototype=Object.create(ut.prototype);uu.prototype.constructor=uu;function yc(e,t,i,n,s){We.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:s},e=e||1,t=t||.4,i=Math.floor(i)||8,n=Math.floor(n)||6,s=s||Math.PI*2;const r=[],a=[],o=[],c=[],p=new P,f=new P,l=new P;for(let u=0;u<=i;u++)for(let m=0;m<=n;m++){const d=m/n*s,y=u/i*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(d),f.y=(e+t*Math.cos(y))*Math.sin(d),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),p.x=e*Math.cos(d),p.y=e*Math.sin(d),l.subVectors(f,p).normalize(),o.push(l.x,l.y,l.z),c.push(m/n),c.push(u/i)}for(let u=1;u<=i;u++)for(let m=1;m<=n;m++){const d=(n+1)*u+m-1,y=(n+1)*(u-1)+m-1,_=(n+1)*(u-1)+m,h=(n+1)*u+m;r.push(d,y,h),r.push(y,_,h)}this.setIndex(r),this.setAttribute("position",new $e(a,3)),this.setAttribute("normal",new $e(o,3)),this.setAttribute("uv",new $e(c,2))}yc.prototype=Object.create(We.prototype);yc.prototype.constructor=yc;const yC={triangulate:function(e,t,i){i=i||2;let n=t&&t.length,s=n?t[0]*i:e.length,r=Z6(e,0,s,i,!0),a=[];if(!r||r.next===r.prev)return a;let o,c,p,f,l,u,m;if(n&&(r=bC(e,t,r,i)),e.length>80*i){o=p=e[0],c=f=e[1];for(let d=i;d<s;d+=i)l=e[d],u=e[d+1],l<o&&(o=l),u<c&&(c=u),l>p&&(p=l),u>f&&(f=u);m=Math.max(p-o,f-c),m=m!==0?1/m:0}return lf(r,a,i,o,c,m),a}};function Z6(e,t,i,n,s){let r,a;if(s===RC(e,t,i,n)>0)for(r=t;r<i;r+=n)a=Ry(r,e[r],e[r+1],a);else for(r=i-n;r>=t;r-=n)a=Ry(r,e[r],e[r+1],a);return a&&Ju(a,a.next)&&(mf(a),a=a.next),a}function pa(e,t){if(!e)return e;t||(t=e);let i=e,n;do if(n=!1,!i.steiner&&(Ju(i,i.next)||wi(i.prev,i,i.next)===0)){if(mf(i),i=t=i.prev,i===i.next)break;n=!0}else i=i.next;while(n||i!==t);return t}function lf(e,t,i,n,s,r,a){if(!e)return;!a&&r&&CC(e,n,s,r);let o=e,c,p;for(;e.prev!==e.next;){if(c=e.prev,p=e.next,r?wC(e,n,s,r):gC(e)){t.push(c.i/i),t.push(e.i/i),t.push(p.i/i),mf(e),e=p.next,o=p.next;continue}if(e=p,e===o){a?a===1?(e=EC(pa(e),t,i),lf(e,t,i,n,s,r,2)):a===2&&vC(e,t,i,n,s,r):lf(pa(e),t,i,n,s,r,1);break}}}function gC(e){let t=e.prev,i=e,n=e.next;if(wi(t,i,n)>=0)return!1;let s=e.next.next;for(;s!==e.prev;){if(Jo(t.x,t.y,i.x,i.y,n.x,n.y,s.x,s.y)&&wi(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function wC(e,t,i,n){let s=e.prev,r=e,a=e.next;if(wi(s,r,a)>=0)return!1;let o=s.x<r.x?s.x<a.x?s.x:a.x:r.x<a.x?r.x:a.x,c=s.y<r.y?s.y<a.y?s.y:a.y:r.y<a.y?r.y:a.y,p=s.x>r.x?s.x>a.x?s.x:a.x:r.x>a.x?r.x:a.x,f=s.y>r.y?s.y>a.y?s.y:a.y:r.y>a.y?r.y:a.y,l=rh(o,c,t,i,n),u=rh(p,f,t,i,n),m=e.prevZ,d=e.nextZ;for(;m&&m.z>=l&&d&&d.z<=u;){if(m!==e.prev&&m!==e.next&&Jo(s.x,s.y,r.x,r.y,a.x,a.y,m.x,m.y)&&wi(m.prev,m,m.next)>=0||(m=m.prevZ,d!==e.prev&&d!==e.next&&Jo(s.x,s.y,r.x,r.y,a.x,a.y,d.x,d.y)&&wi(d.prev,d,d.next)>=0))return!1;d=d.nextZ}for(;m&&m.z>=l;){if(m!==e.prev&&m!==e.next&&Jo(s.x,s.y,r.x,r.y,a.x,a.y,m.x,m.y)&&wi(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;d&&d.z<=u;){if(d!==e.prev&&d!==e.next&&Jo(s.x,s.y,r.x,r.y,a.x,a.y,d.x,d.y)&&wi(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function EC(e,t,i){let n=e;do{let s=n.prev,r=n.next.next;!Ju(s,r)&&e4(s,n,n.next,r)&&uf(s,r)&&uf(r,s)&&(t.push(s.i/i),t.push(n.i/i),t.push(r.i/i),mf(n),mf(n.next),n=e=r),n=n.next}while(n!==e);return pa(n)}function vC(e,t,i,n,s,r){let a=e;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&IC(a,o)){let c=t4(a,o);a=pa(a,a.next),c=pa(c,c.next),lf(a,t,i,n,s,r),lf(c,t,i,n,s,r);return}o=o.next}a=a.next}while(a!==e)}function bC(e,t,i,n){let s=[],r,a,o,c,p;for(r=0,a=t.length;r<a;r++)o=t[r]*n,c=r<a-1?t[r+1]*n:e.length,p=Z6(e,o,c,n,!1),p===p.next&&(p.steiner=!0),s.push(TC(p));for(s.sort(xC),r=0;r<s.length;r++)SC(s[r],i),i=pa(i,i.next);return i}function xC(e,t){return e.x-t.x}function SC(e,t){if(t=MC(e,t),t){const i=t4(t,e);pa(t,t.next),pa(i,i.next)}}function MC(e,t){let i=t,n=e.x,s=e.y,r=-1/0,a;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){let u=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(u<=n&&u>r){if(r=u,u===n){if(s===i.y)return i;if(s===i.next.y)return i.next}a=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!a)return null;if(n===r)return a;let o=a,c=a.x,p=a.y,f=1/0,l;i=a;do n>=i.x&&i.x>=c&&n!==i.x&&Jo(s<p?n:r,s,c,p,s<p?r:n,s,i.x,i.y)&&(l=Math.abs(s-i.y)/(n-i.x),uf(i,e)&&(l<f||l===f&&(i.x>a.x||i.x===a.x&&AC(a,i)))&&(a=i,f=l)),i=i.next;while(i!==o);return a}function AC(e,t){return wi(e.prev,e,t.prev)<0&&wi(t.next,e,e.next)<0}function CC(e,t,i,n){let s=e;do s.z===null&&(s.z=rh(s.x,s.y,t,i,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,PC(s)}function PC(e){let t,i,n,s,r,a,o,c,p=1;do{for(i=e,e=null,r=null,a=0;i;){for(a++,n=i,o=0,t=0;t<p&&(o++,n=n.nextZ,!!n);t++);for(c=p;o>0||c>0&&n;)o!==0&&(c===0||!n||i.z<=n.z)?(s=i,i=i.nextZ,o--):(s=n,n=n.nextZ,c--),r?r.nextZ=s:e=s,s.prevZ=r,r=s;i=n}r.nextZ=null,p*=2}while(a>1);return e}function rh(e,t,i,n,s){return e=32767*(e-i)*s,t=32767*(t-n)*s,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function TC(e){let t=e,i=e;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==e);return i}function Jo(e,t,i,n,s,r,a,o){return(s-a)*(t-o)-(e-a)*(r-o)>=0&&(e-a)*(n-o)-(i-a)*(t-o)>=0&&(i-a)*(r-o)-(s-a)*(n-o)>=0}function IC(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!LC(e,t)&&(uf(e,t)&&uf(t,e)&&FC(e,t)&&(wi(e.prev,e,t.prev)||wi(e,t.prev,t))||Ju(e,t)&&wi(e.prev,e,e.next)>0&&wi(t.prev,t,t.next)>0)}function wi(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function Ju(e,t){return e.x===t.x&&e.y===t.y}function e4(e,t,i,n){const s=L0(wi(e,t,i)),r=L0(wi(e,t,n)),a=L0(wi(i,n,e)),o=L0(wi(i,n,t));return!!(s!==r&&a!==o||s===0&&I0(e,i,t)||r===0&&I0(e,n,t)||a===0&&I0(i,e,n)||o===0&&I0(i,t,n))}function I0(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function L0(e){return e>0?1:e<0?-1:0}function LC(e,t){let i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&e4(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function uf(e,t){return wi(e.prev,e,e.next)<0?wi(e,t,e.next)>=0&&wi(e,e.prev,t)>=0:wi(e,t,e.prev)<0||wi(e,e.next,t)<0}function FC(e,t){let i=e,n=!1,s=(e.x+t.x)/2,r=(e.y+t.y)/2;do i.y>r!=i.next.y>r&&i.next.y!==i.y&&s<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==e);return n}function t4(e,t){let i=new ah(e.i,e.x,e.y),n=new ah(t.i,t.x,t.y),s=e.next,r=t.prev;return e.next=t,t.prev=e,i.next=s,s.prev=i,n.next=i,i.prev=n,r.next=n,n.prev=r,n}function Ry(e,t,i,n){const s=new ah(e,t,i);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function mf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ah(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function RC(e,t,i,n){let s=0;for(let r=t,a=i-n;r<i;r+=n)s+=(e[a]-e[r])*(e[r+1]+e[a+1]),a=r;return s}const ia={area:function(e){const t=e.length;let i=0;for(let n=t-1,s=0;s<t;n=s++)i+=e[n].x*e[s].y-e[s].x*e[n].y;return i*.5},isClockWise:function(e){return ia.area(e)<0},triangulateShape:function(e,t){const i=[],n=[],s=[];Ny(e),Dy(i,e);let r=e.length;t.forEach(Ny);for(let o=0;o<t.length;o++)n.push(r),r+=t[o].length,Dy(i,t[o]);const a=yC.triangulate(i,n);for(let o=0;o<a.length;o+=3)s.push(a.slice(o,o+3));return s}};function Ny(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Dy(e,t){for(let i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}function gc(e,t){ut.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Er(e,t)),this.mergeVertices()}gc.prototype=Object.create(ut.prototype);gc.prototype.constructor=gc;gc.prototype.toJSON=function(){const e=ut.prototype.toJSON.call(this),t=this.parameters.shapes,i=this.parameters.options;return i4(t,i,e)};function Er(e,t){We.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,n=[],s=[];for(let a=0,o=e.length;a<o;a++){const c=e[a];r(c)}this.setAttribute("position",new $e(n,3)),this.setAttribute("uv",new $e(s,2)),this.computeVertexNormals();function r(a){const o=[],c=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1;let f=t.depth!==void 0?t.depth:100,l=t.bevelEnabled!==void 0?t.bevelEnabled:!0,u=t.bevelThickness!==void 0?t.bevelThickness:6,m=t.bevelSize!==void 0?t.bevelSize:u-2,d=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,h=t.UVGenerator!==void 0?t.UVGenerator:NC;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),f=t.amount);let g,E=!1,w,v,x,b;_&&(g=_.getSpacedPoints(p),E=!0,l=!1,w=_.computeFrenetFrames(p,!1),v=new P,x=new P,b=new P),l||(y=0,u=0,m=0,d=0);const A=a.extractPoints(c);let M=A.shape;const G=A.holes;if(!ia.isClockWise(M)){M=M.reverse();for(let W=0,Z=G.length;W<Z;W++){const ie=G[W];ia.isClockWise(ie)&&(G[W]=ie.reverse())}}const N=ia.triangulateShape(M,G),D=M;for(let W=0,Z=G.length;W<Z;W++){const ie=G[W];M=M.concat(ie)}function L(W,Z,ie){return Z||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().multiplyScalar(ie).add(W)}const C=M.length,O=N.length;function q(W,Z,ie){let ue,he,ge;const k=W.x-Z.x,H=W.y-Z.y,me=ie.x-W.x,oe=ie.y-W.y,te=k*k+H*H,se=k*oe-H*me;if(Math.abs(se)>Number.EPSILON){const we=Math.sqrt(te),Me=Math.sqrt(me*me+oe*oe),_e=Z.x-H/we,Se=Z.y+k/we,Ee=ie.x-oe/Me,Re=ie.y+me/Me,Pe=((Ee-_e)*oe-(Re-Se)*me)/(k*oe-H*me);ue=_e+k*Pe-W.x,he=Se+H*Pe-W.y;const Ae=ue*ue+he*he;if(Ae<=2)return new Te(ue,he);ge=Math.sqrt(Ae/2)}else{let we=!1;k>Number.EPSILON?me>Number.EPSILON&&(we=!0):k<-Number.EPSILON?me<-Number.EPSILON&&(we=!0):Math.sign(H)===Math.sign(oe)&&(we=!0),we?(ue=-H,he=k,ge=Math.sqrt(te)):(ue=k,he=H,ge=Math.sqrt(te/2))}return new Te(ue/ge,he/ge)}const z=[];for(let W=0,Z=D.length,ie=Z-1,ue=W+1;W<Z;W++,ie++,ue++)ie===Z&&(ie=0),ue===Z&&(ue=0),z[W]=q(D[W],D[ie],D[ue]);const $=[];let re,K=z.concat();for(let W=0,Z=G.length;W<Z;W++){const ie=G[W];re=[];for(let ue=0,he=ie.length,ge=he-1,k=ue+1;ue<he;ue++,ge++,k++)ge===he&&(ge=0),k===he&&(k=0),re[ue]=q(ie[ue],ie[ge],ie[k]);$.push(re),K=K.concat(re)}for(let W=0;W<y;W++){const Z=W/y,ie=u*Math.cos(Z*Math.PI/2),ue=m*Math.sin(Z*Math.PI/2)+d;for(let he=0,ge=D.length;he<ge;he++){const k=L(D[he],z[he],ue);X(k.x,k.y,-ie)}for(let he=0,ge=G.length;he<ge;he++){const k=G[he];re=$[he];for(let H=0,me=k.length;H<me;H++){const oe=L(k[H],re[H],ue);X(oe.x,oe.y,-ie)}}}const J=m+d;for(let W=0;W<C;W++){const Z=l?L(M[W],K[W],J):M[W];E?(x.copy(w.normals[0]).multiplyScalar(Z.x),v.copy(w.binormals[0]).multiplyScalar(Z.y),b.copy(g[0]).add(x).add(v),X(b.x,b.y,b.z)):X(Z.x,Z.y,0)}for(let W=1;W<=p;W++)for(let Z=0;Z<C;Z++){const ie=l?L(M[Z],K[Z],J):M[Z];E?(x.copy(w.normals[W]).multiplyScalar(ie.x),v.copy(w.binormals[W]).multiplyScalar(ie.y),b.copy(g[W]).add(x).add(v),X(b.x,b.y,b.z)):X(ie.x,ie.y,f/p*W)}for(let W=y-1;W>=0;W--){const Z=W/y,ie=u*Math.cos(Z*Math.PI/2),ue=m*Math.sin(Z*Math.PI/2)+d;for(let he=0,ge=D.length;he<ge;he++){const k=L(D[he],z[he],ue);X(k.x,k.y,f+ie)}for(let he=0,ge=G.length;he<ge;he++){const k=G[he];re=$[he];for(let H=0,me=k.length;H<me;H++){const oe=L(k[H],re[H],ue);E?X(oe.x,oe.y+g[p-1].y,g[p-1].x+ie):X(oe.x,oe.y,f+ie)}}}Y(),le();function Y(){const W=n.length/3;if(l){let Z=0,ie=C*Z;for(let ue=0;ue<O;ue++){const he=N[ue];ae(he[2]+ie,he[1]+ie,he[0]+ie)}Z=p+y*2,ie=C*Z;for(let ue=0;ue<O;ue++){const he=N[ue];ae(he[0]+ie,he[1]+ie,he[2]+ie)}}else{for(let Z=0;Z<O;Z++){const ie=N[Z];ae(ie[2],ie[1],ie[0])}for(let Z=0;Z<O;Z++){const ie=N[Z];ae(ie[0]+C*p,ie[1]+C*p,ie[2]+C*p)}}i.addGroup(W,n.length/3-W,0)}function le(){const W=n.length/3;let Z=0;fe(D,Z),Z+=D.length;for(let ie=0,ue=G.length;ie<ue;ie++){const he=G[ie];fe(he,Z),Z+=he.length}i.addGroup(W,n.length/3-W,1)}function fe(W,Z){let ie=W.length;for(;--ie>=0;){const ue=ie;let he=ie-1;he<0&&(he=W.length-1);for(let ge=0,k=p+y*2;ge<k;ge++){const H=C*ge,me=C*(ge+1),oe=Z+ue+H,te=Z+he+H,se=Z+he+me,we=Z+ue+me;ne(oe,te,se,we)}}}function X(W,Z,ie){o.push(W),o.push(Z),o.push(ie)}function ae(W,Z,ie){pe(W),pe(Z),pe(ie);const ue=n.length/3,he=h.generateTopUV(i,n,ue-3,ue-2,ue-1);U(he[0]),U(he[1]),U(he[2])}function ne(W,Z,ie,ue){pe(W),pe(Z),pe(ue),pe(Z),pe(ie),pe(ue);const he=n.length/3,ge=h.generateSideWallUV(i,n,he-6,he-3,he-2,he-1);U(ge[0]),U(ge[1]),U(ge[3]),U(ge[1]),U(ge[2]),U(ge[3])}function pe(W){n.push(o[W*3+0]),n.push(o[W*3+1]),n.push(o[W*3+2])}function U(W){s.push(W.x),s.push(W.y)}}}Er.prototype=Object.create(We.prototype);Er.prototype.constructor=Er;Er.prototype.toJSON=function(){const e=We.prototype.toJSON.call(this),t=this.parameters.shapes,i=this.parameters.options;return i4(t,i,e)};const NC={generateTopUV:function(e,t,i,n,s){const r=t[i*3],a=t[i*3+1],o=t[n*3],c=t[n*3+1],p=t[s*3],f=t[s*3+1];return[new Te(r,a),new Te(o,c),new Te(p,f)]},generateSideWallUV:function(e,t,i,n,s,r){const a=t[i*3],o=t[i*3+1],c=t[i*3+2],p=t[n*3],f=t[n*3+1],l=t[n*3+2],u=t[s*3],m=t[s*3+1],d=t[s*3+2],y=t[r*3],_=t[r*3+1],h=t[r*3+2];return Math.abs(o-f)<.01?[new Te(a,1-c),new Te(p,1-l),new Te(u,1-d),new Te(y,1-h)]:[new Te(o,1-c),new Te(f,1-l),new Te(m,1-d),new Te(_,1-h)]}};function i4(e,t,i){if(i.shapes=[],Array.isArray(e))for(let n=0,s=e.length;n<s;n++){const r=e[n];i.shapes.push(r.uuid)}else i.shapes.push(e.uuid);return t.extrudePath!==void 0&&(i.options.extrudePath=t.extrudePath.toJSON()),i}function mu(e,t){ut.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new df(e,t)),this.mergeVertices()}mu.prototype=Object.create(ut.prototype);mu.prototype.constructor=mu;function df(e,t){t=t||{};const i=t.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ut;const n=i.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),Er.call(this,n,t),this.type="TextBufferGeometry"}df.prototype=Object.create(Er.prototype);df.prototype.constructor=df;function du(e,t,i,n,s,r,a){ut.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:s,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new wc(e,t,i,n,s,r,a)),this.mergeVertices()}du.prototype=Object.create(ut.prototype);du.prototype.constructor=du;function wc(e,t,i,n,s,r,a){We.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:s,thetaStart:r,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),n=n!==void 0?n:0,s=s!==void 0?s:Math.PI*2,r=r!==void 0?r:0,a=a!==void 0?a:Math.PI;const o=Math.min(r+a,Math.PI);let c=0;const p=[],f=new P,l=new P,u=[],m=[],d=[],y=[];for(let _=0;_<=i;_++){const h=[],g=_/i;let E=0;_==0&&r==0?E=.5/t:_==i&&o==Math.PI&&(E=-.5/t);for(let w=0;w<=t;w++){const v=w/t;f.x=-e*Math.cos(n+v*s)*Math.sin(r+g*a),f.y=e*Math.cos(r+g*a),f.z=e*Math.sin(n+v*s)*Math.sin(r+g*a),m.push(f.x,f.y,f.z),l.copy(f).normalize(),d.push(l.x,l.y,l.z),y.push(v+E,1-g),h.push(c++)}p.push(h)}for(let _=0;_<i;_++)for(let h=0;h<t;h++){const g=p[_][h+1],E=p[_][h],w=p[_+1][h],v=p[_+1][h+1];(_!==0||r>0)&&u.push(g,E,v),(_!==i-1||o<Math.PI)&&u.push(E,w,v)}this.setIndex(u),this.setAttribute("position",new $e(m,3)),this.setAttribute("normal",new $e(d,3)),this.setAttribute("uv",new $e(y,2))}wc.prototype=Object.create(We.prototype);wc.prototype.constructor=wc;function hu(e,t,i,n,s,r){ut.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:s,thetaLength:r},this.fromBufferGeometry(new hf(e,t,i,n,s,r)),this.mergeVertices()}hu.prototype=Object.create(ut.prototype);hu.prototype.constructor=hu;function hf(e,t,i,n,s,r){We.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:s,thetaLength:r},e=e||.5,t=t||1,s=s!==void 0?s:0,r=r!==void 0?r:Math.PI*2,i=i!==void 0?Math.max(3,i):8,n=n!==void 0?Math.max(1,n):1;const a=[],o=[],c=[],p=[];let f=e;const l=(t-e)/n,u=new P,m=new Te;for(let d=0;d<=n;d++){for(let y=0;y<=i;y++){const _=s+y/i*r;u.x=f*Math.cos(_),u.y=f*Math.sin(_),o.push(u.x,u.y,u.z),c.push(0,0,1),m.x=(u.x/t+1)/2,m.y=(u.y/t+1)/2,p.push(m.x,m.y)}f+=l}for(let d=0;d<n;d++){const y=d*(i+1);for(let _=0;_<i;_++){const h=_+y,g=h,E=h+i+1,w=h+i+2,v=h+1;a.push(g,E,v),a.push(E,w,v)}}this.setIndex(a),this.setAttribute("position",new $e(o,3)),this.setAttribute("normal",new $e(c,3)),this.setAttribute("uv",new $e(p,2))}hf.prototype=Object.create(We.prototype);hf.prototype.constructor=hf;function _u(e,t,i,n){ut.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},this.fromBufferGeometry(new _f(e,t,i,n)),this.mergeVertices()}_u.prototype=Object.create(ut.prototype);_u.prototype.constructor=_u;function _f(e,t,i,n){We.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},t=Math.floor(t)||12,i=i||0,n=n||Math.PI*2,n=Pt.clamp(n,0,Math.PI*2);const s=[],r=[],a=[],o=1/t,c=new P,p=new Te;for(let f=0;f<=t;f++){const l=i+f*o*n,u=Math.sin(l),m=Math.cos(l);for(let d=0;d<=e.length-1;d++)c.x=e[d].x*u,c.y=e[d].y,c.z=e[d].x*m,r.push(c.x,c.y,c.z),p.x=f/t,p.y=d/(e.length-1),a.push(p.x,p.y)}for(let f=0;f<t;f++)for(let l=0;l<e.length-1;l++){const u=l+f*e.length,m=u,d=u+e.length,y=u+e.length+1,_=u+1;s.push(m,d,_),s.push(d,y,_)}if(this.setIndex(s),this.setAttribute("position",new $e(r,3)),this.setAttribute("uv",new $e(a,2)),this.computeVertexNormals(),n===Math.PI*2){const f=this.attributes.normal.array,l=new P,u=new P,m=new P,d=t*e.length*3;for(let y=0,_=0;y<e.length;y++,_+=3)l.x=f[_+0],l.y=f[_+1],l.z=f[_+2],u.x=f[d+_+0],u.y=f[d+_+1],u.z=f[d+_+2],m.addVectors(l,u).normalize(),f[_+0]=f[d+_+0]=m.x,f[_+1]=f[d+_+1]=m.y,f[_+2]=f[d+_+2]=m.z}}_f.prototype=Object.create(We.prototype);_f.prototype.constructor=_f;function Ec(e,t){ut.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new vc(e,t)),this.mergeVertices()}Ec.prototype=Object.create(ut.prototype);Ec.prototype.constructor=Ec;Ec.prototype.toJSON=function(){const e=ut.prototype.toJSON.call(this),t=this.parameters.shapes;return n4(t,e)};function vc(e,t){We.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const i=[],n=[],s=[],r=[];let a=0,o=0;if(Array.isArray(e)===!1)c(e);else for(let p=0;p<e.length;p++)c(e[p]),this.addGroup(a,o,p),a+=o,o=0;this.setIndex(i),this.setAttribute("position",new $e(n,3)),this.setAttribute("normal",new $e(s,3)),this.setAttribute("uv",new $e(r,2));function c(p){const f=n.length/3,l=p.extractPoints(t);let u=l.shape;const m=l.holes;ia.isClockWise(u)===!1&&(u=u.reverse());for(let y=0,_=m.length;y<_;y++){const h=m[y];ia.isClockWise(h)===!0&&(m[y]=h.reverse())}const d=ia.triangulateShape(u,m);for(let y=0,_=m.length;y<_;y++){const h=m[y];u=u.concat(h)}for(let y=0,_=u.length;y<_;y++){const h=u[y];n.push(h.x,h.y,0),s.push(0,0,1),r.push(h.x,h.y)}for(let y=0,_=d.length;y<_;y++){const h=d[y],g=h[0]+f,E=h[1]+f,w=h[2]+f;i.push(g,E,w),o+=3}}}vc.prototype=Object.create(We.prototype);vc.prototype.constructor=vc;vc.prototype.toJSON=function(){const e=We.prototype.toJSON.call(this),t=this.parameters.shapes;return n4(t,e)};function n4(e,t){if(t.shapes=[],Array.isArray(e))for(let i=0,n=e.length;i<n;i++){const s=e[i];t.shapes.push(s.uuid)}else t.shapes.push(e.uuid);return t}function yu(e,t){We.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;const i=[],n=Math.cos(Pt.DEG2RAD*t),s=[0,0],r={};let a,o,c;const p=["a","b","c"];let f;e.isBufferGeometry?(f=new ut,f.fromBufferGeometry(e)):f=e.clone(),f.mergeVertices(),f.computeFaceNormals();const l=f.vertices,u=f.faces;for(let m=0,d=u.length;m<d;m++){const y=u[m];for(let _=0;_<3;_++)a=y[p[_]],o=y[p[(_+1)%3]],s[0]=Math.min(a,o),s[1]=Math.max(a,o),c=s[0]+","+s[1],r[c]===void 0?r[c]={index1:s[0],index2:s[1],face1:m,face2:void 0}:r[c].face2=m}for(c in r){const m=r[c];if(m.face2===void 0||u[m.face1].normal.dot(u[m.face2].normal)<=n){let d=l[m.index1];i.push(d.x,d.y,d.z),d=l[m.index2],i.push(d.x,d.y,d.z)}}this.setAttribute("position",new $e(i,3))}yu.prototype=Object.create(We.prototype);yu.prototype.constructor=yu;function bc(e,t,i,n,s,r,a,o){ut.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:s,openEnded:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new vr(e,t,i,n,s,r,a,o)),this.mergeVertices()}bc.prototype=Object.create(ut.prototype);bc.prototype.constructor=bc;function vr(e,t,i,n,s,r,a,o){We.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:s,openEnded:r,thetaStart:a,thetaLength:o};const c=this;e=e!==void 0?e:1,t=t!==void 0?t:1,i=i||1,n=Math.floor(n)||8,s=Math.floor(s)||1,r=r!==void 0?r:!1,a=a!==void 0?a:0,o=o!==void 0?o:Math.PI*2;const p=[],f=[],l=[],u=[];let m=0;const d=[],y=i/2;let _=0;h(),r===!1&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(p),this.setAttribute("position",new $e(f,3)),this.setAttribute("normal",new $e(l,3)),this.setAttribute("uv",new $e(u,2));function h(){const E=new P,w=new P;let v=0;const x=(t-e)/i;for(let b=0;b<=s;b++){const A=[],M=b/s,G=M*(t-e)+e;for(let T=0;T<=n;T++){const N=T/n,D=N*o+a,L=Math.sin(D),C=Math.cos(D);w.x=G*L,w.y=-M*i+y,w.z=G*C,f.push(w.x,w.y,w.z),E.set(L,x,C).normalize(),l.push(E.x,E.y,E.z),u.push(N,1-M),A.push(m++)}d.push(A)}for(let b=0;b<n;b++)for(let A=0;A<s;A++){const M=d[A][b],G=d[A+1][b],T=d[A+1][b+1],N=d[A][b+1];p.push(M,G,N),p.push(G,T,N),v+=6}c.addGroup(_,v,0),_+=v}function g(E){let w,v;const x=new Te,b=new P;let A=0;const M=E===!0?e:t,G=E===!0?1:-1;w=m;for(let T=1;T<=n;T++)f.push(0,y*G,0),l.push(0,G,0),u.push(.5,.5),m++;v=m;for(let T=0;T<=n;T++){const D=T/n*o+a,L=Math.cos(D),C=Math.sin(D);b.x=M*C,b.y=y*G,b.z=M*L,f.push(b.x,b.y,b.z),l.push(0,G,0),x.x=L*.5+.5,x.y=C*.5*G+.5,u.push(x.x,x.y),m++}for(let T=0;T<n;T++){const N=w+T,D=v+T;E===!0?p.push(D,D+1,N):p.push(D+1,D,N),A+=3}c.addGroup(_,A,E===!0?1:2),_+=A}}vr.prototype=Object.create(We.prototype);vr.prototype.constructor=vr;function gu(e,t,i,n,s,r,a){bc.call(this,0,e,t,i,n,s,r,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:s,thetaStart:r,thetaLength:a}}gu.prototype=Object.create(bc.prototype);gu.prototype.constructor=gu;function yf(e,t,i,n,s,r,a){vr.call(this,0,e,t,i,n,s,r,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:s,thetaStart:r,thetaLength:a}}yf.prototype=Object.create(vr.prototype);yf.prototype.constructor=yf;function wu(e,t,i,n){ut.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new gf(e,t,i,n)),this.mergeVertices()}wu.prototype=Object.create(ut.prototype);wu.prototype.constructor=wu;function gf(e,t,i,n){We.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},e=e||1,t=t!==void 0?Math.max(3,t):8,i=i!==void 0?i:0,n=n!==void 0?n:Math.PI*2;const s=[],r=[],a=[],o=[],c=new P,p=new Te;r.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let f=0,l=3;f<=t;f++,l+=3){const u=i+f/t*n;c.x=e*Math.cos(u),c.y=e*Math.sin(u),r.push(c.x,c.y,c.z),a.push(0,0,1),p.x=(r[l]/e+1)/2,p.y=(r[l+1]/e+1)/2,o.push(p.x,p.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new $e(r,3)),this.setAttribute("normal",new $e(a,3)),this.setAttribute("uv",new $e(o,2))}gf.prototype=Object.create(We.prototype);gf.prototype.constructor=gf;var pn=Object.freeze({__proto__:null,WireframeGeometry:nu,ParametricGeometry:su,ParametricBufferGeometry:cf,TetrahedronGeometry:au,TetrahedronBufferGeometry:hc,OctahedronGeometry:ou,OctahedronBufferGeometry:Ja,IcosahedronGeometry:cu,IcosahedronBufferGeometry:Qa,DodecahedronGeometry:pu,DodecahedronBufferGeometry:pf,PolyhedronGeometry:ru,PolyhedronBufferGeometry:Dn,TubeGeometry:fu,TubeBufferGeometry:_c,TorusKnotGeometry:lu,TorusKnotBufferGeometry:ff,TorusGeometry:uu,TorusBufferGeometry:yc,TextGeometry:mu,TextBufferGeometry:df,SphereGeometry:du,SphereBufferGeometry:wc,RingGeometry:hu,RingBufferGeometry:hf,PlaneGeometry:tf,PlaneBufferGeometry:dc,LatheGeometry:_u,LatheBufferGeometry:_f,ShapeGeometry:Ec,ShapeBufferGeometry:vc,ExtrudeGeometry:gc,ExtrudeBufferGeometry:Er,EdgesGeometry:yu,ConeGeometry:gu,ConeBufferGeometry:yf,CylinderGeometry:bc,CylinderBufferGeometry:vr,CircleGeometry:wu,CircleBufferGeometry:gf,BoxGeometry:w9,BoxBufferGeometry:Wf});function xc(e){gt.call(this),this.type="ShadowMaterial",this.color=new Oe(0),this.transparent=!0,this.setValues(e)}xc.prototype=Object.create(gt.prototype);xc.prototype.constructor=xc;xc.prototype.isShadowMaterial=!0;xc.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this};function fa(e){ki.call(this,e),this.type="RawShaderMaterial"}fa.prototype=Object.create(ki.prototype);fa.prototype.constructor=fa;fa.prototype.isRawShaderMaterial=!0;function br(e){gt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Oe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}br.prototype=Object.create(gt.prototype);br.prototype.constructor=br;br.prototype.isMeshStandardMaterial=!0;br.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Sc(e){br.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}Sc.prototype=Object.create(br.prototype);Sc.prototype.constructor=Sc;Sc.prototype.isMeshPhysicalMaterial=!0;Sc.prototype.copy=function(e){return br.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Oe).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this};function Xa(e){gt.call(this),this.type="MeshPhongMaterial",this.color=new Oe(16777215),this.specular=new Oe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$u,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Xa.prototype=Object.create(gt.prototype);Xa.prototype.constructor=Xa;Xa.prototype.isMeshPhongMaterial=!0;Xa.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Mc(e){gt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Oe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Mc.prototype=Object.create(gt.prototype);Mc.prototype.constructor=Mc;Mc.prototype.isMeshToonMaterial=!0;Mc.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Ac(e){gt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ac.prototype=Object.create(gt.prototype);Ac.prototype.constructor=Ac;Ac.prototype.isMeshNormalMaterial=!0;Ac.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Cc(e){gt.call(this),this.type="MeshLambertMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$u,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Cc.prototype=Object.create(gt.prototype);Cc.prototype.constructor=Cc;Cc.prototype.isMeshLambertMaterial=!0;Cc.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Pc(e){gt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Oe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Pc.prototype=Object.create(gt.prototype);Pc.prototype.constructor=Pc;Pc.prototype.isMeshMatcapMaterial=!0;Pc.prototype.copy=function(e){return gt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Tc(e){Pi.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Tc.prototype=Object.create(Pi.prototype);Tc.prototype.constructor=Tc;Tc.prototype.isLineDashedMaterial=!0;Tc.prototype.copy=function(e){return Pi.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var DC=Object.freeze({__proto__:null,ShadowMaterial:xc,SpriteMaterial:Ka,RawShaderMaterial:fa,ShaderMaterial:ki,PointsMaterial:Ya,MeshPhysicalMaterial:Sc,MeshStandardMaterial:br,MeshPhongMaterial:Xa,MeshToonMaterial:Mc,MeshNormalMaterial:Ac,MeshLambertMaterial:Cc,MeshDepthMaterial:Wa,MeshDistanceMaterial:ja,MeshBasicMaterial:gs,MeshMatcapMaterial:Pc,LineDashedMaterial:Tc,LineBasicMaterial:Pi,Material:gt});const _i={arraySlice:function(e,t,i){return _i.isTypedArray(e)?new e.constructor(e.subarray(t,i!==void 0?i:e.length)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(s,r){return e[s]-e[r]}const i=e.length,n=new Array(i);for(let s=0;s!==i;++s)n[s]=s;return n.sort(t),n},sortedArray:function(e,t,i){const n=e.length,s=new e.constructor(n);for(let r=0,a=0;a!==n;++r){const o=i[r]*t;for(let c=0;c!==t;++c)s[a++]=e[o+c]}return s},flattenJSON:function(e,t,i,n){let s=1,r=e[0];for(;r!==void 0&&r[n]===void 0;)r=e[s++];if(r===void 0)return;let a=r[n];if(a!==void 0)if(Array.isArray(a))do a=r[n],a!==void 0&&(t.push(r.time),i.push.apply(i,a)),r=e[s++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[n],a!==void 0&&(t.push(r.time),a.toArray(i,i.length)),r=e[s++];while(r!==void 0);else do a=r[n],a!==void 0&&(t.push(r.time),i.push(a)),r=e[s++];while(r!==void 0)},subclip:function(e,t,i,n,s){s=s||30;const r=e.clone();r.name=t;const a=[];for(let c=0;c<r.tracks.length;++c){const p=r.tracks[c],f=p.getValueSize(),l=[],u=[];for(let m=0;m<p.times.length;++m){const d=p.times[m]*s;if(!(d<i||d>=n)){l.push(p.times[m]);for(let y=0;y<f;++y)u.push(p.values[m*f+y])}}l.length!==0&&(p.times=_i.convertArray(l,p.times.constructor),p.values=_i.convertArray(u,p.values.constructor),a.push(p))}r.tracks=a;let o=1/0;for(let c=0;c<r.tracks.length;++c)o>r.tracks[c].times[0]&&(o=r.tracks[c].times[0]);for(let c=0;c<r.tracks.length;++c)r.tracks[c].shift(-1*o);return r.resetDuration(),r},makeClipAdditive:function(e,t,i,n){t===void 0&&(t=0),i===void 0&&(i=e),(n===void 0||n<=0)&&(n=30);const s=e.tracks.length,r=t/n;for(let a=0;a<s;++a){const o=i.tracks[a],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const p=e.tracks.find(function(d){return d.name===o.name&&d.ValueTypeName===c});if(p===void 0)continue;const f=o.getValueSize(),l=o.times.length-1;let u;if(r<=o.times[0])u=_i.arraySlice(o.values,0,o.valueSize);else if(r>=o.times[l]){const d=l*f;u=_i.arraySlice(o.values,d)}else{const d=o.createInterpolant();d.evaluate(r),u=d.resultBuffer}c==="quaternion"&&new ri(u[0],u[1],u[2],u[3]).normalize().conjugate().toArray(u);const m=p.times.length;for(let d=0;d<m;++d){const y=d*f;if(c==="quaternion")ri.multiplyQuaternionsFlat(p.values,y,u,0,p.values,y);else for(let _=0;_<f;++_)p.values[y+_]-=u[_]}}return e.blendMode=N6,e}};function Yn(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i}Object.assign(Yn.prototype,{evaluate:function(e){let t=this.parameterPositions,i=this._cachedIndex,n=t[i],s=t[i-1];e:{t:{let r;i:{n:if(!(e<n)){for(let a=i+2;;){if(n===void 0){if(e<s)break n;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,s)}if(i===a)break;if(s=n,n=t[++i],e<n)break t}r=t.length;break i}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let o=i-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(i===o)break;if(n=s,s=t[--i-1],e>=s)break t}r=i,i=0;break i}break e}for(;i<r;){const a=i+r>>>1;e<t[a]?r=a:i=a+1}if(n=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(n===void 0)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,s,e)}this._cachedIndex=i,this.intervalChanged_(i,s,n)}return this.interpolate_(i,s,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,s=e*n;for(let r=0;r!==n;++r)t[r]=i[s+r];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Yn.prototype,{beforeStart_:Yn.prototype.copySampleValue_,afterEnd_:Yn.prototype.copySampleValue_});function oh(e,t,i,n){Yn.call(this,e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}oh.prototype=Object.assign(Object.create(Yn.prototype),{constructor:oh,DefaultSettings_:{endingStart:lc,endingEnd:lc},intervalChanged_:function(e,t,i){let n=this.parameterPositions,s=e-2,r=e+1,a=n[s],o=n[r];if(a===void 0)switch(this.getSettings_().endingStart){case jo:s=e,a=2*t-i;break;case Ql:s=n.length-2,a=t+n[s]-n[s+1];break;default:s=e,a=i}if(o===void 0)switch(this.getSettings_().endingEnd){case jo:r=e,o=2*i-t;break;case Ql:r=1,o=i+n[1]-n[0];break;default:r=e-1,o=t}const c=(i-t)*.5,p=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(o-i),this._offsetPrev=s*p,this._offsetNext=r*p},interpolate_:function(e,t,i,n){const s=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a,c=o-a,p=this._offsetPrev,f=this._offsetNext,l=this._weightPrev,u=this._weightNext,m=(i-t)/(n-t),d=m*m,y=d*m,_=-l*y+2*l*d-l*m,h=(1+l)*y+(-1.5-2*l)*d+(-.5+l)*m+1,g=(-1-u)*y+(1.5+u)*d+.5*m,E=u*y-u*d;for(let w=0;w!==a;++w)s[w]=_*r[p+w]+h*r[c+w]+g*r[o+w]+E*r[f+w];return s}});function Eu(e,t,i,n){Yn.call(this,e,t,i,n)}Eu.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Eu,interpolate_:function(e,t,i,n){const s=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a,c=o-a,p=(i-t)/(n-t),f=1-p;for(let l=0;l!==a;++l)s[l]=r[c+l]*f+r[o+l]*p;return s}});function ch(e,t,i,n){Yn.call(this,e,t,i,n)}ch.prototype=Object.assign(Object.create(Yn.prototype),{constructor:ch,interpolate_:function(e){return this.copySampleValue_(e-1)}});function on(e,t,i,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_i.convertArray(t,this.TimeBufferType),this.values=_i.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}Object.assign(on,{toJSON:function(e){const t=e.constructor;let i;if(t.toJSON!==void 0)i=t.toJSON(e);else{i={name:e.name,times:_i.convertArray(e.times,Array),values:_i.convertArray(e.values,Array)};const n=e.getInterpolation();n!==e.DefaultInterpolation&&(i.interpolation=n)}return i.type=e.ValueTypeName,i}});Object.assign(on.prototype,{constructor:on,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:yl,InterpolantFactoryMethodDiscrete:function(e){return new ch(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Eu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new oh(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Jl:t=this.InterpolantFactoryMethodDiscrete;break;case yl:t=this.InterpolantFactoryMethodLinear;break;case P1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jl;case this.InterpolantFactoryMethodLinear:return yl;case this.InterpolantFactoryMethodSmooth:return P1}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]*=e}return this},trim:function(e,t){const i=this.times,n=i.length;let s=0,r=n-1;for(;s!==n&&i[s]<e;)++s;for(;r!==-1&&i[r]>t;)--r;if(++r,s!==0||r!==n){s>=r&&(r=Math.max(r,1),s=r-1);const a=this.getValueSize();this.times=_i.arraySlice(i,s,r),this.values=_i.arraySlice(this.values,s*a,r*a)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,n=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let r=null;for(let a=0;a!==s;a++){const o=i[a];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),e=!1;break}if(r!==null&&r>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,r),e=!1;break}r=o}if(n!==void 0&&_i.isTypedArray(n))for(let a=0,o=n.length;a!==o;++a){const c=n[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e},optimize:function(){const e=_i.arraySlice(this.times),t=_i.arraySlice(this.values),i=this.getValueSize(),n=this.getInterpolation()===P1,s=e.length-1;let r=1;for(let a=1;a<s;++a){let o=!1;const c=e[a],p=e[a+1];if(c!==p&&(a!==1||c!==c[0]))if(n)o=!0;else{const f=a*i,l=f-i,u=f+i;for(let m=0;m!==i;++m){const d=t[f+m];if(d!==t[l+m]||d!==t[u+m]){o=!0;break}}}if(o){if(a!==r){e[r]=e[a];const f=a*i,l=r*i;for(let u=0;u!==i;++u)t[l+u]=t[f+u]}++r}}if(s>0){e[r]=e[s];for(let a=s*i,o=r*i,c=0;c!==i;++c)t[o+c]=t[a+c];++r}return r!==e.length?(this.times=_i.arraySlice(e,0,r),this.values=_i.arraySlice(t,0,r*i)):(this.times=e,this.values=t),this},clone:function(){const e=_i.arraySlice(this.times,0),t=_i.arraySlice(this.values,0),i=this.constructor,n=new i(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}});function ph(e,t,i){on.call(this,e,t,i)}ph.prototype=Object.assign(Object.create(on.prototype),{constructor:ph,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Jl,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function fh(e,t,i,n){on.call(this,e,t,i,n)}fh.prototype=Object.assign(Object.create(on.prototype),{constructor:fh,ValueTypeName:"color"});function wf(e,t,i,n){on.call(this,e,t,i,n)}wf.prototype=Object.assign(Object.create(on.prototype),{constructor:wf,ValueTypeName:"number"});function lh(e,t,i,n){Yn.call(this,e,t,i,n)}lh.prototype=Object.assign(Object.create(Yn.prototype),{constructor:lh,interpolate_:function(e,t,i,n){const s=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=(i-t)/(n-t);let c=e*a;for(let p=c+a;c!==p;c+=4)ri.slerpFlat(s,0,r,c-a,r,c,o);return s}});function vu(e,t,i,n){on.call(this,e,t,i,n)}vu.prototype=Object.assign(Object.create(on.prototype),{constructor:vu,ValueTypeName:"quaternion",DefaultInterpolation:yl,InterpolantFactoryMethodLinear:function(e){return new lh(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function uh(e,t,i,n){on.call(this,e,t,i,n)}uh.prototype=Object.assign(Object.create(on.prototype),{constructor:uh,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Jl,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Ef(e,t,i,n){on.call(this,e,t,i,n)}Ef.prototype=Object.assign(Object.create(on.prototype),{constructor:Ef,ValueTypeName:"vector"});function ds(e,t,i,n){this.name=e,this.tracks=i,this.duration=t!==void 0?t:-1,this.blendMode=n!==void 0?n:A_,this.uuid=Pt.generateUUID(),this.duration<0&&this.resetDuration()}function GC(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return wf;case"vector":case"vector2":case"vector3":case"vector4":return Ef;case"color":return fh;case"quaternion":return vu;case"bool":case"boolean":return ph;case"string":return uh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function OC(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=GC(e.type);if(e.times===void 0){const i=[],n=[];_i.flattenJSON(e.keys,i,n,"value"),e.times=i,e.values=n}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(ds,{parse:function(e){const t=[],i=e.tracks,n=1/(e.fps||1);for(let s=0,r=i.length;s!==r;++s)t.push(OC(i[s]).scale(n));return new ds(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,r=i.length;s!==r;++s)t.push(on.toJSON(i[s]));return n},CreateFromMorphTargetSequence:function(e,t,i,n){const s=t.length,r=[];for(let a=0;a<s;a++){let o=[],c=[];o.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const p=_i.getKeyframeOrder(o);o=_i.sortedArray(o,1,p),c=_i.sortedArray(c,1,p),!n&&o[0]===0&&(o.push(s),c.push(c[0])),r.push(new wf(".morphTargetInfluences["+t[a].name+"]",o,c).scale(1/i))}return new ds(e,-1,r)},findByName:function(e,t){let i=e;if(!Array.isArray(e)){const n=e;i=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<i.length;n++)if(i[n].name===t)return i[n];return null},CreateClipsFromMorphTargetSequences:function(e,t,i){const n={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,o=e.length;a<o;a++){const c=e[a],p=c.name.match(s);if(p&&p.length>1){const f=p[1];let l=n[f];l||(n[f]=l=[]),l.push(c)}}const r=[];for(const a in n)r.push(ds.CreateFromMorphTargetSequence(a,n[a],t,i));return r},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,l,u,m,d){if(u.length!==0){const y=[],_=[];_i.flattenJSON(u,y,_,m),y.length!==0&&d.push(new f(l,y,_))}},n=[],s=e.name||"default",r=e.fps||30,a=e.blendMode;let o=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const l=c[f].keys;if(!(!l||l.length===0))if(l[0].morphTargets){const u={};let m;for(m=0;m<l.length;m++)if(l[m].morphTargets)for(let d=0;d<l[m].morphTargets.length;d++)u[l[m].morphTargets[d]]=-1;for(const d in u){const y=[],_=[];for(let h=0;h!==l[m].morphTargets.length;++h){const g=l[m];y.push(g.time),_.push(g.morphTarget===d?1:0)}n.push(new wf(".morphTargetInfluence["+d+"]",y,_))}o=u.length*(r||1)}else{const u=".bones["+t[f].name+"]";i(Ef,u+".position",l,"pos",n),i(vu,u+".quaternion",l,"rot",n),i(Ef,u+".scale",l,"scl",n)}}return n.length===0?null:new ds(s,o,n,a)}});Object.assign(ds.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let i=0,n=e.length;i!==n;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new ds(this.name,this.duration,e,this.blendMode)}});const Ic={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function s4(e,t,i){const n=this;let s=!1,r=0,a=0,o;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(p){a++,s===!1&&n.onStart!==void 0&&n.onStart(p,r,a),s=!0},this.itemEnd=function(p){r++,n.onProgress!==void 0&&n.onProgress(p,r,a),r===a&&(s=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(p){n.onError!==void 0&&n.onError(p)},this.resolveURL=function(p){return o?o(p):p},this.setURLModifier=function(p){return o=p,this},this.addHandler=function(p,f){return c.push(p,f),this},this.removeHandler=function(p){const f=c.indexOf(p);return f!==-1&&c.splice(f,2),this},this.getHandler=function(p){for(let f=0,l=c.length;f<l;f+=2){const u=c[f],m=c[f+1];if(u.global&&(u.lastIndex=0),u.test(p))return m}return null}}const kC=new s4;function ii(e){this.manager=e!==void 0?e:kC,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(ii.prototype,{load:function(){},loadAsync:function(e,t){const i=this;return new Promise(function(n,s){i.load(e,n,t,s)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const ns={};function Hs(e){ii.call(this,e)}Hs.prototype=Object.assign(Object.create(ii.prototype),{constructor:Hs,load:function(e,t,i,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,r=Ic.get(e);if(r!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(r),s.manager.itemEnd(e)},0),r;if(ns[e]!==void 0){ns[e].push({onLoad:t,onProgress:i,onError:n});return}const a=/^data:(.*?)(;base64)?,(.*)$/,o=e.match(a);let c;if(o){const p=o[1],f=!!o[2];let l=o[3];l=decodeURIComponent(l),f&&(l=atob(l));try{let u;const m=(this.responseType||"").toLowerCase();switch(m){case"arraybuffer":case"blob":const d=new Uint8Array(l.length);for(let _=0;_<l.length;_++)d[_]=l.charCodeAt(_);m==="blob"?u=new Blob([d.buffer],{type:p}):u=d.buffer;break;case"document":u=new DOMParser().parseFromString(l,p);break;case"json":u=JSON.parse(l);break;default:u=l;break}setTimeout(function(){t&&t(u),s.manager.itemEnd(e)},0)}catch(u){setTimeout(function(){n&&n(u),s.manager.itemError(e),s.manager.itemEnd(e)},0)}}else{ns[e]=[],ns[e].push({onLoad:t,onProgress:i,onError:n}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",function(p){const f=this.response,l=ns[e];if(delete ns[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ic.add(e,f);for(let u=0,m=l.length;u<m;u++){const d=l[u];d.onLoad&&d.onLoad(f)}s.manager.itemEnd(e)}else{for(let u=0,m=l.length;u<m;u++){const d=l[u];d.onError&&d.onError(p)}s.manager.itemError(e),s.manager.itemEnd(e)}},!1),c.addEventListener("progress",function(p){const f=ns[e];for(let l=0,u=f.length;l<u;l++){const m=f[l];m.onProgress&&m.onProgress(p)}},!1),c.addEventListener("error",function(p){const f=ns[e];delete ns[e];for(let l=0,u=f.length;l<u;l++){const m=f[l];m.onError&&m.onError(p)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),c.addEventListener("abort",function(p){const f=ns[e];delete ns[e];for(let l=0,u=f.length;l<u;l++){const m=f[l];m.onError&&m.onError(p)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),this.responseType!==void 0&&(c.responseType=this.responseType),this.withCredentials!==void 0&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const p in this.requestHeader)c.setRequestHeader(p,this.requestHeader[p]);c.send(null)}return s.manager.itemStart(e),c},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}});function Gy(e){ii.call(this,e)}Gy.prototype=Object.assign(Object.create(ii.prototype),{constructor:Gy,load:function(e,t,i,n){const s=this,r=new Hs(s.manager);r.setPath(s.path),r.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(o){n?n(o):console.error(o),s.manager.itemError(e)}},i,n)},parse:function(e){const t=[];for(let i=0;i<e.length;i++){const n=ds.parse(e[i]);t.push(n)}return t}});function Oy(e){ii.call(this,e)}Oy.prototype=Object.assign(Object.create(ii.prototype),{constructor:Oy,load:function(e,t,i,n){const s=this,r=[],a=new af;a.image=r;const o=new Hs(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer");let c=0;function p(f){o.load(e[f],function(l){const u=s.parse(l,!0);r[f]={width:u.width,height:u.height,format:u.format,mipmaps:u.mipmaps},c+=1,c===6&&(u.mipmapCount===1&&(a.minFilter=Ri),a.format=u.format,a.needsUpdate=!0,t&&t(a))},i,n)}if(Array.isArray(e))for(let f=0,l=e.length;f<l;++f)p(f);else o.load(e,function(f){const l=s.parse(f,!0);if(l.isCubemap){const u=l.mipmaps.length/l.mipmapCount;for(let m=0;m<u;m++){r[m]={mipmaps:[]};for(let d=0;d<l.mipmapCount;d++)r[m].mipmaps.push(l.mipmaps[m*l.mipmapCount+d]),r[m].format=l.format,r[m].width=l.width,r[m].height=l.height}}else a.image.width=l.width,a.image.height=l.height,a.mipmaps=l.mipmaps;l.mipmapCount===1&&(a.minFilter=Ri),a.format=l.format,a.needsUpdate=!0,t&&t(a)},i,n);return a}});function ky(e){ii.call(this,e)}ky.prototype=Object.assign(Object.create(ii.prototype),{constructor:ky,load:function(e,t,i,n){const s=this,r=new wr,a=new Hs(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(o){const c=s.parse(o);!c||(c.image!==void 0?r.image=c.image:c.data!==void 0&&(r.image.width=c.width,r.image.height=c.height,r.image.data=c.data),r.wrapS=c.wrapS!==void 0?c.wrapS:xn,r.wrapT=c.wrapT!==void 0?c.wrapT:xn,r.magFilter=c.magFilter!==void 0?c.magFilter:Ri,r.minFilter=c.minFilter!==void 0?c.minFilter:Ri,r.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.format!==void 0&&(r.format=c.format),c.type!==void 0&&(r.type=c.type),c.mipmaps!==void 0&&(r.mipmaps=c.mipmaps,r.minFilter=Ku),c.mipmapCount===1&&(r.minFilter=Ri),r.needsUpdate=!0,t&&t(r,c))},i,n),r}});function vf(e){ii.call(this,e)}vf.prototype=Object.assign(Object.create(ii.prototype),{constructor:vf,load:function(e,t,i,n){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,r=Ic.get(e);if(r!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(r),s.manager.itemEnd(e)},0),r;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function o(){a.removeEventListener("load",o,!1),a.removeEventListener("error",c,!1),Ic.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(p){a.removeEventListener("load",o,!1),a.removeEventListener("error",c,!1),n&&n(p),s.manager.itemError(e),s.manager.itemEnd(e)}return a.addEventListener("load",o,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}});function mh(e){ii.call(this,e)}mh.prototype=Object.assign(Object.create(ii.prototype),{constructor:mh,load:function(e,t,i,n){const s=new ca,r=new vf(this.manager);r.setCrossOrigin(this.crossOrigin),r.setPath(this.path);let a=0;function o(c){r.load(e[c],function(p){s.images[c]=p,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,n)}for(let c=0;c<e.length;++c)o(c);return s}});function dh(e){ii.call(this,e)}dh.prototype=Object.assign(Object.create(ii.prototype),{constructor:dh,load:function(e,t,i,n){const s=new pi,r=new vf(this.manager);return r.setCrossOrigin(this.crossOrigin),r.setPath(this.path),r.load(e,function(a){s.image=a;const o=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;s.format=o?Da:Mn,s.needsUpdate=!0,t!==void 0&&t(s)},i,n),s}});function at(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(at.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,n=this.getPoint(0),s=0;t.push(0);for(let r=1;r<=e;r++)i=this.getPoint(r/e),s+=i.distanceTo(n),t.push(s),n=i;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const i=this.getLengths();let n=0,s=i.length,r;t?r=t:r=e*i[s-1];let a=0,o=s-1,c;for(;a<=o;)if(n=Math.floor(a+(o-a)/2),c=i[n]-r,c<0)a=n+1;else if(c>0)o=n-1;else{o=n;break}if(n=o,i[n]===r)return n/(s-1);const p=i[n],l=i[n+1]-p,u=(r-p)/l;return(n+u)/(s-1)},getTangent:function(e,t){let n=e-1e-4,s=e+1e-4;n<0&&(n=0),s>1&&(s=1);const r=this.getPoint(n),a=this.getPoint(s),o=t||(r.isVector2?new Te:new P);return o.copy(a).sub(r).normalize(),o},getTangentAt:function(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)},computeFrenetFrames:function(e,t){const i=new P,n=[],s=[],r=[],a=new P,o=new De;for(let u=0;u<=e;u++){const m=u/e;n[u]=this.getTangentAt(m,new P),n[u].normalize()}s[0]=new P,r[0]=new P;let c=Number.MAX_VALUE;const p=Math.abs(n[0].x),f=Math.abs(n[0].y),l=Math.abs(n[0].z);p<=c&&(c=p,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),l<=c&&i.set(0,0,1),a.crossVectors(n[0],i).normalize(),s[0].crossVectors(n[0],a),r[0].crossVectors(n[0],s[0]);for(let u=1;u<=e;u++){if(s[u]=s[u-1].clone(),r[u]=r[u-1].clone(),a.crossVectors(n[u-1],n[u]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Pt.clamp(n[u-1].dot(n[u]),-1,1));s[u].applyMatrix4(o.makeRotationAxis(a,m))}r[u].crossVectors(n[u],s[u])}if(t===!0){let u=Math.acos(Pt.clamp(s[0].dot(s[e]),-1,1));u/=e,n[0].dot(a.crossVectors(s[0],s[e]))>0&&(u=-u);for(let m=1;m<=e;m++)s[m].applyMatrix4(o.makeRotationAxis(n[m],u*m)),r[m].crossVectors(n[m],s[m])}return{tangents:n,normals:s,binormals:r}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Xn(e,t,i,n,s,r,a,o){at.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=i||1,this.yRadius=n||1,this.aStartAngle=s||0,this.aEndAngle=r||2*Math.PI,this.aClockwise=a||!1,this.aRotation=o||0}Xn.prototype=Object.create(at.prototype);Xn.prototype.constructor=Xn;Xn.prototype.isEllipseCurve=!0;Xn.prototype.getPoint=function(e,t){const i=t||new Te,n=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const r=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=n;for(;s>n;)s-=n;s<Number.EPSILON&&(r?s=0:s=n),this.aClockwise===!0&&!r&&(s===n?s=-n:s=s-n);const a=this.aStartAngle+e*s;let o=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const p=Math.cos(this.aRotation),f=Math.sin(this.aRotation),l=o-this.aX,u=c-this.aY;o=l*p-u*f+this.aX,c=l*f+u*p+this.aY}return i.set(o,c)};Xn.prototype.copy=function(e){return at.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Xn.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Xn.prototype.fromJSON=function(e){return at.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function bf(e,t,i,n,s,r){Xn.call(this,e,t,i,i,n,s,r),this.type="ArcCurve"}bf.prototype=Object.create(Xn.prototype);bf.prototype.constructor=bf;bf.prototype.isArcCurve=!0;function I_(){let e=0,t=0,i=0,n=0;function s(r,a,o,c){e=r,t=o,i=-3*r+3*a-2*o-c,n=2*r-2*a+o+c}return{initCatmullRom:function(r,a,o,c,p){s(a,o,p*(o-r),p*(c-a))},initNonuniformCatmullRom:function(r,a,o,c,p,f,l){let u=(a-r)/p-(o-r)/(p+f)+(o-a)/f,m=(o-a)/f-(c-a)/(f+l)+(c-o)/l;u*=f,m*=f,s(a,o,u,m)},calc:function(r){const a=r*r,o=a*r;return e+t*r+i*a+n*o}}}const F0=new P,Z1=new I_,em=new I_,tm=new I_;function Gn(e,t,i,n){at.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=i||"centripetal",this.tension=n||.5}Gn.prototype=Object.create(at.prototype);Gn.prototype.constructor=Gn;Gn.prototype.isCatmullRomCurve3=!0;Gn.prototype.getPoint=function(e,t){const i=t||new P,n=this.points,s=n.length,r=(s-(this.closed?0:1))*e;let a=Math.floor(r),o=r-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:o===0&&a===s-1&&(a=s-2,o=1);let c,p,f,l;if(this.closed||a>0?c=n[(a-1)%s]:(F0.subVectors(n[0],n[1]).add(n[0]),c=F0),p=n[a%s],f=n[(a+1)%s],this.closed||a+2<s?l=n[(a+2)%s]:(F0.subVectors(n[s-1],n[s-2]).add(n[s-1]),l=F0),this.curveType==="centripetal"||this.curveType==="chordal"){const u=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(p),u),d=Math.pow(p.distanceToSquared(f),u),y=Math.pow(f.distanceToSquared(l),u);d<1e-4&&(d=1),m<1e-4&&(m=d),y<1e-4&&(y=d),Z1.initNonuniformCatmullRom(c.x,p.x,f.x,l.x,m,d,y),em.initNonuniformCatmullRom(c.y,p.y,f.y,l.y,m,d,y),tm.initNonuniformCatmullRom(c.z,p.z,f.z,l.z,m,d,y)}else this.curveType==="catmullrom"&&(Z1.initCatmullRom(c.x,p.x,f.x,l.x,this.tension),em.initCatmullRom(c.y,p.y,f.y,l.y,this.tension),tm.initCatmullRom(c.z,p.z,f.z,l.z,this.tension));return i.set(Z1.calc(o),em.calc(o),tm.calc(o)),i};Gn.prototype.copy=function(e){at.prototype.copy.call(this,e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};Gn.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);e.points=[];for(let t=0,i=this.points.length;t<i;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};Gn.prototype.fromJSON=function(e){at.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(new P().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function By(e,t,i,n,s){const r=(n-t)*.5,a=(s-i)*.5,o=e*e,c=e*o;return(2*i-2*n+r+a)*c+(-3*i+3*n-2*r-a)*o+r*e+i}function BC(e,t){const i=1-e;return i*i*t}function VC(e,t){return 2*(1-e)*e*t}function qC(e,t){return e*e*t}function Dp(e,t,i,n){return BC(e,t)+VC(e,i)+qC(e,n)}function zC(e,t){const i=1-e;return i*i*i*t}function HC(e,t){const i=1-e;return 3*i*i*e*t}function UC(e,t){return 3*(1-e)*e*e*t}function WC(e,t){return e*e*e*t}function Gp(e,t,i,n,s){return zC(e,t)+HC(e,i)+UC(e,n)+WC(e,s)}function Us(e,t,i,n){at.call(this),this.type="CubicBezierCurve",this.v0=e||new Te,this.v1=t||new Te,this.v2=i||new Te,this.v3=n||new Te}Us.prototype=Object.create(at.prototype);Us.prototype.constructor=Us;Us.prototype.isCubicBezierCurve=!0;Us.prototype.getPoint=function(e,t){const i=t||new Te,n=this.v0,s=this.v1,r=this.v2,a=this.v3;return i.set(Gp(e,n.x,s.x,r.x,a.x),Gp(e,n.y,s.y,r.y,a.y)),i};Us.prototype.copy=function(e){return at.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Us.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Us.prototype.fromJSON=function(e){return at.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function xr(e,t,i,n){at.call(this),this.type="CubicBezierCurve3",this.v0=e||new P,this.v1=t||new P,this.v2=i||new P,this.v3=n||new P}xr.prototype=Object.create(at.prototype);xr.prototype.constructor=xr;xr.prototype.isCubicBezierCurve3=!0;xr.prototype.getPoint=function(e,t){const i=t||new P,n=this.v0,s=this.v1,r=this.v2,a=this.v3;return i.set(Gp(e,n.x,s.x,r.x,a.x),Gp(e,n.y,s.y,r.y,a.y),Gp(e,n.z,s.z,r.z,a.z)),i};xr.prototype.copy=function(e){return at.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};xr.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};xr.prototype.fromJSON=function(e){return at.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function On(e,t){at.call(this),this.type="LineCurve",this.v1=e||new Te,this.v2=t||new Te}On.prototype=Object.create(at.prototype);On.prototype.constructor=On;On.prototype.isLineCurve=!0;On.prototype.getPoint=function(e,t){const i=t||new Te;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i};On.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};On.prototype.getTangent=function(e,t){const i=t||new Te;return i.copy(this.v2).sub(this.v1).normalize(),i};On.prototype.copy=function(e){return at.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};On.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};On.prototype.fromJSON=function(e){return at.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ws(e,t){at.call(this),this.type="LineCurve3",this.v1=e||new P,this.v2=t||new P}Ws.prototype=Object.create(at.prototype);Ws.prototype.constructor=Ws;Ws.prototype.isLineCurve3=!0;Ws.prototype.getPoint=function(e,t){const i=t||new P;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i};Ws.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Ws.prototype.copy=function(e){return at.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ws.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ws.prototype.fromJSON=function(e){return at.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function js(e,t,i){at.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Te,this.v1=t||new Te,this.v2=i||new Te}js.prototype=Object.create(at.prototype);js.prototype.constructor=js;js.prototype.isQuadraticBezierCurve=!0;js.prototype.getPoint=function(e,t){const i=t||new Te,n=this.v0,s=this.v1,r=this.v2;return i.set(Dp(e,n.x,s.x,r.x),Dp(e,n.y,s.y,r.y)),i};js.prototype.copy=function(e){return at.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};js.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};js.prototype.fromJSON=function(e){return at.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Sr(e,t,i){at.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new P,this.v1=t||new P,this.v2=i||new P}Sr.prototype=Object.create(at.prototype);Sr.prototype.constructor=Sr;Sr.prototype.isQuadraticBezierCurve3=!0;Sr.prototype.getPoint=function(e,t){const i=t||new P,n=this.v0,s=this.v1,r=this.v2;return i.set(Dp(e,n.x,s.x,r.x),Dp(e,n.y,s.y,r.y),Dp(e,n.z,s.z,r.z)),i};Sr.prototype.copy=function(e){return at.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Sr.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Sr.prototype.fromJSON=function(e){return at.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function $s(e){at.call(this),this.type="SplineCurve",this.points=e||[]}$s.prototype=Object.create(at.prototype);$s.prototype.constructor=$s;$s.prototype.isSplineCurve=!0;$s.prototype.getPoint=function(e,t){const i=t||new Te,n=this.points,s=(n.length-1)*e,r=Math.floor(s),a=s-r,o=n[r===0?r:r-1],c=n[r],p=n[r>n.length-2?n.length-1:r+1],f=n[r>n.length-3?n.length-1:r+2];return i.set(By(a,o.x,c.x,p.x,f.x),By(a,o.y,c.y,p.y,f.y)),i};$s.prototype.copy=function(e){at.prototype.copy.call(this,e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(n.clone())}return this};$s.prototype.toJSON=function(){const e=at.prototype.toJSON.call(this);e.points=[];for(let t=0,i=this.points.length;t<i;t++){const n=this.points[t];e.points.push(n.toArray())}return e};$s.prototype.fromJSON=function(e){at.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const n=e.points[t];this.points.push(new Te().fromArray(n))}return this};var hh=Object.freeze({__proto__:null,ArcCurve:bf,CatmullRomCurve3:Gn,CubicBezierCurve:Us,CubicBezierCurve3:xr,EllipseCurve:Xn,LineCurve:On,LineCurve3:Ws,QuadraticBezierCurve:js,QuadraticBezierCurve3:Sr,SplineCurve:$s});function Zr(){at.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Zr.prototype=Object.assign(Object.create(at.prototype),{constructor:Zr,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new On(t,e))},getPoint:function(e){const t=e*this.getLength(),i=this.getCurveLengths();let n=0;for(;n<i.length;){if(i[n]>=t){const s=i[n]-t,r=this.curves[n],a=r.getLength(),o=a===0?0:1-s/a;return r.getPointAt(o)}n++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,n=this.curves.length;i<n;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let i;for(let n=0,s=this.curves;n<s.length;n++){const r=s[n],a=r&&r.isEllipseCurve?e*2:r&&(r.isLineCurve||r.isLineCurve3)?1:r&&r.isSplineCurve?e*r.points.length:e,o=r.getPoints(a);for(let c=0;c<o.length;c++){const p=o[c];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){at.prototype.copy.call(this,e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=at.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){at.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const n=e.curves[t];this.curves.push(new hh[n.type]().fromJSON(n))}return this}});function ks(e){Zr.call(this),this.type="Path",this.currentPoint=new Te,e&&this.setFromPoints(e)}ks.prototype=Object.assign(Object.create(Zr.prototype),{constructor:ks,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const i=new On(this.currentPoint.clone(),new Te(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,i,n){const s=new js(this.currentPoint.clone(),new Te(e,t),new Te(i,n));return this.curves.push(s),this.currentPoint.set(i,n),this},bezierCurveTo:function(e,t,i,n,s,r){const a=new Us(this.currentPoint.clone(),new Te(e,t),new Te(i,n),new Te(s,r));return this.curves.push(a),this.currentPoint.set(s,r),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),i=new $s(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,i,n,s,r){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,i,n,s,r),this},absarc:function(e,t,i,n,s,r){return this.absellipse(e,t,i,i,n,s,r),this},ellipse:function(e,t,i,n,s,r,a,o){const c=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+c,t+p,i,n,s,r,a,o),this},absellipse:function(e,t,i,n,s,r,a,o){const c=new Xn(e,t,i,n,s,r,a,o);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const p=c.getPoint(1);return this.currentPoint.copy(p),this},copy:function(e){return Zr.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Zr.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Zr.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function Oa(e){ks.call(this,e),this.uuid=Pt.generateUUID(),this.type="Shape",this.holes=[]}Oa.prototype=Object.assign(Object.create(ks.prototype),{constructor:Oa,getPointsHoles:function(e){const t=[];for(let i=0,n=this.holes.length;i<n;i++)t[i]=this.holes[i].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ks.prototype.copy.call(this,e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){const e=ks.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){ks.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const n=e.holes[t];this.holes.push(new ks().fromJSON(n))}return this}});function mi(e,t){Ue.call(this),this.type="Light",this.color=new Oe(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}mi.prototype=Object.assign(Object.create(Ue.prototype),{constructor:mi,isLight:!0,copy:function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Ue.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function _h(e,t,i){mi.call(this,e,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ue.DefaultUp),this.updateMatrix(),this.groundColor=new Oe(t)}_h.prototype=Object.assign(Object.create(mi.prototype),{constructor:_h,isHemisphereLight:!0,copy:function(e){return mi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function Mr(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Te(512,512),this.map=null,this.mapPass=null,this.matrix=new De,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new jf,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new ti(0,0,1,1)]}Object.assign(Mr.prototype,{_projScreenMatrix:new De,_lightPositionWorld:new P,_lookTarget:new P,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,i=this.matrix,n=this._projScreenMatrix,s=this._lookTarget,r=this._lightPositionWorld;r.setFromMatrixPosition(e.matrixWorld),t.position.copy(r),s.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(s),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function yh(){Mr.call(this,new Li(50,1,.5,500))}yh.prototype=Object.assign(Object.create(Mr.prototype),{constructor:yh,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,i=Pt.RAD2DEG*2*e.angle,n=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||n!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=n,t.far=s,t.updateProjectionMatrix()),Mr.prototype.updateMatrices.call(this,e)}});function bu(e,t,i,n,s,r){mi.call(this,e,t),this.type="SpotLight",this.position.copy(Ue.DefaultUp),this.updateMatrix(),this.target=new Ue,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}}),this.distance=i!==void 0?i:0,this.angle=n!==void 0?n:Math.PI/3,this.penumbra=s!==void 0?s:0,this.decay=r!==void 0?r:1,this.shadow=new yh}bu.prototype=Object.assign(Object.create(mi.prototype),{constructor:bu,isSpotLight:!0,copy:function(e){return mi.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function gh(){Mr.call(this,new Li(90,1,.5,500)),this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new ti(2,1,1,1),new ti(0,1,1,1),new ti(3,1,1,1),new ti(1,1,1,1),new ti(3,0,1,1),new ti(1,0,1,1)],this._cubeDirections=[new P(1,0,0),new P(-1,0,0),new P(0,0,1),new P(0,0,-1),new P(0,1,0),new P(0,-1,0)],this._cubeUps=[new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,0,1),new P(0,0,-1)]}gh.prototype=Object.assign(Object.create(Mr.prototype),{constructor:gh,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const i=this.camera,n=this.matrix,s=this._lightPositionWorld,r=this._lookTarget,a=this._projScreenMatrix;s.setFromMatrixPosition(e.matrixWorld),i.position.copy(s),r.copy(i.position),r.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(r),i.updateMatrixWorld(),n.makeTranslation(-s.x,-s.y,-s.z),a.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}});function wh(e,t,i,n){mi.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(s){this.intensity=s/(4*Math.PI)}}),this.distance=i!==void 0?i:0,this.decay=n!==void 0?n:1,this.shadow=new gh}wh.prototype=Object.assign(Object.create(mi.prototype),{constructor:wh,isPointLight:!0,copy:function(e){return mi.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function la(e,t,i,n,s,r){gr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=i!==void 0?i:1,this.bottom=n!==void 0?n:-1,this.near=s!==void 0?s:.1,this.far=r!==void 0?r:2e3,this.updateProjectionMatrix()}la.prototype=Object.assign(Object.create(gr.prototype),{constructor:la,isOrthographicCamera:!0,copy:function(e,t){return gr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,i,n,s,r){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=s,this.view.height=r,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let s=i-e,r=i+e,a=n+t,o=n-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,r=s+c*this.view.width,a-=p*this.view.offsetY,o=a-p*this.view.height}this.projectionMatrix.makeOrthographic(s,r,a,o,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Ue.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function Eh(){Mr.call(this,new la(-5,5,5,-5,.5,500))}Eh.prototype=Object.assign(Object.create(Mr.prototype),{constructor:Eh,isDirectionalLightShadow:!0,updateMatrices:function(e){Mr.prototype.updateMatrices.call(this,e)}});function vh(e,t){mi.call(this,e,t),this.type="DirectionalLight",this.position.copy(Ue.DefaultUp),this.updateMatrix(),this.target=new Ue,this.shadow=new Eh}vh.prototype=Object.assign(Object.create(mi.prototype),{constructor:vh,isDirectionalLight:!0,copy:function(e){return mi.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function xu(e,t){mi.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}xu.prototype=Object.assign(Object.create(mi.prototype),{constructor:xu,isAmbientLight:!0});function bh(e,t,i,n){mi.call(this,e,t),this.type="RectAreaLight",this.width=i!==void 0?i:10,this.height=n!==void 0?n:10}bh.prototype=Object.assign(Object.create(mi.prototype),{constructor:bh,isRectAreaLight:!0,copy:function(e){return mi.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=mi.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function L_(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new P)}Object.assign(L_.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const i=e.x,n=e.y,s=e.z,r=this.coefficients;return t.copy(r[0]).multiplyScalar(.282095),t.addScaledVector(r[1],.488603*n),t.addScaledVector(r[2],.488603*s),t.addScaledVector(r[3],.488603*i),t.addScaledVector(r[4],1.092548*(i*n)),t.addScaledVector(r[5],1.092548*(n*s)),t.addScaledVector(r[6],.315392*(3*s*s-1)),t.addScaledVector(r[7],1.092548*(i*s)),t.addScaledVector(r[8],.546274*(i*i-n*n)),t},getIrradianceAt:function(e,t){const i=e.x,n=e.y,s=e.z,r=this.coefficients;return t.copy(r[0]).multiplyScalar(.886227),t.addScaledVector(r[1],2*.511664*n),t.addScaledVector(r[2],2*.511664*s),t.addScaledVector(r[3],2*.511664*i),t.addScaledVector(r[4],2*.429043*i*n),t.addScaledVector(r[5],2*.429043*n*s),t.addScaledVector(r[6],.743125*s*s-.247708),t.addScaledVector(r[7],2*.429043*i*s),t.addScaledVector(r[8],.429043*(i*i-n*n)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,t){t===void 0&&(t=0);const i=this.coefficients;for(let n=0;n<9;n++)i[n].fromArray(e,t+n*3);return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const i=this.coefficients;for(let n=0;n<9;n++)i[n].toArray(e,t+n*3);return e}});Object.assign(L_,{getBasisAt:function(e,t){const i=e.x,n=e.y,s=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*n,t[5]=1.092548*n*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-n*n)}});function _s(e,t){mi.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new L_}_s.prototype=Object.assign(Object.create(mi.prototype),{constructor:_s,isLightProbe:!0,copy:function(e){return mi.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=mi.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function xh(e){ii.call(this,e),this.textures={}}xh.prototype=Object.assign(Object.create(ii.prototype),{constructor:xh,load:function(e,t,i,n){const s=this,r=new Hs(s.manager);r.setPath(s.path),r.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(o){n?n(o):console.error(o),s.manager.itemError(e)}},i,n)},parse:function(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const n=new DC[e.type];if(e.uuid!==void 0&&(n.uuid=e.uuid),e.name!==void 0&&(n.name=e.name),e.color!==void 0&&n.color.setHex(e.color),e.roughness!==void 0&&(n.roughness=e.roughness),e.metalness!==void 0&&(n.metalness=e.metalness),e.sheen!==void 0&&(n.sheen=new Oe().setHex(e.sheen)),e.emissive!==void 0&&n.emissive.setHex(e.emissive),e.specular!==void 0&&n.specular.setHex(e.specular),e.shininess!==void 0&&(n.shininess=e.shininess),e.clearcoat!==void 0&&(n.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(n.fog=e.fog),e.flatShading!==void 0&&(n.flatShading=e.flatShading),e.blending!==void 0&&(n.blending=e.blending),e.combine!==void 0&&(n.combine=e.combine),e.side!==void 0&&(n.side=e.side),e.opacity!==void 0&&(n.opacity=e.opacity),e.transparent!==void 0&&(n.transparent=e.transparent),e.alphaTest!==void 0&&(n.alphaTest=e.alphaTest),e.depthTest!==void 0&&(n.depthTest=e.depthTest),e.depthWrite!==void 0&&(n.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(n.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(n.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(n.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(n.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(n.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(n.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(n.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(n.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(n.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(n.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(n.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(n.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(n.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(n.rotation=e.rotation),e.linewidth!==1&&(n.linewidth=e.linewidth),e.dashSize!==void 0&&(n.dashSize=e.dashSize),e.gapSize!==void 0&&(n.gapSize=e.gapSize),e.scale!==void 0&&(n.scale=e.scale),e.polygonOffset!==void 0&&(n.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(n.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(n.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(n.skinning=e.skinning),e.morphTargets!==void 0&&(n.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(n.morphNormals=e.morphNormals),e.dithering!==void 0&&(n.dithering=e.dithering),e.vertexTangents!==void 0&&(n.vertexTangents=e.vertexTangents),e.visible!==void 0&&(n.visible=e.visible),e.toneMapped!==void 0&&(n.toneMapped=e.toneMapped),e.userData!==void 0&&(n.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const r=e.uniforms[s];switch(n.uniforms[s]={},r.type){case"t":n.uniforms[s].value=i(r.value);break;case"c":n.uniforms[s].value=new Oe().setHex(r.value);break;case"v2":n.uniforms[s].value=new Te().fromArray(r.value);break;case"v3":n.uniforms[s].value=new P().fromArray(r.value);break;case"v4":n.uniforms[s].value=new ti().fromArray(r.value);break;case"m3":n.uniforms[s].value=new Yi().fromArray(r.value);case"m4":n.uniforms[s].value=new De().fromArray(r.value);break;default:n.uniforms[s].value=r.value}}if(e.defines!==void 0&&(n.defines=e.defines),e.vertexShader!==void 0&&(n.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(n.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)n.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(n.flatShading=e.shading===1),e.size!==void 0&&(n.size=e.size),e.sizeAttenuation!==void 0&&(n.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(n.map=i(e.map)),e.matcap!==void 0&&(n.matcap=i(e.matcap)),e.alphaMap!==void 0&&(n.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(n.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(n.bumpScale=e.bumpScale),e.normalMap!==void 0&&(n.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(n.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),n.normalScale=new Te().fromArray(s)}return e.displacementMap!==void 0&&(n.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(n.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(n.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(n.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(n.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(n.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(n.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(n.specularMap=i(e.specularMap)),e.envMap!==void 0&&(n.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(n.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(n.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(n.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(n.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(n.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(n.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(n.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(n.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(n.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(n.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(n.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(n.clearcoatNormalScale=new Te().fromArray(e.clearcoatNormalScale)),n},setTextures:function(e){return this.textures=e,this}});const r4={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function Su(){We.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}Su.prototype=Object.assign(Object.create(We.prototype),{constructor:Su,isInstancedBufferGeometry:!0,copy:function(e){return We.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=We.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function Sh(e,t,i,n){typeof i=="number"&&(n=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),it.call(this,e,t,i),this.meshPerAttribute=n||1}Sh.prototype=Object.assign(Object.create(it.prototype),{constructor:Sh,isInstancedBufferAttribute:!0,copy:function(e){return it.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=it.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function Mh(e){ii.call(this,e)}Mh.prototype=Object.assign(Object.create(ii.prototype),{constructor:Mh,load:function(e,t,i,n){const s=this,r=new Hs(s.manager);r.setPath(s.path),r.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(o){n?n(o):console.error(o),s.manager.itemError(e)}},i,n)},parse:function(e){const t={},i={};function n(u,m){if(t[m]!==void 0)return t[m];const y=u.interleavedBuffers[m],_=s(u,y.buffer),h=new R0[y.type](_),g=new Kn(h,y.stride);return g.uuid=y.uuid,t[m]=g,g}function s(u,m){if(i[m]!==void 0)return i[m];const y=u.arrayBuffers[m],_=new Uint32Array(y).buffer;return i[m]=_,_}const r=e.isInstancedBufferGeometry?new Su:new We,a=e.data.index;if(a!==void 0){const u=new R0[a.type](a.array);r.setIndex(new it(u,1))}const o=e.data.attributes;for(const u in o){const m=o[u];let d;if(m.isInterleavedBufferAttribute){const y=n(e.data,m.data);d=new $a(y,m.itemSize,m.offset,m.normalized)}else{const y=new R0[m.type](m.array),_=m.isInstancedBufferAttribute?Sh:it;d=new _(y,m.itemSize,m.normalized)}m.name!==void 0&&(d.name=m.name),r.setAttribute(u,d)}const c=e.data.morphAttributes;if(c)for(const u in c){const m=c[u],d=[];for(let y=0,_=m.length;y<_;y++){const h=m[y];let g;if(h.isInterleavedBufferAttribute){const E=n(e.data,h.data);g=new $a(E,h.itemSize,h.offset,h.normalized)}else{const E=new R0[h.type](h.array);g=new it(E,h.itemSize,h.normalized)}h.name!==void 0&&(g.name=h.name),d.push(g)}r.morphAttributes[u]=d}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let u=0,m=f.length;u!==m;++u){const d=f[u];r.addGroup(d.start,d.count,d.materialIndex)}const l=e.data.boundingSphere;if(l!==void 0){const u=new P;l.center!==void 0&&u.fromArray(l.center),r.boundingSphere=new Tr(u,l.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}});const R0={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ah(e){ii.call(this,e)}Ah.prototype=Object.assign(Object.create(ii.prototype),{constructor:Ah,load:function(e,t,i,n){const s=this,r=this.path===""?r4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new Hs(s.manager);a.setPath(this.path),a.load(e,function(o){let c=null;try{c=JSON.parse(o)}catch(f){n!==void 0&&n(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const p=c.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,n)},parse:function(e,t){const i=this.parseShape(e.shapes),n=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(o)}),r=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,r),o=this.parseObject(e.object,n,a);return e.animations&&(o.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(o),o},parseShape:function(e){const t={};if(e!==void 0)for(let i=0,n=e.length;i<n;i++){const s=new Oa().fromJSON(e[i]);t[s.uuid]=s}return t},parseGeometries:function(e,t){const i={};let n;if(e!==void 0){const s=new Mh;for(let r=0,a=e.length;r<a;r++){let o;const c=e[r];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new pn[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new pn[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new pn[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new pn[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new pn[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new pn[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new pn[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new pn[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new pn[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new pn[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new pn[c.type](new hh[c.path.type]().fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new pn[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new pn[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(let f=0,l=c.shapes.length;f<l;f++){const u=t[c.shapes[f]];n.push(u)}o=new pn[c.type](n,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(let f=0,l=c.shapes.length;f<l;f++){const u=t[c.shapes[f]];n.push(u)}const p=c.options.extrudePath;p!==void 0&&(c.options.extrudePath=new hh[p.type]().fromJSON(p)),o=new pn[c.type](n,c.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=s.parse(c);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),o.isBufferGeometry===!0&&c.userData!==void 0&&(o.userData=c.userData),i[c.uuid]=o}}return i},parseMaterials:function(e,t){const i={},n={};if(e!==void 0){const s=new xh;s.setTextures(t);for(let r=0,a=e.length;r<a;r++){const o=e[r];if(o.type==="MultiMaterial"){const c=[];for(let p=0;p<o.materials.length;p++){const f=o.materials[p];i[f.uuid]===void 0&&(i[f.uuid]=s.parse(f)),c.push(i[f.uuid])}n[o.uuid]=c}else i[o.uuid]===void 0&&(i[o.uuid]=s.parse(o)),n[o.uuid]=i[o.uuid]}}return n},parseAnimations:function(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i],s=ds.parse(n);n.uuid!==void 0&&(s.uuid=n.uuid),t.push(s)}return t},parseImages:function(e,t){const i=this,n={};let s;function r(a){return i.manager.itemStart(a),s.load(a,function(){i.manager.itemEnd(a)},void 0,function(){i.manager.itemError(a),i.manager.itemEnd(a)})}if(e!==void 0&&e.length>0){const a=new s4(t);s=new vf(a),s.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const p=e[o],f=p.url;if(Array.isArray(f)){n[p.uuid]=[];for(let l=0,u=f.length;l<u;l++){const m=f[l],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m)?m:i.resourcePath+m;n[p.uuid].push(r(d))}}else{const l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p.url)?p.url:i.resourcePath+p.url;n[p.uuid]=r(l)}}}return n},parseTextures:function(e,t){function i(s,r){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),r[s])}const n={};if(e!==void 0)for(let s=0,r=e.length;s<r;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let o;Array.isArray(t[a.image])?o=new ca(t[a.image]):o=new pi(t[a.image]),o.needsUpdate=!0,o.uuid=a.uuid,a.name!==void 0&&(o.name=a.name),a.mapping!==void 0&&(o.mapping=i(a.mapping,jC)),a.offset!==void 0&&o.offset.fromArray(a.offset),a.repeat!==void 0&&o.repeat.fromArray(a.repeat),a.center!==void 0&&o.center.fromArray(a.center),a.rotation!==void 0&&(o.rotation=a.rotation),a.wrap!==void 0&&(o.wrapS=i(a.wrap[0],Vy),o.wrapT=i(a.wrap[1],Vy)),a.format!==void 0&&(o.format=a.format),a.type!==void 0&&(o.type=a.type),a.encoding!==void 0&&(o.encoding=a.encoding),a.minFilter!==void 0&&(o.minFilter=i(a.minFilter,qy)),a.magFilter!==void 0&&(o.magFilter=i(a.magFilter,qy)),a.anisotropy!==void 0&&(o.anisotropy=a.anisotropy),a.flipY!==void 0&&(o.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(o.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(o.unpackAlignment=a.unpackAlignment),n[a.uuid]=o}return n},parseObject:function(e,t,i){let n;function s(c){return t[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",c),t[c]}function r(c){if(c!==void 0){if(Array.isArray(c)){const p=[];for(let f=0,l=c.length;f<l;f++){const u=c[f];i[u]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",u),p.push(i[u])}return p}return i[c]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",c),i[c]}}let a,o;switch(e.type){case"Scene":n=new uc,e.background!==void 0&&Number.isInteger(e.background)&&(n.background=new Oe(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?n.fog=new eu(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(n.fog=new Xd(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new Li(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(n.focus=e.focus),e.zoom!==void 0&&(n.zoom=e.zoom),e.filmGauge!==void 0&&(n.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(n.filmOffset=e.filmOffset),e.view!==void 0&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new la(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(n.zoom=e.zoom),e.view!==void 0&&(n.view=Object.assign({},e.view));break;case"AmbientLight":n=new xu(e.color,e.intensity);break;case"DirectionalLight":n=new vh(e.color,e.intensity);break;case"PointLight":n=new wh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new bh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new bu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new _h(e.color,e.groundColor,e.intensity);break;case"LightProbe":n=new _s().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":a=s(e.geometry),o=r(e.material),n=new ci(a,o);break;case"InstancedMesh":a=s(e.geometry),o=r(e.material);const c=e.count,p=e.instanceMatrix;n=new ih(a,o,c),n.instanceMatrix=new it(new Float32Array(p.array),16);break;case"LOD":n=new tu;break;case"Line":n=new Qn(s(e.geometry),r(e.material),e.mode);break;case"LineLoop":n=new nh(s(e.geometry),r(e.material));break;case"LineSegments":n=new Ei(s(e.geometry),r(e.material));break;case"PointCloud":case"Points":n=new rf(s(e.geometry),r(e.material));break;case"Sprite":n=new Zd(r(e.material));break;case"Group":n=new Zt;break;default:n=new Ue}if(n.uuid=e.uuid,e.name!==void 0&&(n.name=e.name),e.matrix!==void 0?(n.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(n.matrixAutoUpdate=e.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(e.position!==void 0&&n.position.fromArray(e.position),e.rotation!==void 0&&n.rotation.fromArray(e.rotation),e.quaternion!==void 0&&n.quaternion.fromArray(e.quaternion),e.scale!==void 0&&n.scale.fromArray(e.scale)),e.castShadow!==void 0&&(n.castShadow=e.castShadow),e.receiveShadow!==void 0&&(n.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(n.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(n.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(n.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&n.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(n.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(n.visible=e.visible),e.frustumCulled!==void 0&&(n.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(n.renderOrder=e.renderOrder),e.userData!==void 0&&(n.userData=e.userData),e.layers!==void 0&&(n.layers.mask=e.layers),e.children!==void 0){const c=e.children;for(let p=0;p<c.length;p++)n.add(this.parseObject(c[p],t,i))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(n.autoUpdate=e.autoUpdate);const c=e.levels;for(let p=0;p<c.length;p++){const f=c[p],l=n.getObjectByProperty("uuid",f.object);l!==void 0&&n.addLevel(l,f.distance)}}return n}});const jC={UVMapping:v_,CubeReflectionMapping:b_,CubeRefractionMapping:x_,EquirectangularReflectionMapping:F6,EquirectangularRefractionMapping:S_,CubeUVReflectionMapping:Hf,CubeUVRefractionMapping:M_},Vy={RepeatWrapping:jl,ClampToEdgeWrapping:xn,MirroredRepeatWrapping:$l},qy={NearestFilter:si,NearestMipmapNearestFilter:zd,NearestMipmapLinearFilter:Hd,LinearFilter:Ri,LinearMipmapNearestFilter:R6,LinearMipmapLinearFilter:Ku};function zy(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ii.call(this,e),this.options={premultiplyAlpha:"none"}}zy.prototype=Object.assign(Object.create(ii.prototype),{constructor:zy,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,i,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,r=Ic.get(e);if(r!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(r),s.manager.itemEnd(e)},0),r;fetch(e).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,s.options)}).then(function(a){Ic.add(e,a),t&&t(a),s.manager.itemEnd(e)}).catch(function(a){n&&n(a),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}});function a4(){this.type="ShapePath",this.color=new Oe,this.subPaths=[],this.currentPath=null}Object.assign(a4.prototype,{moveTo:function(e,t){return this.currentPath=new ks,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,i,n){return this.currentPath.quadraticCurveTo(e,t,i,n),this},bezierCurveTo:function(e,t,i,n,s,r){return this.currentPath.bezierCurveTo(e,t,i,n,s,r),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function i(h){const g=[];for(let E=0,w=h.length;E<w;E++){const v=h[E],x=new Oa;x.curves=v.curves,g.push(x)}return g}function n(h,g){const E=g.length;let w=!1;for(let v=E-1,x=0;x<E;v=x++){let b=g[v],A=g[x],M=A.x-b.x,G=A.y-b.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(b=g[x],M=-M,A=g[v],G=-G),h.y<b.y||h.y>A.y)continue;if(h.y===b.y){if(h.x===b.x)return!0}else{const T=G*(h.x-b.x)-M*(h.y-b.y);if(T===0)return!0;if(T<0)continue;w=!w}}else{if(h.y!==b.y)continue;if(A.x<=h.x&&h.x<=b.x||b.x<=h.x&&h.x<=A.x)return!0}}return w}const s=ia.isClockWise,r=this.subPaths;if(r.length===0)return[];if(t===!0)return i(r);let a,o,c,p=[];if(r.length===1)return o=r[0],c=new Oa,c.curves=o.curves,p.push(c),p;let f=!s(r[0].getPoints());f=e?!f:f;const l=[],u=[];let m=[],d=0,y;u[d]=void 0,m[d]=[];for(let h=0,g=r.length;h<g;h++)o=r[h],y=o.getPoints(),a=s(y),a=e?!a:a,a?(!f&&u[d]&&d++,u[d]={s:new Oa,p:y},u[d].s.curves=o.curves,f&&d++,m[d]=[]):m[d].push({h:o,p:y[0]});if(!u[0])return i(r);if(u.length>1){let h=!1;const g=[];for(let E=0,w=u.length;E<w;E++)l[E]=[];for(let E=0,w=u.length;E<w;E++){const v=m[E];for(let x=0;x<v.length;x++){const b=v[x];let A=!0;for(let M=0;M<u.length;M++)n(b.p,u[M].p)&&(E!==M&&g.push({froms:E,tos:M,hole:x}),A?(A=!1,l[M].push(b)):h=!0);A&&l[E].push(b)}}g.length>0&&(h||(m=l))}let _;for(let h=0,g=u.length;h<g;h++){c=u[h].s,p.push(c),_=m[h];for(let E=0,w=_.length;E<w;E++)c.holes.push(_[E].h)}return p}});function o4(e){this.type="Font",this.data=e}Object.assign(o4.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const i=[],n=$C(e,t,this.data);for(let s=0,r=n.length;s<r;s++)Array.prototype.push.apply(i,n[s].toShapes());return i}});function $C(e,t,i){const n=Array.from?Array.from(e):String(e).split(""),s=t/i.resolution,r=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*s,a=[];let o=0,c=0;for(let p=0;p<n.length;p++){const f=n[p];if(f===`
`)o=0,c-=r;else{const l=KC(f,s,o,c,i);o+=l.offsetX,a.push(l.path)}}return a}function KC(e,t,i,n,s){const r=s.glyphs[e]||s.glyphs["?"];if(!r){console.error('THREE.Font: character "'+e+'" does not exists in font family '+s.familyName+".");return}const a=new a4;let o,c,p,f,l,u,m,d;if(r.o){const y=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let _=0,h=y.length;_<h;)switch(y[_++]){case"m":o=y[_++]*t+i,c=y[_++]*t+n,a.moveTo(o,c);break;case"l":o=y[_++]*t+i,c=y[_++]*t+n,a.lineTo(o,c);break;case"q":p=y[_++]*t+i,f=y[_++]*t+n,l=y[_++]*t+i,u=y[_++]*t+n,a.quadraticCurveTo(l,u,p,f);break;case"b":p=y[_++]*t+i,f=y[_++]*t+n,l=y[_++]*t+i,u=y[_++]*t+n,m=y[_++]*t+i,d=y[_++]*t+n,a.bezierCurveTo(l,u,m,d,p,f);break}}return{offsetX:r.ha*t,path:a}}function Hy(e){ii.call(this,e)}Hy.prototype=Object.assign(Object.create(ii.prototype),{constructor:Hy,load:function(e,t,i,n){const s=this,r=new Hs(this.manager);r.setPath(this.path),r.load(e,function(a){let o;try{o=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),o=JSON.parse(a.substring(65,a.length-2))}const c=s.parse(o);t&&t(c)},i,n)},parse:function(e){return new o4(e)}});let N0;const c4={getContext:function(){return N0===void 0&&(N0=new(window.AudioContext||window.webkitAudioContext)),N0},setContext:function(e){N0=e}};function Ch(e){ii.call(this,e)}Ch.prototype=Object.assign(Object.create(ii.prototype),{constructor:Ch,load:function(e,t,i,n){const s=this,r=new Hs(s.manager);r.setResponseType("arraybuffer"),r.setPath(s.path),r.load(e,function(a){try{const o=a.slice(0);c4.getContext().decodeAudioData(o,function(p){t(p)})}catch(o){n?n(o):console.error(o),s.manager.itemError(e)}},i,n)}});function Uy(e,t,i){_s.call(this,void 0,i);const n=new Oe().set(e),s=new Oe().set(t),r=new P(n.r,n.g,n.b),a=new P(s.r,s.g,s.b),o=Math.sqrt(Math.PI),c=o*Math.sqrt(.75);this.sh.coefficients[0].copy(r).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(r).sub(a).multiplyScalar(c)}Uy.prototype=Object.assign(Object.create(_s.prototype),{constructor:Uy,isHemisphereLightProbe:!0,copy:function(e){return _s.prototype.copy.call(this,e),this},toJSON:function(e){return _s.prototype.toJSON.call(this,e)}});function Wy(e,t){_s.call(this,void 0,t);const i=new Oe().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}Wy.prototype=Object.assign(Object.create(_s.prototype),{constructor:Wy,isAmbientLightProbe:!0,copy:function(e){return _s.prototype.copy.call(this,e),this},toJSON:function(e){return _s.prototype.toJSON.call(this,e)}});const jy=new De,$y=new De;function p4(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Li,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Li,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(p4.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const n=e.projectionMatrix.clone(),s=t.eyeSep/2,r=s*t.near/t.focus,a=t.near*Math.tan(Pt.DEG2RAD*t.fov*.5)/t.zoom;let o,c;$y.elements[12]=-s,jy.elements[12]=s,o=-a*t.aspect+r,c=a*t.aspect+r,n.elements[0]=2*t.near/(c-o),n.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(n),o=-a*t.aspect-r,c=a*t.aspect-r,n.elements[0]=2*t.near/(c-o),n.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($y),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(jy)}});function f4(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(f4.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const Sa=new P,Ky=new ri,YC=new P,Ma=new P;function Yy(){Ue.call(this),this.type="AudioListener",this.context=c4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new f4}Yy.prototype=Object.assign(Object.create(Ue.prototype),{constructor:Yy,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Ue.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Sa,Ky,YC),Ma.set(0,0,-1).applyQuaternion(Ky),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Sa.x,n),t.positionY.linearRampToValueAtTime(Sa.y,n),t.positionZ.linearRampToValueAtTime(Sa.z,n),t.forwardX.linearRampToValueAtTime(Ma.x,n),t.forwardY.linearRampToValueAtTime(Ma.y,n),t.forwardZ.linearRampToValueAtTime(Ma.z,n),t.upX.linearRampToValueAtTime(i.x,n),t.upY.linearRampToValueAtTime(i.y,n),t.upZ.linearRampToValueAtTime(i.z,n)}else t.setPosition(Sa.x,Sa.y,Sa.z),t.setOrientation(Ma.x,Ma.y,Ma.z,i.x,i.y,i.z)}});function xf(e){Ue.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}xf.prototype=Object.assign(Object.create(Ue.prototype),{constructor:xf,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const Aa=new P,Jy=new ri,JC=new P,Ca=new P;function Qy(e){xf.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}Qy.prototype=Object.assign(Object.create(xf.prototype),{constructor:Qy,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(e){if(Ue.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Aa,Jy,JC),Ca.set(0,0,1).applyQuaternion(Jy);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Aa.x,i),t.positionY.linearRampToValueAtTime(Aa.y,i),t.positionZ.linearRampToValueAtTime(Aa.z,i),t.orientationX.linearRampToValueAtTime(Ca.x,i),t.orientationY.linearRampToValueAtTime(Ca.y,i),t.orientationZ.linearRampToValueAtTime(Ca.z,i)}else t.setPosition(Aa.x,Aa.y,Aa.z),t.setOrientation(Ca.x,Ca.y,Ca.z)}});function l4(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(l4.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}});function u4(e,t,i){this.binding=e,this.valueSize=i;let n,s,r;switch(t){case"quaternion":n=this._slerp,s=this._slerpAdditive,r=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":n=this._select,s=this._select,r=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:n=this._lerp,s=this._lerpAdditive,r=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=s,this._setIdentity=r,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(u4.prototype,{accumulate:function(e,t){const i=this.buffer,n=this.valueSize,s=e*n+n;let r=this.cumulativeWeight;if(r===0){for(let a=0;a!==n;++a)i[s+a]=i[a];r=t}else{r+=t;const a=t/r;this._mixBufferRegion(i,s,0,a,n)}this.cumulativeWeight=r},accumulateAdditive:function(e){const t=this.buffer,i=this.valueSize,n=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,i),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,i=this.buffer,n=e*t+t,s=this.cumulativeWeight,r=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const o=t*this._origIndex;this._mixBufferRegion(i,n,o,1-s,t)}r>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*t,1,t);for(let o=t,c=t+t;o!==c;++o)if(i[o]!==i[o+t]){a.setValue(i,n);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,i=this.valueSize,n=i*this._origIndex;e.getValue(t,n);for(let s=i,r=n;s!==r;++s)t[s]=t[n+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*4+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]},_select:function(e,t,i,n,s){if(n>=.5)for(let r=0;r!==s;++r)e[t+r]=e[i+r]},_slerp:function(e,t,i,n){ri.slerpFlat(e,t,e,t,e,i,n)},_slerpAdditive:function(e,t,i,n,s){const r=this._workIndex*s;ri.multiplyQuaternionsFlat(e,r,e,t,e,i),ri.slerpFlat(e,t,e,t,e,r,n)},_lerp:function(e,t,i,n,s){const r=1-n;for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]*r+e[i+a]*n}},_lerpAdditive:function(e,t,i,n,s){for(let r=0;r!==s;++r){const a=t+r;e[a]=e[a]+e[i+r]*n}}});const F_="\\[\\]\\.:\\/",QC=new RegExp("["+F_+"]","g"),R_="[^"+F_+"]",XC="[^"+F_.replace("\\.","")+"]",ZC=/((?:WC+[\/:])*)/.source.replace("WC",R_),eP=/(WCOD+)?/.source.replace("WCOD",XC),tP=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",R_),iP=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",R_),nP=new RegExp("^"+ZC+eP+tP+iP+"$"),sP=["material","materials","bones"];function m4(e,t,i){const n=i||hn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}Object.assign(m4.prototype,{getValue:function(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,n=this._bindings[i];n!==void 0&&n.getValue(e,t)},setValue:function(e,t){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=i.length;n!==s;++n)i[n].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}});function hn(e,t,i){this.path=t,this.parsedPath=i||hn.parseTrackName(t),this.node=hn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(hn,{Composite:m4,create:function(e,t,i){return e&&e.isAnimationObjectGroup?new hn.Composite(e,t,i):new hn(e,t,i)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(QC,"")},parseTrackName:function(e){const t=nP.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const s=i.nodeName.substring(n+1);sP.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let r=0;r<s.length;r++){const a=s[r];if(a.name===t||a.uuid===t)return a;const o=i(a.children);if(o)return o}return null},n=i(e.children);if(n)return n}return null}});Object.assign(hn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,i){t[i]=this.node[this.propertyName]},function(t,i){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)t[i++]=n[s]},function(t,i){t[i]=this.resolvedProperty[this.propertyIndex]},function(t,i){this.resolvedProperty.toArray(t,i)}],SetterByBindingTypeAndVersioning:[[function(t,i){this.targetObject[this.propertyName]=t[i]},function(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0},function(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,i){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)n[s]=t[i++]},function(t,i){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)n[s]=t[i++];this.targetObject.needsUpdate=!0},function(t,i){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)n[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,i){this.resolvedProperty[this.propertyIndex]=t[i]},function(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0},function(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,i){this.resolvedProperty.fromArray(t,i)},function(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0},function(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,i){this.bind(),this.getValue(t,i)},setValue:function(t,i){this.bind(),this.setValue(t,i)},bind:function(){let e=this.node,t=this.parsedPath,i=t.objectName,n=t.propertyName,s=t.propertyIndex;if(e||(e=hn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===c){c=p;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const r=e[n];if(r===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+n+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(s!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}o=this.BindingType.ArrayElement,this.resolvedProperty=r,this.propertyIndex=s}else r.fromArray!==void 0&&r.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=r):Array.isArray(r)?(o=this.BindingType.EntireArray,this.resolvedProperty=r):this.propertyName=n;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(hn.prototype,{_getValue_unbound:hn.prototype.getValue,_setValue_unbound:hn.prototype.setValue});function rP(){this.uuid=Pt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,n=arguments.length;i!==n;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(rP.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,i=this._paths,n=this._parsedPaths,s=this._bindings,r=s.length;let a,o=e.length,c=this.nCachedObjects_;for(let p=0,f=arguments.length;p!==f;++p){const l=arguments[p],u=l.uuid;let m=t[u];if(m===void 0){m=o++,t[u]=m,e.push(l);for(let d=0,y=r;d!==y;++d)s[d].push(new hn(l,i[d],n[d]))}else if(m<c){a=e[m];const d=--c,y=e[d];t[y.uuid]=m,e[m]=y,t[u]=d,e[d]=l;for(let _=0,h=r;_!==h;++_){const g=s[_],E=g[d];let w=g[m];g[m]=E,w===void 0&&(w=new hn(l,i[_],n[_])),g[d]=w}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,n=i.length;let s=this.nCachedObjects_;for(let r=0,a=arguments.length;r!==a;++r){const o=arguments[r],c=o.uuid,p=t[c];if(p!==void 0&&p>=s){const f=s++,l=e[f];t[l.uuid]=p,e[p]=l,t[c]=f,e[f]=o;for(let u=0,m=n;u!==m;++u){const d=i[u],y=d[f],_=d[p];d[p]=y,d[f]=_}}}this.nCachedObjects_=s},uncache:function(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,n=i.length;let s=this.nCachedObjects_,r=e.length;for(let a=0,o=arguments.length;a!==o;++a){const c=arguments[a],p=c.uuid,f=t[p];if(f!==void 0)if(delete t[p],f<s){const l=--s,u=e[l],m=--r,d=e[m];t[u.uuid]=f,e[f]=u,t[d.uuid]=l,e[l]=d,e.pop();for(let y=0,_=n;y!==_;++y){const h=i[y],g=h[l],E=h[m];h[f]=g,h[l]=E,h.pop()}}else{const l=--r,u=e[l];t[u.uuid]=f,e[f]=u,e.pop();for(let m=0,d=n;m!==d;++m){const y=i[m];y[f]=y[l],y.pop()}}}this.nCachedObjects_=s},subscribe_:function(e,t){let i=this._bindingsIndicesByPath,n=i[e],s=this._bindings;if(n!==void 0)return s[n];const r=this._paths,a=this._parsedPaths,o=this._objects,c=o.length,p=this.nCachedObjects_,f=new Array(c);n=s.length,i[e]=n,r.push(e),a.push(t),s.push(f);for(let l=p,u=o.length;l!==u;++l){const m=o[l];f[l]=new hn(m,e,t)}return f},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const n=this._paths,s=this._parsedPaths,r=this._bindings,a=r.length-1,o=r[a],c=e[a];t[c]=i,r[i]=o,r.pop(),s[i]=s[a],s.pop(),n[i]=n[a],n.pop()}}});function d4(e,t,i,n){this._mixer=e,this._clip=t,this._localRoot=i||null,this.blendMode=n||t.blendMode;const s=t.tracks,r=s.length,a=new Array(r),o={endingStart:lc,endingEnd:lc};for(let c=0;c!==r;++c){const p=s[c].createInterpolant(null);a[c]=p,p.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Q8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(d4.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const n=this._clip.duration,s=e._clip.duration,r=s/n,a=n/s;e.warp(1,r,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,i){const n=this._mixer,s=n.time,r=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=s,o[1]=s+i,c[0]=e/r,c[1]=t/r,this},stopWarping:function(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,n){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const o=(e-s)*i;if(o<0||i===0)return;this._startTime=null,t=i*o}t*=this._updateTimeScale(e);const r=this._updateTime(t),a=this._updateWeight(e);if(a>0){const o=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case N6:for(let p=0,f=o.length;p!==f;++p)o[p].evaluate(r),c[p].accumulateAdditive(a);break;case A_:default:for(let p=0,f=o.length;p!==f;++p)o[p].evaluate(r),c[p].accumulate(n,a)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,i=this.loop;let n=this.time+e,s=this._loopCount;const r=i===X8;if(e===0)return s===-1?n:r&&(s&1)===1?t-n:n;if(i===J8){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,r)):this._setEndings(this.repetitions===0,!0,r)),n>=t||n<0){const a=Math.floor(n/t);n-=t*a,s+=Math.abs(a);const o=this.repetitions-s;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(o===1){const c=e<0;this._setEndings(c,!c,r)}else this._setEndings(!1,!1,r);this._loopCount=s,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=n;if(r&&(s&1)===1)return t-n}return n},_setEndings:function(e,t,i){const n=this._interpolantSettings;i?(n.endingStart=jo,n.endingEnd=jo):(e?n.endingStart=this.zeroSlopeAtStart?jo:lc:n.endingStart=Ql,t?n.endingEnd=this.zeroSlopeAtEnd?jo:lc:n.endingEnd=Ql)},_scheduleFading:function(e,t,i){const n=this._mixer,s=n.time;let r=this._weightInterpolant;r===null&&(r=n._lendControlInterpolant(),this._weightInterpolant=r);const a=r.parameterPositions,o=r.sampleValues;return a[0]=s,o[0]=t,a[1]=s+e,o[1]=i,this}});function Xy(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Xy.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Xy,_bindAction:function(e,t){const i=e._localRoot||this._root,n=e._clip.tracks,s=n.length,r=e._propertyBindings,a=e._interpolants,o=i.uuid,c=this._bindingsByRootAndName;let p=c[o];p===void 0&&(p={},c[o]=p);for(let f=0;f!==s;++f){const l=n[f],u=l.name;let m=p[u];if(m!==void 0)r[f]=m;else{if(m=r[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,o,u));continue}const d=t&&t._propertyBindings[f].binding.parsedPath;m=new u4(hn.create(i,u,d),l.ValueTypeName,l.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,o,u),r[f]=m}a[f].resultBuffer=m.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,n=e._clip.uuid,s=this._actionsByClip[n];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,n,i)}const t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){const n=this._actions,s=this._actionsByClip;let r=s[t];if(r===void 0)r={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=r;else{const a=r.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=n.length,n.push(e),r.actionByRoot[i]=e},_removeInactiveAction:function(e){const t=this._actions,i=t[t.length-1],n=e._cacheIndex;i._cacheIndex=n,t[n]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,r=this._actionsByClip,a=r[s],o=a.knownActions,c=o[o.length-1],p=e._byClipCacheIndex;c._byClipCacheIndex=p,o[p]=c,o.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,l=(e._localRoot||this._root).uuid;delete f[l],o.length===0&&delete r[s],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let i=0,n=t.length;i!==n;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}},_lendAction:function(e){const t=this._actions,i=e._cacheIndex,n=this._nActiveActions++,s=t[n];e._cacheIndex=n,t[n]=e,s._cacheIndex=i,t[i]=s},_takeBackAction:function(e){const t=this._actions,i=e._cacheIndex,n=--this._nActiveActions,s=t[n];e._cacheIndex=n,t[n]=e,s._cacheIndex=i,t[i]=s},_addInactiveBinding:function(e,t,i){const n=this._bindingsByRootAndName,s=this._bindings;let r=n[t];r===void 0&&(r={},n[t]=r),r[i]=e,e._cacheIndex=s.length,s.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,i=e.binding,n=i.rootNode.uuid,s=i.path,r=this._bindingsByRootAndName,a=r[n],o=t[t.length-1],c=e._cacheIndex;o._cacheIndex=c,t[c]=o,t.pop(),delete a[s],Object.keys(a).length===0&&delete r[n]},_lendBinding:function(e){const t=this._bindings,i=e._cacheIndex,n=this._nActiveBindings++,s=t[n];e._cacheIndex=n,t[n]=e,s._cacheIndex=i,t[i]=s},_takeBackBinding:function(e){const t=this._bindings,i=e._cacheIndex,n=--this._nActiveBindings,s=t[n];e._cacheIndex=n,t[n]=e,s._cacheIndex=i,t[i]=s},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new Eu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,i=e.__cacheIndex,n=--this._nActiveControlInterpolants,s=t[n];e.__cacheIndex=n,t[n]=e,s.__cacheIndex=i,t[i]=s},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,i){const n=t||this._root,s=n.uuid;let r=typeof e=="string"?ds.findByName(n,e):e;const a=r!==null?r.uuid:e;let o=this._actionsByClip[a],c=null;if(i===void 0&&(r!==null?i=r.blendMode:i=A_),o!==void 0){const f=o.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;c=o.knownActions[0],r===null&&(r=c._clip)}if(r===null)return null;const p=new d4(this,r,t,i);return this._bindAction(p,c),this._addInactiveAction(p,a,s),p},existingAction:function(e,t){const i=t||this._root,n=i.uuid,s=typeof e=="string"?ds.findByName(i,e):e,r=s?s.uuid:e,a=this._actionsByClip[r];return a!==void 0&&a.actionByRoot[n]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,n=this.time+=e,s=Math.sign(e),r=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(n,e,s,r);const a=this._bindings,o=this._nActiveBindings;for(let c=0;c!==o;++c)a[c].apply(r);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,i=e.uuid,n=this._actionsByClip,s=n[i];if(s!==void 0){const r=s.knownActions;for(let a=0,o=r.length;a!==o;++a){const c=r[a];this._deactivateAction(c);const p=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=p,t[p]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}},uncacheRoot:function(e){const t=e.uuid,i=this._actionsByClip;for(const r in i){const a=i[r].actionByRoot,o=a[t];o!==void 0&&(this._deactivateAction(o),this._removeInactiveAction(o))}const n=this._bindingsByRootAndName,s=n[t];if(s!==void 0)for(const r in s){const a=s[r];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}});function Sf(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}Sf.prototype.clone=function(){return new Sf(this.value.clone===void 0?this.value:this.value.clone())};function Zy(e,t,i){Kn.call(this,e,t),this.meshPerAttribute=i||1}Zy.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Zy,isInstancedInterleavedBuffer:!0,copy:function(e){return Kn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Kn.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Kn.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function h4(e,t,i,n){this.ray=new Oc(e,t),this.near=i||0,this.far=n||1/0,this.camera=null,this.layers=new T_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function e2(e,t){return e.distance-t.distance}function Ph(e,t,i,n){if(e.layers.test(t.layers)&&e.raycast(t,i),n===!0){const s=e.children;for(let r=0,a=s.length;r<a;r++)Ph(s[r],t,i,!0)}}Object.assign(h4.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,i){const n=i||[];return Ph(e,this,n,t),n.sort(e2),n},intersectObjects:function(e,t,i){const n=i||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(let s=0,r=e.length;s<r;s++)Ph(e[s],this,n,t);return n.sort(e2),n}});function aP(e,t,i){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=i!==void 0?i:0,this}Object.assign(aP.prototype,{set:function(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Pt.clamp(t/this.radius,-1,1))),this}});function oP(e,t,i){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=i!==void 0?i:0,this}Object.assign(oP.prototype,{set:function(e,t,i){return this.radius=e,this.theta=t,this.y=i,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}});const t2=new Te;function _4(e,t){this.min=e!==void 0?e:new Te(1/0,1/0),this.max=t!==void 0?t:new Te(-1/0,-1/0)}Object.assign(_4.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const i=t2.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Te),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Te),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Te),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Te),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return t2.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const i2=new P,D0=new P;function y4(e,t){this.start=e!==void 0?e:new P,this.end=t!==void 0?t:new P}Object.assign(y4.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new P),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new P),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new P),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){i2.subVectors(e,this.start),D0.subVectors(this.end,this.start);const i=D0.dot(D0);let s=D0.dot(i2)/i;return t&&(s=Pt.clamp(s,0,1)),s},closestPointToPoint:function(e,t,i){const n=this.closestPointToPointParameter(e,t);return i===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new P),this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function Mu(e){Ue.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Mu.prototype=Object.create(Ue.prototype);Mu.prototype.constructor=Mu;Mu.prototype.isImmediateRenderObject=!0;const n2=new P;function Mf(e,t){Ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const i=new We,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let r=0,a=1,o=32;r<o;r++,a++){const c=r/o*Math.PI*2,p=a/o*Math.PI*2;n.push(Math.cos(c),Math.sin(c),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new $e(n,3));const s=new Pi({fog:!1,toneMapped:!1});this.cone=new Ei(i,s),this.add(this.cone),this.update()}Mf.prototype=Object.create(Ue.prototype);Mf.prototype.constructor=Mf;Mf.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};Mf.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),n2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(n2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const Hr=new P,G0=new De,im=new De;function g4(e){const t=[];e&&e.isBone&&t.push(e);for(let i=0;i<e.children.length;i++)t.push.apply(t,g4(e.children[i]));return t}function Lc(e){const t=g4(e),i=new We,n=[],s=[],r=new Oe(0,0,1),a=new Oe(0,1,0);for(let c=0;c<t.length;c++){const p=t[c];p.parent&&p.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),s.push(r.r,r.g,r.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new $e(n,3)),i.setAttribute("color",new $e(s,3));const o=new Pi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Ei.call(this,i,o),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}Lc.prototype=Object.create(Ei.prototype);Lc.prototype.constructor=Lc;Lc.prototype.isSkeletonHelper=!0;Lc.prototype.updateMatrixWorld=function(e){const t=this.bones,i=this.geometry,n=i.getAttribute("position");im.getInverse(this.root.matrixWorld);for(let s=0,r=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(G0.multiplyMatrices(im,a.matrixWorld),Hr.setFromMatrixPosition(G0),n.setXYZ(r,Hr.x,Hr.y,Hr.z),G0.multiplyMatrices(im,a.parent.matrixWorld),Hr.setFromMatrixPosition(G0),n.setXYZ(r+1,Hr.x,Hr.y,Hr.z),r+=2)}i.getAttribute("position").needsUpdate=!0,Ue.prototype.updateMatrixWorld.call(this,e)};function Af(e,t,i){this.light=e,this.light.updateMatrixWorld(),this.color=i;const n=new wc(t,4,2),s=new gs({wireframe:!0,fog:!1,toneMapped:!1});ci.call(this,n,s),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Af.prototype=Object.create(ci.prototype);Af.prototype.constructor=Af;Af.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};Af.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const cP=new P,s2=new Oe,r2=new Oe;function Cf(e,t,i){Ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const n=new Ja(t);n.rotateY(Math.PI*.5),this.material=new gs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=n.getAttribute("position"),r=new Float32Array(s.count*3);n.setAttribute("color",new it(r,3)),this.add(new ci(n,this.material)),this.update()}Cf.prototype=Object.create(Ue.prototype);Cf.prototype.constructor=Cf;Cf.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};Cf.prototype.update=function(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");s2.copy(this.light.color),r2.copy(this.light.groundColor);for(let i=0,n=t.count;i<n;i++){const s=i<n/2?s2:r2;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(cP.setFromMatrixPosition(this.light.matrixWorld).negate())};function Th(e,t,i,n){e=e||10,t=t||10,i=new Oe(i!==void 0?i:4473924),n=new Oe(n!==void 0?n:8947848);const s=t/2,r=e/t,a=e/2,o=[],c=[];for(let l=0,u=0,m=-a;l<=t;l++,m+=r){o.push(-a,0,m,a,0,m),o.push(m,0,-a,m,0,a);const d=l===s?i:n;d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3}const p=new We;p.setAttribute("position",new $e(o,3)),p.setAttribute("color",new $e(c,3));const f=new Pi({vertexColors:!0,toneMapped:!1});Ei.call(this,p,f),this.type="GridHelper"}Th.prototype=Object.assign(Object.create(Ei.prototype),{constructor:Th,copy:function(e){return Ei.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function Ih(e,t,i,n,s,r){e=e||10,t=t||16,i=i||8,n=n||64,s=new Oe(s!==void 0?s:4473924),r=new Oe(r!==void 0?r:8947848);const a=[],o=[];for(let f=0;f<=t;f++){const l=f/t*(Math.PI*2),u=Math.sin(l)*e,m=Math.cos(l)*e;a.push(0,0,0),a.push(u,0,m);const d=f&1?s:r;o.push(d.r,d.g,d.b),o.push(d.r,d.g,d.b)}for(let f=0;f<=i;f++){const l=f&1?s:r,u=e-e/i*f;for(let m=0;m<n;m++){let d=m/n*(Math.PI*2),y=Math.sin(d)*u,_=Math.cos(d)*u;a.push(y,0,_),o.push(l.r,l.g,l.b),d=(m+1)/n*(Math.PI*2),y=Math.sin(d)*u,_=Math.cos(d)*u,a.push(y,0,_),o.push(l.r,l.g,l.b)}}const c=new We;c.setAttribute("position",new $e(a,3)),c.setAttribute("color",new $e(o,3));const p=new Pi({vertexColors:!0,toneMapped:!1});Ei.call(this,c,p),this.type="PolarGridHelper"}Ih.prototype=Object.create(Ei.prototype);Ih.prototype.constructor=Ih;const a2=new P,O0=new P,o2=new P;function Pf(e,t,i){Ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,t===void 0&&(t=1);let n=new We;n.setAttribute("position",new $e([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Pi({fog:!1,toneMapped:!1});this.lightPlane=new Qn(n,s),this.add(this.lightPlane),n=new We,n.setAttribute("position",new $e([0,0,0,0,0,1],3)),this.targetLine=new Qn(n,s),this.add(this.targetLine),this.update()}Pf.prototype=Object.create(Ue.prototype);Pf.prototype.constructor=Pf;Pf.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};Pf.prototype.update=function(){a2.setFromMatrixPosition(this.light.matrixWorld),O0.setFromMatrixPosition(this.light.target.matrixWorld),o2.subVectors(O0,a2),this.lightPlane.lookAt(O0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(O0),this.targetLine.scale.z=o2.length()};const k0=new P,vi=new gr;function Au(e){const t=new We,i=new Pi({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],s=[],r={},a=new Oe(16755200),o=new Oe(16711680),c=new Oe(43775),p=new Oe(16777215),f=new Oe(3355443);l("n1","n2",a),l("n2","n4",a),l("n4","n3",a),l("n3","n1",a),l("f1","f2",a),l("f2","f4",a),l("f4","f3",a),l("f3","f1",a),l("n1","f1",a),l("n2","f2",a),l("n3","f3",a),l("n4","f4",a),l("p","n1",o),l("p","n2",o),l("p","n3",o),l("p","n4",o),l("u1","u2",c),l("u2","u3",c),l("u3","u1",c),l("c","t",p),l("p","c",f),l("cn1","cn2",f),l("cn3","cn4",f),l("cf1","cf2",f),l("cf3","cf4",f);function l(m,d,y){u(m,y),u(d,y)}function u(m,d){n.push(0,0,0),s.push(d.r,d.g,d.b),r[m]===void 0&&(r[m]=[]),r[m].push(n.length/3-1)}t.setAttribute("position",new $e(n,3)),t.setAttribute("color",new $e(s,3)),Ei.call(this,t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=r,this.update()}Au.prototype=Object.create(Ei.prototype);Au.prototype.constructor=Au;Au.prototype.update=function(){const e=this.geometry,t=this.pointMap,i=1,n=1;vi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Si("c",t,e,vi,0,0,-1),Si("t",t,e,vi,0,0,1),Si("n1",t,e,vi,-i,-n,-1),Si("n2",t,e,vi,i,-n,-1),Si("n3",t,e,vi,-i,n,-1),Si("n4",t,e,vi,i,n,-1),Si("f1",t,e,vi,-i,-n,1),Si("f2",t,e,vi,i,-n,1),Si("f3",t,e,vi,-i,n,1),Si("f4",t,e,vi,i,n,1),Si("u1",t,e,vi,i*.7,n*1.1,-1),Si("u2",t,e,vi,-i*.7,n*1.1,-1),Si("u3",t,e,vi,0,n*2,-1),Si("cf1",t,e,vi,-i,0,1),Si("cf2",t,e,vi,i,0,1),Si("cf3",t,e,vi,0,-n,1),Si("cf4",t,e,vi,0,n,1),Si("cn1",t,e,vi,-i,0,-1),Si("cn2",t,e,vi,i,0,-1),Si("cn3",t,e,vi,0,-n,-1),Si("cn4",t,e,vi,0,n,-1),e.getAttribute("position").needsUpdate=!0};function Si(e,t,i,n,s,r,a){k0.set(s,r,a).unproject(n);const o=t[e];if(o!==void 0){const c=i.getAttribute("position");for(let p=0,f=o.length;p<f;p++)c.setXYZ(o[p],k0.x,k0.y,k0.z)}}const B0=new ai;function Za(e,t){this.object=e,t===void 0&&(t=16776960);const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(8*3),s=new We;s.setIndex(new it(i,1)),s.setAttribute("position",new it(n,3)),Ei.call(this,s,new Pi({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}Za.prototype=Object.create(Ei.prototype);Za.prototype.constructor=Za;Za.prototype.update=function(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&B0.setFromObject(this.object),B0.isEmpty())return;const t=B0.min,i=B0.max,n=this.geometry.attributes.position,s=n.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()};Za.prototype.setFromObject=function(e){return this.object=e,this.update(),this};Za.prototype.copy=function(e){return Ei.prototype.copy.call(this,e),this.object=e.object,this};Za.prototype.clone=function(){return new this.constructor().copy(this)};function Cu(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new We;s.setIndex(new it(i,1)),s.setAttribute("position",new $e(n,3)),Ei.call(this,s,new Pi({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}Cu.prototype=Object.create(Ei.prototype);Cu.prototype.constructor=Cu;Cu.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Ue.prototype.updateMatrixWorld.call(this,e))};function Pu(e,t,i){this.plane=e,this.size=t===void 0?1:t;const n=i!==void 0?i:16776960,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],r=new We;r.setAttribute("position",new $e(s,3)),r.computeBoundingSphere(),Qn.call(this,r,new Pi({color:n,toneMapped:!1})),this.type="PlaneHelper";const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],o=new We;o.setAttribute("position",new $e(a,3)),o.computeBoundingSphere(),this.add(new ci(o,new gs({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}Pu.prototype=Object.create(Qn.prototype);Pu.prototype.constructor=Pu;Pu.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Gi:Dc,this.lookAt(this.plane.normal),Ue.prototype.updateMatrixWorld.call(this,e)};const c2=new P;let V0,nm;function ua(e,t,i,n,s,r){Ue.call(this),this.type="ArrowHelper",e===void 0&&(e=new P(0,0,1)),t===void 0&&(t=new P(0,0,0)),i===void 0&&(i=1),n===void 0&&(n=16776960),s===void 0&&(s=.2*i),r===void 0&&(r=.2*s),V0===void 0&&(V0=new We,V0.setAttribute("position",new $e([0,0,0,0,1,0],3)),nm=new vr(0,.5,1,5,1),nm.translate(0,-.5,0)),this.position.copy(t),this.line=new Qn(V0,new Pi({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ci(nm,new gs({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,r)}ua.prototype=Object.create(Ue.prototype);ua.prototype.constructor=ua;ua.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{c2.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(c2,t)}};ua.prototype.setLength=function(e,t,i){t===void 0&&(t=.2*e),i===void 0&&(i=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()};ua.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)};ua.prototype.copy=function(e){return Ue.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};ua.prototype.clone=function(){return new this.constructor().copy(this)};function Lh(e){e=e||1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new We;n.setAttribute("position",new $e(t,3)),n.setAttribute("color",new $e(i,3));const s=new Pi({vertexColors:!0,toneMapped:!1});Ei.call(this,n,s),this.type="AxesHelper"}Lh.prototype=Object.create(Ei.prototype);Lh.prototype.constructor=Lh;const sc=4,na=8,Ds=Math.pow(2,na),w4=[.125,.215,.35,.446,.526,.582],E4=na-sc+1+w4.length,No=20,Bs={[an]:0,[Uf]:1,[P_]:2,[D6]:3,[G6]:4,[O6]:5,[C_]:6},sm=new la,{_lodPlanes:op,_sizeLods:p2,_sigmas:q0}=fP();let rm=null;const Ia=(1+Math.sqrt(5))/2,Mo=1/Ia,f2=[new P(1,1,1),new P(-1,1,1),new P(1,1,-1),new P(-1,1,-1),new P(0,Ia,Mo),new P(0,Ia,-Mo),new P(Mo,0,Ia),new P(-Mo,0,Ia),new P(Ia,Mo,0),new P(-Ia,Mo,0)];function l2(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=lP(No),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}l2.prototype={constructor:l2,fromScene:function(e,t=0,i=.1,n=100){rm=this._renderer.getRenderTarget();const s=this._allocateTargets();return this._sceneToCubeUV(e,i,n,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=d2(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=m2(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<op.length;e++)op[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(rm),e.scissorTest=!1,z0(e,0,0,e.width,e.height)},_fromTexture:function(e){rm=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:si,minFilter:si,generateMipmaps:!1,type:Ha,format:m8,encoding:pP(e)?e.encoding:P_,depthBuffer:!1,stencilBuffer:!1},i=u2(t);return i.depthBuffer=!e,this._pingPongRenderTarget=u2(t),i},_compileMaterial:function(e){const t=new ci(op[0],e);this._renderer.compile(t,sm)},_sceneToCubeUV:function(e,t,i,n){const a=new Li(90,1,t,i),o=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],p=this._renderer,f=p.outputEncoding,l=p.toneMapping,u=p.getClearColor(),m=p.getClearAlpha();p.toneMapping=ic,p.outputEncoding=an;let d=e.background;if(d&&d.isColor){d.convertSRGBToLinear();const y=Math.max(d.r,d.g,d.b),_=Math.min(Math.max(Math.ceil(Math.log2(y)),-128),127);d=d.multiplyScalar(Math.pow(2,-_));const h=(_+128)/255;p.setClearColor(d,h),e.background=null}for(let y=0;y<6;y++){const _=y%3;_==0?(a.up.set(0,o[y],0),a.lookAt(c[y],0,0)):_==1?(a.up.set(0,0,o[y]),a.lookAt(0,c[y],0)):(a.up.set(0,o[y],0),a.lookAt(0,0,c[y])),z0(n,_*Ds,y>2?Ds:0,Ds,Ds),p.setRenderTarget(n),p.render(e,a)}p.toneMapping=l,p.outputEncoding=f,p.setClearColor(u,m)},_textureToCubeUV:function(e,t){const i=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=d2()):this._equirectShader==null&&(this._equirectShader=m2());const n=e.isCubeTexture?this._cubemapShader:this._equirectShader,s=new ci(op[0],n),r=n.uniforms;r.envMap.value=e,e.isCubeTexture||r.texelSize.value.set(1/e.image.width,1/e.image.height),r.inputEncoding.value=Bs[e.encoding],r.outputEncoding.value=Bs[t.texture.encoding],z0(t,0,0,3*Ds,2*Ds),i.setRenderTarget(t),i.render(s,sm)},_applyPMREM:function(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let n=1;n<E4;n++){const s=Math.sqrt(q0[n]*q0[n]-q0[n-1]*q0[n-1]),r=f2[(n-1)%f2.length];this._blur(e,n-1,n,s,r)}t.autoClear=i},_blur:function(e,t,i,n,s){const r=this._pingPongRenderTarget;this._halfBlur(e,r,t,i,n,"latitudinal",s),this._halfBlur(r,e,i,i,n,"longitudinal",s)},_halfBlur:function(e,t,i,n,s,r,a){const o=this._renderer,c=this._blurMaterial;r!=="latitudinal"&&r!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,f=new ci(op[n],c),l=c.uniforms,u=p2[i]-1,m=isFinite(s)?Math.PI/(2*u):2*Math.PI/(2*No-1),d=s/m,y=isFinite(s)?1+Math.floor(p*d):No;y>No&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${No}`);const _=[];let h=0;for(let v=0;v<No;++v){const x=v/d,b=Math.exp(-x*x/2);_.push(b),v==0?h+=b:v<y&&(h+=2*b)}for(let v=0;v<_.length;v++)_[v]=_[v]/h;l.envMap.value=e.texture,l.samples.value=y,l.weights.value=_,l.latitudinal.value=r==="latitudinal",a&&(l.poleAxis.value=a),l.dTheta.value=m,l.mipInt.value=na-i,l.inputEncoding.value=Bs[e.texture.encoding],l.outputEncoding.value=Bs[e.texture.encoding];const g=p2[n],E=3*Math.max(0,Ds-2*g),w=(n===0?0:2*Ds)+2*g*(n>na-sc?n-na+sc:0);z0(t,E,w,3*g,2*g),o.setRenderTarget(t),o.render(f,sm)}};function pP(e){return e===void 0||e.type!==Ha?!1:e.encoding===an||e.encoding===Uf||e.encoding===C_}function fP(){const e=[],t=[],i=[];let n=na;for(let s=0;s<E4;s++){const r=Math.pow(2,n);t.push(r);let a=1/r;s>na-sc?a=w4[s-na+sc-1]:s==0&&(a=0),i.push(a);const o=1/(r-1),c=-o/2,p=1+o/2,f=[c,c,p,c,p,p,c,c,p,p,c,p],l=6,u=6,m=3,d=2,y=1,_=new Float32Array(m*u*l),h=new Float32Array(d*u*l),g=new Float32Array(y*u*l);for(let w=0;w<l;w++){const v=w%3*2/3-1,x=w>2?0:-1,b=[v,x,0,v+2/3,x,0,v+2/3,x+1,0,v,x,0,v+2/3,x+1,0,v,x+1,0];_.set(b,m*u*w),h.set(f,d*u*w);const A=[w,w,w,w,w,w];g.set(A,y*u*w)}const E=new We;E.setAttribute("position",new it(_,m)),E.setAttribute("uv",new it(h,d)),E.setAttribute("faceIndex",new it(g,y)),e.push(E),n>sc&&n--}return{_lodPlanes:e,_sizeLods:t,_sigmas:i}}function u2(e){const t=new dn(3*Ds,3*Ds,e);return t.texture.mapping=Hf,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function z0(e,t,i,n,s){e.viewport.set(t,i,n,s),e.scissor.set(t,i,n,s)}function lP(e){const t=new Float32Array(e),i=new P(0,1,0);return new fa({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i},inputEncoding:{value:Bs[an]},outputEncoding:{value:Bs[an]}},vertexShader:N_(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${D_()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:_r,depthTest:!1,depthWrite:!1})}function m2(){const e=new Te(1,1);return new fa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Bs[an]},outputEncoding:{value:Bs[an]}},vertexShader:N_(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${D_()}

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:_r,depthTest:!1,depthWrite:!1})}function d2(){return new fa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Bs[an]},outputEncoding:{value:Bs[an]}},vertexShader:N_(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${D_()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:_r,depthTest:!1,depthWrite:!1})}function N_(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function D_(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}at.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(at.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Zr.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new ut;for(let i=0,n=e.length;i<n;i++){const s=e[i];t.vertices.push(new P(s.x,s.y,s.z||0))}return t}});Object.assign(ks.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(Gn.prototype);Object.create(Gn.prototype);function v4(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Gn.call(this,e),this.type="catmullrom"}v4.prototype=Object.create(Gn.prototype);Object.assign(v4.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});Th.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Lc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(ii.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),r4.extractUrlBase(e)}});ii.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(Ah.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(_4.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(ai.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Tr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});jf.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};y4.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(Pt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Pt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Pt.ceilPowerOfTwo(e)}});Object.assign(Yi.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(De.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new P().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,i,n,s,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,i,s,r)}});Os.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};ri.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(Oc.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(Ki.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(Ki,{barycoordFromPoint:function(e,t,i,n,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ki.getBarycoord(e,t,i,n,s)},normal:function(e,t,i,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ki.getNormal(e,t,i,n)}});Object.assign(Oa.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new gc(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ec(this,e)}});Object.assign(Te.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(P.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(ti.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(ut.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(Ue.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ue.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(ci.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(ci.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Z8},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(tu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(th.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});eh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(at.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Li.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(mi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(it.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Jp},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Jp)}}});Object.assign(it.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Jp:Yu),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(We.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new it(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,i){i!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(We.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(Su.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(h4.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(Kn.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Jp},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(Kn.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Jp:Yu),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Er.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Sf.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(gt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Oe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===T6}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(Xa.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ki.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign($f.prototype,{clearTarget:function(e,t,i,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,i,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties($f.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?Uf:an}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(J6.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(dn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(xf.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new Ch().load(e,function(n){t.setBuffer(n)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});l4.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Zp.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Ua.crossOrigin=void 0;Ua.loadTexture=function(e,t,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new dh;s.setCrossOrigin(this.crossOrigin);const r=s.load(e,i,void 0,n);return t&&(r.mapping=t),r};Ua.loadTextureCube=function(e,t,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new mh;s.setCrossOrigin(this.crossOrigin);const r=s.load(e,i,void 0,n);return t&&(r.mapping=t),r};Ua.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ua.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Px}}));var b4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fh={exports:{}};(function(e,t){/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var i,n,s,r,a,o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x,b,A,M,G,T,N,D,L,C,O,q,z,$,re,K,J,Y,le,fe,X,ae,ne,pe,U,W,Z,ie,ue,he,ge,k,H,me,oe,te,se,we,Me,_e,Se,Ee,Re,Pe,Ae,Ve,rt,tt,Xe,mt,ht,ot,je,St,Ze,ze,Mt,Ge,qe,Qe,j,xe,ye=[].slice;Ge=function(){var S,I,F,B,V;for(S={},V="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),B=0,I=V.length;B<I;B++)F=V[B],S["[object "+F+"]"]=F.toLowerCase();return function(Q){var ee;return ee=Object.prototype.toString.call(Q),S[ee]||"object"}}(),Z=function(S,I,F){return I==null&&(I=0),F==null&&(F=1),S<I&&(S=I),S>F&&(S=F),S},qe=function(S){return S.length>=3?Array.prototype.slice.call(S):S[0]},x=function(S){var I,F;for(S._clipped=!1,S._unclipped=S.slice(0),I=F=0;F<3;I=++F)I<3?((S[I]<0||S[I]>255)&&(S._clipped=!0),S[I]<0&&(S[I]=0),S[I]>255&&(S[I]=255)):I===3&&(S[I]<0&&(S[I]=0),S[I]>1&&(S[I]=1));return S._clipped||delete S._unclipped,S},r=Math.PI,je=Math.round,A=Math.cos,D=Math.floor,te=Math.pow,ie=Math.log,Ze=Math.sin,ze=Math.sqrt,y=Math.atan2,ge=Math.max,d=Math.abs,c=r*2,a=r/3,n=r/180,o=180/r,v=function(){return arguments[0]instanceof i?arguments[0]:function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,arguments,function(){})},v.default=v,m=[],e!==null&&e.exports!=null&&(e.exports=v),ot=t!==null?t:this,ot.chroma=v,v.version="1.4.1",u={},f=[],l=!1,i=function(){function S(){var I,F,B,V,Q,ee,ce,be,ve;for(ee=this,F=[],be=0,V=arguments.length;be<V;be++)I=arguments[be],I!=null&&F.push(I);if(F.length>1&&(ce=F[F.length-1]),u[ce]!=null)ee._rgb=x(u[ce](qe(F.slice(0,-1))));else{for(l||(f=f.sort(function(Ie,Be){return Be.p-Ie.p}),l=!0),ve=0,Q=f.length;ve<Q&&(B=f[ve],ce=B.test.apply(B,F),!ce);ve++);ce&&(ee._rgb=x(u[ce].apply(u,F)))}ee._rgb==null&&console.warn("unknown format: "+F),ee._rgb==null&&(ee._rgb=[0,0,0]),ee._rgb.length===3&&ee._rgb.push(1)}return S.prototype.toString=function(){return this.hex()},S}(),v._input=u;/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */v.brewer=E={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var S,I;I=[];for(S in E)I.push(E[S.toLowerCase()]=E[S]);return I}(),Qe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},v.colors=Qe,ae=function(){var S,I,F,B,V,Q,ee,ce,be;return I=qe(arguments),V=I[0],S=I[1],F=I[2],ce=(V+16)/116,ee=isNaN(S)?ce:ce+S/500,be=isNaN(F)?ce:ce-F/200,ce=s.Yn*ne(ce),ee=s.Xn*ne(ee),be=s.Zn*ne(be),Q=xe(3.2404542*ee-1.5371385*ce-.4985314*be),B=xe(-.969266*ee+1.8760108*ce+.041556*be),F=xe(.0556434*ee-.2040259*ce+1.0572252*be),[Q,B,F,I.length>3?I[3]:1]},xe=function(S){return 255*(S<=.00304?12.92*S:1.055*te(S,1/2.4)-.055)},ne=function(S){return S>s.t1?S*S*S:s.t2*(S-s.t0)},s={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Pe=function(){var S,I,F,B,V,Q,ee,ce;return B=qe(arguments),F=B[0],I=B[1],S=B[2],V=Xe(F,I,S),Q=V[0],ee=V[1],ce=V[2],[116*ee-16,500*(Q-ee),200*(ee-ce)]},mt=function(S){return(S/=255)<=.04045?S/12.92:te((S+.055)/1.055,2.4)},j=function(S){return S>s.t3?te(S,1/3):S/s.t2+s.t0},Xe=function(){var S,I,F,B,V,Q,ee;return B=qe(arguments),F=B[0],I=B[1],S=B[2],F=mt(F),I=mt(I),S=mt(S),V=j((.4124564*F+.3575761*I+.1804375*S)/s.Xn),Q=j((.2126729*F+.7151522*I+.072175*S)/s.Yn),ee=j((.0193339*F+.119192*I+.9503041*S)/s.Zn),[V,Q,ee]},v.lab=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["lab"]),function(){})},u.lab=ae,i.prototype.lab=function(){return Pe(this._rgb)},_=function(S){var I,F,B,V,Q,ee,ce,be,ve,Ie,Be;return S=function(){var Fe,Ne,ke;for(ke=[],Ne=0,Fe=S.length;Ne<Fe;Ne++)V=S[Ne],ke.push(v(V));return ke}(),S.length===2?(ve=function(){var Fe,Ne,ke;for(ke=[],Ne=0,Fe=S.length;Ne<Fe;Ne++)V=S[Ne],ke.push(V.lab());return ke}(),Q=ve[0],ee=ve[1],I=function(Fe){var Ne,ke;return ke=function(){var Ye,et;for(et=[],Ne=Ye=0;Ye<=2;Ne=++Ye)et.push(Q[Ne]+Fe*(ee[Ne]-Q[Ne]));return et}(),v.lab.apply(v,ke)}):S.length===3?(Ie=function(){var Fe,Ne,ke;for(ke=[],Ne=0,Fe=S.length;Ne<Fe;Ne++)V=S[Ne],ke.push(V.lab());return ke}(),Q=Ie[0],ee=Ie[1],ce=Ie[2],I=function(Fe){var Ne,ke;return ke=function(){var Ye,et;for(et=[],Ne=Ye=0;Ye<=2;Ne=++Ye)et.push((1-Fe)*(1-Fe)*Q[Ne]+2*(1-Fe)*Fe*ee[Ne]+Fe*Fe*ce[Ne]);return et}(),v.lab.apply(v,ke)}):S.length===4?(Be=function(){var Fe,Ne,ke;for(ke=[],Ne=0,Fe=S.length;Ne<Fe;Ne++)V=S[Ne],ke.push(V.lab());return ke}(),Q=Be[0],ee=Be[1],ce=Be[2],be=Be[3],I=function(Fe){var Ne,ke;return ke=function(){var Ye,et;for(et=[],Ne=Ye=0;Ye<=2;Ne=++Ye)et.push((1-Fe)*(1-Fe)*(1-Fe)*Q[Ne]+3*(1-Fe)*(1-Fe)*Fe*ee[Ne]+3*(1-Fe)*Fe*Fe*ce[Ne]+Fe*Fe*Fe*be[Ne]);return et}(),v.lab.apply(v,ke)}):S.length===5&&(F=_(S.slice(0,3)),B=_(S.slice(2,5)),I=function(Fe){return Fe<.5?F(Fe*2):B((Fe-.5)*2)}),I},v.bezier=function(S){var I;return I=_(S),I.scale=function(){return v.scale(I)},I},v.cubehelix=function(S,I,F,B,V){var Q,ee,ce;return S==null&&(S=300),I==null&&(I=-1.5),F==null&&(F=1),B==null&&(B=1),V==null&&(V=[0,1]),Q=0,Ge(V)==="array"?ee=V[1]-V[0]:(ee=0,V=[V,V]),ce=function(be){var ve,Ie,Be,Fe,Ne,ke,Ye,et,Je;return ve=c*((S+120)/360+I*be),Ye=te(V[0]+ee*be,B),ke=Q!==0?F[0]+be*Q:F,Ie=ke*Ye*(1-Ye)/2,Fe=A(ve),Je=Ze(ve),et=Ye+Ie*(-.14861*Fe+1.78277*Je),Ne=Ye+Ie*(-.29227*Fe-.90649*Je),Be=Ye+Ie*(1.97294*Fe),v(x([et*255,Ne*255,Be*255,1]))},ce.start=function(be){return be==null?S:(S=be,ce)},ce.rotations=function(be){return be==null?I:(I=be,ce)},ce.gamma=function(be){return be==null?B:(B=be,ce)},ce.hue=function(be){return be==null?F:(F=be,Ge(F)==="array"?(Q=F[1]-F[0],Q===0&&(F=F[1])):Q=0,ce)},ce.lightness=function(be){return be==null?V:(Ge(be)==="array"?(V=be,ee=be[1]-be[0]):(V=[be,be],ee=0),ce)},ce.scale=function(){return v.scale(ce)},ce.hue(F),ce},v.random=function(){var S,I,F;for(I="0123456789abcdef",S="#",F=0;F<6;++F)S+=I.charAt(D(Math.random()*16));return new i(S)},m=[],re=function(S,I,F,B){var V,Q,ee,ce;for(F==null&&(F=.5),B==null&&(B="rgb"),Ge(S)!=="object"&&(S=v(S)),Ge(I)!=="object"&&(I=v(I)),ee=0,Q=m.length;ee<Q;ee++)if(V=m[ee],B===V[0]){ce=V[1](S,I,F,B);break}if(ce==null)throw"color mode "+B+" is not supported";return ce.alpha(S.alpha()+F*(I.alpha()-S.alpha()))},v.interpolate=re,i.prototype.interpolate=function(S,I,F){return re(this,S,I,F)},v.mix=re,i.prototype.mix=i.prototype.interpolate,u.rgb=function(){var S,I,F,B;I=qe(arguments),F=[];for(S in I)B=I[S],F.push(B);return F},v.rgb=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["rgb"]),function(){})},i.prototype.rgb=function(S){return S==null&&(S=!0),S?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},i.prototype.rgba=function(S){return S==null&&(S=!0),S?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(S){var I;if(I=qe(arguments),Ge(I)==="array"&&I.length===3||I.length===4&&Ge(I[3])==="number"&&I[3]>=0&&I[3]<=1)return"rgb"}}),u.lrgb=u.rgb,Y=function(S,I,F,B){var V,Q;return V=S._rgb,Q=I._rgb,new i(ze(te(V[0],2)*(1-F)+te(Q[0],2)*F),ze(te(V[1],2)*(1-F)+te(Q[1],2)*F),ze(te(V[2],2)*(1-F)+te(Q[2],2)*F),B)},p=function(S){var I,F,B,V,Q,ee;for(F=1/S.length,ee=[0,0,0,0],V=0,B=S.length;V<B;V++)I=S[V],Q=I._rgb,ee[0]+=te(Q[0],2)*F,ee[1]+=te(Q[1],2)*F,ee[2]+=te(Q[2],2)*F,ee[3]+=Q[3]*F;return ee[0]=ze(ee[0]),ee[1]=ze(ee[1]),ee[2]=ze(ee[2]),ee[3]>1&&(ee[3]=1),new i(x(ee))},m.push(["lrgb",Y]),v.average=function(S,I){var F,B,V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne,ke;if(I==null&&(I="rgb"),Ie=S.length,S=S.map(function(Ye){return v(Ye)}),be=S.splice(0,1)[0],I==="lrgb")return p(S);Ne=be.get(I),Q=[],ee=0,ce=0;for(ve in Ne)Ne[ve]=Ne[ve]||0,Q.push(isNaN(Ne[ve])?0:1),I.charAt(ve)==="h"&&!isNaN(Ne[ve])&&(F=Ne[ve]/180*r,ee+=A(F),ce+=Ze(F));for(B=be.alpha(),Fe=0,Be=S.length;Fe<Be;Fe++){V=S[Fe],ke=V.get(I),B+=V.alpha();for(ve in Ne)isNaN(ke[ve])||(Q[ve]+=1,I.charAt(ve)==="h"?(F=ke[ve]/180*r,ee+=A(F),ce+=Ze(F)):Ne[ve]+=ke[ve])}for(ve in Ne)if(I.charAt(ve)==="h"){for(F=y(ce/Q[ve],ee/Q[ve])/r*180;F<0;)F+=360;for(;F>=360;)F-=360;Ne[ve]=F}else Ne[ve]=Ne[ve]/Q[ve];return v(Ne,I).alpha(B/Ie)},C=function(S){var I,F,B,V,Q,ee;if(S.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(S.length===4||S.length===7)&&(S=S.substr(1)),S.length===3&&(S=S.split(""),S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),ee=parseInt(S,16),V=ee>>16,B=ee>>8&255,F=ee&255,[V,B,F,1];if(S.match(/^#?([A-Fa-f0-9]{8})$/))return S.length===9&&(S=S.substr(1)),ee=parseInt(S,16),V=ee>>24&255,B=ee>>16&255,F=ee>>8&255,I=je((ee&255)/255*100)/100,[V,B,F,I];if(u.css!=null&&(Q=u.css(S)))return Q;throw"unknown color: "+S},_e=function(S,I){var F,B,V,Q,ee,ce,be;return I==null&&(I="auto"),ee=S[0],V=S[1],B=S[2],F=S[3],I==="auto"&&(I=F<1?"rgba":"rgb"),ee=Math.round(ee),V=Math.round(V),B=Math.round(B),be=ee<<16|V<<8|B,ce="000000"+be.toString(16),ce=ce.substr(ce.length-6),Q="0"+je(F*255).toString(16),Q=Q.substr(Q.length-2),"#"+function(){switch(I.toLowerCase()){case"rgba":return ce+Q;case"argb":return Q+ce;default:return ce}}()},u.hex=function(S){return C(S)},v.hex=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["hex"]),function(){})},i.prototype.hex=function(S){return S==null&&(S="auto"),_e(this._rgb,S)},f.push({p:4,test:function(S){if(arguments.length===1&&Ge(S)==="string")return"hex"}}),z=function(){var S,I,F,B,V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne;if(S=qe(arguments),V=S[0],Ie=S[1],ee=S[2],Ie===0)be=B=I=ee*255;else{for(Ne=[0,0,0],F=[0,0,0],Fe=ee<.5?ee*(1+Ie):ee+Ie-ee*Ie,Be=2*ee-Fe,V/=360,Ne[0]=V+1/3,Ne[1]=V,Ne[2]=V-1/3,Q=ce=0;ce<=2;Q=++ce)Ne[Q]<0&&(Ne[Q]+=1),Ne[Q]>1&&(Ne[Q]-=1),6*Ne[Q]<1?F[Q]=Be+(Fe-Be)*6*Ne[Q]:2*Ne[Q]<1?F[Q]=Fe:3*Ne[Q]<2?F[Q]=Be+(Fe-Be)*(2/3-Ne[Q])*6:F[Q]=Be;ve=[je(F[0]*255),je(F[1]*255),je(F[2]*255)],be=ve[0],B=ve[1],I=ve[2]}return S.length>3?[be,B,I,S[3]]:[be,B,I]},Ee=function(S,I,F){var B,V,Q,ee,ce;return S!==void 0&&S.length>=3&&(ee=S,S=ee[0],I=ee[1],F=ee[2]),S/=255,I/=255,F/=255,Q=Math.min(S,I,F),ge=Math.max(S,I,F),V=(ge+Q)/2,ge===Q?(ce=0,B=Number.NaN):ce=V<.5?(ge-Q)/(ge+Q):(ge-Q)/(2-ge-Q),S===ge?B=(I-F)/(ge-Q):I===ge?B=2+(F-S)/(ge-Q):F===ge&&(B=4+(S-I)/(ge-Q)),B*=60,B<0&&(B+=360),[B,ce,V]},v.hsl=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["hsl"]),function(){})},u.hsl=z,i.prototype.hsl=function(){return Ee(this._rgb)},$=function(){var S,I,F,B,V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne,ke,Ye,et,Je;if(S=qe(arguments),V=S[0],Ye=S[1],Je=S[2],Je*=255,Ye===0)be=B=I=Je;else switch(V===360&&(V=0),V>360&&(V-=360),V<0&&(V+=360),V/=60,Q=D(V),F=V-Q,ee=Je*(1-Ye),ce=Je*(1-Ye*F),et=Je*(1-Ye*(1-F)),Q){case 0:ve=[Je,et,ee],be=ve[0],B=ve[1],I=ve[2];break;case 1:Ie=[ce,Je,ee],be=Ie[0],B=Ie[1],I=Ie[2];break;case 2:Be=[ee,Je,et],be=Be[0],B=Be[1],I=Be[2];break;case 3:Fe=[ee,ce,Je],be=Fe[0],B=Fe[1],I=Fe[2];break;case 4:Ne=[et,ee,Je],be=Ne[0],B=Ne[1],I=Ne[2];break;case 5:ke=[Je,ee,ce],be=ke[0],B=ke[1],I=ke[2]}return[be,B,I,S.length>3?S[3]:1]},Re=function(){var S,I,F,B,V,Q,ee,ce,be;return ee=qe(arguments),Q=ee[0],F=ee[1],S=ee[2],V=Math.min(Q,F,S),ge=Math.max(Q,F,S),I=ge-V,be=ge/255,ge===0?(B=Number.NaN,ce=0):(ce=I/ge,Q===ge&&(B=(F-S)/I),F===ge&&(B=2+(S-Q)/I),S===ge&&(B=4+(Q-F)/I),B*=60,B<0&&(B+=360)),[B,ce,be]},v.hsv=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["hsv"]),function(){})},u.hsv=$,i.prototype.hsv=function(){return Re(this._rgb)},me=function(S){var I,F,B;return Ge(S)==="number"&&S>=0&&S<=16777215?(B=S>>16,F=S>>8&255,I=S&255,[B,F,I,1]):(console.warn("unknown num color: "+S),[0,0,0,1])},rt=function(){var S,I,F,B;return B=qe(arguments),F=B[0],I=B[1],S=B[2],(F<<16)+(I<<8)+S},v.num=function(S){return new i(S,"num")},i.prototype.num=function(S){return S==null&&(S="rgb"),rt(this._rgb,S)},u.num=me,f.push({p:1,test:function(S){if(arguments.length===1&&Ge(S)==="number"&&S>=0&&S<=16777215)return"num"}}),L=function(){var S,I,F,B,V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne,ke,Ye,et,Je,ni,Ot;if(F=qe(arguments),ce=F[0],V=F[1],I=F[2],V=V/100,ee=ee/100*255,S=V*255,V===0)Be=ee=B=I;else switch(ce===360&&(ce=0),ce>360&&(ce-=360),ce<0&&(ce+=360),ce/=60,be=D(ce),Q=ce-be,ve=I*(1-V),Ie=ve+S*(1-Q),ni=ve+S*Q,Ot=ve+S,be){case 0:Fe=[Ot,ni,ve],Be=Fe[0],ee=Fe[1],B=Fe[2];break;case 1:Ne=[Ie,Ot,ve],Be=Ne[0],ee=Ne[1],B=Ne[2];break;case 2:ke=[ve,Ot,ni],Be=ke[0],ee=ke[1],B=ke[2];break;case 3:Ye=[ve,Ie,Ot],Be=Ye[0],ee=Ye[1],B=Ye[2];break;case 4:et=[ni,ve,Ot],Be=et[0],ee=et[1],B=et[2];break;case 5:Je=[Ot,ve,Ie],Be=Je[0],ee=Je[1],B=Je[2]}return[Be,ee,B,F.length>3?F[3]:1]},Me=function(){var S,I,F,B,V,Q,ee,ce,be;return be=qe(arguments),ce=be[0],V=be[1],I=be[2],ee=Math.min(ce,V,I),ge=Math.max(ce,V,I),B=ge-ee,F=B*100/255,S=ee/(255-B)*100,B===0?Q=Number.NaN:(ce===ge&&(Q=(V-I)/B),V===ge&&(Q=2+(I-ce)/B),I===ge&&(Q=4+(ce-V)/B),Q*=60,Q<0&&(Q+=360)),[Q,F,S]},v.hcg=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["hcg"]),function(){})},u.hcg=L,i.prototype.hcg=function(){return Me(this._rgb)},M=function(S){var I,F,B,V,Q,ee,ce,be;if(S=S.toLowerCase(),v.colors!=null&&v.colors[S])return C(v.colors[S]);if(Q=S.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(ce=Q.slice(1,4),V=ee=0;ee<=2;V=++ee)ce[V]=+ce[V];ce[3]=1}else if(Q=S.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(ce=Q.slice(1,5),V=be=0;be<=3;V=++be)ce[V]=+ce[V];else if(Q=S.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(ce=Q.slice(1,4),V=I=0;I<=2;V=++I)ce[V]=je(ce[V]*2.55);ce[3]=1}else if(Q=S.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(ce=Q.slice(1,5),V=F=0;F<=2;V=++F)ce[V]=je(ce[V]*2.55);ce[3]=+ce[3]}else(Q=S.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(B=Q.slice(1,4),B[1]*=.01,B[2]*=.01,ce=z(B),ce[3]=1):(Q=S.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(B=Q.slice(1,4),B[1]*=.01,B[2]*=.01,ce=z(B),ce[3]=+Q[4]);return ce},we=function(S){var I;if(I=S[3]<1?"rgba":"rgb",I==="rgb")return I+"("+S.slice(0,3).map(je).join(",")+")";if(I==="rgba")return I+"("+S.slice(0,3).map(je).join(",")+","+S[3]+")"},ht=function(S){return je(S*100)/100},q=function(S,I){var F;return F=I<1?"hsla":"hsl",S[0]=ht(S[0]||0),S[1]=ht(S[1]*100)+"%",S[2]=ht(S[2]*100)+"%",F==="hsla"&&(S[3]=I),F+"("+S.join(",")+")"},u.css=function(S){return M(S)},v.css=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["css"]),function(){})},i.prototype.css=function(S){if(S==null&&(S="rgb"),S.slice(0,3)==="rgb")return we(this._rgb);if(S.slice(0,3)==="hsl")return q(this.hsl(),this.alpha())},u.named=function(S){return C(Qe[S])},f.push({p:5,test:function(S){if(arguments.length===1&&Qe[S]!=null)return"named"}}),i.prototype.name=function(S){var I,F;arguments.length&&(Qe[S]&&(this._rgb=C(Qe[S])),this._rgb[3]=1),I=this.hex("rgb");for(F in Qe)if(I===Qe[F])return F;return I},pe=function(){var S,I,F,B;return B=qe(arguments),F=B[0],S=B[1],I=B[2],I=I*n,[F,A(I)*S,Ze(I)*S]},U=function(){var S,I,F,B,V,Q,ee,ce,be,ve,Ie;return F=qe(arguments),ce=F[0],V=F[1],ee=F[2],ve=pe(ce,V,ee),S=ve[0],I=ve[1],B=ve[2],Ie=ae(S,I,B),be=Ie[0],Q=Ie[1],B=Ie[2],[be,Q,B,F.length>3?F[3]:1]},X=function(){var S,I,F,B,V,Q;return Q=qe(arguments),V=Q[0],S=Q[1],I=Q[2],F=ze(S*S+I*I),B=(y(I,S)*o+360)%360,je(F*1e4)===0&&(B=Number.NaN),[V,F,B]},Ae=function(){var S,I,F,B,V,Q,ee;return Q=qe(arguments),V=Q[0],F=Q[1],I=Q[2],ee=Pe(V,F,I),B=ee[0],S=ee[1],I=ee[2],X(B,S,I)},v.lch=function(){var S;return S=qe(arguments),new i(S,"lch")},v.hcl=function(){var S;return S=qe(arguments),new i(S,"hcl")},u.lch=U,u.hcl=function(){var S,I,F,B;return B=qe(arguments),I=B[0],S=B[1],F=B[2],U([F,S,I])},i.prototype.lch=function(){return Ae(this._rgb)},i.prototype.hcl=function(){return Ae(this._rgb).reverse()},se=function(S){var I,F,B,V,Q,ee,ce,be,ve;return S==null&&(S="rgb"),be=qe(arguments),ce=be[0],V=be[1],I=be[2],ce=ce/255,V=V/255,I=I/255,Q=1-Math.max(ce,Math.max(V,I)),B=Q<1?1/(1-Q):0,F=(1-ce-Q)*B,ee=(1-V-Q)*B,ve=(1-I-Q)*B,[F,ee,ve,Q]},b=function(){var S,I,F,B,V,Q,ee,ce,be;return I=qe(arguments),B=I[0],ee=I[1],be=I[2],Q=I[3],S=I.length>4?I[4]:1,Q===1?[0,0,0,S]:(ce=B>=1?0:255*(1-B)*(1-Q),V=ee>=1?0:255*(1-ee)*(1-Q),F=be>=1?0:255*(1-be)*(1-Q),[ce,V,F,S])},u.cmyk=function(){return b(qe(arguments))},v.cmyk=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["cmyk"]),function(){})},i.prototype.cmyk=function(){return se(this._rgb)},u.gl=function(){var S,I,F,B,V;for(B=function(){var Q,ee;Q=qe(arguments),ee=[];for(I in Q)V=Q[I],ee.push(V);return ee}.apply(this,arguments),S=F=0;F<=2;S=++F)B[S]*=255;return B},v.gl=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["gl"]),function(){})},i.prototype.gl=function(){var S;return S=this._rgb,[S[0]/255,S[1]/255,S[2]/255,S[3]]},Ve=function(S,I,F){var B;return B=qe(arguments),S=B[0],I=B[1],F=B[2],S=ue(S),I=ue(I),F=ue(F),.2126*S+.7152*I+.0722*F},ue=function(S){return S/=255,S<=.03928?S/12.92:te((S+.055)/1.055,2.4)},fe=function(S,I,F,B){var V,Q;return V=S._rgb,Q=I._rgb,new i(V[0]+F*(Q[0]-V[0]),V[1]+F*(Q[1]-V[1]),V[2]+F*(Q[2]-V[2]),B)},m.push(["rgb",fe]),i.prototype.luminance=function(S,I){var F,B,V,Q,ee;return I==null&&(I="rgb"),arguments.length?(Q=this._rgb,S===0?Q=[0,0,0,this._rgb[3]]:S===1?Q=[255,255,255,this[3]]:(F=Ve(this._rgb),B=1e-7,V=20,ee=function(ce,be){var ve,Ie;return Ie=ce.interpolate(be,.5,I),ve=Ie.luminance(),Math.abs(S-ve)<B||!V--?Ie:ve>S?ee(ce,Ie):ee(Ie,be)},F>S?Q=ee(v("black"),this).rgba():Q=ee(this,v("white")).rgba()),v(Q).alpha(this.alpha())):Ve(this._rgb)},Mt=function(S){var I,F,B,V;return V=S/100,V<66?(B=255,F=-155.25485562709179-.44596950469579133*(F=V-2)+104.49216199393888*ie(F),I=V<20?0:-254.76935184120902+.8274096064007395*(I=V-10)+115.67994401066147*ie(I)):(B=351.97690566805693+.114206453784165*(B=V-55)-40.25366309332127*ie(B),F=325.4494125711974+.07943456536662342*(F=V-50)-28.0852963507957*ie(F),I=255),[B,F,I]},tt=function(){var S,I,F,B,V,Q,ee,ce;for(Q=qe(arguments),V=Q[0],Q[1],S=Q[2],B=1e3,F=4e4,I=.4;F-B>I;)ce=(F+B)*.5,ee=Mt(ce),ee[2]/ee[0]>=S/V?F=ce:B=ce;return je(ce)},v.temperature=v.kelvin=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["temperature"]),function(){})},u.temperature=u.kelvin=u.K=Mt,i.prototype.temperature=function(){return tt(this._rgb)},i.prototype.kelvin=i.prototype.temperature,v.contrast=function(S,I){var F,B,V,Q;return((V=Ge(S))==="string"||V==="number")&&(S=new i(S)),((Q=Ge(I))==="string"||Q==="number")&&(I=new i(I)),F=S.luminance(),B=I.luminance(),F>B?(F+.05)/(B+.05):(B+.05)/(F+.05)},v.distance=function(S,I,F){var B,V,Q,ee,ce,be,ve;F==null&&(F="lab"),((ce=Ge(S))==="string"||ce==="number")&&(S=new i(S)),((be=Ge(I))==="string"||be==="number")&&(I=new i(I)),Q=S.get(F),ee=I.get(F),ve=0;for(V in Q)B=(Q[V]||0)-(ee[V]||0),ve+=B*B;return Math.sqrt(ve)},v.deltaE=function(S,I,F,B){var V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne,ke,Ye,et,Je,ni,Ot,cn,Cn,Et,Le,Ke,vt,Lt,lt,Ft,Tt,$t;for(F==null&&(F=1),B==null&&(B=1),((cn=Ge(S))==="string"||cn==="number")&&(S=new i(S)),((Cn=Ge(I))==="string"||Cn==="number")&&(I=new i(I)),Et=S.lab(),V=Et[0],ee=Et[1],be=Et[2],Le=I.lab(),Q=Le[0],ce=Le[1],ve=Le[2],Ie=ze(ee*ee+be*be),Be=ze(ce*ce+ve*ve),Lt=V<16?.511:.040975*V/(1+.01765*V),Ke=.0638*Ie/(1+.0131*Ie)+.638,Ot=Ie<1e-6?0:y(be,ee)*180/r;Ot<0;)Ot+=360;for(;Ot>=360;)Ot-=360;return lt=Ot>=164&&Ot<=345?.56+d(.2*A(r*(Ot+168)/180)):.36+d(.4*A(r*(Ot+35)/180)),Fe=Ie*Ie*Ie*Ie,ni=ze(Fe/(Fe+1900)),vt=Ke*(ni*lt+1-ni),Je=V-Q,et=Ie-Be,ke=ee-ce,Ye=be-ve,Ne=ke*ke+Ye*Ye-et*et,Ft=Je/(F*Lt),Tt=et/(B*Ke),$t=vt,ze(Ft*Ft+Tt*Tt+Ne/($t*$t))},i.prototype.get=function(S){var I,F,B,V,Q,ee;return B=this,Q=S.split("."),V=Q[0],I=Q[1],ee=B[V](),I?(F=V.indexOf(I),F>-1?ee[F]:console.warn("unknown channel "+I+" in mode "+V)):ee},i.prototype.set=function(S,I){var F,B,V,Q,ee,ce;if(V=this,ee=S.split("."),Q=ee[0],F=ee[1],F)if(ce=V[Q](),B=Q.indexOf(F),B>-1)if(Ge(I)==="string")switch(I.charAt(0)){case"+":ce[B]+=+I;break;case"-":ce[B]+=+I;break;case"*":ce[B]*=+I.substr(1);break;case"/":ce[B]/=+I.substr(1);break;default:ce[B]=+I}else ce[B]=I;else console.warn("unknown channel "+F+" in mode "+Q);else ce=I;return v(ce,Q).alpha(V.alpha())},i.prototype.clipped=function(){return this._rgb._clipped||!1},i.prototype.alpha=function(S){return arguments.length?v.rgb([this._rgb[0],this._rgb[1],this._rgb[2],S]):this._rgb[3]},i.prototype.darken=function(S){var I,F;return S==null&&(S=1),F=this,I=F.lab(),I[0]-=s.Kn*S,v.lab(I).alpha(F.alpha())},i.prototype.brighten=function(S){return S==null&&(S=1),this.darken(-S)},i.prototype.darker=i.prototype.darken,i.prototype.brighter=i.prototype.brighten,i.prototype.saturate=function(S){var I,F;return S==null&&(S=1),F=this,I=F.lch(),I[1]+=S*s.Kn,I[1]<0&&(I[1]=0),v.lch(I).alpha(F.alpha())},i.prototype.desaturate=function(S){return S==null&&(S=1),this.saturate(-S)},i.prototype.premultiply=function(){var S,I;return I=this.rgb(),S=this.alpha(),v(I[0]*S,I[1]*S,I[2]*S,S)},h=function(S,I,F){if(!h[F])throw"unknown blend mode "+F;return h[F](S,I)},g=function(S){return function(I,F){var B,V;return B=v(F).rgb(),V=v(I).rgb(),v(S(B,V),"rgb")}},N=function(S){return function(I,F){var B,V,Q;for(Q=[],B=V=0;V<=3;B=++V)Q[B]=S(I[B],F[B]);return Q}},H=function(S,I){return S},k=function(S,I){return S*I/255},G=function(S,I){return S>I?I:S},W=function(S,I){return S>I?S:I},St=function(S,I){return 255*(1-(1-S/255)*(1-I/255))},oe=function(S,I){return I<128?2*S*I/255:255*(1-2*(1-S/255)*(1-I/255))},w=function(S,I){return 255*(1-(1-I/255)/(S/255))},T=function(S,I){return S===255||(S=255*(I/255)/(1-S/255),S>255)?255:S},h.normal=g(N(H)),h.multiply=g(N(k)),h.screen=g(N(St)),h.overlay=g(N(oe)),h.darken=g(N(G)),h.lighten=g(N(W)),h.dodge=g(N(T)),h.burn=g(N(w)),v.blend=h,v.analyze=function(S){var I,F,B,V;for(B={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},F=0,I=S.length;F<I;F++)V=S[F],V!=null&&!isNaN(V)&&(B.values.push(V),B.sum+=V,V<B.min&&(B.min=V),V>B.max&&(B.max=V),B.count+=1);return B.domain=[B.min,B.max],B.limits=function(Q,ee){return v.limits(B,Q,ee)},B},v.scale=function(S,I){var F,B,V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne,ke,Ye,et,Je,ni,Ot,cn,Cn,Et;return Ie="rgb",Be=v("#ccc"),Ye=0,ee=[0,1],ke=[],Ne=[0,0],F=!1,V=[],Fe=!1,ve=0,be=1,Q=!1,B={},et=!0,ce=1,Cn=function(Le){var Ke,vt,Lt,lt,Ft,Tt;if(Le==null&&(Le=["#fff","#000"]),Le!=null&&Ge(Le)==="string"&&v.brewer!=null&&(Le=v.brewer[Le]||v.brewer[Le.toLowerCase()]||Le),Ge(Le)==="array"){for(Le.length===1&&(Le=[Le[0],Le[0]]),Le=Le.slice(0),Ke=Lt=0,lt=Le.length-1;0<=lt?Lt<=lt:Lt>=lt;Ke=0<=lt?++Lt:--Lt)vt=Le[Ke],Ge(vt)==="string"&&(Le[Ke]=v(vt));for(ke.length=0,Ke=Tt=0,Ft=Le.length-1;0<=Ft?Tt<=Ft:Tt>=Ft;Ke=0<=Ft?++Tt:--Tt)ke.push(Ke/(Le.length-1))}return cn(),V=Le},ni=function(Le){var Ke,vt;if(F!=null){for(vt=F.length-1,Ke=0;Ke<vt&&Le>=F[Ke];)Ke++;return Ke-1}return 0},Et=function(Le){return Le},Ot=function(Le,Ke){var vt,Lt,lt,Ft,Tt,$t,Ti,At;if(Ke==null&&(Ke=!1),isNaN(Le)||Le===null)return Be;if(Ke?At=Le:F&&F.length>2?(vt=ni(Le),At=vt/(F.length-2)):be!==ve?At=(Le-ve)/(be-ve):At=1,Ke||(At=Et(At)),ce!==1&&(At=te(At,ce)),At=Ne[0]+At*(1-Ne[0]-Ne[1]),At=Math.min(1,Math.max(0,At)),Ft=Math.floor(At*1e4),et&&B[Ft])Lt=B[Ft];else{if(Ge(V)==="array")for(lt=Tt=0,Ti=ke.length-1;0<=Ti?Tt<=Ti:Tt>=Ti;lt=0<=Ti?++Tt:--Tt){if($t=ke[lt],At<=$t){Lt=V[lt];break}if(At>=$t&&lt===ke.length-1){Lt=V[lt];break}if(At>$t&&At<ke[lt+1]){At=(At-$t)/(ke[lt+1]-$t),Lt=v.interpolate(V[lt],V[lt+1],At,Ie);break}}else Ge(V)==="function"&&(Lt=V(At));et&&(B[Ft]=Lt)}return Lt},cn=function(){return B={}},Cn(S),Je=function(Le){var Ke;return Ke=v(Ot(Le)),Fe&&Ke[Fe]?Ke[Fe]():Ke},Je.classes=function(Le){var Ke;return Le!=null?(Ge(Le)==="array"?(F=Le,ee=[Le[0],Le[Le.length-1]]):(Ke=v.analyze(ee),Le===0?F=[Ke.min,Ke.max]:F=v.limits(Ke,"e",Le)),Je):F},Je.domain=function(Le){var Ke,vt,Lt,lt,Ft,Tt,$t;if(!arguments.length)return ee;if(ve=Le[0],be=Le[Le.length-1],ke=[],Lt=V.length,Le.length===Lt&&ve!==be)for(Ft=0,lt=Le.length;Ft<lt;Ft++)vt=Le[Ft],ke.push((vt-ve)/(be-ve));else for(Ke=$t=0,Tt=Lt-1;0<=Tt?$t<=Tt:$t>=Tt;Ke=0<=Tt?++$t:--$t)ke.push(Ke/(Lt-1));return ee=[ve,be],Je},Je.mode=function(Le){return arguments.length?(Ie=Le,cn(),Je):Ie},Je.range=function(Le,Ke){return Cn(Le,Ke),Je},Je.out=function(Le){return Fe=Le,Je},Je.spread=function(Le){return arguments.length?(Ye=Le,Je):Ye},Je.correctLightness=function(Le){return Le==null&&(Le=!0),Q=Le,cn(),Q?Et=function(Ke){var vt,Lt,lt,Ft,Tt,$t,Ti,At,oi;for(vt=Ot(0,!0).lab()[0],Lt=Ot(1,!0).lab()[0],Ti=vt>Lt,lt=Ot(Ke,!0).lab()[0],Tt=vt+(Lt-vt)*Ke,Ft=lt-Tt,At=0,oi=1,$t=20;Math.abs(Ft)>.01&&$t-- >0;)(function(){return Ti&&(Ft*=-1),Ft<0?(At=Ke,Ke+=(oi-Ke)*.5):(oi=Ke,Ke+=(At-Ke)*.5),lt=Ot(Ke,!0).lab()[0],Ft=lt-Tt})();return Ke}:Et=function(Ke){return Ke},Je},Je.padding=function(Le){return Le!=null?(Ge(Le)==="number"&&(Le=[Le,Le]),Ne=Le,Je):Ne},Je.colors=function(Le,Ke){var vt,Lt,lt,Ft,Tt,$t,Ti,At;if(arguments.length<2&&(Ke="hex"),Tt=[],arguments.length===0)Tt=V.slice(0);else if(Le===1)Tt=[Je(.5)];else if(Le>1)Lt=ee[0],vt=ee[1]-Lt,Tt=function(){$t=[];for(var oi=0;0<=Le?oi<Le:oi>Le;0<=Le?oi++:oi--)$t.push(oi);return $t}.apply(this).map(function(oi){return Je(Lt+oi/(Le-1)*vt)});else{if(S=[],Ti=[],F&&F.length>2)for(lt=At=1,Ft=F.length;1<=Ft?At<Ft:At>Ft;lt=1<=Ft?++At:--At)Ti.push((F[lt-1]+F[lt])*.5);else Ti=ee;Tt=Ti.map(function(oi){return Je(oi)})}return v[Ke]&&(Tt=Tt.map(function(oi){return oi[Ke]()})),Tt},Je.cache=function(Le){return Le!=null?(et=Le,Je):et},Je.gamma=function(Le){return Le!=null?(ce=Le,Je):ce},Je.nodata=function(Le){return Le!=null?(Be=v(Le),Je):Be},Je},v.scales==null&&(v.scales={}),v.scales.cool=function(){return v.scale([v.hsl(180,1,.9),v.hsl(250,.7,.4)])},v.scales.hot=function(){return v.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},v.analyze=function(S,I,F){var B,V,Q,ee,ce,be,ve;if(ce={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},F==null&&(F=function(){return!0}),B=function(Ie){Ie!=null&&!isNaN(Ie)&&(ce.values.push(Ie),ce.sum+=Ie,Ie<ce.min&&(ce.min=Ie),Ie>ce.max&&(ce.max=Ie),ce.count+=1)},ve=function(Ie,Be){if(F(Ie,Be))return I!=null&&Ge(I)==="function"?B(I(Ie)):I!=null&&Ge(I)==="string"||Ge(I)==="number"?B(Ie[I]):B(Ie)},Ge(S)==="array")for(ee=0,Q=S.length;ee<Q;ee++)be=S[ee],ve(be);else for(V in S)be=S[V],ve(be,V);return ce.domain=[ce.min,ce.max],ce.limits=function(Ie,Be){return v.limits(ce,Ie,Be)},ce},v.limits=function(S,I,F){var B,V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne,ke,Ye,et,Je,ni,Ot,cn,Cn,Et,Le,Ke,vt,Lt,lt,Ft,Tt,$t,Ti,At,oi,Qs,es,Fr,Es,vs,bs,xs,Rr,Nr,Wc,_a,ya,ga,wa,Ss,jc,$c,Kc,Yc,Dr,Zf,s3,Ms,Jc;if(I==null&&(I="equal"),F==null&&(F=7),Ge(S)==="array"&&(S=v.analyze(S)),lt=S.min,ge=S.max,S.sum,Ms=S.values.sort(function(_1,y1){return _1-y1}),F===1)return[lt,ge];if(vt=[],I.substr(0,1)==="c"&&(vt.push(lt),vt.push(ge)),I.substr(0,1)==="e"){for(vt.push(lt),Et=oi=1,Es=F-1;1<=Es?oi<=Es:oi>=Es;Et=1<=Es?++oi:--oi)vt.push(lt+Et/F*(ge-lt));vt.push(ge)}else if(I.substr(0,1)==="l"){if(lt<=0)throw"Logarithmic scales are only possible for values > 0";for(Ft=Math.LOG10E*ie(lt),Lt=Math.LOG10E*ie(ge),vt.push(lt),Et=Jc=1,vs=F-1;1<=vs?Jc<=vs:Jc>=vs;Et=1<=vs?++Jc:--Jc)vt.push(te(10,Ft+Et/F*(Lt-Ft)));vt.push(ge)}else if(I.substr(0,1)==="q"){for(vt.push(lt),Et=B=1,_a=F-1;1<=_a?B<=_a:B>=_a;Et=1<=_a?++B:--B)Qs=(Ms.length-1)*Et/F,es=D(Qs),es===Qs?vt.push(Ms[es]):(Fr=Qs-es,vt.push(Ms[es]*(1-Fr)+Ms[es+1]*Fr));vt.push(ge)}else if(I.substr(0,1)==="k"){for($t=Ms.length,et=new Array($t),cn=new Array(F),Yc=!0,Ti=0,ni=null,ni=[],ni.push(lt),Et=V=1,ya=F-1;1<=ya?V<=ya:V>=ya;Et=1<=ya?++V:--V)ni.push(lt+Et/F*(ge-lt));for(ni.push(ge);Yc;){for(Le=Q=0,ga=F-1;0<=ga?Q<=ga:Q>=ga;Le=0<=ga?++Q:--Q)cn[Le]=0;for(Et=ee=0,wa=$t-1;0<=wa?ee<=wa:ee>=wa;Et=0<=wa?++ee:--ee){for(s3=Ms[Et],Tt=Number.MAX_VALUE,Le=ce=0,Ss=F-1;0<=Ss?ce<=Ss:ce>=Ss;Le=0<=Ss?++ce:--ce)Cn=d(ni[Le]-s3),Cn<Tt&&(Tt=Cn,Je=Le);cn[Je]++,et[Et]=Je}for(At=new Array(F),Le=be=0,jc=F-1;0<=jc?be<=jc:be>=jc;Le=0<=jc?++be:--be)At[Le]=null;for(Et=ve=0,$c=$t-1;0<=$c?ve<=$c:ve>=$c;Et=0<=$c?++ve:--ve)Ot=et[Et],At[Ot]===null?At[Ot]=Ms[Et]:At[Ot]+=Ms[Et];for(Le=Ie=0,Kc=F-1;0<=Kc?Ie<=Kc:Ie>=Kc;Le=0<=Kc?++Ie:--Ie)At[Le]*=1/cn[Le];for(Yc=!1,Le=Be=0,bs=F-1;0<=bs?Be<=bs:Be>=bs;Le=0<=bs?++Be:--Be)if(At[Le]!==ni[Et]){Yc=!0;break}ni=At,Ti++,Ti>200&&(Yc=!1)}for(Ke={},Le=Fe=0,xs=F-1;0<=xs?Fe<=xs:Fe>=xs;Le=0<=xs?++Fe:--Fe)Ke[Le]=[];for(Et=Ne=0,Rr=$t-1;0<=Rr?Ne<=Rr:Ne>=Rr;Et=0<=Rr?++Ne:--Ne)Ot=et[Et],Ke[Ot].push(Ms[Et]);for(Dr=[],Le=ke=0,Nr=F-1;0<=Nr?ke<=Nr:ke>=Nr;Le=0<=Nr?++ke:--ke)Dr.push(Ke[Le][0]),Dr.push(Ke[Le][Ke[Le].length-1]);for(Dr=Dr.sort(function(_1,y1){return _1-y1}),vt.push(Dr[0]),Et=Ye=1,Wc=Dr.length-1;Ye<=Wc;Et=Ye+=2)Zf=Dr[Et],!isNaN(Zf)&&vt.indexOf(Zf)===-1&&vt.push(Zf)}return vt},O=function(S,I,F){var B,V,Q,ee;return B=qe(arguments),S=B[0],I=B[1],F=B[2],isNaN(S)&&(S=0),S/=360,S<1/3?(V=(1-I)/3,ee=(1+I*A(c*S)/A(a-c*S))/3,Q=1-(V+ee)):S<2/3?(S-=1/3,ee=(1-I)/3,Q=(1+I*A(c*S)/A(a-c*S))/3,V=1-(ee+Q)):(S-=2/3,Q=(1-I)/3,V=(1+I*A(c*S)/A(a-c*S))/3,ee=1-(Q+V)),ee=Z(F*ee*3),Q=Z(F*Q*3),V=Z(F*V*3),[ee*255,Q*255,V*255,B.length>3?B[3]:1]},Se=function(){var S,I,F,B,V,Q,ee,ce;return ee=qe(arguments),Q=ee[0],I=ee[1],S=ee[2],c=Math.PI*2,Q/=255,I/=255,S/=255,V=Math.min(Q,I,S),B=(Q+I+S)/3,ce=1-V/B,ce===0?F=0:(F=(Q-I+(Q-S))/2,F/=Math.sqrt((Q-I)*(Q-I)+(Q-S)*(I-S)),F=Math.acos(F),S>I&&(F=c-F),F/=c),[F*360,ce,B]},v.hsi=function(){return function(S,I,F){F.prototype=S.prototype;var B=new F,V=S.apply(B,I);return Object(V)===V?V:B}(i,ye.call(arguments).concat(["hsi"]),function(){})},u.hsi=O,i.prototype.hsi=function(){return Se(this._rgb)},K=function(S,I,F,B){var V,Q,ee,ce,be,ve,Ie,Be,Fe,Ne,ke,Ye;return B==="hsl"?(ke=S.hsl(),Ye=I.hsl()):B==="hsv"?(ke=S.hsv(),Ye=I.hsv()):B==="hcg"?(ke=S.hcg(),Ye=I.hcg()):B==="hsi"?(ke=S.hsi(),Ye=I.hsi()):(B==="lch"||B==="hcl")&&(B="hcl",ke=S.hcl(),Ye=I.hcl()),B.substr(0,1)==="h"&&(ee=ke[0],Fe=ke[1],ve=ke[2],ce=Ye[0],Ne=Ye[1],Ie=Ye[2]),!isNaN(ee)&&!isNaN(ce)?(ce>ee&&ce-ee>180?V=ce-(ee+360):ce<ee&&ee-ce>180?V=ce+360-ee:V=ce-ee,Q=ee+F*V):isNaN(ee)?isNaN(ce)?Q=Number.NaN:(Q=ce,(ve===1||ve===0)&&B!=="hsv"&&(Be=Ne)):(Q=ee,(Ie===1||Ie===0)&&B!=="hsv"&&(Be=Fe)),Be==null&&(Be=Fe+F*(Ne-Fe)),be=ve+F*(Ie-ve),v[B](Q,Be,be)},m=m.concat(function(){var S,I,F,B;for(F=["hsv","hsl","hsi","hcl","lch","hcg"],B=[],I=0,S=F.length;I<S;I++)he=F[I],B.push([he,K]);return B}()),le=function(S,I,F,B){var V,Q;return V=S.num(),Q=I.num(),v.num(V+(Q-V)*F,"num")},m.push(["num",le]),J=function(S,I,F,B){var V,Q;return V=S.lab(),Q=I.lab(),new i(V[0]+F*(Q[0]-V[0]),V[1]+F*(Q[1]-V[1]),V[2]+F*(Q[2]-V[2]),B)},m.push(["lab",J])}).call(b4)})(Fh,Fh.exports);var _t={exports:{}};(function(e){/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */(function(t){function i(a,o,c,p,f){this._listener=o,this._isOnce=c,this.context=p,this._signal=a,this._priority=f||0}i.prototype={active:!0,params:null,execute:function(a){var o,c;return this.active&&!!this._listener&&(c=this.params?this.params.concat(a):a,o=this._listener.apply(this.context,c),this._isOnce&&this.detach()),o},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function n(a,o){if(typeof a!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",o))}function s(){this._bindings=[],this._prevParams=null;var a=this;this.dispatch=function(){s.prototype.dispatch.apply(a,arguments)}}s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,o,c,p){var f=this._indexOfListener(a,c),l;if(f!==-1){if(l=this._bindings[f],l.isOnce()!==o)throw new Error("You cannot add"+(o?"":"Once")+"() then add"+(o?"Once":"")+"() the same listener without removing the relationship first.")}else l=new i(this,a,o,c,p),this._addBinding(l);return this.memorize&&this._prevParams&&l.execute(this._prevParams),l},_addBinding:function(a){var o=this._bindings.length;do--o;while(this._bindings[o]&&a._priority<=this._bindings[o]._priority);this._bindings.splice(o+1,0,a)},_indexOfListener:function(a,o){for(var c=this._bindings.length,p;c--;)if(p=this._bindings[c],p._listener===a&&p.context===o)return c;return-1},has:function(a,o){return this._indexOfListener(a,o)!==-1},add:function(a,o,c){return n(a,"add"),this._registerListener(a,!1,o,c)},addOnce:function(a,o,c){return n(a,"addOnce"),this._registerListener(a,!0,o,c)},remove:function(a,o){n(a,"remove");var c=this._indexOfListener(a,o);return c!==-1&&(this._bindings[c]._destroy(),this._bindings.splice(c,1)),a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(!!this.active){var o=Array.prototype.slice.call(arguments),c=this._bindings.length,p;if(this.memorize&&(this._prevParams=o),!!c){p=this._bindings.slice(),this._shouldPropagate=!0;do c--;while(p[c]&&this._shouldPropagate&&p[c].execute(o)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var r=s;r.Signal=s,e.exports?e.exports=r:t.signals=r})(b4)})(_t);var un={};(function(e){(function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(o){return s(a(o),arguments)}function n(o,c){return i.apply(null,[o].concat(c||[]))}function s(o,c){var p=1,f=o.length,l,u="",m,d,y,_,h,g,E,w;for(m=0;m<f;m++)if(typeof o[m]=="string")u+=o[m];else if(typeof o[m]=="object"){if(y=o[m],y.keys)for(l=c[p],d=0;d<y.keys.length;d++){if(l==null)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[d],y.keys[d-1]));l=l[y.keys[d]]}else y.param_no?l=c[y.param_no]:l=c[p++];if(t.not_type.test(y.type)&&t.not_primitive.test(y.type)&&l instanceof Function&&(l=l()),t.numeric_arg.test(y.type)&&typeof l!="number"&&isNaN(l))throw new TypeError(i("[sprintf] expecting number but found %T",l));switch(t.number.test(y.type)&&(E=l>=0),y.type){case"b":l=parseInt(l,10).toString(2);break;case"c":l=String.fromCharCode(parseInt(l,10));break;case"d":case"i":l=parseInt(l,10);break;case"j":l=JSON.stringify(l,null,y.width?parseInt(y.width):0);break;case"e":l=y.precision?parseFloat(l).toExponential(y.precision):parseFloat(l).toExponential();break;case"f":l=y.precision?parseFloat(l).toFixed(y.precision):parseFloat(l);break;case"g":l=y.precision?String(Number(l.toPrecision(y.precision))):parseFloat(l);break;case"o":l=(parseInt(l,10)>>>0).toString(8);break;case"s":l=String(l),l=y.precision?l.substring(0,y.precision):l;break;case"t":l=String(!!l),l=y.precision?l.substring(0,y.precision):l;break;case"T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase(),l=y.precision?l.substring(0,y.precision):l;break;case"u":l=parseInt(l,10)>>>0;break;case"v":l=l.valueOf(),l=y.precision?l.substring(0,y.precision):l;break;case"x":l=(parseInt(l,10)>>>0).toString(16);break;case"X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase();break}t.json.test(y.type)?u+=l:(t.number.test(y.type)&&(!E||y.sign)?(w=E?"+":"-",l=l.toString().replace(t.sign,"")):w="",h=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",g=y.width-(w+l).length,_=y.width&&g>0?h.repeat(g):"",u+=y.align?w+l+_:h==="0"?w+_+l:_+w+l)}return u}var r=Object.create(null);function a(o){if(r[o])return r[o];for(var c=o,p,f=[],l=0;c;){if((p=t.text.exec(c))!==null)f.push(p[0]);else if((p=t.modulo.exec(c))!==null)f.push("%");else if((p=t.placeholder.exec(c))!==null){if(p[2]){l|=1;var u=[],m=p[2],d=[];if((d=t.key.exec(m))!==null)for(u.push(d[1]);(m=m.substring(d[0].length))!=="";)if((d=t.key_access.exec(m))!==null)u.push(d[1]);else if((d=t.index_access.exec(m))!==null)u.push(d[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");p[2]=u}else l|=2;if(l===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");f.push({placeholder:p[0],param_no:p[1],keys:p[2],sign:p[3],pad_char:p[4],align:p[5],width:p[6],precision:p[7],type:p[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");c=c.substring(p[0].length)}return r[o]=f}e.sprintf=i,e.vsprintf=n,typeof window<"u"&&(window.sprintf=i,window.vsprintf=n)})()})(un);var h2,am,_2,y2,g2;function uP(e){if(typeof window<"u"){var t=new RegExp(e+"=([^&#=]*)").exec(window.location.search);return t?decodeURIComponent(t[1]):void 0}}function R(e,t){return e!==void 0?e:t}function Bn(e,t){var i=Object.assign({},e);for(var n in t)e[n]===void 0&&(i[n]=t[n]);return i}function x4(e,t){for(var i in t){var n=t[i];n!==void 0&&(e[i]=n)}return e}function G_(){var e=window.location.protocol;return e.match(/http(s)?:/gi)===null?"http:":e}function S4(){if(typeof window>"u")return!1;var e=window.navigator.userAgent;return/Opera|OPR/.test(e)?"Opera":/Chrome/i.test(e)?"Chrome":/Firefox/i.test(e)?"Firefox":/Mobile(\/.*)? Safari/i.test(e)?"Mobile Safari":/MSIE/i.test(e)?"Internet Explorer":!!/Safari/i.test(e)&&"Safari"}function w2(e){window.open(e,"_blank")||(window.location.href=e)}function M4(e,t){if(t===void 0&&(t="download"),e){var i=S4()==="Safari",n=/CriOS\/[\d]+/.test(window.navigator.userAgent),s=document.createElement("a");if(typeof navigator<"u"&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(e,t);else if((i||n)&&FileReader)if(e instanceof Blob){var r=new FileReader;r.onloadend=function(){o(r.result)},r.readAsDataURL(e)}else o(e);else{var a=!1;e instanceof Blob&&(e=URL.createObjectURL(e),a=!0),"download"in s?(s.style.display="hidden",document.body.appendChild(s),s.href=e,s.download=t,s.target="_blank",s.click(),document.body.removeChild(s)):w2(e),a&&window.URL.revokeObjectURL(e)}}function o(c){w2(n?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"))}}function mP(e,t){return e<t?-1:e>t?1:0}function La(e,t,i){i===void 0&&(i=mP);for(var n=0,s=e.length-1;n<=s;){var r=n+s>>1,a=i(t,e[r]);if(a>0)n=r+1;else{if(!(a<0))return r;s=r-1}}return-n-1}function O_(e,t,i){var n=function(r,a){var o=r.length-1;if(r[o]<a)return-1;for(var c=0;c<=o;){var p=c+o>>1;r[p]>=a?o=p-1:c=p+1}return o+1}(e,t),s=function(r,a){if(r[0]>a)return-1;for(var o=0,c=r.length-1;o<=c;){var p=o+c>>1;r[p]>a?c=p-1:o=p+1}return o-1}(e,i);return n===-1||s===-1||n>s?0:s-n+1}function k_(e){return e.sort().filter(function(t,i,n){return i===0||t!==n[i-1]})}function Tu(e){var t=28672;if(e.length>t){for(var i=[],n=0;n<e.length;n+=t)i.push(String.fromCharCode.apply(null,e.subarray(n,n+t)));return i.join("")}return String.fromCharCode.apply(null,e)}function A4(e,t){switch(e){case"int8":return new Int8Array(t);case"int16":return new Int16Array(t);case"int32":return new Int32Array(t);case"uint8":return new Uint8Array(t);case"uint16":return new Uint16Array(t);case"uint32":return new Uint32Array(t);case"float32":return new Float32Array(t);default:throw new Error("arrayType unknown: "+e)}}function Ks(e,t){return new(t>65535?Uint32Array:Uint16Array)(e)}function Bc(e){return e.buffer&&e.buffer instanceof ArrayBuffer?e.buffer:e}function Qu(e,t){return e===void 0?e=new t:Array.isArray(e)&&(e=new t().fromArray(e)),e}function ka(e){return Qu(e,P)}function Ap(e){return Qu(e,De)}function Rh(e){return Qu(e,ri)}function om(e){return t=e,i=Float32Array,t instanceof i?t:new i(t);var t,i}function E2(e){return R(e,"").toString().toLowerCase()}typeof window<"u"&&function(){window.console=window.console||{};for(var e,t,i=window.console,n={},s=function(){},r="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=r.pop();)i[e]||(i[e]=n);for(;t=a.pop();)i[t]||(i[t]=s)}(),typeof window>"u"||window.HTMLCanvasElement===void 0||window.HTMLCanvasElement.prototype.toBlob||Object.defineProperty(window.HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,i){for(var n=window.atob(this.toDataURL(t,i).split(",")[1]),s=n.length,r=s>>2,a=new Uint8Array(s),o=new Uint32Array(a.buffer,0,r),c=0,p=0;c<r;c++)o[c]=n.charCodeAt(p++)|n.charCodeAt(p++)<<8|n.charCodeAt(p++)<<16|n.charCodeAt(p++)<<24;for(var f=3&s;f--;)a[p]=n.charCodeAt(p++);e(new window.Blob([a],{type:t||"image/png"}))}}),Math.cbrt=Math.cbrt||function(e){var t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t},Math.sign||(Math.sign=function(e){return(e=+e)==0||isNaN(e)?Number(e):e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}),Number.isNaN||(Number.isNaN=function(e){return e!=e}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=arguments;if(e==null)throw new TypeError("Cannot convert first argument to object");for(var i,n=Object(e),s=!1,r=1;r<arguments.length;r++){var a=t[r];if(a!=null){for(var o=Object.keys(Object(a)),c=0,p=o.length;c<p;c++){var f=o[c];try{var l=Object.getOwnPropertyDescriptor(a,f);l!==void 0&&l.enumerable&&(n[f]=a[f])}catch(u){s||(s=!0,i=u)}}if(s)throw i}}return n}}),String.prototype.startsWith||function(){var e=function(){var n;try{var s={},r=Object.defineProperty;n=r(s,s,s)&&r}catch{}return n}(),t={}.toString,i=function(n){if(this===null)throw TypeError();var s=String(this);if(n&&t.call(n)==="[object RegExp]")throw TypeError();var r=s.length,a=String(n),o=a.length,c=arguments.length>1?arguments[1]:void 0,p=c?Number(c):0;Number.isNaN(p)&&(p=0);var f=Math.min(Math.max(p,0),r);if(o+f>r)return!1;for(var l=-1;++l<o;)if(s.charCodeAt(f+l)!==a.charCodeAt(l))return!1;return!0};e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();(typeof t!="number"||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return n!==-1&&n===t}),String.prototype.repeat||(String.prototype.repeat=function(e){if(this===null)throw new TypeError("can't convert "+this+" to object");var t=""+this;if(e=+e,Number.isNaN(e)&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e===1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),t.length===0||e===0)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var i="";(1&e)==1&&(i+=t),(e>>>=1)!==0;)t+=t;return i}),String.prototype.includes||(String.prototype.includes=function(e,t){return typeof t!="number"&&(t=0),!(t+e.length>this.length)&&this.indexOf(e,t)!==-1}),Array.prototype.includes||(Array.prototype.includes=function(e){if(this==null)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),i=parseInt(t.length,10)||0;if(i===0)return!1;var n,s,r=parseInt(arguments[1],10)||0;for(r>=0?n=r:(n=i+r)<0&&(n=0);n<i;){if(e===(s=t[n])||Number.isNaN(e)&&Number.isNaN(s))return!0;n++}return!1}),Array.from||(Array.from=(h2=Object.prototype.toString,am=function(e){return typeof e=="function"||h2.call(e)==="[object Function]"},_2=Math.pow(2,53)-1,y2=function(e){var t=function(i){var n=Number(i);return isNaN(n)?0:n!==0&&isFinite(n)?(n>0?1:-1)*Math.floor(Math.abs(n)):n}(e);return Math.min(Math.max(t,0),_2)},function(e){var t=this,i=Object(e);if(e==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,s=arguments.length>1?arguments[1]:void 0;if(s!==void 0){if(!am(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var r,a=y2(i.length),o=am(t)?Object(new t(a)):new Array(a),c=0;c<a;)r=i[c],o[c]=s?n===void 0?s(r,c):s.call(n,r,c):r,c+=1;return o.length=a,o})),typeof window<"u"&&function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var s=new Date().getTime(),r=Math.max(0,16-(s-e)),a=window.setTimeout(function(){n(s+r)},r);return e=s+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}(),Function.prototype.name===void 0&&Object.defineProperty!==void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),typeof window<"u"&&(window.performance===void 0&&(self.performance={}),window.performance.now===void 0&&(g2=Date.now(),window.performance.now=function(){return Date.now()-g2})),Object.defineProperty!==void 0&&(Number.MAX_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MAX_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:Math.pow(2,53)-1}),Number.MIN_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MIN_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:-(Math.pow(2,53)-1)}));var ys=function(e){this.name=e,this._dict={}},v2={names:{configurable:!0}};function gi(e){return .01745*e}ys.prototype.add=function(e,t){this._dict[E2(e)]=t},ys.prototype.get=function(e){return this._dict[E2(e)]},v2.names.get=function(){return Object.keys(this._dict)},Object.defineProperties(ys.prototype,v2);var dP="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),H0=new Array(36);function B_(){for(var e,t=0,i=0;i<36;i++)i===8||i===13||i===18||i===23?H0[i]="-":i===14?H0[i]="4":(t<=2&&(t=33554432+16777216*Math.random()|0),e=15&t,t>>=4,H0[i]=dP[i===19?3&e|8:e]);return H0.join("")}function Nh(e,t,i){return Math.max(t,Math.min(i,e))}function $n(e,t,i){return e+(t-e)*i}function ur(e,t,i,n,s,r){var a=(i-e)*r,o=(n-t)*r,c=s*s;return(2*t-2*i+a+o)*(s*c)+(-3*t+3*i-2*a-o)*c+a*s+t}function Kf(e,t,i){var n;return n=function(s,r,a){return(s-r)/(a-r)}(i,e,t),(i=Nh(n,0,1))*i*(3-2*i)}var C4="sRGB",hP={scale:"uniform",mode:"hcl",domain:[0,1],value:16777215,reverse:!1},gl=new Oe;function Kt(e,t,i){var n=i.value;return i.value=function(s,r){var a=n.bind(this,s,r)();return C4=="linear"?(gl.set(a),gl.convertSRGBToLinear(),gl.getHex()):a},i}var st,Dt=function(e){e===void 0&&(e={}),this.parameters=Bn(e,hP),typeof this.parameters.value=="string"&&(this.parameters.value=gl.set(this.parameters.value).getHex()),this.parameters.structure&&(this.atomProxy=this.parameters.structure.getAtomProxy())};Dt.prototype.getScale=function(e){e===void 0&&(e={});var t=Bn(e,this.parameters);return t.scale==="rainbow"?t.scale=["red","orange","yellow","green","blue"]:t.scale==="rwb"&&(t.scale=["red","white","blue"]),t.reverse&&(t.domain=t.domain.slice().reverse()),Fh.exports.scale(t.scale).mode(t.mode).domain(t.domain).out("num")},Dt.prototype.colorToArray=function(e,t,i){return t===void 0&&(t=[]),i===void 0&&(i=0),t[i]=(e>>16&255)/255,t[i+1]=(e>>8&255)/255,t[i+2]=(255&e)/255,t},Dt.prototype.atomColorToArray=function(e,t,i){return this.colorToArray(this.atomColor?this.atomColor(e):0,t,i)},Dt.prototype.bondColor=function(e,t){return this.atomProxy&&this.atomColor?(this.atomProxy.index=t?e.atomIndex1:e.atomIndex2,this.atomColor(this.atomProxy)):0},Dt.prototype.bondColorToArray=function(e,t,i,n){return this.colorToArray(this.bondColor(e,t),i,n)},Dt.prototype.volumeColorToArray=function(e,t,i){return this.colorToArray(this.volumeColor?this.volumeColor(e):0,t,i)},Dt.prototype.positionColorToArray=function(e,t,i){return this.colorToArray(this.positionColor?this.positionColor(e):0,t,i)},function(e){e[e.PROTEIN=1]="PROTEIN",e[e.NUCLEIC=2]="NUCLEIC",e[e.RNA=3]="RNA",e[e.DNA=4]="DNA",e[e.POLYMER=5]="POLYMER",e[e.WATER=6]="WATER",e[e.HELIX=7]="HELIX",e[e.SHEET=8]="SHEET",e[e.TURN=9]="TURN",e[e.BACKBONE=10]="BACKBONE",e[e.SIDECHAIN=11]="SIDECHAIN",e[e.ALL=12]="ALL",e[e.HETERO=13]="HETERO",e[e.ION=14]="ION",e[e.SACCHARIDE=15]="SACCHARIDE",e[e.SUGAR=15]="SUGAR",e[e.BONDED=16]="BONDED",e[e.RING=17]="RING",e[e.AROMATICRING=18]="AROMATICRING",e[e.METAL=19]="METAL",e[e.POLARH=20]="POLARH",e[e.NONE=21]="NONE"}(st||(st={}));var b2=["*","","ALL"],_P=["NONE"],V_=[st.BACKBONE,st.SIDECHAIN,st.BONDED,st.RING,st.AROMATICRING,st.METAL,st.POLARH],P4=[st.POLYMER,st.WATER],yP=["ALA","GLY","SER"],gP=["CYS","SER","THR"],wP=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],EP=["PHE","TRP","TYR","HIS"],vP=["ASN","GLN"],bP=["ASP","GLU"],xP=["ARG","HIS","LYS"],SP=["ARG","ASP","GLU","HIS","LYS"],MP=["ASN","ARG","ASP","CYS","GLY","GLN","GLU","HIS","LYS","SER","THR","TYR"],AP=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],CP=["HIS","PHE","PRO","TRP","TYR"],PP=["ALA","GLY","ILE","LEU","VAL"];function TP(e,t){if(t.atomname===void 0&&t.element===void 0&&t.altloc===void 0&&t.atomindex===void 0&&t.keyword===void 0&&t.inscode===void 0&&t.resname===void 0&&t.sstruc===void 0&&t.resno===void 0&&t.chainname===void 0&&t.model===void 0)return-1;if(t.keyword!==void 0&&(t.keyword===st.BACKBONE&&!e.isBackbone()||t.keyword===st.SIDECHAIN&&!e.isSidechain()||t.keyword===st.BONDED&&!e.isBonded()||t.keyword===st.RING&&!e.isRing()||t.keyword===st.AROMATICRING&&!e.isAromatic()||t.keyword===st.HETERO&&!e.isHetero()||t.keyword===st.PROTEIN&&!e.isProtein()||t.keyword===st.NUCLEIC&&!e.isNucleic()||t.keyword===st.RNA&&!e.isRna()||t.keyword===st.DNA&&!e.isDna()||t.keyword===st.POLYMER&&!e.isPolymer()||t.keyword===st.WATER&&!e.isWater()||t.keyword===st.HELIX&&!e.isHelix()||t.keyword===st.SHEET&&!e.isSheet()||t.keyword===st.TURN&&!e.isTurn()||t.keyword===st.ION&&!e.isIon()||t.keyword===st.SACCHARIDE&&!e.isSaccharide()||t.keyword===st.METAL&&!e.isMetal()||t.keyword===st.POLARH&&!e.isPolarHydrogen())||t.atomname!==void 0&&t.atomname!==e.atomname||t.element!==void 0&&t.element!==e.element||t.altloc!==void 0&&t.altloc!==e.altloc||t.atomindex!==void 0&&La(t.atomindex,e.index)<0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function IP(e,t){if(t.resname===void 0&&t.resno===void 0&&t.inscode===void 0&&t.sstruc===void 0&&t.model===void 0&&t.chainname===void 0&&t.atomindex===void 0&&(t.keyword===void 0||V_.includes(t.keyword)))return-1;if(t.keyword!==void 0&&(t.keyword===st.HETERO&&!e.isHetero()||t.keyword===st.PROTEIN&&!e.isProtein()||t.keyword===st.NUCLEIC&&!e.isNucleic()||t.keyword===st.RNA&&!e.isRna()||t.keyword===st.DNA&&!e.isDna()||t.keyword===st.POLYMER&&!e.isPolymer()||t.keyword===st.WATER&&!e.isWater()||t.keyword===st.HELIX&&!e.isHelix()||t.keyword===st.SHEET&&!e.isSheet()||t.keyword===st.TURN&&!e.isTurn()||t.keyword===st.ION&&!e.isIon()||t.keyword===st.SACCHARIDE&&!e.isSaccharide())||t.atomindex!==void 0&&O_(t.atomindex,e.atomOffset,e.atomEnd)===0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function LP(e,t){return t.chainname!==void 0||t.model!==void 0||t.atomindex!==void 0||t.keyword!==void 0&&P4.includes(t.keyword)&&e.entity?t.keyword!==void 0&&(t.keyword===st.POLYMER&&!e.entity.isPolymer()||t.keyword===st.WATER&&!e.entity.isWater())?!1:(t.atomindex===void 0||O_(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex):-1}function FP(e,t){return t.model===void 0&&t.atomindex===void 0?-1:(t.atomindex===void 0||O_(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.model===void 0||t.model===e.index)}function Yf(e,t){if(e===null||e.error||!e.rules||e.rules.length===0)return!1;for(var i=e.rules.length,n=!e.negate,s=!!e.negate,r=[],a=0;a<i;++a){var o=e.rules[a];o.hasOwnProperty("operator")&&(r[a]=Yf(o,t))}return function(c){for(var p=e.operator==="AND",f=!1,l=0;l<i;++l){var u=e.rules[l],m=void 0;if(u.hasOwnProperty("operator")){var d=r[l];if((m=d!==!1?d(c):-1)===-1){f=!0;continue}if(m===!0){if(p)continue;return n}if(p)return s}else{if(u.keyword===st.ALL){if(p)continue;return n}if(u.keyword===st.NONE){if(p)continue;return s}if((m=t(c,u))!==-1){if(m===!0){if(p)continue;return n}if(p)return s}else f=!0}}return f?-1:p?n:s}}function Jf(e,t){if(e.error||!e.rules||e.rules.length===0)return e;var i=e.rules.length,n={operator:e.operator,rules:[]};e.hasOwnProperty("negate")&&(n.negate=e.negate);for(var s=0;s<i;++s){var r=e.rules[s];if(r.hasOwnProperty("operator")){var a=Jf(r,t);a!==null&&n.rules.push(a)}else t(r)||n.rules.push(r)}return n.rules.length>0?e:null}function x2(e,t){t===void 0&&(t=!1);var i=e;return t&&(i=Jf(e,function(n){return n.keyword!==void 0&&!V_.includes(n.keyword)||n.model!==void 0||n.chainname!==void 0||n.resname!==void 0||n.resno!==void 0||n.sstruc!==void 0})),Yf(i,TP)}function S2(e,t){t===void 0&&(t=!1);var i=e;return t&&(i=Jf(e,function(n){return!(n.keyword===void 0||!V_.includes(n.keyword))||n.model!==void 0||n.chainname!==void 0||n.atomname!==void 0||n.element!==void 0||n.altloc!==void 0})),Yf(i,IP)}function M2(e,t){t===void 0&&(t=!1);var i=e;return t&&(i=Jf(e,function(n){return n.keyword!==void 0&&!P4.includes(n.keyword)||n.resname!==void 0||n.resno!==void 0||n.atomname!==void 0||n.element!==void 0||n.altloc!==void 0||n.sstruc!==void 0||n.inscode!==void 0})),Yf(i,LP)}function A2(e,t){t===void 0&&(t=!1);var i=e;return t&&(i=Jf(e,function(n){return n.keyword!==void 0||n.chainname!==void 0||n.resname!==void 0||n.resno!==void 0||n.atomname!==void 0||n.element!==void 0||n.altloc!==void 0||n.sstruc!==void 0||n.inscode!==void 0})),Yf(i,FP)}var Jt=function(e){this.signals={stringChanged:new _t.exports.Signal},this.setString(e)},C2={type:{configurable:!0}};C2.type.get=function(){return"selection"},Jt.prototype.setString=function(e,t){if(e===void 0&&(e=this.string||""),e!==this.string){try{this.selection=function(n){var s={operator:void 0,rules:[]};if(!n)return s;var r,a,o=s,c=[];(n=n.replace(/\(/g," ( ").replace(/\)/g," ) ").trim()).charAt(0)==="("&&n.substr(-1)===")"&&(n=n.slice(1,-1).trim());for(var p=n.split(/\s+/),f=function(q){r={operator:q,rules:[]},o===void 0?(o=r,s=r):(o.rules.push(r),c.push(o),o=r)},l=function(q){a=o,(o=c.pop())===void 0&&(f(q),u(a))},u=function(q){o.rules.push(q)},m=!1,d=0;d<p.length;++d){var y=p[d],_=y.toUpperCase();if(y!=="(")if(y!==")"){if(m>0)if(_==="NOT")m=1;else if(m===1)m=2;else{if(m!==2)throw new Error("something went wrong with 'not'");m=!1,l()}if(_!=="AND")if(_!=="OR")if(y.toUpperCase()!=="NOT"){if(+_!=+_){var h=st[_];if(h!==void 0){u({keyword:h});continue}}if(_!=="HYDROGEN")if(_!=="SMALL")if(_!=="NUCLEOPHILIC")if(_!=="HYDROPHOBIC")if(_!=="AROMATIC")if(_!=="AMIDE")if(_!=="ACIDIC")if(_!=="BASIC")if(_!=="CHARGED")if(_!=="POLAR")if(_!=="NONPOLAR")if(_!=="CYCLIC")if(_!=="ALIPHATIC")if(_!=="SIDECHAINATTACHED")if(_!=="APOLARH")if(_!=="LIGAND")if(b2.indexOf(_)===-1)if(y.charAt(0)!=="@")if(y.charAt(0)!=="#")if(y.charAt(0)!=="_")if(y[0]!=="["||y[y.length-1]!=="]")if(y.length>=1&&y.length<=4&&y[0]!=="^"&&y[0]!==":"&&y[0]!=="."&&y[0]!=="%"&&y[0]!=="/"&&isNaN(parseInt(y)))u({resname:_});else{var g={operator:"AND",rules:[]},E=y.split("/");if(E.length>1&&E[1]){if(isNaN(parseInt(E[1])))throw new Error("model must be an integer");g.rules.push({model:parseInt(E[1])})}var w=E[0].split("%");w.length>1&&g.rules.push({altloc:w[1]});var v=w[0].split(".");if(v.length>1&&v[1]){if(v[1].length>4)throw new Error("atomname must be one to four characters");g.rules.push({atomname:v[1].substring(0,4).toUpperCase()})}var x=v[0].split(":");x.length>1&&x[1]&&g.rules.push({chainname:x[1]});var b=x[0].split("^");if(b.length>1&&g.rules.push({inscode:b[1]}),b[0]){var A=void 0,M=void 0;b[0][0]==="-"&&(b[0]=b[0].substr(1),A=!0),b[0].includes("--")&&(b[0]=b[0].replace("--","-"),M=!0);var G=b[0].split("-");if(G.length===1){var T=parseInt(G[0]);if(isNaN(T))throw new Error("resi must be an integer");A&&(T*=-1),g.rules.push({resno:T})}else{if(G.length!==2)throw new Error("resi range must contain one '-'");var N=G.map(function(q){return parseInt(q)});A&&(N[0]*=-1),M&&(N[1]*=-1),g.rules.push({resno:[N[0],N[1]]})}}if(g.rules.length===1)u(g.rules[0]);else{if(!(g.rules.length>1))throw new Error("empty selection chunk");u(g)}}else{var D=_.substr(1,y.length-2).split(","),L=D.length>1?D:D[0];u({resname:L})}else u({element:_.substr(1)});else console.error("# for element selection deprecated, use _"),u({element:_.substr(1)});else{var C=y.substr(1).split(",").map(function(q){return parseInt(q)});C.sort(function(q,z){return q-z}),u({atomindex:C})}else u({keyword:st.ALL});else u({operator:"AND",rules:[{operator:"OR",rules:[{operator:"AND",rules:[{keyword:st.HETERO},{negate:!0,operator:void 0,rules:[{keyword:st.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{keyword:st.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{operator:"OR",rules:[{keyword:st.WATER},{keyword:st.ION}]}]}]});else u({operator:"AND",negate:!1,rules:[{element:"H"},{negate:!0,operator:void 0,rules:[{keyword:st.POLARH}]}]});else u({operator:"OR",rules:[{keyword:st.SIDECHAIN},{operator:"AND",negate:!1,rules:[{keyword:st.PROTEIN},{operator:"OR",negate:!1,rules:[{atomname:"CA"},{atomname:"BB"}]}]},{operator:"AND",negate:!1,rules:[{resname:"PRO"},{atomname:"N"}]},{operator:"AND",negate:!1,rules:[{keyword:st.NUCLEIC},{operator:"OR",negate:!0,rules:[{atomname:"P"},{atomname:"OP1"},{atomname:"OP2"},{atomname:"O3'"},{atomname:"O3*"},{atomname:"HO3'"},{atomname:"O5'"},{atomname:"O5*"},{atomname:"HO5'"},{atomname:"C5'"},{atomname:"C5*"},{atomname:"H5'"},{atomname:"H5''"}]}]}]});else u({resname:PP});else u({resname:CP});else u({resname:AP});else u({resname:MP});else u({resname:SP});else u({resname:xP});else u({resname:bP});else u({resname:vP});else u({resname:EP});else u({resname:wP});else u({resname:gP});else u({resname:yP});else u({operator:"OR",rules:[{element:"H"},{element:"D"}]})}else m=1,f(),o.negate=!0;else o.operator==="AND"?l("OR"):o.operator="OR";else if(o.operator==="OR"){var O=o.rules.pop();f("AND"),u(O)}else o.operator="AND"}else l(),o.negate&&l();else m=!1,f()}return s.operator===void 0&&s.rules.length===1&&s.rules[0].hasOwnProperty("operator")&&(s=s.rules[0]),s}(e)}catch(n){this.selection={error:n.message}}var i=this.selection;this.string=e,this.test=x2(i),this.residueTest=S2(i),this.chainTest=M2(i),this.modelTest=A2(i),this.atomOnlyTest=x2(i,!0),this.residueOnlyTest=S2(i,!0),this.chainOnlyTest=M2(i,!0),this.modelOnlyTest=A2(i,!0),t||this.signals.stringChanged.dispatch(this.string)}},Jt.prototype.isAllSelection=function(){return b2.includes(this.string.toUpperCase())},Jt.prototype.isNoneSelection=function(){return _P.includes(this.string.toUpperCase())},Object.defineProperties(Jt.prototype,C2);var RP=function(e){function t(i){var n=this;e.call(this,i),this.colormakerList=[],this.selectionList=[],(i.dataList||[]).forEach(function(s){var r=s[0],a=s[1],o=s[2];o===void 0&&(o={}),It.hasScheme(r)?Object.assign(o,{scheme:r,structure:n.parameters.structure}):Object.assign(o,{scheme:"uniform",value:new Oe(r).getHex()}),n.colormakerList.push(It.getScheme(o)),n.selectionList.push(new Jt(a))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){for(var n=0,s=this.selectionList.length;n<s;++n){var r=this.selectionList[n].test;if(r&&r(i))return this.colormakerList[n].atomColor(i)}return 16777215},t}(Dt),NP={"":"",OrRd:"[S] Orange-Red",PuBu:"[S] Purple-Blue",BuPu:"[S] Blue-Purple",Oranges:"[S] Oranges",BuGn:"[S] Blue-Green",YlOrBr:"[S] Yellow-Orange-Brown",YlGn:"[S] Yellow-Green",Reds:"[S] Reds",RdPu:"[S] Red-Purple",Greens:"[S] Greens",YlGnBu:"[S] Yellow-Green-Blue",Purples:"[S] Purples",GnBu:"[S] Green-Blue",Greys:"[S] Greys",YlOrRd:"[S] Yellow-Orange-Red",PuRd:"[S] Purple-Red",Blues:"[S] Blues",PuBuGn:"[S] Purple-Blue-Green",Viridis:"[D] Viridis",Spectral:"[D] Spectral",RdYlGn:"[D] Red-Yellow-Green",RdBu:"[D] Red-Blue",PiYG:"[D] Pink-Yellowgreen",PRGn:"[D] Purplered-Green",RdYlBu:"[D] Red-Yellow-Blue",BrBG:"[D] Brown-Bluegreen",RdGy:"[D] Red-Grey",PuOr:"[D] Purple-Orange",Set1:"[Q] Set1",Set2:"[Q] Set2",Set3:"[Q] Set3",Dark2:"[Q] Dark2",Paired:"[Q] Paired",Pastel1:"[Q] Pastel1",Pastel2:"[Q] Pastel2",Accent:"[Q] Accent",rainbow:"[?] Rainbow",rwb:"[?] Red-White-Blue"},DP={"":"",rgb:"Red Green Blue",hsv:"Hue Saturation Value",hsl:"Hue Saturation Lightness",hsi:"Hue Saturation Intensity",lab:"CIE L*a*b*",hcl:"Hue Chroma Lightness"},Hn=function(){this.schemes={},this.userSchemes={}};Hn.prototype.getScheme=function(e){var t=((e||{}).scheme||"").toLowerCase();return new(t in this.schemes?this.schemes[t]:t in this.userSchemes?this.userSchemes[t]:Dt)(e)},Hn.prototype.getSchemes=function(){var e={};return Object.keys(this.schemes).forEach(function(t){e[t]=t}),Object.keys(this.userSchemes).forEach(function(t){e[t]=t.split("|")[1]}),e},Hn.prototype.getScales=function(){return NP},Hn.prototype.getModes=function(){return DP},Hn.prototype.add=function(e,t){e=e.toLowerCase(),this.schemes[e]=t},Hn.prototype.addScheme=function(e,t){return e instanceof Dt||(e=this._createScheme(e)),this._addUserScheme(e,t)},Hn.prototype._addUserScheme=function(e,t){t=t||"";var i=(B_()+"|"+t).toLowerCase();return this.userSchemes[i]=e,i},Hn.prototype.removeScheme=function(e){e=e.toLowerCase(),delete this.userSchemes[e]},Hn.prototype._createScheme=function(e){var t=function(i){Dt.call(this,i),e.call(this,i)};return(t.prototype=Dt.prototype).constructor=Dt,t},Hn.prototype.addSelectionScheme=function(e,t){var i=function(n){function s(r){n.call(this,Object.assign({dataList:e},r))}return n&&(s.__proto__=n),s.prototype=Object.create(n&&n.prototype),s.prototype.constructor=s,s}(RP);return this._addUserScheme(i,t)},Hn.prototype.hasScheme=function(e){return(e=e.toLowerCase())in this.schemes||e in this.userSchemes};var GP=function(e){function t(){e.call(this,"parser")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__hasObjName=function(i,n){var s=this.get(i);return s&&s.prototype.__objName===n},t.prototype.isTrajectory=function(i){return this.__hasObjName(i,"frames")},t.prototype.isStructure=function(i){return this.__hasObjName(i,"structure")},t.prototype.isVolume=function(i){return this.__hasObjName(i,"volume")},t.prototype.isSurface=function(i){return this.__hasObjName(i,"surface")},t.prototype.isBinary=function(i){var n=this.get(i);return n&&n.prototype.isBinary},t.prototype.isXml=function(i){var n=this.get(i);return n&&n.prototype.isXml},t.prototype.isJson=function(i){var n=this.get(i);return n&&n.prototype.isJson},t.prototype.getTrajectoryExtensions=function(){var i=this;return this.names.filter(function(n){return i.isTrajectory(n)})},t.prototype.getStructureExtensions=function(){var i=this;return this.names.filter(function(n){return i.isStructure(n)})},t.prototype.getVolumeExtensions=function(){var i=this;return this.names.filter(function(n){return i.isVolume(n)})},t.prototype.getSurfaceExtensions=function(){var i=this;return this.names.filter(function(n){return i.isSurface(n)})},t}(ys);function T4(e){var t=e;return e.forEach(function(i){i.__deps&&Array.prototype.push.apply(t,T4(i.__deps))}),t}function OP(e){return k_(T4(e)).map(function(t){return t.toString()}).join(`


`)}function kP(e){var t=e.data.__name,i=e.data.__postId;t===void 0?console.error("message __name undefined"):self.func===void 0?console.error("worker func undefined",t):self.func(e,function(n,s){n=n||{},i!==void 0&&(n.__postId=i);try{self.postMessage(n,s)}catch(r){console.error("self.postMessage:",r),self.postMessage(n)}})}function BP(e,t){var i=`'use strict';

`+OP(t);return i+=`


self.func = `+e.toString()+";",i+=`


self.onmessage = `+kP.toString()+";",new Blob([i],{type:"application/javascript"})}var Dh=function(){this.activeWorkerCount=0,this._funcDict={},this._depsDict={},this._blobDict={}};Dh.prototype.add=function(e,t,i){this._funcDict[e]=t,this._depsDict[e]=i},Dh.prototype.get=function(e){return this._blobDict[e]||(this._blobDict[e]=BP(this._funcDict[e],this._depsDict[e])),this._blobDict[e]};var I4=S4(),L4=!1;try{var VP=Object.defineProperty({},"passive",{get:function(){L4=!0}});window.addEventListener("test",function(e){},VP)}catch{}var F4=typeof window<"u"&&window.orientation!==void 0,Jr=!1;function P2(e){Jr=e}var qs=!1;function T2(e){qs=e}var de={log:Function.prototype.bind.call(console.log,console),info:Function.prototype.bind.call(console.info,console),warn:Function.prototype.bind.call(console.warn,console),error:Function.prototype.bind.call(console.error,console),time:Function.prototype.bind.call(console.time,console),timeEnd:Function.prototype.bind.call(console.timeEnd,console)},cp={color:"green",labelColor:8421504,labelAttachment:"bottom-center",labelSize:.7,labelZOffset:.5,labelYOffset:.1,labelBorder:!0,labelBorderColor:13882323,labelBorderWidth:.25,lineOpacity:.8,linewidth:5,opacity:.6,labelUnit:"angstrom",arcVisible:!0,planeVisible:!1},cm,Ce=!!(cm=uP("debug"))&&(typeof cm!="string"||/^1|true|t|yes|y$/i.test(cm)),pm,qP=["ngl","js"],Tf=new Dh,It=new Hn,Ba=new ys("datasource"),li=new ys("representatation"),ft=new GP,Ht=new ys("shader"),q_=new ys("decompressor"),Fc=new ys("component"),Vn=new ys("buffer"),Un=new ys("picker"),fn=function(e,t){t===void 0&&(t={}),this.chunkSize=10485760,this.newline=`
`,this.__pointer=0,this.__partialLine="",this.compressed=R(t.compressed,!1),this.binary=R(t.binary,!1),this.json=R(t.json,!1),this.xml=R(t.xml,!1),this.src=e};fn.prototype.isBinary=function(){return this.binary||this.compressed},fn.prototype.read=function(){var e=this;return this._read().then(function(t){var i=e.compressed?q_.get(e.compressed):void 0;return e.compressed&&i?e.data=i(t):((e.binary||e.compressed)&&t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e.data=t),e.data})},fn.prototype._chunk=function(e,t){return t=Math.min(this.data.length,t),e===0&&this.data.length===t?this.data:this.isBinary()?this.data.subarray(e,t):this.data.substring(e,t)},fn.prototype.chunk=function(e){var t=e+this.chunkSize;return this._chunk(e,t)},fn.prototype.peekLines=function(e){var t,i=this.data,n=i.length,s=this.isBinary()?this.newline.charCodeAt(0):this.newline,r=0;for(t=0;t<n&&(i[t]===s&&++r,r!==e);++t);var a=this._chunk(0,t+1);return this.chunkToLines(a,"",t>n).lines},fn.prototype.chunkCount=function(){return Math.floor(this.data.length/this.chunkSize)+1},fn.prototype.asText=function(){return this.isBinary()?Tu(this.data):this.data},fn.prototype.chunkToLines=function(e,t,i){var n=this.newline;if(!this.isBinary()&&e.length===this.data.length)return{lines:e.split(n),partialLine:""};var s=[],r=this.isBinary()?Tu(e):e,a=r.lastIndexOf(n);if(a===-1)t+=r;else{var o=t+r.substr(0,a);s=s.concat(o.split(n)),t=a===r.length-n.length?"":r.substr(a+n.length)}return i&&t!==""&&s.push(t),{lines:s,partialLine:t}},fn.prototype.nextChunk=function(){var e=this.__pointer;if(!(e>this.data.length))return this.__pointer+=this.chunkSize,this.chunk(e)},fn.prototype.nextChunkOfLines=function(){var e=this.nextChunk();if(e!==void 0){var t=this.__pointer>this.data.length,i=this.chunkToLines(e,this.__partialLine,t);return this.__partialLine=i.partialLine,i.lines}},fn.prototype.eachChunk=function(e){for(var t=this.chunkSize,i=this.data.length,n=this.chunkCount(),s=0;s<i;s+=t)e(this.chunk(s),Math.round(s/t),n)},fn.prototype.eachChunkOfLines=function(e){var t=this;this.eachChunk(function(i,n,s){var r=n===s+1,a=t.chunkToLines(i,t.__partialLine,r);t.__partialLine=a.partialLine,e(a.lines,n,s)})},fn.prototype.dispose=function(){delete this.src};var zP=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var i=this;return new Promise(function(n,s){var r=i.src,a=new FileReader;a.onload=function(o){o.target&&n(o.target.result)},a.onerror=function(o){return s(o)},i.binary||i.compressed?a.readAsArrayBuffer(r):a.readAsText(r)})},t}(fn),HP=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var i=this;return new Promise(function(n,s){var r=i.src,a=new XMLHttpRequest;a.open("GET",r,!0),a.addEventListener("load",function(){if(a.status===200||a.status===304||a.status===0)try{n(a.response)}catch(o){s(o)}else s(a.statusText)},!1),a.addEventListener("error",function(o){return s("network error")},!1),i.isBinary()?a.responseType="arraybuffer":i.json?a.responseType="json":i.xml?a.responseType="document":a.responseType="text",a.send()})},t}(fn),R4=function(e,t){t===void 0&&(t={}),this.parameters=Bn(t,{ext:"",compressed:!1,binary:ft.isBinary(t.ext||""),name:"",dir:"",path:"",protocol:""});var i={compressed:this.parameters.compressed,binary:this.parameters.binary,json:ft.isJson(this.parameters.ext),xml:ft.isXml(this.parameters.ext)};typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob?this.streamer=new zP(e,i):this.streamer=new HP(e,i)},UP=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,i,n),this.parserParams={voxelSize:n.voxelSize,firstModelOnly:n.firstModelOnly,asTrajectory:n.asTrajectory,cAlphaOnly:n.cAlphaOnly,delimiter:n.delimiter,comment:n.comment,columnNames:n.columnNames,name:this.parameters.name,path:this.parameters.path}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){return new(ft.get(this.parameters.ext))(this.streamer,this.parserParams).parse()},t}(R4),N4=function(e,t,i){this.name=t,this.path=i,this.signals={elementAdded:new _t.exports.Signal,elementRemoved:new _t.exports.Signal,nameChanged:new _t.exports.Signal},this.type="Script",this.dir=i.substring(0,i.lastIndexOf("/")+1);try{this.fn=new Function("stage","__name","__path","__dir",e)}catch(n){de.error("Script compilation failed",n),this.fn=function(){}}};N4.prototype.run=function(e){var t=this;return new Promise(function(i,n){try{t.fn.apply(null,[e,t.name,t.path,t.dir]),i()}catch(s){de.error("Script.fn",s),n(s)}})};var WP=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var i=this;return this.streamer.read().then(function(){return new N4(i.streamer.asText(),i.parameters.name,i.parameters.path)})},t}(R4);function Oi(e){var t,i,n=q_.names,s="",r=(t=e instanceof File?e.name:e instanceof Blob?"":e).lastIndexOf("?"),a=r!==-1?t.substring(r):"",o=(t=t.substring(0,r===-1?t.length:r)).replace(/^.*[\\/]/,""),c=o.substring(0,o.lastIndexOf(".")),p=o.split("."),f=p.length>1?(p.pop()||"").toLowerCase():"",l=t.match(/^(.+):\/\/(.+)$/);l&&(s=l[1].toLowerCase(),t=l[2]||"");var u=t.substring(0,t.lastIndexOf("/")+1);if(n.includes(f)){i=f;var m=t.length-f.length-1;f=(t.substr(0,m).split(".").pop()||"").toLowerCase();var d=c.length-f.length-1;c=c.substr(0,d)}else i=!1;return{path:t,name:o,ext:f,base:c,dir:u,compressed:i,protocol:s,query:a,src:e}}function jP(e){var t=Oi(e),i=Ba.get(t.protocol);return i&&!(t=Oi(i.getUrl(t.src))).ext&&i.getExt&&(t.ext=i.getExt(e)),t}function Gh(e,t){t===void 0&&(t={});var i,n=Object.assign(jP(e),t);return ft.names.includes(n.ext)?i=new UP(n.src,n):qP.includes(n.ext)&&(i=new WP(n.src,n)),i?i.load():Promise.reject(new Error("autoLoad: ext '"+n.ext+"' unknown"))}var If=function(){};If.prototype.getBlob=function(){return new Blob([this.getData()],{type:this.mimeType})},If.prototype.download=function(e,t){e=R(e,this.defaultName),t=R(t,this.defaultExt),M4(this.getBlob(),e+"."+t)};(function(e){function t(i,n){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="pdb";var s=Object.assign({},n);this.renumberSerial=R(s.renumberSerial,!0),this.remarks=function(r){return Array.isArray(r)?r:[r]}(R(s.remarks,[])),this.structure=i,this._records=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._writeRecords=function(){this._records.length=0,this._writeTitle(),this._writeRemarks(),this._writeAtoms()},t.prototype._writeTitle=function(){this._records.push(un.sprintf("TITLE %-74s",this.structure.name))},t.prototype._writeRemarks=function(){var i=this;this.remarks.forEach(function(n){i._records.push(un.sprintf("REMARK %-73s",n))}),this.structure.trajectory&&(this._records.push(un.sprintf("REMARK %-73s","Trajectory '"+this.structure.trajectory.name+"'")),this._records.push(un.sprintf("REMARK %-73s","Frame "+this.structure.trajectory.frame)))},t.prototype._writeAtoms=function(){var i=this,n=1,s=1,r=" ",a=" ";this.structure.eachModel(function(o){i._records.push(un.sprintf("MODEL %-74d",s++)),o.eachAtom(function(c){var p=c.hetero?"HETATM%5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s":"ATOM  %5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s",f=i.renumberSerial?n:c.serial,l=c.atomname;(l.length===1||l.length<4&&c.element.length===1&&l[0]===c.element)&&(l=" "+l),c.formalCharge?(r=Math.abs(c.formalCharge).toPrecision(1),a=c.formalCharge>0?"+":"-"):(r=" ",a=" "),i._records.push(un.sprintf(p,f,l,c.resname,R(c.chainname," "),c.resno,c.x,c.y,c.z,R(c.occupancy,1),R(c.bfactor,0),"",R(c.element,""),r,a)),n+=1},i.structure.getSelection()),i._records.push(un.sprintf("%-80s","ENDMDL")),s+=1}),this._records.push(un.sprintf("%-80s","END"))},t.prototype.getString=function(){return console.warn("PdbWriter.getString() is deprecated, use .getData instead"),this.getData()},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},t})(If);(function(e){function t(n){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="sdf",this.structure=n,this._records=[]}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={idString:{configurable:!0},titleString:{configurable:!0},countsString:{configurable:!0},chargeLines:{configurable:!0}};return i.idString.get=function(){return this.structure.id},i.titleString.get=function(){return"  "+this.structure.title},i.countsString.get=function(){return un.sprintf("%3i%3i  0  0  0  0  0  0  0  0999 V2000",this.structure.atomCount,this.structure.bondCount)},i.chargeLines.get=function(){var n=[];this.structure.eachAtom(function(p){p.formalCharge!=null&&p.formalCharge!==0&&n.push([p.index,p.formalCharge])});for(var s=[],r=0;r<n.length;r+=8){for(var a=Math.min(8,n.length-r),o=un.sprintf("M  CHG%3i",a),c=r;c<r+a;c++)o+=un.sprintf(" %3i %3i",n[c][0]+1,n[c][1]);s.push(o)}return s},t.prototype.formatAtom=function(n){var s=0;n.formalCharge!=null&&n.formalCharge!==0&&(s=4-n.formalCharge);var r=un.sprintf("%10.4f%10.4f%10.4f %-3s 0%3i  0  0  0",n.x,n.y,n.z,n.element,s);if(r.length!==48)throw new Error("Incompatible atom for sdf format");return r},t.prototype.formatBond=function(n){return un.sprintf("%3i%3i%3i  0  0  0",n.atomIndex1+1,n.atomIndex2+1,n.bondOrder)},t.prototype._writeRecords=function(){this._records.length=0,this._writeHeader(),this._writeCTab(),this._writeFooter()},t.prototype._writeHeader=function(){this._records.push(this.idString,this.titleString,"")},t.prototype._writeCTab=function(){var n=this;this._records.push(this.countsString),this.structure.eachAtom(function(s){n._records.push(n.formatAtom(s))}),this.structure.eachBond(function(s){n._records.push(n.formatBond(s))}),this.chargeLines.forEach(function(s){n._records.push(s)}),this._records.push("M  END")},t.prototype._writeFooter=function(){this._records.push("$$$$")},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},Object.defineProperties(t.prototype,i),t})(If);var fm=[],Ct=function(e,t){t===void 0&&(t={}),this._mark=0,this._marks=[],this.offset=0,this.littleEndian=!0;var i=!1;e===void 0&&(e=8192),typeof e=="number"?e=new ArrayBuffer(e):i=!0;var n=t.offset?t.offset>>>0:0,s=e.byteLength-n,r=n;e instanceof ArrayBuffer||(e.byteLength!==e.buffer.byteLength&&(r=e.byteOffset+n),e=e.buffer),this._lastWrittenByte=i?s:0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=r,this._data=new DataView(this.buffer,r,s)};Ct.prototype.available=function(e){return e===void 0&&(e=1),this.offset+e<=this.length},Ct.prototype.isLittleEndian=function(){return this.littleEndian},Ct.prototype.setLittleEndian=function(){return this.littleEndian=!0,this},Ct.prototype.isBigEndian=function(){return!this.littleEndian},Ct.prototype.setBigEndian=function(){return this.littleEndian=!1,this},Ct.prototype.skip=function(e){return e===void 0&&(e=1),this.offset+=e,this},Ct.prototype.seek=function(e){return this.offset=e,this},Ct.prototype.mark=function(){return this._mark=this.offset,this},Ct.prototype.reset=function(){return this.offset=this._mark,this},Ct.prototype.pushMark=function(){return this._marks.push(this.offset),this},Ct.prototype.popMark=function(){var e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this},Ct.prototype.rewind=function(){return this.offset=0,this},Ct.prototype.ensureAvailable=function(e){if(e===void 0&&(e=1),!this.available(e)){var t=2*(this.offset+e),i=new Uint8Array(t);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this},Ct.prototype.readBoolean=function(){return this.readUint8()!==0},Ct.prototype.readInt8=function(){return this._data.getInt8(this.offset++)},Ct.prototype.readUint8=function(){return this._data.getUint8(this.offset++)},Ct.prototype.readByte=function(){return this.readUint8()},Ct.prototype.readBytes=function(e){e===void 0&&(e=1);for(var t=new Uint8Array(e),i=0;i<e;i++)t[i]=this.readByte();return t},Ct.prototype.readInt16=function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},Ct.prototype.readUint16=function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},Ct.prototype.readInt32=function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},Ct.prototype.readUint32=function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},Ct.prototype.readFloat32=function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},Ct.prototype.readFloat64=function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},Ct.prototype.readChar=function(){return String.fromCharCode(this.readInt8())},Ct.prototype.readChars=function(e){e===void 0&&(e=1),fm.length=e;for(var t=0;t<e;t++)fm[t]=this.readChar();return fm.join("")},Ct.prototype.writeBoolean=function(e){return e===void 0&&(e=!1),this.writeUint8(e?255:0),this},Ct.prototype.writeInt8=function(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this},Ct.prototype.writeUint8=function(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this},Ct.prototype.writeByte=function(e){return this.writeUint8(e)},Ct.prototype.writeBytes=function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this},Ct.prototype.writeInt16=function(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},Ct.prototype.writeUint16=function(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},Ct.prototype.writeInt32=function(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},Ct.prototype.writeUint32=function(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},Ct.prototype.writeFloat32=function(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},Ct.prototype.writeFloat64=function(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this},Ct.prototype.writeChar=function(e){return this.writeUint8(e.charCodeAt(0))},Ct.prototype.writeChars=function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this},Ct.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)},Ct.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)};(function(e){function t(i){e.call(this),this.mimeType="application/vnd.ms-pki.stl",this.defaultName="surface",this.defaultExt="stl",this.surface=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getData=function(){var i=this.surface.index.length/3,n=new Ct(2*i+3*i*4*4+80+4);n.skip(80),n.writeUint32(i);for(var s=new P,r=new P,a=new P,o=new P,c=0;c<i;c++){var p=[this.surface.index[3*c],this.surface.index[3*c+1],this.surface.index[3*c+2]];r.fromArray(this.surface.normal,3*p[0]),a.fromArray(this.surface.normal,3*p[1]),o.fromArray(this.surface.normal,3*p[2]),s.addVectors(r,a).add(o).normalize(),n.writeFloat32(s.x),n.writeFloat32(s.y),n.writeFloat32(s.z);for(var f=0;f<3;f++)s.fromArray(this.surface.position,3*p[f]),n.writeFloat32(s.x),n.writeFloat32(s.y),n.writeFloat32(s.z);n.writeUint16(0)}return new DataView(n.buffer)},t})(If);var Gs=function(){this.count=0,this.signals={countChanged:new _t.exports.Signal}};Gs.prototype.clear=function(){this.change(-this.count)},Gs.prototype.change=function(e){this.count+=e,this.signals.countChanged.dispatch(e,this.count),this.count<0&&de.warn("Counter.count below zero",this.count)},Gs.prototype.increment=function(){this.change(1)},Gs.prototype.decrement=function(){this.change(-1)},Gs.prototype.listen=function(e){this.change(e.count),e.signals.countChanged.add(this.change,this)},Gs.prototype.unlisten=function(e){var t=e.signals.countChanged;t.has(this.change,this)&&t.remove(this.change,this)},Gs.prototype.onZeroOnce=function(e,t){var i=this;if(this.count===0)e.call(t);else{var n=function(){i.count===0&&(i.signals.countChanged.remove(n,i),e.call(t))};this.signals.countChanged.add(n,this)}},Gs.prototype.dispose=function(){this.clear(),this.signals.countChanged.dispose()},Ht.add("shader/BasicLine.vert",`void main(){
#include begin_vertex
#include project_vertex
}`),Ht.add("shader/BasicLine.frag",`uniform vec3 uColor;
#include common
#include fog_pars_fragment
void main(){
gl_FragColor = vec4( uColor, 1.0 );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`),Ht.add("shader/Quad.vert",`varying vec2 vUv;
void main() {
vUv = uv;
gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`),Ht.add("shader/Quad.frag",`varying vec2 vUv;
uniform sampler2D tForeground;
uniform float scale;
void main() {
vec4 foreground = texture2D( tForeground, vUv );
gl_FragColor = foreground * scale;
}`);var wl=function(){this.signals={updated:new _t.exports.Signal},this.maxDuration=-1/0,this.minDuration=1/0,this.avgDuration=14,this.lastDuration=1/0,this.prevFpsTime=0,this.lastFps=1/0,this.lastFrames=1,this.frames=0,this.count=0,this.begin()};wl.prototype.update=function(){this.startTime=this.end(),this.currentTime=this.startTime,this.signals.updated.dispatch()},wl.prototype.begin=function(){this.startTime=window.performance.now(),this.lastFrames=this.frames},wl.prototype.end=function(){var e=window.performance.now();return this.count+=1,this.frames+=1,this.lastDuration=e-this.startTime,this.minDuration=Math.min(this.minDuration,this.lastDuration),this.maxDuration=Math.max(this.maxDuration,this.lastDuration),this.avgDuration-=this.avgDuration/30,this.avgDuration+=this.lastDuration/30,e>this.prevFpsTime+1e3&&(this.lastFps=this.frames,this.prevFpsTime=e,this.frames=0),e},Ht.add("shader/chunk/fog_fragment.glsl",`#ifdef USE_FOG
float depth = length( vViewPosition );
#ifdef FOG_EXP2
float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );
#else
float fogFactor = smoothstep( fogNear, fogFar, depth );
#endif
gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`),Ht.add("shader/chunk/interior_fragment.glsl",`if( gl_FrontFacing == false ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}`),Ht.add("shader/chunk/matrix_scale.glsl",`float matrixScale( in mat4 m ){
vec4 r = m[ 0 ];
return sqrt( r[ 0 ] * r[ 0 ] + r[ 1 ] * r[ 1 ] + r[ 2 ] * r[ 2 ] );
}`),Ht.add("shader/chunk/nearclip_vertex.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear - 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Ht.add("shader/chunk/nearclip_fragment.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear )
discard;
#endif`),Ht.add("shader/chunk/opaque_back_fragment.glsl",`#ifdef OPAQUE_BACK
#ifdef FLIP_SIDED
if( gl_FrontFacing == true ){
gl_FragColor.a = 1.0;
}
#else
if( gl_FrontFacing == false ){
gl_FragColor.a = 1.0;
}
#endif
#endif`),Ht.add("shader/chunk/radiusclip_vertex.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius + 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Ht.add("shader/chunk/radiusclip_fragment.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius )
discard;
#endif`),Ht.add("shader/chunk/unpack_color.glsl",`vec3 unpackColor(float f) {
vec3 color;
color.r = floor(f / 256.0 / 256.0);
color.g = floor((f - color.r * 256.0 * 256.0) / 256.0);
color.b = floor(f - color.r * 256.0 * 256.0 - color.g * 256.0);
return color / 255.0;
}`);var $P=/^(?!\/\/)\s*#include\s+(\S+)/gim,lm={};function Cp(e,t){t===void 0&&(t={});var i=e+"|";for(var n in t)i+=n+":"+t[n];if(!lm[i]){var s=function(a){if(a===void 0)return"";var o=[];for(var c in a){var p=a[c];p&&o.push("#define "+c+" "+p)}return o.join(`
`)+`
`}(t),r=Ht.get("shader/"+e);if(!r)throw new Error("empty shader, '"+e+"'");r=r.replace($P,function(a,o){var c="shader/chunk/"+o+".glsl",p=Ht.get(c)||Rt[o];if(!p)throw new Error("empty chunk, '"+o+"'");return p}),lm[i]=s+r}return lm[i]}if(typeof WebGLRenderingContext<"u"){var sr=WebGLRenderingContext.prototype,KP=sr.getShaderParameter;sr.getShaderParameter=function(){return!Ce||KP.apply(this,arguments)};var YP=sr.getShaderInfoLog;sr.getShaderInfoLog=function(){return Ce?YP.apply(this,arguments):""};var JP=sr.getProgramParameter;sr.getProgramParameter=function(e,t){return!Ce&&t===sr.LINK_STATUS||JP.apply(this,arguments)};var QP=sr.getProgramInfoLog;sr.getProgramInfoLog=function(){return Ce?QP.apply(this,arguments):""}}var D4=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];D4.forEach(function(e){e.forEach(function(t){t[0]*=.0625,t[1]*=.0625})});var Pp=function(e,t,i,n){this.canvas=document.createElement("canvas"),this._viewer=i,this._factor=R(n.factor,2),this._antialias=R(n.antialias,!1),this._onProgress=n.onProgress,this._onFinish=n.onFinish,this._antialias&&(this._factor*=2),this._n=this._factor*this._factor,this._width=this._viewer.width,this._height=this._viewer.height,this._antialias?(this.canvas.width=this._width*this._factor/2,this.canvas.height=this._height*this._factor/2):(this.canvas.width=this._width*this._factor,this.canvas.height=this._height*this._factor),this._ctx=this.canvas.getContext("2d"),this._viewerSampleLevel=i.sampleLevel,this._viewer.setSampling(-1)};Pp.prototype._renderTile=function(e){var t=this._viewer,i=this._width,n=this._height,s=this._factor,r=e%s*i,a=Math.floor(e/s)*n;if(t.camera.setViewOffset(i*s,n*s,r,a,i,n),t.render(),this._antialias){var o=Math.round((r+i)/2)-Math.round(r/2),c=Math.round((a+n)/2)-Math.round(a/2);this._ctx.drawImage(t.renderer.domElement,Math.round(r/2),Math.round(a/2),o,c)}else this._ctx.drawImage(t.renderer.domElement,Math.floor(r),Math.floor(a),Math.ceil(i),Math.ceil(n));typeof this._onProgress=="function"&&this._onProgress(e+1,this._n,!1)},Pp.prototype._finalize=function(){this._viewer.setSampling(this._viewerSampleLevel),this._viewer.camera.view=null,typeof this._onFinish=="function"&&this._onFinish(this._n+1,this._n,!1)},Pp.prototype.render=function(){for(var e=0;e<=this._n;++e)e===this._n?this._finalize():this._renderTile(e)},Pp.prototype.renderAsync=function(){for(var e=this,t=0,i=this._n,n=function(){t===i?e._finalize():e._renderTile(t),t+=1},s=0;s<=i;++s)setTimeout(n,0)};var um=2*Math.PI,G4=180/Math.PI;function mm(e,t,i,n,s){i===void 0&&(i=1),n===void 0&&(n=0);var r=s?s.length:e.length/i,a=0,o=0;if(s)for(var c=0;c<r;++c){var p=(e[s[c]*i+n]+t)%t/t*um-Math.PI;a+=Math.cos(p),o+=Math.sin(p)}else for(var f=n;f<r;f+=i){var l=(e[f]+t)%t/t*um-Math.PI;a+=Math.cos(l),o+=Math.sin(l)}return a/=r,o/=r,(Math.atan2(o,a)+Math.PI)/um*t}function zs(e,t,i,n){n===void 0&&(n=0);for(var s=e.length,r=i||new Float32Array(s),a=0;a<s;a+=3)r[n+a+0]=(e[a+0]+t[a+0])/2,r[n+a+1]=(e[a+1]+t[a+1])/2,r[n+a+2]=(e[a+2]+t[a+2])/2;return r}function Xu(e,t){for(var i=e.length,n=new Float32Array(i),s=0;s<i;s+=3)n[s+0]=t[s+0]-e[s+0],n[s+1]=t[s+1]-e[s+1],n[s+2]=t[s+2]-e[s+2];return n}function kn(e,t,i){for(var n=i||new Float32Array(e),s=0;s<e;++s)n[s]=t;return n}function Xt(e,t,i,n,s){for(var r=s||new Float32Array(3*e),a=0;a<e;++a){var o=3*a;r[o+0]=t,r[o+1]=i,r[o+2]=n}return r}function Vc(e){for(var t=new Float32Array(e),i=0;i<e;++i)t[i]=i;return t}function Oh(e,t,i,n){i===void 0&&(i=0);for(var s=n||new Float32Array(e*t),r=0;r<e;++r)for(var a=i+r*t,o=0;o<t;++o)s[a+o]=r;return s}function dm(e,t){for(var i=e.length,n=new Float32Array(i*t),s=0;s<i;++s)for(var r=s*t,a=e[s],o=0;o<t;++o)n[r+o]=a;return n}function Fi(e,t,i,n,s){for(var r=0;r<s;++r)t[n+r]=e[i+r]}function I2(e,t,i,n){Fi(e,e,t,i,n)}function El(e){for(var t=-1/0,i=0,n=e.length;i<n;++i)e[i]>t&&(t=e[i]);return t}function vl(e){for(var t=1/0,i=0,n=e.length;i<n;++i)e[i]<t&&(t=e[i]);return t}function z_(e,t,i){t===void 0&&(t=1),i===void 0&&(i=0);for(var n=e.length,s=0,r=i;r<n;r+=t)s+=e[r];return s}function bl(e,t,i){return t===void 0&&(t=1),i===void 0&&(i=0),z_(e,t,i)/(e.length/t)}var XP={trim:!1,factor:1,antialias:!1,transparent:!1,onProgress:void 0};function ZP(e,t){t===void 0&&(t={});var i=Bn(t,XP),n=i.trim,s=i.factor,r=i.antialias,a=i.transparent,o=e.renderer,c=e.camera,p=o.getClearAlpha(),f=o.getClearColor();function l(d){d===void 0&&(d=!1);var y=s;r&&(y*=2),d&&(y=1/y),e.scene.traverse(function(_){var h=_.material;h&&h.linewidth&&(h.linewidth*=y),h&&h.uniforms&&h.uniforms.size&&h.uniforms.size.__seen===void 0&&(h.uniforms.size.value*=y,h.uniforms.size.__seen=!0),h&&h.uniforms&&h.uniforms.linewidth&&h.uniforms.linewidth.__seen===void 0&&(h.uniforms.linewidth.value*=y,h.uniforms.linewidth.__seen=!0)}),e.scene.traverse(function(_){var h=_.material;h&&h.uniforms&&h.uniforms.size&&delete h.uniforms.size.__seen,h&&h.uniforms&&h.uniforms.linewidth&&delete h.uniforms.linewidth.__seen})}function u(d){if(n){var y=f;return function(_,h,g,E,w){var v,x,b,A,M=_.height,G=_.width,T=_.getContext("2d").getImageData(0,0,G,M).data;for(b=!1,x=0;x<M;x++){for(v=0;v<G;v++)if(T[A=4*(x*G+v)]!==h||T[A+1]!==g||T[A+2]!==E||T[A+3]!==w){b=!0;break}if(b)break}var N=x;for(b=!1,v=0;v<G;v++){for(x=0;x<M;x++)if(T[A=4*(x*G+v)]!==h||T[A+1]!==g||T[A+2]!==E||T[A+3]!==w){b=!0;break}if(b)break}var D=v;for(b=!1,x=M-1;x>=0;x--){for(v=G-1;v>=0;v--)if(T[A=4*(x*G+v)]!==h||T[A+1]!==g||T[A+2]!==E||T[A+3]!==w){b=!0;break}if(b)break}var L=x;for(b=!1,v=G-1;v>=0;v--){for(x=M-1;x>=0;x--)if(T[A=4*(x*G+v)]!==h||T[A+1]!==g||T[A+2]!==E||T[A+3]!==w){b=!0;break}if(b)break}var C=v,O=document.createElement("canvas");return O.width=C-D,O.height=L-N,O.getContext("2d").drawImage(_,D,N,O.width,O.height,0,0,O.width,O.height),O}(d,a?0:255*y.r,a?0:255*y.g,a?0:255*y.b,a?0:255)}return d}function m(d,y,_){typeof t.onProgress=="function"&&t.onProgress(d,y,_)}return new Promise(function(d,y){var _=new Pp(o,c,e,{factor:s,antialias:r,onProgress:m,onFinish:function(h,g){u(_.canvas).toBlob(function(E){o.setClearAlpha(p),l(!0),e.requestRender(),m(g,g,!0),E?d(E):y("error creating image")},"image/png")}});o.setClearAlpha(a?0:1),l(),_.renderAsync()})}var hm=new P,L2=new De,F2=new De,R2=new Te,Iu=new De,Lu=new De;function _m(e,t){Iu.getInverse(t.projectionMatrix),Lu.copy(t.projectionMatrix).transpose(),e.traverse(function(i){var n=i.material;if(n){var s=n.uniforms;s&&(s.projectionMatrixInverse&&s.projectionMatrixInverse.value.copy(Iu),s.projectionMatrixTranspose&&s.projectionMatrixTranspose.value.copy(Lu))}})}function N2(e,t,i){var n=e.createShader(i);if(n)return e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log("error compiling shader "+n+": "+e.getShaderInfoLog(n)),e.deleteShader(n),null);console.log("error creating WebGL shader "+i)}function ym(e,t){var i=e.getExtension(t);return i||console.log("extension '"+t+"' not available"),i}var eT=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function U0(e){var t=document.createElement("canvas");t.width=16,t.height=16,t.style.width="16px",t.style.height="16px";var i=t.getContext("webgl")||t.getContext("experimental-webgl");if(!i)return console.log("error creating webgl context for "+e),!1;if(!(i instanceof WebGLRenderingContext))return console.log("Got unexpected type for WebGL rendering context"),!1;ym(i,"OES_texture_float"),ym(i,"OES_texture_half_float"),ym(i,"WEBGL_color_buffer_float");var n=N2(i,`
attribute vec4 a_position;

void main() {
  gl_Position = a_position;
}`,i.VERTEX_SHADER),s=N2(i,`
precision mediump float;
uniform vec4 u_color;
uniform sampler2D u_texture;

void main() {
  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;
}`,i.FRAGMENT_SHADER);if(!n||!s)return!1;var r=function(_,h,g,E){var w=_.createProgram();if(w)return h.forEach(function(v){return _.attachShader(w,v)}),g&&g.forEach(function(v,x){_.bindAttribLocation(w,E?E[x]:x,v)}),_.linkProgram(w),_.getProgramParameter(w,_.LINK_STATUS)?w:(console.log("error linking program: "+_.getProgramInfoLog(w)),_.deleteProgram(w),null);console.log("error creating WebGL program")}(i,[n,s]);if(!r)return console.log("error creating WebGL program"),!1;i.useProgram(r);var a=i.getAttribLocation(r,"a_position"),o=i.getUniformLocation(r,"u_color");if(!o)return console.log("error getting 'u_color' uniform location"),!1;var c=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,c),i.bufferData(i.ARRAY_BUFFER,eT,i.STATIC_DRAW),i.enableVertexAttribArray(a),i.vertexAttribPointer(a,2,i.FLOAT,!1,0,0);var p=i.createTexture(),f=new Uint8Array([255,255,255,255]);i.bindTexture(i.TEXTURE_2D,p),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,f);var l=i.createTexture();i.bindTexture(i.TEXTURE_2D,l),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,e,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);var u=i.createFramebuffer();if(i.bindFramebuffer(i.FRAMEBUFFER,u),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,l,0),i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE)return console.log("error creating framebuffer for "+e),!1;i.bindTexture(i.TEXTURE_2D,p),i.uniform4fv(o,[0,10,20,1]),i.drawArrays(i.TRIANGLES,0,6),i.bindTexture(i.TEXTURE_2D,l),i.bindFramebuffer(i.FRAMEBUFFER,null),i.clearColor(1,0,0,1),i.clear(i.COLOR_BUFFER_BIT),i.uniform4fv(o,[0,.1,.05,1]),i.drawArrays(i.TRIANGLES,0,6);var m=new Uint8Array(4);if(i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,m),m[0]!==0||m[1]<248||m[2]<248||m[3]<254)return console.log("not able to actually render to "+e+" texture"),!1;if(e===i.FLOAT){i.bindFramebuffer(i.FRAMEBUFFER,u);var d=new Float32Array(4);i.readPixels(0,0,1,1,i.RGBA,i.FLOAT,d);var y=i.getError();if(y)return console.log("error reading pixels as float: '"+function(_,h){switch(h){case _.NO_ERROR:return"no error";case _.INVALID_ENUM:return"invalid enum";case _.INVALID_VALUE:return"invalid value";case _.INVALID_OPERATION:return"invalid operation";case _.INVALID_FRAMEBUFFER_OPERATION:return"invalid framebuffer operation";case _.OUT_OF_MEMORY:return"out of memory";case _.CONTEXT_LOST_WEBGL:return"context lost"}return"unknown error"}(i,y)+"'"),!1}return!0}var tT=new Float32Array(100),iT=new Uint8Array(100),D2=[12,7,13,17,11,6,8,18,16,2,14,22,10,1,3,9,19,23,21,15,5,0,4,24,20],W0=new De;function nT(e,t,i,n,s){var r=s.uniforms,a=[];if(r&&(r.objectId&&(r.objectId.value=Jr?this.id:this.id/255,a.push("objectId")),(r.modelViewMatrixInverse||r.modelViewMatrixInverseTranspose||r.modelViewProjectionMatrix||r.modelViewProjectionMatrixInverse)&&this.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,this.matrixWorld),r.modelViewMatrixInverse&&(r.modelViewMatrixInverse.value.getInverse(this.modelViewMatrix),a.push("modelViewMatrixInverse")),r.modelViewMatrixInverseTranspose&&(r.modelViewMatrixInverse?r.modelViewMatrixInverseTranspose.value.copy(r.modelViewMatrixInverse.value).transpose():r.modelViewMatrixInverseTranspose.value.getInverse(this.modelViewMatrix).transpose(),a.push("modelViewMatrixInverseTranspose")),r.modelViewProjectionMatrix&&(r.modelViewProjectionMatrix.value.multiplyMatrices(i.projectionMatrix,this.modelViewMatrix),a.push("modelViewProjectionMatrix")),r.modelViewProjectionMatrixInverse&&(r.modelViewProjectionMatrix?(W0.copy(r.modelViewProjectionMatrix.value),r.modelViewProjectionMatrixInverse.value.getInverse(W0)):(W0.multiplyMatrices(i.projectionMatrix,this.modelViewMatrix),r.modelViewProjectionMatrixInverse.value.getInverse(W0)),a.push("modelViewProjectionMatrixInverse")),a.length)){var o=e.properties.get(s);if(o.program){var c=e.getContext(),p=o.program;c.useProgram(p.program);var f=p.getUniforms();a.forEach(function(l){f.setValue(c,l,r[l].value)})}}}var bt=function(e){if(this.boundingBox=new ai,this.boundingBoxSize=new P,this.boundingBoxLength=0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this.distVector=new P,this.signals={ticked:new _t.exports.Signal,rendered:new _t.exports.Signal},typeof e=="string"){var t=document.getElementById(e);this.container=t===null?document.createElement("div"):t}else e instanceof HTMLElement?this.container=e:this.container=document.createElement("div");if(this.container===document.body)this.width=window.innerWidth||1,this.height=window.innerHeight||1;else{var i=this.container.getBoundingClientRect();this.width=i.width||1,this.height=i.height||1,this.container.style.overflow="hidden"}this.wrapper=document.createElement("div"),this.wrapper.style.position="relative",this.container.appendChild(this.wrapper),this._initParams(),this._initStats(),this._initCamera(),this._initScene(),this._initRenderer()!==!1?(this._initHelper(),this.setBackground(),this.setFog(),this.animate=this.animate.bind(this)):de.error("Viewer: could not initialize renderer")},gm={cameraDistance:{configurable:!0}};bt.prototype._initParams=function(){this.parameters={fogColor:new Oe(0),fogNear:50,fogFar:100,backgroundColor:new Oe(0),cameraType:"perspective",cameraFov:40,cameraEyeSep:.3,cameraZ:-80,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",lightColor:new Oe(14540253),lightIntensity:1,ambientColor:new Oe(14540253),ambientIntensity:.2,sampleLevel:0,rendererEncoding:an}},bt.prototype._initCamera=function(){var e=new P(0,0,0),t=this.width,i=this.height;this.perspectiveCamera=new Li(this.parameters.cameraFov,t/i),this.perspectiveCamera.position.z=this.parameters.cameraZ,this.perspectiveCamera.lookAt(e),this.orthographicCamera=new la(t/-2,t/2,i/2,i/-2),this.orthographicCamera.position.z=this.parameters.cameraZ,this.orthographicCamera.lookAt(e),this.stereoCamera=new p4,this.stereoCamera.aspect=.5,this.stereoCamera.eyeSep=this.parameters.cameraEyeSep;var n=this.parameters.cameraType;if(n==="orthographic")this.camera=this.orthographicCamera;else{if(n!=="perspective"&&n!=="stereo")throw new Error("Unknown cameraType '"+n+"'");this.camera=this.perspectiveCamera}this.camera.updateProjectionMatrix()},bt.prototype._initStats=function(){this.stats=new wl},bt.prototype._initScene=function(){this.scene||(this.scene=new uc,this.scene.name="scene"),this.rotationGroup=new Zt,this.rotationGroup.name="rotationGroup",this.scene.add(this.rotationGroup),this.translationGroup=new Zt,this.translationGroup.name="translationGroup",this.rotationGroup.add(this.translationGroup),this.modelGroup=new Zt,this.modelGroup.name="modelGroup",this.translationGroup.add(this.modelGroup),this.pickingGroup=new Zt,this.pickingGroup.name="pickingGroup",this.translationGroup.add(this.pickingGroup),this.backgroundGroup=new Zt,this.backgroundGroup.name="backgroundGroup",this.translationGroup.add(this.backgroundGroup),this.helperGroup=new Zt,this.helperGroup.name="helperGroup",this.translationGroup.add(this.helperGroup),this.scene.fog=new eu(this.parameters.fogColor.getHex()),this.spotLight=new bu(this.parameters.lightColor.getHex(),this.parameters.lightIntensity),this.scene.add(this.spotLight),this.ambientLight=new xu(this.parameters.ambientColor.getHex(),this.parameters.ambientIntensity),this.scene.add(this.ambientLight)},bt.prototype._initRenderer=function(){var e=window.devicePixelRatio,t=this.width,i=this.height;try{this.renderer=new $f({preserveDrawingBuffer:!0,alpha:!0,antialias:!0})}catch{return this.wrapper.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100%;"><p style="padding:15px;text-align:center;">Your browser/graphics card does not seem to support <a target="_blank" href="https://en.wikipedia.org/wiki/WebGL">WebGL</a>.<br/><br/>Find out how to get it <a target="_blank" href="http://get.webgl.org/">here</a>.</p></div>',!1}this.renderer.setPixelRatio(e),this.renderer.setSize(t,i),this.renderer.autoClear=!1,this.renderer.sortObjects=!0,this.renderer.outputEncoding=this.parameters.rendererEncoding;var n=this.renderer.getContext();this.renderer.capabilities.isWebGL2?(T2(!0),P2(this.renderer.extensions.get("EXT_color_buffer_float")),this.supportsHalfFloat=!0):(T2(this.renderer.extensions.get("EXT_frag_depth")),this.renderer.extensions.get("OES_element_index_uint"),P2(this.renderer.extensions.get("OES_texture_float")&&this.renderer.extensions.get("WEBGL_color_buffer_float")||this.renderer.extensions.get("OES_texture_float")&&U0(n.FLOAT)),this.renderer.extensions.get("OES_texture_float"),this.supportsHalfFloat=this.renderer.extensions.get("OES_texture_half_float")&&U0(36193)),this.wrapper.appendChild(this.renderer.domElement);var s=t*e,r=i*e;Ce&&console.log(JSON.stringify({Browser:I4,OES_texture_float:!!this.renderer.extensions.get("OES_texture_float"),OES_texture_half_float:!!this.renderer.extensions.get("OES_texture_half_float"),WEBGL_color_buffer_float:!!this.renderer.extensions.get("WEBGL_color_buffer_float"),"testTextureSupport Float":U0(n.FLOAT),"testTextureSupport HalfFloat":U0(36193),"this.supportsHalfFloat":this.supportsHalfFloat,SupportsReadPixelsFloat:Jr},null,2)),this.pickingTarget=new dn(s,r,{minFilter:si,magFilter:si,stencilBuffer:!1,format:Mn,type:Jr?dr:Ha}),this.pickingTarget.texture.generateMipmaps=!1,this.pickingTarget.texture.encoding=this.parameters.rendererEncoding,this.renderer.setRenderTarget(this.pickingTarget),this.renderer.clear(),this.renderer.setRenderTarget(null),this.sampleTarget=new dn(s,r,{minFilter:Ri,magFilter:Ri,format:Mn}),this.sampleTarget.texture.encoding=this.parameters.rendererEncoding,this.holdTarget=new dn(s,r,{minFilter:si,magFilter:si,format:Mn,type:Ha}),this.holdTarget.texture.encoding=this.parameters.rendererEncoding,this.compositeUniforms={tForeground:new Sf(this.sampleTarget.texture),scale:new Sf(1)},this.compositeMaterial=new ki({uniforms:this.compositeUniforms,vertexShader:Cp("Quad.vert"),fragmentShader:Cp("Quad.frag"),premultipliedAlpha:!0,transparent:!0,blending:Vd,depthTest:!1,depthWrite:!1}),this.compositeCamera=new la(-1,1,1,-1,0,1),this.compositeScene=new uc,this.compositeScene.name="compositeScene",this.compositeScene.add(new ci(new tf(2,2),this.compositeMaterial))},bt.prototype._initHelper=function(){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),t=new Float32Array(24),i=new We;i.setIndex(new it(e,1)),i.setAttribute("position",new it(t,3));var n=new ki({uniforms:{uColor:{value:new Oe("skyblue")}},vertexShader:Cp("BasicLine.vert"),fragmentShader:Cp("BasicLine.frag")});this.boundingBoxMesh=new Ei(i,n),this.helperGroup.add(this.boundingBoxMesh)},bt.prototype.updateHelper=function(){var e=this.boundingBoxMesh.geometry.attributes.position,t=e.array,i=this.boundingBox,n=i.min,s=i.max;t[0]=s.x,t[1]=s.y,t[2]=s.z,t[3]=n.x,t[4]=s.y,t[5]=s.z,t[6]=n.x,t[7]=n.y,t[8]=s.z,t[9]=s.x,t[10]=n.y,t[11]=s.z,t[12]=s.x,t[13]=s.y,t[14]=n.z,t[15]=n.x,t[16]=s.y,t[17]=n.z,t[18]=n.x,t[19]=n.y,t[20]=n.z,t[21]=s.x,t[22]=n.y,t[23]=n.z,e.needsUpdate=!0,this.boundingBox.isEmpty()||this.boundingBoxMesh.geometry.computeBoundingSphere()},gm.cameraDistance.get=function(){return Math.abs(this.camera.position.z)},gm.cameraDistance.set=function(e){this.camera.position.z=-e},bt.prototype.add=function(e,t){var i=this;t?t.forEach(function(n){return i.addBuffer(e,n)}):this.addBuffer(e),e.group.name="meshGroup",e.wireframeGroup.name="wireframeGroup",e.parameters.background?(this.backgroundGroup.add(e.group),this.backgroundGroup.add(e.wireframeGroup)):(this.modelGroup.add(e.group),this.modelGroup.add(e.wireframeGroup)),e.pickable&&this.pickingGroup.add(e.pickingGroup),Ce&&this.updateHelper()},bt.prototype.addBuffer=function(e,t){function i(a){a instanceof Zt?a.children.forEach(i):(a.userData.buffer=e,a.userData.instance=t,a.onBeforeRender=nT)}var n=e.getMesh();t&&n.applyMatrix4(t.matrix),i(n),e.group.add(n);var s=e.getWireframeMesh();if(t&&(s.matrix.copy(n.matrix),s.position.copy(n.position),s.quaternion.copy(n.quaternion),s.scale.copy(n.scale)),i(s),e.wireframeGroup.add(s),e.pickable){var r=e.getPickingMesh();t&&(r.matrix.copy(n.matrix),r.position.copy(n.position),r.quaternion.copy(n.quaternion),r.scale.copy(n.scale)),i(r),e.pickingGroup.add(r)}t?this._updateBoundingBox(e.geometry,e.matrix,t.matrix):this._updateBoundingBox(e.geometry,e.matrix)},bt.prototype.remove=function(e){this.translationGroup.children.forEach(function(t){t.remove(e.group),t.remove(e.wireframeGroup)}),e.pickable&&this.pickingGroup.remove(e.pickingGroup),this.updateBoundingBox(),Ce&&this.updateHelper()},bt.prototype._updateBoundingBox=function(e,t,i){var n=this.boundingBox;function s(a,o,c){a.boundingBox==null&&a.computeBoundingBox();var p=a.boundingBox.clone();o&&p.applyMatrix4(o),c&&p.applyMatrix4(c),p.min.equals(p.max)&&p.expandByScalar(5),n.union(p)}function r(a){var o,c;a.geometry!==void 0&&(a.userData.buffer&&(o=a.userData.buffer.matrix),a.userData.instance&&(c=a.userData.instance.matrix),s(a.geometry,o,c))}e?s(e,t,i):(n.makeEmpty(),this.modelGroup.traverse(r),this.backgroundGroup.traverse(r)),n.getSize(this.boundingBoxSize),this.boundingBoxLength=this.boundingBoxSize.length()},bt.prototype.updateBoundingBox=function(){this._updateBoundingBox(),Ce&&this.updateHelper()},bt.prototype.getPickingPixels=function(){var e=this.width,t=this.height,i=e*t*4,n=Jr?new Float32Array(i):new Uint8Array(i);return this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,0,0,e,t,n),n},bt.prototype.getImage=function(e){var t=this;return new Promise(function(i){if(e){var n=t,s=n.width,r=n.height,a=s*r*4,o=t.getPickingPixels();if(Jr){for(var c=new Uint8Array(a),p=0;p<a;++p)c[p]=Math.round(255*o[p]);o=c}var f=document.createElement("canvas");f.width=s,f.height=r;var l=f.getContext("2d"),u=l.getImageData(0,0,s,r);u.data.set(o),l.putImageData(u,0,0),f.toBlob(i,"image/png")}else t.renderer.domElement.toBlob(i,"image/png")})},bt.prototype.makeImage=function(e){return e===void 0&&(e={}),ZP(this,e)},bt.prototype.setLight=function(e,t,i,n){var s=this.parameters;e!==void 0&&s.lightColor.set(e),t!==void 0&&(s.lightIntensity=t),i!==void 0&&s.ambientColor.set(i),n!==void 0&&(s.ambientIntensity=n),this.requestRender()},bt.prototype.setFog=function(e,t,i){var n=this.parameters;e!==void 0&&n.fogColor.set(e),t!==void 0&&(n.fogNear=t),i!==void 0&&(n.fogFar=i),this.requestRender()},bt.prototype.setBackground=function(e){var t=this.parameters;e&&t.backgroundColor.set(e),this.setFog(t.backgroundColor),this.renderer.setClearColor(t.backgroundColor,0),this.renderer.domElement.style.backgroundColor=t.backgroundColor.getStyle(),this.requestRender()},bt.prototype.setSampling=function(e){e!==void 0&&(this.parameters.sampleLevel=e,this.sampleLevel=e),this.requestRender()},bt.prototype.setOutputEncoding=function(e){this.parameters.rendererEncoding=e,this.renderer.outputEncoding=e,this.pickingTarget.texture.encoding=e,this.sampleTarget.texture.encoding=e,this.holdTarget.texture.encoding=e},bt.prototype.setColorWorkflow=function(e){if(e!="linear"&&e!="sRGB")throw new Error("setColorWorkflow: invalid color workflow "+e);C4=e=="linear"?"linear":"sRGB",this.setOutputEncoding(e=="linear"?Uf:an),this.requestRender()},bt.prototype.setCamera=function(e,t,i){var n=this.parameters;if(e&&(n.cameraType=e),t&&(n.cameraFov=t),i&&(n.cameraEyeSep=i),n.cameraType==="orthographic")this.camera!==this.orthographicCamera&&(this.camera=this.orthographicCamera,this.camera.position.copy(this.perspectiveCamera.position),this.camera.up.copy(this.perspectiveCamera.up),this.updateZoom());else{if(n.cameraType!=="perspective"&&n.cameraType!=="stereo")throw new Error("Unknown cameraType '"+n.cameraType+"'");this.camera!==this.perspectiveCamera&&(this.camera=this.perspectiveCamera,this.camera.position.copy(this.orthographicCamera.position),this.camera.up.copy(this.orthographicCamera.up))}this.perspectiveCamera.fov=n.cameraFov,this.stereoCamera.eyeSep=n.cameraEyeSep,this.camera.updateProjectionMatrix(),this.requestRender()},bt.prototype.setClip=function(e,t,i,n,s){var r=this.parameters;e!==void 0&&(r.clipNear=e),t!==void 0&&(r.clipFar=t),i!==void 0&&(r.clipDist=i),n!==void 0&&(r.clipMode=n),s!==void 0&&(r.clipScale=s),this.requestRender()},bt.prototype.setSize=function(e,t){this.width=e||1,this.height=t||1,this.perspectiveCamera.aspect=this.width/this.height,this.orthographicCamera.left=-this.width/2,this.orthographicCamera.right=this.width/2,this.orthographicCamera.top=this.height/2,this.orthographicCamera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var i=window.devicePixelRatio;this.renderer.setPixelRatio(i),this.renderer.setSize(e,t);var n=this.width*i,s=this.height*i;this.pickingTarget.setSize(n,s),this.sampleTarget.setSize(n,s),this.holdTarget.setSize(n,s),this.requestRender()},bt.prototype.handleResize=function(){if(this.container===document.body)this.setSize(window.innerWidth,window.innerHeight);else{var e=this.container.getBoundingClientRect();this.setSize(e.width,e.height)}},bt.prototype.updateInfo=function(e){var t=this.info,i=t.memory,n=t.render;if(e)i.programs=0,i.geometries=0,i.textures=0,n.calls=0,n.vertices=0,n.points=0;else{var s=this.renderer.info,r=s.memory,a=s.render;i.geometries=r.geometries,i.textures=r.textures,n.calls+=a.calls,n.faces+=a.triangles,n.points+=a.points}},bt.prototype.animate=function(){if(this.signals.ticked.dispatch(this.stats),window.performance.now()-this.stats.startTime>500&&!this.isStill&&this.sampleLevel<3&&this.sampleLevel!==-1){var e=this.sampleLevel;this.sampleLevel=3,this.renderPending=!0,this.render(),this.isStill=!0,this.sampleLevel=e,Ce&&de.log("rendered still frame")}this.frameRequest=window.requestAnimationFrame(this.animate)},bt.prototype.pick=function(e,t){if(this.parameters.cameraType==="stereo")return{pid:0,instance:void 0,picker:void 0};e*=window.devicePixelRatio,t*=window.devicePixelRatio,e=Math.max(e-2,0),t=Math.max(t-2,0);var i,n,s=0,r=Jr?tT:iT;this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,e,t,5,5,r);for(var a=0;a<D2.length;a++){var o=4*D2[a],c=Math.round(r[o+3]),p=this.pickingGroup.getObjectById(c);p&&(i=p.userData.instance,n=p.userData.buffer.picking,s=Jr?Math.round(255*r[o])<<16&16711680|Math.round(255*r[o+1])<<8&65280|255&Math.round(255*r[o+2]):r[o]<<16|r[o+1]<<8|r[o+2])}return{pid:s,instance:i,picker:n}},bt.prototype.requestRender=function(){var e=this;this.renderPending||(window.performance.now()-this.stats.startTime>22&&(this.stats.begin(),this.isStill=!1),this.renderPending=!0,window.requestAnimationFrame(function(){e.render(),e.stats.update()}))},bt.prototype.updateZoom=function(){var e=gi(this.perspectiveCamera.fov),t=2*Math.tan(e/2)*this.cameraDistance;this.orthographicCamera.zoom=this.height/t},bt.prototype.absoluteToRelative=function(e){return 50*(1-e/this.bRadius)},bt.prototype.relativeToAbsolute=function(e){return this.bRadius*(1-e/50)},bt.prototype.__updateClipping=function(){var e=this.parameters;this.bRadius=Math.max(10,.5*this.boundingBoxLength),isFinite(this.bRadius)||(this.bRadius=50),this.camera.getWorldPosition(this.distVector),this.cDist=this.distVector.length(),this.cDist||(this.cameraDistance=Math.abs(e.cameraZ),this.cDist=Math.abs(e.cameraZ));var t=this.scene.fog;if(t.color.set(e.fogColor),e.clipMode==="camera")this.camera.near=e.clipNear,this.camera.far=e.clipFar,t.near=e.fogNear,t.far=e.fogFar;else if(e.clipScale==="absolute")this.camera.near=this.cDist-e.clipNear,this.camera.far=this.cDist+e.clipFar,t.near=this.cDist-e.fogNear,t.far=this.cDist+e.fogFar;else{var i=(50-e.clipNear)/50,n=-(50-e.clipFar)/50;this.camera.near=this.cDist-this.bRadius*i,this.camera.far=this.cDist+this.bRadius*n;var s=(50-e.fogNear)/50,r=-(50-e.fogFar)/50;t.near=this.cDist-this.bRadius*s,t.far=this.cDist+this.bRadius*r}e.clipMode!=="camera"&&(this.camera.type==="PerspectiveCamera"?(this.camera.near=Math.max(.1,e.clipDist,this.camera.near),this.camera.far=Math.max(1,this.camera.far),t.near=Math.max(.1,t.near),t.far=Math.max(1,t.far)):this.camera.type==="OrthographicCamera"&&e.clipDist>0&&(this.camera.near=Math.max(e.clipDist,this.camera.near)))},bt.prototype.__updateCamera=function(){var e=this.camera;e.updateMatrix(),e.updateMatrixWorld(!0),e.updateProjectionMatrix(),function(t,i,n,s,r){var a=new Te;n.getSize(a);var o=a.height,c=n.getPixelRatio(),p=i.type==="OrthographicCamera";R2.set(a.width,a.height),Iu.getInverse(i.projectionMatrix),Lu.copy(i.projectionMatrix).transpose(),t.traverse(function(f){var l=f.material;if(l){var u=l.uniforms;if(u){if(l.clipNear){var m=(50-l.clipNear)/50,d=s-r*m;u.clipNear.value=d}u.canvasHeight&&(u.canvasHeight.value=o),u.resolution&&u.resolution.value.copy(R2),u.pixelRatio&&(u.pixelRatio.value=c),u.projectionMatrixInverse&&u.projectionMatrixInverse.value.copy(Iu),u.projectionMatrixTranspose&&u.projectionMatrixTranspose.value.copy(Lu),u.ortho&&(u.ortho.value=p)}}})}(this.scene,e,this.renderer,this.cDist,this.bRadius),function(t,i){t.traverseVisible(function(n){if(n instanceof rf&&n.userData.buffer.parameters.sortParticles){var s=n.geometry.attributes,r=s.position.count;if(r!==0){var a,o,c,p,f,l,u;L2.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld),F2.multiplyMatrices(i.projectionMatrix,L2),n.userData.sortData?(a=n.userData.sortData,c=a.__zArray,o=a.__sortArray,p=a.__cmpFn):(c=new Float32Array(r),o=new Uint32Array(r),a={__zArray:c,__sortArray:o,__cmpFn:p=function(w,v){var x=c[w],b=c[v];return x>b?1:x<b?-1:0}},n.userData.sortData=a);for(var m=0;m<r;++m)hm.fromArray(s.position.array,3*m),hm.applyMatrix4(F2),c[m]=-hm.z,o[m]=m;for(var d in function(w,v,x,b){x===void 0&&(x=0),v=v||function(q,z){return q>z?1:q<z?-1:0};var A,M,G,T=[],N=-1,D=x,L=b=(b||w.length)-1;function C(q,z){var $=w[q];w[q]=w[z],w[z]=$}for(;;)if(L-D<=25){for(var O=D+1;O<=L;++O){for(A=w[O],M=O-1;M>=D&&v(w[M],A)>0;)w[M+1]=w[M],--M;w[M+1]=A}if(N===-1)break;L=T[N--],D=T[N--]}else{for(G=L,C(D+L>>1,M=D+1),v(w[D],w[L])>0&&C(D,L),v(w[M],w[L])>0&&C(M,L),v(w[D],w[M])>0&&C(D,M),A=w[M];;){do M++;while(v(w[M],A)<0);do G--;while(v(w[G],A)>0);if(G<M)break;C(M,G)}w[D+1]=w[G],w[G]=A,L-M+1>=G-D?(T[++N]=M,T[++N]=L,L=G-1):(T[++N]=D,T[++N]=G-1,D=M)}}(o,p),s){var y=s[d],_=y.array,h=y.itemSize;a[d]||(a[d]=new Float32Array(h*r)),u=a[d],a[d]=_;for(var g=0;g<r;++g){f=o[g];for(var E=0;E<h;++E)l=f*h+E,u[g*h+E]=_[l]}s[d].array=u,s[d].needsUpdate=!0}}}})}(this.scene,e)},bt.prototype.__setVisibility=function(e,t,i,n){this.modelGroup.visible=e,this.pickingGroup.visible=t,this.backgroundGroup.visible=i,this.helperGroup.visible=n},bt.prototype.__updateLights=function(){this.spotLight.color.set(this.parameters.lightColor),this.spotLight.intensity=this.parameters.lightIntensity,this.distVector.copy(this.camera.position).setLength(100*this.boundingBoxLength),this.spotLight.position.copy(this.camera.position).add(this.distVector),this.ambientLight.color.set(this.parameters.ambientColor),this.ambientLight.intensity=this.parameters.ambientIntensity},bt.prototype.__renderPickingGroup=function(e){this.renderer.setRenderTarget(this.pickingTarget||null),this.renderer.clear(),this.__setVisibility(!1,!0,!1,!1),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},bt.prototype.__renderModelGroup=function(e,t){this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.__setVisibility(!1,!1,!0,!1),this.renderer.render(this.scene,e),this.renderer.clear(!1,!0,!0),this.updateInfo(),this.__setVisibility(!0,!1,!1,Ce),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},bt.prototype.__renderSuperSample=function(e,t){var i=D4[Math.max(0,Math.min(this.sampleLevel,5))],n=1/i.length;this.compositeUniforms.tForeground.value=this.sampleTarget.texture;var s=this.sampleTarget.width,r=this.sampleTarget.height;this.parameters.cameraType==="stereo"&&(s/=2);for(var a=0;a<i.length;++a){var o=i[a];e.setViewOffset(s,r,o[0],o[1],s,r),e.updateProjectionMatrix(),_m(this.scene,e);var c=n;c+=.03125*((a+.5)/i.length-.5),this.compositeUniforms.scale.value=c,this.__renderModelGroup(e,this.sampleTarget),this.renderer.setRenderTarget(this.holdTarget),a===0&&this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)}this.compositeUniforms.scale.value=1,this.compositeUniforms.tForeground.value=this.holdTarget.texture,e.clearViewOffset(),this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)},bt.prototype.__renderStereo=function(e,t){e===void 0&&(e=!1);var i=this.stereoCamera;i.update(this.perspectiveCamera);var n=this.renderer,s=new Te;n.getSize(s),n.setScissorTest(!0),n.setScissor(0,0,s.width/2,s.height),n.setViewport(0,0,s.width/2,s.height),_m(this.scene,i.cameraL),this.__render(e,i.cameraL),n.setScissor(s.width/2,0,s.width/2,s.height),n.setViewport(s.width/2,0,s.width/2,s.height),_m(this.scene,i.cameraR),this.__render(e,i.cameraR),n.setScissorTest(!1),n.setViewport(0,0,s.width,s.height)},bt.prototype.__render=function(e,t,i){e===void 0&&(e=!1),e?this.lastRenderedPicking||this.__renderPickingGroup(t):this.sampleLevel>0&&this.parameters.cameraType!=="stereo"?this.__renderSuperSample(t,i):this.__renderModelGroup(t,i)},bt.prototype.render=function(e,t){if(e===void 0&&(e=!1),this.rendering)de.warn("'tried to call 'render' from within 'render'");else{this.rendering=!0;try{this.__updateClipping(),this.__updateCamera(),this.__updateLights(),this.updateInfo(!0),this.parameters.cameraType==="stereo"?this.__renderStereo(e,t):this.__render(e,this.camera,t),this.lastRenderedPicking=e}finally{this.rendering=!1,this.renderPending=!1}this.signals.rendered.dispatch()}},bt.prototype.clear=function(){de.log("scene cleared"),this.scene.remove(this.rotationGroup),this._initScene(),this.renderer.clear()},bt.prototype.dispose=function(){this.renderer.dispose(),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(bt.prototype,gm);function G2(e){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;return Math.sqrt(t*t+i*i)}var Zi=function(e,t){t===void 0&&(t={}),this.domElement=e,this.signals={moved:new _t.exports.Signal,scrolled:new _t.exports.Signal,dragged:new _t.exports.Signal,dropped:new _t.exports.Signal,clicked:new _t.exports.Signal,hovered:new _t.exports.Signal,doubleClicked:new _t.exports.Signal},this.position=new Te,this.prevPosition=new Te,this.down=new Te,this.canvasPosition=new Te,this.prevClickCP=new Te,this.moving=!1,this.hovering=!0,this.scrolled=!1,this.lastMoved=1/0,this.which=0,this.buttons=0,this.pressed=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.domElement.style.touchAction="none",this.hoverTimeout=R(t.hoverTimeout,50),this.handleScroll=R(t.handleScroll,!0),this.doubleClickSpeed=R(t.doubleClickSpeed,500),this._listen=this._listen.bind(this),this._onMousewheel=this._onMousewheel.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onContextmenu=this._onContextmenu.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._listen();var i={passive:!1};document.addEventListener("mousewheel",this._onMousewheel,i),document.addEventListener("wheel",this._onMousewheel,i),document.addEventListener("MozMousePixelScroll",this._onMousewheel,i),document.addEventListener("mousemove",this._onMousemove,i),document.addEventListener("mousedown",this._onMousedown,i),document.addEventListener("mouseup",this._onMouseup,i),document.addEventListener("contextmenu",this._onContextmenu,i),document.addEventListener("touchstart",this._onTouchstart,i),document.addEventListener("touchend",this._onTouchend,i),document.addEventListener("touchmove",this._onTouchmove,i)},O2={key:{configurable:!0}};O2.key.get=function(){var e=0;return this.altKey&&(e+=1),this.ctrlKey&&(e+=2),this.metaKey&&(e+=4),this.shiftKey&&(e+=8),e},Zi.prototype.setParameters=function(e){e===void 0&&(e={}),this.hoverTimeout=R(e.hoverTimeout,this.hoverTimeout)},Zi.prototype._listen=function(){var e=window.performance.now(),t=this.canvasPosition;this.doubleClickPending&&e-this.lastClicked>this.doubleClickSpeed&&(this.doubleClickPending=!1),e-this.lastMoved>this.hoverTimeout&&(this.moving=!1),(this.scrolled||!this.moving&&!this.hovering)&&(this.scrolled=!1,this.hoverTimeout!==-1&&this.overElement&&(this.hovering=!0,this.signals.hovered.dispatch(t.x,t.y))),this.frameRequest=window.requestAnimationFrame(this._listen)},Zi.prototype._onMousewheel=function(e){var t=this;if(e.target===this.domElement&&this.handleScroll){e.preventDefault(),this._setKeys(e);var i=0;"deltaY"in e&&"deltaMode"in e&&e.deltaY!==void 0&&e.deltaMode!==void 0?i=e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?.025*-e.deltaY:e.deltaMode===WheelEvent.DOM_DELTA_LINE?-e.deltaY*(2.5/3):2.5*-e.deltaY:"deltaY"in e&&!("detail"in e)?i=.025*-e.deltaY:e.wheelDelta!==void 0?i=.025*-e.wheelDelta:e.wheelDeltaY!==void 0?i=.025*-e.wheelDeltaY:e.detail!==void 0&&(i=-e.detail/3),this.signals.scrolled.dispatch(i),setTimeout(function(){t.scrolled=!0},this.hoverTimeout)}},Zi.prototype._onMousemove=function(e){e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,this._setKeys(e),this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.clientX,e.clientY),this._setCanvasPosition(e);var t=this.prevPosition.x-this.position.x,i=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,i),this.pressed&&this.signals.dragged.dispatch(t,i)},Zi.prototype._onMousedown=function(e){e.target===this.domElement&&(e.preventDefault(),this._setKeys(e),this.moving=!1,this.hovering=!1,this.down.set(e.clientX,e.clientY),this.position.set(e.clientX,e.clientY),this.which=e.which,this.buttons=function(t){if(typeof t=="object"){if("buttons"in t)return t.buttons;if("which"in t){var i=t.which;if(i===2)return 4;if(i===3)return 2;if(i>0)return 1<<i-1}else if("button"in t){var n=t.button;if(n===1)return 4;if(n===2)return 2;if(n>=0)return 1<<n}}return 0}(e),this.pressed=!0,this._setCanvasPosition(e))},Zi.prototype._onMouseup=function(e){e.target===this.domElement&&e.preventDefault(),this._setKeys(e);var t=this.canvasPosition;this._distance()<4&&(this.lastClicked=window.performance.now(),this.doubleClickPending&&this.prevClickCP.distanceTo(t)<4&&(this.signals.doubleClicked.dispatch(t.x,t.y),this.doubleClickPending=!1),this.signals.clicked.dispatch(t.x,t.y),this.doubleClickPending=!0,this.prevClickCP.copy(t)),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Zi.prototype._onContextmenu=function(e){e.target===this.domElement&&e.preventDefault()},Zi.prototype._onTouchstart=function(e){if(e.target===this.domElement)switch(e.preventDefault(),this.pressed=!0,e.touches.length){case 1:this.moving=!1,this.hovering=!1,this.down.set(e.touches[0].pageX,e.touches[0].pageY),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);break;case 2:this.down.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.lastTouchDistance=G2(e)}},Zi.prototype._onTouchend=function(e){e.target===this.domElement&&e.preventDefault(),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Zi.prototype._onTouchmove=function(e){switch(e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,e.touches.length){case 1:this._setKeys(e),this.which=1,this.buttons=1,this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);var t=this.prevPosition.x-this.position.x,i=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,i),this.pressed&&this.signals.dragged.dispatch(t,i);break;case 2:var n=G2(e),s=n-this.lastTouchDistance;if(this.lastTouchDistance=n,this.prevPosition.copy(this.position),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),Math.abs(s)>2&&this.handleScroll&&this.position.distanceTo(this.prevPosition)<2)this.which=0,this.buttons=0,this.signals.scrolled.dispatch(s/2);else{this.which=3,this.buttons=2;var r=this.prevPosition.x-this.position.x,a=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(r,a),this.pressed&&this.signals.dragged.dispatch(r,a)}}},Zi.prototype._distance=function(){return this.position.distanceTo(this.down)},Zi.prototype._setCanvasPosition=function(e){var t,i,n=this.domElement.getBoundingClientRect();"clientX"in e&&"clientY"in e?(t=e.clientX-n.left,i=e.clientY-n.top):(t=e.offsetX,i=e.offsetY),this.canvasPosition.set(t,n.height-i)},Zi.prototype._setKeys=function(e){this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey},Zi.prototype.dispose=function(){document.removeEventListener("mousewheel",this._onMousewheel),document.removeEventListener("wheel",this._onMousewheel),document.removeEventListener("MozMousePixelScroll",this._onMousewheel),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mousedown",this._onMousedown),document.removeEventListener("mouseup",this._onMouseup),document.removeEventListener("contextmenu",this._onContextmenu),document.removeEventListener("touchstart",this._onTouchstart),document.removeEventListener("touchend",this._onTouchend),document.removeEventListener("touchmove",this._onTouchmove),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(Zi.prototype,O2);var wm=new De,Em=new De,k2=new De,wn=new De,B2=new De,qn=new P,pp=new ri,V2=new ri,rr=new De,Pa=new P,j0=new P,In=function(e,t){t===void 0&&(t={}),this.stage=e,this.rotateSpeed=R(t.rotateSpeed,2),this.zoomSpeed=R(t.zoomSpeed,1.2),this.panSpeed=R(t.panSpeed,1),this.viewer=e.viewer,this.mouse=e.mouseObserver,this.controls=e.viewerControls},vm={component:{configurable:!0},atom:{configurable:!0}};vm.component.get=function(){return this.stage.transformComponent},vm.atom.get=function(){return this.stage.transformAtom},In.prototype._setPanVector=function(e,t,i){i===void 0&&(i=0);var n=this.controls.getCanvasScaleFactor(i);Pa.set(e,t,0),Pa.multiplyScalar(this.panSpeed*n)},In.prototype._getRotateXY=function(e,t){return[this.rotateSpeed*-e*.01,this.rotateSpeed*t*.01]},In.prototype._getCameraRotation=function(e){return e.extractRotation(this.viewer.camera.matrixWorld),e.multiply(Em.makeRotationY(Math.PI)),e},In.prototype._transformPanVector=function(){this.component&&(rr.extractRotation(this.component.transform),rr.premultiply(this.viewer.rotationGroup.matrix),rr.getInverse(rr),rr.multiply(this._getCameraRotation(wn)),Pa.applyMatrix4(rr))},In.prototype.zoom=function(e){this.controls.zoom(this.zoomSpeed*e*.02)},In.prototype.pan=function(e,t){this._setPanVector(e,t),rr.getInverse(this.viewer.rotationGroup.matrix),rr.multiply(this._getCameraRotation(wn)),Pa.applyMatrix4(rr),this.controls.translate(Pa)},In.prototype.panComponent=function(e,t){this.component&&(this._setPanVector(e,t),this._transformPanVector(),this.component.position.add(Pa),this.component.updateMatrix())},In.prototype.panAtom=function(e,t){this.atom&&this.component&&(this.atom.positionToVector3(j0),j0.add(this.viewer.translationGroup.position),j0.applyMatrix4(this.viewer.rotationGroup.matrix),this._setPanVector(e,t,j0.z),this._transformPanVector(),this.atom.positionAdd(Pa),this.component.updateRepresentations({position:!0}))},In.prototype.rotate=function(e,t){var i=this._getRotateXY(e,t),n=i[0],s=i[1];this._getCameraRotation(wn),qn.set(1,0,0),qn.applyMatrix4(wn),pp.setFromAxisAngle(qn,s),qn.set(0,1,0),qn.applyMatrix4(wn),V2.setFromAxisAngle(qn,n),pp.multiply(V2),wn.makeRotationFromQuaternion(pp),this.controls.applyMatrix(wn)},In.prototype.zRotate=function(e,t){var i=this.rotateSpeed*((-e+t)/-2)*.01;k2.makeRotationZ(i),this.controls.applyMatrix(k2)},In.prototype.rotateComponent=function(e,t){if(this.component){var i=this._getRotateXY(e,t),n=i[0],s=i[1];this._getCameraRotation(B2),wn.extractRotation(this.component.transform),wn.premultiply(this.viewer.rotationGroup.matrix),wn.getInverse(wn),wn.premultiply(B2),qn.set(1,0,0),qn.applyMatrix4(wn),wm.makeRotationAxis(qn,s),qn.set(0,1,0),qn.applyMatrix4(wn),Em.makeRotationAxis(qn,n),wm.multiply(Em),pp.setFromRotationMatrix(wm),this.component.quaternion.premultiply(pp),this.component.quaternion.normalize(),this.component.updateMatrix()}},Object.defineProperties(In.prototype,vm);var Ao=new P,xl=function(e,t){this.stage=t,this.pid=e.pid,this.picker=e.picker,this.instance=e.instance,this.stage=t,this.controls=t.viewerControls,this.mouse=t.mouseObserver},qt={type:{configurable:!0},altKey:{configurable:!0},ctrlKey:{configurable:!0},metaKey:{configurable:!0},shiftKey:{configurable:!0},canvasPosition:{configurable:!0},component:{configurable:!0},object:{configurable:!0},position:{configurable:!0},closestBondAtom:{configurable:!0},closeAtom:{configurable:!0},arrow:{configurable:!0},atom:{configurable:!0},axes:{configurable:!0},bond:{configurable:!0},box:{configurable:!0},cone:{configurable:!0},clash:{configurable:!0},contact:{configurable:!0},cylinder:{configurable:!0},distance:{configurable:!0},ellipsoid:{configurable:!0},octahedron:{configurable:!0},point:{configurable:!0},mesh:{configurable:!0},slice:{configurable:!0},sphere:{configurable:!0},tetrahedron:{configurable:!0},torus:{configurable:!0},surface:{configurable:!0},unitcell:{configurable:!0},unknown:{configurable:!0},volume:{configurable:!0},wideline:{configurable:!0}};qt.type.get=function(){return this.picker.type},qt.altKey.get=function(){return this.mouse.altKey},qt.ctrlKey.get=function(){return this.mouse.ctrlKey},qt.metaKey.get=function(){return this.mouse.metaKey},qt.shiftKey.get=function(){return this.mouse.shiftKey},qt.canvasPosition.get=function(){return this.mouse.canvasPosition},qt.component.get=function(){return this.stage.getComponentsByObject(this.picker.data).list[0]},qt.object.get=function(){return this.picker.getObject(this.pid)},qt.position.get=function(){return this.picker.getPosition(this.pid,this.instance,this.component)},qt.closestBondAtom.get=function(){if(this.type==="bond"&&this.bond){var e=this.bond,t=this.controls,i=this.canvasPosition,n=e.atom1.positionToVector3(),s=e.atom2.positionToVector3();n.applyMatrix4(this.component.matrix),s.applyMatrix4(this.component.matrix);var r,a,o,c=t.getPositionOnCanvas(n),p=t.getPositionOnCanvas(s);return a=c,o=p,(r=i).distanceTo(a)<r.distanceTo(o)?e.atom1:e.atom2}},qt.closeAtom.get=function(){var e=this.canvasPosition,t=this.closestBondAtom;if(t){var i=t.positionToVector3().applyMatrix4(this.component.matrix),n=this.controls.getPositionOnCanvas(i);t.positionToVector3(Ao),this.instance&&Ao.applyMatrix4(this.instance.matrix),Ao.applyMatrix4(this.component.matrix);var s=this.controls.viewer;Ao.add(s.translationGroup.position),Ao.applyMatrix4(s.rotationGroup.matrix);var r=this.controls.getCanvasScaleFactor(Ao.z),a=this.component.getMaxRepresentationRadius(t.index);return e.distanceTo(n)<=a/r?t:void 0}},qt.arrow.get=function(){return this._objectIfType("arrow")},qt.atom.get=function(){return this._objectIfType("atom")},qt.axes.get=function(){return this._objectIfType("axes")},qt.bond.get=function(){return this._objectIfType("bond")},qt.box.get=function(){return this._objectIfType("box")},qt.cone.get=function(){return this._objectIfType("cone")},qt.clash.get=function(){return this._objectIfType("clash")},qt.contact.get=function(){return this._objectIfType("contact")},qt.cylinder.get=function(){return this._objectIfType("cylinder")},qt.distance.get=function(){return this._objectIfType("distance")},qt.ellipsoid.get=function(){return this._objectIfType("ellipsoid")},qt.octahedron.get=function(){return this._objectIfType("octahedron")},qt.point.get=function(){return this._objectIfType("point")},qt.mesh.get=function(){return this._objectIfType("mesh")},qt.slice.get=function(){return this._objectIfType("slice")},qt.sphere.get=function(){return this._objectIfType("sphere")},qt.tetrahedron.get=function(){return this._objectIfType("tetrahedron")},qt.torus.get=function(){return this._objectIfType("torus")},qt.surface.get=function(){return this._objectIfType("surface")},qt.unitcell.get=function(){return this._objectIfType("unitcell")},qt.unknown.get=function(){return this._objectIfType("unknown")},qt.volume.get=function(){return this._objectIfType("volume")},qt.wideline.get=function(){return this._objectIfType("wideline")},xl.prototype._objectIfType=function(e){return this.type===e?this.object:void 0},xl.prototype.getLabel=function(){var e=this.atom||this.closeAtom,t="nothing";return this.arrow?t=this.arrow.name:e?t="atom: "+e.qualifiedName()+" ("+e.structure.name+")":this.axes?t="axes":this.bond?t="bond: "+this.bond.atom1.qualifiedName()+" - "+this.bond.atom2.qualifiedName()+" ("+this.bond.structure.name+")":this.box?t=this.box.name:this.cone?t=this.cone.name:this.clash?t="clash: "+this.clash.clash.sele1+" - "+this.clash.clash.sele2:this.contact?t=this.contact.type+": "+this.contact.atom1.qualifiedName()+" - "+this.contact.atom2.qualifiedName()+" ("+this.contact.atom1.structure.name+")":this.cylinder?t=this.cylinder.name:this.distance?t="distance: "+this.distance.atom1.qualifiedName()+" - "+this.distance.atom2.qualifiedName()+" ("+this.distance.structure.name+")":this.ellipsoid?t=this.ellipsoid.name:this.octahedron?t=this.octahedron.name:this.point?t=this.point.name:this.mesh?t="mesh: "+(this.mesh.name||this.mesh.serial)+" ("+this.mesh.shape.name+")":this.slice?t="slice: "+this.slice.value.toPrecision(3)+" ("+this.slice.volume.name+")":this.sphere?t=this.sphere.name:this.surface?t="surface: "+this.surface.surface.name:this.tetrahedron?t=this.tetrahedron.name:this.torus?t=this.torus.name:this.unitcell?t="unitcell: "+this.unitcell.unitcell.spacegroup+" ("+this.unitcell.structure.name+")":this.unknown?t="unknown":this.volume?t="volume: "+this.volume.value.toPrecision(3)+" ("+this.volume.volume.name+")":this.wideline&&(t=this.wideline.name),t},Object.defineProperties(xl.prototype,qt);var O4=function(e){this.stage=e,this.viewer=e.viewer};O4.prototype.pick=function(e,t){var i=this.viewer.pick(e,t);if(i.picker&&i.picker.type!=="ignore"&&i.pid!==void 0){var n=i.picker.array;if(!(n&&i.pid>=n.length))return new xl(i,this.stage);console.error("pid >= picker.array.length")}};var q2=new ri,z2=new P,H2=new P,bm=new P,sT=new P,U2=new De,W2=new P,j2=new De,en=function(e){this.stage=e,this.signals={changed:new _t.exports.Signal},this.viewer=e.viewer},xm={position:{configurable:!0},rotation:{configurable:!0}};xm.position.get=function(){return this.viewer.translationGroup.position},xm.rotation.get=function(){return this.viewer.rotationGroup.quaternion},en.prototype.changed=function(){this.viewer.requestRender(),this.signals.changed.dispatch()},en.prototype.getPositionOnCanvas=function(e,t){var i=Qu(t,Te),n=this.viewer;return bm.copy(e).add(n.translationGroup.position).applyMatrix4(n.rotationGroup.matrix).project(n.camera),i.set((bm.x+1)*n.width/2,(bm.y+1)*n.height/2)},en.prototype.getCanvasScaleFactor=function(e){e===void 0&&(e=0);var t=this.viewer.camera;if(t instanceof la)return 1/t.zoom;e=Math.abs(e),e+=this.getCameraDistance();var i=gi(t.fov);return 2*e*Math.tan(i/2)/this.viewer.height},en.prototype.getOrientation=function(e){var t=Ap(e);t.copy(this.viewer.rotationGroup.matrix);var i=this.getCameraDistance();return t.scale(sT.set(i,i,i)),t.setPosition(this.viewer.translationGroup.position),t},en.prototype.orient=function(e){Ap(e).decompose(z2,q2,H2);var t=this.viewer;t.rotationGroup.setRotationFromQuaternion(q2),t.translationGroup.position.copy(z2),t.cameraDistance=H2.z,t.updateZoom(),this.changed()},en.prototype.translate=function(e){this.viewer.translationGroup.position.add(ka(e)),this.changed()},en.prototype.center=function(e){this.viewer.translationGroup.position.copy(ka(e)).negate(),this.changed()},en.prototype.zoom=function(e){this.distance(this.getCameraDistance()*(1-e))},en.prototype.getCameraDistance=function(){return this.viewer.cameraDistance},en.prototype.distance=function(e){this.viewer.cameraDistance=Math.max(Math.abs(e),.2),this.viewer.updateZoom(),this.changed()},en.prototype.spin=function(e,t){U2.getInverse(this.viewer.rotationGroup.matrix),W2.copy(ka(e)).applyMatrix4(U2),this.viewer.rotationGroup.rotateOnAxis(W2,t),this.changed()},en.prototype.rotate=function(e){this.viewer.rotationGroup.setRotationFromQuaternion(Rh(e)),this.changed()},en.prototype.align=function(e){j2.getInverse(Ap(e)),this.viewer.rotationGroup.setRotationFromMatrix(j2),this.changed()},en.prototype.applyMatrix=function(e){this.viewer.rotationGroup.applyMatrix4(Ap(e)),this.changed()},Object.defineProperties(en.prototype,xm);var Fn=function(e,t){for(var i,n=[],s=arguments.length-2;s-- >0;)n[s]=arguments[s+2];this.pausedTime=-1,this.elapsedDuration=0,this.pausedDuration=0,this.ignoreGlobalToggle=!1,this._paused=!1,this._resolveList=[],this.duration=R(e,1e3),this.controls=t,this.startTime=window.performance.now(),(i=this)._init.apply(i,n)},Sm={done:{configurable:!0},paused:{configurable:!0}};Sm.done.get=function(){return this.alpha===1},Sm.paused.get=function(){return this._paused},Fn.prototype.tick=function(e){if(!this._paused)return this.elapsedDuration=e.currentTime-this.startTime-this.pausedDuration,this.duration===0?this.alpha=1:this.alpha=Kf(0,1,this.elapsedDuration/this.duration),this._tick(e),this.done&&this._resolveList.forEach(function(t){return t()}),this.done},Fn.prototype.pause=function(e){e&&(this._hold=!0),this.pausedTime===-1&&(this.pausedTime=window.performance.now()),this._paused=!0},Fn.prototype.resume=function(e){!e&&this._hold||(this.pausedDuration+=window.performance.now()-this.pausedTime,this._paused=!1,this._hold=!1,this.pausedTime=-1)},Fn.prototype.toggle=function(){this._paused?this.resume():this.pause()},Fn.prototype.then=function(e){var t=this;return(this.done?Promise.resolve():new Promise(function(i){return t._resolveList.push(i)})).then(e)},Object.defineProperties(Fn.prototype,Sm);var $2=function(e){function t(i,n){for(var s=[],r=arguments.length-2;r-- >0;)s[r]=arguments[r+2];e.apply(this,[R(i,1/0),n].concat(s))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(i,n){Array.isArray(i)?this.axis=new P().fromArray(i):this.axis=R(i,new P(0,1,0)),this.angle=R(n,.01)},t.prototype._tick=function(i){this.axis&&this.angle&&this.controls.spin(this.axis,this.angle*i.lastDuration/16)},t}(Fn),K2=function(e){function t(i,n){for(var s=[],r=arguments.length-2;r-- >0;)s[r]=arguments[r+2];e.apply(this,[R(i,1/0),n].concat(s)),this.angleSum=0,this.direction=1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(i,n,s){Array.isArray(i)?this.axis=new P().fromArray(i):this.axis=R(i,new P(0,1,0)),this.angleStep=R(n,.01),this.angleEnd=R(s,.2)},t.prototype._tick=function(i){if(this.axis&&this.angleStep&&this.angleEnd){var n=Kf(0,1,Math.abs(this.angleSum)/this.angleEnd),s=this.angleStep*this.direction*(1.1-n);this.controls.spin(this.axis,s*i.lastDuration/16),this.angleSum+=this.angleStep,this.angleSum>=this.angleEnd&&(this.direction*=-1,this.angleSum=-this.angleEnd)}},t}(Fn),Y2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(i,n){this.moveFrom=ka(R(i,new P)),this.moveTo=ka(R(n,new P))},t.prototype._tick=function(){this.controls.position.lerpVectors(this.moveFrom,this.moveTo,this.alpha).negate(),this.controls.changed()},t}(Fn),rT=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(i,n){this.zoomFrom=i,this.zoomTo=n},t.prototype._tick=function(){this.controls.distance($n(this.zoomFrom,this.zoomTo,this.alpha))},t}(Fn),aT=function(e){function t(){e.apply(this,arguments),this._currentRotation=new ri}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(i,n){this.rotateFrom=Rh(i),this.rotateTo=Rh(n),this._currentRotation=new ri},t.prototype._tick=function(){this._currentRotation.copy(this.rotateFrom).slerp(this.rotateTo,this.alpha),this.controls.rotate(this._currentRotation)},t}(Fn),oT=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(i,n,s){this.valueFrom=i,this.valueTo=n,this.callback=s},t.prototype._tick=function(){this.callback($n(this.valueFrom,this.valueTo,this.alpha))},t}(Fn),cT=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(i){this.callback=i},t.prototype._tick=function(){this.alpha===1&&this.callback()},t}(Fn),Fu=function(e){e===void 0&&(e=[]),this._resolveList=[],this._list=e},J2={done:{configurable:!0}};J2.done.get=function(){return this._list.every(function(e){return e.done})},Fu.prototype.then=function(e){var t,i=this;return t=this.done?Promise.resolve():new Promise(function(n){i._resolveList.push(n),i._list.forEach(function(s){s.then(function(){i._resolveList.forEach(function(r){r()}),i._resolveList.length=0})})}),t.then(e)},Object.defineProperties(Fu.prototype,J2);var bi=function(e){this.stage=e,this.animationList=[],this.finishedList=[],this.viewer=e.viewer,this.controls=e.viewerControls},Q2={paused:{configurable:!0}};Q2.paused.get=function(){return this.animationList.every(function(e){return e.paused})},bi.prototype.add=function(e){return e.duration===0?e.tick(this.viewer.stats):this.animationList.push(e),e},bi.prototype.remove=function(e){var t=this.animationList,i=t.indexOf(e);i>-1&&t.splice(i,1)},bi.prototype.run=function(e){for(var t=this.finishedList,i=this.animationList,n=i.length,s=0;s<n;++s){var r=i[s];r.tick(e)&&t.push(r)}var a=t.length;if(a){for(var o=0;o<a;++o)this.remove(t[o]);t.length=0}},bi.prototype.spin=function(e,t,i){return this.add(new $2(i,this.controls,e,t))},bi.prototype.rock=function(e,t,i,n){return this.add(new K2(n,this.controls,e,t,i))},bi.prototype.rotate=function(e,t){var i=this.viewer.rotationGroup.quaternion.clone();return this.add(new aT(t,this.controls,i,e))},bi.prototype.move=function(e,t){var i=this.controls.position.clone().negate();return this.add(new Y2(t,this.controls,i,e))},bi.prototype.zoom=function(e,t){var i=this.viewer.camera.position.z;return this.add(new rT(t,this.controls,i,e))},bi.prototype.zoomMove=function(e,t,i){return new Fu([this.move(e,i),this.zoom(t,i)])},bi.prototype.orient=function(e,t){var i=new P,n=new ri,s=new P;return Ap(e).decompose(i,n,s),new Fu([this.move(i.negate(),t),this.rotate(n,t),this.zoom(-s.x,t)])},bi.prototype.value=function(e,t,i,n){return this.add(new oT(n,this.controls,e,t,i))},bi.prototype.timeout=function(e,t){return this.add(new cT(t,this.controls,e))},bi.prototype.spinComponent=function(e,t,i,n){return this.add(new $2(n,e.controls,t,i))},bi.prototype.rockComponent=function(e,t,i,n,s){return this.add(new K2(s,e.controls,t,i,n))},bi.prototype.moveComponent=function(e,t,i){var n=e.controls.position.clone().negate();return this.add(new Y2(i,e.controls,n,t))},bi.prototype.pause=function(){this.animationList.forEach(function(e){return e.pause()})},bi.prototype.resume=function(){this.animationList.forEach(function(e){return e.resume()})},bi.prototype.toggle=function(){this.paused?this.resume():this.pause()},bi.prototype.clear=function(){this.animationList.length=0},bi.prototype.dispose=function(){this.clear()},Object.defineProperties(bi.prototype,Q2);var Do=function(e,t){if(this.fn=e,this.queue=[],this.pending=!1,this.next=this.next.bind(this),t){for(var i=0,n=t.length;i<n;++i)this.queue.push(t[i]);this.next()}};Do.prototype.run=function(e){this.fn(e,this.next)},Do.prototype.next=function(){var e=this,t=this.queue.shift();t!==void 0?(this.pending=!0,setTimeout(function(){return e.run(t)})):this.pending=!1},Do.prototype.push=function(e){this.queue.push(e),this.pending||this.next()},Do.prototype.kill=function(){this.queue.length=0},Do.prototype.length=function(){return this.queue.length};var Ci=function(e,t,i){this.type="",this.parameters={lazy:{type:"boolean"},clipNear:{type:"range",step:1,max:100,min:0,buffer:!0},clipRadius:{type:"number",precision:1,max:1e3,min:0,buffer:!0},clipCenter:{type:"vector3",precision:1,buffer:!0},flatShaded:{type:"boolean",buffer:!0},opacity:{type:"range",step:.01,max:1,min:0,buffer:!0},depthWrite:{type:"boolean",buffer:!0},side:{type:"select",buffer:!0,options:{front:"front",back:"back",double:"double"}},wireframe:{type:"boolean",buffer:!0},colorData:{type:"hidden",update:"color"},colorScheme:{type:"select",update:"color",options:{}},colorScale:{type:"select",update:"color",options:It.getScales()},colorReverse:{type:"boolean",update:"color"},colorValue:{type:"color",update:"color"},colorDomain:{type:"hidden",update:"color"},colorMode:{type:"select",update:"color",options:It.getModes()},roughness:{type:"range",step:.01,max:1,min:0,buffer:!0},metalness:{type:"range",step:.01,max:1,min:0,buffer:!0},diffuse:{type:"color",buffer:!0},diffuseInterior:{type:"boolean",buffer:!0},useInteriorColor:{type:"boolean",buffer:!0},interiorColor:{type:"color",buffer:!0},interiorDarkening:{type:"range",step:.01,max:1,min:0,buffer:!0},matrix:{type:"hidden",buffer:!0},disablePicking:{type:"boolean",rebuild:!0}},this.viewer=t,this.tasks=new Gs,this.queue=new Do(this.make.bind(this)),this.bufferList=[],this.parameters.colorScheme&&(this.parameters.colorScheme.options=It.getSchemes()),this.toBePrepared=!1};Ci.prototype.init=function(e){var t=e||{};this.clipNear=R(t.clipNear,0),this.clipRadius=R(t.clipRadius,0),this.clipCenter=R(t.clipCenter,new P),this.flatShaded=R(t.flatShaded,!1),this.side=R(t.side,"double"),this.opacity=R(t.opacity,1),this.depthWrite=R(t.depthWrite,!0),this.wireframe=R(t.wireframe,!1),this.setColor(t.color,t),this.colorData=R(t.colorData,void 0),this.colorScheme=R(t.colorScheme,"uniform"),this.colorScale=R(t.colorScale,""),this.colorReverse=R(t.colorReverse,!1),this.colorValue=R(t.colorValue,9474192),this.colorDomain=R(t.colorDomain,void 0),this.colorMode=R(t.colorMode,"hcl"),this.visible=R(t.visible,!0),this.quality=R(t.quality,void 0),this.roughness=R(t.roughness,.4),this.metalness=R(t.metalness,0),this.diffuse=R(t.diffuse,16777215),this.diffuseInterior=R(t.diffuseInterior,!1),this.useInteriorColor=R(t.useInteriorColor,!1),this.interiorColor=R(t.interiorColor,2236962),this.interiorDarkening=R(t.interiorDarkening,0),this.lazy=R(t.lazy,!1),this.lazyProps={build:!1,bufferParams:{},what:{}},this.matrix=R(t.matrix,new De),this.disablePicking=R(t.disablePicking,!1);var i=this.parameters;i.sphereDetail===!0&&(i.sphereDetail={type:"integer",max:3,min:0,rebuild:"impostor"}),i.radialSegments===!0&&(i.radialSegments={type:"integer",max:25,min:5,rebuild:"impostor"}),i.openEnded===!0&&(i.openEnded={type:"boolean",rebuild:"impostor",buffer:!0}),i.disableImpostor===!0&&(i.disableImpostor={type:"boolean",rebuild:!0}),t.quality==="low"?(i.sphereDetail&&(this.sphereDetail=0),i.radialSegments&&(this.radialSegments=5)):t.quality==="medium"?(i.sphereDetail&&(this.sphereDetail=1),i.radialSegments&&(this.radialSegments=10)):t.quality==="high"?(i.sphereDetail&&(this.sphereDetail=2),i.radialSegments&&(this.radialSegments=20)):(i.sphereDetail&&(this.sphereDetail=R(t.sphereDetail,1)),i.radialSegments&&(this.radialSegments=R(t.radialSegments,10))),i.openEnded&&(this.openEnded=R(t.openEnded,!0)),i.disableImpostor&&(this.disableImpostor=R(t.disableImpostor,!1))},Ci.prototype.getColorParams=function(e){return Object.assign({data:this.colorData,scheme:this.colorScheme,scale:this.colorScale,reverse:this.colorReverse,value:this.colorValue,domain:this.colorDomain,mode:this.colorMode,colorSpace:this.colorSpace},e)},Ci.prototype.getBufferParams=function(e){return e===void 0&&(e={}),Object.assign({clipNear:this.clipNear,clipRadius:this.clipRadius,clipCenter:this.clipCenter,flatShaded:this.flatShaded,opacity:this.opacity,depthWrite:this.depthWrite,side:this.side,wireframe:this.wireframe,roughness:this.roughness,metalness:this.metalness,diffuse:this.diffuse,diffuseInterior:this.diffuseInterior,useInteriorColor:this.useInteriorColor,interiorColor:this.interiorColor,interiorDarkening:this.interiorDarkening,matrix:this.matrix,disablePicking:this.disablePicking},e)},Ci.prototype.setColor=function(e,t){var i=Object.keys(It.getSchemes());if(typeof e=="string"&&i.includes(e.toLowerCase()))t?t.colorScheme=e:this.setParameters({colorScheme:e});else if(e!==void 0){var n=new Oe(e).getHex();t?(t.colorScheme="uniform",t.colorValue=n):this.setParameters({colorScheme:"uniform",colorValue:n})}return this},Ci.prototype.prepare=function(e){},Ci.prototype.create=function(){},Ci.prototype.update=function(e){this.build()},Ci.prototype.build=function(e){if(!this.lazy||this.visible&&this.opacity){if(!this.toBePrepared)return this.tasks.increment(),void this.make();this.queue.length()>0?(this.tasks.change(1-this.queue.length()),this.queue.kill()):this.tasks.increment(),this.queue.push(e||!1)}else this.lazyProps.build=!0},Ci.prototype.make=function(e,t){var i=this;Ce&&de.time("Representation.make "+this.type);var n=function(){e?(i.update(e),i.viewer.requestRender(),i.tasks.decrement(),t&&t()):(i.clear(),i.create(),i.manualAttach||i.disposed||(Ce&&de.time("Representation.attach "+i.type),i.attach(function(){Ce&&de.timeEnd("Representation.attach "+i.type),i.tasks.decrement(),t&&t()}))),Ce&&de.timeEnd("Representation.make "+i.type)};this.toBePrepared?this.prepare(n):n()},Ci.prototype.attach=function(e){this.setVisibility(this.visible),e()},Ci.prototype.setVisibility=function(e,t){if(this.visible=e,this.visible&&this.opacity){var i=this.lazyProps,n=i.bufferParams,s=i.what;if(i.build)return i.build=!1,this.build(),this;(Object.keys(n).length||Object.keys(s).length)&&(i.bufferParams={},i.what={},this.updateParameters(n,s))}return this.bufferList.forEach(function(r){r.setVisibility(e)}),t||this.viewer.requestRender(),this},Ci.prototype.setParameters=function(e,t,i){t===void 0&&(t={}),i===void 0&&(i=!1);var n=e||{},s=this.parameters,r={};for(var a in this.opacity||n.opacity===void 0||(this.lazyProps.build?(this.lazyProps.build=!1,i=!0):(Object.assign(r,this.lazyProps.bufferParams),Object.assign(t,this.lazyProps.what),this.lazyProps.bufferParams={},this.lazyProps.what={})),this.setColor(n.color,n),n)n[a]!==void 0&&s[a]!==void 0&&(s[a].int&&(n[a]=parseInt(n[a])),s[a].float&&(n[a]=parseFloat(n[a])),n[a]!==this[a]||n[a].equals&&!n[a].equals(this[a]))&&(this[a]&&this[a].copy&&n[a].copy?this[a].copy(n[a]):this[a]&&this[a].set?this[a].set(n[a]):this[a]=n[a],s[a].buffer&&(s[a].buffer===!0?r[a]=n[a]:r[s[a].buffer]=n[a]),s[a].update&&(t[s[a].update]=!0),!s[a].rebuild||s[a].rebuild==="impostor"&&qs&&!this.disableImpostor||(i=!0));return i?this.build():this.updateParameters(r,t),this},Ci.prototype.updateParameters=function(e,t){if(e===void 0&&(e={}),this.lazy&&(!this.visible||!this.opacity)&&e.hasOwnProperty("opacity")===!1)return Object.assign(this.lazyProps.bufferParams,e),void Object.assign(this.lazyProps.what,t);this.bufferList.forEach(function(i){i.setParameters(e)}),Object.keys(t).length&&this.update(t),this.viewer.requestRender()},Ci.prototype.getParameters=function(){var e=this,t={lazy:this.lazy,visible:this.visible,quality:this.quality};return Object.keys(this.parameters).forEach(function(i){e.parameters[i]!==null&&(t[i]=e[i])}),t},Ci.prototype.clear=function(){var e=this;this.bufferList.forEach(function(t){e.viewer.remove(t),t.dispose()}),this.bufferList.length=0,this.viewer.requestRender()},Ci.prototype.dispose=function(){this.disposed=!0,this.queue.kill(),this.tasks.dispose(),this.clear()};var Ru=function(e){var t=this;this.pending=0,this.postCount=0,this.onmessageDict={},this.onerrorDict={},this.name=e,this.blobUrl=window.URL.createObjectURL(Tf.get(e)),this.worker=new Worker(this.blobUrl),Tf.activeWorkerCount+=1,this.worker.onmessage=function(i){t.pending-=1;var n=i.data.__postId;Ce&&de.timeEnd("Worker.postMessage "+e+" #"+n);var s=t.onmessageDict[n];s&&s.call(t.worker,i),delete t.onmessageDict[n],delete t.onerrorDict[n]},this.worker.onerror=function(i){if(t.pending-=1,i.data){var n=i.data.__postId,s=t.onerrorDict[n];s?s.call(t.worker,i):de.error("Worker.onerror",n,e,i),delete t.onmessageDict[n],delete t.onerrorDict[n]}else de.error("Worker.onerror",e,i)}};Ru.prototype.post=function(e,t,i,n){e===void 0&&(e={}),this.onmessageDict[this.postCount]=i,this.onerrorDict[this.postCount]=n,e.__name=this.name,e.__postId=this.postCount,e.__debug=Ce,Ce&&de.time("Worker.postMessage "+this.name+" #"+this.postCount);try{this.worker.postMessage(e,t)}catch(s){de.error("worker.post:",s),this.worker.postMessage(e)}return this.pending+=1,this.postCount+=1,this},Ru.prototype.terminate=function(){this.worker?(this.worker.terminate(),window.URL.revokeObjectURL(this.blobUrl),Tf.activeWorkerCount-=1):de.log("no worker to terminate")};var Go=function(e,t){t===void 0&&(t=2),this.pool=[],this.count=0,this.maxCount=Math.min(8,t),this.name=e};function kh(e){for(var t=e.length,i=t/3,n=0,s=0,r=0,a=0;a<t;a+=3)n+=e[a+0],s+=e[a+1],r+=e[a+2];return new P(n/i,s/i,r/i)}function Va(e,t,i){return i?e.sub(i).projectOnVector(t).add(i):e.projectOnVector(t),e}function Lf(e){for(var t=1/0,i=1/0,n=1/0,s=-1/0,r=-1/0,a=-1/0,o=0,c=e.length;o<c;o+=3){var p=e[o],f=e[o+1],l=e[o+2];p<t&&(t=p),f<i&&(i=f),l<n&&(n=l),p>s&&(s=p),f>r&&(r=f),l>a&&(a=l)}return[yt([t,i,n]),yt([s,r,a])]}function Zu(e,t){for(var i=0,n=t.length;i<n;i+=3){var s=t[i],r=t[i+1],a=t[i+2];t[i]=e[0]*s+e[4]*r+e[8]*a+e[12],t[i+1]=e[1]*s+e[5]*r+e[9]*a+e[13],t[i+2]=e[2]*s+e[6]*r+e[10]*a+e[14]}}function H_(e,t){for(var i=0,n=t.length;i<n;i+=3){var s=t[i],r=t[i+1],a=t[i+2];t[i]=e[0]*s+e[3]*r+e[6]*a,t[i+1]=e[1]*s+e[4]*r+e[7]*a,t[i+2]=e[2]*s+e[5]*r+e[8]*a}}function k4(e){for(var t=0,i=e.length;t<i;t+=3){var n=e[t],s=e[t+1],r=e[t+2],a=n*n+s*s+r*r;if(a>0){var o=1/Math.sqrt(a);e[t]=n*o,e[t+1]=s*o,e[t+2]=r*o}}}function yt(e){return new Float32Array(e||3)}function An(e,t,i){var n=t[0],s=t[1],r=t[2],a=i[0],o=i[1],c=i[2];e[0]=s*c-r*o,e[1]=r*a-n*c,e[2]=n*o-s*a}function bn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function hi(e,t,i){e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2]}function us(e,t,i){e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2]}function mn(e,t,i){i===void 0&&(i=0),e[0]=t[i],e[1]=t[i+1],e[2]=t[i+2]}function xt(e,t,i){i===void 0&&(i=0),t[i]=e[0],t[i+1]=e[1],t[i+2]=e[2]}function B4(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}function sa(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function Qo(e,t,i){ei(e,t,1/i)}function ei(e,t,i){e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i}function yi(e,t){var i=B4(t);i==0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):ei(e,t,1/Math.sqrt(i))}function V4(e,t,i){e[0]=t[0]-i,e[1]=t[1]-i,e[2]=t[2]-i}function Sl(e,t,i){e[0]=t[0]+i,e[1]=t[1]+i,e[2]=t[2]+i}function Bh(e,t){e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2])}function Tp(e,t){e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2])}function e1(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2]}function pT(e,t){t===void 0&&(t=9);for(var i=Math.floor(t/2),n=e.position1.length/3,s=3*(i*n),r=1/t,a=Xu(e.position1,e.position2),o=new Float32Array(s),c=new Float32Array(s),p=new P,f=0;f<n;++f){var l=3*f;p.set(a[l],a[l+1],a[l+2]);for(var u=e.position1[l],m=e.position1[l+1],d=e.position1[l+2],y=0;y<i;++y){var _=i*l+3*y,h=r*(2*y+1),g=r*(2*y+2);o[_]=u+p.x*h,o[_+1]=m+p.y*h,o[_+2]=d+p.z*h,c[_]=u+p.x*g,c[_+1]=m+p.y*g,c[_+2]=d+p.z*g}}var E=zs(o,c),w=function(x,b){for(var A=x.length/3,M=new Float32Array(A*b*3),G=0;G<A;++G)for(var T=3*G,N=G*b*3,D=x[T+0],L=x[T+1],C=x[T+2],O=0;O<b;++O){var q=N+3*O;M[q+0]=D,M[q+1]=L,M[q+2]=C}return M}(e.color,i),v={position:E,position1:o,position2:c,color:w,color2:w};return e.radius&&(v.radius=dm(e.radius,i)),e.picking&&e.picking.array&&(e.picking.array=dm(e.picking.array,i),v.picking=e.picking),e.primitiveId&&(v.primitiveId=dm(e.primitiveId,i)),v}function q4(e,t){t===void 0&&(t=.1);for(var i=Xu(e.position1,e.position2),n=[],s=[],r=[],a=e.radius?[]:void 0,o=e.picking?[]:void 0,c=e.primitiveId?[]:void 0,p=new P,f=e.position1.length/3,l=0,u=0;u<f;++u){var m=3*u;p.set(i[m],i[m+1],i[m+2]);for(var d=p.length()/t,y=Math.floor(d/2),_=1/d,h=e.position1[m],g=e.position1[m+1],E=e.position1[m+2],w=0;w<y;++w){var v=3*l+3*w,x=_*(2*w+1),b=_*(2*w+2);n[v]=h+p.x*x,n[v+1]=g+p.y*x,n[v+2]=E+p.z*x,s[v]=h+p.x*b,s[v+1]=g+p.y*b,s[v+2]=E+p.z*b,e.color&&(r[v]=e.color[m],r[v+1]=e.color[m+1],r[v+2]=e.color[m+2]),a&&(a[l+w]=e.radius[u]),o&&(e.picking.array?o[l+w]=e.picking.array[u]:o[l+w]=u),c&&(c[l+w]=e.primitiveId[u])}l+=y}var A=new Float32Array(n),M=new Float32Array(s),G=zs(A,M),T=new Float32Array(r),N={position:G,position1:A,position2:M,color:T,color2:T};return a&&(N.radius=new Float32Array(a)),o&&e.picking&&(e.picking.array=new Float32Array(o),N.picking=e.picking),c&&(N.primitiveId=new Float32Array(c)),N}function Vh(e,t){t===void 0&&(t=.1);for(var i=Xu(e.position1,e.position2),n=[],s=[],r=[],a=e.radius?[]:void 0,o=e.picking?[]:void 0,c=e.primitiveId?[]:void 0,p=new P,f=e.position1.length/3,l=t,u=!0,m=0,d=0,y=0,_=0;_<f;++_){var h=3*_,g=e.position1[h],E=e.position1[h+1],w=e.position1[h+2];p.set(i[h],i[h+1],i[h+2]);var v=p.length();u&&(n[d]=g,n[d+1]=E,n[d+2]=w);for(var x=l,b=1/v;x<v;){var A=u?s:n;A[d]=g+p.x*x*b,A[d+1]=E+p.y*x*b,A[d+2]=w+p.z*x*b,u&&(d=3*++m),u=!u,l=t,x+=t}u&&(s[d]=e.position2[h],s[d+1]=e.position2[h+1],s[d+2]=e.position2[h+2],d=3*++m),l=x-v;for(var M=y;M<m;M++){if(e.color){var G=3*M;r[G]=e.color[h],r[G+1]=e.color[h+1],r[G+2]=e.color[h+2]}a&&(a[M]=e.radius[_]),o&&(e.picking.array?o[M]=e.picking.array[_]:o[M]=_),c&&(c[M]=e.primitiveId[_])}y=m}if(!u&&f>0){var T=3*m;s[T]=e.position2[3*f-3],s[T+1]=e.position2[3*f-2],s[T+1]=e.position2[3*f-1]}var N=new Float32Array(n),D=new Float32Array(s),L=zs(N,D),C=new Float32Array(r),O={position:L,position1:N,position2:D,color:C,color2:C};return a&&(O.radius=new Float32Array(a)),o&&e.picking&&(e.picking.array=new Float32Array(o),O.picking=e.picking),c&&(O.primitiveId=new Float32Array(c)),O}Go.prototype.post=function(e,t,i,n){e===void 0&&(e={});var s=this.getNextWorker();return s?s.post(e,t,i,n):console.error("unable to get worker from pool"),this},Go.prototype.terminate=function(){this.pool.forEach(function(e){e.terminate()})},Go.prototype.getNextWorker=function(){for(var e,t=1/0,i=0;i<this.maxCount;++i){if(i>=this.count){e=new Ru(this.name),this.pool.push(e),this.count+=1;break}var n=this.pool[i];if(n.pending===0){e=n;break}n.pending<t&&(t=n.pending,e=n)}return e},Go.prototype.constructor=Go,Lf.__deps=[yt],Qo.__deps=[ei],yi.__deps=[ei,B4];var ma=new P,Hi=function(){},Mm={Picker:{configurable:!0},Buffer:{configurable:!0}};Mm.Picker.get=function(){return Un.get(this.type)},Mm.Buffer.get=function(){return Vn.get(this.type)},Hi.getShapeKey=function(e){return this.type+e[0].toUpperCase()+e.substr(1)},Hi.expandBoundingBox=function(e,t){},Hi.valueToShape=function(e,t,i){var n,s,r=e._primitiveData[this.getShapeKey(t)];switch(this.fields[t]){case"v3":case"c":s=r,(n=i).toArray!==void 0?n=n.toArray():n.x!==void 0?n=[n.x,n.y,n.z]:n.r!==void 0&&(n=[n.r,n.g,n.b]),s.push.apply(s,n);break;default:r.push(i)}},Hi.objectToShape=function(e,t){var i=this;Object.keys(this.fields).forEach(function(n){i.valueToShape(e,n,t[n])}),this.valueToShape(e,"name",t.name),this.expandBoundingBox(e.boundingBox,t)},Hi.valueFromShape=function(e,t,i){var n=e._primitiveData[this.getShapeKey(i)];switch(this.fields[i]){case"v3":return new P().fromArray(n,3*t);case"c":return new Oe().fromArray(n,3*t);default:return n[t]}},Hi.objectFromShape=function(e,t){var i=this,n=this.valueFromShape(e,t,"name");n===void 0&&(n=this.type+": "+t+" ("+e.name+")");var s={shape:e,name:n};return Object.keys(this.fields).forEach(function(r){s[r]=i.valueFromShape(e,t,r)}),s},Hi.arrayFromShape=function(e,t){var i=e._primitiveData[this.getShapeKey(t)];return this.fields[t]==="s"?i:new Float32Array(i)},Hi.dataFromShape=function(e){var t=this,i={};return this.Picker&&(i.picking=new this.Picker(e)),Object.keys(this.fields).forEach(function(n){i[n]=t.arrayFromShape(e,n)}),i},Hi.bufferFromShape=function(e,t){return new this.Buffer(this.dataFromShape(e),t)},Object.defineProperties(Hi,Mm),Hi.type="",Hi.fields={};var Rc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(i,n){return this.valueFromShape(i,n,"position")},t.expandBoundingBox=function(i,n){i.expandByPoint(ma.fromArray(n.position))},t}(Hi);Rc.type="sphere",Rc.fields={position:"v3",color:"c",radius:"f"};var eo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(i,n){return this.valueFromShape(i,n,"position")},t.expandBoundingBox=function(i,n){i.expandByPoint(ma.fromArray(n.position))},t}(Hi);eo.type="box",eo.fields={position:"v3",color:"c",size:"f",heightAxis:"v3",depthAxis:"v3"};var t1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(eo);t1.type="octahedron";var i1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(eo);i1.type="tetrahedron";var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(i,n){var s=this.valueFromShape(i,n,"position1"),r=this.valueFromShape(i,n,"position2");return s.add(r).multiplyScalar(.5)},t.expandBoundingBox=function(i,n){i.expandByPoint(ma.fromArray(n.position1)),i.expandByPoint(ma.fromArray(n.position2))},t.bufferFromShape=function(i,n){n===void 0&&(n={});var s=this.dataFromShape(i);return this.type==="cylinder"&&n.dashedCylinder&&(s=q4(s)),new this.Buffer(s,n)},t}(Hi);to.type="cylinder",to.fields={position1:"v3",position2:"v3",color:"c",radius:"f"};var n1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(to);n1.type="arrow";var s1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(to);s1.type="cone";var Nc=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Rc);Nc.type="ellipsoid",Nc.fields={position:"v3",color:"c",radius:"f",majorAxis:"v3",minorAxis:"v3"};var r1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nc);r1.type="torus";var Nu=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(i,n){return this.valueFromShape(i,n,"position")},t.expandBoundingBox=function(i,n){i.expandByPoint(ma.fromArray(n.position))},t}(Hi);Nu.type="text",Nu.fields={position:"v3",color:"c",size:"f",text:"s"};var Ff=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(i,n){return this.valueFromShape(i,n,"position")},t.expandBoundingBox=function(i,n){i.expandByPoint(ma.fromArray(n.position))},t}(Hi);Ff.type="point",Ff.fields={position:"v3",color:"c"};var Rf=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(i,n){var s=this.valueFromShape(i,n,"position1"),r=this.valueFromShape(i,n,"position2");return s.add(r).multiplyScalar(.5)},t.expandBoundingBox=function(i,n){i.expandByPoint(ma.fromArray(n.position1)),i.expandByPoint(ma.fromArray(n.position2))},t}(Hi);Rf.type="wideline",Rf.fields={position1:"v3",position2:"v3",color:"c"};var io=function(e,t){this.exp=3;var i=t||function(T){for(var N=T.x,D=T.y,L=T.z,C=new ai,O=N.length,q=C.min,z=C.max,$=0;$<O;$++)q.x=Math.min(N[$],q.x),q.y=Math.min(D[$],q.y),q.z=Math.min(L[$],q.z),z.x=Math.max(N[$],z.x),z.y=Math.max(D[$],z.y),z.z=Math.max(L[$],z.z);return C}(e);this.minX=i.min.x,this.minY=i.min.y,this.minZ=i.min.z,this.boundX=1+(i.max.x-this.minX>>this.exp),this.boundY=1+(i.max.y-this.minY>>this.exp),this.boundZ=1+(i.max.z-this.minZ>>this.exp);for(var n=this.boundX*this.boundY*this.boundZ,s=e.count!==void 0?e.count:e.x.length,r=e.x,a=e.y,o=e.z,c=0,p=new Uint32Array(n),f=new Int32Array(s),l=0;l<s;++l){var u=r[l]-this.minX>>this.exp,m=a[l]-this.minY>>this.exp,d=o[l]-this.minZ>>this.exp,y=(u*this.boundY+m)*this.boundZ+d;(p[y]+=1)===1&&(c+=1),f[l]=y}for(var _=new Uint16Array(c),h=0,g=0;h<n;++h){var E=p[h];E>0&&(p[h]=g+1,_[g]=E,g+=1)}for(var w=new Uint32Array(c),v=1;v<c;++v)w[v]+=w[v-1]+_[v-1];for(var x=new Uint16Array(c),b=new Int32Array(s),A=0;A<s;++A){var M=p[f[A]];if(M>0){var G=M-1;b[w[G]+x[G]]=A,x[G]+=1}}this.grid=p,this.bucketCount=_,this.bucketOffset=w,this.bucketArray=b,this.xArray=r,this.yArray=a,this.zArray=o};io.prototype.within=function(e,t,i,n){var s=[];return this.eachWithin(e,t,i,n,function(r){return s.push(r)}),s},io.prototype.eachWithin=function(e,t,i,n,s){for(var r=n*n,a=Math.max(0,e-n-this.minX>>this.exp),o=Math.max(0,t-n-this.minY>>this.exp),c=Math.max(0,i-n-this.minZ>>this.exp),p=Math.min(this.boundX,1+(e+n-this.minX>>this.exp)),f=Math.min(this.boundY,1+(t+n-this.minY>>this.exp)),l=Math.min(this.boundZ,1+(i+n-this.minZ>>this.exp)),u=a;u<p;++u)for(var m=o;m<f;++m)for(var d=c;d<l;++d){var y=(u*this.boundY+m)*this.boundZ+d,_=this.grid[y];if(_>0)for(var h=_-1,g=this.bucketOffset[h],E=g+this.bucketCount[h],w=g;w<E;++w){var v=this.bucketArray[w],x=this.xArray[v]-e,b=this.yArray[v]-t,A=this.zArray[v]-i,M=x*x+b*b+A*A;M<=r&&s(v,M)}}};var ji=function(e){this._fields=this._defaultFields,this._init(0)},X2={_defaultFields:{configurable:!0}};X2._defaultFields.get=function(){return[]},ji.prototype._init=function(e){this.length=e,this.count=0;for(var t=0,i=this._fields.length;t<i;++t){var n=this._fields[t],s=n[0],r=n[1],a=n[2];this._initField(s,r,a)}},ji.prototype._initField=function(e,t,i){this[e]=A4(i,this.length*t)},ji.prototype.addField=function(e,t,i){this._fields.push([e,t,i]),this._initField(e,t,i)},ji.prototype.resize=function(e){this.length=Math.round(e||0),this.count=Math.min(this.count,this.length);for(var t=0,i=this._fields.length;t<i;++t){var n=this._fields[t][0],s=this._fields[t][1],r=this.length*s,a=new this[n].constructor(r);this[n].length>r?a.set(this[n].subarray(0,r)):a.set(this[n]),this[n]=a}},ji.prototype.growIfFull=function(){if(this.count>=this.length){var e=Math.round(1.5*this.length);this.resize(Math.max(256,e))}},ji.prototype.copyFrom=function(e,t,i,n){for(var s=0,r=this._fields.length;s<r;++s)for(var a=this._fields[s][0],o=this._fields[s][1],c=this[a],p=e[a],f=0;f<n;++f)for(var l=o*(t+f),u=o*(i+f),m=0;m<o;++m)c[l+m]=p[u+m]},ji.prototype.copyWithin=function(e,t,i){for(var n=0,s=this._fields.length;n<s;++n)for(var r=this._fields[n][0],a=this._fields[n][1],o=this[r],c=0;c<i;++c)for(var p=a*(e+c),f=a*(t+c),l=0;l<a;++l)o[p+l]=o[f+l]},ji.prototype.sort=function(e){de.time("Store.sort");var t=this,i=new this.constructor(1);(function n(s,r){if(s<r){var a=Math.floor((s+r)/2),o=s,c=r;do{for(;e(o,a)<0;)o+=1;for(;e(c,a)>0;)c-=1;o<=c&&(o===a?a=c:c===a&&(a=o),(p=o)!==(f=c)&&(i.copyFrom(t,0,p,1),t.copyWithin(p,f,1),t.copyFrom(i,f,0,1)),o+=1,c-=1)}while(o<=c);n(s,c),n(o,r)}var p,f})(0,this.count-1),de.timeEnd("Store.sort")},ji.prototype.clear=function(){this.count=0},ji.prototype.dispose=function(){for(var e=0,t=this._fields.length;e<t;++e)delete this[this._fields[e][0]]},Object.defineProperties(ji.prototype,X2);var fT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["index1",1,"int32"],["index2",1,"int32"],["type",1,"int8"]]},t.prototype.addContact=function(n,s,r){this.growIfFull();var a=this.count;n<s?(this.index1[a]=n,this.index2[a]=s):(this.index2[a]=n,this.index1[a]=s),r&&(this.type[a]=r),this.count+=1},Object.defineProperties(t.prototype,i),t}(ji);function $0(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}var dt=function(e,t){this.length=e,this._words=new Uint32Array(e+32>>>5),t===!0&&this.setAll()};function z4(e){for(var t=e.edgeCount,i=e.nodeCount,n=e.nodeArray1,s=e.nodeArray2,r=new Uint8Array(i),a=new Int32Array(i),o=0;o<t;++o)r[n[o]]+=1,r[s[o]]+=1;for(var c=1;c<i;++c)a[c]+=a[c-1]+r[c-1];for(var p=2*t,f=new Int32Array(p),l=0;l<p;++l)f[l]=-1;for(var u=0;u<t;++u){for(var m=n[u],d=s[u],y=a[m];f[y]!==-1&&y<p;)y+=1;f[y]=u;for(var _=a[d];f[_]!==-1&&_<p;)_+=1;f[_]=u}return{countArray:r,offsetArray:a,indexArray:f}}function Vi(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),{type:e,group:t,x:0,y:0,z:0,atomSet:[]}}function Mi(e,t){e.x+=t.x,e.y+=t.y,e.z+=t.z,e.atomSet.push(t.index)}function Ai(e,t){var i=t.atomSet.length;if(i>0){var n=e.types,s=e.groups,r=e.centers,a=e.atomSets;n.push(t.type),s.push(t.group),r.x.push(t.x/i),r.y.push(t.y/i),r.z.push(t.z/i),a.push(t.atomSet)}}dt.prototype.get=function(e){return(this._words[e>>>5]&1<<e)!=0},dt.prototype.set=function(e){this._words[e>>>5]|=1<<e},dt.prototype.clear=function(e){this._words[e>>>5]&=~(1<<e)},dt.prototype.flip=function(e){this._words[e>>>5]^=1<<e},dt.prototype._assignRange=function(e,t,i){if(!(t<e)){for(var n=this._words,s=i===!0?4294967295:0,r=e>>>5,a=t>>>5,o=r+1;o<a;++o)n[o]=s;var c=r<<5,p=a<<5;if(i===!0)if(t-e<32)for(var f=e,l=t+1;f<l;++f)n[f>>>5]|=1<<f;else{for(var u=e,m=c+32;u<m;++u)n[u>>>5]|=1<<u;for(var d=p,y=t+1;d<y;++d)n[d>>>5]|=1<<d}else if(t-e<32)for(var _=e,h=t+1;_<h;++_)n[_>>>5]&=~(1<<_);else{for(var g=e,E=c+32;g<E;++g)n[g>>>5]&=~(1<<g);for(var w=p,v=t+1;w<v;++w)n[w>>>5]&=~(1<<w)}return this}},dt.prototype.setRange=function(e,t){return this._assignRange(e,t,!0)},dt.prototype.clearRange=function(e,t){return this._assignRange(e,t,!1)},dt.prototype.setBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=this._words,n=e.length,s=0;s<n;++s){var r=e[s];i[r>>>5]|=1<<r}return this},dt.prototype.clearBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=this._words,n=e.length,s=0;s<n;++s){var r=e[s];i[r>>>5]&=~(1<<r)}return this},dt.prototype.setAll=function(){return this._assignRange(0,this.length-1,!0)},dt.prototype.clearAll=function(){return this._assignRange(0,this.length-1,!1)},dt.prototype.flipAll=function(){for(var e=this._words.length,t=this._words,i=32-this.length%32,n=0;n<e-1;++n)t[n]=~t[n];return t[e-1]=~(t[e-1]<<i)>>>i,this},dt.prototype._isRangeValue=function(e,t,i){if(!(t<e)){for(var n=this._words,s=i===!0?4294967295:0,r=e>>>5,a=t>>>5,o=r+1;o<a;++o)if(n[o]!==s)return!1;if(t-e<32){for(var c=e,p=t+1;c<p;++c)if(!!(n[c>>>5]&1<<c)!==i)return!1}else{for(var f=a<<5,l=e,u=(r<<5)+32;l<u;++l)if(!!(n[l>>>5]&1<<l)!==i)return!1;for(var m=f,d=t+1;m<d;++m)if(!!(n[m>>>5]&1<<m)!==i)return!1}return!0}},dt.prototype.isRangeSet=function(e,t){return this._isRangeValue(e,t,!0)},dt.prototype.isRangeClear=function(e,t){return this._isRangeValue(e,t,!1)},dt.prototype.isAllSet=function(){return this._isRangeValue(0,this.length-1,!0)},dt.prototype.isAllClear=function(){return this._isRangeValue(0,this.length-1,!1)},dt.prototype.isSet=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=this._words,n=e.length,s=0;s<n;++s){var r=e[s];if((i[r>>>5]&1<<r)==0)return!1}return!0},dt.prototype.isClear=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=this._words,n=e.length,s=0;s<n;++s){var r=e[s];if((i[r>>>5]&1<<r)!=0)return!1}return!0},dt.prototype.isEqualTo=function(e){for(var t=this._words,i=e._words,n=Math.min(t.length,i.length),s=0;s<n;++s)if(t[s]!==i[s])return!1;return!0},dt.prototype.getSize=function(){for(var e=this._words.length,t=this._words,i=0,n=0;n<e;++n)i+=$0(t[n]);return i},dt.prototype.difference=function(e){for(var t=this._words,i=e._words,n=Math.min(t.length,i.length),s=0;s<n;++s)t[s]=t[s]&~i[s];for(var r=t.length;r<n;++r)t[r]=0;return this},dt.prototype.union=function(e){for(var t=this._words,i=e._words,n=Math.min(t.length,i.length),s=0;s<n;++s)t[s]|=i[s];for(var r=t.length;r<n;++r)t[r]=0;return this},dt.prototype.intersection=function(e){for(var t=this._words,i=e._words,n=Math.min(t.length,i.length),s=0;s<n;++s)t[s]&=i[s];for(var r=t.length;r<n;++r)t[r]=0;return this},dt.prototype.intersects=function(e){for(var t=this._words,i=e._words,n=Math.min(t.length,i.length),s=0;s<n;++s)if((t[s]&i[s])!=0)return!0;return!1},dt.prototype.getIntersectionSize=function(e){for(var t=this._words,i=e._words,n=Math.min(t.length,i.length),s=0,r=0;r<n;++r)s+=$0(t[r]&i[r]);return s},dt.prototype.makeIntersection=function(e){var t=this._words,i=e._words,n=Math.min(t.length,i.length),s=new Uint32Array(n),r=Object.create(dt.prototype);r._words=s,r.length=Math.min(this.length,e.length);for(var a=0;a<n;++a)s[a]=t[a]&i[a];return r},dt.prototype.forEach=function(e){for(var t=this._words.length,i=this._words,n=0,s=0;s<t;++s)for(var r=i[s];r!==0;){var a=r&-r;e((s<<5)+$0(a-1),n),r^=a,++n}},dt.prototype.toArray=function(){for(var e=this._words,t=new Array(this.getSize()),i=this._words.length,n=0,s=0;s<i;++s)for(var r=e[s];r!==0;){var a=r&-r;t[n++]=(s<<5)+$0(a-1),r^=a}return t},dt.prototype.toString=function(){return"{"+this.toArray().join(",")+"}"},dt.prototype.toSeleString=function(){var e=this.toArray().join(",");return e?"@"+e:"NONE"},dt.prototype.clone=function(){var e=Object.create(dt.prototype);return e.length=this.length,e._words=new Uint32Array(this._words),e};var lT=["D-BETA-PEPTIDE, C-GAMMA LINKING","D-GAMMA-PEPTIDE, C-DELTA LINKING","D-PEPTIDE COOH CARBOXY TERMINUS","D-PEPTIDE NH3 AMINO TERMINUS","D-PEPTIDE LINKING","L-BETA-PEPTIDE, C-GAMMA LINKING","L-GAMMA-PEPTIDE, C-DELTA LINKING","L-PEPTIDE COOH CARBOXY TERMINUS","L-PEPTIDE NH3 AMINO TERMINUS","L-PEPTIDE LINKING","PEPTIDE LINKING","PEPTIDE-LIKE"],uT=["RNA OH 3 PRIME TERMINUS","RNA OH 5 PRIME TERMINUS","RNA LINKING"],mT=["DNA OH 3 PRIME TERMINUS","DNA OH 5 PRIME TERMINUS","DNA LINKING","L-DNA LINKING","L-RNA LINKING"],H4=["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","SACCHARIDE"],dT=["NON-POLYMER"].concat(["OTHER"],H4),U4=["h","g","i"],W4=["e","b"],j4=["s","t","l",""],hT={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109,DS:110,RG:111,CN:112,NH:113,FL:114,MC:115,LV:116,TS:117,OG:118},_T={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:2,114:2,115:2,116:2,117:2,118:2},yT={1:.31,2:.28,3:1.28,4:.96,5:.84,6:.76,7:.71,8:.66,9:.57,10:.58,11:1.66,12:1.41,13:1.21,14:1.11,15:1.07,16:1.05,17:1.02,18:1.06,19:2.03,20:1.76,21:1.7,22:1.6,23:1.53,24:1.39,25:1.39,26:1.32,27:1.26,28:1.24,29:1.32,30:1.22,31:1.22,32:1.2,33:1.19,34:1.2,35:1.2,36:1.16,37:2.2,38:1.95,39:1.9,40:1.75,41:1.64,42:1.54,43:1.47,44:1.46,45:1.42,46:1.39,47:1.45,48:1.44,49:1.42,50:1.39,51:1.39,52:1.38,53:1.39,54:1.4,55:2.44,56:2.15,57:2.07,58:2.04,59:2.03,60:2.01,61:1.99,62:1.98,63:1.98,64:1.96,65:1.94,66:1.92,67:1.92,68:1.89,69:1.9,70:1.87,71:1.87,72:1.75,73:1.7,74:1.62,75:1.51,76:1.44,77:1.41,78:1.36,79:1.36,80:1.32,81:1.45,82:1.46,83:1.48,84:1.4,85:1.5,86:1.5,87:2.6,88:2.21,89:2.15,90:2.06,91:2,92:1.96,93:1.9,94:1.87,95:1.8,96:1.69,97:1.6,98:1.6,99:1.6,100:1.6,101:1.6,102:1.6,103:1.6,104:1.6,105:1.6,106:1.6,107:1.6,108:1.6,109:1.6,110:1.6,111:1.6,112:1.6,113:1.6,114:1.6,115:1.6,116:1.6,117:1.6,118:1.6},Z2={1:[1],2:[0],3:[1],4:[2],5:[3],6:[4],7:[3],8:[2],9:[1],10:[0],11:[1],12:[2],13:[6],14:[6],15:[3,5,7],16:[2,4,6],17:[1],18:[0],19:[1],20:[2],31:[3],32:[4],33:[3,5],34:[2,4,6],35:[1],36:[0],37:[1],38:[2],49:[3],50:[4],51:[3,5],52:[2],53:[1,2,5],54:[0,2],55:[1],56:[2],81:[3],82:[4],83:[3],84:[2],85:[1],86:[0],87:[1],88:[2]},gT={1:1,2:2,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:1,20:2,21:3,22:4,23:5,24:6,25:7,26:8,27:9,28:10,29:11,30:2,31:3,32:4,33:5,34:6,35:7,36:8,37:1,38:2,39:3,40:4,41:5,42:6,43:7,44:8,45:9,46:10,47:11,48:2,49:3,50:4,51:5,52:6,53:7,54:8,55:1,56:2,57:3,58:4,59:3,60:4,61:5,62:6,63:7,64:8,65:9,66:10,67:11,68:12,69:13,70:14,71:15,72:4,73:5,74:6,75:7,76:8,77:9,78:10,79:11,80:2,81:3,82:4,83:5,84:6,85:7,86:8,87:1,88:2,89:3,90:4,91:3,92:4,93:5,94:6,95:7,96:8,97:9,98:10,99:11,100:12,101:13,102:14,103:15,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:3,114:4,115:5,116:6,117:7,118:8},eg={ALA:[.17,.5,.33],ARG:[.81,1.81,1],ASN:[.42,.85,.43],ASP:[1.23,3.64,2.41],ASH:[-.07,.43,.5],CYS:[-.24,-.02,.22],GLN:[.58,.77,.19],GLU:[2.02,3.63,1.61],GLH:[-.01,.11,.12],GLY:[.01,1.15,1.14],HIS:[.17,.11,-.06],ILE:[-.31,-1.12,-.81],LEU:[-.56,-1.25,-.69],LYS:[.99,2.8,1.81],MET:[-.23,-.67,-.44],PHE:[-1.13,-1.71,-.58],PRO:[.45,.14,-.31],SER:[.13,.46,.33],THR:[.14,.25,.11],TRP:[-1.85,-2.09,-.24],TYR:[-.94,-.71,.23],VAL:[.07,-.46,-.53]},wT=[0,0,0],Du={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O"},rc=Object.keys(Du),$4=["A","C","T","G","U","I"],K4=["DA","DC","DT","DG","DU","DI"],ET=["A","G","I","DA","DG","DI"],Op=$4.concat(K4),Gu=["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP3","TIP4","SPC"],vT=["118","119","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","543","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MLT","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","NCO","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","OHX"],bT=["045","0AT","0BD","0MK","0NZ","0TS","0V4","0XY","0YT","10M","147","149","14T","15L","16G","18T","18Y","1AR","1BW","1GL","1GN","1JB","1LL","1NA","1S3","26M","26Q","26R","26V","26W","26Y","27C","289","291","293","2DG","2F8","2FG","2FL","2FP","2GL","2M4","2M5","32O","34V","3CM","3DO","3DY","3FM","3LR","3MF","3MG","3SA","3ZW","46D","46M","46Z","48Z","4CQ","4GC","4NN","50A","5DI","5GF","5MM","5RP","5SA","5SP","64K","6PG","6SA","7JZ","7SA","A1Q","A2G","AAB","AAL","AAO","ABC","ABD","ABE","ABF","ABL","ACG","ACI","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AHR","AIG","ALL","ALX","AMU","AOG","AOS","ARA","ARB","ARE","ARI","ASG","ASO","AXP","AXR","B0D","B16","B2G","B4G","B6D","B8D","B9D","BBK","BCD","BDG","BDP","BDR","BEM","BFP","BGC","BGL","BGP","BGS","BHG","BMA","BMX","BNG","BNX","BOG","BRI","BXF","BXP","BXX","BXY","C3X","C4X","C5X","CAP","CBI","CBK","CBS","CDR","CEG","CGF","CHO","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D6G","DAF","DAG","DDA","DDB","DDL","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGS","DIG","DLF","DLG","DMU","DNO","DOM","DP5","DQQ","DQR","DR2","DR3","DR4","DRI","DSR","DT6","DVC","E4P","E5G","EAG","EBG","EBQ","EGA","EJT","EPG","ERE","ERI","F1P","F1X","F6P","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FIX","FMO","FRU","FSI","FU4","FUB","FUC","FUD","FUL","FXP","G16","G1P","G2F","G3I","G4D","G4S","G6D","G6P","G6S","GAC","GAD","GAL","GC1","GC4","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GCX","GE1","GFG","GFP","GIV","GL0","GL2","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GMH","GN1","GNX","GP1","GP4","GPH","GPM","GQ1","GQ2","GQ4","GS1","GS4","GSA","GSD","GTE","GTH","GTK","GTR","GTZ","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUP","GUZ","GYP","GYV","H2P","HDL","HMS","HS2","HSD","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","IAB","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IMK","IN1","IPT","ISL","KBG","KD2","KDA","KDM","KDO","KFN","KO1","KO2","KTU","L6S","LAG","LAI","LAK","LAO","LAT","LB2","LBT","LCN","LDY","LGC","LGU","LM2","LMT","LMU","LOG","LOX","LPK","LSM","LTM","LVZ","LXB","LXZ","M1F","M3M","M6P","M8C","MA1","MA2","MA3","MAB","MAG","MAL","MAN","MAT","MAV","MAW","MBG","MCU","MDA","MDM","MDP","MFA","MFB","MFU","MG5","MGA","MGL","MLB","MMA","MMN","MN0","MRP","MTT","MUG","MVP","MXY","N1L","N9S","NAA","NAG","NBG","NDG","NED","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGL","NGS","NGY","NHF","NM6","NM9","NTF","NTO","NTP","NXD","NYT","OPG","OPM","ORP","OX2","P3M","P53","P6P","PA5","PNA","PNG","PNW","PRP","PSJ","PSV","PTQ","QDK","QPS","QV4","R1P","R1X","R2B","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RIB","RIP","RNS","RNT","ROB","ROR","RPA","RST","RUB","RUU","RZM","S6P","S7P","SA0","SCR","SDD","SF6","SF9","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHG","SI3","SIO","SOE","SOL","SSG","SUC","SUP","SUS","T6P","T6T","TAG","TCB","TDG","TGK","TGY","TH1","TIA","TM5","TM6","TM9","TMR","TMX","TOA","TOC","TRE","TYV","UCD","UDC","VG1","X0X","X1X","X2F","X4S","X5S","X6X","XBP","XDN","XDP","XIF","XIM","XLF","XLS","XMM","XUL","XXR","XYP","XYS","YO5","Z3Q","Z6J","Z9M","ZDC","ZDM"],xT=["CA","C","N","O","O1","O2","OC1","OC2","OX1","OXT","OT1","OT2","H","H1","H2","H3","HA","HN","BB"],Y4=["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"],cs={};function K0(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 8}}cs[1]={trace:"CA",direction1:"C",direction2:["O","OC1","O1","OX1","OXT","OT1","OT2"],backboneStart:"N",backboneEnd:"C"},cs[2]={trace:["C4'","C4*"],direction1:["C1'","C1*"],direction2:["C3'","C3*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},cs[3]={trace:["C3'","C3*"],direction1:["C2'","C2*"],direction2:["O4'","O4*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},cs[4]={trace:["CA","BB"],backboneStart:["CA","BB"],backboneEnd:["CA","BB"]},cs[5]={trace:["C4'","C4*","P"],backboneStart:["C4'","C4*","P"],backboneEnd:["C4'","C4*","P"]},cs[6]={trace:["C3'","C3*","C2'","P"],backboneStart:["C3'","C3*","C2'","P"],backboneEnd:["C3'","C3*","C2'","P"]},cs[0]={};var tg=new Map([[2,gi(180)],[3,gi(120)],[4,gi(109.4721)],[6,gi(90)]]);function Y0(e,t){var i=[],n=new P,s=new P;return n.subVectors(t,e),e.eachBondedAtom(function(r){r.number!==1&&(s.subVectors(r,e),i.push(n.angleTo(s)))}),i}function ig(e,t){var i=e.clone(),n=new P;n.subVectors(t,e);var s=[new P,new P],r=0;if(e.eachBondedAtom(function(o){r>1||o.number!==1&&(i.index=o.index,s[r++].subVectors(o,e))}),r===1&&i.eachBondedAtom(function(o){r>1||o.number!==1&&o.index!==e.index&&s[r++].subVectors(o,e)}),r===2){var a=s[0].cross(s[1]);return Math.abs(Math.PI/2-a.angleTo(n))}}function ST(e,t){var i=e.structure,n=i.atomCount,s=new Int8Array(n),r=new Int8Array(n),a=new Int8Array(n),o=new Int8Array(n);return i.eachAtom(function(c){var p=c.index,f=function(y,_){var h=y.bondToElementCount(1),g=y.formalCharge||0,E=_.assignCharge==="always"||_.assignCharge==="auto"&&g===0,w=_.assignH==="always"||_.assignH==="auto"&&h===0,v=y.bondCount,x=function(N){var D=0;return N.eachBond(function(L){return D+=L.bondOrder}),D}(y),b=function(N){var D=N.structure.getBondProxy(),L=N.number,C=L===8||L===7;if(C&&N.bondCount===4)return!1;var O=!1;return N.eachBond(function(q){if(q.bondOrder>1)O=!0;else if(C){var z=q.getOtherAtom(N);z.eachBond(function($){if($.bondOrder>1){var re=z.number;if((re===15||re===16)&&$.getOtherAtom(z).number===8)return;O=!0}},D)}}),O}(y),A=x-v>0,M=0,G=8;switch(y.number){case 1:E&&(v===0?(g=1,G=0):v===1&&(g=0,G=1));break;case 6:E&&(g=0),w&&(M=Math.max(0,4-x-Math.abs(g))),G=K0(v+M+Math.max(0,-g));break;case 7:if(E)if(w)if(b&&x<4)g=v-h==1&&x-h==2?1:0;else{var T=!1;y.eachBondedAtom(function(N){(N.number===16||N.isMetal())&&(T=!0)}),g=T?0:1}else g=x-3;w&&(M=Math.max(0,3-x+g)),G=K0(b&&!A?v+M-g:v+M+1-g);break;case 8:E&&(w||(g=x-2),x===1&&y.eachBondedAtom(function(N){N.eachBond(function(D){var L=D.getOtherAtom(N);L.index!==y.index&&L.number===8&&D.bondOrder===2&&(g=-1)})})),w&&(M=Math.max(0,2-x+g)),G=K0(b&&!A?v+M-g+1:v+M-g+2);break;case 16:E&&(w||(g=x<=3&&!y.bondToElementCount(8)?x-2:0)),w&&x<2&&(M=Math.max(0,2-x+g)),x<=3&&(G=K0(v+M-g+2));break;case 9:case 17:case 35:case 53:case 85:E&&(g=x-1);break;case 3:case 11:case 19:case 37:case 55:case 87:E&&(g=1-x);break;case 4:case 12:case 20:case 38:case 56:case 88:E&&(g=2-x);break;default:console.warn("Requested charge, protonation for an unhandled element",y.element)}return[g,M,M+h,G]}(c,t),l=f[0],u=f[1],m=f[2],d=f[3];s[p]=l,r[p]=u,a[p]=m,o[p]=d}),{charge:s,implicitH:r,totalH:a,idealGeometry:o}}function Oo(e){if(e["@valenceModel"])return e["@valenceModel"];var t=ST(e,{assignCharge:"auto",assignH:"auto"});return e["@valenceModel"]=t,t}function ng(e){return e.number===15&&e.bondToElementCount(8)===e.bondCount}var MT=["ARG","HIS","LYS"],AT=["GLU","ASP"];function CT(e,t,i){i===void 0&&(i={});for(var n=R(i.maxIonicDist,di.maxIonicDist),s=R(i.maxPiStackingDist,di.maxPiStackingDist),r=R(i.maxPiStackingOffset,di.maxPiStackingOffset),a=R(i.maxPiStackingAngle,di.maxPiStackingAngle),o=R(i.maxCationPiDist,di.maxCationPiDist),c=R(i.maxCationPiOffset,di.maxCationPiOffset),p=R(i.masterModelIndex,di.masterModelIndex),f=Math.max(n+2,s,o),l=s*s,u=o*o,m=t.features,d=t.spatialHash,y=t.contactStore,_=t.featureSet,h=m.types,g=m.centers,E=m.atomSets,w=g.x,v=g.y,x=g.z,b=h.length,A=e.atomStore.x,M=e.atomStore.y,G=e.atomStore.z,T=e.getAtomProxy(),N=e.getAtomProxy(),D=new P,L=new P,C=new P,O=new P,q=new P,z=new P,$=new P,re=function(fe,X){D.set(A[fe[0]],M[fe[0]],G[fe[0]]),L.set(A[fe[1]],M[fe[1]],G[fe[1]]),C.set(A[fe[2]],M[fe[2]],G[fe[2]]),O.subVectors(D,L),q.subVectors(D,C),X.crossVectors(O,q)},K=function(fe,X,ae){return D.set(w[fe],v[fe],x[fe]),L.set(w[X],v[X],x[X]),D.sub(L).projectOnPlane(ae).add(L).distanceTo(L)},J=function(fe,X,ae){_.setBits(fe,X),y.addContact(fe,X,ae)},Y=function(fe){d.eachWithin(w[fe],v[fe],x[fe],f,function(X,ae){if(!(X<=fe||(T.index=E[fe][0],N.index=E[X][0],Ip(T,N,p)))){var ne=h[fe],pe=h[X];if(function(ue,he){return ue===2&&he===1||ue===1&&he===2}(ne,pe))(function(ue,he,ge){for(var k=ue.length,H=he.length,me=0;me<k;++me){T.index=ue[me];for(var oe=0;oe<H;++oe)if(N.index=he[oe],T.distanceTo(N)<=ge)return!0}return!1})(E[fe],E[X],n)&&J(fe,X,1);else if(function(ue,he){return ue===3&&he===3}(ne,pe)){if(ae<=l){re(E[fe],z),re(E[X],$);var U=57.29578*z.angleTo($);Math.min(K(fe,X,$),K(X,fe,z))<=r&&(U<=a||U>=180-a||U<=a+90&&U>=90-a)&&J(fe,X,3)}}else if(function(ue,he){return ue===3&&he===1||ue===1&&he===3}(ne,pe)&&ae<=u){var W=ne===3?[fe,X]:[X,fe],Z=W[0],ie=W[1];re(E[Z],z),K(ie,Z,z)<=c&&J(Z,ie,2)}}})},le=0;le<b;++le)Y(le)}function sg(e){return e.resname==="HIS"&&e.number==7&&e.isRing()}var PT=[3,11,19,37,55,12,20,38,56,13,31,49,81,21,50,82,83,51,80],TT=[17,35,53,85],IT=[7,8,16],LT=[6,7,15,16],FT=gi(180),RT=gi(120);function rg(e,t,i){return!J4(e,t,i)&&(e.modelIndex!==t.modelIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}var di={maxHydrophobicDist:4,maxHbondDist:3.5,maxHbondSulfurDist:4.1,maxHbondAccAngle:45,maxHbondDonAngle:45,maxHbondAccPlaneAngle:90,maxHbondDonPlaneAngle:30,maxPiStackingDist:5.5,maxPiStackingOffset:2,maxPiStackingAngle:30,maxCationPiDist:6,maxCationPiOffset:2,maxIonicDist:5,maxHalogenBondDist:4,maxHalogenBondAngle:30,maxMetalDist:3,refineSaltBridges:!0,masterModelIndex:-1,lineOfSightDistFactor:1};function J4(e,t,i){return e.modelIndex===i&&t.modelIndex!==i||t.modelIndex===i&&e.modelIndex!==i}function Ip(e,t,i){return!J4(e,t,i)&&(e.modelIndex!==t.modelIndex||e.residueIndex===t.residueIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}function NT(e){var t={types:[],groups:[],centers:{x:[],y:[],z:[]},atomSets:[]};return Ce&&de.time("calculateFeatures"),function(i,n){var s=Oo(i.data).charge,r={};i.eachResidue(function(a){if(MT.includes(a.resname)){var o=Vi(1);a.eachAtom(function(c){c.number===7&&c.isSidechain()&&Mi(o,c)}),Ai(n,o)}else rc.includes(a.resname)||a.isNucleic()||(a.eachAtom(function(c){var p=!1,f=Vi(1);(function(l){var u=0;return l.number===6&&l.bondCount===3&&l.bondToElementCount(7)===3&&l.eachBondedAtom(function(m){m.bondCount-m.bondToElementCount(1)==1&&++u}),u===2})(c)?(f.group=8,p=!0):function(l){var u=0;return l.number===6&&l.bondCount===3&&l.bondToElementCount(7)===2&&l.bondToElementCount(6)===1&&l.eachBondedAtom(function(m){m.bondCount-m.bondToElementCount(1)==1&&++u}),u===2}(c)&&(f.group=9,p=!0),p&&(c.eachBondedAtom(function(l){l.number===7&&(r[l.index]=!0,Mi(f,l))}),Ai(n,f))}),a.eachAtom(function(c){var p=Vi(1);s[c.index]>0&&(r[c.index]||(Mi(p,c),Ai(n,p)))}))})}(e,t),function(i,n){var s=Oo(i.data).charge,r={};i.eachResidue(function(a){if(AT.includes(a.resname)){var o=Vi(2);a.eachAtom(function(p){p.number===8&&p.isSidechain()&&Mi(o,p)}),Ai(n,o)}else if(Op.includes(a.resname)){var c=Vi(2);a.eachAtom(function(p){ng(p)&&(c.group=6,p.eachBondedAtom(function(f){f.number===8&&Mi(c,f)}),Ai(n,c))})}else rc.includes(a.resname)||Op.includes(a.resname)||(a.eachAtom(function(p){var f=!1,l=Vi(2);(function(u){return u.number===16&&u.bondToElementCount(8)===3})(p)?(l.group=4,f=!0):ng(p)?(l.group=6,f=!0):function(u){return u.number===16&&u.bondToElementCount(8)===4}(p)?(l.group=5,f=!0):function(u){var m=0;return u.number===6&&u.bondToElementCount(8)===2&&u.bondToElementCount(6)===1&&u.eachBondedAtom(function(d){d.number===8&&d.bondCount-d.bondToElementCount(1)==1&&++m}),m===2}(p)&&(l.group=10,f=!0),f&&(p.eachBondedAtom(function(u){u.number===8&&(r[u.index]=!0,Mi(l,u))}),Ai(n,l))}),a.eachAtom(function(p){var f=Vi(2);s[p.index]<0&&(r[p.index]||(Mi(f,p),Ai(n,f)))}))})}(e,t),function(i,n){var s=i.getAtomProxy();i.eachResidue(function(r){var a=r.getAromaticRings();if(a){var o=r.atomOffset;a.forEach(function(c){var p=Vi(3);c.forEach(function(f){s.index=f+o,Mi(p,s)}),Ai(n,p)})}})}(e,t),function(i,n){var s=Oo(i.data),r=s.charge,a=s.implicitH,o=s.idealGeometry;i.eachAtom(function(c){var p=Vi(5),f=c.number;if(f===8)Mi(p,c),Ai(n,p);else if(f===7){if(sg(c))Mi(p,c),Ai(n,p);else if(r[c.index]<1){var l=c.bondCount+a[c.index],u=o[c.index];(u===4&&l<4||u===3&&l<3||u===2&&l<2)&&(Mi(p,c),Ai(n,p))}}else f===16&&(c.resname!=="CYS"&&c.resname!=="MET"&&c.formalCharge!==-1||(Mi(p,c),Ai(n,p)))})}(e,t),function(i,n){var s=Oo(i.data).totalH;i.eachAtom(function(r){var a=Vi(4),o=r.number;(sg(r)||s[r.index]>0&&(o===7||o===8||o===16))&&(Mi(a,r),Ai(n,a))})}(e,t),function(i,n){var s=Oo(i.data).totalH;i.eachAtom(function(r){if(r.number===6&&s[r.index]>0&&(r.bondToElementCount(7)>0||r.bondToElementCount(8)>0||function(o){if(!o.isAromatic())return!1;var c=o.residueType.getRings();if(!c)return!1;var p=!1;return c.rings.forEach(function(f){p||f.some(function(l){return o.index-o.residueAtomOffset===l})&&(p=f.some(function(l){var u=o.residueType.atomTypeIdList[l],m=o.atomMap.get(u).number;return m===7||m===8}))}),p}(r))){var a=Vi(9);Mi(a,r),Ai(n,a)}})}(e,t),function(i,n){i.eachAtom(function(s){var r=!1,a=!1,o=rc.includes(s.resname),c=Op.includes(s.resname);if(o||c?o?s.number===8?(["ASP","GLU","SER","THR","TYR","ASN","GLN"].includes(s.resname)&&s.isSidechain()||s.isBackbone())&&(r=!0,a=!0):s.number===16&&s.resname==="CYS"?(r=!0,a=!0):s.number===7&&s.resname==="HIS"&&s.isSidechain()&&(r=!0):c&&(s.number===8&&s.isBackbone()?(r=!0,a=!0):["N3","N4","N7"].includes(s.atomname)?r=!0:["O2","O4","O6"].includes(s.atomname)&&(r=!0,a=!0)):s.isHalogen()||s.number===8||s.number===16?(r=!0,a=!0):s.number===7&&(r=!0),r){var p=Vi(11);Mi(p,s),Ai(n,p)}if(a){var f=Vi(10);Mi(f,s),Ai(n,f)}})}(e,t),function(i,n){i.eachAtom(function(s){if(s.isTransitionMetal()||s.number===30||s.number===48){var r=Vi(12);Mi(r,s),Ai(n,r)}else if(PT.includes(s.number)){var a=Vi(13);Mi(a,s),Ai(n,a)}})}(e,t),function(i,n){i.eachAtom(function(s){var r=Vi(8),a=!1;s.number===6?(a=!0,s.eachBondedAtom(function(o){var c=o.number;c!==6&&c!==1&&(a=!1)})):s.number===9&&(a=!0),a&&(Mi(r,s),Ai(n,r))})}(e,t),function(i,n){i.eachAtom(function(s){if(IT.includes(s.number)){var r=!1;if(s.eachBondedAtom(function(o){LT.includes(o.number)&&(r=!0)}),r){var a=Vi(7);Mi(a,s),Ai(n,a)}}})}(e,t),function(i,n){i.eachAtom(function(s){if(TT.includes(s.number)&&s.bondToElementCount(6)===1){var r=Vi(6);Mi(r,s),Ai(n,r)}})}(e,t),Ce&&de.timeEnd("calculateFeatures"),t}function DT(e,t){t===void 0&&(t=di);var i=function(s){var r=s.types,a=s.centers;return{features:s,spatialHash:new io(a),contactStore:new fT,featureSet:new dt(r.length,!1)}}(NT(e));Ce&&de.time("calculateContacts"),CT(e,i,t),function(s,r,a){a===void 0&&(a={});for(var o=R(a.maxHbondDist,di.maxHbondDist),c=R(a.maxHbondSulfurDist,di.maxHbondSulfurDist),p=gi(R(a.maxHbondAccAngle,di.maxHbondAccAngle)),f=gi(R(a.maxHbondDonAngle,di.maxHbondDonAngle)),l=gi(R(a.maxHbondAccPlaneAngle,di.maxHbondAccPlaneAngle)),u=gi(R(a.maxHbondDonPlaneAngle,di.maxHbondDonPlaneAngle)),m=R(a.masterModelIndex,di.masterModelIndex),d=Math.max(o,c),y=o*o,_=r.features,h=r.spatialHash,g=r.contactStore,E=r.featureSet,w=_.types,v=_.centers,x=_.atomSets,b=v.x,A=v.y,M=v.z,G=w.length,T=Oo(s.data).idealGeometry,N=s.getAtomProxy(),D=s.getAtomProxy(),L=function(O){h.eachWithin(b[O],A[O],M[O],d,function(q,z){if(!(q<=O)){var $=w[O],re=w[q],K=function(ue,he){return ue===9&&he===5||ue===5&&he===9}($,re);if(K||function(ue,he){return ue===5&&he===4||ue===4&&he===5}($,re)){var J=re===5?[O,q]:[q,O],Y=J[0],le=J[1];if(N.index=x[Y][0],D.index=x[le][0],D.index!==N.index&&!Ip(N,D,m)&&!(N.number!==16&&D.number!==16&&z>y||N.connectedTo(D))){var fe=Y0(N,D),X=tg.get(T[N.index])||gi(120);if(!fe.some(function(ue){return Math.abs(X-ue)>f})){if(T[N.index]===3){var ae=ig(N,D);if(ae!==void 0&&ae>u)return}var ne=Y0(D,N),pe=tg.get(T[D.index])||gi(120);if(!ne.some(function(ue){return pe-ue>p})){if(T[D.index]===3){var U=ig(D,N);if(U!==void 0&&U>l)return}E.setBits(Y,le);var W,Z,ie=K?8:function(ue,he){return ue.isWater()&&he.isWater()}(W=N,Z=D)?9:function(ue,he){return ue.isBackbone()&&he.isBackbone()}(W,Z)?10:4;g.addContact(Y,le,ie)}}}}}})},C=0;C<G;++C)L(C)}(e,i,t),function(s,r,a){a===void 0&&(a={});for(var o=R(a.maxMetalDist,di.maxMetalDist),c=R(a.masterModelIndex,di.masterModelIndex),p=r.features,f=r.spatialHash,l=r.contactStore,u=r.featureSet,m=p.types,d=p.centers,y=p.atomSets,_=d.x,h=d.y,g=d.z,E=m.length,w=s.getAtomProxy(),v=s.getAtomProxy(),x=function(A){f.eachWithin(_[A],h[A],g[A],o,function(M,G){if(!(M<=A||(w.index=y[A][0],v.index=y[M][0],Ip(w,v,c)))){var T=w.isMetal(),N=v.isMetal();if(T||N){var D=T?[m[A],m[M]]:[m[M],m[A]];L=D[0],C=D[1],(L===12?C===11||C===12:L===13?C===10:void 0)&&(u.setBits(A,M),l.addContact(A,M,7))}}var L,C})},b=0;b<E;++b)x(b)}(e,i,t),function(s,r,a){a===void 0&&(a={});for(var o=R(a.maxHydrophobicDist,di.maxHydrophobicDist),c=R(a.masterModelIndex,di.masterModelIndex),p=r.features,f=r.spatialHash,l=r.contactStore,u=r.featureSet,m=p.types,d=p.centers,y=p.atomSets,_=d.x,h=d.y,g=d.z,E=m.length,w=s.getAtomProxy(),v=s.getAtomProxy(),x=function(A){f.eachWithin(_[A],h[A],g[A],o,function(M,G){var T,N;M<=A||(w.index=y[A][0],v.index=y[M][0],Ip(w,v,c)||w.number===9&&v.number===9||w.connectedTo(v)||(T=m[A],N=m[M],T===8&&N===8&&(u.setBits(A,M),l.addContact(A,M,6))))})},b=0;b<E;++b)x(b)}(e,i,t),function(s,r,a){a===void 0&&(a={});for(var o=R(a.maxHalogenBondDist,di.maxHalogenBondDist),c=gi(R(a.maxHalogenBondAngle,di.maxHalogenBondAngle)),p=R(a.masterModelIndex,di.masterModelIndex),f=r.features,l=r.spatialHash,u=r.contactStore,m=r.featureSet,d=f.types,y=f.centers,_=f.atomSets,h=y.x,g=y.y,E=y.z,w=d.length,v=s.getAtomProxy(),x=s.getAtomProxy(),b=function(M){l.eachWithin(h[M],g[M],E[M],o,function(G,T){if(!(G<=M)&&(v.index=_[M][0],x.index=_[G][0],!Ip(v,x,p)&&(N=d[M],D=d[G],N===7&&D===6||N===6&&D===7))){var N,D,L=d[M]===6?[v,x]:[x,v],C=L[0],O=L[1],q=Y0(C,O);if(q.length===1&&!(FT-q[0]>c)){var z=Y0(O,C);z.length!==0&&(z.some(function($){return RT-$>c})||(m.setBits(M,G),u.addContact(M,G,5)))}}})},A=0;A<w;++A)b(A)}(e,i,t);var n=function(s){var r=s.contactStore,a=z4({nodeArray1:r.index1,nodeArray2:r.index2,edgeCount:r.count,nodeCount:s.featureSet.length}),o=new dt(s.contactStore.count,!0);return Object.assign({adjacencyList:a,contactSet:o},s)}(i);return function(s,r,a){a===void 0&&(a={}),Ce&&de.time("refineLineOfSight");var o=R(a.lineOfSightDistFactor,di.lineOfSightDistFactor),c=R(a.masterModelIndex,di.masterModelIndex),p=s.spatialHash,f=r.contactSet,l=r.contactStore,u=r.features,m=l.index1,d=l.index2,y=u.centers,_=u.atomSets,h=y.x,g=y.y,E=y.z,w=s.getAtomProxy(),v=s.getAtomProxy(),x=s.getAtomProxy(),b=new P,A=new P,M=3*o,G=o*o;f.forEach(function(T){b.set(h[m[T]],g[m[T]],E[m[T]]),A.set(h[d[T]],g[d[T]],E[d[T]]);var N=(b.x+A.x)/2,D=(b.y+A.y)/2,L=(b.z+A.z)/2,C=_[m[T]],O=_[d[T]];w.index=C[0],v.index=O[0],p.eachWithin(N,D,L,M,function(q,z){x.index=q,x.number!==1&&x.vdw*x.vdw*G>z&&!rg(w,x,c)&&!rg(v,x,c)&&!C.includes(q)&&!O.includes(q)&&b.distanceToSquared(x)>1&&A.distanceToSquared(x)>1&&(f.clear(T),Ce&&de.log("removing",w.qualifiedName(),v.qualifiedName(),"because",x.qualifiedName()))})}),Ce&&de.timeEnd("refineLineOfSight")}(e,n,t),function(s,r){var a=r.contactSet,o=r.contactStore,c=r.features,p=o.type,f=o.index1,l=o.index2,u=c.atomSets,m=s.getAtomProxy(),d=s.getAtomProxy(),y={},_=function(h,g,E){var w=y[E]||[1/0,-1],v=w[0],x=w[1];h<v?(x!==-1&&a.clear(x),y[E]=[h,g]):a.clear(g)};a.forEach(function(h){if(p[h]===6){m.index=u[f[h]][0],d.index=u[l[h]][0];var g=m.distanceTo(d);_(g,h,m.index+"|"+d.residueIndex),_(g,h,d.index+"|"+m.residueIndex)}})}(e,n),t.refineSaltBridges&&function(s,r){var a=r.contactSet,o=r.contactStore,c=r.features,p=o.type,f=o.index1,l=o.index2,u=c.atomSets,m={},d=function(y,_){m[y]||(m[y]=[]),m[y].push(_)};a.forEach(function(y){p[y]===1&&(u[f[y]].forEach(function(_){return d(_,y)}),u[l[y]].forEach(function(_){return d(_,y)}))}),a.forEach(function(y){if(function(w){return w===4||w===9||w===10}(p[y])){var _=m[u[f[y]][0]],h=m[u[l[y]][0]];if(_&&h){for(var g=_.length,E=0;E<g;++E)if(h.includes(_[E]))return void a.clear(y)}}})}(0,n),function(s,r){var a=r.contactSet,o=r.contactStore,c=r.features,p=o.type,f=o.index1,l=o.index2,u=c.atomSets,m={},d=function(y,_){m[y]||(m[y]=[]),m[y].push(_)};a.forEach(function(y){p[y]===3&&(u[f[y]].forEach(function(_){return d(_,y)}),u[l[y]].forEach(function(_){return d(_,y)}))}),a.forEach(function(y){if(p[y]===6||p[y]===2){var _=m[u[f[y]][0]],h=m[u[l[y]][0]];if(_&&h){for(var g=_.length,E=0;E<g;++E)if(h.includes(_[E]))return void a.clear(y)}}})}(0,n),function(s,r){var a=r.contactSet,o=r.contactStore,c=r.features,p=o.type,f=o.index1,l=o.index2,u=c.atomSets,m={},d=function(y,_){m[y]||(m[y]=[]),m[y].push(_)};a.forEach(function(y){p[y]===1&&(u[f[y]].forEach(function(_){return d(_,y)}),u[l[y]].forEach(function(_){return d(_,y)}))}),a.forEach(function(y){if(p[y]===7){var _=m[u[f[y]][0]],h=m[u[l[y]][0]];if(_&&h){for(var g=_.length,E=0;E<g;++E)if(h.includes(_[E]))return void a.clear(_[E])}}})}(0,n),Ce&&de.timeEnd("calculateContacts"),n}function GT(e){switch(e){case 4:case 9:case 10:return"hydrogen bond";case 6:return"hydrophobic contact";case 5:return"halogen bond";case 1:return"ionic interaction";case 7:return"metal coordination";case 2:return"cation-pi interaction";case 3:return"pi-pi stacking";case 8:return"weak hydrogen bond";default:return"unknown contact"}}var OT={hydrogenBond:!0,hydrophobic:!0,halogenBond:!0,ionicInteraction:!0,metalCoordination:!0,cationPi:!0,piStacking:!0,weakHydrogenBond:!0,waterHydrogenBond:!0,backboneHydrogenBond:!0,radius:1,filterSele:""},ar=new Oe;function kT(e,t,i){var n=Bn(i,OT),s=[];n.hydrogenBond&&s.push(4),n.hydrophobic&&s.push(6),n.halogenBond&&s.push(5),n.ionicInteraction&&s.push(1),n.metalCoordination&&s.push(7),n.cationPi&&s.push(2),n.piStacking&&s.push(3),n.weakHydrogenBond&&s.push(8),n.waterHydrogenBond&&s.push(9),n.backboneHydrogenBond&&s.push(10);var r,a=e.features,o=e.contactSet,c=e.contactStore,p=a.centers,f=a.atomSets,l=p.x,u=p.y,m=p.z,d=c.index1,y=c.index2,_=c.type,h=[],g=[],E=[],w=[],v=[];return n.filterSele&&(r=Array.isArray(n.filterSele)?n.filterSele.map(function(x){return t.getAtomSet(new Jt(x))}):t.getAtomSet(new Jt(n.filterSele))),o.forEach(function(x){var b=_[x];if(s.includes(b)){if(r){var A=f[d[x]][0],M=f[y[x]][0];if(Array.isArray(r)){if(!(r[0].isSet(A)&&r[1].isSet(M)||r[1].isSet(A)&&r[0].isSet(M)))return}else if(!r.isSet(A)&&!r.isSet(M))return}var G=d[x],T=y[x];h.push(l[G],u[G],m[G]),g.push(l[T],u[T],m[T]),E.push.apply(E,function(N){switch(N){case 4:case 9:case 10:return ar.setHex(2851770).toArray();case 6:return ar.setHex(8421504).toArray();case 5:return ar.setHex(4259775).toArray();case 1:return ar.setHex(15779860).toArray();case 7:return ar.setHex(9191577).toArray();case 2:return ar.setHex(16744448).toArray();case 3:return ar.setHex(9220966).toArray();case 8:return ar.setHex(12967404).toArray();default:return ar.setHex(13421772).toArray()}}(b)),w.push(n.radius),v.push(x)}}),{position1:new Float32Array(h),position2:new Float32Array(g),color:new Float32Array(E),color2:new Float32Array(E),radius:new Float32Array(w),picking:new zT(v,e,t)}}var sn=function(e){this.array=e},Am={type:{configurable:!0},data:{configurable:!0}};Am.type.get=function(){return""},Am.data.get=function(){return{}},sn.prototype.getIndex=function(e){return this.array?this.array[e]:e},sn.prototype.getObject=function(e){return{}},sn.prototype._applyTransformations=function(e,t,i){return t&&e.applyMatrix4(t.matrix),i&&e.applyMatrix4(i.matrix),e},sn.prototype._getPosition=function(e){return new P},sn.prototype.getPosition=function(e,t,i){return this._applyTransformations(this._getPosition(e),t,i)},Object.defineProperties(sn.prototype,Am);var Zn=function(e){function t(n){e.call(this),this.shape=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0},data:{configurable:!0},type:{configurable:!0}};return i.primitive.get=function(){},i.data.get=function(){return this.shape},i.type.get=function(){return this.primitive.type},t.prototype.getObject=function(n){return this.primitive.objectFromShape(this.shape,this.getIndex(n))},t.prototype._getPosition=function(n){return this.primitive.positionFromShape(this.shape,this.getIndex(n))},Object.defineProperties(t.prototype,i),t}(sn),BT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return to},Object.defineProperties(t.prototype,i),t}(Zn),VT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return n1},Object.defineProperties(t.prototype,i),t}(Zn),so=function(e){function t(n,s){e.call(this,n),this.structure=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"atom"},i.data.get=function(){return this.structure},t.prototype.getObject=function(n){return this.structure.getAtomProxy(this.getIndex(n))},t.prototype._getPosition=function(n){return new P().copy(this.getObject(n))},Object.defineProperties(t.prototype,i),t}(sn),qT=function(e){function t(n){e.call(this),this.axes=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"axes"},i.data.get=function(){return this.axes},t.prototype.getObject=function(){return{axes:this.axes}},t.prototype._getPosition=function(){return this.axes.center.clone()},Object.defineProperties(t.prototype,i),t}(sn),Q4=function(e){function t(n,s,r){e.call(this,n),this.structure=s,this.bondStore=r||s.bondStore}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"bond"},i.data.get=function(){return this.structure},t.prototype.getObject=function(n){var s=this.structure.getBondProxy(this.getIndex(n));return s.bondStore=this.bondStore,s},t.prototype._getPosition=function(n){var s=this.getObject(n);return new P().copy(s.atom1).add(s.atom2).multiplyScalar(.5)},Object.defineProperties(t.prototype,i),t}(sn),zT=function(e){function t(n,s,r){e.call(this,n),this.contacts=s,this.structure=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"contact"},i.data.get=function(){return this.contacts},t.prototype.getObject=function(n){var s=this.getIndex(n),r=this.contacts,a=r.features,o=r.contactStore,c=a.centers,p=a.atomSets,f=c.x,l=c.y,u=c.z,m=o.index1,d=o.index2,y=o.type,_=m[s],h=d[s];return{center1:new P(f[_],l[_],u[_]),center2:new P(f[h],l[h],u[h]),atom1:this.structure.getAtomProxy(p[_][0]),atom2:this.structure.getAtomProxy(p[h][0]),type:GT(y[s])}},t.prototype._getPosition=function(n){var s=this.getObject(n),r=s.center1,a=s.center2;return new P().addVectors(r,a).multiplyScalar(.5)},Object.defineProperties(t.prototype,i),t}(sn),HT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return s1},Object.defineProperties(t.prototype,i),t}(Zn),UT=function(e){function t(n,s,r){e.call(this,n),this.validation=s,this.structure=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"clash"},i.data.get=function(){return this.validation},t.prototype.getObject=function(n){var s=this.validation,r=this.getIndex(n);return{validation:s,index:r,clash:s.clashArray[r]}},t.prototype._getAtomProxyFromSele=function(n){var s=new Jt(n),r=this.structure.getAtomIndices(s)[0];return this.structure.getAtomProxy(r)},t.prototype._getPosition=function(n){var s=this.getObject(n).clash,r=this._getAtomProxyFromSele(s.sele1),a=this._getAtomProxyFromSele(s.sele2);return new P().copy(r).add(a).multiplyScalar(.5)},Object.defineProperties(t.prototype,i),t}(sn),WT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"distance"},Object.defineProperties(t.prototype,i),t}(Q4),jT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Nc},Object.defineProperties(t.prototype,i),t}(Zn),$T=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return t1},Object.defineProperties(t.prototype,i),t}(Zn),KT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return eo},Object.defineProperties(t.prototype,i),t}(Zn),YT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"ignore"},Object.defineProperties(t.prototype,i),t}(sn),JT=function(e){function t(n,s){e.call(this,n),this.mesh=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"mesh"},t.prototype.getObject=function(){var n=this.mesh;return{shape:this.shape,name:n.name,serial:n.serial}},t.prototype._getPosition=function(){return this.__position||(this.__position=kh(this.mesh.position)),this.__position},Object.defineProperties(t.prototype,i),t}(Zn),QT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Rc},Object.defineProperties(t.prototype,i),t}(Zn),XT=function(e){function t(n,s){e.call(this,n),this.surface=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"surface"},i.data.get=function(){return this.surface},t.prototype.getObject=function(n){return{surface:this.surface,index:this.getIndex(n)}},t.prototype._getPosition=function(){return this.surface.center.clone()},Object.defineProperties(t.prototype,i),t}(sn),ZT=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return i1},Object.defineProperties(t.prototype,i),t}(Zn),eI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return r1},Object.defineProperties(t.prototype,i),t}(Zn),tI=function(e){function t(n,s){e.call(this),this.unitcell=n,this.structure=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"unitcell"},i.data.get=function(){return this.unitcell},t.prototype.getObject=function(){return{unitcell:this.unitcell,structure:this.structure}},t.prototype._getPosition=function(){return this.unitcell.getCenter(this.structure)},Object.defineProperties(t.prototype,i),t}(sn),X4=function(e){function t(n,s){e.call(this,n),this.volume=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"volume"},i.data.get=function(){return this.volume},t.prototype.getObject=function(n){var s=this.volume,r=this.getIndex(n);return{volume:s,index:r,value:s.data[r]}},t.prototype._getPosition=function(n){var s=this.volume.position,r=this.getIndex(n);return new P(s[3*r],s[3*r+1],s[3*r+2])},Object.defineProperties(t.prototype,i),t}(sn),iI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"slice"},Object.defineProperties(t.prototype,i),t}(X4),nI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Ff},Object.defineProperties(t.prototype,i),t}(Zn),sI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Rf},Object.defineProperties(t.prototype,i),t}(Zn);function Z4(){return new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0])}function eE(){return new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function rI(){return[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]]}function U_(e,t,i,n,s){var r,a,o,c,p,f,l,u=0,m=!1,d=!1,y=!1,_=!1,h=-1,g=t*i*n,E=t,w=t*i,v=new Int32Array(12),x=[],b=[],A=[],M=[],G=Z4(),T=eE(),N=[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]];function D(K,J,Y){return K+(J-K)*Y}function L(K,J,Y){return w*(Y=(Y+l)%n)+E*(J=(J+f)%i)+(K=(K+p)%t)}function C(K,J,Y,le,fe,X,ae){var ne=3*K;if(a[ne]<0){var pe=(u-X)/(ae-X),U=r,W=3*o;if(x[W+0]=Y+pe,x[W+1]=le,x[W+2]=fe,!m){var Z=3*K;b[W]=h*D(U[Z],U[Z+3],pe),b[W+1]=h*D(U[Z+1],U[Z+4],pe),b[W+2]=h*D(U[Z+2],U[Z+5],pe)}s&&(M[o]=s[K+Math.round(pe)]),a[ne]=o,v[J]=o,o+=1}else v[J]=a[ne]}function O(K,J,Y,le,fe,X,ae){var ne=3*K+1;if(a[ne]<0){var pe=(u-X)/(ae-X),U=r,W=3*o;if(x[W]=Y,x[W+1]=le+pe,x[W+2]=fe,!m){var Z=3*K,ie=Z+3*E;b[W]=h*D(U[Z],U[ie],pe),b[W+1]=h*D(U[Z+1],U[ie+1],pe),b[W+2]=h*D(U[Z+2],U[ie+2],pe)}s&&(M[o]=s[K+Math.round(pe)*E]),a[ne]=o,v[J]=o,o+=1}else v[J]=a[ne]}function q(K,J,Y,le,fe,X,ae){var ne=3*K+2;if(a[ne]<0){var pe=(u-X)/(ae-X),U=r,W=3*o;if(x[W]=Y,x[W+1]=le,x[W+2]=fe+pe,!m){var Z=3*K,ie=Z+3*w;b[W]=h*D(U[Z],U[ie],pe),b[W+1]=h*D(U[Z+1],U[ie+1],pe),b[W+2]=h*D(U[Z+2],U[ie+2],pe)}s&&(M[o]=s[K+Math.round(pe)*w]),a[ne]=o,v[J]=o,o+=1}else v[J]=a[ne]}function z(K){var J=3*K;r[J]===0&&(r[J]=e[(K-1+g)%g]-e[(K+1)%g],r[J+1]=e[(K-E+g)%g]-e[(K+E)%g],r[J+2]=e[(K-w+g)%g]-e[(K+w)%g])}function $(K,J,Y,le,fe){var X,ae,ne,pe,U,W,Z;y?(le=L(K,J,Y),X=L(K+1,J,Y),ae=L(K,J+1,Y),ne=L(K,J,Y+1),pe=L(K+1,J+1,Y),U=L(K+1,J,Y+1),W=L(K,J+1,Y+1),Z=L(K+1,J+1,Y+1)):(X=le+1,pe=(ae=le+E)+1,U=(ne=le+w)+1,Z=(W=ae+w)+1);var ie=0,ue=e[le],he=e[X],ge=e[ae],k=e[pe],H=e[ne],me=e[U],oe=e[W],te=e[Z];ue<u&&(ie|=1),he<u&&(ie|=2),ge<u&&(ie|=8),k<u&&(ie|=4),H<u&&(ie|=16),me<u&&(ie|=32),oe<u&&(ie|=128),te<u&&(ie|=64);var se=G[ie];if(se===0)return 0;var we=K+1,Me=J+1,_e=Y+1;1&se&&(m||(z(le),z(X)),C(le,0,K,J,Y,ue,he)),2&se&&(m||(z(X),z(pe)),O(X,1,we,J,Y,he,k)),4&se&&(m||(z(ae),z(pe)),C(ae,2,K,Me,Y,ge,k)),8&se&&(m||(z(le),z(ae)),O(le,3,K,J,Y,ue,ge)),16&se&&(m||(z(ne),z(U)),C(ne,4,K,J,_e,H,me)),32&se&&(m||(z(U),z(Z)),O(U,5,we,J,_e,me,te)),64&se&&(m||(z(W),z(Z)),C(W,6,K,Me,_e,oe,te)),128&se&&(m||(z(ne),z(W)),O(ne,7,K,J,_e,H,oe)),256&se&&(m||(z(le),z(ne)),q(le,8,K,J,Y,ue,H)),512&se&&(m||(z(X),z(U)),q(X,9,we,J,Y,he,me)),1024&se&&(m||(z(pe),z(Z)),q(pe,10,we,Me,Y,k,te)),2048&se&&(m||(z(ae),z(W)),q(ae,11,K,Me,Y,ge,oe));for(var Se,Ee,Re,Pe=ie<<4,Ae=0;T[Pe+Ae]!==-1;)Se=T[Pe+Ae],Ee=T[Pe+Ae+1],Re=T[Pe+Ae+2],d?(N[Se][Ee]&fe&&(A[c++]=v[Se],A[c++]=v[Ee]),N[Ee][Re]&fe&&(A[c++]=v[Ee],A[c++]=v[Re]),N[Se][Re]&fe&&(A[c++]=v[Se],A[c++]=v[Re])):(A[c++]=v[_?Se:Ee],A[c++]=v[_?Ee:Se],A[c++]=v[Re]),Ae+=3}function re(K,J,Y,le,fe,X){var ae,ne,pe,U,W,Z,ie,ue,he,ge,k,H,me;if(K=K!==void 0?K:0,J=J!==void 0?J:0,Y=Y!==void 0?Y:0,le=le!==void 0?le:t-1,fe=fe!==void 0?fe:i-1,X=X!==void 0?X:n-1,y||(m?(K=Math.max(0,K),J=Math.max(0,J),Y=Math.max(0,Y),le=Math.min(t-1,le),fe=Math.min(i-1,fe),X=Math.min(n-1,X)):(K=Math.max(1,K),J=Math.max(1,J),Y=Math.max(1,Y),le=Math.min(t-2,le),fe=Math.min(i-2,fe),X=Math.min(n-2,X))),y)for(ue=K-2,he=J-2,k=le+2,H=fe+2,me=X+2,W=ge=Y-2;W<me;++W)for(U=he;U<H;++U)for(pe=ue;pe<k;++pe)ne=3*L(pe,U,W),a[ne]=-1,a[ne+1]=-1,a[ne+2]=-1;else for(ue=Math.max(0,K-2),he=Math.max(0,J-2),ge=Math.max(0,Y-2),k=Math.min(t,le+2),H=Math.min(i,fe+2),me=Math.min(n,X+2),W=ge;W<me;++W)for(ie=w*W,U=he;U<H;++U)for(Z=ie+E*U,pe=ue;pe<k;++pe)a[ae=3*(Z+pe)]=-1,a[ae+1]=-1,a[ae+2]=-1;if(!y){var oe,te=K,se=J,we=Y,Me=le,_e=fe,Se=X;for(oe=!1,W=Y;W<X;++W){for(U=J;U<fe;++U){for(pe=K;pe<le;++pe)if(e[ae=t*i*W+t*U+pe]>=u){we=W,oe=!0;break}if(oe)break}if(oe)break}for(oe=!1,U=J;U<fe;++U){for(W=we;W<X;++W){for(pe=K;pe<le;++pe)if(e[ae=t*i*W+t*U+pe]>=u){se=U,oe=!0;break}if(oe)break}if(oe)break}for(oe=!1,pe=K;pe<le;++pe){for(U=se;U<fe;++U){for(W=we;W<X;++W)if(e[ae=t*i*W+t*U+pe]>=u){te=pe,oe=!0;break}if(oe)break}if(oe)break}for(oe=!1,W=X;W>=Y;--W){for(U=fe;U>=J;--U){for(pe=le;pe>=K;--pe)if(e[ae=t*i*W+t*U+pe]>=u){Se=W,oe=!0;break}if(oe)break}if(oe)break}for(oe=!1,U=fe;U>=J;--U){for(W=Se;W>=Y;--W){for(pe=le;pe>=K;--pe)if(e[ae=t*i*W+t*U+pe]>=u){_e=U,oe=!0;break}if(oe)break}if(oe)break}for(oe=!1,pe=le;pe>=K;--pe){for(U=_e;U>=J;--U){for(W=Se;W>=Y;--W)if(e[ae=t*i*W+t*U+pe]>=u){Me=pe,oe=!0;break}if(oe)break}if(oe)break}m?(K=Math.max(0,te-1),J=Math.max(0,se-1),Y=Math.max(0,we-1),le=Math.min(t-1,Me+1),fe=Math.min(i-1,_e+1),X=Math.min(n-1,Se+1)):(K=Math.max(1,te-1),J=Math.max(1,se-1),Y=Math.max(1,we-1),le=Math.min(t-2,Me+1),fe=Math.min(i-2,_e+1),X=Math.min(n-2,Se+1))}var Ee=15;for(W=Y;W<X;++W,Ee&=-5)for(ie=w*W,Ee|=2,U=J;U<fe;++U,Ee&=-3)for(Z=ie+E*U,Ee|=1,pe=K;pe<le;++pe,Ee&=-2)$(pe,U,W,ae=Z+pe,Ee)}this.triangulate=function(K,J,Y,le,fe){_=(u=K)<0,d=le,y=fe,(m=J||d)||(h=u>0?-1:1,r||(r=new Float32Array(3*g)));var X=3*g;if(a&&a.length===X||(a=new Int32Array(X)),o=0,c=0,Y!==void 0){var ae=Y[0].map(Math.round),ne=Y[1].map(Math.round);p=t*Math.ceil(Math.abs(ae[0])/t),f=i*Math.ceil(Math.abs(ae[1])/i),l=n*Math.ceil(Math.abs(ae[2])/n),re(ae[0],ae[1],ae[2],ne[0],ne[1],ne[2])}else p=f=l=0,re();return x.length=3*o,m||(b.length=3*o),A.length=c,s&&(M.length=o),{position:new Float32Array(x),normal:m?void 0:new Float32Array(b),index:Ks(A,x.length/3),atomindex:s?new Int32Array(M):void 0,contour:d}}}Un.add("arrow",VT),Un.add("box",KT),Un.add("cone",HT),Un.add("cylinder",BT),Un.add("ellipsoid",jT),Un.add("octahedron",$T),Un.add("sphere",QT),Un.add("tetrahedron",ZT),Un.add("torus",eI),Un.add("point",nI),Un.add("wideline",sI),Object.assign(U_,{__deps:[Z4,eE,rI,Ks]});var jt=function(e,t){this.cols=e,this.rows=t,this.size=this.cols*this.rows,this.data=new Float32Array(this.size)};function hs(e,t){for(var i=0,n=0,s=t.rows,r=t.cols,a=0,o=0,c=0,p=t.data,f=e.data;i<s;o+=1,a+=r,i++)for(c=o,n=0;n<r;c+=s,n++)f[c]=p[a+n]}function Ml(e,t,i){for(var n=0,s=0,r=0,a=0,o=0,c=0,p=0,f=t.cols,l=t.rows,u=i.rows,m=t.data,d=i.data,y=e.data,_=0;n<l;a+=f,n++)for(c=0,s=0;s<u;p++,s++){for(o=a,_=0,r=0;r<f;o++,c++,r++)_+=m[o]*d[c];y[p]=_}}function Cm(e,t,i){var n=e.data,s=t.data,r=i.data,a=s[0],o=s[1],c=s[2],p=s[3],f=s[4],l=s[5],u=s[6],m=s[7],d=s[8],y=r[0],_=r[1],h=r[2],g=r[3],E=r[4],w=r[5],v=r[6],x=r[7],b=r[8];n[0]=a*y+o*g+c*v,n[1]=a*_+o*E+c*x,n[2]=a*h+o*w+c*b,n[3]=p*y+f*g+l*v,n[4]=p*_+f*E+l*x,n[5]=p*h+f*w+l*b,n[6]=u*y+m*g+d*v,n[7]=u*_+m*E+d*x,n[8]=u*h+m*w+d*b}function qh(e){for(var t=e.rows,i=e.cols,n=e.data,s=new Array(i),r=0;r<i;++r)s[r]=0;for(var a=0,o=0;a<t;++a)for(var c=0;c<i;++c,++o)s[c]+=n[o];for(var p=0;p<i;++p)s[p]/=t;return s}function zh(e,t){for(var i=e.rows,n=e.cols,s=e.data,r=0,a=0;r<i;++r)for(var o=0;o<n;++o,++a)s[a]-=t[o]}function Pm(e,t,i,n){n=e[t],e[t]=e[i],e[i]=n}function aI(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?(t/=e,e*Math.sqrt(1+t*t)):t>0?(e/=t,t*Math.sqrt(1+e*e)):0}jt.prototype.copyTo=function(e){e.data.set(this.data)};function tE(e,t,i,n){var s=0,r=0,a=e.rows,o=e.cols,c=a,p=o;c<p&&(s=1,r=c,c=p,p=r);var f=new jt(c,c),l=new jt(1,p),u=new jt(p,p);if(s===0)hs(f,e);else{for(r=0;r<o*a;r++)f.data[r]=e.data[r];for(;r<p*c;r++)f.data[r]=0}if(function(m,d,y,_,h,g,E,w){for(var v=0,x=0,b=0,A=0,M=Math.max(g,30),G=0,T=0,N=0,D=0,L=0,C=0,O=0,q=0,z=0,$=0,re=0,K=0,J=0,Y=0,le=0,fe=0,X=0,ae=4660,ne=0,pe=0,U=0,W=new Float64Array(E<<3);v<E;v++){for(b=0,re=0;b<g;b++)re+=(q=m[v*d+b])*q;if(W[v]=re,_){for(b=0;b<E;b++)_[v*h+b]=0;_[v*h+v]=1}}for(;A<M;A++){for(L=0,v=0;v<E-1;v++)for(x=v+1;x<E;x++){for(G=v*d|0,T=x*d|0,le=W[v],fe=0,X=W[x],b=2,fe+=m[G]*m[T],fe+=m[G+1]*m[T+1];b<g;b++)fe+=m[G+b]*m[T+b];if(!(Math.abs(fe)<=2384185792e-16*Math.sqrt(le*X))){for(J=aI(fe*=2,K=le-X),K<0?(Y=.5*(J-K),C=fe/(J*(O=Math.sqrt(Y/J))*2)):O=fe/(J*(C=Math.sqrt((J+K)/(2*J)))*2),le=0,X=0,b=2,z=C*m[G]+O*m[T],$=-O*m[G]+C*m[T],m[G]=z,m[T]=$,le+=z*z,X+=$*$,z=C*m[G+1]+O*m[T+1],$=-O*m[G+1]+C*m[T+1],m[G+1]=z,m[T+1]=$,le+=z*z,X+=$*$;b<g;b++)z=C*m[G+b]+O*m[T+b],$=-O*m[G+b]+C*m[T+b],m[G+b]=z,m[T+b]=$,le+=z*z,X+=$*$;if(W[v]=le,W[x]=X,L=1,_)for(D=x*h|0,b=2,z=C*_[N=v*h|0]+O*_[D],$=-O*_[N]+C*_[D],_[N]=z,_[D]=$,z=C*_[N+1]+O*_[D+1],$=-O*_[N+1]+C*_[D+1],_[N+1]=z,_[D+1]=$;b<E;b++)z=C*_[N+b]+O*_[D+b],$=-O*_[N+b]+C*_[D+b],_[N+b]=z,_[D+b]=$}}if(L===0)break}for(v=0;v<E;v++){for(b=0,re=0;b<g;b++)re+=(q=m[v*d+b])*q;W[v]=Math.sqrt(re)}for(v=0;v<E-1;v++){for(x=v,b=v+1;b<E;b++)W[x]<W[b]&&(x=b);if(v!==x&&(Pm(W,v,x,re),_)){for(b=0;b<g;b++)Pm(m,v*d+b,x*d+b,q);for(b=0;b<E;b++)Pm(_,v*h+b,x*h+b,q)}}for(v=0;v<E;v++)y[v]=W[v];if(_)for(v=0;v<w;v++){for(re=v<E?W[v]:0;re<=1e-37;){for(pe=1/g,b=0;b<g;b++)ne=(256&(ae=214013*ae+2531011)>>16)!=0?pe:-pe,m[v*d+b]=ne;for(A=0;A<2;A++)for(x=0;x<v;x++){for(re=0,b=0;b<g;b++)re+=m[v*d+b]*m[x*d+b];for(U=0,b=0;b<g;b++)q=m[v*d+b]-re*m[x*d+b],m[v*d+b]=q,U+=Math.abs(q);for(U=U?1/U:0,b=0;b<g;b++)m[v*d+b]*=U}for(re=0,b=0;b<g;b++)re+=(q=m[v*d+b])*q;re=Math.sqrt(re)}for(O=1/re,b=0;b<g;b++)m[v*d+b]*=O}}(f.data,c,l.data,u.data,p,c,p,c),t){for(r=0;r<p;r++)t.data[r]=l.data[r];for(;r<o;r++)t.data[r]=0}s===0?(i&&hs(i,f),n&&hs(n,u)):(i&&hs(i,u),n&&hs(n,f))}function Lp(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function ac(e,t,i,n,s,r,a,o,c,p,f,l,u,m,d,y,_){e[0]=t,e[4]=i,e[8]=n,e[12]=s,e[1]=r,e[5]=a,e[9]=o,e[13]=c,e[2]=p,e[6]=f,e[10]=l,e[14]=u,e[3]=m,e[7]=d,e[11]=y,e[15]=_}function Al(e,t,i){var n=t[0],s=t[4],r=t[8],a=t[12],o=t[1],c=t[5],p=t[9],f=t[13],l=t[2],u=t[6],m=t[10],d=t[14],y=t[3],_=t[7],h=t[11],g=t[15],E=i[0],w=i[4],v=i[8],x=i[12],b=i[1],A=i[5],M=i[9],G=i[13],T=i[2],N=i[6],D=i[10],L=i[14],C=i[3],O=i[7],q=i[11],z=i[15];e[0]=n*E+s*b+r*T+a*C,e[4]=n*w+s*A+r*N+a*O,e[8]=n*v+s*M+r*D+a*q,e[12]=n*x+s*G+r*L+a*z,e[1]=o*E+c*b+p*T+f*C,e[5]=o*w+c*A+p*N+f*O,e[9]=o*v+c*M+p*D+f*q,e[13]=o*x+c*G+p*L+f*z,e[2]=l*E+u*b+m*T+d*C,e[6]=l*w+u*A+m*N+d*O,e[10]=l*v+u*M+m*D+d*q,e[14]=l*x+u*G+m*L+d*z,e[3]=y*E+_*b+h*T+g*C,e[7]=y*w+_*A+h*N+g*O,e[11]=y*v+_*M+h*D+g*q,e[15]=y*x+_*G+h*L+g*z}function Hh(e,t,i,n){ac(e,t,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1)}function Uh(e,t,i,n){ac(e,1,0,0,t,0,1,0,i,0,0,1,n,0,0,0,1)}function Wh(e,t){var i=Math.cos(t),n=Math.sin(t);ac(e,i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1)}function iE(){return new Float32Array([1,0,0,0,1,0,0,0,1])}function W_(e,t){var i=yt([t[0],t[1],t[2]]),n=yt([t[4],t[5],t[6]]),s=yt([t[8],t[9],t[10]]),r=yt();An(r,n,s),e[0]=r[0],e[1]=r[1],e[2]=r[2],An(r,s,i),e[3]=r[0],e[4]=r[1],e[5]=r[2],An(r,i,n),e[6]=r[0],e[7]=r[1],e[8]=r[2]}function j_(e,t,i,n){i=i||1,n=n||!0;var s=e.length/3,r=t.length/3,a=void 0;n&&(a=new Float32Array(3*s));var o,c,p,f,l=new Float32Array(3*s),u=new Array(20);for(o=0;o<20;++o)u[o]=new Uint32Array(s);for(o=0;o<s;++o)u[0][o]=0;for(o=0;o<r;++o){var m=3*o,d=3*o+1,y=3*o+2;for(f=!0,c=0,p=u[0][t[m]];c<p;++c)if(t[d]===u[c+1][t[m]]){f=!1;break}for(f&&(u[0][t[m]]++,u[u[0][t[m]]][t[m]]=t[d]),f=!0,c=0,p=u[0][t[m]];c<p;++c)if(t[y]===u[c+1][t[m]]){f=!1;break}for(f&&(u[0][t[m]]++,u[u[0][t[m]]][t[m]]=t[y]),f=!0,c=0,p=u[0][t[d]];c<p;++c)if(t[m]===u[c+1][t[d]]){f=!1;break}for(f&&(u[0][t[d]]++,u[u[0][t[d]]][t[d]]=t[m]),f=!0,c=0,p=u[0][t[d]];c<p;++c)if(t[y]===u[c+1][t[d]]){f=!1;break}for(f&&(u[0][t[d]]++,u[u[0][t[d]]][t[d]]=t[y]),f=!0,c=0;c<u[0][t[y]];++c)if(t[m]===u[c+1][t[y]]){f=!1;break}for(f&&(u[0][t[y]]++,u[u[0][t[y]]][t[y]]=t[m]),f=!0,c=0,p=u[0][t[y]];c<p;++c)if(t[d]===u[c+1][t[y]]){f=!1;break}f&&(u[0][t[y]]++,u[u[0][t[y]]][t[y]]=t[d])}for(var _,h,g,E,w,v=.5,x=.75/4.5,b=0;b<i;++b){for(o=0;o<s;++o)if(_=3*o,(g=u[0][o])<3)l[_]=e[_],l[_+1]=e[_+1],l[_+2]=e[_+2];else if(g===3||g===4){for(l[_]=0,l[_+1]=0,l[_+2]=0,c=0;c<g;++c)h=3*u[c+1][o],l[_]+=e[h],l[_+1]+=e[h+1],l[_+2]+=e[h+2];l[_]+=v*e[_],l[_+1]+=v*e[_+1],l[_+2]+=v*e[_+2],w=v+g,l[_]/=w,l[_+1]/=w,l[_+2]/=w}else{for(l[_]=0,l[_+1]=0,l[_+2]=0,c=0;c<g;++c)h=3*u[c+1][o],l[_]+=e[h],l[_+1]+=e[h+1],l[_+2]+=e[h+2];l[_]+=1*e[_],l[_+1]+=1*e[_+1],l[_+2]+=1*e[_+2],E=1+g,l[_]/=E,l[_+1]/=E,l[_+2]/=E}if(e.set(l),n){Nf(e,t,a);var A=3*s;for(_=0;_<A;_+=3)e[_]+=-1*x*a[_],e[_+1]+=-1*x*a[_+1],e[_+2]+=-1*x*a[_+2]}}}function Nf(e,t,i){var n,s;if(i===void 0)i=new Float32Array(e.length);else for(n=0,s=i.length;n<s;n++)i[n]=0;var r=new Float32Array(3),a=new Float32Array(3),o=new Float32Array(3),c=new Float32Array(3),p=new Float32Array(3);if(t)for(n=0,s=t.length;n<s;n+=3){var f=3*t[n],l=3*t[n+1],u=3*t[n+2];mn(r,e,f),mn(a,e,l),mn(o,e,u),hi(c,o,a),hi(p,r,a),An(c,c,p),i[f]+=c[0],i[f+1]+=c[1],i[f+2]+=c[2],i[l]+=c[0],i[l+1]+=c[1],i[l+2]+=c[2],i[u]+=c[0],i[u+1]+=c[1],i[u+2]+=c[2]}else for(n=0,s=e.length;n<s;n+=9)mn(r,e,n),mn(a,e,n+3),mn(o,e,n+6),hi(c,o,a),hi(p,r,a),An(c,c,p),i[n]=c[0],i[n+1]=c[1],i[n+2]=c[2],i[n+3]=c[0],i[n+4]=c[1],i[n+5]=c[2],i[n+6]=c[0],i[n+7]=c[1],i[n+8]=c[2];return k4(i),i}function nE(e){for(var t={},i=0,n=e.length;i<n;++i)t[e[i]]=!0;return t}function Df(e,t,i,n,s){var r=1/n*3;V4(e,e,s+(r+=i)),Sl(t,t,s+r),ei(e,e,n),Bh(e,e),Qo(e,e,n),ei(t,t,n),Tp(t,t),Qo(t,t,n);var a=new Float32Array(3);hi(a,t,e),ei(a,a,n),Tp(a,a),Sl(a,a,1);var o=256*Math.pow(10,6),c=a[0]*a[1]*a[2]*3;o<=c&&(ei(e,e,n*=Math.pow(o/c,1/3)),Bh(e,e),Qo(e,e,n),ei(t,t,n),Tp(t,t),Qo(t,t,n),hi(a,t,e),ei(a,a,n),Tp(a,a),Sl(a,a,1));var p=new Float32Array(e);e1(p,p);var f=Lp(),l=Lp();Wh(l,gi(90)),Al(f,f,l);var u=Lp();Hh(u,-1/n,1/n,1/n),Al(f,f,u);var m=Lp();return Uh(m,-n*p[2],-n*p[1],-n*p[0]),Al(f,f,m),{dim:a,tran:p,matrix:f,scaleFactor:n}}Hh.__deps=[ac],Uh.__deps=[ac],Wh.__deps=[ac],W_.__deps=[yt,An],Object.assign(j_,{__deps:[Nf]}),Object.assign(Nf,{__deps:[hi,An,mn,k4]}),Object.assign(Df,{__deps:[gi,V4,Sl,Qo,ei,Bh,Tp,hi,e1,Lp,Al,Uh,Hh,Wh]});var nn=function(e,t,i){this.name=e||"",this.path=t||"",this.info={},this.center=new P,this.boundingBox=new ai,i instanceof ut||i instanceof We||i instanceof Zt?this.fromGeometry(i):i&&(this.set(i.position,i.index,i.normal,i.color,i.atomindex,i.contour),this.boundingBox.setFromArray(i.position),this.boundingBox.getCenter(this.center))},ag={type:{configurable:!0}};function ra(e,t,i,n,s){var r=new U_(e,t,i,n,s);this.getSurface=function(a,o,c,p,f,l){l===void 0&&(l=!1);var u=r.triangulate(a,o,c,f,l);if(o&&!f&&(j_(u.position,u.index,o,!0),u.normal=Nf(u.position,u.index)),p&&(Zu(p,u.position),u.normal)){var m=iE();W_(m,p),H_(m,u.normal)}return u}}ag.type.get=function(){return"Surface"},nn.prototype.set=function(e,t,i,n,s,r){r===void 0&&(r=!1),this.position=e,this.index=t,this.normal=i,this.color=n,this.atomindex=s,this.size=e.length/3,this.contour=r},nn.prototype.fromGeometry=function(e){var t,i,n,s;if(Ce&&de.time("GeometrySurface.fromGeometry"),e instanceof ut?(e.computeVertexNormals(!0),t=new We().fromGeometry(e)):t=e instanceof We?e:e[0],t.boundingBox||t.computeBoundingBox(),this.boundingBox.copy(t.boundingBox),this.boundingBox.getCenter(this.center),t instanceof We){var r=t.attributes,a=!!r.normal&&r.normal.array;(!a||a[0]===0&&a[1]===0&&a[2]===0)&&t.computeVertexNormals(),i=r.position.array,n=r.index?r.index.array:null,s=r.normal.array}this.set(i,n,s,void 0,void 0),Ce&&de.timeEnd("GeometrySurface.setGeometry")},nn.prototype.getPosition=function(){return this.position},nn.prototype.getColor=function(e){var t=e||{};t.surface=this;var i=this.size,n=new Float32Array(3*i),s=It.getScheme(t);if(s.volumeColor||t.scheme==="random")for(var r=0;r<i;++r)s.volumeColorToArray(r,n,3*r);else if(s.positionColor)for(var a=new P,o=this.position,c=0;c<i;++c){var p=3*c;a.set(o[p],o[p+1],o[p+2]),s.positionColorToArray(a,n,p)}else if(s.atomColor&&this.atomindex)for(var f=t.structure.getAtomProxy(),l=this.atomindex,u=0;u<i;++u)f.index=l[u],s.atomColorToArray(f,n,3*u);else{var m=new Oe(t.value);Xt(i,m.r,m.g,m.b,n)}return n},nn.prototype.getPicking=function(e){return this.atomindex&&e?new so(this.atomindex,e):new XT(Vc(this.size),this)},nn.prototype.getNormal=function(){return this.normal},nn.prototype.getSize=function(e,t){return kn(this.size,e*t)},nn.prototype.getIndex=function(){return this.index},nn.prototype.getFilteredIndex=function(e,t){if(e&&this.atomindex){for(var i=new Jt(e),n=t.getAtomSet(i),s=[],r=this.atomindex,a=this.index,o=a.length,c=this.contour?2:3,p=0,f=0;f<o;f+=c){for(var l=!0,u=0;u<c;u++){var m=r[a[f+u]];if(!n.get(m)){l=!1;break}}if(l)for(var d=0;d<c;d++,p++)s[p]=a[f+d]}return Ks(s,this.position.length/3)}return this.index},nn.prototype.getAtomindex=function(){return this.atomindex},nn.prototype.dispose=function(){},Object.defineProperties(nn.prototype,ag),Object.assign(ra,{__deps:[j_,Nf,U_,Zu,H_,iE,W_]}),Tf.add("surf",function(e,t){var i=e.data.args,n=e.data.params;if(i&&(self.volsurf=new ra(i[0],i[1],i[2],i[3],i[4])),n){var s=self.volsurf.getSurface(n.isolevel,n.smooth,n.box,n.matrix,n.contour,n.wrap),r=[s.position.buffer,s.index.buffer];s.normal&&r.push(s.normal.buffer),s.atomindex&&r.push(s.atomindex.buffer),t({sd:s,p:n},r)}},[ra]);var Wt=function(e,t,i,n,s,r,a){this.name=e,this.path=t,this.matrix=new De,this.normalMatrix=new Yi,this.inverseMatrix=new De,this.center=new P,this.boundingBox=new ai,this.setData(i,n,s,r,a)},Ur={type:{configurable:!0},position:{configurable:!0},min:{configurable:!0},max:{configurable:!0},sum:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};function og(e){return e==="front"?Dc:e==="back"?Gi:zf}Ur.type.get=function(){return"Volume"},Wt.prototype.setData=function(e,t,i,n,s){this.nx=t||1,this.ny=i||1,this.nz=n||1,this.data=e||new Float32Array(1),this.setAtomindex(s),this._position=new Float32Array,delete this._min,delete this._max,delete this._mean,delete this._rms,this.worker&&this.worker.terminate()},Wt.prototype.setStats=function(e,t,i,n){this._min=e,this._max=t,this._mean=i,this._rms=n},Wt.prototype.setMatrix=function(e){this.matrix.copy(e);var t=this.boundingBox,i=this.center,n=this.nx-1,s=this.ny-1,r=this.nz-1;t.makeEmpty(),t.expandByPoint(i.set(n,s,r)),t.expandByPoint(i.set(n,s,0)),t.expandByPoint(i.set(n,0,r)),t.expandByPoint(i.set(n,0,0)),t.expandByPoint(i.set(0,s,r)),t.expandByPoint(i.set(0,0,r)),t.expandByPoint(i.set(0,s,0)),t.expandByPoint(i.set(0,0,0)),t.applyMatrix4(this.matrix),t.getCenter(this.center);var a=this.matrix.elements,o=new P(a[0],a[1],a[2]),c=new P(a[4],a[5],a[6]),p=new P(a[8],a[9],a[10]),f=new P,l=this.normalMatrix.elements;f.crossVectors(c,p),l[0]=f.x,l[1]=f.y,l[2]=f.z,f.crossVectors(p,o),l[3]=f.x,l[4]=f.y,l[5]=f.z,f.crossVectors(o,c),l[6]=f.x,l[7]=f.y,l[8]=f.z,this.inverseMatrix.getInverse(this.matrix)},Wt.prototype.setAtomindex=function(e){this.atomindex=e},Wt.prototype.getBox=function(e,t,i){return i||(i=new ai),i.set(e,e),i.expandByScalar(t),i.applyMatrix4(this.inverseMatrix),i.min.round(),i.max.round(),i},Wt.prototype._getBox=function(e,t){if(e&&t){this.__box||(this.__box=new ai);var i=this.getBox(e,t,this.__box);return[i.min.toArray(),i.max.toArray()]}},Wt.prototype._makeSurface=function(e,t,i){var n=this.name+"@"+t.toPrecision(2),s=new nn(n,"",e);return s.info.isolevel=t,s.info.smooth=i,s.info.volume=this,s},Wt.prototype.getSurface=function(e,t,i,n,s,r){r===void 0&&(r=!1),e=isNaN(e)?this.getValueForSigma(2):e,t=R(t,0),this.volsurf===void 0&&(this.volsurf=new ra(this.data,this.nx,this.ny,this.nz,this.atomindex));var a=this._getBox(i,n),o=this.volsurf.getSurface(e,t,a,this.matrix.elements,s,r);return this._makeSurface(o,e,t)},Wt.prototype.getSurfaceWorker=function(e,t,i,n,s,r,a){var o=this;if(e=isNaN(e)?this.getValueForSigma(2):e,t=t||0,window.hasOwnProperty("Worker")){this.workerPool===void 0&&(this.workerPool=new Go("surf",2));var c={},p=this.workerPool.getNextWorker();p.postCount===0&&Object.assign(c,{args:[this.data,this.nx,this.ny,this.nz,this.atomindex]}),Object.assign(c,{params:{isolevel:e,smooth:t,box:this._getBox(i,n),matrix:this.matrix.elements,contour:s,wrap:r}}),p.post(c,void 0,function(l){var u=l.data.sd,m=l.data.p;a(o._makeSurface(u,m.isolevel,m.smooth))},function(l){console.warn("Volume.getSurfaceWorker error - trying without worker",l);var u=o.getSurface(e,t,i,n,s,r);a(u)})}else{var f=this.getSurface(e,t,i,n,s,r);a(f)}},Wt.prototype.getValueForSigma=function(e){return this.mean+R(e,2)*this.rms},Wt.prototype.getSigmaForValue=function(e){return(R(e,0)-this.mean)/this.rms},Ur.position.get=function(){if(!this._position){for(var e=this.nz,t=this.ny,i=this.nx,n=new Float32Array(i*t*e*3),s=0,r=0;r<e;++r)for(var a=0;a<t;++a)for(var o=0;o<i;++o)n[s+0]=o,n[s+1]=a,n[s+2]=r,s+=3;Zu(this.matrix.elements,n),this._position=n}return this._position},Wt.prototype.getDataAtomindex=function(){return this.atomindex},Wt.prototype.getDataPosition=function(){return this.position},Wt.prototype.getDataColor=function(e){var t=e||{};t.volume=this,t.scale=t.scale||"Spectral",t.domain=t.domain||[this.min,this.max];for(var i=It.getScheme(t),n=this.position.length/3,s=new Float32Array(3*n),r=0;r<n;++r)i.volumeColorToArray(r,s,3*r);return s},Wt.prototype.getDataPicking=function(){var e=Vc(this.position.length/3);return new X4(e,this)},Wt.prototype.getDataSize=function(e,t){var i,n=this.data,s=this.position.length/3;switch(e){case"value":case"deviation":i=new Float32Array(n);break;case"abs-value":i=new Float32Array(n);for(var r=0;r<s;++r)i[r]=Math.abs(i[r]);break;case"value-min":i=new Float32Array(n);for(var a=this.min,o=0;o<s;++o)i[o]-=a;break;default:i=kn(s,e)}if(t!==1)for(var c=0;c<s;++c)i[c]*=t;return i},Ur.min.get=function(){return this._min===void 0&&(this._min=vl(this.data)),this._min},Ur.max.get=function(){return this._max===void 0&&(this._max=El(this.data)),this._max},Ur.sum.get=function(){return this._sum===void 0&&(this._sum=z_(this.data)),this._sum},Ur.mean.get=function(){return this._mean===void 0&&(this._mean=bl(this.data)),this._mean},Ur.rms.get=function(){return this._rms===void 0&&(this._rms=function(e){for(var t=e.length,i=0,n=0;n<t;++n){var s=e[n];i+=s*s}return Math.sqrt(i/t)}(this.data)),this._rms},Wt.prototype.clone=function(){var e=new Wt(this.name,this.path,this.data,this.nx,this.ny,this.nz,this.atomindex);return e.matrix.copy(this.matrix),e.header=Object.assign({},this.header),e},Wt.prototype.dispose=function(){this.workerPool&&this.workerPool.terminate()},Object.defineProperties(Wt.prototype,Ur),Ht.add("shader/Mesh.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#elif defined( NOLIGHT )
vColor = color;
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Ht.add("shader/Mesh.frag",`#define STANDARD
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#elif defined( NOLIGHT )
gl_FragColor = vec4( vColor, opacity );
#else
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
#include interior_fragment
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#include opaque_back_fragment
#endif
}`);var cg={f:1,v2:2,v3:3,c:3};function Tm(e,t){e.matrix.copy(t),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0}var gn={opaqueBack:!1,side:"double",opacity:1,depthWrite:!0,clipNear:0,clipRadius:0,clipCenter:new P,flatShaded:!1,wireframe:!1,roughness:.4,metalness:0,diffuse:16777215,diffuseInterior:!1,useInteriorColor:!1,interiorColor:14540253,interiorDarkening:0,forceTransparent:!1,matrix:new De,disablePicking:!1,sortParticles:!1,background:!1},ro={opaqueBack:{updateShader:!0},side:{updateShader:!0,property:!0},opacity:{uniform:!0},depthWrite:{property:!0},clipNear:{updateShader:!0,property:!0},clipRadius:{updateShader:!0,uniform:!0},clipCenter:{uniform:!0},flatShaded:{updateShader:!0},background:{updateShader:!0},wireframe:{updateVisibility:!0},roughness:{uniform:!0},metalness:{uniform:!0},diffuse:{uniform:!0},diffuseInterior:{updateShader:!0},useInteriorColor:{updateShader:!0},interiorColor:{uniform:!0},interiorDarkening:{uniform:!0},matrix:{}},Nt=function(e,t){t===void 0&&(t={}),this.parameterTypes=ro,this.geometry=new We,this.indexVersion=0,this.wireframeIndexVersion=-1,this.group=new Zt,this.wireframeGroup=new Zt,this.pickingGroup=new Zt,this.vertexShader="",this.fragmentShader="",this.isImpostor=!1,this.isText=!1,this.isSurface=!1,this.isPoint=!1,this.isLine=!1,this.dynamic=!0,this.visible=!0,this.wireframeIndexCount=0,this.parameters=Bn(t,this.defaultParameters),this.uniforms=Xl.merge([He.common,{fogColor:{value:new Oe(0)},fogNear:{value:0},fogFar:{value:0},opacity:{value:this.parameters.opacity},clipNear:{value:0},clipRadius:{value:this.parameters.clipRadius},clipCenter:{value:this.parameters.clipCenter}},{emissive:{value:new Oe(0)},roughness:{value:this.parameters.roughness},metalness:{value:this.parameters.metalness},interiorColor:{value:new Oe(this.parameters.interiorColor)},interiorDarkening:{value:this.parameters.interiorDarkening}},He.lights]),this.uniforms.diffuse.value.set(this.parameters.diffuse),this.pickingUniforms={clipNear:{value:0},objectId:{value:0},opacity:{value:this.parameters.opacity}};var i=e.position||e.position1;this._positionDataSize=i?i.length/3:0,e.primitiveId||(e.primitiveId=Vc(this._positionDataSize)),this.addAttributes({position:{type:"v3",value:e.position},color:{type:"c",value:e.color},primitiveId:{type:"f",value:e.primitiveId}}),t.matrix&&(this.matrix=t.matrix),e.index&&this.initIndex(e.index),this.picking=e.picking,this.makeWireframeGeometry()},Wr={defaultParameters:{configurable:!0},matrix:{configurable:!0},transparent:{configurable:!0},size:{configurable:!0},attributeSize:{configurable:!0},pickable:{configurable:!0}};Wr.defaultParameters.get=function(){return gn},Wr.matrix.set=function(e){this.setMatrix(e)},Wr.matrix.get=function(){return this.group.matrix.clone()},Wr.transparent.get=function(){return this.parameters.opacity<1||this.parameters.forceTransparent},Wr.size.get=function(){return this._positionDataSize},Wr.attributeSize.get=function(){return this.size},Wr.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},Nt.prototype.setMatrix=function(e){Tm(this.group,e),Tm(this.wireframeGroup,e),Tm(this.pickingGroup,e)},Nt.prototype.initIndex=function(e){this.geometry.setIndex(new it(e,1));var t=this.geometry.getIndex();t?t.setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0):de.error("Index is null")},Nt.prototype.makeMaterial=function(){var e=og(this.parameters.side),t=new ki({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!0,fog:!0,side:e});t.vertexColors=!0,t.extensions.derivatives=!0,t.extensions.fragDepth=this.isImpostor;var i=new ki({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!1,fog:!0,side:e});i.vertexColors=!0;var n=new ki({uniforms:this.pickingUniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:!1,depthWrite:this.parameters.depthWrite,lights:!1,fog:!1,side:e,blending:_r});n.vertexColors=!0,n.extensions.fragDepth=this.isImpostor,t.clipNear=this.parameters.clipNear,i.clipNear=this.parameters.clipNear,n.clipNear=this.parameters.clipNear,this.material=t,this.wireframeMaterial=i,this.pickingMaterial=n,this.updateShader()},Nt.prototype.makeWireframeGeometry=function(){this.makeWireframeIndex();var e=this.geometry,t=this.wireframeIndex,i=new We;i.attributes=e.attributes,t&&(i.setIndex(new it(t,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)),i.setDrawRange(0,this.wireframeIndexCount)),this.wireframeGeometry=i},Nt.prototype.makeWireframeIndex=function(){var e=[];function t(_,h){if(_>h){var g=_;_=h,h=g}var E=e[_];return E===void 0?(e[_]=[h],!0):!E.includes(h)&&(E.push(h),!0)}var i=this.geometry,n=i.index;if(this.parameters.wireframe)if(n){var s,r=n.array,a=r.length;i.drawRange.count!==1/0&&(a=i.drawRange.count),this.wireframeIndex&&this.wireframeIndex.length>2*a?s=this.wireframeIndex:s=Ks(2*a,i.attributes.position.count);var o=0;e.length=0;for(var c=0;c<a;c+=3){var p=r[c+0],f=r[c+1],l=r[c+2];t(p,f)&&(s[o+0]=p,s[o+1]=f,o+=2),t(f,l)&&(s[o+0]=f,s[o+1]=l,o+=2),t(l,p)&&(s[o+0]=l,s[o+1]=p,o+=2)}this.wireframeIndex=s,this.wireframeIndexCount=o,this.wireframeIndexVersion=this.indexVersion}else{var u,m=i.attributes.position.count;u=this.wireframeIndex&&this.wireframeIndex.length>2*m?this.wireframeIndex:Ks(2*m,m);for(var d=0,y=0;d<m;d+=3)u[y+0]=d,u[y+1]=d+1,u[y+2]=d+1,u[y+3]=d+2,u[y+4]=d+2,u[y+5]=d,y+=6;this.wireframeIndex=u,this.wireframeIndexCount=2*m,this.wireframeIndexVersion=this.indexVersion}else this.wireframeIndex=new Uint16Array(0),this.wireframeIndexCount=0},Nt.prototype.updateWireframeIndex=function(){if(this.wireframeGeometry&&this.wireframeIndex){if(this.wireframeGeometry.setDrawRange(0,1/0),this.wireframeIndexVersion<this.indexVersion&&this.makeWireframeIndex(),this.wireframeGeometry.index&&this.wireframeIndex.length>this.wireframeGeometry.index.array.length)this.wireframeGeometry.setIndex(new it(this.wireframeIndex,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0));else{var e=this.wireframeGeometry.getIndex();if(!e)return void de.error("Index is null");e.set(this.wireframeIndex),e.needsUpdate=this.wireframeIndexCount>0,e.updateRange.count=this.wireframeIndexCount}this.wireframeGeometry.setDrawRange(0,this.wireframeIndexCount)}},Nt.prototype.getRenderOrder=function(){var e=0;return this.isText?e=1:this.transparent&&(e=this.isSurface?3:2),e},Nt.prototype._getMesh=function(e){this.material||this.makeMaterial();var t,i=this.geometry,n=this[e];return(t=this.isLine?new Ei(i,n):this.isPoint?new rf(i,n):new ci(i,n)).frustumCulled=!1,t.renderOrder=this.getRenderOrder(),t},Nt.prototype.getMesh=function(){return this._getMesh("material")},Nt.prototype.getWireframeMesh=function(){var e;return this.material||this.makeMaterial(),this.wireframeGeometry||this.makeWireframeGeometry(),(e=new Ei(this.wireframeGeometry,this.wireframeMaterial)).frustumCulled=!1,e.renderOrder=this.getRenderOrder(),e},Nt.prototype.getPickingMesh=function(){return this._getMesh("pickingMaterial")},Nt.prototype.getShader=function(e,t){return Cp(e,this.getDefines(t))},Nt.prototype.getVertexShader=function(e){return this.getShader(this.vertexShader,e)},Nt.prototype.getFragmentShader=function(e){return this.getShader(this.fragmentShader,e)},Nt.prototype.getDefines=function(e){var t={};return this.parameters.clipNear&&(t.NEAR_CLIP=1),this.parameters.clipRadius&&(t.RADIUS_CLIP=1),e==="picking"?t.PICKING=1:((e==="background"||this.parameters.background)&&(t.NOLIGHT=1),this.parameters.flatShaded&&(t.FLAT_SHADED=1),this.parameters.opaqueBack&&(t.OPAQUE_BACK=1),this.parameters.diffuseInterior&&(t.DIFFUSE_INTERIOR=1),this.parameters.useInteriorColor&&(t.USE_INTERIOR_COLOR=1)),t},Nt.prototype.getParameters=function(){return this.parameters},Nt.prototype.addUniforms=function(e){this.uniforms=Xl.merge([this.uniforms,e]),this.pickingUniforms=Xl.merge([this.pickingUniforms,e])},Nt.prototype.addAttributes=function(e){for(var t in e){var i=void 0,n=e[t],s=this.attributeSize*cg[n.type];n.value?(s!==n.value.length&&de.error("attribute value has wrong length",t),i=n.value):i=A4("float32",s),this.geometry.setAttribute(t,new it(i,cg[n.type]).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0))}},Nt.prototype.updateRenderOrder=function(){var e=this.getRenderOrder();function t(i){i.renderOrder=e}this.group.children.forEach(t),this.pickingGroup&&this.pickingGroup.children.forEach(t)},Nt.prototype.updateShader=function(){var e=this.material,t=this.wireframeMaterial,i=this.pickingMaterial;e.vertexShader=this.getVertexShader(),e.fragmentShader=this.getFragmentShader(),e.needsUpdate=!0,t.vertexShader=this.getShader("Line.vert"),t.fragmentShader=this.getShader("Line.frag"),t.needsUpdate=!0,i.vertexShader=this.getVertexShader("picking"),i.fragmentShader=this.getFragmentShader("picking"),i.needsUpdate=!0},Nt.prototype.setParameters=function(e){var t=e,i=this.parameterTypes,n=this.parameters,s={},r={},a=!1,o=!1;for(var c in t){var p=t[c];p!==void 0&&(n[c]=p,i[c]!==void 0&&(i[c].property&&(i[c].property!==!0?s[i[c].property]=p:s[c]=p),i[c].uniform&&(i[c].uniform!==!0?r[i[c].uniform]=p:r[c]=p),i[c].updateShader&&(a=!0),i[c].updateVisibility&&(o=!0),this.dynamic&&c==="wireframe"&&p===!0&&this.updateWireframeIndex(),c==="forceTransparent"&&(s.transparent=this.transparent),c==="matrix"&&(this.matrix=p)))}this.setProperties(s),this.setUniforms(r),a&&this.updateShader(),o&&this.setVisibility(this.visible)},Nt.prototype.setAttributes=function(e){var t=this.geometry,i=t.attributes;for(var n in e)if(n!=="picking"){var s=e[n],r=s.length;if(n==="index"){var a=t.getIndex();if(!a){de.error("Index is null");continue}t.setDrawRange(0,1/0),r>a.array.length?t.setIndex(new it(s,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(a.set(s),a.count=r,a.needsUpdate=r>0,a.updateRange.count=r,t.setDrawRange(0,r)),this.indexVersion++,this.parameters.wireframe&&this.updateWireframeIndex()}else{var o=i[n];r>o.array.length?t.setAttribute(n,new it(s,o.itemSize).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(i[n].set(s),i[n].needsUpdate=r>0,i[n].updateRange.count=r)}}},Nt.prototype.setUniforms=function(e){if(e){var t=this.material.uniforms,i=this.wireframeMaterial.uniforms,n=this.pickingMaterial.uniforms;for(var s in e)s==="opacity"&&this.setProperties({transparent:this.transparent}),t[s]!==void 0&&(t[s].value.isVector3?t[s].value.copy(e[s]):t[s].value.set?t[s].value.set(e[s]):t[s].value=e[s]),i[s]!==void 0&&(i[s].value.isVector3?i[s].value.copy(e[s]):i[s].value.set?i[s].value.set(e[s]):i[s].value=e[s]),n[s]!==void 0&&(n[s].value.isVector3?n[s].value.copy(e[s]):n[s].value.set?n[s].value.set(e[s]):n[s].value=e[s])}},Nt.prototype.setProperties=function(e){if(e){var t=this.material,i=this.wireframeMaterial,n=this.pickingMaterial;for(var s in e){var r=s,a=e[r];r==="transparent"?this.updateRenderOrder():r==="side"&&(a=og(a)),t[r]=a,i[r]=a,n[r]=a}t.needsUpdate=!0,i.needsUpdate=!0,n.needsUpdate=!0}},Nt.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},Nt.prototype.dispose=function(){this.material&&this.material.dispose(),this.wireframeMaterial&&this.wireframeMaterial.dispose(),this.pickingMaterial&&this.pickingMaterial.dispose(),this.geometry.dispose(),this.wireframeGeometry&&this.wireframeGeometry.dispose()},Nt.prototype.toJSON=function(){var e={};for(var t in this)t!=="group"&&t!=="wireframeGroup"&&t!="pickingGroup"&&t!=="picking"&&(e[t]=this[t]);return e},Object.defineProperties(Nt.prototype,Wr);var Ar=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,i,n),this.vertexShader="Mesh.vert",this.fragmentShader="Mesh.frag",this.addAttributes({normal:{type:"v3",value:i.normal}}),i.normal===void 0&&this.geometry.computeVertexNormals()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nt),sE=function(e){function t(){e.apply(this,arguments),this.isSurface=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ar);function J0(e){e.visible=!0}function pg(e){e.visible=!1}var Wn=function(e){this.group=new Zt,this.wireframeGroup=new Zt,this.pickingGroup=new Zt,this.frontMeshes=[],this.backMeshes=[],this.size=e.size,this.side=e.parameters.side,this.visible=e.visible,this.geometry=e.geometry,this.picking=e.picking,this.group=new Zt,this.wireframeGroup=new Zt,this.pickingGroup=new Zt,this.matrix=e.matrix;var t=e,i=new e.constructor({position:new Float32Array(0)});t.makeMaterial(),i.makeMaterial(),i.picking=e.picking,i.geometry=e.geometry,i.wireframeGeometry=e.wireframeGeometry,i.setParameters(e.getParameters()),i.updateShader(),t.setParameters({side:"front"}),i.setParameters({side:"back",opacity:i.parameters.opacity}),this.buffer=e,this.frontBuffer=t,this.backBuffer=i},fp={matrix:{configurable:!0},pickable:{configurable:!0},parameters:{configurable:!0}};fp.matrix.set=function(e){Nt.prototype.setMatrix.call(this,e)},fp.matrix.get=function(){return this.group.matrix.clone()},fp.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},fp.parameters.get=function(){return this.buffer.parameters},Wn.prototype.getParameters=function(){var e=Object.assign({},this.buffer.parameters);return e.side=this.side,e},Wn.prototype.getMesh=function(e){var t,i;return e?(i=this.backBuffer.getPickingMesh(),t=this.frontBuffer.getPickingMesh()):(i=this.backBuffer.getMesh(),t=this.frontBuffer.getMesh()),this.frontMeshes.push(t),this.backMeshes.push(i),this.setParameters({side:this.side}),new Zt().add(i,t)},Wn.prototype.getWireframeMesh=function(){return this.buffer.getWireframeMesh()},Wn.prototype.getPickingMesh=function(){return this.getMesh(!0)},Wn.prototype.setAttributes=function(e){this.buffer.setAttributes(e)},Wn.prototype.setParameters=function(e){(e=Object.assign({},e)).side==="front"?(this.frontMeshes.forEach(J0),this.backMeshes.forEach(pg)):e.side==="back"?(this.frontMeshes.forEach(pg),this.backMeshes.forEach(J0)):e.side==="double"&&(this.frontMeshes.forEach(J0),this.backMeshes.forEach(J0)),e.side!==void 0&&(this.side=e.side),delete e.side,e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,this.frontBuffer.setParameters(e),e.wireframe!==void 0&&(this.wireframe=e.wireframe,this.setVisibility(this.visible)),delete e.wireframe,this.backBuffer.setParameters(e)},Wn.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},Wn.prototype.dispose=function(){this.frontBuffer.dispose(),this.backBuffer.dispose()},Wn.prototype.toJSON=function(){var e={};for(var t in this)["side","size","visible","matrix","parameters"].includes(t)&&(e[t]=this[t]);return e},Object.defineProperties(Wn.prototype,fp),Ht.add("shader/Line.vert",`uniform float clipNear;
uniform vec3 clipCenter;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include color_pars_vertex
void main(){
#include color_vertex
#include begin_vertex
#include project_vertex
vViewPosition = -mvPosition.xyz;
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Ht.add("shader/Line.frag",`uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
void main(){
#include nearclip_fragment
#include radiusclip_fragment
gl_FragColor = vec4( vColor, opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`);var rE=function(e){function t(){e.apply(this,arguments),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Nt),jh=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="surface",this.parameters=Object.assign({isolevelType:{type:"select",options:{value:"value",sigma:"sigma"}},isolevel:{type:"number",precision:2,max:1e3,min:-1e3},negateIsolevel:{type:"boolean"},isolevelScroll:{type:"boolean"},smooth:{type:"integer",precision:1,max:10,min:0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},boxSize:{type:"integer",precision:1,max:100,min:0},colorVolume:{type:"hidden"},contour:{type:"boolean",rebuild:!0},useWorker:{type:"boolean",rebuild:!0},wrap:{type:"boolean",rebuild:!0}},this.parameters),i instanceof Wt?(this.surface=void 0,this.volume=i):(this.surface=i,this.volume=void 0),this.boxCenter=new P,this.__boxCenter=new P,this.box=new ai,this.__box=new ai,this._position=new P,this.inverseMatrix=new De,this.setBox=function(){this._position.copy(n.translationGroup.position).negate(),this._position.applyMatrix4(this.inverseMatrix),this._position.equals(this.boxCenter)||this.setParameters({boxCenter:this._position})},this.toBePrepared=!0,this.viewer.signals.ticked.add(this.setBox,this),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"uniform"),n.colorValue=R(n.colorValue,14540253),this.isolevelType=R(n.isolevelType,"sigma"),this.isolevel=R(n.isolevel,2),this.negateIsolevel=R(n.negateIsolevel,!1),this.isolevelScroll=R(n.isolevelScroll,!1),this.smooth=R(n.smooth,0),this.background=R(n.background,!1),this.opaqueBack=R(n.opaqueBack,!0),this.boxSize=R(n.boxSize,0),this.colorVolume=R(n.colorVolume,void 0),this.contour=R(n.contour,!1),this.useWorker=R(n.useWorker,!0),this.wrap=R(n.wrap,!1),e.prototype.init.call(this,n),this.inverseMatrix.getInverse(this.matrix),this.build()},t.prototype.attach=function(i){var n=this;this.bufferList.forEach(function(s){n.viewer.add(s)}),this.setVisibility(this.visible),i()},t.prototype.prepare=function(i){var n,s=this;if(this.volume)if(n=this.isolevelType==="sigma"?this.volume.getValueForSigma(this.isolevel):this.isolevel,this.negateIsolevel&&(n*=-1),!this.surface||this.__isolevel!==n||this.__smooth!==this.smooth||this.__contour!==this.contour||this.__wrap!==this.wrap||this.__boxSize!==this.boxSize||this.boxSize>0&&!this.__boxCenter.equals(this.boxCenter)){this.__isolevel=n,this.__smooth=this.smooth,this.__contour=this.contour,this.__wrap=this.wrap,this.__boxSize=this.boxSize,this.__boxCenter.copy(this.boxCenter),this.__box.copy(this.box);var r=function(a){s.surface=a,i()};this.useWorker?this.volume.getSurfaceWorker(n,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap,r):r(this.volume.getSurface(n,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap))}else i();else i()},t.prototype.create=function(){var i,n={position:this.surface.getPosition(),color:this.surface.getColor(this.getColorParams()),index:this.surface.getIndex()};if(this.contour)i=new rE(n,this.getBufferParams({wireframe:!1}));else{Object.assign(n,{normal:this.surface.getNormal(),picking:this.surface.getPicking()});var s=new sE(n,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));i=new Wn(s)}this.bufferList.push(i)},t.prototype.update=function(i){if(this.bufferList.length!==0){var n={};(i=i||{}).position&&(n.position=this.surface.getPosition()),i.color&&(n.color=this.surface.getColor(this.getColorParams())),i.index&&(n.index=this.surface.getIndex()),i.normal&&(n.normal=this.surface.getNormal()),this.bufferList.forEach(function(s){s.setAttributes(n)})}},t.prototype.setParameters=function(i,n,s){return i&&i.isolevelType!==void 0&&this.volume&&(this.isolevelType==="value"&&i.isolevelType==="sigma"?this.isolevel=this.volume.getSigmaForValue(this.isolevel):this.isolevelType==="sigma"&&i.isolevelType==="value"&&(this.isolevel=this.volume.getValueForSigma(this.isolevel)),this.isolevelType=i.isolevelType),i&&i.boxCenter&&(this.boxCenter.copy(i.boxCenter),delete i.boxCenter),i&&i.wireframe&&(i.contour||i.contour===void 0&&this.contour)&&(i.wireframe=!1),e.prototype.setParameters.call(this,i,n,s),i.matrix&&this.inverseMatrix.getInverse(i.matrix),this.volume&&this.volume.getBox(this.boxCenter,this.boxSize,this.box),i&&i.colorVolume!==void 0&&n&&(n.color=!0),this.surface&&(i.isolevel!==void 0||i.negateIsolevel!==void 0||i.smooth!==void 0||i.wrap!==void 0||i.boxSize!==void 0||this.boxSize>0&&!this.__box.equals(this.box))&&this.build({position:!0,color:!0,index:!0,normal:!this.contour}),this},t.prototype.getColorParams=function(){var i=e.prototype.getColorParams.call(this);return i.volume=this.colorVolume,i},t.prototype.dispose=function(){this.viewer.signals.ticked.remove(this.setBox,this),e.prototype.dispose.call(this)},t}(Ci),pt=function(){};pt.zoomScroll=function(e,t){e.trackballControls.zoom(t)},pt.clipNearScroll=function(e,t){var i=e.getParameters();e.setParameters({clipNear:i.clipNear+t/10})},pt.focusScroll=function(e,t){var i=e.getFocus(),n=Math.sign(t)*function(s,r,a){if(s>r)return s;var o=s/r;return((2*a-r)*o+(2*r-3*a))*o*o+a}((100-i)/10,5,.2);e.setFocus(i+n)},pt.zoomFocusScroll=function(e,t){e.trackballControls.zoom(t);var i=e.viewer.camera.position.z;e.setFocus(100-Math.abs(i/8))},pt.isolevelScroll=function(e,t){var i=Math.sign(t)/10;e.eachRepresentation(function(n,s){if(n.repr instanceof jh){var r=n.getParameters();r.isolevelScroll&&n.setParameters({isolevel:r.isolevel+i})}})},pt.panDrag=function(e,t,i){e.trackballControls.pan(t,i)},pt.rotateDrag=function(e,t,i){e.trackballControls.rotate(t,i)},pt.zRotateDrag=function(e,t,i){e.trackballControls.zRotate(t,i)},pt.zoomDrag=function(e,t,i){e.trackballControls.zoom((t+i)/-2)},pt.zoomFocusDrag=function(e,t,i){e.trackballControls.zoom((t+i)/-2);var n=e.viewer.camera.position.z;e.setFocus(100-Math.abs(n/8))},pt.panComponentDrag=function(e,t,i){e.trackballControls.panComponent(t,i)},pt.panAtomDrag=function(e,t,i){e.trackballControls.panAtom(t,i)},pt.rotateComponentDrag=function(e,t,i){e.trackballControls.rotateComponent(t,i)},pt.movePick=function(e,t){t&&e.animationControls.move(t.position.clone())},pt.tooltipPick=function(e,t){var i=e.tooltip;if(e.getParameters().tooltip&&t){var n=t.mouse.position;i.innerText=t.getLabel(),i.style.bottom=window.innerHeight-n.y+3+"px",i.style.left=n.x+3+"px",i.style.display="block"}else i.style.display="none"};var aE={default:[["scroll",pt.zoomScroll],["scroll-shift",pt.focusScroll],["scroll-ctrl",pt.isolevelScroll],["scroll-shift-ctrl",pt.zoomFocusScroll],["drag-left",pt.rotateDrag],["drag-right",pt.panDrag],["drag-ctrl-left",pt.panDrag],["drag-ctrl-right",pt.zRotateDrag],["drag-shift-left",pt.zoomDrag],["drag-middle",pt.zoomFocusDrag],["drag-ctrl-shift-right",pt.panComponentDrag],["drag-ctrl-shift-left",pt.rotateComponentDrag],["clickPick-right",pt.measurePick=function(e,t){if(t&&(t.atom||t.bond)){var i=t.atom||t.closestBondAtom;t.component.measurePick(i)}else e.measureClear()}],["clickPick-ctrl-left",pt.measurePick],["clickPick-middle",pt.movePick],["clickPick-left",pt.movePick],["hoverPick",pt.tooltipPick]],pymol:[["drag-left",pt.rotateDrag],["drag-middle",pt.panDrag],["drag-right",pt.zoomDrag],["drag-shift-right",pt.focusScroll],["clickPick-ctrl+shift-middle",pt.movePick],["hoverPick",pt.tooltipPick]],coot:[["scroll",pt.isolevelScroll],["drag-left",pt.rotateDrag],["drag-middle",pt.panDrag],["drag-ctrl-left",pt.panDrag],["drag-right",pt.zoomFocusDrag],["drag-ctrl-right",pt.focusScroll],["clickPick-middle",pt.movePick],["hoverPick",pt.tooltipPick]],astexviewer:[["drag-left",pt.rotateDrag],["drag-ctrl-left",pt.panDrag],["drag-shift-left",pt.zoomDrag],["scroll",pt.focusScroll],["clickPick-middle",pt.movePick],["hoverPick",pt.tooltipPick]]};function fg(e){var t=e.split(/[-+]/),i="";t.includes("scroll")&&(i="scroll"),t.includes("drag")&&(i="drag"),t.includes("click")&&(i="click"),t.includes("doubleClick")&&(i="doubleClick"),t.includes("hover")&&(i="hover"),t.includes("clickPick")&&(i="clickPick"),t.includes("hoverPick")&&(i="hoverPick");var n=0;t.includes("alt")&&(n+=1),t.includes("ctrl")&&(n+=2),t.includes("meta")&&(n+=4),t.includes("shift")&&(n+=8);var s=0;return t.includes("left")&&(s+=1),t.includes("right")&&(s+=2),t.includes("middle")&&(s+=4),[i,n,s]}var ko=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.mouse=e.mouseObserver,this.disabled=t.disabled||!1,this.preset(t.preset||"default")};ko.prototype.run=function(e){for(var t=this,i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];if(!this.disabled){var s=this.mouse.key||0,r=this.mouse.buttons||0;this.actionList.forEach(function(a){a.type===e&&a.key===s&&a.button===r&&a.callback.apply(a,[t.stage].concat(i))})}},ko.prototype.add=function(e,t){var i=fg(e),n=i[0],s=i[1],r=i[2];this.actionList.push({type:n,key:s,button:r,callback:t})},ko.prototype.remove=function(e,t){var i=e.includes("*"),n=fg(e),s=n[0],r=n[1],a=n[2],o=this.actionList.filter(function(c){return!((c.type===s||i&&s==="")&&(c.key===r||i&&r===0)&&(c.button===a||i&&a===0)&&(c.callback===t||t===void 0))});this.actionList=o},ko.prototype.preset=function(e){var t=this;this.clear(),(aE[e]||[]).forEach(function(i){return t.add(i[0],i[1])})},ko.prototype.clear=function(){this.actionList.length=0};var Xr=function(){};Xr.autoView=function(e){e.autoView(1e3)},Xr.toggleAnimations=function(e){e.animationControls.toggle()},Xr.toggleRock=function(e){e.toggleRock()};var oI={default:[["i",Xr.toggleSpin=function(e){e.toggleSpin()}],["k",Xr.toggleRock],["p",Xr.toggleAnimations],["a",Xr.toggleAntialiasing=function(e){var t=e.getParameters();e.setParameters({sampleLevel:t.sampleLevel===-1?0:-1})}],["r",Xr.autoView]]},Bo=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.disabled=t.disabled||!1,this.preset(t.preset||"default")};Bo.prototype.run=function(e){var t=this;this.disabled||this.actionList.forEach(function(i){i.key===e&&i.callback(t.stage)})},Bo.prototype.add=function(e,t){this.actionList.push({key:e,callback:t})},Bo.prototype.remove=function(e,t){var i=this.actionList.filter(function(n){return!(n.key===e&&(n.callback===t||t===void 0))});this.actionList=i},Bo.prototype.preset=function(e){var t=this;this.clear(),(oI[e]||[]).forEach(function(i){return t.add(i[0],i[1])})},Bo.prototype.clear=function(){this.actionList.length=0};var Cl=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this)};Cl.prototype._onClick=function(e,t){var i=this.stage.pickingControls.pick(e,t);this.stage.signals.clicked.dispatch(i),this.controls.run("clickPick",i)},Cl.prototype._onHover=function(e,t){var i=this.stage.pickingControls.pick(e,t);i&&this.mouse.down.equals(this.mouse.position)&&(this.stage.transformComponent=i.component,this.stage.transformAtom=i.atom),this.stage.signals.hovered.dispatch(i),this.controls.run("hoverPick",i)},Cl.prototype.dispose=function(){this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var $r=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.moved.add(this._onMove,this),this.mouse.signals.scrolled.add(this._onScroll,this),this.mouse.signals.dragged.add(this._onDrag,this),this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this),this.mouse.signals.doubleClicked.add(this._onDblclick,this)};$r.prototype._onMove=function(){this.stage.tooltip.style.display="none"},$r.prototype._onScroll=function(e){this.controls.run("scroll",e)},$r.prototype._onDrag=function(e,t){this.controls.run("drag",e,t)},$r.prototype._onClick=function(e,t){this.controls.run("click",e,t)},$r.prototype._onDblclick=function(e,t){this.controls.run("doubleClick",e,t)},$r.prototype._onHover=function(e,t){this.controls.run("hover",e,t)},$r.prototype.dispose=function(){this.mouse.signals.moved.remove(this._onMove,this),this.mouse.signals.scrolled.remove(this._onScroll,this),this.mouse.signals.dragged.remove(this._onDrag,this),this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var $h=function(e){this.stage=e,this.viewer=e.viewer,this.animationControls=e.animationControls,this.viewer.signals.ticked.add(this._onTick,this)};$h.prototype._onTick=function(e){this.animationControls.run(e)},$h.prototype.dispose=function(){this.viewer.signals.ticked.remove(this._onTick,this)};var oE=!!L4&&{passive:!0},Vo=function(e){this.stage=e,this.stage=e,this.controls=e.keyControls,this.domElement=e.viewer.renderer.domElement,this.domElement.setAttribute("tabIndex","-1"),this.domElement.style.outline="none",this._focusDomElement=this._focusDomElement.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this._onKeypress=this._onKeypress.bind(this),this.domElement.addEventListener("mousedown",this._focusDomElement),this.domElement.addEventListener("touchstart",this._focusDomElement,oE),this.domElement.addEventListener("keydown",this._onKeydown),this.domElement.addEventListener("keyup",this._onKeyup),this.domElement.addEventListener("keypress",this._onKeypress)};Vo.prototype._onKeydown=function(){},Vo.prototype._onKeyup=function(){},Vo.prototype._onKeypress=function(e){var t;t="key"in KeyboardEvent.prototype?e.key:String.fromCharCode(e.which||e.keyCode),this.controls.run(t)},Vo.prototype._focusDomElement=function(){this.domElement.focus()},Vo.prototype.dispose=function(){this.domElement.removeEventListener("mousedown",this._focusDomElement),this.domElement.removeEventListener("touchstart",this._focusDomElement,oE),this.domElement.removeEventListener("keydown",this._onKeypress),this.domElement.removeEventListener("keyup",this._onKeypress),this.domElement.removeEventListener("keypress",this._onKeypress)};var Kr=function(e,t,i,n){n===void 0&&(n={}),this.component=e,this.position=t,this.offsetX=R(n.offsetX,0),this.offsetY=R(n.offsetY,0),this.visible=R(n.visible,!0),this.stage=e.stage,this.viewer=e.stage.viewer,this._viewerPosition=new P,this._updateViewerPosition(),this._canvasPosition=new Te,this._cameraPosition=new P,this.element=document.createElement("div"),Object.assign(this.element.style,{display:"block",position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",left:"-10000px"}),this.viewer.wrapper.appendChild(this.element),this.setContent(i),this.updateVisibility(),this.viewer.signals.rendered.add(this._update,this),this.component.signals.matrixChanged.add(this._updateViewerPosition,this)};Kr.prototype.setContent=function(e){var t=this.element.style.display;if(t==="none"&&(this.element.style.left="-10000px",this.element.style.display="block"),e instanceof HTMLElement)this.element.appendChild(e);else{var i=document.createElement("div");i.innerText=e,Object.assign(i.style,{backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.element.appendChild(i)}this._clientRect=this.element.getBoundingClientRect(),t==="none"&&(this.element.style.display=t)},Kr.prototype.setVisibility=function(e){this.visible=e,this.updateVisibility()},Kr.prototype.getVisibility=function(){return this.visible&&this.component.parameters.visible},Kr.prototype.updateVisibility=function(){this.element.style.display=this.getVisibility()?"block":"none"},Kr.prototype._updateViewerPosition=function(){this._viewerPosition.copy(this.position).applyMatrix4(this.component.matrix)},Kr.prototype._update=function(){if(this.getVisibility()){var e=this.element.style,t=this._canvasPosition,i=this._viewerPosition,n=this._clientRect;if(this._cameraPosition.copy(i).add(this.viewer.translationGroup.position).applyMatrix4(this.viewer.rotationGroup.matrix).sub(this.viewer.camera.position),this._cameraPosition.z<0)e.display="none";else{e.display="block";var s=this._cameraPosition.length(),r=this.viewer.scene.fog;e.opacity=(1-Kf(r.near,r.far,s)).toString(),e.zIndex=Math.round(100*(r.far-s)).toString(),this.stage.viewerControls.getPositionOnCanvas(i,t),e.bottom=this.offsetX+t.y+n.height/2+"px",e.left=this.offsetY+t.x-n.width/2+"px"}}},Kr.prototype.dispose=function(){this.viewer.wrapper.removeChild(this.element),this.viewer.signals.ticked.remove(this._update,this),this.component.signals.matrixChanged.remove(this._updateViewerPosition,this)};var or=new De,Q0=new P,lg=new ri,Pl=function(e){this.component=e,this.signals={changed:new _t.exports.Signal},this.stage=e.stage,this.viewer=e.stage.viewer},Im={position:{configurable:!0},rotation:{configurable:!0}};Im.position.get=function(){return this.component.position},Im.rotation.get=function(){return this.component.quaternion},Pl.prototype.changed=function(){this.component.updateMatrix(),this.viewer.requestRender(),this.signals.changed.dispatch()},Pl.prototype.spin=function(e,t){or.getInverse(this.viewer.rotationGroup.matrix),Q0.copy(ka(e)).applyMatrix4(or),or.extractRotation(this.component.transform),or.premultiply(this.viewer.rotationGroup.matrix),or.getInverse(or),Q0.copy(ka(e)),Q0.applyMatrix4(or),or.makeRotationAxis(Q0,t),lg.setFromRotationMatrix(or),this.component.quaternion.premultiply(lg),this.changed()},Object.defineProperties(Pl.prototype,Im);var cE={"":"",vdw:"by vdW radius",covalent:"by covalent radius",sstruc:"by secondary structure",bfactor:"by bfactor",size:"size",data:"data",explicit:"explicit"},Ys=function(e){e===void 0&&(e={}),this.max=10,this.type=R(e.type,"size"),this.scale=R(e.scale,1),this.size=R(e.size,1),this.data=R(e.data,{})};Ys.prototype.atomRadius=function(e){var t;switch(this.type){case"vdw":t=e.vdw;break;case"covalent":t=e.covalent;break;case"bfactor":t=e.bfactor||1;break;case"sstruc":var i=e.sstruc;t=i==="h"||i==="g"||i==="i"||i==="e"||i==="b"?.25:Y4.includes(e.atomname)?.4:.1;break;case"data":t=R(this.data[e.index],1);break;case"explicit":(t=e.radius)===null&&(t=this.size);break;default:t=this.size}return Math.min(t*this.scale,this.max)},Ys.types=cE;var cI=new P(-1,-1,-1),pI=new De,kp=function(e){var t=e.rows,i=t/3,n=new jt(t,3),s=new jt(3,3),r=new jt(1,3),a=new jt(3,3),o=new jt(3,3),c=qh(e);zh(e,c),hs(n,e),Ml(s,n,n),tE(s,r,a,o);var p=new P(c[0],c[1],c[2]),f=new P(a.data[0],a.data[3],a.data[6]),l=new P(a.data[1],a.data[4],a.data[7]),u=new P(a.data[2],a.data[5],a.data[8]),m=f.clone().multiplyScalar(Math.sqrt(r.data[0]/i)),d=l.clone().multiplyScalar(Math.sqrt(r.data[1]/i)),y=u.clone().multiplyScalar(Math.sqrt(r.data[2]/i));this.begA=p.clone().sub(m),this.endA=p.clone().add(m),this.begB=p.clone().sub(d),this.endB=p.clone().add(d),this.begC=p.clone().sub(y),this.endC=p.clone().add(y),this.center=p,this.vecA=m,this.vecB=d,this.vecC=y,this.normVecA=f,this.normVecB=l,this.normVecC=u};kp.prototype.getBasisMatrix=function(e){e===void 0&&(e=new De);var t=e;return t.makeBasis(this.normVecB,this.normVecA,this.normVecC),t.determinant()<0&&t.scale(cI),t},kp.prototype.getRotationQuaternion=function(e){e===void 0&&(e=new ri);var t=e;return t.setFromRotationMatrix(this.getBasisMatrix(pI)),t.inverse()},kp.prototype.getProjectedScaleForAtoms=function(e){var t=-1/0,i=-1/0,n=-1/0,s=-1/0,r=-1/0,a=-1/0,o=new P,c=new P,p=this.center,f=this.normVecA,l=this.normVecB,u=this.normVecC;return e.eachAtom(function(m){Va(o.copy(m),f,p);var d=c.subVectors(o,p).normalize().dot(f),y=o.distanceTo(p);d>0?y>t&&(t=y):y>i&&(i=y),Va(o.copy(m),l,p);var _=c.subVectors(o,p).normalize().dot(l),h=o.distanceTo(p);_>0?h>n&&(n=h):h>s&&(s=h),Va(o.copy(m),u,p);var g=c.subVectors(o,p).normalize().dot(u),E=o.distanceTo(p);g>0?E>r&&(r=E):E>a&&(a=E)}),{d1a:t,d2a:n,d3a:r,d1b:-i,d2b:-s,d3b:-a}};var jn=function(e,t,i,n){this.volume=e,this.setFilter(t,i,n)},ss={header:{configurable:!0},matrix:{configurable:!0},normalMatrix:{configurable:!0},inverseMatrix:{configurable:!0},center:{configurable:!0},boundingBox:{configurable:!0},min:{configurable:!0},max:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};ss.header.get=function(){return this.volume.header},ss.matrix.get=function(){return this.volume.matrix},ss.normalMatrix.get=function(){return this.volume.normalMatrix},ss.inverseMatrix.get=function(){return this.volume.inverseMatrix},ss.center.get=function(){return this.volume.center},ss.boundingBox.get=function(){return this.volume.boundingBox},ss.min.get=function(){return this.volume.min},ss.max.get=function(){return this.volume.max},ss.mean.get=function(){return this.volume.mean},ss.rms.get=function(){return this.volume.rms},jn.prototype._getFilterHash=function(e,t,i){return JSON.stringify([e,t,i])},jn.prototype.setFilter=function(e,t,i){isNaN(e)&&this.header&&(e=this.header.DMEAN+2*this.header.ARMS),e=e===void 0||isNaN(e)?-1/0:e,t=R(t,1/0),i=R(i,!1);var n=this.volume.data,s=this.volume.position,r=this.volume.atomindex,a=this._getFilterHash(e,t,i);if(a!==this._filterHash){if(e===-1/0&&t===1/0)this.data=n,this.position=s,this.atomindex=r;else{var o=n.length;this._dataBuffer||(this._dataBuffer=new ArrayBuffer(4*o),this._positionBuffer=new ArrayBuffer(3*o*4),r&&(this._atomindexBuffer=new ArrayBuffer(4*o)));var c,p=new Float32Array(this._dataBuffer),f=new Float32Array(this._positionBuffer);r&&(c=new Uint32Array(this._atomindexBuffer));for(var l=0,u=0;u<o;++u){var m=3*u,d=n[u];if(!i&&d>=e&&d<=t||i&&(d<e||d>t)){var y=3*l;p[l]=d,f[y+0]=s[m+0],f[y+1]=s[m+1],f[y+2]=s[m+2],r&&c&&(c[l]=r[u]),l+=1}}this.data=new Float32Array(this._dataBuffer,0,l),this.position=new Float32Array(this._positionBuffer,0,3*l),r&&(this.atomindex=new Int32Array(this._atomindexBuffer,0,l))}this._filterHash=a}},Object.defineProperties(jn.prototype,ss),jn.prototype.getValueForSigma=Wt.prototype.getValueForSigma,jn.prototype.getSigmaForValue=Wt.prototype.getSigmaForValue,jn.prototype.getDataAtomindex=Wt.prototype.getDataAtomindex,jn.prototype.getDataPosition=Wt.prototype.getDataPosition,jn.prototype.getDataColor=Wt.prototype.getDataColor,jn.prototype.getDataPicking=Wt.prototype.getDataPicking,jn.prototype.getDataSize=Wt.prototype.getDataSize;var fI=function(e,t){var i=z4({nodeArray1:e.atomIndex1,nodeArray2:e.atomIndex2,edgeCount:e.count,nodeCount:t});this.countArray=i.countArray,this.offsetArray=i.offsetArray,this.indexArray=i.indexArray},Tl=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["atomIndex1",1,"int32"],["atomIndex2",1,"int32"],["bondOrder",1,"int8"]]},t.prototype.addBond=function(n,s,r){this.growIfFull();var a=this.count,o=n.index,c=s.index;o<c?(this.atomIndex1[a]=o,this.atomIndex2[a]=c):(this.atomIndex2[a]=o,this.atomIndex1[a]=c),r&&(this.bondOrder[a]=r),this.count+=1},t.prototype.addBondIfConnected=function(n,s,r){return!!n.connectedTo(s)&&(this.addBond(n,s,r),!0)},Object.defineProperties(t.prototype,i),t}(ji),lI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["residueIndex",1,"uint32"],["atomTypeId",1,"uint16"],["x",1,"float32"],["y",1,"float32"],["z",1,"float32"],["serial",1,"int32"],["bfactor",1,"float32"],["altloc",1,"uint8"],["occupancy",1,"float32"]]},t.prototype.setAltloc=function(n,s){this.altloc[n]=s.charCodeAt(0)},t.prototype.getAltloc=function(n){var s=this.altloc[n];return s?String.fromCharCode(s):""},Object.defineProperties(t.prototype,i),t}(ji),uI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["chainIndex",1,"uint32"],["atomOffset",1,"uint32"],["atomCount",1,"uint32"],["residueTypeId",1,"uint16"],["resno",1,"int32"],["sstruc",1,"uint8"],["inscode",1,"uint8"]]},t.prototype.setSstruc=function(n,s){this.sstruc[n]=s.charCodeAt(0)},t.prototype.getSstruc=function(n){var s=this.sstruc[n];return s?String.fromCharCode(s):""},t.prototype.setInscode=function(n,s){this.inscode[n]=s.charCodeAt(0)},t.prototype.getInscode=function(n){var s=this.inscode[n];return s?String.fromCharCode(s):""},Object.defineProperties(t.prototype,i),t}(ji),mI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["entityIndex",1,"uint16"],["modelIndex",1,"uint16"],["residueOffset",1,"uint32"],["residueCount",1,"uint32"],["chainname",4,"uint8"],["chainid",4,"uint8"]]},t.prototype.setChainname=function(n,s){var r=4*n;this.chainname[r]=s.charCodeAt(0),this.chainname[r+1]=s.charCodeAt(1),this.chainname[r+2]=s.charCodeAt(2),this.chainname[r+3]=s.charCodeAt(3)},t.prototype.getChainname=function(n){for(var s="",r=0;r<4;++r){var a=this.chainname[4*n+r];if(!a)break;s+=String.fromCharCode(a)}return s},t.prototype.setChainid=function(n,s){var r=4*n;this.chainid[r]=s.charCodeAt(0),this.chainid[r+1]=s.charCodeAt(1),this.chainid[r+2]=s.charCodeAt(2),this.chainid[r+3]=s.charCodeAt(3)},t.prototype.getChainid=function(n){for(var s="",r=0;r<4;++r){var a=this.chainid[4*n+r];if(!a)break;s+=String.fromCharCode(a)}return s},Object.defineProperties(t.prototype,i),t}(ji),dI=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["chainOffset",1,"uint32"],["chainCount",1,"uint32"]]},Object.defineProperties(t.prototype,i),t}(ji),hr=function(e){this.polymer=e,this.size=e.residueCount};hr.prototype.getCenterIterator=function(e){e===void 0&&(e=0);var t=this.getPosition().center,i=t.length/3,n=0,s=-1,r=[new P,new P,new P,new P];return{size:i,next:function(){var a=this.get(s);return s+=1,a},get:function(a){a=Math.min(i-1,Math.max(0,a));var o=r[n%4],c=3*a;if(o.fromArray(t,c),e){for(var p=Math.min(e,a,i-a-1),f=1;f<=p;++f){var l=3*f,u=(p+1-f)/(p+1);o.x+=u*t[c-l+0]+u*t[c+l+0],o.y+=u*t[c-l+1]+u*t[c+l+1],o.z+=u*t[c-l+2]+u*t[c+l+2]}o.x/=p+1,o.y/=p+1,o.z/=p+1}return n+=1,o},reset:function(){n=0,s=-1}}},hr.prototype.getColor=function(e){var t=this.polymer,i=t.structure,n=t.residueCount,s=t.residueIndexStart,r=new Float32Array(3*n),a=e||{};a.structure=i;for(var o=It.getScheme(a),c=i.getResidueProxy(),p=i.getAtomProxy(),f=0;f<n;++f)c.index=s+f,p.index=c.traceAtomIndex,o.atomColorToArray(p,r,3*f);return{color:r}},hr.prototype.getPicking=function(){for(var e=this.polymer,t=e.structure,i=e.residueCount,n=e.residueIndexStart,s=new Float32Array(i),r=t.getResidueProxy(),a=0;a<i;++a)r.index=n+a,s[a]=r.traceAtomIndex;return{picking:new so(s,t)}},hr.prototype.getSize=function(e){for(var t=this.polymer,i=t.structure,n=t.residueCount,s=t.residueIndexStart,r=new Float32Array(n),a=new Ys(e),o=i.getResidueProxy(),c=i.getAtomProxy(),p=0;p<n;++p)o.index=s+p,c.index=o.traceAtomIndex,r[p]=a.atomRadius(c);return{size:r}},hr.prototype.getPosition=function(){for(var e=this.polymer,t=e.structure,i=e.residueCount,n=i-3,s=new Float32Array(3*i),r=new Float32Array(3*i),a=new Float32Array(i),o=new Float32Array(i),c=new Float32Array(i),p=new Float32Array(i),f=new Float32Array(3*i),l=new P,u=new P,m=new P,d=new P,y=new P,_=new P,h=new P,g=new P,E=new P,w=new P,v=new P,x=new P(0,0,0),b="trace",A=t.getAtomProxy(),M=t.getAtomProxy(e.getAtomIndexByType(0,b)),G=t.getAtomProxy(e.getAtomIndexByType(1,b)),T=t.getAtomProxy(e.getAtomIndexByType(2,b)),N=0;N<n;++N){A.index=M.index,M.index=G.index,G.index=T.index,T.index=e.getAtomIndexByType(N+3,b);var D=3*N;l.subVectors(M,A),u.subVectors(G,M),m.subVectors(T,G),d.subVectors(l,u),y.subVectors(u,m),E.crossVectors(d,y).normalize(),E.toArray(r,D),N>0&&(a[N]=E.angleTo(w));var L=Math.cos(d.angleTo(y));p[N]=180/Math.PI*Math.acos(L);var C=d.length(),O=y.length();o[N]=Math.sqrt(O*C)/Math.max(2,2*(1-L)),c[N]=Math.abs(u.dot(E)),_.copy(d).multiplyScalar(o[N]/C),h.copy(y).multiplyScalar(o[N]/O),_.subVectors(M,_),h.subVectors(G,h),_.toArray(s,D+3),h.toArray(s,D+6),v.subVectors(A,x),v.toArray(f,D),w.copy(E),x.copy(_)}_.fromArray(s,3),h.fromArray(s,6),E.subVectors(_,h).normalize(),A.index=e.getAtomIndexByType(0,b),x.copy(A),g.copy(A),Va(g,E,_),g.toArray(s,0),v.subVectors(x,_),v.toArray(f,0),_.fromArray(s,3*i-6),h.fromArray(s,3*i-9),E.subVectors(_,h).normalize(),A.index=e.getAtomIndexByType(i-1,b),x.copy(A),g.copy(A),Va(g,E,_),g.toArray(s,3*i-3);for(var q=i-3;q<i;++q)_.fromArray(s,3*q),A.index=e.getAtomIndexByType(q,b),x.copy(A),v.subVectors(x,_),v.toArray(f,3*q);var z=new Float32Array(i),$=new Float32Array(i),re=new Float32Array(i),K=new Float32Array(i);z[1]=o[0],$[1]=p[0],re[1]=o[0];for(var J=2;J<i-2;++J)z[J]=.5*(o[J-2]+o[J-1]),$[J]=.5*(p[J-2]+p[J-1]),re[J]=.5*(c[J-2]+c[J-1]),_.fromArray(r,3*(J-2)),h.fromArray(r,3*(J-1)),K[J]=180/Math.PI*Math.acos(Math.cos(_.angleTo(h)));z[i-2]=o[i-4],$[i-2]=p[i-4],re[i-2]=c[i-4];var Y=new Float32Array(3*i);Fi(r,Y,0,0,3),Fi(r,Y,0,3,3);for(var le=2;le<i-2;++le)_.fromArray(r,3*(le-2)),h.fromArray(r,3*(le-1)),E.addVectors(h,_).multiplyScalar(.5).normalize(),E.toArray(Y,3*le);return Fi(r,Y,3*i-12,3*i-6,3),Fi(r,Y,3*i-12,3*i-3,3),{center:s,axis:Y,bending:K,radius:z,rise:re,twist:$,resdir:f}};var $_=function(e){this.polymer=e,this.helixorient=new hr(e),this.position=this.helixorient.getPosition()};$_.prototype.getAxis=function(e,t,i,n,s){e=e||30,t=t||2.5,i=i!==void 0&&i;var r=this.polymer,a=r.structure,o=r.residueCount,c=r.residueIndexStart,p=this.position,f=n||{};f.structure=a;for(var l,u,m=It.getScheme(f),d=new Ys(s),y=0,_=0,h=[],g=[],E=[],w=[],v=[],x=[],b=[],A=[],M=[],G=new Float32Array(3*o),T=new Float32Array(3*o),N=new P,D=new P,L=a.getResidueProxy(),C=a.getResidueProxy(),O=a.getAtomProxy(),q=new P,z=new P,$=!1,re=0;re<o;++re)if(L.index=c+re,q.fromArray(p.center,3*re),re===o-1?$=!0:(C.index=c+re+1,z.fromArray(p.center,3*re+3),(i&&L.sstruc!==C.sstruc||q.distanceTo(z)>t||p.bending[re]>e)&&($=!0)),$){if(re-y<4){y=re,$=!1;continue}O.index=L.traceAtomIndex,G=p.axis.subarray(3*y+3,3*re),T=p.center.subarray(3*y,3*re+3),l=kh(G).normalize(),u=kh(T),N.fromArray(T),Va(N,l,u),D.fromArray(T,T.length-3),Va(D,l,u),l.subVectors(D,N),l.toArray(h,_),u.toArray(g,_),N.toArray(E,_),D.toArray(w,_),m.atomColorToArray(O,v,_),x.push(O.index),b.push(d.atomRadius(O)),A.push(c+y),M.push(c+re+1-y),_+=3,y=re,$=!1}var K=new Float32Array(x);return{axis:new Float32Array(h),center:new Float32Array(g),begin:new Float32Array(E),end:new Float32Array(w),color:new Float32Array(v),picking:new so(K,a),size:new Float32Array(b),residueOffset:A,residueCount:M}};var Yr=function(e){this.scoreFunction=e,this.content=[],this.scoreFunction=e};Yr.prototype.push=function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},Yr.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return t&&this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},Yr.prototype.peek=function(){return this.content[0]},Yr.prototype.remove=function(e){for(var t=this.content.length,i=0;i<t;i++)if(this.content[i]===e){var n=this.content.pop();return void(n&&i!==t-1&&(this.content[i]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.bubbleUp(i):this.sinkDown(i)))}throw new Error("Node not found.")},Yr.prototype.size=function(){return this.content.length},Yr.prototype.bubbleUp=function(e){for(var t=this.content[e];e>0;){var i=Math.floor((e+1)/2)-1,n=this.content[i];if(!(this.scoreFunction(t)<this.scoreFunction(n)))break;this.content[i]=t,this.content[e]=n,e=i}},Yr.prototype.sinkDown=function(e){for(var t=this.content.length,i=this.content[e],n=this.scoreFunction(i),s=0;;){var r=2*(e+1),a=r-1,o=null;if(a<t){var c=this.content[a];(s=this.scoreFunction(c))<n&&(o=a)}if(r<t){var p=this.content[r];this.scoreFunction(p)<(o===null?n:s)&&(o=r)}if(o===null)break;this.content[e]=this.content[o],this.content[o]=i,e=o}};/**
 * Kdtree
 * @class
 * @author Alexander Rose <alexander.rose@weirdbyte.de>, 2016
 * @author Roman Bolzern <roman.bolzern@fhnw.ch>, 2013
 * @author I4DS http://www.fhnw.ch/i4ds, 2013
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 * @description
 * k-d Tree for typed arrays of 3d points (e.g. for Float32Array), in-place
 * provides fast nearest neighbour search
 *
 * Based on https://github.com/ubilabs/kd-tree-javascript by Ubilabs
 *
 * Further information (including mathematical properties)
 * http://en.wikipedia.org/wiki/Binary_tree
 * http://en.wikipedia.org/wiki/K-d_tree
 *
 * @example
 * points: [x, y, z, x, y, z, x, y, z, ...]
 * metric: function(a, b){
 *    return Math.pow(a[0]-b[0], 2) + Math.pow(a[1]-b[1], 2) + Math.pow(a[2]-b[2], 2);
 * }
 *
 * @param {Float32Array} points - points
 * @param {Function} metric - metric
 */var Fp=function(e,t){this.points=e,this.metric=t,this.maxDepth=0,this.currentNode=0;for(var i=e.length/3,n=new Uint32Array(i),s=0;s<i;++s)n[s]=s;this.indices=n,this.nodes=new Int32Array(4*i),this.rootIndex=this.buildTree(0,-1,0,i)};Fp.prototype.buildTree=function(e,t,i,n){e>this.maxDepth&&(this.maxDepth=e);var s=n-i;if(s===0)return-1;var r=4*this.currentNode,a=this.nodes;if(this.currentNode+=1,s===1)return a[r]=i,a[r+1]=-1,a[r+2]=-1,a[r+3]=t,r;for(var o,c,p,f,l,u=this.indices,m=this.points,d=i+Math.floor(s/2),y=e%3,_=i,h=n-1;h>_;){for(f=m[3*u[p=_+h>>1]+y],c=u[p],u[p]=u[h],u[h]=c,l=_,o=_;o<h;++o)m[3*u[o]+y]<f&&(c=u[l],u[l]=u[o],u[o]=c,++l);if(c=u[h],u[h]=u[l],u[l]=c,d===(p=l))break;d<p?h=p-1:_=p+1}return a[r]=d,a[r+1]=this.buildTree(e+1,r,i,d),a[r+2]=this.buildTree(e+1,r,d+1,n),a[r+3]=t,r},Fp.prototype.getNodeDepth=function(e){var t=this.nodes[e+3];return t===-1?0:this.getNodeDepth(t)+1},Fp.prototype.nearest=function(e,t,i){var n=this,s=new Yr(function(u){return-u[1]}),r=this.nodes,a=this.points,o=this.indices,c=function(u){var m,d,y=n.getNodeDepth(u)%3,_=3*o[r[u]],h=[a[_+0],a[_+1],a[_+2]],g=n.metric(e,h);function E(M,G){s.push([M,G]),s.size()>t&&s.pop()}var w=r[u+1],v=r[u+2];if(v!==-1||w!==-1){m=v===-1?w:w===-1?v:e[y]<=a[_+y]?w:v,c(m),(s.size()<t||g<s.peek()[1])&&g<=i&&E(u,g);for(var x=[],b=0;b<3;b+=1)x[b]=b===y?e[b]:a[_+b];var A=n.metric(x,h);(s.size()<t||Math.abs(A)<s.peek()[1])&&Math.abs(A)<=i&&(d=m===w?v:w)!==-1&&c(d)}else(s.size()<t||g<s.peek()[1])&&g<=i&&E(u,g)};c(this.rootIndex);for(var p=[],f=0,l=Math.min(s.size(),t);f<l;f+=1)p.push(s.content[f]);return p},Fp.prototype.verify=function(e,t){t===void 0&&(t=0);var i=1;if(e===void 0&&(e=this.rootIndex),e===-1)throw new Error("node is null");var n=t%3,s=this.nodes,r=this.points,a=this.indices,o=s[e+1],c=s[e+2];if(o!==-1){if(r[3*a[s[o]]+n]>r[3*a[s[e]]+n])throw new Error("left child is > parent!");i+=this.verify(o,t+1)}if(c!==-1){if(r[3*a[s[c]]+n]<r[3*a[s[e]]+n])throw new Error("right child is < parent!");i+=this.verify(c,t+1)}return i};var nt=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},wt={bondHash:{configurable:!0},entity:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},chainIndex:{configurable:!0},residue:{configurable:!0},residueIndex:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},resno:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},residueType:{configurable:!0},atomType:{configurable:!0},residueAtomOffset:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},atomname:{configurable:!0},number:{configurable:!0},element:{configurable:!0},vdw:{configurable:!0},covalent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},serial:{configurable:!0},bfactor:{configurable:!0},occupancy:{configurable:!0},altloc:{configurable:!0},partialCharge:{configurable:!0},radius:{configurable:!0},formalCharge:{configurable:!0},aromatic:{configurable:!0},bondCount:{configurable:!0}};function pE(e,t){var i=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];return i*i+n*n+s*s}function hI(e,t){return Math.sqrt(pE(e,t))}wt.bondHash.get=function(){return this.structure.bondHash},wt.entity.get=function(){return this.structure.entityList[this.entityIndex]},wt.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},wt.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},wt.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndex]},wt.residue.get=function(){return console.warn("residue - might be expensive"),this.structure.getResidueProxy(this.residueIndex)},wt.residueIndex.get=function(){return this.atomStore.residueIndex[this.index]},wt.residueIndex.set=function(e){this.atomStore.residueIndex[this.index]=e},wt.sstruc.get=function(){return this.residueStore.getSstruc(this.residueIndex)},wt.inscode.get=function(){return this.residueStore.getInscode(this.residueIndex)},wt.resno.get=function(){return this.residueStore.resno[this.residueIndex]},wt.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},wt.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},wt.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex])},wt.atomType.get=function(){return this.atomMap.get(this.atomStore.atomTypeId[this.index])},wt.residueAtomOffset.get=function(){return this.residueStore.atomOffset[this.residueIndex]},wt.resname.get=function(){return this.residueType.resname},wt.hetero.get=function(){return this.residueType.hetero},wt.atomname.get=function(){return this.atomType.atomname},wt.number.get=function(){return this.atomType.number},wt.element.get=function(){return this.atomType.element},wt.vdw.get=function(){return this.atomType.vdw},wt.covalent.get=function(){return this.atomType.covalent},wt.x.get=function(){return this.atomStore.x[this.index]},wt.x.set=function(e){this.atomStore.x[this.index]=e},wt.y.get=function(){return this.atomStore.y[this.index]},wt.y.set=function(e){this.atomStore.y[this.index]=e},wt.z.get=function(){return this.atomStore.z[this.index]},wt.z.set=function(e){this.atomStore.z[this.index]=e},wt.serial.get=function(){return this.atomStore.serial[this.index]},wt.serial.set=function(e){this.atomStore.serial[this.index]=e},wt.bfactor.get=function(){return this.atomStore.bfactor[this.index]},wt.bfactor.set=function(e){this.atomStore.bfactor[this.index]=e},wt.occupancy.get=function(){return this.atomStore.occupancy[this.index]},wt.occupancy.set=function(e){this.atomStore.occupancy[this.index]=e},wt.altloc.get=function(){return this.atomStore.getAltloc(this.index)},wt.altloc.set=function(e){this.atomStore.setAltloc(this.index,e)},wt.partialCharge.get=function(){return this.atomStore.partialCharge?this.atomStore.partialCharge[this.index]:null},wt.partialCharge.set=function(e){this.atomStore.partialCharge&&(this.atomStore.partialCharge[this.index]=e)},wt.radius.get=function(){return this.atomStore.radius?this.atomStore.radius[this.index]:null},wt.radius.set=function(e){this.atomStore.radius&&(this.atomStore.radius[this.index]=e)},wt.formalCharge.get=function(){return this.atomStore.formalCharge?this.atomStore.formalCharge[this.index]:null},wt.formalCharge.set=function(e){this.atomStore.formalCharge&&(this.atomStore.formalCharge[this.index]=e)},wt.aromatic.get=function(){return this.atomStore.aromatic?this.atomStore.aromatic[this.index]:this.residueType.isAromatic(this)?1:0},wt.aromatic.set=function(e){this.atomStore.aromatic&&(this.atomStore.aromatic[this.index]=e)},wt.bondCount.get=function(){return this.bondHash.countArray[this.index]},nt.prototype.eachBond=function(e,t){t=t||this.structure._bp;for(var i=this.index,n=this.bondHash,s=n.indexArray,r=n.countArray[i],a=n.offsetArray[i],o=0;o<r;++o)t.index=s[a+o],e(t)},nt.prototype.eachBondedAtom=function(e,t){var i=t||this.structure._ap,n=this.index;this.eachBond(function(s){i.index=n!==s.atomIndex1?s.atomIndex1:s.atomIndex2,e(i)}),this.index=n},nt.prototype.hasBondTo=function(e){var t=!1;return this.eachBondedAtom(function(i){e.index===i.index&&(t=!0)}),t},nt.prototype.bondToElementCount=function(e){var t=0,i=this.index;return this.eachBondedAtom(function(n){n.number===e&&(t+=1)}),this.index=i,t},nt.prototype.hasBondToElement=function(e){return this.bondToElementCount(e)>0},nt.prototype.isBackbone=function(){var e=this.residueType.backboneIndexList;return e.length>0&&e.includes(this.index-this.residueAtomOffset)},nt.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},nt.prototype.isSidechain=function(){return this.isPolymer()&&!this.isBackbone()},nt.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},nt.prototype.isTrace=function(){return this.index===this.residueType.traceAtomIndex+this.residueAtomOffset},nt.prototype.isHetero=function(){return this.residueType.hetero===1},nt.prototype.isProtein=function(){return this.residueType.moleculeType===3},nt.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},nt.prototype.isRna=function(){return this.residueType.moleculeType===4},nt.prototype.isDna=function(){return this.residueType.moleculeType===5},nt.prototype.isWater=function(){return this.residueType.moleculeType===1},nt.prototype.isIon=function(){return this.residueType.moleculeType===2},nt.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},nt.prototype.isHelix=function(){return U4.includes(this.sstruc)},nt.prototype.isSheet=function(){return W4.includes(this.sstruc)},nt.prototype.isTurn=function(){return j4.includes(this.sstruc)&&this.isProtein()},nt.prototype.isBonded=function(){return this.bondHash.countArray[this.index]!==0},nt.prototype.isRing=function(){return this.residueType.getRings().atomRings[this.index-this.residueAtomOffset]!==void 0},nt.prototype.isAromatic=function(){return this.aromatic===1},nt.prototype.isPolarHydrogen=function(){var e=!1;return this.number!==1?e:e=!this.hasBondToElement(6)},nt.prototype.isMetal=function(){return this.atomType.isMetal()},nt.prototype.isNonmetal=function(){return this.atomType.isNonmetal()},nt.prototype.isMetalloid=function(){return this.atomType.isMetalloid()},nt.prototype.isHalogen=function(){return this.atomType.isHalogen()},nt.prototype.isDiatomicNonmetal=function(){return this.atomType.isDiatomicNonmetal()},nt.prototype.isPolyatomicNonmetal=function(){return this.atomType.isPolyatomicNonmetal()},nt.prototype.isAlkaliMetal=function(){return this.atomType.isAlkaliMetal()},nt.prototype.isAlkalineEarthMetal=function(){return this.atomType.isAlkalineEarthMetal()},nt.prototype.isNobleGas=function(){return this.atomType.isNobleGas()},nt.prototype.isTransitionMetal=function(){return this.atomType.isTransitionMetal()},nt.prototype.isPostTransitionMetal=function(){return this.atomType.isPostTransitionMetal()},nt.prototype.isLanthanide=function(){return this.atomType.isLanthanide()},nt.prototype.isActinide=function(){return this.atomType.isActinide()},nt.prototype.getDefaultValence=function(){return this.atomType.getDefaultValence()},nt.prototype.getValenceList=function(){return this.atomType.getValenceList()},nt.prototype.getOuterShellElectronCount=function(){return this.atomType.getOuterShellElectronCount()},nt.prototype.distanceTo=function(e){var t=this.atomStore,i=e.atomStore,n=this.index,s=e.index,r=t.x[n]-i.x[s],a=t.y[n]-i.y[s],o=t.z[n]-i.z[s],c=r*r+a*a+o*o;return Math.sqrt(c)},nt.prototype.connectedTo=function(e){var t=this.atomStore,i=e.atomStore,n=this.index,s=e.index;if(t.altloc&&i.altloc){var r=t.altloc[n],a=i.altloc[s];if(r!==0&&a!==0&&r!==32&&a!==32&&r!==a)return!1}var o=t.x[n]-i.x[s],c=t.y[n]-i.y[s],p=t.z[n]-i.z[s],f=o*o+c*c+p*p;if(f<48&&this.isCg())return!0;if(isNaN(f))return!1;var l=this.covalent+e.covalent,u=l+.3,m=l-.5;return f<u*u&&f>m*m},nt.prototype.positionFromArray=function(e,t){return t===void 0&&(t=0),this.x=e[t+0],this.y=e[t+1],this.z=e[t+2],this},nt.prototype.positionToArray=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var i=this.index,n=this.atomStore;return e[t+0]=n.x[i],e[t+1]=n.y[i],e[t+2]=n.z[i],e},nt.prototype.positionToVector3=function(e){return e===void 0&&(e=new P),e.x=this.x,e.y=this.y,e.z=this.z,e},nt.prototype.positionFromVector3=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},nt.prototype.positionAdd=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},nt.prototype.positionSub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},nt.prototype.getResidueBonds=function(e){e===void 0&&(e=!1);var t,i,n,s,r=this.residueAtomOffset,a=this.index-this.residueAtomOffset,o=this.residueType.getBonds(),c=o.atomIndices1,p=o.atomIndices2;for(e||(s=[]),t=c.indexOf(a);t!==-1;){if(n=p[t]+r,!s)return n;s.push(n),t=c.indexOf(a,t+1)}for(i=p.indexOf(a);i!==-1;){if(n=c[i]+r,!s)return n;s.push(n),i=p.indexOf(a,i+1)}return s},nt.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chainname&&(t+=":"+this.chainname),this.atomname&&(t+="."+this.atomname),this.altloc&&(t+="%"+this.altloc),this.structure.modelStore.count>1&&(t+="/"+this.modelIndex),t},nt.prototype.clone=function(){return new nt(this.structure,this.index)},nt.prototype.toObject=function(){return{index:this.index,residueIndex:this.residueIndex,resname:this.resname,x:this.x,y:this.y,z:this.z,element:this.element,chainname:this.chainname,resno:this.resno,serial:this.serial,vdw:this.vdw,covalent:this.covalent,hetero:this.hetero,bfactor:this.bfactor,altloc:this.altloc,atomname:this.atomname,modelIndex:this.modelIndex}},Object.defineProperties(nt.prototype,wt);var Lm=new Float32Array(3),fE=function(e,t){t===void 0&&(t=!1),Ce&&de.time("Kdtree build");var i=t?pE:hI,n=new Float32Array(3*e.atomCount),s=new Uint32Array(e.atomCount),r=0;e.eachAtom(function(a){n[r+0]=a.x,n[r+1]=a.y,n[r+2]=a.z,s[r/3]=a.index,r+=3}),this.atomIndices=s,this.points=n,this.kdtree=new Fp(n,i),Ce&&de.timeEnd("Kdtree build")};fE.prototype.nearest=function(e,t,i){e instanceof P?e.toArray(Lm):e instanceof nt&&e.positionToArray(Lm);for(var n=this.kdtree.nearest(Lm,t,i),s=this.kdtree.indices,r=this.kdtree.nodes,a=this.atomIndices,o=[],c=0,p=n.length;c<p;++c){var f=n[c],l=f[0],u=f[1];o.push({index:a[s[r[l]]],distance:u})}return o};var _I={" ":"X","!":"Y","#":"Z",$:"-X","%":"-Y","&":"-Z","'":"Y+1/2","(":"1/2+X",")":"1/2+Y","*":"1/2-X","+":"1/2+Z",",":"1/2-Y","-":"1/2-Z",".":"X+1/2","/":"Z+1/2",0:"-X+1/2",1:"-Y+1/2",2:"-Z+1/2",3:"1/4+X",4:"1/4-Y",5:"1/4+Z",6:"1/4-X",7:"1/4+Y",8:"3/4-Y",9:"3/4+Z",":":"3/4+Y",";":"3/4+X","<":"3/4-X","=":"1/4-Z",">":"3/4-Z","?":"X-Y","@":"Y-X",A:"Z+1/3",B:"Z+2/3",C:"X+2/3",D:"Y+1/3",E:"-Y+2/3",F:"X-Y+1/3",G:"Y-X+2/3",H:"-X+1/3",I:"X+1/3",J:"Y+2/3",K:"-Y+1/3",L:"X-Y+2/3",M:"Y-X+1/3",N:"-X+2/3",O:"2/3+X",P:"1/3+Y",Q:"1/3+Z",R:"2/3-Y",S:"1/3+X-Y",T:"2/3+Y-X",U:"1/3-X",V:"2/3-X",W:"1/3-Y",X:"1/3-Z",Y:"2/3+Y",Z:"1/3+Y-X","[":"2/3+X-Y","]":"1/3+X","^":"2/3+Z",_:"2/3-Z","`":"5/6+Z",a:"1/6+Z",b:"5/6-Z",c:"1/6-Z",d:"Z+5/6",e:"Z+1/6",f:"Z+1/4",g:"+Y"},yI={"P 1":" !#","P -1":" !#$%&","P 1 2 1":" !#$!&","P 1 21 1":" !#$'&","C 1 2 1":" !#$!&()#*)&","P 1 m 1":" !# %#","P 1 c 1":" !# %+","C 1 m 1":" !# %#()#(,#","C 1 c 1":" !# %+()#(,+","P 1 2/m 1":" !# %#$!&$%&","P 1 21/m 1":" !#$)&$%& ,#","C 1 2/m 1":" !# %#$!&$%&()#(,#*)&*,&","P 1 2/c 1":" !#$!-$%& %+","P 1 21/c 1":" !#$%&$)- ,+","C 1 2/c 1":" !#$!-$%& %+()#*)-*,&(,+","P 2 2 2":" !#$%#$!& %&","P 2 2 21":" !#$%+$!- %&","P 21 21 2":" !#$%#*)&(,&","P 21 21 21":" !#*%+$)-(,&","C 2 2 21":" !#$%+$!- %&()#*,+*)-(,&","C 2 2 2":" !#$%#$!& %&()#*,#*)&(,&","F 2 2 2":" !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&","I 2 2 2":" !#$%# %&$!&.'/01/.120'2","I 21 21 21":" !#*%+$)-(,&()+$,#*!& %-","P m m 2":" !#$%# %#$!#","P m c 21":" !#$%+ %+$!#","P c c 2":" !#$%# %+$!+","P m a 2":" !#$%#(%#*!#","P c a 21":" !#$%+(%#*!+","P n c 2":" !#$%# ,+$)+","P m n 21":" !#*%+(%+$!#","P b a 2":" !#$%#(,#*)#","P n a 21":" !#$%+(,#*)+","P n n 2":" !#$%#(,+*)+","C m m 2":" !#$%# %#$!#()#*,#(,#*)#","C m c 21":" !#$%+ %+$!#()#*,+(,+*)#","C c c 2":" !#$%# %+$!+()#*,#(,+*)+","A m m 2":" !#$%# %#$!# )+$,+ ,+$)+","A b m 2":" !#$%# ,#$)# )+$,+ %+$!+","A m a 2":" !#$%#(%#*!# )+$,+(,+*)+","A b a 2":" !#$%#(,#*)# )+$,+(%+*!+","F m m 2":" !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#","F d d 2":" !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5","I m m 2":" !#$%# %#$!#()+*,+(,+*)+","I b a 2":" !#$%#(,#*)#()+*,+ %+$!+","I m a 2":" !#$%#(%#*!#()+*,+ ,+$)+","P 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#","P 2/n 2/n 2/n":" !#$%#$!& %&*,-()-(,+*)+","P 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+","P 2/b 2/a 2/n":" !#$%#$!& %&*,&()&(,#*)#","P 21/m 2/m 2/a":" !#*%#$!&(%&$%&(!& %#*!#","P 2/n 21/n 2/a":" !#*%#*)- ,-$%&(!&(,+$)+","P 2/m 2/n 21/a":" !#*%+*!- %&$%&(!-(%+$!#","P 21/c 2/c 2/a":" !#*%#$!-(%-$%&(!& %+*!+","P 21/b 21/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#","P 21/c 21/c 2/n":" !#*,#$)-(%-$%&()& ,+*!+","P 2/b 21/c 21/m":" !#$%+$)- ,&$%& !- ,+$)#","P 21/n 21/n 2/m":" !#$%#*)-(,-$%& !&(,+*)+","P 21/m 21/m 2/n":" !#$%#*'&.,&*,&.'& %#$!#","P 21/b 2/c 21/n":" !#*,+$!-(,&$%&()- %+*)#","P 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#","P 21/n 21/m 21/a":" !#0%/$'&.12$%&.!2 1#0'/","C 2/m 2/c 21/m":" !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#","C 2/m 2/c 21/a":" !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#","C 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#","C 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+","C 2/m 2/m 2/a":" !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#","C 2/c 2/c 2/a":" !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+","F 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#","F 2/d 2/d 2/d":" !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5","I 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+","I 2/b 2/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+","I 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+","I 21/m 21/m 21/a":" !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+","P 4":" !#$%#% #!$#","P 41":" !#$%+% 5!$9","P 42":" !#$%#% +!$+","P 43":" !#$%+% 9!$5","I 4":" !#$%#% #!$#()+*,+,(+)*+","I 41":" !#*,+%(5)$9()+$%#, 9!*5","P -4":" !#$%#!$&% &","I -4":" !#$%#!$&% &()+*,+)*-,(-","P 4/m":" !#$%#% #!$#$%& !&!$&% &","P 42/m":" !#$%#% +!$+$%& !&!$-% -","P 4/n":" !#$%#,(#)*#*,&()&!$&% &","P 42/n":" !#$%#,(+)*+*,-()-!$&% &","I 4/m":" !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-","I 41/a":" !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &","P 4 2 2":" !#$%#% #!$#$!& %&! &%$&","P 4 21 2":" !#$%#,(#)*#*)&(,&! &%$&","P 41 2 2":" !#$%+% 5!$9$!& %-! >%$=","P 41 21 2":" !#$%+,(5)*9*)=(,>! &%$-","P 42 2 2":" !#$%#% +!$+$!& %&! -%$-","P 42 21 2":" !#$%#,(+)*+*)-(,-! &%$&","P 43 2 2":" !#$%+% 9!$5$!& %-! =%$>","P 43 21 2":" !#$%+,(9)*5*)>(,=! &%$-","I 4 2 2":" !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-","I 41 2 2":" !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-","P 4 m m":" !#$%#% #!$# %#$!#%$#! #","P 4 b m":" !#$%#% #!$#(,#*)#,*#)(#","P 42 c m":" !#$%#% +!$+ %+$!+%$#! #","P 42 n m":" !#$%#,(+)*+(,+*)+%$#! #","P 4 c c":" !#$%#% #!$# %+$!+%$+! +","P 4 n c":" !#$%#% #!$#(,+*)+,*+)(+","P 42 m c":" !#$%#% +!$+ %#$!#%$+! +","P 42 b c":" !#$%#% +!$+(,#*)#,*+)(+","I 4 m m":" !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+","I 4 c m":" !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#","I 41 m d":" !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5","I 41 c d":" !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9","P -4 2 m":" !#$%#% &!$&$!& %&%$#! #","P -4 2 c":" !#$%#% &!$&$!- %-%$+! +","P -4 21 m":" !#$%#% &!$&*)&(,&,*#)(#","P -4 21 c":" !#$%#% &!$&*)-(,-,*+)(+","P -4 m 2":" !#$%#!$&% & %#$!#! &%$&","P -4 c 2":" !#$%#% &!$& %+$!+! -%$-","P -4 b 2":" !#$%#% &!$&(,#*)#)(&,*&","P -4 n 2":" !#$%#% &!$&(,+*)+)(-,*-","I -4 m 2":" !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-","I -4 c 2":" !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&","I -4 2 m":" !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+","I -4 2 d":" !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5","P 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #","P 4/m 2/c 2/c":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +","P 4/n 2/b 2/m":" !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#","P 4/n 2/n 2/c":" !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+","P 4/m 21/b 2/m":" !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#","P 4/m 21/n 2/c":" !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+","P 4/n 21/m 2/m":" !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#","P 4/n 2/c 2/c":" !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+","P 42/m 2/m 2/c":" !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +","P 42/m 2/c 2/m":" !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #","P 42/n 2/b 2/c":" !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +","P 42/n 2/n 2/m":" !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #","P 42/m 21/b 2/c":" !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+","P 42/m 21/n 2/m":" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #","P 42/n 21/m 2/c":" !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+","P 42/n 21/c 2/m":" !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#","I 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+","I 4/m 2/c 2/m":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#","I 41/a 2/m 2/d":" !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9","I 41/a 2/c 2/d":" !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5","P 3":" !#%?#@$#","P 31":" !#%?A@$B","P 32":" !#%?B@$A","H 3":" !#%?#@$#CDAEFAGHAIJBKLBMNB","R 3":" !## !!# ","P -3":" !#%?#@$#$%&!@&? &","H -3":" !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_","R -3":" !## !!# $%&&$%%&$","P 3 1 2":" !#%?#@$#%$&@!& ?&","P 3 2 1":" !#%?#@$#! &?%&$@&","P 31 1 2":" !#%?Q@$^%$_@!X ?&","P 31 2 1":" !#%?A@$B! &?%_$@X","P 32 1 2":" !#%?^@$Q%$X@!_ ?&","P 32 2 1":" !#%?B@$A! &?%X$@_","H 3 2":" !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_","R 3 2":" !## !!# %$&$&%&%$","P 3 m 1":" !#%?#@$#%$#@!# ?#","P 3 1 m":" !#%?#@$#! #?%#$@#","P 3 c 1":" !#%?#@$#%$+@!+ ?+","P 3 1 c":" !#%?#@$#! +?%+$@+","H 3 m":" !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^","R 3 m":" !## !!# ! # #!#! ","H 3 c":" !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a","R 3 c":" !## !!# '././'/'.","P -3 1 2/m":" !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#","P -3 1 2/c":" !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+","P -3 2/m 1":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#","P -3 2/c 1":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+","H -3 2/m":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^","R -3 2/m":" !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ","H -3 2/c":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a","R -3 2/c":" !## !!# 102021210$%&&$%%&$'././'/'.","P 6":" !#%?#@$#$%#!@#? #","P 61":" !#%?A@$B$%/!@d? e","P 65":" !#%?B@$A$%/!@e? d","P 62":" !#%?^@$Q$%#!@^? Q","P 64":" !#%?Q@$^$%#!@Q? ^","P 63":" !#%?#@$#$%+!@+? +","P -6":" !#%?#@$# !&%?&@$&","P 6/m":" !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&","P 63/m":" !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-","P 6 2 2":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&","P 61 2 2":" !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c","P 65 2 2":" !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b","P 62 2 2":" !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X","P 64 2 2":" !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_","P 63 2 2":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-","P 6 m m":" !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#","P 6 c c":" !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+","P 63 c m":" !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#","P 63 m c":" !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+","P -6 m 2":" !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&","P -6 c 2":" !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&","P -6 2 m":" !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#","P -6 2 c":" !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+","P 6/m 2/m 2/m":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#","P 6/m 2/c 2/c":" !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+","P 63/m 2/c 2/m":" !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#","P 63/m 2/m 2/c":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+","P 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ","F 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ","I 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(","P 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(","I 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ","P 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$","P 2/n -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","F 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$","F 2/d -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96","I 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","P 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*","I 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$","P 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$","P 42 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","F 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$","F 41 3 2":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86","I 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","P 43 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46","P 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<","I 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46","P -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ","F -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ","I -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","P -4 3 n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","F -4 3 c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(","I -4 3 d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43","P 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","P 4/n -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/m -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/n -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","F 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ","F 4/m -3 2/c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(","F 41/d -3 2/m":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ","F 41/d -3 2/c":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(","I 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","I 41/a -3 2/d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;","P 1 1 2":" !#$%#","P 1 1 21":" !#$%+","B 1 1 2":" !#$%#(g+*%+","A 1 2 1":" !#$!& )+$)-","C 1 21 1":" !#$)&()#*!&","I 1 2 1":" !#$!&.'/0'2","I 1 21 1":" !#$)&.'/0!-","P 1 1 m":" !# !&","P 1 1 b":" !# )&","B 1 1 m":" !# !&(!+(!-","B 1 1 b":" !# )&(!+()-","P 1 1 2/m":" !# !&$%#$%&","P 1 1 21/m":" !#$%+$%& !-","B 1 1 2/m":" !# !&$%#$%&(!+(!-*%+*%-","P 1 1 2/b":" !#$,#$%& )&","P 1 1 21/b":" !#$%&$,+ )-","B 1 1 2/b":" !#$,#$%& )&(!+*,+*%-()-","P 21 2 2":" !#$!&(%&*%#","P 2 21 2":" !# ,&$)&$%#","P 21 21 2 (a)":" !#*,#.%&$'&","P 21 2 21":" !#$!&(%-*%+","P 2 21 21":" !# %&$)-$,+","C 2 2 21a)":" !#*%+(,&$)-()#$,+ %&*!-","C 2 2 2a":" !#*,#.%&$'&()#$%# ,&*!&","F 2 2 2a":" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&","I 2 2 2a":" !#*,#.%&$'&()+$%+*!- ,-","P 21/m 21/m 2/n a":" !#*,#$)&(%&$%&.'& ,#*!#","P 42 21 2a":" !#*,#%.+'$+$'&.%&! -,*-","I 2 3a":" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,"},gI=/^[1-9]$/;function lE(e){var t="";return e.length>0&&(t=":"+k_(e).join(" OR :")),new Jt(t)}var $i=function(e){e===void 0&&(e=""),this.name=e,this.partList=[]},ug={type:{configurable:!0}};ug.type.get=function(){return"Assembly"},$i.prototype.addPart=function(e,t){var i=new pr(e,t);return this.partList.push(i),i},$i.prototype.getAtomCount=function(e){return this.partList.reduce(function(t,i){return t+i.getAtomCount(e)},0)},$i.prototype.getResidueCount=function(e){return this.partList.reduce(function(t,i){return t+i.getResidueCount(e)},0)},$i.prototype.getInstanceCount=function(){var e=0;return this.partList.forEach(function(t){e+=t.matrixList.length}),e},$i.prototype.isIdentity=function(e){if(this.partList.length!==1)return!1;var t=this.partList[0];if(t.matrixList.length!==1||!new De().equals(t.matrixList[0]))return!1;var i=[];return e.eachChain(function(n){i.push(n.chainname)}),i=k_(i),t.chainList.length===i.length},$i.prototype.getBoundingBox=function(e){var t=new ai;return this.partList.forEach(function(i){var n=i.getBoundingBox(e);t.expandByPoint(n.min),t.expandByPoint(n.max)}),t},$i.prototype.getCenter=function(e){return this.getBoundingBox(e).getCenter(new P)},$i.prototype.getSelection=function(){var e=[];return this.partList.forEach(function(t){e=e.concat(t.chainList)}),lE(e)},Object.defineProperties($i.prototype,ug);var pr=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.matrixList=e,this.chainList=t},mg={type:{configurable:!0}};mg.type.get=function(){return"AssemblyPart"},pr.prototype._getCount=function(e,t){var i=this,n=0;return e.eachChain(function(s){(i.chainList.length===0||i.chainList.includes(s.chainname))&&(n+=s[t])}),this.matrixList.length*n},pr.prototype.getAtomCount=function(e){return this._getCount(e,"atomCount")},pr.prototype.getResidueCount=function(e){return this._getCount(e,"residueCount")},pr.prototype.getBoundingBox=function(e){var t=new ai,i=new ai,n=this.getSelection(),s=e.getBoundingBox(n);return this.matrixList.forEach(function(r){i.copy(s).applyMatrix4(r),t.expandByPoint(i.min),t.expandByPoint(i.max)}),t},pr.prototype.getSelection=function(){return lE(this.chainList)},pr.prototype.getView=function(e){var t=this.getSelection();return t?e.getView(t):e},pr.prototype.getInstanceList=function(){for(var e=[],t=0,i=this.matrixList.length;t<i;++t)e.push({id:t+1,name:t,matrix:this.matrixList[t]});return e},Object.defineProperties(pr.prototype,mg);var Il=function(e){this.structure=e,this.currentModelindex=null,this.currentChainid=null,this.currentResname=null,this.currentResno=null,this.currentInscode=void 0,this.currentHetero=null,this.previousResname="",this.previousHetero=null,this.ai=-1,this.ri=-1,this.ci=-1,this.mi=-1};function uE(e,t){if(t){Ce&&de.time("assignSecondaryStructure");var i=[];e.eachModel(function(p){p.eachChain(function(f){i.push(f.chainname)})});var n=i.slice().sort(),s=[];n.forEach(function(p){s.push(i.indexOf(p))});var r=t.helices.filter(function(p){return La(n,p[0])>=0});r.sort(function(p,f){var l=p[0],u=f[0],m=p[1],d=f[1];if(l===u)return m===d?0:m<d?-1:1;var y=La(n,l),_=La(n,u);return s[y]<s[_]?-1:1});var a=e.residueStore;e.eachModel(function(p){var f=0,l=r.length;if(l!==0){var u=r[f],m=!1,d=!1;p.eachChain(function(y){var _=!1;if(y.chainname===u[0]){for(var h=y.residueCount,g=y.residueOffset,E=g+h,w=g;w<E;++w)if(a.resno[w]===u[1]&&a.getInscode(w)===u[2]&&(m=!0),m&&(a.sstruc[w]=u[6],a.resno[w]===u[4]&&a.getInscode(w)===u[5]&&(m=!1,(f+=1)<l?(w=g-1,u=r[f],_=y.chainname!==u[0]):d=!0)),_||d)return}})}});var o=t.sheets.filter(function(p){return La(n,p[0])>=0});o.sort(function(p,f){var l=p[0],u=f[0];if(l===u)return 0;var m=La(n,l),d=La(n,u);return s[m]<s[d]?-1:1});var c="e".charCodeAt(0);e.eachModel(function(p){var f=0,l=o.length;if(l!==0){var u=o[f],m=!1,d=!1;p.eachChain(function(y){var _=!1;if(y.chainname===u[0]){for(var h=y.residueCount,g=y.residueOffset,E=g+h,w=g;w<E;++w)if(a.resno[w]===u[1]&&a.getInscode(w)===u[2]&&(m=!0),m&&(a.sstruc[w]=c,a.resno[w]===u[4]&&a.getInscode(w)===u[5]&&(m=!1,(f+=1)<l?(w=g-1,u=o[f],_=y.chainname!==u[0]):d=!0)),_||d)return}})}}),Ce&&de.timeEnd("assignSecondaryStructure")}}Il.prototype.addResidueType=function(e){for(var t=this.structure.atomStore,i=this.structure.residueStore,n=this.structure.residueMap,s=i.atomCount[e],r=i.atomOffset[e],a=new Array(s),o=0;o<s;++o)a[o]=t.atomTypeId[r+o];i.residueTypeId[e]=n.add(this.previousResname,a,this.previousHetero)},Il.prototype.addAtom=function(e,t,i,n,s,r,a,o){var c=this.structure.atomStore,p=this.structure.residueStore,f=this.structure.chainStore,l=this.structure.modelStore,u=!1,m=!1,d=!1;this.currentModelindex!==e?(u=!0,m=!0,d=!0,this.mi+=1,this.ci+=1,this.ri+=1):this.currentChainid!==i?(m=!0,d=!0,this.ci+=1,this.ri+=1):this.currentResno===s&&this.currentResname===n&&this.currentInscode===o||(d=!0,this.ri+=1),this.ai+=1,u&&(l.growIfFull(),l.chainOffset[this.mi]=this.ci,l.chainCount[this.mi]=0,l.count+=1,f.modelIndex[this.ci]=this.mi),m&&(f.growIfFull(),f.setChainname(this.ci,t),f.setChainid(this.ci,i),f.residueOffset[this.ci]=this.ri,f.residueCount[this.ci]=0,f.count+=1,f.modelIndex[this.ci]=this.mi,l.chainCount[this.mi]+=1,p.chainIndex[this.ri]=this.ci),d&&(this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>0&&this.addResidueType(this.ri-1),p.growIfFull(),p.resno[this.ri]=s,a!==void 0&&(p.sstruc[this.ri]=a.charCodeAt(0)),o!==void 0&&(p.inscode[this.ri]=o.charCodeAt(0)),p.atomOffset[this.ri]=this.ai,p.atomCount[this.ri]=0,p.count+=1,p.chainIndex[this.ri]=this.ci,f.residueCount[this.ci]+=1),c.count+=1,c.residueIndex[this.ai]=this.ri,p.atomCount[this.ri]+=1,this.currentModelindex=e,this.currentChainid=i,this.currentResname=n,this.currentResno=s,this.currentInscode=o,this.currentHetero=r},Il.prototype.finalize=function(){this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>-1&&this.addResidueType(this.ri)};var Fm,dg,hg,a1=(Fm=function(e,t,i,n){for(var s=e.structure,r=e.residueIndexStart,a=s.getResidueProxy(),o=s.getResidueProxy(),c=s.getAtomProxy(),p=s.getAtomProxy(),f=Math.max(0,t-2);f<=t;++f)for(var l=2;l<5;++l)if(!(f+l>=e.residueCount)){a.index=r+f,o.index=r+f+l,c.index=a.traceAtomIndex,p.index=o.traceAtomIndex;var u=c.distanceTo(p);if(Math.abs(u-i[l-2])>n)return!1}return!0},dg=function(e,t){return Fm(e,t,[5.45,5.18,6.37],2.1)},hg=function(e,t){return Fm(e,t,[6.1,10.4,13],1.42)},function(e){Ce&&de.time("calculateSecondaryStructure"),e.eachPolymer(function(t){if(!(t.residueCount<4)){if(t.isCg())(function(s){for(var r=s.residueStore,a=s.residueIndexStart,o=new $_(s).position,c=new P,p=new P,f=0,l=s.residueCount;f<l;++f){c.fromArray(o.center,3*f),p.fromArray(o.center,3*f+3);var u=c.distanceTo(p);u<2&&u>1&&o.bending[f]<20&&(r.sstruc[a+f]="h".charCodeAt(0),r.sstruc[a+f+1]="h".charCodeAt(0))}})(t);else{if(!t.isProtein())return;(function(s){for(var r=s.residueStore,a=s.residueIndexStart,o=0,c=s.residueCount;o<c;++o){var p="c";dg(s,o)?p="h":hg(s,o)&&(p="e"),r.sstruc[a+o]=p.charCodeAt(0)}})(t)}var i,n=0;t.eachResidue(function(s){s.sstruc===i?n+=1:(n===1&&(s.index-=1,s.sstruc="c"),n=1,i=s.sstruc)})}}),Ce&&de.timeEnd("calculateSecondaryStructure")});function Gf(e){for(var t=26,i=e,n=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[i%t];i>=t;)s+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[(i=Math.floor(i/t))%t],n+=1;return n>=5&&de.warn("chainname overflow"),s}function o1(e,t){t===void 0&&(t=!1),Ce&&de.time("calculateChainnames");var i=!0;if(e.eachChain(function(d){d.chainname&&(i=!1)}),i){var n=e.modelStore,s=e.chainStore,r=e.residueStore,a=e.getAtomProxy(),o=e.getAtomProxy(),c=0,p=0,f=0,l=0,u=[];r.count===1?u.push({mIndex:0,chainname:"A",rStart:0,rCount:1}):e.eachResidueN(2,function(d,y){var _=!1,h=d.backboneType,g=y.backboneType;l=d.index,d.modelIndex!==y.modelIndex||d.moleculeType!==y.moleculeType?_=!0:h!==0&&h===g&&(a.index=d.backboneEndAtomIndex,o.index=y.backboneStartAtomIndex,_=t?!a.hasBondTo(o):!a.connectedTo(o)),_||y.index!==r.count-1||(_=!0,l=y.index),_&&(u.push({mIndex:p,chainname:Gf(c),rStart:f,rCount:l-f+1}),c+=1,d.modelIndex!==y.modelIndex&&(c=0,p+=1),y.index===r.count-1&&l!==y.index&&u.push({mIndex:p,chainname:Gf(c),rStart:r.count-1,rCount:1}),f=y.index,l=y.index)}),s.count=0,u.forEach(function(d){(function(y,_,h,g){for(var E=s.count,w=0;w<g;++w)r.chainIndex[h+w]=E;s.growIfFull(),s.modelIndex[E]=y,s.setChainname(E,_),s.setChainid(E,_),s.residueOffset[E]=h,s.residueCount[E]=g,s.count+=1,n.chainCount[y]+=1})(d.mIndex,d.chainname,d.rStart,d.rCount)});var m=0;e.eachModel(function(d){n.chainOffset[d.index]=m,n.chainCount[d.index]-=1,m+=n.chainCount[d.index]})}Ce&&de.timeEnd("calculateChainnames")}function Ou(e){Ce&&de.time("calculateBonds"),qc(e),zc(e),Ce&&de.timeEnd("calculateBonds")}var wI={"HIS|CD2|CG":2,"HIS|CE1|ND1":2,"ARG|CZ|NH2":2,"PHE|CE1|CZ":2,"PHE|CD2|CE2":2,"PHE|CD1|CG":2,"TRP|CD1|CG":2,"TRP|CD2|CE2":2,"TRP|CE3|CZ3":2,"TRP|CH2|CZ2":2,"ASN|CG|OD1":2,"GLN|CD|OE1":2,"TYR|CD1|CG":2,"TYR|CD2|CE2":2,"TYR|CE1|CZ":2,"ASP|CG|OD1":2,"GLU|CD|OE1":2,"G|C8|N7":2,"G|C4|C5":2,"G|C2|N3":2,"G|C6|O6":2,"C|C4|N3":2,"C|C5|C6":2,"C|C2|O2":2,"A|C2|N3":2,"A|C6|N1":2,"A|C4|C5":2,"A|C8|N7":2,"U|C5|C6":2,"U|C2|O2":2,"U|C4|O4":2,"DG|C8|N7":2,"DG|C4|C5":2,"DG|C2|N3":2,"DG|C6|O6":2,"DC|C4|N3":2,"DC|C5|C6":2,"DC|C2|O2":2,"DA|C2|N3":2,"DA|C6|N1":2,"DA|C4|C5":2,"DA|C8|N7":2,"DT|C5|C6":2,"DT|C2|O2":2,"DT|C4|O4":2};function _g(e,t,i){var n;return t=(n=t<i?[t,i]:[i,t])[0],i=n[1],rc.includes(e)&&t==="C"&&i==="O"||Op.includes(e)&&t==="OP1"&&i==="P"?2:wI[e+"|"+t+"|"+i]||1}function qc(e,t){t===void 0&&(t=!1),Ce&&de.time("calculateBondsWithin");var i=e.bondStore,n=e.rungBondStore,s=e.getAtomSet(!1),r=e.getAtomProxy(),a=e.getAtomProxy(),o=e.getBondProxy(),c=t?null:function(p){Ce&&de.time("calculateAtomBondMap");var f=[];return p.eachBond(function(l){var u=l.atomIndex1,m=l.atomIndex2;f[u]===void 0&&(f[u]=[]),f[u][m]=l.index}),Ce&&de.timeEnd("calculateAtomBondMap"),f}(e);e.eachResidue(function(p){if(!t&&c){var f=p.atomCount,l=p.atomOffset;if(f>500)return void de.warn("more than 500 atoms, skip residue for auto-bonding",p.qualifiedName());for(var u=p.getBonds(),m=u.atomIndices1,d=u.atomIndices2,y=u.bondOrders,_=m.length,h=0;h<_;++h){var g=m[h],E=d[h],w=g+l,v=E+l,x=c[w];x!==void 0&&x[v]!==void 0?(o.index=x[v],y[p.residueType.getBondIndex(g,E)]=o.bondOrder):(r.index=w,a.index=v,i.addBond(r,a,y[h]))}}var b=p.residueType.traceAtomIndex,A=p.residueType.rungEndAtomIndex;b!==-1&&A!==-1&&(r.index=p.traceAtomIndex,a.index=p.rungEndAtomIndex,n.addBond(r,a),s.set(r.index),s.set(a.index))}),e.atomSetDict.rung=s,Ce&&de.timeEnd("calculateBondsWithin")}function zc(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),Ce&&de.time("calculateBondsBetween");var n=e.bondStore,s=e.backboneBondStore,r=e.getAtomSet(!1),a=e.getAtomProxy(),o=e.getAtomProxy();function c(u,m){var d=u.backboneType,y=m.backboneType;d!==0&&d===y&&(a.index=u.backboneEndAtomIndex,o.index=m.backboneStartAtomIndex,(i&&a.hasBondTo(o)||a.connectedTo(o))&&(t||n.addBond(a,o,1),a.index=u.traceAtomIndex,o.index=m.traceAtomIndex,s.addBond(a,o),r.set(a.index),r.set(o.index)))}s.count===0&&s.resize(e.residueStore.count),e.eachResidueN(2,c);var p=e.getResidueProxy(),f=e.getResidueProxy();if(e.eachChain(function(u){u.residueCount!==0&&(p.index=u.residueOffset,f.index=u.residueOffset+u.residueCount-1,c(f,p))}),e.atomSetDict.backbone=r,!t){Ce&&de.time("calculateBondsBetween inter");var l=e.spatialHash;e.eachResidue(function(u){u.backboneType!==0||u.isWater()||u.eachAtom(function(m){m.isMetal()||l.eachWithin(m.x,m.y,m.z,4,function(d){o.index=d,m.modelIndex!==o.modelIndex||m.residueIndex===o.residueIndex||o.isMetal()||n.addBondIfConnected(m,o,1)})})}),Ce&&de.timeEnd("calculateBondsBetween inter")}Ce&&de.timeEnd("calculateBondsBetween")}function ku(e){if(e.unitcell){Ce&&de.time("buildUnitcellAssembly");var t=e.unitcell,i=e.center.clone().applyMatrix4(t.cartToFrac),n=i.clone().floor(),s=function(_){var h=yI[_],g={};if(h===void 0)return console.warn("spacegroup '"+_+"' not found in symop library"),g;for(var E=[],w=0,v=h.length;w<v;w+=3){for(var x=[],b=0;b<3;++b)x.push(_I[h[w+b]]);E.push(x)}return E.forEach(function(A){var M=0,G=new De().set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),T=G.elements;g[A.toString()]=G,A.forEach(function(N){for(var D=!1,L=!1,C=0,O=N.length;C<O;++C){var q=N[C];if(q==="-")D=!0;else if(q==="+")D=!1;else if(q==="/")L=!0;else if(q==="X")T[0+M]=D?-1:1;else if(q==="Y")T[4+M]=D?-1:1;else if(q==="Z")T[8+M]=D?-1:1;else if(gI.test(q)){var z=parseInt(q);L?T[12+M]/=z:T[12+M]=z}else de.warn("getSymmetryOperations: unknown token '"+q+"'")}M+=1})}),g}(t.spacegroup),r=new P,a=new P,o=new $i("UNITCELL"),c=y(),p=[];if(e.biomolDict.NCS){p.push.apply(p,[new De].concat(e.biomolDict.NCS.partList[0].matrixList));var f=[];c.forEach(function(_){p.forEach(function(h){f.push(_.clone().multiply(h))})}),o.addPart(f)}else o.addPart(c);var l=new P,u=new $i("SUPERCELL"),m=Array.prototype.concat.call(y(l.set(1,0,0)),y(l.set(0,1,0)),y(l.set(0,0,1)),y(l.set(-1,0,0)),y(l.set(0,-1,0)),y(l.set(0,0,-1)),y(l.set(1,1,0)),y(l.set(1,0,1)),y(l.set(0,1,1)),y(l.set(-1,-1,0)),y(l.set(-1,0,-1)),y(l.set(0,-1,-1)),y(l.set(1,-1,-1)),y(l.set(1,1,-1)),y(l.set(1,-1,1)),y(l.set(-1,1,1)),y(l.set(-1,-1,1)),y(l.set(-1,1,-1)),y(l.set(0,1,-1)),y(l.set(0,-1,1)),y(l.set(1,0,-1)),y(l.set(-1,0,1)),y(l.set(1,-1,0)),y(l.set(-1,1,0)),y(),y(l.set(1,1,1)),y(l.set(-1,-1,-1)));if(e.biomolDict.NCS){var d=[];m.forEach(function(_){p.forEach(function(h){d.push(_.clone().multiply(h))})}),u.addPart(d)}else u.addPart(m);e.biomolDict.UNITCELL=o,e.biomolDict.SUPERCELL=u,Ce&&de.timeEnd("buildUnitcellAssembly")}function y(_){var h=[];return Object.keys(s).forEach(function(g){var E=s[g].clone();r.copy(i).applyMatrix4(E).floor(),a.setFromMatrixPosition(E),a.sub(r),a.add(n),_&&a.add(_),E.setPosition(a),E.multiplyMatrices(t.fracToCart,E),E.multiply(t.cartToFrac),h.push(E)}),h}}var yg=["H","C","O","N","S","P"],EI=["NA","CL","FE"];function K_(e){var t=e.trim().toUpperCase();parseInt(t.charAt(0))>-1&&(t=t.substr(1)),parseInt(t.charAt(0))>-1&&(t=t.substr(1));var i=t.length;if(i===0)return"";if(i===1)return t;if(i===2){if(EI.indexOf(t)!==-1)return t;if(yg.indexOf(t[0])!==-1)return t[0]}return i>=3&&yg.indexOf(t[0])!==-1?t[0]:""}function no(e){var t=e.bondHash,i=t.countArray,n=t.offsetArray,s=t.indexArray,r=e.getBondProxy();e.eachResidue(function(a){var o=a.residueType;if(o.bonds===void 0){var c=a.atomOffset,p=[],f=[],l=[],u={},m=c+a.atomCount;a.eachAtom(function(d){for(var y=d.index,_=n[y],h=0,g=i[y];h<g;++h){r.index=s[_+h];var E=r.atomIndex1;if(!(E<c||E>=m)){var w=r.atomIndex2;if(!(w<c||w>=m)){if(E>w){var v=w;w=E,E=v}var x=E+"|"+w;u[x]===void 0&&(u[x]=!0,p.push(E-c),f.push(w-c),l.push(r.bondOrder))}}}}),o.bonds={atomIndices1:p,atomIndices2:f,bondOrders:l}}})}var vI=[3,11,19,37,55,87],bI=[4,12,20,38,56,88],xI=[6,15,16,34],SI=[1,7,8,9,17,35,53],MI=[2,10,18,36,54,86],AI=[13,30,31,48,49,50,80,81,82,83,84,85,112],CI=[5,14,32,33,51,52,85],PI=[9,17,35,53,85],Wi=function(e,t,i){this.structure=e,this.atomname=t,i=i||K_(t),this.element=i,this.number=hT[i]||0,this.vdw=_T[this.number]||2,this.covalent=yT[this.number]||1.6};Wi.prototype.getDefaultValence=function(){var e=Z2[this.number];return e?e[0]:-1},Wi.prototype.getValenceList=function(){return Z2[this.number]||[]},Wi.prototype.getOuterShellElectronCount=function(){return gT[this.number]||2},Wi.prototype.isMetal=function(){return this.isAlkaliMetal()||this.isAlkalineEarthMetal()||this.isLanthanide()||this.isActinide()||this.isTransitionMetal()||this.isPostTransitionMetal()},Wi.prototype.isNonmetal=function(){return this.isDiatomicNonmetal()||this.isPolyatomicNonmetal()||this.isNobleGas()},Wi.prototype.isMetalloid=function(){return CI.includes(this.number)},Wi.prototype.isHalogen=function(){return PI.includes(this.number)},Wi.prototype.isDiatomicNonmetal=function(){return SI.includes(this.number)},Wi.prototype.isPolyatomicNonmetal=function(){return xI.includes(this.number)},Wi.prototype.isAlkaliMetal=function(){return vI.includes(this.number)},Wi.prototype.isAlkalineEarthMetal=function(){return bI.includes(this.number)},Wi.prototype.isNobleGas=function(){return MI.includes(this.number)},Wi.prototype.isTransitionMetal=function(){var e=this.number;return e>=21&&e<=29||e>=39&&e<=47||e>=72&&e<=79||e>=104&&e<=108},Wi.prototype.isPostTransitionMetal=function(){return AI.includes(this.number)},Wi.prototype.isLanthanide=function(){return this.number>=57&&this.number<=71},Wi.prototype.isActinide=function(){return this.number>=89&&this.number<=103};var Kh=function(e){this.structure=e,this.dict={},this.list=[],this.structure=e};Kh.prototype.add=function(e,t){var i=function(r,a){return r+"|"+a}(e=e.toUpperCase(),t=t?t.toUpperCase():K_(e)),n=this.dict[i];if(n===void 0){var s=new Wi(this.structure,e,t);n=this.list.length,this.dict[i]=n,this.list.push(s)}return n},Kh.prototype.get=function(e){return this.list[e]};var Gt=function(e,t,i,n,s,r){this.structure=e,this.bondReferenceAtomIndices=[],this.resname=t,this.atomTypeIdList=i,this.hetero=n?1:0,this.chemCompType=s,this.bonds=r,this.atomCount=i.length,this.moleculeType=this.getMoleculeType(),this.backboneType=this.getBackboneType(0),this.backboneEndType=this.getBackboneType(-1),this.backboneStartType=this.getBackboneType(1),this.backboneIndexList=this.getBackboneIndexList();var a=cs[this.backboneType],o=cs[this.backboneStartType],c=cs[this.backboneEndType],p=this.getAtomIndexByName(a.trace);this.traceAtomIndex=R(p,-1);var f=this.getAtomIndexByName(a.direction1);this.direction1AtomIndex=R(f,-1);var l=this.getAtomIndexByName(a.direction2);this.direction2AtomIndex=R(l,-1);var u=this.getAtomIndexByName(o.backboneStart);this.backboneStartAtomIndex=R(u,-1);var m,d=this.getAtomIndexByName(c.backboneEnd);this.backboneEndAtomIndex=R(d,-1),m=ET.includes(t)?this.getAtomIndexByName("N1"):this.getAtomIndexByName("N3"),this.rungEndAtomIndex=R(m,-1)};Gt.prototype.getBackboneIndexList=function(){var e,t=[];switch(this.moleculeType){case 3:e=xT;break;case 4:case 5:e=Y4;break;default:return t}for(var i=this.structure.atomMap,n=this.atomTypeIdList,s=0,r=this.atomCount;s<r;++s){var a=i.get(n[s]);e.includes(a.atomname)&&t.push(s)}return t},Gt.prototype.getMoleculeType=function(){return this.isProtein()?3:this.isRna()?4:this.isDna()?5:this.isWater()?1:this.isIon()?2:this.isSaccharide()?6:0},Gt.prototype.getBackboneType=function(e){return this.hasProteinBackbone(e)?1:this.hasRnaBackbone(e)?2:this.hasDnaBackbone(e)?3:this.hasCgProteinBackbone(e)?4:this.hasCgRnaBackbone(e)?5:this.hasCgDnaBackbone(e)?6:0},Gt.prototype.isProtein=function(){return this.chemCompType?lT.includes(this.chemCompType):this.hasAtomWithName("CA","C","N")||rc.includes(this.resname)},Gt.prototype.isCg=function(){var e=this.backboneType;return e===4||e===5||e===6},Gt.prototype.isNucleic=function(){return this.isRna()||this.isDna()},Gt.prototype.isRna=function(){return this.chemCompType?uT.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C4'","C4*"],["O2'","O2*","F2'","F2*"])||$4.includes(this.resname)&&this.hasAtomWithName(["O2'","O2*","F2'","F2*"]))},Gt.prototype.isDna=function(){return this.chemCompType?mT.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C3'","C3*"])&&!this.hasAtomWithName(["O2'","O2*","F2'","F2*"])||K4.includes(this.resname))},Gt.prototype.isHetero=function(){return this.hetero===1},Gt.prototype.isIon=function(){return vT.includes(this.resname)},Gt.prototype.isWater=function(){return Gu.includes(this.resname)},Gt.prototype.isSaccharide=function(){return this.chemCompType?H4.includes(this.chemCompType):bT.includes(this.resname)},Gt.prototype.isStandardAminoacid=function(){return rc.includes(this.resname)},Gt.prototype.isStandardBase=function(){return Op.includes(this.resname)},Gt.prototype.hasBackboneAtoms=function(e,t){var i=cs[t];return e===-1?this.hasAtomWithName(i.trace,i.backboneEnd,i.direction1,i.direction2):e===0?this.hasAtomWithName(i.trace,i.direction1,i.direction2):e===1?this.hasAtomWithName(i.trace,i.backboneStart,i.direction1,i.direction2):this.hasAtomWithName(i.trace,i.backboneStart,i.backboneEnd,i.direction1,i.direction2)},Gt.prototype.hasProteinBackbone=function(e){return this.isProtein()&&this.hasBackboneAtoms(e,1)},Gt.prototype.hasRnaBackbone=function(e){return this.isRna()&&this.hasBackboneAtoms(e,2)},Gt.prototype.hasDnaBackbone=function(e){return this.isDna()&&this.hasBackboneAtoms(e,3)},Gt.prototype.hasCgProteinBackbone=function(e){return this.atomCount<7&&this.isProtein()&&this.hasBackboneAtoms(e,4)},Gt.prototype.hasCgRnaBackbone=function(e){return this.atomCount<11&&this.isRna()&&this.hasBackboneAtoms(e,5)},Gt.prototype.hasCgDnaBackbone=function(e){return this.atomCount<11&&this.isDna()&&this.hasBackboneAtoms(e,6)},Gt.prototype.hasBackbone=function(e){return this.hasProteinBackbone(e)||this.hasRnaBackbone(e)||this.hasDnaBackbone(e)||this.hasCgProteinBackbone(e)||this.hasCgRnaBackbone(e)||this.hasCgDnaBackbone(e)},Gt.prototype.getAtomIndexByName=function(e){var t=this.atomCount,i=this.structure.atomMap,n=this.atomTypeIdList;if(Array.isArray(e))for(var s=0;s<t;++s){var r=n[s];if(e.includes(i.get(r).atomname))return s}else for(var a=0;a<t;++a){var o=n[a];if(e===i.get(o).atomname)return a}},Gt.prototype.hasAtomWithName=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var i=e.length,n=0;n<i;++n)if(e[n]!==void 0&&this.getAtomIndexByName(e[n])===void 0)return!1;return!0},Gt.prototype.getBonds=function(e){return this.bonds===void 0&&(this.bonds=function(t){var i=t.structure,n=i.getAtomProxy(),s=i.getAtomProxy(),r=t.atomCount,a=t.atomOffset,o=a+r-1,c=[],p=[],f=[];if(r>500)Ce&&de.warn("more than 500 atoms, skip residue for auto-bonding",t.qualifiedName());else if(r>50)for(var l=new fE(t,!0),u=t.isCg()?1.2:2.3,m=a;m<o;++m){n.index=m;for(var d=n.covalent+u+.3,y=l.nearest(n,1/0,d*d),_=y.length,h=0;h<_;++h)s.index=y[h].index,n.index<s.index&&n.connectedTo(s)&&(c.push(n.index-a),p.push(s.index-a),f.push(_g(n.resname,n.atomname,s.atomname)))}else for(var g=a;g<o;++g){n.index=g;for(var E=g+1;E<=o;++E)s.index=E,n.connectedTo(s)&&(c.push(g-a),p.push(E-a),f.push(_g(n.resname,n.atomname,s.atomname)))}return{atomIndices1:c,atomIndices2:p,bondOrders:f}}(e)),this.bonds},Gt.prototype.getRings=function(){return this.rings===void 0&&this.calculateRings(),this.rings},Gt.prototype.getBondGraph=function(){return this.bondGraph===void 0&&this.calculateBondGraph(),this.bondGraph},Gt.prototype.getAromatic=function(e){return this.aromaticAtoms===void 0&&this.calculateAromatic(this.structure.getResidueProxy(e.residueIndex)),this.aromaticAtoms},Gt.prototype.getAromaticRings=function(e){return this.aromaticRings===void 0&&this.calculateAromatic(e),this.aromaticRings},Gt.prototype.calculateBondGraph=function(){for(var e=this.bondGraph={},t=this.getBonds(),i=t.atomIndices1.length,n=t.atomIndices1,s=t.atomIndices2,r=0;r<i;++r){var a=n[r],o=s[r];(e[a]=e[a]||[]).push(o),(e[o]=e[o]||[]).push(a)}},Gt.prototype.calculateRings=function(){for(var e=function(i,n){for(var s={count:n,visited:new Int32Array(n),queue:new Int32Array(n),pred:new Int32Array(n),left:new Int32Array(Bp),right:new Int32Array(Bp),color:new Int32Array(n),currentColor:0,rings:[],atomRings:[],bonds:i},r=0;r<n;r++)s.visited[r]=-1,s.pred[r]=-1;return s}(this.getBondGraph(),this.atomCount),t=0;t<e.count;t++)e.visited[t]>=0||LI(e,t);this.rings={atomRings:e.atomRings,rings:e.rings}},Gt.prototype.isAromatic=function(e){return this.aromaticAtoms=this.getAromatic(e),this.aromaticAtoms[e.index-e.residueAtomOffset]===1},Gt.prototype.calculateAromatic=function(e){var t=this,i=this.aromaticAtoms=new Uint8Array(this.atomCount),n=this.getRings().rings,s=n.map(function(a){return function(o){if(o.some(function(l){return!TI.includes(l.number)}))return!1;var c=0,p=new jt(3,o.length),f=p.data;return o.forEach(function(l){f[c+0]=l.x,f[c+1]=l.y,f[c+2]=l.z,c+=3}),new kp(p).vecC.length()<.05}(a.map(function(o){return t.structure.getAtomProxy(o+e.atomOffset)}))}),r=this.aromaticRings=[];n.forEach(function(a,o){s[o]&&(r.push(a),a.forEach(function(c){return i[c]=1}))})},Gt.prototype.assignBondReferenceAtomIndices=function(){var e=this.getBondGraph(),t=this.getRings(),i=t.atomRings,n=t.rings,s=this.bonds,r=s.atomIndices1,a=s.atomIndices2,o=s.bondOrders,c=this.bondReferenceAtomIndices,p=s.atomIndices1.length;c.length=0;for(var f=0;f<p;++f)if(!(o[f]<=1)){var l=void 0,u=r[f],m=a[f],d=i[u],y=i[m];if(d&&y){for(var _=0;_<d.length;_++)if(y.indexOf(d[_])!==-1){l=n[d[_]];break}}if(e[u].length>1)for(var h=0;h<e[u].length;++h){var g=e[u][h];if(g!==m&&(l===void 0||l.indexOf(g)!==-1)){c[f]=g;break}}else if(e[m].length>1)for(var E=0;E<e[m].length;++E){var w=e[m][E];if(w!==u&&(l===void 0||l.indexOf(w)!==-1)){c[f]=w;break}}}},Gt.prototype.getBondIndex=function(e,t){for(var i=this.bonds,n=i.atomIndices1,s=i.atomIndices2,r=n.indexOf(e),a=s.indexOf(t),o=a;r!==-1;){for(;a!==-1;){if(r===a)return r;a=s.indexOf(t,a+1)}r=n.indexOf(e,r+1),a=o}},Gt.prototype.getBondReferenceAtomIndex=function(e,t){var i=this.getBondIndex(e,t);if(i!==void 0)return this.bondReferenceAtomIndices.length===0&&this.assignBondReferenceAtomIndices(),this.bondReferenceAtomIndices[i]};var TI=[5,6,7,8,14,15,16,32,33,50,51,83];function II(e,t,i){if(!(i<t)){for(var n=e.pred,s=e.color,r=e.left,a=e.right,o=++e.currentColor,c=t,p=0;p<Bp&&(s[c]=o,!((c=n[c])<0));p++);var f=0,l=0,u=!1,m=0;c=i;for(var d=0;d<Bp;d++){if(s[c]===o){m=c,u=!0;break}if(a[l++]=c,(c=n[c])<0)break}if(u){c=t;for(var y=0;y<Bp&&(r[f++]=c,m!==c)&&!((c=n[c])<0);y++);for(var _=f+l,h=new Array(_),g=0,E=0;E<f;E++)h[g++]=r[E];for(var w=l-1;w>=0;w--)h[g++]=a[w];for(var v=e.rings.length,x=0;x<_;++x){var b=h[x];e.atomRings[b]?e.atomRings[b].push(v):e.atomRings[b]=[v]}e.rings.push(h)}}}function LI(e,t){var i=e.bonds,n=e.visited,s=e.queue,r=e.pred;n[t]=1,s[0]=t;for(var a=0,o=1;a<o;){var c=s[a++];if(i[c]!==void 0)for(var p=i[c].length,f=0;f<p;f++){var l=i[c][f];n[l]>0?r[l]!==c&&r[c]!==l&&II(e,c,l):(n[l]=1,s[o++]=l,r[l]=c)}}}var Bp=4,Yh=function(e){this.structure=e,this.dict={},this.list=[]};Yh.prototype.add=function(e,t,i,n,s){n===void 0&&(n="");var r=function(c,p,f,l){return l===void 0&&(l=""),c+"|"+p.join(",")+"|"+(f?1:0)+"|"+l}(e=e.toUpperCase(),t,i,n),a=this.dict[r];if(a===void 0){var o=new Gt(this.structure,e,t,i,n,s);a=this.list.length,this.dict[r]=a,this.list.push(o)}return a},Yh.prototype.get=function(e){return this.list[e]};var Ls=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.bondStore=e.bondStore,this._v12=new P,this._v13=new P,this._ap1=this.structure.getAtomProxy(),this._ap2=this.structure.getAtomProxy(),this._ap3=this.structure.getAtomProxy()},cr={atom1:{configurable:!0},atom2:{configurable:!0},atomIndex1:{configurable:!0},atomIndex2:{configurable:!0},bondOrder:{configurable:!0}};cr.atom1.get=function(){return this.structure.getAtomProxy(this.atomIndex1)},cr.atom2.get=function(){return this.structure.getAtomProxy(this.atomIndex2)},cr.atomIndex1.get=function(){return this.bondStore.atomIndex1[this.index]},cr.atomIndex1.set=function(e){this.bondStore.atomIndex1[this.index]=e},cr.atomIndex2.get=function(){return this.bondStore.atomIndex2[this.index]},cr.atomIndex2.set=function(e){this.bondStore.atomIndex2[this.index]=e},cr.bondOrder.get=function(){return this.bondStore.bondOrder[this.index]},cr.bondOrder.set=function(e){this.bondStore.bondOrder[this.index]=e},Ls.prototype.getOtherAtomIndex=function(e){return e===this.atomIndex1?this.atomIndex2:this.atomIndex1},Ls.prototype.getOtherAtom=function(e){return this.structure.getAtomProxy(this.getOtherAtomIndex(e.index))},Ls.prototype.getReferenceAtomIndex=function(){var e=this._ap1,t=this._ap2;if(e.index=this.atomIndex1,t.index=this.atomIndex2,e.residueIndex===t.residueIndex){var i=e.index-e.residueAtomOffset,n=t.index-t.residueAtomOffset,s=e.residueType.getBondReferenceAtomIndex(i,n);if(s!==void 0)return s+e.residueAtomOffset;console.warn("No reference atom found",e.index,t.index)}},Ls.prototype.calculateShiftDir=function(e){e===void 0&&(e=new P);var t=this._ap1,i=this._ap2,n=this._ap3,s=this._v12,r=this._v13;t.index=this.atomIndex1,i.index=this.atomIndex2;var a=this.getReferenceAtomIndex();s.subVectors(t,i).normalize(),a!==void 0?(n.index=a,r.subVectors(t,n)):r.copy(t),r.normalize();var o=s.dot(r);return 1-Math.abs(o)<1e-5&&(r.set(1,0,0),o=s.dot(r),1-Math.abs(o)<1e-5&&(r.set(0,1,0),o=s.dot(r))),e.copy(r.sub(s.multiplyScalar(o))).normalize()},Ls.prototype.qualifiedName=function(){return this.atomIndex1+"="+this.atomIndex2},Ls.prototype.clone=function(){return new Ls(this.structure,this.index)},Ls.prototype.toObject=function(){return{atomIndex1:this.atomIndex1,atomIndex2:this.atomIndex2,bondOrder:this.bondOrder}},Object.defineProperties(Ls.prototype,cr);var zt=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},kt={entity:{configurable:!0},entityIndex:{configurable:!0},chain:{configurable:!0},chainIndex:{configurable:!0},atomOffset:{configurable:!0},atomCount:{configurable:!0},atomEnd:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},resno:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},residueType:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},moleculeType:{configurable:!0},backboneType:{configurable:!0},backboneStartType:{configurable:!0},backboneEndType:{configurable:!0},traceAtomIndex:{configurable:!0},direction1AtomIndex:{configurable:!0},direction2AtomIndex:{configurable:!0},backboneStartAtomIndex:{configurable:!0},backboneEndAtomIndex:{configurable:!0},rungEndAtomIndex:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0}};kt.entity.get=function(){return this.structure.entityList[this.entityIndex]},kt.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},kt.chain.get=function(){return this.structure.getChainProxy(this.chainIndex)},kt.chainIndex.get=function(){return this.residueStore.chainIndex[this.index]},kt.chainIndex.set=function(e){this.residueStore.chainIndex[this.index]=e},kt.atomOffset.get=function(){return this.residueStore.atomOffset[this.index]},kt.atomOffset.set=function(e){this.residueStore.atomOffset[this.index]=e},kt.atomCount.get=function(){return this.residueStore.atomCount[this.index]},kt.atomCount.set=function(e){this.residueStore.atomCount[this.index]=e},kt.atomEnd.get=function(){return this.atomOffset+this.atomCount-1},kt.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},kt.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},kt.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},kt.resno.get=function(){return this.residueStore.resno[this.index]},kt.resno.set=function(e){this.residueStore.resno[this.index]=e},kt.sstruc.get=function(){return this.residueStore.getSstruc(this.index)},kt.sstruc.set=function(e){this.residueStore.setSstruc(this.index,e)},kt.inscode.get=function(){return this.residueStore.getInscode(this.index)},kt.inscode.set=function(e){this.residueStore.setInscode(this.index,e)},kt.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.index])},kt.resname.get=function(){return this.residueType.resname},kt.hetero.get=function(){return this.residueType.hetero},kt.moleculeType.get=function(){return this.residueType.moleculeType},kt.backboneType.get=function(){return this.residueType.backboneType},kt.backboneStartType.get=function(){return this.residueType.backboneStartType},kt.backboneEndType.get=function(){return this.residueType.backboneEndType},kt.traceAtomIndex.get=function(){return this.residueType.traceAtomIndex+this.atomOffset},kt.direction1AtomIndex.get=function(){return this.residueType.direction1AtomIndex+this.atomOffset},kt.direction2AtomIndex.get=function(){return this.residueType.direction2AtomIndex+this.atomOffset},kt.backboneStartAtomIndex.get=function(){return this.residueType.backboneStartAtomIndex+this.atomOffset},kt.backboneEndAtomIndex.get=function(){return this.residueType.backboneEndAtomIndex+this.atomOffset},kt.rungEndAtomIndex.get=function(){return this.residueType.rungEndAtomIndex+this.atomOffset},kt.x.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.x[t];return e/this.atomCount},kt.y.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.y[t];return e/this.atomCount},kt.z.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.z[t];return e/this.atomCount},zt.prototype.eachAtom=function(e,t){var i=this.atomCount,n=this.atomOffset,s=this.structure._ap,r=n+i;if(t&&t.atomOnlyTest)for(var a=t.atomOnlyTest,o=n;o<r;++o)s.index=o,a(s)&&e(s);else for(var c=n;c<r;++c)s.index=c,e(s)},zt.prototype.positionToArray=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t+0]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},zt.prototype.isProtein=function(){return this.residueType.moleculeType===3},zt.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},zt.prototype.isRna=function(){return this.residueType.moleculeType===4},zt.prototype.isDna=function(){return this.residueType.moleculeType===5},zt.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},zt.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},zt.prototype.isHetero=function(){return this.residueType.hetero===1},zt.prototype.isWater=function(){return this.residueType.moleculeType===1},zt.prototype.isIon=function(){return this.residueType.moleculeType===2},zt.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},zt.prototype.isStandardAminoacid=function(){return this.residueType.isStandardAminoacid()},zt.prototype.isStandardBase=function(){return this.residueType.isStandardBase()},zt.prototype.isHelix=function(){return U4.includes(this.sstruc)},zt.prototype.isSheet=function(){return W4.includes(this.sstruc)},zt.prototype.isTurn=function(){return j4.includes(this.sstruc)&&this.isProtein()},zt.prototype.getAtomType=function(e){return this.atomMap.get(this.atomStore.atomTypeId[e])},zt.prototype.getResname1=function(){return Du[this.resname.toUpperCase()]||"X"},zt.prototype.getBackboneType=function(e){switch(e){case-1:return this.residueType.backboneStartType;case 1:return this.residueType.backboneEndType;default:return this.residueType.backboneType}},zt.prototype.getAtomIndexByName=function(e){var t=this.residueType.getAtomIndexByName(e);return t!==void 0&&(t+=this.atomOffset),t},zt.prototype.hasAtomWithName=function(e){return this.residueType.hasAtomWithName(e)},zt.prototype.getAtomnameList=function(){console.warn("getAtomnameList - might be expensive");for(var e=this.atomCount,t=this.atomOffset,i=new Array(e),n=0;n<e;++n)i[n]=this.getAtomType(t+n).atomname;return i},zt.prototype.connectedTo=function(e){var t=this.structure.getAtomProxy(this.backboneEndAtomIndex),i=this.structure.getAtomProxy(e.backboneStartAtomIndex);return!(!t||!i)&&t.connectedTo(i)},zt.prototype.getNextConnectedResidue=function(){var e=this.chainStore.residueOffset[this.chainIndex],t=this.chainStore.residueCount[this.chainIndex],i=this.index+1;if(i<e+t){var n=this.structure.getResidueProxy(i);if(this.connectedTo(n))return n}else if(i===e+t){var s=this.structure.getResidueProxy(e);if(this.connectedTo(s))return s}},zt.prototype.getPreviousConnectedResidue=function(e){var t=this.chainStore.residueOffset[this.chainIndex],i=this.index-1;if(i>=t){var n=R(e,this.structure.getResidueProxy());if(n.index=i,n.connectedTo(this))return n}else if(i===t-1){var s=this.chainStore.residueCount[this.chainIndex],r=R(e,this.structure.getResidueProxy());if(r.index=t+s-1,r.connectedTo(this))return r}},zt.prototype.getBonds=function(){return this.residueType.getBonds(this)},zt.prototype.getRings=function(){return this.residueType.getRings()},zt.prototype.getAromaticRings=function(){return this.residueType.getAromaticRings(this)},zt.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chain&&(t+=":"+this.chainname),t+="/"+this.modelIndex},zt.prototype.clone=function(){return new zt(this.structure,this.index)},zt.prototype.toObject=function(){return{index:this.index,chainIndex:this.chainIndex,atomOffset:this.atomOffset,atomCount:this.atomCount,resno:this.resno,resname:this.resname,sstruc:this.sstruc}},Object.defineProperties(zt.prototype,kt);var vn=function(e,t,i){this.structure=e,this.residueIndexStart=t,this.residueIndexEnd=i,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueCount=i-t+1;var n=this.structure.getResidueProxy(this.residueIndexStart),s=this.structure.getResidueProxy(this.residueIndexEnd);this.isPrevConnected=n.getPreviousConnectedResidue()!==void 0;var r=s.getNextConnectedResidue();this.isNextConnected=r!==void 0,this.isNextNextConnected=r!==void 0&&r.getNextConnectedResidue()!==void 0,this.isCyclic=s.connectedTo(n),this.__residueProxy=this.structure.getResidueProxy()},X0={chainIndex:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0}};X0.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndexStart]},X0.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},X0.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},vn.prototype.isProtein=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isProtein()},vn.prototype.isCg=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isCg()},vn.prototype.isNucleic=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isNucleic()},vn.prototype.getMoleculeType=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.moleculeType},vn.prototype.getBackboneType=function(e){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.getBackboneType(e)},vn.prototype.getAtomIndexByType=function(e,t){this.isCyclic?e===-1?e=this.residueCount-1:e===this.residueCount&&(e=0):(e!==-1||this.isPrevConnected||(e+=1),e!==this.residueCount||this.isNextNextConnected||(e-=1));var i,n=this.__residueProxy;switch(n.index=this.residueIndexStart+e,t){case"trace":i=n.traceAtomIndex;break;case"direction1":i=n.direction1AtomIndex;break;case"direction2":i=n.direction2AtomIndex;break;default:i=n.getAtomIndexByName(t)}return i},vn.prototype.eachAtom=function(e,t){this.eachResidue(function(i){i.eachAtom(e,t)})},vn.prototype.eachAtomN=function(e,t,i){for(var n=this.residueCount,s=new Array(e),r=0;r<e;++r)s[r]=this.structure.getAtomProxy(this.getAtomIndexByType(r,i));t.apply(this,s);for(var a=e;a<n;++a){for(var o=1;o<e;++o)s[o-1].index=s[o].index;s[e-1].index=this.getAtomIndexByType(a,i),t.apply(this,s)}},vn.prototype.eachResidue=function(e){for(var t=this.structure.getResidueProxy(),i=this.residueCount,n=this.residueIndexStart,s=0;s<i;++s)t.index=n+s,e(t)},vn.prototype.qualifiedName=function(){var e=this.structure.getResidueProxy(this.residueIndexStart),t=this.structure.getResidueProxy(this.residueIndexEnd);return e.qualifiedName()+" - "+t.qualifiedName()},Object.defineProperties(vn.prototype,X0);var Fs=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore},Ni={entity:{configurable:!0},model:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},residueOffset:{configurable:!0},residueCount:{configurable:!0},residueEnd:{configurable:!0},atomOffset:{configurable:!0},atomEnd:{configurable:!0},atomCount:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0}};Ni.entity.get=function(){return this.structure.entityList[this.entityIndex]},Ni.model.get=function(){return this.structure.getModelProxy(this.modelIndex)},Ni.entityIndex.get=function(){return this.chainStore.entityIndex[this.index]},Ni.entityIndex.set=function(e){this.chainStore.entityIndex[this.index]=e},Ni.modelIndex.get=function(){return this.chainStore.modelIndex[this.index]},Ni.modelIndex.set=function(e){this.chainStore.modelIndex[this.index]=e},Ni.residueOffset.get=function(){return this.chainStore.residueOffset[this.index]},Ni.residueOffset.set=function(e){this.chainStore.residueOffset[this.index]=e},Ni.residueCount.get=function(){return this.chainStore.residueCount[this.index]},Ni.residueCount.set=function(e){this.chainStore.residueCount[this.index]=e},Ni.residueEnd.get=function(){return this.residueOffset+this.residueCount-1},Ni.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},Ni.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},Ni.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},Ni.chainname.get=function(){return this.chainStore.getChainname(this.index)},Ni.chainname.set=function(e){this.chainStore.setChainname(this.index,e)},Ni.chainid.get=function(){return this.chainStore.getChainid(this.index)},Ni.chainid.set=function(e){this.chainStore.setChainid(this.index,e)},Fs.prototype.eachAtom=function(e,t){this.eachResidue(function(i){i.eachAtom(e,t)},t)},Fs.prototype.eachResidue=function(e,t){var i=this.residueCount,n=this.residueOffset,s=this.structure._rp,r=n+i;if(t&&t.test){var a=t.residueOnlyTest;if(a)for(var o=n;o<r;++o)s.index=o,a(s)&&e(s);else for(var c=n;c<r;++c)s.index=c,e(s)}else for(var p=n;p<r;++p)s.index=p,e(s)},Fs.prototype.eachResidueN=function(e,t){var i=this.residueCount,n=this.residueOffset,s=n+i;if(!(i<e)){for(var r=new Array(e),a=0;a<e;++a)r[a]=this.structure.getResidueProxy(n+a);t.apply(this,r);for(var o=n+e;o<s;++o){for(var c=0;c<e;++c)r[c].index+=1;t.apply(this,r)}}},Fs.prototype.eachPolymer=function(e,t){for(var i=0,n=0,s=t?t.residueOnlyTest:void 0,r=this.model.structure,a=this.residueCount,o=this.residueOffset,c=o+a,p=this.structure.getResidueProxy(),f=this.structure.getResidueProxy(o),l=this.structure.getAtomProxy(),u=this.structure.getAtomProxy(),m=!0,d=o+1;d<c;++d){p.index=f.index,f.index=d;var y=m?p.backboneEndType:p.backboneType,_=f.backboneType;m&&(i=p.index,m=!1),n=f.index,y!==0&&y===_?(l.index=p.backboneEndAtomIndex,u.index=f.backboneStartAtomIndex,l&&u&&l.connectedTo(u)&&(!s||s(p)&&s(f))||(p.index-i>1&&e(new vn(r,i,p.index)),i=n)):(y!==0&&p.index-i>1&&e(new vn(r,i,p.index)),i=n)}n-i>1&&this.structure.getResidueProxy(i).backboneEndType&&e(new vn(r,i,n))},Fs.prototype.qualifiedName=function(){return":"+this.chainname+"/"+this.modelIndex},Fs.prototype.clone=function(){return new Fs(this.structure,this.index)},Fs.prototype.toObject=function(){return{index:this.index,residueOffset:this.residueOffset,residueCount:this.residueCount,chainname:this.chainname}},Object.defineProperties(Fs.prototype,Ni);var Rs=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.modelStore=e.modelStore,this.chainStore=e.chainStore,this.residueStore=e.residueStore},zn={chainOffset:{configurable:!0},chainCount:{configurable:!0},residueOffset:{configurable:!0},atomOffset:{configurable:!0},chainEnd:{configurable:!0},residueEnd:{configurable:!0},atomEnd:{configurable:!0},residueCount:{configurable:!0},atomCount:{configurable:!0}};zn.chainOffset.get=function(){return this.modelStore.chainOffset[this.index]},zn.chainOffset.set=function(e){this.modelStore.chainOffset[this.index]=e},zn.chainCount.get=function(){return this.modelStore.chainCount[this.index]},zn.chainCount.set=function(e){this.modelStore.chainCount[this.index]=e},zn.residueOffset.get=function(){return this.chainStore.residueOffset[this.chainOffset]},zn.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},zn.chainEnd.get=function(){return this.chainOffset+this.chainCount-1},zn.residueEnd.get=function(){return this.chainStore.residueOffset[this.chainEnd]+this.chainStore.residueCount[this.chainEnd]-1},zn.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},zn.residueCount.get=function(){return this.chainCount===0?0:this.residueEnd-this.residueOffset+1},zn.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},Rs.prototype.eachAtom=function(e,t){this.eachChain(function(i){i.eachAtom(e,t)},t)},Rs.prototype.eachResidue=function(e,t){this.eachChain(function(i){i.eachResidue(e,t)},t)},Rs.prototype.eachPolymer=function(e,t){if(t&&t.chainOnlyTest){var i=t.chainOnlyTest;this.eachChain(function(n){i(n)&&n.eachPolymer(e,t)})}else this.eachChain(function(n){n.eachPolymer(e,t)})},Rs.prototype.eachChain=function(e,t){var i=this.chainCount,n=this.chainOffset,s=this.structure._cp,r=n+i;if(t&&t.test){var a=t.chainOnlyTest;if(a)for(var o=n;o<r;++o)s.index=o,a(s)&&e(s);else for(var c=n;c<r;++c)s.index=c,e(s)}else for(var p=n;p<r;++p)s.index=p,e(s)},Rs.prototype.qualifiedName=function(){return"/"+this.index},Rs.prototype.clone=function(){return new Rs(this.structure,this.index)},Rs.prototype.toObject=function(){return{index:this.index,chainOffset:this.chainOffset,chainCount:this.chainCount}},Object.defineProperties(Rs.prototype,zn);var ct=function(e,t){e===void 0&&(e=""),t===void 0&&(t=""),this.signals={refreshed:new _t.exports.Signal},this.init(e,t)},gg={type:{configurable:!0}};ct.prototype.init=function(e,t){this.name=e,this.path=t,this.title="",this.id="",this.data={structure:this,"@spatialLookup":void 0,"@valenceModel":void 0},this.header={},this.extraData={},this.atomSetCache={},this.atomSetDict={},this.biomolDict={},this.entityList=[],this.unitcell=void 0,this.frames=[],this.boxes=[],this.validation=void 0,this.bondStore=new Tl(0),this.backboneBondStore=new Tl(0),this.rungBondStore=new Tl(0),this.atomStore=new lI(0),this.residueStore=new uI(0),this.chainStore=new mI(0),this.modelStore=new dI(0),this.atomMap=new Kh(this),this.residueMap=new Yh(this),this.bondHash=void 0,this.spatialHash=void 0,this.atomSet=void 0,this.bondSet=void 0,this.center=new P,this.boundingBox=new ai,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy()},gg.type.get=function(){return"Structure"},ct.prototype.finalizeAtoms=function(){this.atomSet=this.getAtomSet(),this.atomCount=this.atomStore.count,this.boundingBox=this.getBoundingBox(void 0,this.boundingBox),this.center=this.boundingBox.getCenter(new P),this.spatialHash=new io(this.atomStore,this.boundingBox)},ct.prototype.finalizeBonds=function(){for(var e in this.bondSet=this.getBondSet(),this.bondCount=this.bondStore.count,this.bondHash=new fI(this.bondStore,this.atomStore.count),this.atomSetCache={},this.atomSetDict.rung||(this.atomSetDict.rung=this.getAtomSet(!1)),this.atomSetDict)this.atomSetCache["__"+e]=this.atomSetDict[e].clone()},ct.prototype.getBondProxy=function(e){return new Ls(this,e)},ct.prototype.getAtomProxy=function(e){return new nt(this,e)},ct.prototype.getResidueProxy=function(e){return new zt(this,e)},ct.prototype.getChainProxy=function(e){return new Fs(this,e)},ct.prototype.getModelProxy=function(e){return new Rs(this,e)},ct.prototype.getBondSet=function(){var e=this.bondStore.count,t=new dt(e),i=this.atomSet;if(i)if(i.isAllSet())t.setAll();else if(i.isAllClear())t.clearAll();else for(var n=this.getBondProxy(),s=0;s<e;++s)n.index=s,i.isSet(n.atomIndex1,n.atomIndex2)&&t.set(n.index);else t.setAll();return t},ct.prototype.getBackboneBondSet=function(){var e=this.backboneBondStore.count,t=new dt(e),i=this.atomSetCache.__backbone;if(i){var n=this.getBondProxy();n.bondStore=this.backboneBondStore;for(var s=0;s<e;++s)n.index=s,i.isSet(n.atomIndex1,n.atomIndex2)&&t.set(n.index)}else t.setAll();return t},ct.prototype.getRungBondSet=function(){var e=this.rungBondStore.count,t=new dt(e),i=this.atomSetCache.__rung;if(i){var n=this.getBondProxy();n.bondStore=this.rungBondStore;for(var s=0;s<e;++s)n.index=s,i.isSet(n.atomIndex1,n.atomIndex2)&&t.set(n.index)}else t.setAll();return t},ct.prototype.getAtomSet=function(e){var t=this.atomStore.count;if(e===void 0)return new dt(t,!0);if(e instanceof dt)return e;if(e===!0)return new dt(t,!0);if(e&&e.test){var i=e.string;if(i in this.atomSetCache)return this.atomSetCache[i];if(i==="")return new dt(t,!0);var n=new dt(t);return this.eachAtom(function(s){n.set(s.index)},e),this.atomSetCache[i]=n,n}return e===!1?new dt(t):new dt(t,!0)},ct.prototype.getAtomSetWithinSelection=function(e,t){var i=this.spatialHash,n=this.getAtomSet(!1),s=this.getAtomProxy();return i&&this.getAtomSet(e).forEach(function(r){s.index=r,i.within(s.x,s.y,s.z,t).forEach(function(a){n.set(a)})}),n},ct.prototype.getAtomSetWithinPoint=function(e,t){var i=e,n=this.getAtomSet(!1);return this.spatialHash&&this.spatialHash.within(i.x,i.y,i.z,t).forEach(function(s){n.set(s)}),n},ct.prototype.getAtomSetWithinVolume=function(e,t,i,n,s){var r=new jn(e,i,n,s),a=r.getDataPosition(),o=a.length,c=r.matrix.getMaxScaleOnAxis(),p=this.getAtomSet(!1);if(!this.spatialHash)return p;for(var f=0;f<o;f+=3)this.spatialHash.within(a[f],a[f+1],a[f+2],c).forEach(function(l){p.set(l)});return p},ct.prototype.getAtomSetWithinGroup=function(e){var t=this.atomStore.residueIndex,i=this.getAtomSet(!1),n=this.getResidueProxy();return this.getAtomSet(e).forEach(function(s){n.index=t[s];for(var r=n.atomOffset;r<=n.atomEnd;++r)i.set(r)}),i},ct.prototype.getSelection=function(){},ct.prototype.getStructure=function(){return this},ct.prototype.eachEntity=function(e,t){this.entityList.forEach(function(i){t!==void 0&&i.getEntityType()!==t||e(i)})},ct.prototype.eachBond=function(e,t){var i,n=this.getBondProxy();if(t&&t.test&&(i=this.getBondSet(),this.bondSet&&i.intersection(this.bondSet)),i)i.forEach(function(a){n.index=a,e(n)});else for(var s=this.bondStore.count,r=0;r<s;++r)n.index=r,e(n)},ct.prototype.eachAtom=function(e,t){if(t&&t.test)this.eachModel(function(r){r.eachAtom(e,t)},t);else for(var i=this.atomStore.count,n=this.getAtomProxy(),s=0;s<i;++s)n.index=s,e(n)},ct.prototype.eachResidue=function(e,t){if(t&&t.test){var i=this.modelStore.count,n=this.getModelProxy(),s=t.modelOnlyTest;if(s)for(var r=0;r<i;++r)n.index=r,s(n)&&n.eachResidue(e,t);else for(var a=0;a<i;++a)n.index=a,n.eachResidue(e,t)}else for(var o=this.residueStore.count,c=this.getResidueProxy(),p=0;p<o;++p)c.index=p,e(c)},ct.prototype.eachResidueN=function(e,t){var i=this.residueStore.count;if(!(i<e)){for(var n=new Array(e),s=0;s<e;++s)n[s]=this.getResidueProxy(s);t.apply(this,n);for(var r=e;r<i;++r){for(var a=0;a<e;++a)n[a].index+=1;t.apply(this,n)}}},ct.prototype.eachPolymer=function(e,t){if(t&&t.modelOnlyTest){var i=t.modelOnlyTest;this.eachModel(function(n){i(n)&&n.eachPolymer(e,t)})}else this.eachModel(function(n){n.eachPolymer(e,t)})},ct.prototype.eachChain=function(e,t){if(t&&t.test)this.eachModel(function(r){r.eachChain(e,t)});else for(var i=this.chainStore.count,n=this.getChainProxy(),s=0;s<i;++s)n.index=s,e(n)},ct.prototype.eachModel=function(e,t){var i=this.modelStore.count,n=this.getModelProxy();if(t&&t.test){var s=t.modelOnlyTest;if(s)for(var r=0;r<i;++r)n.index=r,s(n)&&e(n);else for(var a=0;a<i;++a)n.index=a,e(n)}else for(var o=0;o<i;++o)n.index=o,e(n)},ct.prototype.getAtomData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var i,n,s=t.what,r=R(t.atomSet,this.atomSet),a={},o=this.getAtomProxy(),c=r.getSize();s&&!s.position||(a.position=new Float32Array(3*c)),s&&!s.color||!t.colorParams||(a.color=new Float32Array(3*c),n=It.getScheme(t.colorParams)),s&&!s.picking||(a.picking=new so(new Float32Array(c),this.getStructure())),s&&!s.radius||(a.radius=new Float32Array(c),i=new Ys(t.radiusParams)),s&&!s.index||(a.index=new Uint32Array(c));var p=a.position,f=a.color,l=a.picking,u=a.radius,m=a.index;return r.forEach(function(d,y){var _=3*y;o.index=d,p&&o.positionToArray(p,_),f&&n.atomColorToArray(o,f,_),l&&(l.array[y]=d),u&&(u[y]=i.atomRadius(o)),m&&(m[y]=d)}),a},ct.prototype.getBondData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var i,n,s=t.what,r=R(t.bondSet,this.bondSet),a=R(t.multipleBond,"off"),o=a!=="off",c=a==="offset",p=R(t.bondScale,.4),f=R(t.bondSpacing,1),l={},u=this.getBondProxy();t.bondStore&&(u.bondStore=t.bondStore);var m,d=this.getAtomProxy(),y=this.getAtomProxy();if(o){var _=u.bondStore.bondOrder;m=0,r.forEach(function(z){m+=_[z]})}else m=r.getSize();s&&!s.position||(l.position1=new Float32Array(3*m),l.position2=new Float32Array(3*m)),s&&!s.color||!t.colorParams||(l.color=new Float32Array(3*m),l.color2=new Float32Array(3*m),n=It.getScheme(t.colorParams)),s&&!s.picking||(l.picking=new Q4(new Float32Array(m),this.getStructure(),t.bondStore)),(!s||s.radius||o&&s.position)&&(i=new Ys(t.radiusParams)),s&&!s.radius||(l.radius=new Float32Array(m),t.radius2&&(l.radius2=new Float32Array(m)));var h,g,E,w,v,x,b=l.position1,A=l.position2,M=l.color,G=l.color2,T=l.picking,N=l.radius,D=l.radius2,L=0,C=new P,O=new P,q=new P;return r.forEach(function(z){if(g=3*L,u.index=z,d.index=u.atomIndex1,y.index=u.atomIndex2,w=u.bondOrder,b)if(o&&w>1){var $=i.atomRadius(d);x=$*p/(.5*w),u.calculateShiftDir(q),c?(v=2*f*$,q.multiplyScalar(v),q.negate(),O.subVectors(y,d).multiplyScalar(Math.max(.1,v/1.88)),d.positionToArray(b,g),y.positionToArray(A,g),w>=2&&(C.addVectors(d,q).add(O).toArray(b,g+3),C.addVectors(y,q).sub(O).toArray(A,g+3),w>=3&&(C.subVectors(d,q).add(O).toArray(b,g+6),C.subVectors(y,q).sub(O).toArray(A,g+6)))):(v=(f-p)*$,q.multiplyScalar(v),w===2?(C.addVectors(d,q).toArray(b,g),C.subVectors(d,q).toArray(b,g+3),C.addVectors(y,q).toArray(A,g),C.subVectors(y,q).toArray(A,g+3)):w===3?(d.positionToArray(b,g),C.addVectors(d,q).toArray(b,g+3),C.subVectors(d,q).toArray(b,g+6),y.positionToArray(A,g),C.addVectors(y,q).toArray(A,g+3),C.subVectors(y,q).toArray(A,g+6)):(d.positionToArray(b,g),y.positionToArray(A,g)))}else d.positionToArray(b,g),y.positionToArray(A,g);if(M&&G&&(n.bondColorToArray(u,1,M,g),n.bondColorToArray(u,0,G,g),o&&w>1))for(h=1;h<w;++h)I2(M,g,E=3*h+g,3),I2(G,g,E,3);if(T&&T.array&&(T.array[L]=z,o&&w>1))for(h=1;h<w;++h)T.array[L+h]=z;if(N&&(N[L]=i.atomRadius(d),o&&w>1))for(x=N[L]*p/(c?1:.5*w),h=c?1:0;h<w;++h)N[L+h]=x;if(D&&(D[L]=i.atomRadius(y),o&&w>1))for(x=D[L]*p/(c?1:.5*w),h=c?1:0;h<w;++h)D[L+h]=x;L+=o?w:1}),l},ct.prototype.getBackboneAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__backbone},e),this.getAtomData(e)},ct.prototype.getBackboneBondData=function(e){return e=Object.assign({bondSet:this.getBackboneBondSet(),bondStore:this.backboneBondStore},e),this.getBondData(e)},ct.prototype.getRungAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__rung},e),this.getAtomData(e)},ct.prototype.getRungBondData=function(e){return e=Object.assign({bondSet:this.getRungBondSet(),bondStore:this.rungBondStore},e),this.getBondData(e)},ct.prototype.getBoundingBox=function(e,t){Ce&&de.time("getBoundingBox"),t=t||new ai;var i=1/0,n=1/0,s=1/0,r=-1/0,a=-1/0,o=-1/0;return this.eachAtom(function(c){var p=c.x,f=c.y,l=c.z;p<i&&(i=p),f<n&&(n=f),l<s&&(s=l),p>r&&(r=p),f>a&&(a=f),l>o&&(o=l)},e),t.min.set(i,n,s),t.max.set(r,a,o),Ce&&de.timeEnd("getBoundingBox"),t},ct.prototype.getPrincipalAxes=function(e){Ce&&de.time("getPrincipalAxes");var t=0,i=new jt(3,this.atomCount),n=i.data;return this.eachAtom(function(s){n[t+0]=s.x,n[t+1]=s.y,n[t+2]=s.z,t+=3},e),Ce&&de.timeEnd("getPrincipalAxes"),new kp(i)},ct.prototype.atomCenter=function(e){return e?this.getBoundingBox(e).getCenter(new P):this.center.clone()},ct.prototype.hasCoords=function(){if(this._hasCoords===void 0){var e=this.atomStore;this._hasCoords=vl(e.x)!==0||El(e.x)!==0||vl(e.y)!==0||El(e.y)!==0||vl(e.z)!==0||El(e.z)!==0||e.count/this.modelStore.count==1}return this._hasCoords},ct.prototype.getSequence=function(e){var t=[],i=this.getResidueProxy();return this.eachAtom(function(n){i.index=n.residueIndex,n.index===i.traceAtomIndex&&t.push(i.getResname1())},e),t},ct.prototype.getAtomIndices=function(e){if(e&&e.string){var t=[];return this.eachAtom(function(i){t.push(i.index)},e),new Uint32Array(t)}return this.getAtomData({what:{index:!0}}).index},ct.prototype.getChainnameCount=function(e){var t=new Set;return this.eachChain(function(i){i.residueCount&&t.add(i.chainname)},e),t.size},ct.prototype.updatePosition=function(e){var t=0;this.eachAtom(function(i){i.positionFromArray(e,t),t+=3},void 0),this._hasCoords=void 0},ct.prototype.refreshPosition=function(){this.getBoundingBox(void 0,this.boundingBox),this.boundingBox.getCenter(this.center),this.spatialHash=new io(this.atomStore,this.boundingBox)},ct.prototype.dispose=function(){this.frames&&(this.frames.length=0),this.boxes&&(this.boxes.length=0),this.bondStore.dispose(),this.backboneBondStore.dispose(),this.rungBondStore.dispose(),this.atomStore.dispose(),this.residueStore.dispose(),this.chainStore.dispose(),this.modelStore.dispose(),delete this.bondSet,delete this.atomSet},Object.defineProperties(ct.prototype,gg);var wg=new ai,Jh=[n1,eo,s1,to,Nc,t1,Rc,i1,Nu,r1,Ff,Rf],FI={aspectRatio:1.5,sphereDetail:2,radialSegments:50,disableImpostor:!1,openEnded:!1,dashedCylinder:!1,labelParams:{},pointSize:2,sizeAttenuation:!1,useTexture:!0,linewidth:2},Di=function(e,t){var i=this;e===void 0&&(e="shape"),t===void 0&&(t={}),this.boundingBox=new ai,this.bufferList=[],this.meshCount=0,this._primitiveData={},this.name=e,this.parameters=Bn(t,FI),Jh.forEach(function(n){Object.keys(n.fields).forEach(function(s){i._primitiveData[n.getShapeKey(s)]=[]}),i._primitiveData[n.getShapeKey("name")]=[]})},Rm={center:{configurable:!0},type:{configurable:!0}};Di.prototype.addBuffer=function(e){this.bufferList.push(e);var t=e.geometry;return t.boundingBox||t.computeBoundingBox(),this.boundingBox.union(t.boundingBox),this},Di.prototype.addMesh=function(e,t,i,n,s){var r;e=om(e),t=om(t),Array.isArray(i)&&(i=Ks(i,e.length)),n&&(n=om(n)),r=n===void 0||n.length==0?{position:e,color:t,index:i}:{position:e,color:t,index:i,normal:n};var a=new JT(this,Object.assign({serial:this.meshCount,name:s},r)),o=new Ar(Object.assign({picking:a},r));return this.bufferList.push(o),wg.setFromArray(e),this.boundingBox.union(wg),this.meshCount+=1,this},Di.prototype.addSphere=function(e,t,i,n){return Rc.objectToShape(this,{position:e,color:t,radius:i,name:n}),this},Di.prototype.addEllipsoid=function(e,t,i,n,s,r){return Nc.objectToShape(this,{position:e,color:t,radius:i,majorAxis:n,minorAxis:s,name:r}),this},Di.prototype.addTorus=function(e,t,i,n,s,r){return r1.objectToShape(this,{position:e,color:t,radius:i,majorAxis:n,minorAxis:s,name:r}),this},Di.prototype.addCylinder=function(e,t,i,n,s){return to.objectToShape(this,{position1:e,position2:t,color:i,radius:n,name:s}),this},Di.prototype.addCone=function(e,t,i,n,s){return s1.objectToShape(this,{position1:e,position2:t,color:i,radius:n,name:s}),this},Di.prototype.addArrow=function(e,t,i,n,s){return n1.objectToShape(this,{position1:e,position2:t,color:i,radius:n,name:s}),this},Di.prototype.addBox=function(e,t,i,n,s,r){return eo.objectToShape(this,{position:e,color:t,size:i,heightAxis:n,depthAxis:s,name:r}),this},Di.prototype.addOctahedron=function(e,t,i,n,s,r){return t1.objectToShape(this,{position:e,color:t,size:i,heightAxis:n,depthAxis:s,name:r}),this},Di.prototype.addTetrahedron=function(e,t,i,n,s,r){return i1.objectToShape(this,{position:e,color:t,size:i,heightAxis:n,depthAxis:s,name:r}),this},Di.prototype.addText=function(e,t,i,n){return Nu.objectToShape(this,{position:e,color:t,size:i,text:n}),this},Di.prototype.addPoint=function(e,t,i){return Ff.objectToShape(this,{position:e,color:t,name:i}),this},Di.prototype.addWideline=function(e,t,i,n,s){return this.parameters.linewidth=n,Rf.objectToShape(this,{position1:e,position2:t,color:i,name:s}),this},Di.prototype.addLabel=function(e,t,i,n){return console.warn("Shape.addLabel is deprecated, use .addText instead"),this.addText(e,t,i,n)},Di.prototype.getBufferList=function(){var e=this,t=[];return Jh.forEach(function(i){e._primitiveData[i.getShapeKey("color")].length&&t.push(i.bufferFromShape(e,e.parameters))}),this.bufferList.concat(t)},Di.prototype.dispose=function(){var e=this;this.bufferList.forEach(function(t){t.dispose()}),this.bufferList.length=0,Jh.forEach(function(t){Object.keys(t.fields).forEach(function(i){e._primitiveData[t.getShapeKey(i)].length=0}),e._primitiveData[t.getShapeKey("name")].length=0})},Rm.center.get=function(){return this._center||(this._center=this.boundingBox.getCenter(new P)),this._center},Rm.type.get=function(){return"Shape"},Object.defineProperties(Di.prototype,Rm);var Eg=function(e){function t(i,n,s){Array.isArray(i)||(i=[i]),e.call(this,i,n,s),this.type="buffer",this.parameters=Object.assign({},this.parameters,{colorScheme:null,colorScale:null,colorValue:null,colorDomain:null,colorMode:null}),this.buffer=i,this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){e.prototype.init.call(this,i),this.build()},t.prototype.create=function(){this.bufferList.push.apply(this.bufferList,this.buffer)},t.prototype.attach=function(i){var n=this;this.bufferList.forEach(function(s){n.viewer.add(s),s.setParameters(n.getBufferParams())}),this.setVisibility(this.visible),i()},t}(Ci),Z0=new De,vg=new Yi,da=function(e){function t(i,n,s){n===void 0&&(n={}),e.call(this,function(f,l){var u,m=l.attributes.position.array,d=l.index?l.index.array:void 0,y=f.position.length/3,_=m.length/3,h=y*_,g=new Float32Array(3*h),E=new Float32Array(3*h),w=new Float32Array(3*h);return d&&(u=Ks(y*d.length,h)),{position:g,color:w,index:u,normal:E,primitiveId:f.primitiveId||Oh(y,_),picking:f.picking}}(i,s),n),this.updateNormals=!1;var r=s.attributes.position.array,a=s.attributes.normal.array,o=s.index?s.index.array:void 0;this.geoPosition=r,this.geoNormal=a,this.geoIndex=o,this.positionCount=i.position.length/3,this.geoPositionCount=r.length/3,this.transformedGeoPosition=new Float32Array(3*this.geoPositionCount),this.transformedGeoNormal=new Float32Array(3*this.geoPositionCount);var c=this.geometry.attributes;if(this.meshPosition=c.position.array,this.meshColor=c.color.array,this.meshNormal=c.normal.array,this.setAttributes(i),o){var p=this.geometry.getIndex();if(!p)return void de.error("Index is null");this.meshIndex=p.array,this.makeIndex()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(i,n){i===void 0&&(i={}),n===void 0&&(n=!1);var s,r,a,o,c,p,f,l,u,m=this.geometry.attributes,d=this.updateNormals;i.position&&(s=i.position,a=this.geoPosition,f=this.meshPosition,c=this.transformedGeoPosition,m.position.needsUpdate=!0,(d||n)&&(o=this.geoNormal,u=this.meshNormal,p=this.transformedGeoNormal,m.normal.needsUpdate=!0)),i.color&&(r=i.color,l=this.meshColor,m.color.needsUpdate=!0);for(var y=this.positionCount,_=this.geoPositionCount,h=0;h<y;++h){var g=void 0,E=void 0,w=h*_*3,v=3*h;if(s&&c&&f&&u&&a&&o&&(c.set(a),Z0.makeTranslation(s[v],s[v+1],s[v+2]),this.applyPositionTransform(Z0,h,v),Zu(Z0.elements,c),f.set(c,w),d&&p?(p.set(o),vg.getNormalMatrix(Z0),H_(vg.elements,p),u.set(p,w)):n&&u.set(o,w)),r&&l)for(g=0;g<_;++g)l[E=w+3*g]=r[v],l[E+1]=r[v+1],l[E+2]=r[v+2]}},t.prototype.makeIndex=function(){var i=this.geoIndex,n=this.meshIndex;if(i)for(var s=this.positionCount,r=this.geoPositionCount,a=3*(i.length/3),o=0;o<s;++o){var c=o*a,p=c+a;n.set(i,c);for(var f=c;f<p;++f)n[f]+=o*r}},t}(Ar),bg=new P,mE=Object.assign({sphereDetail:1},gn),RI=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,n,s,new Qa(1,R(s.sphereDetail,1))),this.setAttributes(n,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return mE},t.prototype.applyPositionTransform=function(n,s){var r=this._radius[s];bg.set(r,r,r),n.scale(bg)},t.prototype.setAttributes=function(n,s){n===void 0&&(n={}),n.radius&&(this._radius=n.radius),e.prototype.setAttributes.call(this,n,s)},Object.defineProperties(t.prototype,i),t}(da);Ht.add("shader/SphereImpostor.vert",`uniform mat4 projectionMatrixInverse;
uniform float clipNear;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
attribute vec2 mapping;
attribute float radius;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
#include matrix_scale
const mat4 D = mat4(
1.0, 0.0, 0.0, 0.0,
0.0, 1.0, 0.0, 0.0,
0.0, 0.0, 1.0, 0.0,
0.0, 0.0, 0.0, -1.0
);
mat4 transposeM( in mat4 inMatrix ) {
vec4 i0 = inMatrix[0];
vec4 i1 = inMatrix[1];
vec4 i2 = inMatrix[2];
vec4 i3 = inMatrix[3];
mat4 outMatrix = mat4(
vec4(i0.x, i1.x, i2.x, i3.x),
vec4(i0.y, i1.y, i2.y, i3.y),
vec4(i0.z, i1.z, i2.z, i3.z),
vec4(i0.w, i1.w, i2.w, i3.w)
);
return outMatrix;
}
void ComputePointSizeAndPositionInClipCoordSphere(){
vec2 xbc;
vec2 ybc;
mat4 T = mat4(
radius, 0.0, 0.0, 0.0,
0.0, radius, 0.0, 0.0,
0.0, 0.0, radius, 0.0,
position.x, position.y, position.z, 1.0
);
mat4 R = transposeM( projectionMatrix * modelViewMatrix * T );
float A = dot( R[ 3 ], D * R[ 3 ] );
float B = -2.0 * dot( R[ 0 ], D * R[ 3 ] );
float C = dot( R[ 0 ], D * R[ 0 ] );
xbc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
xbc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sx = abs( xbc[ 0 ] - xbc[ 1 ] ) * 0.5;
A = dot( R[ 3 ], D * R[ 3 ] );
B = -2.0 * dot( R[ 1 ], D * R[ 3 ] );
C = dot( R[ 1 ], D * R[ 1 ] );
ybc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
ybc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sy = abs( ybc[ 0 ] - ybc[ 1 ] ) * 0.5;
gl_Position.xy = vec2( 0.5 * ( xbc.x + xbc.y ), 0.5 * ( ybc.x + ybc.y ) );
gl_Position.xy -= mapping * vec2( sx, sy );
gl_Position.xy *= gl_Position.w;
}
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
vRadius = radius * matrixScale( modelViewMatrix );
vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
mvPosition.z -= vRadius;
gl_Position = projectionMatrix * vec4( mvPosition.xyz, 1.0 );
ComputePointSizeAndPositionInClipCoordSphere();
vRadiusSq = vRadius * vRadius;
vec4 vPoint4 = projectionMatrixInverse * gl_Position;
vPoint = vPoint4.xyz / vPoint4.w;
vPointViewPosition = -mvPosition.xyz / mvPosition.w;
}`),Ht.add("shader/SphereImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool flag2 = false;
bool interior = false;
vec3 cameraPos;
vec3 cameraNormal;
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
bool Impostor( out vec3 cameraPos, out vec3 cameraNormal ){
vec3 cameraSpherePos = -vPointViewPosition;
cameraSpherePos.z += vRadius;
vec3 rayOrigin = mix( vec3( 0.0, 0.0, 0.0 ), vPoint, ortho );
vec3 rayDirection = mix( normalize( vPoint ), vec3( 0.0, 0.0, 1.0 ), ortho );
vec3 cameraSphereDir = mix( cameraSpherePos, rayOrigin - cameraSpherePos, ortho );
float B = dot( rayDirection, cameraSphereDir );
float det = B * B + vRadiusSq - dot( cameraSphereDir, cameraSphereDir );
if( det < 0.0 ){
discard;
return false;
}
float sqrtDet = sqrt( det );
float posT = mix( B + sqrtDet, B + sqrtDet, ortho );
float negT = mix( B - sqrtDet, sqrtDet - B, ortho );
cameraPos = rayDirection * negT + rayOrigin;
#ifdef NEAR_CLIP
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}else if( calcClip( cameraPos ) > 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
flag2 = true;
}
#else
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}
#endif
cameraNormal = normalize( cameraPos - cameraSpherePos );
cameraNormal *= float(!interior) * 2.0 - 1.0;
return !interior;
}
void main(void){
bool flag = Impostor( cameraPos, cameraNormal );
#ifdef NEAR_CLIP
if( calcClip( cameraPos ) > 0.0 )
discard;
#endif
gl_FragDepthEXT = calcDepth( cameraPos );
if( !flag ){
#ifdef NEAR_CLIP
if( flag2 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}else if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#else
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#endif
}
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vNormal = cameraNormal;
vec3 vViewPosition = -cameraPos;
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var Y_=function(e){function t(n,s,r){r===void 0&&(r={}),e.call(this,s,r),this.index=Ks(this.indexSize,this.attributeSize),this.makeIndex(),this.initIndex(this.index),this.addAttributes({mapping:{type:n,value:null}}),this.setAttributes({primitiveId:Vc(this.size)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={attributeSize:{configurable:!0},indexSize:{configurable:!0}};return i.attributeSize.get=function(){return this.size*this.mappingSize},i.indexSize.get=function(){return this.size*this.mappingIndicesSize},t.prototype.addAttributes=function(n){var s={};for(var r in n){var a=n[r];s[r]={type:a.type,value:null}}e.prototype.addAttributes.call(this,s)},t.prototype.getAttributeIndex=function(n){return 3*n*this.mappingSize},t.prototype.setAttributes=function(n){n&&!n.position&&n.position1&&n.position2&&(n.position=zs(n.position1,n.position2));var s,r,a,o,c,p,f,l=this.size,u=this.mappingSize,m=this.geometry.attributes;for(var d in n)if(d!=="index"&&d!=="picking"){r=n[d],a=(s=m[d]).itemSize,o=s.array;for(var y=0;y<l;++y){p=(c=y*a)*u;for(var _=0;_<u;++_){f=p+a*_;for(var h=0;h<a;++h)o[f+h]=r[c+h]}}s.needsUpdate=!0}},t.prototype.makeMapping=function(){for(var n=this.size,s=this.mapping,r=this.mappingSize,a=this.mappingItemSize,o=this.geometry.attributes.mapping.array,c=0;c<n;c++)o.set(s,c*a*r)},t.prototype.makeIndex=function(){for(var n=this.size,s=this.mappingSize,r=this.mappingIndices,a=this.mappingIndicesSize,o=this.index,c=0;c<n;c++){var p=c*a,f=c*s;o.set(r,p);for(var l=0;l<a;++l)o[p+l]+=f}},Object.defineProperties(t.prototype,i),t}(Nt),NI=new Float32Array([-1,1,-1,-1,1,1,1,-1]),DI=new Uint16Array([0,1,2,1,3,2]),J_=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,"v2",n,s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return i.mapping.get=function(){return NI},i.mappingIndices.get=function(){return DI},i.mappingIndicesSize.get=function(){return 6},i.mappingSize.get=function(){return 4},i.mappingItemSize.get=function(){return 2},Object.defineProperties(t.prototype,i),t}(Y_),GI=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,i,n),this.isImpostor=!0,this.vertexShader="SphereImpostor.vert",this.fragmentShader="SphereImpostor.frag",this.addUniforms({projectionMatrixInverse:{value:new De},ortho:{value:0}}),this.addAttributes({radius:{type:"f",value:null}}),this.setAttributes(i),this.makeMapping()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(J_);Object.assign({disableImpostor:!1},mE);var ha=function(e,t){return!qs||t&&t.disableImpostor?new RI(e,t):new GI(e,t)};Vn.add("sphere",ha),Ht.add("shader/Point.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float size;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
varying vec3 vViewPosition;
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
#include begin_vertex
#include project_vertex
#ifdef USE_SIZEATTENUATION
gl_PointSize = size * pixelRatio * ( ( canvasHeight / 2.0 ) / -mvPosition.z );
#else
gl_PointSize = size * pixelRatio;
#endif
#ifndef PICKING
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Ht.add("shader/Point.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef USE_MAP
uniform sampler2D map;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
varying vec3 vViewPosition;
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
#ifdef USE_MAP
if( texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ).a < 0.5 )
discard;
#endif
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
#ifdef USE_MAP
diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );
#endif
#include color_fragment
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var OI=Object.assign({pointSize:1,sizeAttenuation:!0,sortParticles:!1,alphaTest:.5,useTexture:!1,forceTransparent:!1,edgeBleach:0},gn),kI=Object.assign({pointSize:{uniform:"size"},sizeAttenuation:{updateShader:!0},sortParticles:{},alphaTest:{updateShader:!0},useTexture:{updateShader:!0},forceTransparent:{},edgeBleach:{uniform:!0}},ro),Q_=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,n,s),this.parameterTypes=kI,this.vertexShader="Point.vert",this.fragmentShader="Point.frag",this.isPoint=!0,this.addUniforms({size:{value:this.parameters.pointSize},canvasHeight:{value:1},pixelRatio:{value:1},map:{value:null}})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return OI},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.makeTexture();var n=this.material,s=this.wireframeMaterial,r=this.pickingMaterial;n.uniforms.map.value=this.tex,n.needsUpdate=!0,s.uniforms.map.value=this.tex,s.needsUpdate=!0,r.uniforms.map.value=this.tex,r.needsUpdate=!0},t.prototype.makeTexture=function(){this.tex&&this.tex.dispose(),this.tex=function(n){for(var s,r,a=n||{},o=R(a.width,256),c=R(a.height,256),p=[o/2,c/2],f=Math.min(o/2,c/2),l=R(a.delta,1/(f+1))*f,u=0,m=0,d=new Uint8Array(o*c*4),y=0,_=d.length;y<_;y+=4){var h=1-Kf(f-l,f,(s=void 0,r=void 0,s=p[0]-u,r=p[1]-m,Math.sqrt(s*s+r*r)));d[y]=255*h,d[y+1]=255*h,d[y+2]=255*h,d[y+3]=255*h,++u===o&&(u=0,m++)}var g=new wr(d,o,c);return g.needsUpdate=!0,g}({delta:this.parameters.edgeBleach})},t.prototype.getDefines=function(n){var s=e.prototype.getDefines.call(this,n);return this.parameters.sizeAttenuation&&(s.USE_SIZEATTENUATION=1),this.parameters.useTexture&&(s.USE_MAP=1),this.parameters.alphaTest>0&&this.parameters.alphaTest<=1&&(s.ALPHATEST=this.parameters.alphaTest.toPrecision(2)),s},t.prototype.setUniforms=function(n){n&&n.edgeBleach!==void 0&&(this.makeTexture(),n.map=this.tex),e.prototype.setUniforms.call(this,n)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.tex&&this.tex.dispose()},Object.defineProperties(t.prototype,i),t}(Nt);Vn.add("point",Q_);var xg=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="dot",this.parameters=Object.assign({thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdOut:{type:"boolean",rebuild:!0},dotType:{type:"select",rebuild:!0,options:{"":"",sphere:"sphere",point:"point"}},radiusType:{type:"select",options:{"":"",value:"value","abs-value":"abs-value","value-min":"value-min",deviation:"deviation",size:"size"}},radius:{type:"number",precision:3,max:10,min:.001,property:"size"},scale:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,disableImpostor:!0,pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{colorScheme:{type:"select",update:"color",options:{"":"",value:"value",uniform:"uniform",random:"random"}}}),i instanceof Wt?(this.surface=void 0,this.volume=new jn(i)):(this.surface=i,this.volume=void 0),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"uniform"),n.colorValue=R(n.colorValue,14540253),this.thresholdType=R(n.thresholdType,"sigma"),this.thresholdMin=R(n.thresholdMin,2),this.thresholdMax=R(n.thresholdMax,1/0),this.thresholdOut=R(n.thresholdOut,!1),this.dotType=R(n.dotType,"point"),this.radius=R(n.radius,.1),this.scale=R(n.scale,1),this.pointSize=R(n.pointSize,1),this.sizeAttenuation=R(n.sizeAttenuation,!0),this.sortParticles=R(n.sortParticles,!1),this.useTexture=R(n.useTexture,!1),this.alphaTest=R(n.alphaTest,.5),this.forceTransparent=R(n.forceTransparent,!1),this.edgeBleach=R(n.edgeBleach,0),e.prototype.init.call(this,n),this.build()},t.prototype.attach=function(i){var n=this;this.bufferList.forEach(function(s){n.viewer.add(s)}),this.setVisibility(this.visible),i()},t.prototype.create=function(){var i={};if(this.volume){var n,s,r=this.volume;this.thresholdType==="sigma"?(n=r.getValueForSigma(this.thresholdMin),s=r.getValueForSigma(this.thresholdMax)):(n=this.thresholdMin,s=this.thresholdMax),r.setFilter(n,s,this.thresholdOut),Object.assign(i,{position:r.getDataPosition(),color:r.getDataColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(i,{radius:r.getDataSize(this.radius,this.scale),picking:r.getDataPicking()})}else{var a=this.surface;Object.assign(i,{position:a.getPosition(),color:a.getColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(i,{radius:a.getSize(this.radius,this.scale),picking:a.getPicking()})}this.dotType==="sphere"?this.dotBuffer=new ha(i,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!1})):this.dotBuffer=new Q_(i,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach})),this.bufferList.push(this.dotBuffer)},t.prototype.update=function(i){if(i===void 0&&(i={}),this.bufferList.length!==0){var n={};i.color&&(this.volume?Object.assign(n,{color:this.volume.getDataColor(this.getColorParams())}):Object.assign(n,{color:this.surface.getColor(this.getColorParams())})),this.dotType==="sphere"&&(i.radius||i.scale)&&(this.volume?Object.assign(n,{radius:this.volume.getDataSize(this.radius,this.scale)}):Object.assign(n,{radius:this.surface.getSize(this.radius,this.scale)})),this.dotBuffer.setAttributes(n)}},t.prototype.setParameters=function(i,n,s){return n===void 0&&(n={}),i&&i.thresholdType!==void 0&&this.volume instanceof Wt&&(this.thresholdType==="value"&&i.thresholdType==="sigma"?(this.thresholdMin=this.volume.getSigmaForValue(this.thresholdMin),this.thresholdMax=this.volume.getSigmaForValue(this.thresholdMax)):this.thresholdType==="sigma"&&i.thresholdType==="value"&&(this.thresholdMin=this.volume.getValueForSigma(this.thresholdMin),this.thresholdMax=this.volume.getValueForSigma(this.thresholdMax)),this.thresholdType=i.thresholdType),i&&i.radiusType!==void 0&&(i.radiusType==="radius"?this.radius=.1:this.radius=parseFloat(i.radiusType),n.radius=!0,this.dotType!=="sphere"||qs&&!this.disableImpostor||(s=!0)),i&&i.radius!==void 0&&(n.radius=!0,this.dotType!=="sphere"||qs&&!this.disableImpostor||(s=!0)),i&&i.scale!==void 0&&(n.scale=!0,this.dotType!=="sphere"||qs&&!this.disableImpostor||(s=!0)),e.prototype.setParameters.call(this,i,n,s),this},t}(Ci);Ht.add("shader/Image.vert",`uniform float clipRadius;
uniform vec3 clipCenter;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void main() {
#include begin_vertex
#include project_vertex
vUv = uv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
}`),Ht.add("shader/Image.frag",`uniform sampler2D map;
uniform float opacity;
uniform vec2 mapSize;
uniform float clipNear;
uniform float clipRadius;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform sampler2D pickingMap;
uniform float objectId;
#else
#include fog_pars_fragment
#endif
#if defined( CUBIC_INTERPOLATION )
#if defined( CATMULROM_FILTER ) || defined( MITCHELL_FILTER )
#if defined( CATMULROM_FILTER )
const float B = 0.0;
const float C = 0.5;
#elif defined( MITCHELL_FILTER )
const float B = 0.333;
const float C = 0.333;
#endif
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f < 1.0 ){
return ( ( 12.0 - 9.0 * B - 6.0 * C ) * ( f * f * f ) +
( -18.0 + 12.0 * B + 6.0 *C ) * ( f * f ) +
( 6.0 - 2.0 * B ) ) / 6.0;
}else if( f >= 1.0 && f < 2.0 ){
return ( ( -B - 6.0 * C ) * ( f * f * f )
+ ( 6.0 * B + 30.0 * C ) * ( f *f ) +
( - ( 12.0 * B ) - 48.0 * C ) * f +
8.0 * B + 24.0 * C ) / 6.0;
}else{
return 0.0;
}
}
#elif defined( BSPLINE_FILTER )
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f >= 0.0 && f <= 1.0 ){
return ( 2.0 / 3.0 ) + ( 0.5 ) * ( f * f * f ) - ( f * f );
}else if( f > 1.0 && f <= 2.0 ){
return 1.0 / 6.0 * pow( ( 2.0 - f ), 3.0 );
}
return 1.0;
}
#else
float filter( float x ){
return 1.0;
}
#endif
vec4 biCubic( sampler2D tex, vec2 texCoord ){
vec2 texelSize = 1.0 / mapSize;
texCoord -= texelSize / 2.0;
vec4 nSum = vec4( 0.0 );
float nDenom = 0.0;
vec2 cell = fract( texCoord * mapSize );
for( float m = -1.0; m <= 2.0; ++m ){
for( float n = -1.0; n <= 2.0; ++n ){
vec4 vecData = texture2D(
tex, texCoord + texelSize * vec2( m, n )
);
float c = filter( m - cell.x ) * filter( -n + cell.y );
nSum += vecData * c;
nDenom += c;
}
}
return nSum / nDenom;
}
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( CUBIC_INTERPOLATION )
gl_FragColor = biCubic( map, vUv );
#else
gl_FragColor = texture2D( map, vUv );
#endif
#if defined( PICKING )
if( gl_FragColor.a < 0.3 )
discard;
gl_FragColor = vec4( texture2D( pickingMap, vUv ).xyz, objectId );
#else
if( gl_FragColor.a < 0.01 )
discard;
gl_FragColor.a *= opacity;
#include fog_fragment
#endif
}`);var BI=new Uint16Array([0,1,2,1,3,2]),VI=new Float32Array([0,1,0,0,1,1,1,0]),qI=Object.assign({filter:"nearest",forceTransparent:!0},gn),zI=Object.assign({filter:{updateShader:!0,uniform:!0}},ro),HI=function(e){function t(n,s){e.call(this,{position:n.position,index:BI,picking:n.picking},s),this.parameterTypes=zI,this.alwaysTransparent=!0,this.hasWireframe=!1,this.vertexShader="Image.vert",this.fragmentShader="Image.frag";var r=n.imageData,a=n.width,o=n.height,c=new wr(r,a,o);c.flipY=!0,this.tex=c;for(var p=r.length,f=new Uint8Array(p),l=0;l<p;l+=4){var u=l/4;f[l]=u>>16&255,f[l+1]=u>>8&255,f[l+2]=255&u}var m=new wr(f,a,o);m.flipY=!0,m.minFilter=si,m.magFilter=si,this.pickingTex=m,this.addUniforms({map:{value:c},pickingMap:{value:m},mapSize:{value:new Te(a,o)}}),this.geometry.setAttribute("uv",new it(VI,2))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return qI},t.prototype.getDefines=function(n){var s=e.prototype.getDefines.call(this,n),r=this.parameters.filter;return r.startsWith("cubic")&&(s.CUBIC_INTERPOLATION=1,r.endsWith("bspline")?s.BSPLINE_FILTER=1:r.endsWith("catmulrom")?s.CATMULROM_FILTER=1:r.endsWith("mitchell")&&(s.MITCHELL_FILTER=1)),s},t.prototype.updateTexture=function(){var n=this.tex,s=this.parameters.filter;s.startsWith("cubic")?(n.minFilter=si,n.magFilter=si):s==="linear"?(n.minFilter=Ri,n.magFilter=Ri):(n.minFilter=si,n.magFilter=si),n.needsUpdate=!0,this.pickingTex.needsUpdate=!0},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.updateTexture();var n=this.material;n.uniforms.map.value=this.tex,n.blending=ea,n.needsUpdate=!0;var s=this.wireframeMaterial;s.uniforms.map.value=this.tex,s.blending=ea,s.needsUpdate=!0;var r=this.pickingMaterial;r.uniforms.map.value=this.tex,r.uniforms.pickingMap.value=this.pickingTex,r.blending=ea,r.needsUpdate=!0},t.prototype.setUniforms=function(n){n&&n.filter!==void 0&&(this.updateTexture(),n.map=this.tex),e.prototype.setUniforms.call(this,n)},Object.defineProperties(t.prototype,i),t}(Nt),Qh=function(e,t){var i=t||{};this.dimension=R(i.dimension,"x"),this.positionType=R(i.positionType,"percent"),this.position=R(i.position,30),this.thresholdType=R(i.thresholdType,"sigma"),this.thresholdMin=R(i.thresholdMin,-1/0),this.thresholdMax=R(i.thresholdMax,1/0),this.normalize=R(i.normalize,!1),this.volume=e};Qh.prototype.getPositionFromCoordinate=function(e){var t,i=this.dimension,n=this.volume,s=n.matrix,r=new P().setFromMatrixPosition(s)[i],a=new P().setFromMatrixScale(s)[i];return t=i==="x"?n.nx:i==="y"?n.ny:n.nz,Math.round(((e-r)/(t/100)+1)/a)},Qh.prototype.getData=function(e){e=e||{};var t,i=this.volume,n=i.data,s=i.matrix;function r(ne){return Math.round(ne/100*(t-1))}function a(ne,pe,U,W){return 3*(U*i.ny*i.nx+pe*i.nx+ne)+W}t=this.positionType==="coordinate"?this.getPositionFromCoordinate(this.position):this.position;var o,c,p,f,l,u=new Float32Array(12),m=new P,d=0,y=0,_=0,h=i.nx,g=i.ny,E=i.nz;function w(ne,pe,U,W){m.set(ne,pe,U).applyMatrix4(s).toArray(u,W)}this.dimension==="x"?(p=r(i.nx),f=i.ny-1,l=i.nz-1,o=i.nz,c=i.ny,h=(d=p)+1,w(p,0,0,0),w(p,f,0,3),w(p,0,l,6),w(p,f,l,9)):this.dimension==="y"?(p=i.nx-1,f=r(i.ny),l=i.nz-1,o=i.nz,c=i.nx,g=(y=f)+1,w(0,f,0,0),w(p,f,0,3),w(0,f,l,6),w(p,f,l,9)):this.dimension==="z"&&(p=i.nx-1,f=i.ny-1,l=r(i.nz),o=i.nx,c=i.ny,E=(_=l)+1,w(0,0,l,0),w(0,f,l,3),w(p,0,l,6),w(p,f,l,9));var v,x,b=0,A=0,M=new Uint8Array(o*c*4),G=new Float32Array(o*c);this.thresholdType==="sigma"?(v=i.getValueForSigma(this.thresholdMin),x=i.getValueForSigma(this.thresholdMax)):(v=this.thresholdMin,x=this.thresholdMax);var T=Object.assign({},e.colorParams,{volume:i});this.normalize&&(T.domain=[0,1]);var N,D=It.getScheme(T),L=new Float32Array(3),C=D.getScale(),O=0,q=0;if(this.normalize){O=1/0,N=-1/0;for(var z=y;z<g;++z)for(var $=d;$<h;++$)for(var re=_;re<E;++re){var K=n[a($,z,re,0)/3];K<O&&(O=K),K>N&&(N=K)}q=N-O}for(var J=y;J<g;++J)for(var Y=d;Y<h;++Y)for(var le=_;le<E;++le){var fe=a(Y,J,le,0)/3,X=n[fe];this.normalize&&(X=(X-O)/q),D.colorToArray(C(X),L),M[b]=Math.round(255*L[0]),M[b+1]=Math.round(255*L[1]),M[b+2]=Math.round(255*L[2]),M[b+3]=X>v&&X<x?255:0,G[A]=fe,++A,b+=4}var ae=new iI(G,i);return{position:u,imageData:M,width:o,height:c,picking:ae}};var UI=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="slice",this.parameters=Object.assign({filter:{type:"select",buffer:!0,options:{nearest:"nearest",linear:"linear","cubic-bspline":"cubic-bspline","cubic-catmulrom":"cubic-catmulrom","cubic-mitchell":"cubic-mitchell"}},positionType:{type:"select",rebuild:!0,options:{percent:"percent",coordinate:"coordinate"}},position:{type:"range",step:.1,max:100,min:1,rebuild:!0},dimension:{type:"select",rebuild:!0,options:{x:"x",y:"y",z:"z"}},thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},normalize:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null,linewidth:null,colorScheme:null,roughness:null,metalness:null,diffuse:null}),this.volume=i,this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=this.volume,s=i||{};s.colorDomain=R(s.colorDomain,[n.min,n.max]),s.colorScheme=R(s.colorScheme,"value"),s.colorScale=R(s.colorScale,"Spectral"),this.colorScheme="value",this.dimension=R(s.dimension,"x"),this.filter=R(s.filter,"cubic-bspline"),this.positionType=R(s.positionType,"percent"),this.position=R(s.position,30),this.thresholdType=R(s.thresholdType,"sigma"),this.thresholdMin=R(s.thresholdMin,-1/0),this.thresholdMax=R(s.thresholdMax,1/0),this.normalize=R(s.normalize,!1),e.prototype.init.call(this,s),this.build()},t.prototype.attach=function(i){var n=this;this.bufferList.forEach(function(s){n.viewer.add(s)}),this.setVisibility(this.visible),i()},t.prototype.create=function(){var i=new Qh(this.volume,{positionType:this.positionType,position:this.position,dimension:this.dimension,thresholdType:this.thresholdType,thresholdMin:this.thresholdMin,thresholdMax:this.thresholdMax,normalize:this.normalize}),n=new HI(i.getData({colorParams:this.getColorParams()}),this.getBufferParams({filter:this.filter}));this.bufferList.push(n)},t}(Ci);function Nm(e){de.error("makeRepresentation: representation type "+e+" unknown")}var X_={name:"some element",status:""},Xo=function(e,t){t===void 0&&(t={}),this.stage=e,this.signals={statusChanged:new _t.exports.Signal,nameChanged:new _t.exports.Signal,disposed:new _t.exports.Signal},this.parameters=Bn(t,this.defaultParameters),this.uuid=B_()},Dm={defaultParameters:{configurable:!0},name:{configurable:!0}};Dm.defaultParameters.get=function(){return X_},Dm.name.get=function(){return this.parameters.name},Xo.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},Xo.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},Xo.prototype.dispose=function(){this.signals.disposed.dispatch()},Object.defineProperties(Xo.prototype,Dm);var WI=Object.assign({visible:!0},X_),jI=function(e){function t(n,s,r,a){r===void 0&&(r={}),e.call(this,n,Object.assign({name:s.type},r)),this.parent=a,this.signals=Object.assign({visibilityChanged:new _t.exports.Signal,parametersChanged:new _t.exports.Signal},this.signals),this.setRepresentation(s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0},visible:{configurable:!0},type:{configurable:!0}};return i.defaultParameters.get=function(){return WI},i.visible.get=function(){return this.parameters.visible},i.type.get=function(){return"representation"},t.prototype.getType=function(){return this.repr.type},t.prototype.setRepresentation=function(n){this._disposeRepresentation(),this.repr=n,this.stage.tasks.listen(this.repr.tasks),this.updateVisibility()},t.prototype._disposeRepresentation=function(){this.repr&&(this.stage.tasks.unlisten(this.repr.tasks),this.repr.dispose())},t.prototype.dispose=function(){this.parent&&this.parent.hasRepresentation(this)?this.parent.removeRepresentation(this):(this._disposeRepresentation(),this.signals.disposed.dispatch())},t.prototype.setVisibility=function(n){return this.parameters.visible=n,this.updateVisibility(),this.signals.visibilityChanged.dispatch(this.parameters.visible),this},t.prototype.getVisibility=function(){return this.parent?this.parent.parameters.visible&&this.parameters.visible:this.parameters.visible},t.prototype.toggleVisibility=function(){return this.setVisibility(!this.parameters.visible)},t.prototype.updateVisibility=function(){this.repr.setVisibility(this.getVisibility())},t.prototype.update=function(n){return this.repr.update(n),this},t.prototype.build=function(n){return this.repr.build(n),this},t.prototype.setSelection=function(n){var s=this.repr;return s.setSelection&&s.setSelection(n),this},t.prototype.setParameters=function(n){return this.repr.setParameters(n),this.signals.parametersChanged.dispatch(this.repr.getParameters()),this},t.prototype.getParameters=function(){return this.repr.getParameters()},t.prototype.setColor=function(n){return this.repr.setColor(n),this},Object.defineProperties(t.prototype,i),t}(Xo),Co=new De,$I=new P,dE={name:"",status:"",visible:!0},Ut=function(e,t,i){i===void 0&&(i={}),this.stage=e,this.object=t,this.signals={representationAdded:new _t.exports.Signal,representationRemoved:new _t.exports.Signal,visibilityChanged:new _t.exports.Signal,matrixChanged:new _t.exports.Signal,statusChanged:new _t.exports.Signal,nameChanged:new _t.exports.Signal,disposed:new _t.exports.Signal},this.reprList=[],this.annotationList=[],this.matrix=new De,this.position=new P,this.quaternion=new ri,this.scale=new P(1,1,1),this.transform=new De,this.parameters=Bn(i,this.defaultParameters),this.uuid=B_(),this.viewer=e.viewer,this.controls=new Pl(this)},lp={defaultParameters:{configurable:!0},name:{configurable:!0},status:{configurable:!0},visible:{configurable:!0}};lp.defaultParameters.get=function(){return dE},lp.name.get=function(){return this.parameters.name},lp.status.get=function(){return this.parameters.status},lp.visible.get=function(){return this.parameters.visible},Ut.prototype.setPosition=function(e){return Array.isArray(e)?this.position.fromArray(e):this.position.copy(e),this.updateMatrix(),this},Ut.prototype.setRotation=function(e){if(Array.isArray(e))if(e.length===3){var t=new oa().fromArray(e);this.quaternion.setFromEuler(t)}else this.quaternion.fromArray(e);else e instanceof oa?this.quaternion.setFromEuler(e):this.quaternion.copy(e);return this.updateMatrix(),this},Ut.prototype.setScale=function(e){return this.scale.set(e,e,e),this.updateMatrix(),this},Ut.prototype.setTransform=function(e){return this.transform.copy(e),this.updateMatrix(),this},Ut.prototype.updateMatrix=function(){var e=this.getCenterUntransformed($I);this.matrix.makeTranslation(-e.x,-e.y,-e.z),Co.makeRotationFromQuaternion(this.quaternion),this.matrix.premultiply(Co),Co.makeScale(this.scale.x,this.scale.y,this.scale.z),this.matrix.premultiply(Co);var t=this.position;Co.makeTranslation(t.x+e.x,t.y+e.y,t.z+e.z),this.matrix.premultiply(Co),this.matrix.premultiply(this.transform),this.updateRepresentationMatrices(),this.stage.viewer.updateBoundingBox(),this.signals.matrixChanged.dispatch(this.matrix)},Ut.prototype.updateRepresentationMatrices=function(){var e=this;this.reprList.forEach(function(t){t.setParameters({matrix:e.matrix})})},Ut.prototype.addAnnotation=function(e,t,i){var n=new Kr(this,e,t,i);return this.annotationList.push(n),n},Ut.prototype.eachAnnotation=function(e){this.annotationList.slice().forEach(e)},Ut.prototype.removeAnnotation=function(e){var t=this.annotationList.indexOf(e);t!==-1&&(this.annotationList.splice(t,1),e.dispose())},Ut.prototype.removeAllAnnotations=function(){this.eachAnnotation(function(e){return e.dispose()}),this.annotationList.length=0},Ut.prototype._addRepresentation=function(e,t,i,n){n===void 0&&(n=!1);var s=i||{},r=this.stage.getParameters();s.matrix=this.matrix.clone(),s.quality=s.quality||r.quality,s.disableImpostor=R(s.disableImpostor,!r.impostor),s.useWorker=R(s.useWorker,r.workerDefault),s.visible=R(s.visible,!0);var a=Object.assign({},s,{visible:this.parameters.visible&&s.visible}),o=function(p,f,l,u){var m;if(Ce&&de.time("makeRepresentation "+p),f instanceof ct){if(!(m=li.get(p)))return void Nm(p)}else if(f instanceof nn)if(p==="surface")m=jh;else{if(p!=="dot")return void Nm(p);m=xg}else if(f instanceof Wt)if(p==="surface")m=jh;else if(p==="dot")m=xg;else{if(p!=="slice")return void Nm(p);m=UI}else if(f instanceof Di)m=Eg,f=f.getBufferList();else{if(p!=="buffer")return void de.error("makeRepresentation: object "+f+" unknown");m=Eg}var d=new m(f,l,u);return Ce&&de.timeEnd("makeRepresentation "+p),d}(e,t,this.viewer,a),c=new jI(this.stage,o,s,this);return n||(this.reprList.push(c),this.signals.representationAdded.dispatch(c)),c},Ut.prototype.addBufferRepresentation=function(e,t){return this._addRepresentation.call(this,"buffer",e,t)},Ut.prototype.hasRepresentation=function(e){return this.reprList.indexOf(e)!==-1},Ut.prototype.eachRepresentation=function(e){this.reprList.slice().forEach(e)},Ut.prototype.removeRepresentation=function(e){var t=this.reprList.indexOf(e);t!==-1&&(this.reprList.splice(t,1),e.dispose(),this.signals.representationRemoved.dispatch(e))},Ut.prototype.updateRepresentations=function(e){this.reprList.forEach(function(t){return t.update(e)}),this.stage.viewer.requestRender()},Ut.prototype.removeAllRepresentations=function(){this.eachRepresentation(function(e){return e.dispose()})},Ut.prototype.dispose=function(){this.removeAllAnnotations(),this.removeAllRepresentations(),this.reprList.length=0,this.signals.disposed.dispatch()},Ut.prototype.setVisibility=function(e){return this.parameters.visible=e,this.eachRepresentation(function(t){return t.updateVisibility()}),this.eachAnnotation(function(t){return t.updateVisibility()}),this.signals.visibilityChanged.dispatch(e),this},Ut.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},Ut.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},Ut.prototype.getBox=function(){for(var e,t=[],i=arguments.length;i--;)t[i]=arguments[i];return(e=this).getBoxUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},Ut.prototype.getCenter=function(){for(var e,t=[],i=arguments.length;i--;)t[i]=arguments[i];return(e=this).getCenterUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},Ut.prototype.getZoom=function(){for(var e,t=[],i=arguments.length;i--;)t[i]=arguments[i];return this.stage.getZoomForBox((e=this).getBox.apply(e,t))},Ut.prototype.getBoxUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new ai},Ut.prototype.getCenterUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.getBoxUntransformed().getCenter(new P)},Ut.prototype.autoView=function(e){this.stage.animationControls.zoomMove(this.getCenter(),this.getZoom(),R(e,0))},Object.defineProperties(Ut.prototype,lp);var Zo=function(e){e===void 0&&(e=[]),this.list=e;for(var t=e.length,i=0;i<t;++i)e[i].signals.disposed.add(this._remove,this)},Sg={first:{configurable:!0}};Zo.prototype._remove=function(e){var t=this.list.indexOf(e);t!==-1&&this.list.splice(t,1)},Sg.first.get=function(){return this.list.length>0?this.list[0]:void 0},Zo.prototype.forEach=function(e){return this.list.forEach(e),this},Zo.prototype.dispose=function(){return this.forEach(function(e){return e.dispose()})},Object.defineProperties(Zo.prototype,Sg);var hE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setParameters=function(i){return this.forEach(function(n){return n.setParameters(i)})},t.prototype.setVisibility=function(i){return this.forEach(function(n){return n.setVisibility(i)})},t.prototype.setSelection=function(i){return this.forEach(function(n){return n.setSelection(i)})},t.prototype.setColor=function(i){return this.forEach(function(n){return n.setColor(i)})},t.prototype.update=function(i){return this.forEach(function(n){return n.update(i)})},t.prototype.build=function(i){return this.forEach(function(n){return n.build(i)})},t.prototype.dispose=function(i){return this.forEach(function(n){return n.dispose()})},t}(Zo),KI=Object.assign({defaultStep:1,defaultTimeout:50,defaultInterpolateType:"",defaultInterpolateStep:5,defaultMode:"loop",defaultDirection:"forward",initialFrame:0},X_),YI=function(e){function t(n,s,r){var a=this;r===void 0&&(r={}),e.call(this,n,Object.assign({name:s.name},r)),this.trajectory=s,this.signals=Object.assign(this.signals,{frameChanged:new _t.exports.Signal,playerChanged:new _t.exports.Signal,countChanged:new _t.exports.Signal,parametersChanged:new _t.exports.Signal}),s.signals.frameChanged.add(function(o){a.signals.frameChanged.dispatch(o)}),s.signals.playerChanged.add(function(o){a.signals.playerChanged.dispatch(o)}),s.signals.countChanged.add(function(o){a.signals.countChanged.dispatch(o)}),r.initialFrame!==void 0&&this.setFrame(r.initialFrame)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0},type:{configurable:!0}};return i.defaultParameters.get=function(){return KI},i.type.get=function(){return"trajectory"},t.prototype.setFrame=function(n){this.trajectory.setFrame(n)},t.prototype.setParameters=function(n){n===void 0&&(n={}),this.trajectory.setParameters(n),this.signals.parametersChanged.dispatch(n)},t.prototype.dispose=function(){this.trajectory.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,i),t}(Xo),Z_=function(e,t){this.name=e,this.path=t,this.coordinates=[],this.boxes=[],this.times=[],this.timeOffset=0,this.deltaTime=1},Mg={type:{configurable:!0}};Mg.type.get=function(){return"Frames"},Object.defineProperties(Z_.prototype,Mg);var Vp=function(e,t){var i,n;if(this.A=new jt(3,3),this.W=new jt(1,3),this.U=new jt(3,3),this.V=new jt(3,3),this.VH=new jt(3,3),this.R=new jt(3,3),this.tmp=new jt(3,3),this.c=new jt(3,3),e instanceof ct)i=e.atomCount;else{if(!(e instanceof Float32Array))return;i=e.length/3}if(t instanceof ct)n=t.atomCount;else{if(!(t instanceof Float32Array))return;n=t.length/3}var s=Math.min(i,n),r=new jt(3,s),a=new jt(3,s);this.coords1t=new jt(s,3),this.coords2t=new jt(s,3),this.transformationMatrix=new De,this.c.data.set([1,0,0,0,1,0,0,0,-1]),this.prepCoords(e,r,s,!1),this.prepCoords(t,a,s,!1),this._superpose(r,a)};Vp.prototype._superpose=function(e,t){var i,n,s,r,a,o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x,b;this.mean1=qh(e),this.mean2=qh(t),zh(e,this.mean1),zh(t,this.mean2),hs(this.coords1t,e),hs(this.coords2t,t),Ml(this.A,this.coords2t,this.coords1t),tE(this.A,this.W,this.U,this.V),i=this.V,n=this.VH,s=i.data,r=n.data,a=s[4],o=s[8],c=s[5],p=s[7],f=s[0],l=f*a,u=f*c,m=s[3],d=s[1],y=m*d,_=s[2],h=m*_,g=s[6],v=1/(l*o-u*p-y*o+h*p+(E=g*d)*c-(w=g*_)*a),r[0]=(a*o-c*p)*v,r[1]=-(d*o-_*p)*v,r[2]=-(-d*c+_*a)*v,r[3]=-(m*o-c*g)*v,r[4]=(f*o-w)*v,r[5]=-(u-h)*v,r[6]=-(-m*p+a*g)*v,r[7]=-(f*p-E)*v,r[8]=(l-y)*v,Cm(this.R,this.U,this.VH),x=this.R,(b=x.data)[0]*b[4]*b[8]-b[0]*b[5]*b[7]-b[3]*b[1]*b[8]+b[3]*b[2]*b[7]+b[6]*b[1]*b[5]-b[6]*b[2]*b[4]<0&&(Ce&&de.log("R not a right handed system"),Cm(this.tmp,this.c,this.VH),Cm(this.R,this.U,this.tmp));var A=new jt(4,4),M=new jt(4,4),G=new jt(4,4),T=new jt(4,4),N=new jt(4,4),D=new jt(4,4),L=this.R.data,C=this.mean1,O=this.mean2;T.data.set([1,0,0,-C[0],0,1,0,-C[1],0,0,1,-C[2],0,0,0,1]),N.data.set([L[0],L[1],L[2],0,L[3],L[4],L[5],0,L[6],L[7],L[8],0,0,0,0,1]),D.data.set([1,0,0,O[0],0,1,0,O[1],0,0,1,O[2],0,0,0,1]),hs(M,T),Ml(A,N,M),hs(G,A),Ml(M,D,G),hs(A,M),this.transformationMatrix.elements=A.data},Vp.prototype.prepCoords=function(e,t,i,n){var s=0,r=t.data,a=3,o=3*i;if(n&&(o=4*i,a=4),e instanceof ct)e.eachAtom(function(c){s<o&&(r[s+0]=c.x,r[s+1]=c.y,r[s+2]=c.z,n&&(r[s+3]=1),s+=a)});else if(e instanceof Float32Array)for(;s<o;s+=a)s<o&&(r[s]=e[s],r[s+1]=e[s+1],r[s+2]=e[s+2],n&&(r[s+3]=1));else de.warn("prepCoords: input type unknown")},Vp.prototype.transform=function(e){var t;if(e instanceof ct)t=e.atomCount;else{if(!(e instanceof Float32Array))return;t=e.length/3}var i=new jt(4,t),n=new jt(t,4);this.prepCoords(e,i,t,!0);var s=this.transformationMatrix,r=s.determinant();if(!r)return r;var a=new jt(4,4);a.data=s.elements,function(m,d,y){for(var _=0,h=0,g=0,E=0,w=0,v=0,x=0,b=0,A=d.cols,M=d.rows,G=y.cols,T=d.data,N=y.data,D=m.data,L=0;_<M;E+=A,_++)for(x=0,h=0;h<G;b++,x++,h++){for(v=x,w=E,L=0,g=0;g<A;w++,v+=G,g++)L+=T[w]*N[v];D[b]=L}}(n,i,a);var o=0,c=n.data;if(e instanceof ct){e.eachAtom(function(m){m.x=c[o],m.y=c[o+1],m.z=c[o+2],o+=4});var p=new De;p.getInverse(s);var f=e.biomolDict;for(var l in f)f.hasOwnProperty(l)&&f[l].partList.forEach(function(m){m.matrixList.forEach(function(d){d.premultiply(s),d.multiply(p)})})}else if(e instanceof Float32Array)for(var u=4*t;o<u;o+=4)e[o]=c[o],e[o+1]=c[o+1],e[o+2]=c[o+2];else de.warn("transform: input type unknown");return this.transformationMatrix};var JI={step:1,timeout:50,start:0,end:0,interpolateType:"",interpolateStep:5,mode:"loop",direction:"forward"},Ns=function(e,t){var i=this;t===void 0&&(t={}),this.signals={startedRunning:new _t.exports.Signal,haltedRunning:new _t.exports.Signal},this._run=!1,this._previousTime=0,this._currentTime=0,this._currentStep=1,e.signals.playerChanged.add(function(s){s!==i&&i.pause()},this);var n=R(e.frameCount,1);this.traj=e,this.parameters=Bn(t,JI),this.parameters.end=Math.min(R(t.end,n-1),n-1),this.parameters.step=R(t.step,Math.ceil((n+1)/100)),this._currentFrame=this.parameters.start,this._direction=this.parameters.direction==="bounce"?"forward":this.parameters.direction,e.signals.countChanged.add(function(s){i.parameters.end=Math.min(R(i.parameters.end,s-1),s-1)},this),this._animate=this._animate.bind(this)},Ag={isRunning:{configurable:!0}};Ag.isRunning.get=function(){return this._run},Ns.prototype.setParameters=function(e){e===void 0&&(e={}),x4(this.parameters,e),e.direction!==void 0&&this.parameters.direction!=="bounce"&&(this._direction=this.parameters.direction)},Ns.prototype._animate=function(){if(this._run){this._currentTime=window.performance.now();var e=this._currentTime-this._previousTime,t=this.parameters.interpolateType?this.parameters.interpolateStep:1,i=this.parameters.timeout/t,n=this.traj;if(n&&n.frameCount&&!n.inProgress&&e>=i)if(this.parameters.interpolateType)if(this._currentStep>this.parameters.interpolateStep&&(this._currentStep=1),this._currentStep===1&&(this._currentFrame=this._nextInterpolated()),n.hasFrame(this._currentFrame)){this._currentStep+=1;var s=this._currentStep/(this.parameters.interpolateStep+1),r=this._currentFrame,a=r[0],o=r[1],c=r[2],p=r[3];n.setFrameInterpolated(a,o,c,p,s,this.parameters.interpolateType),this._previousTime=this._currentTime}else n.loadFrame(this._currentFrame);else{var f=this._next();n.hasFrame(f)?(n.setFrame(f),this._previousTime=this._currentTime):n.loadFrame(f)}window.requestAnimationFrame(this._animate)}},Ns.prototype._next=function(){var e,t=this.parameters;return((e=this._direction==="forward"?this.traj.currentFrame+t.step:this.traj.currentFrame-t.step)>t.end||e<t.start)&&(t.direction==="bounce"&&(this._direction==="forward"?this._direction="backward":this._direction="forward"),t.mode==="once"?(this.pause(),e=t.direction==="forward"?t.end:t.direction==="backward"||this._direction==="forward"?t.start:t.end):this._direction==="forward"?(e=t.start,t.interpolateType&&(e=Math.min(t.end,e+t.step))):(e=t.end,t.interpolateType&&(e=Math.max(t.start,e-t.step)))),e},Ns.prototype._nextInterpolated=function(){var e,t,i,n=this.parameters,s=this._next();return this._direction==="forward"?(e=Math.max(n.start,s-n.step),t=Math.max(n.start,s-2*n.step),i=Math.max(n.start,s-3*n.step)):(e=Math.min(n.end,s+n.step),t=Math.min(n.end,s+2*n.step),i=Math.min(n.end,s+3*n.step)),[s,e,t,i]},Ns.prototype.toggle=function(){this._run?this.pause():this.play()},Ns.prototype.play=function(){if(!this._run){this.traj.player!==this&&this.traj.setPlayer(this),this._currentStep=1;var e=this.parameters,t=this.traj.currentFrame,i=Math.ceil(t/e.step)*e.step;e.direction==="forward"&&t>=e.end?i=e.start:e.direction==="backward"&&t<=e.start&&(i=e.end),this.traj.setFrame(i),this._run=!0,this._animate(),this.signals.startedRunning.dispatch()}},Ns.prototype.pause=function(){this._run=!1,this.signals.haltedRunning.dispatch()},Ns.prototype.stop=function(){this.pause(),this.traj.setFrame(this.parameters.start)},Object.defineProperties(Ns.prototype,Ag);var Qt=function(e,t,i){var n=this;i===void 0&&(i={}),this.signals={countChanged:new _t.exports.Signal,frameChanged:new _t.exports.Signal,playerChanged:new _t.exports.Signal},this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this._frameCount=0,this._currentFrame=-1,this._disposed=!1,this.deltaTime=R(i.deltaTime,0),this.timeOffset=R(i.timeOffset,0),this.centerPbc=R(i.centerPbc,!1),this.removePbc=R(i.removePbc,!1),this.removePeriodicity=R(i.removePeriodicity,!1),this.superpose=R(i.superpose,!1),this.name=e.replace(/^.*[\\/]/,""),this.trajPath=e,this.selection=new Jt(R(i.sele,"backbone and not hydrogen")),this.selection.signals.stringChanged.add(function(){n.selectionIndices=n.structure.getAtomIndices(n.selection),n._resetCache(),n._saveInitialCoords(),n.setFrame(n._currentFrame)})},Gm={frameCount:{configurable:!0},currentFrame:{configurable:!0}};Gm.frameCount.get=function(){return this._frameCount},Gm.currentFrame.get=function(){return this._currentFrame},Qt.prototype._init=function(e){this.setStructure(e),this._loadFrameCount(),this.setPlayer(new Ns(this))},Qt.prototype._loadFrameCount=function(){},Qt.prototype.setStructure=function(e){this.structure=e,this.atomCount=e.atomCount,this.backboneIndices=this._getIndices(new Jt("backbone and not hydrogen")),this._makeAtomIndices(),this._saveStructureCoords(),this.selectionIndices=this._getIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)},Qt.prototype._saveInitialCoords=function(){var e=this;this.structure.hasCoords()?(this.initialCoords=new Float32Array(this.structureCoords),this._makeSuperposeCoords()):this.frameCache[0]?(this.initialCoords=new Float32Array(this.frameCache[0]),this._makeSuperposeCoords()):this.loadFrame(0,function(){return e._saveInitialCoords()})},Qt.prototype._saveStructureCoords=function(){this.structureCoords=this.structure.getAtomData({what:{position:!0}}).position},Qt.prototype.setSelection=function(e){return this.selection.setString(e),this},Qt.prototype._getIndices=function(e){var t=0,i=e.test,n=[];return i&&this.structure.eachAtom(function(s){i(s)&&n.push(t),t+=1}),n},Qt.prototype._makeSuperposeCoords=function(){var e=3*this.selectionIndices.length;this.coords1=new Float32Array(e),this.coords2=new Float32Array(e);for(var t=this.initialCoords,i=this.coords2,n=0;n<e;n+=3){var s=3*this.selectionIndices[n/3];i[n+0]=t[s+0],i[n+1]=t[s+1],i[n+2]=t[s+2]}},Qt.prototype._makeAtomIndices=function(){de.error("Trajectory._makeAtomIndices not implemented")},Qt.prototype._resetCache=function(){this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this.initialCoords=new Float32Array(0)},Qt.prototype.setParameters=function(e){e===void 0&&(e={});var t=!1;e.centerPbc!==void 0&&e.centerPbc!==this.centerPbc&&(this.centerPbc=e.centerPbc,t=!0),e.removePeriodicity!==void 0&&e.removePeriodicity!==this.removePeriodicity&&(this.removePeriodicity=e.removePeriodicity,t=!0),e.removePbc!==void 0&&e.removePbc!==this.removePbc&&(this.removePbc=e.removePbc,t=!0),e.superpose!==void 0&&e.superpose!==this.superpose&&(this.superpose=e.superpose,t=!0),this.deltaTime=R(e.deltaTime,this.deltaTime),this.timeOffset=R(e.timeOffset,this.timeOffset),t&&(this._resetCache(),this.setFrame(this._currentFrame))},Qt.prototype.hasFrame=function(e){var t=this;return Array.isArray(e)?e.every(function(i){return!!t.frameCache[i]}):!!this.frameCache[e]},Qt.prototype.setFrame=function(e,t){var i=this;return e===void 0||(this.inProgress=!0,e===-1||this.frameCache[e]?(this._updateStructure(e),t&&t()):this.loadFrame(e,function(){i._updateStructure(e),t&&t()})),this},Qt.prototype._interpolate=function(e,t,i,n,s,r){var a,o=this.frameCache;a=r==="spline"?function(c,p,f,l,u){for(var m=c.length,d=new Float32Array(m),y=0;y<m;y+=3){var _=y+1,h=y+2;d[y]=ur(l[y],f[y],p[y],c[y],u,1),d[_]=ur(l[_],f[_],p[_],c[_],u,1),d[h]=ur(l[h],f[h],p[h],c[h],u,1)}return d}(o[e],o[t],o[i],o[n],s):function(c,p,f){for(var l=c.length,u=new Float32Array(l),m=0;m<l;m+=3){var d=m+1,y=m+2;u[m]=$n(p[m],c[m],f),u[d]=$n(p[d],c[d],f),u[y]=$n(p[y],c[y],f)}return u}(o[e],o[t],s),this.structure.updatePosition(a),this._currentFrame=e,this.signals.frameChanged.dispatch(e)},Qt.prototype.setFrameInterpolated=function(e,t,i,n,s,r,a){var o=this;if(e===void 0)return this;var c=this.frameCache,p=[];return c[n]||p.push(n),c[i]||p.push(i),c[t]||p.push(t),c[e]||p.push(e),p.length?this.loadFrame(p,function(){o._interpolate(e,t,i,n,s,r),a&&a()}):(this._interpolate(e,t,i,n,s,r),a&&a()),this},Qt.prototype.loadFrame=function(e,t){var i=this;Array.isArray(e)?e.forEach(function(n){i.loadQueue[n]||i.frameCache[n]||(i.loadQueue[n]=!0,i._loadFrame(n,function(){delete i.loadQueue[n]}))}):this.loadQueue[e]||this.frameCache[e]||(this.loadQueue[e]=!0,this._loadFrame(e,function(){delete i.loadQueue[e],t&&t()}))},Qt.prototype._loadFrame=function(e,t){de.error("Trajectory._loadFrame not implemented",e,t)},Qt.prototype._updateStructure=function(e){this._disposed?console.error("updateStructure: traj disposed"):(e===-1?this.structureCoords&&this.structure.updatePosition(this.structureCoords):this.structure.updatePosition(this.frameCache[e]),this.structure.trajectory={name:this.trajPath,frame:e},this._currentFrame=e,this.inProgress=!1,this.signals.frameChanged.dispatch(e))},Qt.prototype._doSuperpose=function(e){for(var t=3*this.selectionIndices.length,i=this.coords1,n=this.coords2,s=0;s<t;s+=3){var r=3*this.selectionIndices[s/3];i[s+0]=e[r+0],i[s+1]=e[r+1],i[s+2]=e[r+2]}new Vp(i,n).transform(e)},Qt.prototype._process=function(e,t,i,n){if(this._setFrameCount(n),t){if(this.backboneIndices.length>0&&this.centerPbc){var s=[t[0],t[4],t[8]],r=function(o,c,p){return[mm(c,p[0],3,0,o),mm(c,p[1],3,1,o),mm(c,p[2],3,2,o)]}(this.backboneIndices,i,s);(function(o,c,p){if(p[0]!==0&&p[8]!==0&&p[4]!==0)for(var f=o.length,l=p[0],u=p[1],m=p[2],d=-c[0]+l+l/2,y=-c[1]+u+u/2,_=-c[2]+m+m/2,h=0;h<f;h+=3)o[h+0]=(o[h+0]+d)%l,o[h+1]=(o[h+1]+y)%u,o[h+2]=(o[h+2]+_)%m})(i,r,s)}if(this.removePeriodicity){var a=function(o){return[bl(o,3,0),bl(o,3,1),bl(o,3,2)]}(i);(function(o,c,p){if(c[0]!==0&&c[8]!==0&&c[4]!==0)for(var f=o.length,l=3;l<f;l+=3)for(var u=0;u<3;++u){var m=(o[l+u]-p[u])/c[3*u+u];Math.abs(m)>.5&&(o[l+u]-=c[3*u+u]*Math.round(m))}})(i,t,a)}this.removePbc&&function(o,c){if(c[0]!==0&&c[8]!==0&&c[4]!==0)for(var p=o.length,f=3;f<p;f+=3)for(var l=0;l<3;++l){var u=o[f+l]-o[f-3+l];if(Math.abs(u)>.9*c[3*l+l])if(u>0)for(var m=0;m<3;++m)o[f+m]-=c[3*l+m];else for(var d=0;d<3;++d)o[f+d]+=c[3*l+d]}}(i,t)}this.selectionIndices.length>0&&this.coords1&&this.superpose&&this._doSuperpose(i),this.frameCache[e]=i,this.boxCache[e]=t,this.frameCacheSize+=1},Qt.prototype._setFrameCount=function(e){e!==this._frameCount&&(this._frameCount=e,this.signals.countChanged.dispatch(e))},Qt.prototype.dispose=function(){this._resetCache(),this._disposed=!0,this.player&&this.player.stop()},Qt.prototype.setPlayer=function(e){this.player=e,this.signals.playerChanged.dispatch(e)},Qt.prototype.getFrameTime=function(e){return this.timeOffset+e*this.deltaTime},Object.defineProperties(Qt.prototype,Gm);var QI=function(e){function t(n,s,r){var a=r||{};a.timeOffset=R(a.timeOffset,n.timeOffset),a.deltaTime=R(a.deltaTime,n.deltaTime),e.call(this,"",s,a),this.name=n.name,this.path=n.path,this.frames=n.coordinates,this.boxes=n.boxes,this._init(s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"frames"},t.prototype._makeAtomIndices=function(){this.structure.type==="StructureView"?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(n,s){var r,a=this.frames[n];if(this.atomIndices){var o=this.atomIndices,c=o.length;r=new Float32Array(3*c);for(var p=0;p<c;++p){var f=3*p,l=3*o[p];r[f+0]=a[l+0],r[f+1]=a[l+1],r[f+2]=a[l+2]}}else r=new Float32Array(a);var u=this.boxes[n],m=this.frames.length;this._process(n,u,r,m),typeof s=="function"&&s()},t.prototype._loadFrameCount=function(){this.frames&&this._setFrameCount(this.frames.length)},Object.defineProperties(t.prototype,i),t}(Qt),XI=function(e){function t(n,s,r){e.call(this,"",s,r),this._init(s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"structure"},t.prototype._makeAtomIndices=function(){this.structure.atomSet&&this.structure.atomSet.getSize()<this.structure.atomStore.count?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(n,s){var r,a=this.structure,o=a.frames[n];if(this.atomIndices){var c=this.atomIndices,p=c.length;r=new Float32Array(3*p);for(var f=0;f<p;++f){var l=3*f,u=3*c[f];r[l+0]=o[u+0],r[l+1]=o[u+1],r[l+2]=o[u+2]}}else r=new Float32Array(o);var m=a.boxes[n],d=a.frames.length;this._process(n,m,r,d),typeof s=="function"&&s()},t.prototype._loadFrameCount=function(){this._setFrameCount(this.structure.frames.length)},Object.defineProperties(t.prototype,i),t}(Qt),ZI=function(e){function t(n,s,r){e.call(this,n,s,r),this._init(s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"remote"},t.prototype._makeAtomIndices=function(){var n=[];if(this.structure.type==="StructureView"){for(var s=this.structure.getAtomIndices(),r=s.length,a=s[0],o=s[0],c=1;c<r;++c){var p=s[c];o+1<p&&(n.push([a,o+1]),a=p),o=p}n.push([a,o+1])}else n.push([0,this.atomCount]);this.atomIndices=n},t.prototype._loadFrame=function(n,s){var r=this,a=new XMLHttpRequest,o=pm.getFrameUrl(this.trajPath,n),c=pm.getFrameParams(this.trajPath,this.atomIndices);a.open("POST",o,!0),a.responseType="arraybuffer",a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.addEventListener("load",function(){var p=a.response;if(p){var f=new Int32Array(p,0,1)[0],l=new Float32Array(p,8,9),u=new Float32Array(p,44);r._process(n,l,u,f),typeof s=="function"&&s()}else de.error("empty arrayBuffer for '"+o+"'")},!1),a.send(c)},t.prototype._loadFrameCount=function(){var n=this,s=new XMLHttpRequest,r=pm.getCountUrl(this.trajPath);s.open("GET",r,!0),s.addEventListener("load",function(){n._setFrameCount(parseInt(s.response))},!1),s.send()},Object.defineProperties(t.prototype,i),t}(Qt),eL=function(e){function t(n,s,r){e.call(this,"",s,r),this.requestCallback=n,this._init(s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"callback"},t.prototype._makeAtomIndices=function(){var n=[];if(this.structure.type==="StructureView"){for(var s=this.structure.getAtomIndices(),r=s.length,a=s[0],o=s[0],c=1;c<r;++c){var p=s[c];o+1<p&&(n.push([a,o+1]),a=p),o=p}n.push([a,o+1])}else n.push([0,this.atomCount]);this.atomIndices=n},t.prototype._loadFrame=function(n,s){var r=this;this.requestCallback(function(a,o,c,p){r._process(a,o,c,p),typeof s=="function"&&s()},n,this.atomIndices)},t.prototype._loadFrameCount=function(){var n=this;this.requestCallback(function(s){return n._setFrameCount(s)})},Object.defineProperties(t.prototype,i),t}(Qt);ct.prototype.getView=function(e){return new _E(this,e)};var _E=function(e){function t(n,s){e.call(this),this.structure=n,this.selection=s,this.center=new P,this.boundingBox=new ai,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy(),this.selection&&this.selection.signals.stringChanged.add(this.refresh,this),this.structure.signals.refreshed.add(this.refresh,this),this.refresh()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},name:{configurable:!0},path:{configurable:!0},title:{configurable:!0},id:{configurable:!0},data:{configurable:!0},atomSetDict:{configurable:!0},biomolDict:{configurable:!0},entityList:{configurable:!0},unitcell:{configurable:!0},frames:{configurable:!0},boxes:{configurable:!0},validation:{configurable:!0},bondStore:{configurable:!0},backboneBondStore:{configurable:!0},rungBondStore:{configurable:!0},atomStore:{configurable:!0},residueStore:{configurable:!0},chainStore:{configurable:!0},modelStore:{configurable:!0},atomMap:{configurable:!0},residueMap:{configurable:!0},bondHash:{configurable:!0},spatialHash:{configurable:!0},_hasCoords:{configurable:!0}};return t.prototype.init=function(){},i.type.get=function(){return"StructureView"},i.name.get=function(){return this.structure.name},i.path.get=function(){return this.structure.path},i.title.get=function(){return this.structure.title},i.id.get=function(){return this.structure.id},i.data.get=function(){return this.structure.data},i.atomSetDict.get=function(){return this.structure.atomSetDict},i.biomolDict.get=function(){return this.structure.biomolDict},i.entityList.get=function(){return this.structure.entityList},i.unitcell.get=function(){return this.structure.unitcell},i.frames.get=function(){return this.structure.frames},i.boxes.get=function(){return this.structure.boxes},i.validation.get=function(){return this.structure.validation},i.bondStore.get=function(){return this.structure.bondStore},i.backboneBondStore.get=function(){return this.structure.backboneBondStore},i.rungBondStore.get=function(){return this.structure.rungBondStore},i.atomStore.get=function(){return this.structure.atomStore},i.residueStore.get=function(){return this.structure.residueStore},i.chainStore.get=function(){return this.structure.chainStore},i.modelStore.get=function(){return this.structure.modelStore},i.atomMap.get=function(){return this.structure.atomMap},i.residueMap.get=function(){return this.structure.residueMap},i.bondHash.get=function(){return this.structure.bondHash},i.spatialHash.get=function(){return this.structure.spatialHash},i._hasCoords.get=function(){return this.structure._hasCoords},i._hasCoords.set=function(n){this.structure._hasCoords=n},t.prototype.refresh=function(){Ce&&de.time("StructureView.refresh"),this.atomSetCache={};var n=this.structure;if(this.selection.isAllSelection()&&n!==this&&n.atomSet&&n.bondSet){for(var s in this.atomSet=n.atomSet.clone(),this.bondSet=n.bondSet.clone(),this.atomSetDict){var r=this.atomSetDict[s];this.atomSetCache["__"+s]=r.clone()}this.atomCount=n.atomCount,this.bondCount=n.bondCount,this.boundingBox.copy(n.boundingBox),this.center.copy(n.center)}else if(this.selection.isNoneSelection()&&n!==this&&n.atomSet&&n.bondSet){for(var a in this.atomSet=new dt(n.atomCount),this.bondSet=new dt(n.bondCount),this.atomSetDict)this.atomSetCache["__"+a]=new dt(n.atomCount);this.atomCount=0,this.bondCount=0,this.boundingBox.makeEmpty(),this.center.set(0,0,0)}else{for(var o in this.atomSet=this.getAtomSet(this.selection,!0),n.atomSet&&(this.atomSet=this.atomSet.intersection(n.atomSet)),this.bondSet=this.getBondSet(),this.atomSetDict){var c=this.atomSetDict[o];this.atomSetCache["__"+o]=c.makeIntersection(this.atomSet)}this.atomCount=this.atomSet.getSize(),this.bondCount=this.bondSet.getSize(),this.boundingBox=this.getBoundingBox(),this.center=this.boundingBox.getCenter(new P)}Ce&&de.timeEnd("StructureView.refresh"),this.signals.refreshed.dispatch()},t.prototype.setSelection=function(n){this.selection=n,this.refresh()},t.prototype.getSelection=function(n){var s=[];n&&n.string&&s.push(n.string);var r=this.structure.getSelection();r&&r.string&&s.push(r.string),this.selection&&this.selection.string&&s.push(this.selection.string);var a="";return s.length>0&&(a="( "+s.join(" ) AND ( ")+" )"),new Jt(a)},t.prototype.getStructure=function(){return this.structure.getStructure()},t.prototype.eachBond=function(n,s){this.structure.eachBond(n,this.getSelection(s))},t.prototype.eachAtom=function(n,s){var r=this.getAtomProxy(),a=this.getAtomSet(s),o=this.atomStore.count;if(a.getSize()<o)a.forEach(function(p){r.index=p,n(r)});else for(var c=0;c<o;++c)r.index=c,n(r)},t.prototype.eachResidue=function(n,s){this.structure.eachResidue(n,this.getSelection(s))},t.prototype.eachResidueN=function(n,s){console.error("StructureView.eachResidueN() not implemented")},t.prototype.eachChain=function(n,s){this.structure.eachChain(n,this.getSelection(s))},t.prototype.eachModel=function(n,s){this.structure.eachModel(n,this.getSelection(s))},t.prototype.getAtomSet=function(n,s){s===void 0&&(s=!1);var r=this.structure.getAtomSet(n);return!s&&this.atomSet&&(r=r.makeIntersection(this.atomSet)),r},t.prototype.getAtomIndices=function(n){return this.structure.getAtomIndices(this.getSelection(n))},t.prototype.refreshPosition=function(){return this.structure.refreshPosition()},t.prototype.dispose=function(){this.selection&&this.selection.signals.stringChanged.remove(this.refresh,this),this.structure.signals.refreshed.remove(this.refresh,this),this.structure=new e,delete this.atomSet,delete this.bondSet},Object.defineProperties(t.prototype,i),t}(ct),tL=[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]];function Cg(e,t){var i,n=0,s={};return t.forEach(function(r){i=0;var a={};r.forEach(function(o){a[e[i++]]=o}),s[e[n++]]=a}),s}var iL={blosum62:Cg("ARNDCQEGHILKMFPSTWYVBZ?",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:Cg("ACDEFGHIKLMNPQRSTVWY",tL)},qo=function(e,t,i,n,s){i===void 0&&(i=-10),n===void 0&&(n=-1),s===void 0&&(s="blosum62"),this.seq1=e,this.seq2=t,this.gapPenalty=i,this.gapExtensionPenalty=n,s&&(this.substMatrix=iL[s])};function nL(e,t,i,n,s){var r,a,o,c,p;if(i===void 0&&(i=!1),n===void 0&&(n=""),s===void 0&&(s=""),i){var f=e,l=t;n&&s&&(f=e.getView(new Jt(n)),l=t.getView(new Jt(s)));var u,m,d=f.getSequence(),y=l.getSequence(),_=new qo(d.join(""),y.join(""));_.calc(),_.trace(),r=0,a=0,o=_.ali1.length;for(var h=[],g=[],E=0;E<o;++E){var w=_.ali1[E],v=_.ali2[E];u=0,m=0,w==="-"?g[a]=!1:(g[a]=!0,u=1),v==="-"?h[r]=!1:(h[r]=!0,m=1),r+=u,a+=m}var x=[],b=[],A=f.getAtomProxy(),M=l.getAtomProxy();r=0,f.eachResidue(function(T){T.traceAtomIndex!==void 0&&T.traceAtomIndex===T.getAtomIndexByName("CA")&&(h[r]&&(A.index=T.getAtomIndexByName("CA"),x.push(A.x,A.y,A.z)),r+=1)}),r=0,l.eachResidue(function(T){T.traceAtomIndex!==void 0&&T.traceAtomIndex===T.getAtomIndexByName("CA")&&(g[r]&&(M.index=T.getAtomIndexByName("CA"),b.push(M.x,M.y,M.z)),r+=1)}),c=new Float32Array(x),p=new Float32Array(b)}else c=e.getView(new Jt(n+" and .CA")),p=t.getView(new Jt(s+" and .CA"));var G=new Vp(c,p).transform(e);return e.refreshPosition(),G}qo.prototype.initMatrices=function(){this.n=this.seq1.length,this.m=this.seq2.length,this.score=void 0,this.ali="",this.S=[],this.V=[],this.H=[];for(var e=0;e<=this.n;++e){this.S[e]=[],this.V[e]=[],this.H[e]=[];for(var t=0;t<=this.m;++t)this.S[e][t]=0,this.V[e][t]=0,this.H[e][t]=0}for(var i=0;i<=this.n;++i)this.S[i][0]=this.gap(0),this.H[i][0]=-1/0;for(var n=0;n<=this.m;++n)this.S[0][n]=this.gap(0),this.V[0][n]=-1/0;this.S[0][0]=0},qo.prototype.gap=function(e){return this.gapPenalty+e*this.gapExtensionPenalty},qo.prototype.makeScoreFn=function(){var e=this.seq1,t=this.seq2,i=this.substMatrix;return i?function(n,s){var r=e[n],a=t[s];try{return i[r][a]}catch{return-4}}:(de.warn("Alignment: no subst matrix"),function(n,s){return e[n]===t[s]?5:-3})},qo.prototype.calc=function(){Ce&&de.time("Alignment.calc"),this.initMatrices();for(var e,t,i,n,s,r=this.gap(0),a=this.makeScoreFn(),o=this.gapExtensionPenalty,c=this.V,p=this.H,f=this.S,l=this.n,u=this.m,m=1;m<=l;++m){t=f[m-1],e=c[m-1],i=c[m],n=p[m],s=f[m];for(var d=1;d<=u;++d)i[d]=Math.max(t[d]+r,e[d]+o),n[d]=Math.max(s[d-1]+r,n[d-1]+o),s[d]=Math.max(t[d-1]+a(m-1,d-1),i[d],n[d])}Ce&&de.timeEnd("Alignment.calc"),Ce&&de.log(this.S,this.V,this.H)},qo.prototype.trace=function(){Ce&&de.time("Alignment.trace"),this.ali1="",this.ali2="";var e,t=this.makeScoreFn(),i=this.n,n=this.m;for(this.S[i][n]>=this.V[i][n]?(e="S",this.score=this.S[i][n]):this.V[i][n]>=this.H[i][n]?(e="V",this.score=this.V[i][n]):(e="H",this.score=this.H[i][n]),Ce&&de.log("Alignment: SCORE",this.score),Ce&&de.log("Alignment: S, V, H",this.S[i][n],this.V[i][n],this.H[i][n]);i>0&&n>0;)e==="S"?this.S[i][n]===this.S[i-1][n-1]+t(i-1,n-1)?(this.ali1=this.seq1[i-1]+this.ali1,this.ali2=this.seq2[n-1]+this.ali2,--i,--n,e="S"):this.S[i][n]===this.V[i][n]?e="V":this.S[i][n]===this.H[i][n]?e="H":(--i,--n):e==="V"?this.V[i][n]===this.V[i-1][n]+this.gapExtensionPenalty?(this.ali1=this.seq1[i-1]+this.ali1,this.ali2="-"+this.ali2,--i,e="V"):this.V[i][n]===this.S[i-1][n]+this.gap(0)?(this.ali1=this.seq1[i-1]+this.ali1,this.ali2="-"+this.ali2,--i,e="S"):--i:e==="H"?this.H[i][n]===this.H[i][n-1]+this.gapExtensionPenalty?(this.ali1="-"+this.ali1,this.ali2=this.seq2[n-1]+this.ali2,--n,e="H"):this.H[i][n]===this.S[i][n-1]+this.gap(0)?(this.ali1="-"+this.ali1,this.ali2=this.seq2[n-1]+this.ali2,--n,e="S"):--n:de.error("Alignment: no matrix");for(;i>0;)this.ali1=this.seq1[i-1]+this.ali1,this.ali2="-"+this.ali2,--i;for(;n>0;)this.ali1="-"+this.ali1,this.ali2=this.seq2[n-1]+this.ali2,--n;Ce&&de.timeEnd("Alignment.trace"),Ce&&de.log([this.ali1,this.ali2])};var sL=Object.assign({sele:"",defaultAssembly:""},dE),Xh=function(e){function t(n,s,r){var a,o,c,p,f;r===void 0&&(r={}),e.call(this,n,s,Object.assign({name:s.name},r)),this.structure=s,this.trajList=[],this.signals=Object.assign(this.signals,{trajectoryAdded:new _t.exports.Signal,trajectoryRemoved:new _t.exports.Signal,defaultAssemblyChanged:new _t.exports.Signal}),this.initSelection(this.parameters.sele),this.pickBuffer=(a=4,o=0,c=0,p=[],{has:function(l){return p.indexOf(l)!==-1},get:function(l){return p[l]},push:function(l){p[o]=l,o=(a+o+1)%a,++c},get count(){return c},get data(){return p.slice(0,Math.min(c,a))},clear:function(){c=0,o=0,p.length=0}}),this.pickDict=(f={},{has:function(l){return f[JSON.stringify(l)]!==void 0},add:function(l,u){f[JSON.stringify(l)]=u},del:function(l){delete f[JSON.stringify(l)]},get values(){return Object.keys(f).map(function(l){return f[l]})}}),this.spacefillRepresentation=this.addRepresentation("spacefill",{sele:"none",opacity:cp.opacity,color:cp.color,disablePicking:!0,radiusType:"data"},!0),this.distanceRepresentation=this.addRepresentation("distance",cp,!0),this.angleRepresentation=this.addRepresentation("angle",cp,!0),this.dihedralRepresentation=this.addRepresentation("dihedral",cp,!0),this.measureRepresentations=new hE([this.spacefillRepresentation,this.distanceRepresentation,this.angleRepresentation,this.dihedralRepresentation]),this.setDefaultAssembly(this.parameters.defaultAssembly)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0},type:{configurable:!0}};return i.defaultParameters.get=function(){return sL},i.type.get=function(){return"structure"},t.prototype.initSelection=function(n){var s=this;this.selection=new Jt(n),this.structureView=new _E(this.structure,this.selection),this.selection.signals.stringChanged.add(function(){s.structureView.setSelection(s.selection),s.rebuildRepresentations(),s.rebuildTrajectories()})},t.prototype.setSelection=function(n){return this.parameters.sele=n,this.selection.setString(n),this},t.prototype.setDefaultAssembly=function(n){if(this.structure.biomolDict[n]===void 0&&(n=""),this.parameters.defaultAssembly!==n){var s={defaultAssembly:n};this.reprList.forEach(function(r){return r.setParameters(s)}),this.measureRepresentations.setParameters(s),this.parameters.defaultAssembly=n,this.signals.defaultAssemblyChanged.dispatch(n)}return this},t.prototype.rebuildRepresentations=function(){this.reprList.forEach(function(n){n.build()}),this.measureRepresentations.build()},t.prototype.rebuildTrajectories=function(){var n=this;this.trajList.forEach(function(s){s.trajectory.setStructure(n.structureView)})},t.prototype.updateRepresentations=function(n){e.prototype.updateRepresentations.call(this,n),this.measureRepresentations.update(n)},t.prototype.updateRepresentationMatrices=function(){e.prototype.updateRepresentationMatrices.call(this),this.measureRepresentations.setParameters({matrix:this.matrix})},t.prototype.addRepresentation=function(n,s,r){var a=this;s===void 0&&(s={}),r===void 0&&(r=!1),s.defaultAssembly=this.parameters.defaultAssembly;var o=this._addRepresentation(n,this.structureView,s,r);return r||o.signals.parametersChanged.add(function(){return a.measureUpdate()}),o},t.prototype.addTrajectory=function(n,s){var r=this;n===void 0&&(n=""),s===void 0&&(s={});var a=function(c,p,f){return c&&c instanceof Z_?new QI(c,p,f):!c&&p.frames?new XI(c,p,f):c&&typeof c=="function"?new eL(c,p,f):new ZI(c,p,f)}(n,this.structureView,s);a.signals.frameChanged.add(function(){r.updateRepresentations({position:!0})});var o=new YI(this.stage,a,s);return this.trajList.push(o),this.signals.trajectoryAdded.dispatch(o),o},t.prototype.removeTrajectory=function(n){var s=this.trajList.indexOf(n);s!==-1&&this.trajList.splice(s,1),n.dispose(),this.signals.trajectoryRemoved.dispatch(n)},t.prototype.dispose=function(){this.trajList.slice().forEach(function(n){return n.dispose()}),this.trajList.length=0,this.structure.dispose(),this.measureRepresentations.dispose(),e.prototype.dispose.call(this)},t.prototype.autoView=function(n,s){typeof n=="number"&&(s=n,n=""),this.stage.animationControls.zoomMove(this.getCenter(n),this.getZoom(n),R(s,0))},t.prototype.getBoxUntransformed=function(n){return n?this.structureView.getBoundingBox(new Jt(n)):this.structureView.boundingBox},t.prototype.getCenterUntransformed=function(n){return n&&typeof n=="string"?this.structure.atomCenter(new Jt(n)):this.structure.center},t.prototype.superpose=function(n,s,r,a){return nL(this.structureView,n.structureView,s,r,a),this.updateRepresentations({position:!0}),this},t.prototype.getMaxRepresentationRadius=function(n){var s=0,r=this.structure.getAtomProxy(n);return this.eachRepresentation(function(a){if(a.getVisibility()){var o=a.repr;s=Math.max(o.getAtomRadius(r),s)}}),s},t.prototype.measurePick=function(n){var s=this.pickBuffer.count;if(this.lastPick===n.index&&s>=1){if(s>1){var r=this.pickBuffer.data,a=this.pickBuffer.data.sort();this.pickDict.has(a)?this.pickDict.del(a):this.pickDict.add(a,r),s===2?this.distanceRepresentation.setParameters({atomPair:this.pickDict.values.filter(function(o){return o.length===2})}):s===3?this.angleRepresentation.setParameters({atomTriple:this.pickDict.values.filter(function(o){return o.length===3})}):s===4&&this.dihedralRepresentation.setParameters({atomQuad:this.pickDict.values.filter(function(o){return o.length===4})})}this.pickBuffer.clear(),this.lastPick=void 0}else this.pickBuffer.has(n.index)||this.pickBuffer.push(n.index),this.lastPick=n.index;this.measureUpdate()},t.prototype.measureClear=function(){this.pickBuffer.clear(),this.lastPick=void 0,this.spacefillRepresentation.setSelection("none")},t.prototype.measureBuild=function(){var n=this.measureData();this.distanceRepresentation.setParameters({atomPair:n.distance}),this.angleRepresentation.setParameters({atomTriple:n.angle}),this.dihedralRepresentation.setParameters({atomQuad:n.dihedral})},t.prototype.measureUpdate=function(){var n=this,s=this.pickBuffer.data,r={};s.forEach(function(a){var o=Math.max(.1,n.getMaxRepresentationRadius(a));r[a]=o*(2.3-Kf(.1,2,o))}),this.spacefillRepresentation.setSelection(s.length?"@"+s.join(","):"none"),s.length&&this.spacefillRepresentation.setParameters({radiusData:r})},t.prototype.measureData=function(){var n=this.pickDict.values;return{distance:n.filter(function(s){return s.length===2}),angle:n.filter(function(s){return s.length===3}),dihedral:n.filter(function(s){return s.length===4})}},t.prototype.removeAllMeasurements=function(n){var s=this.pickDict,r=s.values,a=function(o){r.filter(function(c){return c.length===o}).forEach(function(c){return s.del(c.slice().sort())})};(!n||1&n)&&a(2),(!n||2&n)&&a(3),(!n||4&n)&&a(4),this.measureBuild()},t.prototype.removeMeasurement=function(n){this.pickDict.del(n.slice().sort()),this.measureBuild()},t.prototype.addMeasurement=function(n){if(!(n.length<2||n.length>4)){var s=n.slice().sort();this.pickDict.has(s)||this.pickDict.add(s,n),this.measureBuild()}},Object.defineProperties(t.prototype,i),t}(Ut);Fc.add("structure",Xh),Fc.add("structureview",Xh);var yE=function(e){function t(n,s,r){r===void 0&&(r={}),e.call(this,n,s,Object.assign({name:s.name},r)),this.surface=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"surface"},t.prototype.addRepresentation=function(n,s){return s===void 0&&(s={}),this._addRepresentation(n,this.surface,s)},t.prototype.getBoxUntransformed=function(){return this.surface.boundingBox},t.prototype.getCenterUntransformed=function(){return this.surface.center},t.prototype.dispose=function(){this.surface.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,i),t}(Ut);Fc.add("surface",yE);var gE=function(e){function t(n,s,r){r===void 0&&(r={}),e.call(this,n,s,Object.assign({name:s.name},r)),this.volume=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"volume"},t.prototype.addRepresentation=function(n,s){return s===void 0&&(s={}),this._addRepresentation(n,this.volume,s)},t.prototype.getBoxUntransformed=function(){return this.volume.boundingBox},t.prototype.getCenterUntransformed=function(){return this.volume.center},t.prototype.dispose=function(){this.volume.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,i),t}(Ut);Fc.add("volume",gE);var Pg=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addRepresentation=function(i,n){return this.forEach(function(s){return s.addRepresentation(i,n)})},t.prototype.autoView=function(i){return this.forEach(function(n){return n.autoView(i)})},t}(Zo);function Tg(e,t){return e instanceof RegExp?t.name.match(e)!==null:t.name===e}var rL=new P,aL={impostor:!0,quality:"medium",workerDefault:!0,sampleLevel:0,backgroundColor:"black",rotateSpeed:2,zoomSpeed:1.2,panSpeed:1,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",fogNear:50,fogFar:100,cameraFov:40,cameraEyeSep:.3,cameraType:"perspective",lightColor:14540253,lightIntensity:1,ambientColor:14540253,ambientIntensity:.2,hoverTimeout:0,tooltip:!0,mousePreset:"default"},Bt=function(e,t){t===void 0&&(t={}),this.signals={parametersChanged:new _t.exports.Signal,fullscreenChanged:new _t.exports.Signal,componentAdded:new _t.exports.Signal,componentRemoved:new _t.exports.Signal,clicked:new _t.exports.Signal,hovered:new _t.exports.Signal},this.tasks=new Gs,this.compList=[],this.defaultFileParams={},this.logList=[],this.viewer=new bt(e),this.viewer.renderer&&(this.tooltip=document.createElement("div"),Object.assign(this.tooltip.style,{display:"none",position:"fixed",zIndex:"1000000",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.viewer.container.appendChild(this.tooltip),this.mouseObserver=new Zi(this.viewer.renderer.domElement),this.viewerControls=new en(this),this.trackballControls=new In(this),this.pickingControls=new O4(this),this.animationControls=new bi(this),this.mouseControls=new ko(this),this.keyControls=new Bo(this),this.pickingBehavior=new Cl(this),this.mouseBehavior=new $r(this),this.animationBehavior=new $h(this),this.keyBehavior=new Vo(this),this.spinAnimation=this.animationControls.spin([0,1,0],.005),this.spinAnimation.pause(!0),this.rockAnimation=this.animationControls.rock([0,1,0],.005),this.rockAnimation.pause(!0),this.parameters=Bn(t,aL),this.setParameters(this.parameters),this.viewer.animate())};Bt.prototype.setParameters=function(e){e===void 0&&(e={}),x4(this.parameters,e);var t=e,i=this.parameters,n=this.viewer,s=this.trackballControls;return t.quality!==void 0&&this.setQuality(i.quality),t.impostor!==void 0&&this.setImpostor(i.impostor),t.rotateSpeed!==void 0&&(s.rotateSpeed=i.rotateSpeed),t.zoomSpeed!==void 0&&(s.zoomSpeed=i.zoomSpeed),t.panSpeed!==void 0&&(s.panSpeed=i.panSpeed),t.mousePreset!==void 0&&this.mouseControls.preset(i.mousePreset),this.mouseObserver.setParameters({hoverTimeout:i.hoverTimeout}),n.setClip(i.clipNear,i.clipFar,i.clipDist,i.clipMode,i.clipScale),n.setFog(void 0,i.fogNear,i.fogFar),n.setCamera(i.cameraType,i.cameraFov,i.cameraEyeSep),n.setSampling(i.sampleLevel),n.setBackground(i.backgroundColor),n.setLight(i.lightColor,i.lightIntensity,i.ambientColor,i.ambientIntensity),this.signals.parametersChanged.dispatch(this.getParameters()),this},Bt.prototype.log=function(e){console.log("STAGE LOG",e),this.logList.push(e)},Bt.prototype.getParameters=function(){return Object.assign({},this.parameters)},Bt.prototype.defaultFileRepresentation=function(e){if(e instanceof Xh){var t,i,n;e.setSelection("/0");var s=e.structure;if(s.biomolDict.BU1){var r=s.biomolDict.BU1;t=r.getAtomCount(s),i=r.getResidueCount(s),n=r.getInstanceCount(),e.setDefaultAssembly("BU1")}else t=s.getModelProxy(0).atomCount,i=s.getModelProxy(0).residueCount,n=1;var a=t;F4&&(a*=4);var o=s.atomStore.count/s.residueStore.count<2;o&&(a*=10);var c="chainname",p="RdYlBu",f=!1;if(s.getChainnameCount(new Jt("polymer and /0"))===1&&(c="residueindex",p="Spectral",f=!0),Ce&&console.log(a,t,n,o),i/n<4)e.addRepresentation("ball+stick",{colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"});else if(n>5&&a>15e3||a>7e5){var l=Math.min(2,Math.max(.1,6e3/(a/n)));o&&(l=Math.min(l,.5)),e.addRepresentation("surface",{colorScheme:c,colorScale:p,colorReverse:f,sele:"polymer",surfaceType:"av",probeRadius:1.4,scaleFactor:l,useWorker:!1})}else a>25e4?e.addRepresentation("backbone",{colorScheme:c,colorScale:p,colorReverse:f,lineOnly:!0}):a>1e5?e.addRepresentation("backbone",{colorScheme:c,colorScale:p,colorReverse:f,quality:"low",disableImpostor:!0,radiusScale:2}):a>8e4?e.addRepresentation("backbone",{colorScheme:c,colorScale:p,colorReverse:f,radiusScale:2}):(e.addRepresentation("cartoon",{colorScheme:c,colorScale:p,colorReverse:f,radiusScale:.7,aspectRatio:5,quality:"auto"}),a<5e4&&e.addRepresentation("base",{colorScheme:c,colorScale:p,colorReverse:f,quality:"auto"}),e.addRepresentation("ball+stick",{sele:"ligand",colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"}));e.structure.frames.length&&e.addTrajectory()}else(e instanceof yE||e instanceof gE)&&e.addRepresentation("surface");this.tasks.onZeroOnce(this.autoView,this)},Bt.prototype.loadFile=function(e,t){var i=this;t===void 0&&(t={});var n=Object.assign({},this.defaultFileParams,t),s=Oi(e).name;this.tasks.increment(),this.log("loading file '"+s+"'");var r=R(n.ext,Oi(e).ext);return(ft.isTrajectory(r)?Promise.reject(new Error("loadFile: ext '"+r+"' is a trajectory and must be loaded into a structure component")):Gh(e,n)).then(function(a){i.log("loaded '"+s+"'");var o=i.addComponentFromObject(a,n);return n.defaultRepresentation&&i.defaultFileRepresentation(o),i.tasks.decrement(),o},function(a){i.tasks.decrement();var o="error loading file: '"+a+"'";throw i.log(o),o})},Bt.prototype.loadScript=function(e){var t=this,i=Oi(e).name;return this.log("loading script '"+i+"'"),Gh(e).then(function(n){t.tasks.increment(),t.log("running script '"+i+"'"),n.run(t).then(function(){t.tasks.decrement(),t.log("finished script '"+i+"'")}),t.log("called script '"+i+"'")},function(n){t.tasks.decrement();var s="errored script '"+i+`' "`+n+'"';throw t.log(s),s})},Bt.prototype.addComponent=function(e){e?(this.compList.push(e),this.signals.componentAdded.dispatch(e)):de.warn("Stage.addComponent: no component given")},Bt.prototype.addComponentFromObject=function(e,t){t===void 0&&(t={});var i=Fc.get(e.type);if(i){var n=new i(this,e,t);return this.addComponent(n),n}de.warn("no component for object type",e.type)},Bt.prototype.removeComponent=function(e){var t=this.compList.indexOf(e);t!==-1&&(this.compList.splice(t,1),e.dispose(),this.signals.componentRemoved.dispatch(e))},Bt.prototype.removeAllComponents=function(){var e=this;this.compList.slice().forEach(function(t){return e.removeComponent(t)})},Bt.prototype.handleResize=function(){this.viewer.handleResize()},Bt.prototype.setSize=function(e,t){var i=this.viewer.container;i!==document.body&&(e!==void 0&&(i.style.width=e),t!==void 0&&(i.style.height=t),this.handleResize())},Bt.prototype.toggleFullscreen=function(e){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){var t=this;e=e||this.viewer.container,this.lastFullscreenElement=e,i()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e.dataset.normalWidth=e.style.width||"",e.dataset.normalHeight=e.style.height||"",e.style.width=window.screen.width+"px",e.style.height=window.screen.height+"px",e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),this.handleResize(),this.signals.fullscreenChanged.dispatch(!0),setTimeout(function(){t.handleResize()},100))}else de.log("fullscreen mode (currently) not possible");function i(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function n(){if(!i()&&t.lastFullscreenElement){var s=t.lastFullscreenElement;s.style.width=s.dataset.normalWidth||"",s.style.height=s.dataset.normalHeight||"",document.removeEventListener("fullscreenchange",n),document.removeEventListener("mozfullscreenchange",n),document.removeEventListener("webkitfullscreenchange",n),document.removeEventListener("MSFullscreenChange",n),t.handleResize(),t.signals.fullscreenChanged.dispatch(!1)}}},Bt.prototype.setSpin=function(e){e?(this.spinAnimation.resume(!0),this.rockAnimation.pause(!0)):this.spinAnimation.pause(!0)},Bt.prototype.setRock=function(e){e?(this.rockAnimation.resume(!0),this.spinAnimation.pause(!0)):this.rockAnimation.pause(!0)},Bt.prototype.toggleSpin=function(){this.setSpin(this.spinAnimation.paused)},Bt.prototype.toggleRock=function(){this.setRock(this.rockAnimation.paused)},Bt.prototype.getFocus=function(){var e=this.parameters;if(e.clipMode!=="scene")return 0;var t=e.clipNear;return e.clipScale==="absolute"&&(t=this.viewer.absoluteToRelative(t)),2*t},Bt.prototype.setFocus=function(e){var t,i,n,s;this.parameters.clipMode==="scene"&&(this.parameters.clipScale==="relative"?(n=50,s=function(r){return Nh(r,0,100)}(2*(i=100-(t=Nh(e/2,0,49.9)))-50)):(n=0,s=2*(i=t=this.viewer.relativeToAbsolute(e/2))),this.setParameters({clipNear:t,clipFar:i,fogNear:n,fogFar:s}))},Bt.prototype.getZoomForBox=function(e){var t=e.getSize(rL),i=Math.max(t.x,t.y,t.z),n=Math.min(t.x,t.y,t.z),s=i+Math.sqrt(n),r=gi(this.viewer.perspectiveCamera.fov),a=this.viewer.width,o=this.viewer.height,c=o<a?1:a/o;return s=Math.abs(.5*s/c/Math.sin(r/2)),-(s+=this.parameters.clipDist)},Bt.prototype.getBox=function(){return this.viewer.boundingBox},Bt.prototype.getZoom=function(){return this.getZoomForBox(this.getBox())},Bt.prototype.getCenter=function(e){return this.getBox().getCenter(e||new P)},Bt.prototype.autoView=function(e){this.animationControls.zoomMove(this.getCenter(),this.getZoom(),R(e,0))},Bt.prototype.makeImage=function(e){var t=this;return e===void 0&&(e={}),new Promise(function(i,n){t.tasks.onZeroOnce(function(){t.tasks.increment(),t.viewer.makeImage(e).then(function(s){t.tasks.decrement(),i(s)}).catch(function(s){t.tasks.decrement(),n(s)})})})},Bt.prototype.setImpostor=function(e){this.parameters.impostor=e;var t=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(i){if(t.includes(i.getType())){var n=i.getParameters();n.disableImpostor=!e,i.build(n)}})},Bt.prototype.setQuality=function(e){this.parameters.quality=e;var t=["tube","cartoon","ribbon","trace","rope"],i=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(n){var s=n.getParameters();if(!t.includes(n.getType())){if(!i.includes(n.getType()))return;if(!s.disableImpostor)return void(n.repr.quality=e)}s.quality=e,n.build(s)})},Bt.prototype.eachComponent=function(e,t){this.compList.slice().forEach(function(i){t!==void 0&&t!==i.type||e(i)})},Bt.prototype.eachRepresentation=function(e,t){this.eachComponent(function(i){i.reprList.slice().forEach(function(n){t!==void 0&&t!==n.getType()||e(n,i)})})},Bt.prototype.getComponentsByName=function(e){var t=[];return this.eachComponent(function(i){(e===void 0||Tg(e,i))&&t.push(i)}),new Pg(t)},Bt.prototype.getComponentsByObject=function(e){var t=[];return this.eachComponent(function(i){i.object===e&&t.push(i)}),new Pg(t)},Bt.prototype.getRepresentationsByName=function(e){var t=[];return this.eachRepresentation(function(i,n){(e===void 0||Tg(e,i))&&t.push(i)}),new hE(t)},Bt.prototype.measureClear=function(){this.eachComponent(function(e){return e.measureClear()},"structure")},Bt.prototype.measureUpdate=function(){this.eachComponent(function(e){return e.measureUpdate()},"structure")},Bt.prototype.dispose=function(){this.tasks.dispose(),this.viewer.dispose(),this.mouseObserver.dispose()};var oL=function(e){function t(n,s,r){r===void 0&&(r={}),e.call(this,n,s,Object.assign({name:s.name},r)),this.shape=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"shape"},t.prototype.addRepresentation=function(n,s){return s===void 0&&(s={}),this._addRepresentation(n,this.shape,s)},t.prototype.getBoxUntransformed=function(){return this.shape.boundingBox},t.prototype.getCenterUntransformed=function(){return this.shape.center},t.prototype.dispose=function(){this.shape.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,i),t}(Ut);function Yt(e,t,i,n){var s,r=arguments.length,a=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a}Fc.add("shape",oL);var Ig=function(e){function t(i){var n=this;e.call(this,i),i.scale||(this.parameters.scale="rainbow",this.parameters.reverse=R(i.reverse,!0)),this.scalePerModel={},i.structure.eachModel(function(s){n.parameters.domain=[s.atomOffset,s.atomEnd],n.scalePerModel[s.index]=n.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.scalePerModel[i.modelIndex](i.index)},t}(Dt);Yt([Kt],Ig.prototype,"atomColor",null),It.add("atomindex",Ig);var Lg=function(e){function t(i){if(e.call(this,i),i.scale||(this.parameters.scale="OrRd"),!i.domain){var n,s=1/0,r=-1/0;i.sele&&(n=new Jt(i.sele)),i.structure.eachAtom(function(a){var o=a.bfactor;s=Math.min(s,o),r=Math.max(r,o)},n),this.parameters.domain=[s,r]}this.bfactorScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.bfactorScale(i.bfactor)},t}(Dt);Yt([Kt],Lg.prototype,"atomColor",null),It.add("bfactor",Lg);var Fg=function(e){function t(i){var n=this;e.call(this,i),this.chainidDictPerModel={},this.scalePerModel={},i.scale||(this.parameters.scale="Spectral"),i.structure.eachModel(function(s){var r=0,a={};s.eachChain(function(o){a[o.chainid]===void 0&&(a[o.chainid]=r,r+=1)}),n.parameters.domain=[0,r-1],n.chainidDictPerModel[s.index]=a,n.scalePerModel[s.index]=n.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n=this.chainidDictPerModel[i.modelIndex];return this.scalePerModel[i.modelIndex](n[i.chainid])},t}(Dt);Yt([Kt],Fg.prototype,"atomColor",null),It.add("chainid",Fg);var Rg=function(e){function t(i){var n=this;e.call(this,i),this.scalePerModel={},i.scale||(this.parameters.scale="Spectral"),i.structure.eachModel(function(s){n.parameters.domain=[s.chainOffset,s.chainEnd],n.scalePerModel[s.index]=n.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.scalePerModel[i.modelIndex](i.chainIndex)},t}(Dt);Yt([Kt],Rg.prototype,"atomColor",null),It.add("chainindex",Rg);var Ng=function(e){function t(i){var n=this;e.call(this,i),this.chainnameDictPerModel={},this.scalePerModel={},i.scale||(this.parameters.scale="Spectral"),i.structure.eachModel(function(s){var r=0,a={};s.eachChain(function(o){a[o.chainname]===void 0&&(a[o.chainname]=r,r+=1)}),n.parameters.domain=[0,r-1],n.chainnameDictPerModel[s.index]=a,n.scalePerModel[s.index]=n.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n=this.chainnameDictPerModel[i.modelIndex];return this.scalePerModel[i.modelIndex](n[i.chainname])},t}(Dt);Yt([Kt],Ng.prototype,"atomColor",null),It.add("chainname",Ng);var Dg=function(e){function t(i){e.call(this,i),this.rsrzDict={},this.rsccDict={},i.scale||(this.parameters.scale="RdYlBu"),this.rsrzScale=this.getScale({domain:[2,0]}),this.rsccScale=this.getScale({domain:[.678,1]});var n=i.structure.validation;n&&(this.rsrzDict=n.rsrzDict,this.rsccDict=n.rsccDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n=i.resno+"";i.inscode&&(n+="^"+i.inscode),i.chainname&&(n+=":"+i.chainname),n+="/"+i.modelIndex;var s=this.rsrzDict[n];if(s!==void 0)return this.rsrzScale(s);var r=this.rsccDict[n];return r!==void 0?this.rsccScale(r):9474192},t}(Dt);Yt([Kt],Dg.prototype,"atomColor",null),It.add("densityfit",Dg);var Om={ARG:{CD:.1,CZ:.5,NE:-.1},ASN:{CG:.55,OD1:-.55},ASP:{CB:-.16,CG:.36,OD1:-.6,OD2:-.6},CYS:{CB:.19,SG:-.19},GLN:{CD:.55,OE1:-.55},GLU:{CD:.36,CG:-.16,OE1:-.6,OE2:-.6},HIS:{CB:.1,CD2:.2,CE1:.45,CG:.15,ND1:.05,NE2:.05},LYS:{CE:.25,NZ:.75},MET:{CE:.06,CG:.06,SD:-.12},PTR:{C:.55,CA:.1,CZ:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SEP:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SER:{CB:.25,OG:-.25},THR:{CB:.25,OG1:-.25},TPO:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,OG1:-1.1,O1P:-.85,O2P:-.85,O3P:-.85,P:1.4},TRP:{CD1:.06,CD2:.1,CE2:-.04,CE3:-.03,CG:-.03,NE1:-.06},TYR:{CZ:.25,OH:-.25},backbone:{C:.55,O:-.55,N:-.35,CA:.1}},Gg=function(e){function t(i){var n=this;e.call(this,i),this.delta=new P,this.hCharges=[],i.scale||(this.parameters.scale="rwb"),i.domain||(this.parameters.domain=[-50,50]),this.scale=this.getScale(),this.charges=new Float32Array(i.structure.atomCount);var s=[];i.structure.eachAtom(function(a){var o;if(n.charges[a.index]=((o=a).partialCharge!==null?o.partialCharge:o.isProtein()&&(Om[o.resname]&&Om[o.resname][o.atomname]||Om.backbone[o.atomname])||0)*a.occupancy,a.atomname==="N"){if(a.bondCount>=3||a.bondToElementCount(1))return;var c=function(p,f){f===void 0&&(f=new P);var l=!1,u=!1,m=!1;return f.set(2*p.x,2*p.y,2*p.z),p.eachBondedAtom(function(d){if(!l)return d.atomname==="H"?(f.set(d.x,d.y,d.z),void(l=!0)):void(u||d.atomname!=="CA"?m||d.atomname!=="C"||(m=!0,f.sub(d)):(f.sub(d),u=!0))}),l?f:u&&m?(f.normalize(),f.multiplyScalar(1.04),f.add(p),f):void 0}(a);c!==void 0&&(s.push(c),n.hCharges.push(.25*a.occupancy))}});var r=i.structure.getBoundingBox();r.expandByScalar(1.04),this.hStore=function(a){for(var o=a.length,c=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),l=0;l<a.length;l++){var u=a[l];c[l]=u.x,p[l]=u.y,f[l]=u.z}return{x:c,y:p,z:f,count:o}}(s),this.hHash=new io(this.hStore,r),this.hash=new io(i.structure.atomStore,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(i){var n=this.charges,s=this.hCharges,r=0;return this.hash.eachWithin(i.x,i.y,i.z,12,function(a,o){var c=n[a];c!==0&&(r+=c/o)}),this.hHash.eachWithin(i.x,i.y,i.z,12,function(a,o){var c=s[a];c!==0&&(r+=c/o)}),this.scale(332*r)},t}(Dt);Yt([Kt],Gg.prototype,"positionColor",null),It.add("electrostatic",Gg);var Og={H:16777215,HE:14286847,LI:13402367,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,NE:11789301,NA:11230450,MG:9109248,AL:12560038,SI:1578e4,P:16744448,S:16777008,CL:2093087,AR:8442339,K:9388244,CA:4062976,SC:15132390,TI:12567239,V:10921643,CR:9083335,MN:10255047,FE:14706227,CO:15765664,NI:5296208,CU:13140019,ZN:8224944,GA:12750735,GE:6721423,AS:12419299,SE:16752896,BR:10889513,KR:6076625,RB:7351984,SR:65280,Y:9764863,ZR:9756896,NB:7586505,MO:5551541,TC:3907230,RU:2396047,RH:687500,PD:27013,AG:12632256,CD:16767375,IN:10909043,SN:6717568,SB:10380213,TE:13924864,I:9699476,XE:9699476,CS:5707663,BA:51456,LA:7394559,CE:16777159,PR:14286791,ND:13107143,PM:10747847,SM:9437127,EU:6422471,GD:4587463,TB:3211207,DY:2097095,HO:65436,ER:58997,TM:54354,YB:48952,LU:43812,HF:5096191,TA:5089023,W:2200790,RE:2522539,OS:2516630,IR:1528967,PT:13684960,AU:16765219,HG:12105936,TL:10900557,PB:5724513,BI:10375093,PO:11230208,AT:7688005,RN:4358806,FR:4325478,RA:32e3,AC:7384058,TH:47871,PA:41471,U:36863,NP:33023,PU:27647,AM:5528818,CM:7888099,BK:9064419,CF:10565332,ES:11739092,FM:11739066,MD:11734438,NO:12389767,LR:13041766,RF:13369433,DB:13697103,SG:14221381,BH:14680120,HS:15073326,MT:15400998,DS:16777215,RG:16777215,CN:16777215,UUT:16777215,FL:16777215,UUP:16777215,LV:16777215,UUH:16777215,D:16777152,T:16777120},kg=function(e){function t(i){i.value=R(i.value,Og.C),e.call(this,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n=i.element;return n==="C"?this.parameters.value:Og[n]||16777215},t}(Dt);Yt([Kt],kg.prototype,"atomColor",null),It.add("element",kg);var Bg=function(e){function t(i){e.call(this,i),i.scale||(this.parameters.scale="Spectral"),i.domain||(this.parameters.domain=[0,i.structure.entityList.length-1]),this.entityindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.entityindexScale(i.entityIndex)},t}(Dt);Yt([Kt],Bg.prototype,"atomColor",null),It.add("entityindex",Bg);var Vg=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n=i.entity;switch(n?n.entityType:void 0){case 1:return 8374655;case 2:return 16629894;case 3:return 12496596;case 4:return 3697840;default:return 16777113}},t}(Dt);Yt([Kt],Vg.prototype,"atomColor",null),It.add("entitytype",Vg);var qg=function(e){function t(i){e.call(this,i),this.geoAtomDict={},this.geoDict={};var n=i.structure.validation;n&&(this.geoAtomDict=n.geoAtomDict,this.geoDict=n.geoDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n,s=i.resno+"";i.inscode&&(s+="^"+i.inscode),i.chainname&&(s+=":"+i.chainname),s+="/"+i.modelIndex;var r,a=this.geoAtomDict[s];if(a!==void 0){var o=a[i.atomname]||0;r=o,n=16843009*((r=(858993459&(r-=r>>1&1431655765))+(r>>2&858993459))+(r>>4)&252645135)>>24}else n=this.geoDict[s]||0;return n===0?2188972:n===1?16703627:n===2?16018755:n>=3?10813478:9474192},t}(Dt);Yt([Kt],qg.prototype,"atomColor",null),It.add("geoquality",qg);var zg=function(e){function t(i){e.call(this,i),this.resHF={},i.scale||(this.parameters.scale="RdYlGn");for(var n in eg)this.resHF[n]=eg[n][0];if(this.defaultResidueHydrophobicity=wT[0],!i.domain){var s=1/0,r=-1/0;for(var a in this.resHF){var o=this.resHF[a];s=Math.min(s,o),r=Math.max(r,o)}this.parameters.domain=[s,0,r]}this.hfScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.hfScale(this.resHF[i.resname]||this.defaultResidueHydrophobicity)},t}(Dt);Yt([Kt],zg.prototype,"atomColor",null),It.add("hydrophobicity",zg);var Hg=function(e){function t(i){e.call(this,i),i.scale||(this.parameters.scale="rainbow"),i.domain||(this.parameters.domain=[0,i.structure.modelStore.count]),this.modelindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.modelindexScale(i.modelIndex)},t}(Dt);Yt([Kt],Hg.prototype,"atomColor",null),It.add("modelindex",Hg);var Ug=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){switch(i.residueType.moleculeType){case 1:return 3697840;case 2:return 15729279;case 3:return 12496596;case 4:return 16629894;case 5:return 12540695;case 6:return 8374655;default:return 16777113}},t}(Dt);Yt([Kt],Ug.prototype,"atomColor",null),It.add("moleculetype",Ug);var Wg=function(e){function t(i){e.call(this,i),i.scale||(this.parameters.scale="PuBu"),i.domain||(this.parameters.domain=[0,1]),this.occupancyScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.occupancyScale(i.occupancy)},t}(Dt);Yt([Kt],Wg.prototype,"atomColor",null),It.add("occupancy",Wg);var jg=function(e){function t(i){e.call(this,i),i.scale||(this.parameters.scale="rwb"),i.domain||(this.parameters.domain=[-1,1]),this.partialchargeScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.partialchargeScale(i.partialCharge||0)},t}(Dt);function km(){return 16777215*Math.random()}Yt([Kt],jg.prototype,"atomColor",null),It.add("partialcharge",jg);var el=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return km()},t.prototype.volumeColor=function(){return km()},t.prototype.positionColor=function(){return km()},t}(Dt);Yt([Kt],el.prototype,"atomColor",null),Yt([Kt],el.prototype,"volumeColor",null),Yt([Kt],el.prototype,"positionColor",null),It.add("random",el);var $g=function(e){function t(i){e.call(this,i),this.rciDict={},i.scale||(this.parameters.scale="RdYlBu"),this.rciScale=this.getScale({domain:[.6,0]});var n=i.structure.validation;n&&(this.rciDict=n.rciDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n="["+i.resname+"]"+i.resno;i.chainname&&(n+=":"+i.chainname);var s=this.rciDict[n];return s!==void 0?this.rciScale(s):9474192},t}(Dt);Yt([Kt],$g.prototype,"atomColor",null),It.add("randomcoilindex",$g);var Kg=function(e){function t(i){var n=this;e.call(this,i),this.scalePerChain={},i.scale||(this.parameters.scale="rainbow",this.parameters.reverse=R(i.reverse,!0)),i.structure.eachChain(function(s){n.parameters.domain=[s.residueOffset,s.residueEnd],n.scalePerChain[s.index]=n.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return this.scalePerChain[i.chainIndex](i.residueIndex)},t}(Dt);Yt([Kt],Kg.prototype,"atomColor",null),It.add("residueindex",Kg);var cL={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935,ASH:16711935,GLH:16711935,A:14423100,G:3329330,I:10145074,X:8190976,C:16766720,T:4286945,U:4251856,D:35723,DA:14423100,DG:3329330,DI:10145074,DX:8190976,DC:16766720,DT:4286945,DU:4251856,DD:35723},Yg=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){return cL[i.resname]||16711935},t}(Dt);Yt([Kt],Yg.prototype,"atomColor",null),It.add("resname",Yg);var pL=16711808,fL=10485888,lL=6291584,uL=16762880,mL=6324479,dL=16777215,hL=11403518,_L=16580962,yL=10921722,Jg=function(e){function t(i){e.call(this,i),this.residueProxy=i.structure.getResidueProxy()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n=i.sstruc,s=this.residueProxy;return n==="h"?pL:n==="g"?fL:n==="i"?lL:n==="e"||n==="b"?uL:n==="t"?mL:(s.index=i.residueIndex,s.isDna()?hL:s.isRna()?_L:s.isSaccharide()?yL:s.isProtein()||n==="s"||n==="l"?dL:8421504)},t}(Dt);Yt([Kt],Jg.prototype,"atomColor",null),It.add("sstruc",Jg);var Bm=function(e){function t(i){var n,s;e.call(this,i),i.scale||(this.parameters.scale="rwb"),this.atomData=(n=this.parameters.data)===null||n===void 0?void 0:n.atomData,this.bondData=(s=this.parameters.data)===null||s===void 0?void 0:s.bondData,this.scale=this.getScale(this.parameters)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(i){var n,s=(n=this.atomData)===null||n===void 0?void 0:n[i.index];return s!==void 0?this.scale(s):this.parameters.value},t.prototype.bondColor=function(i,n){var s,r=(s=this.bondData)===null||s===void 0?void 0:s[i.index];return r!==void 0?this.scale(r):this.atomProxy?(this.atomProxy.index=n?i.atomIndex1:i.atomIndex2,this.atomColor(this.atomProxy)):this.parameters.value},t}(Dt);Yt([Kt],Bm.prototype,"atomColor",null),Yt([Kt],Bm.prototype,"bondColor",null),It.add("structuredata",Bm);var up=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return this.parameters.value},t.prototype.bondColor=function(){return this.parameters.value},t.prototype.valueColor=function(){return this.parameters.value},t.prototype.volumeColor=function(){return this.parameters.value},t}(Dt);Yt([Kt],up.prototype,"atomColor",null),Yt([Kt],up.prototype,"bondColor",null),Yt([Kt],up.prototype,"valueColor",null),Yt([Kt],up.prototype,"volumeColor",null),It.add("uniform",up);var Qg=function(e){function t(i){e.call(this,i),this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.volumeColor=function(i){return this.valueScale(this.parameters.volume.data[i])},t}(Dt);Yt([Kt],Qg.prototype,"volumeColor",null),It.add("value",Qg);var Xg=function(e){function t(i){e.call(this,i),this.vec=new P,this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(i){var n=this.parameters.volume;if(!n||!n.inverseMatrix)return this.parameters.value;var s=this.vec,r=n.data,a=n.nx,o=n.ny,c=a*o;s.copy(i),s.applyMatrix4(n.inverseMatrix);var p=Math.floor(s.x),f=Math.floor(s.y),l=Math.floor(s.z),u=(l*o+f)*a+p,m=u+1,d=u+a,y=u+c,_=d+1,h=y+1,g=d+c,E=g+1,w=r[u],v=r[m],x=r[d],b=r[y],A=r[_],M=r[h],G=r[g],T=r[E],N=s.x-p,D=s.y-f,L=s.z-l,C=$n(w,v,N),O=$n(b,M,N),q=$n(x,A,N),z=$n(G,T,N),$=$n(C,q,D),re=$n(O,z,D),K=$n($,re,L);return this.valueScale(K)},t}(Dt);Yt([Kt],Xg.prototype,"positionColor",null),It.add("volume",Xg);var Ji=function(e){function t(n,s,r){var a=r||{};if(e.call(this,n,s,a),this.type="structure",this.parameters=Object.assign({radiusType:{type:"select",options:Ys.types},radiusData:{type:"hidden"},radiusSize:{type:"number",precision:3,max:10,min:.001},radiusScale:{type:"number",precision:3,max:10,min:.001},assembly:null,defaultAssembly:{type:"hidden"}},this.parameters),this.selection=new Jt(a.sele),this.dataList=[],this.structure=n,this.structureView=this.structure.getView(this.selection),n.biomolDict){var o={default:"default","":n.unitcell?"AU":"FULL"};Object.keys(n.biomolDict).forEach(function(c){o[c]=c}),this.parameters.assembly={type:"select",options:o,rebuild:!0}}else this.parameters.assembly=null}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultScale:{configurable:!0}};return i.defaultScale.get=function(){return{vdw:1,covalent:1,bfactor:.01,sstruc:1}},t.prototype.init=function(n){var s=this,r=n||{};r.colorScheme=R(r.colorScheme,"element"),this.setRadius(r.radius,r),this.radiusType=R(r.radiusType,"vdw"),this.radiusData=R(r.radiusData,{}),this.radiusSize=R(r.radiusSize,1),this.radiusScale=R(r.radiusScale,1),this.assembly=R(r.assembly,"default"),this.defaultAssembly=R(r.defaultAssembly,""),r.quality==="auto"&&(r.quality=this.getQuality()),e.prototype.init.call(this,r),this.selection.signals.stringChanged.add(function(){s.build()}),this.build()},t.prototype.setRadius=function(n,s){var r=Object.keys(cE);return typeof n=="string"&&r.includes(n.toLowerCase())?s.radiusType=n:n!==void 0&&(s.radiusType="size",s.radiusSize=n),this},t.prototype.getAssembly=function(){var n=this.assembly==="default"?this.defaultAssembly:this.assembly;return this.structure.biomolDict[n]},t.prototype.getQuality=function(){var n,s=this.structureView,r=this.getAssembly();return n=r?r.getAtomCount(s):s.atomCount,F4&&(n*=4),s.atomStore.count/s.residueStore.count<2&&(n*=10),n<15e3?"high":n<8e4?"medium":"low"},t.prototype.create=function(){var n=this;if(this.structureView.atomCount!==0)if(this.structureView.hasCoords()){this.needsBuild=!1;var s=this.getAssembly();if(s)s.partList.forEach(function(a,o){var c=a.getView(n.structureView);if(c.atomCount!==0){var p=n.createData(c,o);p&&(p.sview=c,p.instanceList=a.getInstanceList(),n.dataList.push(p))}});else{var r=this.createData(this.structureView,0);r&&(r.sview=this.structureView,this.dataList.push(r))}}else this.needsBuild=!0},t.prototype.update=function(n){var s=this;!this.lazy||this.visible?this.needsBuild?this.build():this.dataList.forEach(function(r){r.bufferList.length>0&&s.updateData(n,r)},this):Object.assign(this.lazyProps.what,n)},t.prototype.updateData=function(n,s){this.build()},t.prototype.getColorParams=function(){return Object.assign(Object.assign({},e.prototype.getColorParams.call(this)),{structure:this.structure})},t.prototype.getRadiusParams=function(n){return{type:this.radiusType,scale:this.radiusScale,size:this.radiusSize,data:this.radiusData}},t.prototype.getAtomParams=function(n,s){return Object.assign({what:n,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},s)},t.prototype.getBondParams=function(n,s){return Object.assign({what:n,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},s)},t.prototype.getAtomRadius=function(n){return this.structureView.atomSet.isSet(n.index)?new Ys(this.getRadiusParams()).atomRadius(n):0},t.prototype.setSelection=function(n,s){return this.selection.setString(n,s),this},t.prototype.setParameters=function(n,s,r){s===void 0&&(s={}),r===void 0&&(r=!1);var a=n||{};return this.setRadius(a.radius,a),a.radiusType===void 0&&a.radiusData===void 0&&a.radiusSize===void 0&&a.radiusScale===void 0||(s.radius=!0,qs&&!this.disableImpostor||(r=!0)),a.defaultAssembly!==void 0&&a.defaultAssembly!==this.defaultAssembly&&(this.assembly==="default"&&a.assembly===void 0||a.assembly==="default")&&(r=!0),e.prototype.setParameters.call(this,a,s,r),this},t.prototype.getParameters=function(){return Object.assign(e.prototype.getParameters.call(this),{sele:this.selection?this.selection.string:void 0,defaultAssembly:this.defaultAssembly})},t.prototype.attach=function(n){var s=this.viewer,r=this.bufferList;this.dataList.forEach(function(a){a.bufferList.forEach(function(o){r.push(o),s.add(o,a.instanceList)})}),this.setVisibility(this.visible),n()},t.prototype.clear=function(){this.dataList.length=0,e.prototype.clear.call(this)},t.prototype.dispose=function(){this.structureView.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,i),t}(Ci),e3=function(e){function t(i,n,s){e.call(this,i,n,s),this.n=0,this.parameters=Object.assign({labelVisible:{type:"boolean"},labelSize:{type:"number",precision:3,max:10,min:.001},labelColor:{type:"color"},labelFontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:"fontFamily"},labelFontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:"fontStyle"},labelFontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:"fontWeight"},labelsdf:{type:"boolean",buffer:"sdf"},labelXOffset:{type:"number",precision:1,max:20,min:-20,buffer:"xOffset"},labelYOffset:{type:"number",precision:1,max:20,min:-20,buffer:"yOffset"},labelZOffset:{type:"number",precision:1,max:20,min:-20,buffer:"zOffset"},labelAttachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},labelBorder:{type:"boolean",buffer:"showBorder"},labelBorderColor:{type:"color",buffer:"borderColor"},labelBorderWidth:{type:"number",precision:2,max:.3,min:0,buffer:"borderWidth"},labelBackground:{type:"boolean",rebuild:!0},labelBackgroundColor:{type:"color",buffer:"backgroundColor"},labelBackgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},labelBackgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:"backgroundOpacity"},labelFixedSize:{type:"boolean",buffer:"fixedSize"},lineOpacity:{type:"range",min:0,max:1,step:.01},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters,{flatShaded:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};this.labelVisible=R(n.labelVisible,!0),this.labelSize=R(n.labelSize,2),this.labelColor=R(n.labelColor,16777215),this.labelFontFamily=R(n.labelFontFamily,"sans-serif"),this.labelFontStyle=R(n.labelFontstyle,"normal"),this.labelFontWeight=R(n.labelFontWeight,"bold"),this.labelsdf=R(n.labelsdf,I4==="Chrome"),this.labelXOffset=R(n.labelXOffset,0),this.labelYOffset=R(n.labelYOffset,0),this.labelZOffset=R(n.labelZOffset,.5),this.labelAttachment=R(n.labelAttachment,"bottom-left"),this.labelBorder=R(n.labelBorder,!1),this.labelBorderColor=R(n.labelBorderColor,"lightgrey"),this.labelBorderWidth=R(n.labelBorderWidth,.15),this.labelBackground=R(n.labelBackground,!1),this.labelBackgroundColor=R(n.labelBackgroundColor,"lightgrey"),this.labelBackgroundMargin=R(n.labelBackgroundMargin,.5),this.labelBackgroundOpacity=R(n.labelBackgroundOpacity,1),this.labelFixedSize=R(n.labelFixedSize,!1),this.lineOpacity=R(n.lineOpacity,1),this.linewidth=R(n.linewidth,2),e.prototype.init.call(this,n)},t.prototype.update=function(i){i.position?this.build():e.prototype.update.call(this,i)},t.prototype.updateData=function(i,n){var s={};if(i&&!i.labelSize||Object.assign(s,{size:kn(this.n,this.labelSize)}),!i||i.labelColor){var r=new Oe(this.labelColor);Object.assign(s,{color:Xt(this.n,r.r,r.g,r.b)})}this.textBuffer.setAttributes(s)},t.prototype.setParameters=function(i,n,s){return n===void 0&&(n={}),s===void 0&&(s=!1),i&&i.labelSize&&(n.labelSize=!0),i&&(i.labelColor||i.labelColor===0)&&(n.labelColor=!0,s=!0),e.prototype.setParameters.call(this,i,n,s),i&&i.opacity!==void 0&&this.textBuffer.setParameters({opacity:1}),i&&i.labelVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(i,n){return e.prototype.setVisibility.call(this,i,!0),this.textBuffer&&this.textBuffer.setVisibility(this.labelVisible&&this.visible),n||this.viewer.requestRender(),this},t.prototype.getLabelBufferParams=function(i){return i===void 0&&(i={}),e.prototype.getBufferParams.call(this,Object.assign({fontFamily:this.labelFontFamily,fontStyle:this.labelFontStyle,fontWeight:this.labelFontWeight,sdf:this.labelsdf,xOffset:this.labelXOffset,yOffset:this.labelYOffset,zOffset:this.labelZOffset,attachment:this.labelAttachment,showBorder:this.labelBorder,borderColor:this.labelBorderColor,borderWidth:this.labelBorderWidth,showBackground:this.labelBackground,backgroundColor:this.labelBackgroundColor,backgroundMargin:this.labelBackgroundMargin,backgroundOpacity:this.labelBackgroundOpacity,fixedSize:this.labelFixedSize,disablePicking:!0,visible:this.labelVisible},i,{opacity:1}))},t.prototype.getAtomRadius=function(){return 0},t}(Ji);function t3(e,t){var i=e.getAtomProxy(),n=new Jt,s=t.length;if(s===0)return new Float32Array(0);var r=t[0].length,a=e.getAtomSet(),o=new Float32Array(s*r*3),c=0;return t.forEach(function(p){for(var f=!1,l=0;l<r;l++){var u=p[l];if(typeof u=="number"&&Number.isInteger(u)){if(!a.get(u)){f=!0;break}i.index=u}else{n.setString(u);var m=e.getAtomIndices(n);if(!m.length){f=!0;break}i.index=m[0]}var d=c+3*l;o[d++]=i.x,o[d++]=i.y,o[d++]=i.z}f||(c+=3*r)}),o.subarray(0,c)}function ps(e,t,i,n,s){var r=Math.cos(s),a=Math.sin(s);e[0]=t[0]+i[0]*r+n[0]*a,e[1]=t[1]+i[1]*r+n[1]*a,e[2]=t[2]+i[2]*r+n[2]*a}function Zg(e,t,i,n,s,r,a){for(var o=0;o<t;o++){for(var c=0;c<i;c++)n[c]=e[c*t+o];ew(n,s,r,a,i);for(var p=0;p<i;p++)e[p*t+o]=s[p]}for(var f=0;f<i;f++){for(var l=0;l<t;l++)n[l]=e[f*t+l];ew(n,s,r,a,t);for(var u=0;u<t;u++)e[f*t+u]=Math.sqrt(s[u])}}function ew(e,t,i,n,s){i[0]=0,n[0]=Number.MIN_SAFE_INTEGER,n[1]=Number.MAX_SAFE_INTEGER;for(var r=1,a=0;r<s;r++){for(var o=(e[r]+r*r-(e[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);o<=n[a];)a--,o=(e[r]+r*r-(e[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);i[++a]=r,n[a]=o,n[a+1]=Number.MAX_SAFE_INTEGER}for(var c=0,p=0;c<s;c++){for(;n[p+1]<c;)p++;t[c]=(c-i[p])*(c-i[p])+e[i[p]]}}Ht.add("shader/SDFFont.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float xOffset;
uniform float yOffset;
uniform float zOffset;
uniform bool ortho;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
attribute vec2 mapping;
attribute vec2 inputTexCoord;
attribute float inputSize;
#include matrix_scale
#include common
void main(void){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
texCoord = inputTexCoord;
float scale = matrixScale( modelViewMatrix );
float _xOffset = xOffset * scale;
float _yOffset = yOffset * scale;
float _zOffset = zOffset * scale;
if( texCoord.x == 10.0 ){
_zOffset -= 0.001;
}
vec4 cameraPos = modelViewMatrix * vec4( position, 1.0 );
#ifdef FIXED_SIZE
if ( ortho ) {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPosition.z) * 0.1;
} else {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPos.z) * 0.1;
}
#endif
vec4 cameraCornerPos = vec4( cameraPos.xyz, 1.0 );
cameraCornerPos.xy += mapping * inputSize * 0.01 * scale;
cameraCornerPos.x += _xOffset;
cameraCornerPos.y += _yOffset;
if( ortho ){
cameraCornerPos.xyz += normalize( -cameraPosition ) * _zOffset;
} else {
cameraCornerPos.xyz += normalize( -cameraCornerPos.xyz ) * _zOffset;
}
gl_Position = projectionMatrix * cameraCornerPos;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -cameraCornerPos.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Ht.add("shader/SDFFont.frag",`uniform sampler2D fontTexture;
uniform float opacity;
uniform bool showBorder;
uniform vec3 borderColor;
uniform float borderWidth;
uniform vec3 backgroundColor;
uniform float backgroundOpacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
const vec3 vColor = vec3( 0.0 );
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#endif
const float gamma = 2.2 * 1.4142 / 128.0;
const float padding = 0.75;
void main(){
#include nearclip_fragment
#include radiusclip_fragment
if( texCoord.x > 1.0 ){
gl_FragColor = vec4( backgroundColor, backgroundOpacity );
}else{
float sdf = texture2D( fontTexture, texCoord ).a;
if( showBorder ) sdf += borderWidth;
float a = smoothstep(padding - gamma, padding + gamma, sdf);
if( a < 0.2 ) discard;
a *= opacity;
vec3 outgoingLight = vColor;
if( showBorder && sdf < ( padding + borderWidth ) ){
outgoingLight = borderColor;
}
gl_FragColor = vec4( outgoingLight, a );
}
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var Vm={},gL={font:"sans-serif",size:36,style:"normal",variant:"normal",weight:"normal",outline:3,width:1024,height:1024},Ll=function(e){e===void 0&&(e={}),this.gamma=1,this.mapped={},this.scratchW=0,this.scratchH=0,this.currentX=0,this.currentY=0,this.cutoff=.25,this.parameters=Bn(e,gL);var t=this.parameters;this.radius=t.size/8,this.padding=t.size/3;var i=this.lineHeight=t.size+2*t.outline+Math.round(t.size/4),n=this.maxWidth=t.width/4,s=this.canvas=document.createElement("canvas");s.width=n,s.height=i;var r=this.context=this.canvas.getContext("2d");r.font=t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.font,r.fillStyle="black",r.textAlign="left",r.textBaseline="bottom",r.lineJoin="round",this.gridOuter=new Float64Array(i*n),this.gridInner=new Float64Array(i*n),this.f=new Float64Array(Math.max(i,n)),this.d=new Float64Array(Math.max(i,n)),this.z=new Float64Array(Math.max(i,n)+1),this.v=new Int16Array(Math.max(i,n)),this.data=new Uint8Array(t.width*t.height*4),this.canvas2=document.createElement("canvas"),this.canvas2.width=t.width,this.canvas2.height=t.height,this.context2=this.canvas2.getContext("2d"),this.placeholder=this.map(String.fromCharCode(65533));for(var a=32;a<=126;++a)this.map(String.fromCharCode(a));this.map(String.fromCharCode(176)),this.map(String.fromCharCode(8491)),this.texture=new of(this.canvas2),this.texture.flipY=!1,this.texture.needsUpdate=!0};Ll.prototype.map=function(e){var t=this.parameters;return this.mapped[e]===void 0&&(this.draw(e),this.currentX+this.scratchW>t.width&&(this.currentX=0,this.currentY+=this.scratchH),this.currentY+this.scratchH>t.height&&console.warn("canvas to small"),this.mapped[e]={x:this.currentX,y:this.currentY,w:this.scratchW,h:this.scratchH},this.context2.drawImage(this.canvas,0,0,this.scratchW,this.scratchH,this.currentX,this.currentY,this.scratchW,this.scratchH),this.currentX+=this.scratchW),this.mapped[e]},Ll.prototype.get=function(e){return this.mapped[e]||this.placeholder},Ll.prototype.draw=function(e){var t=this.parameters,i=this.lineHeight,n=t.outline,s=this.context,r=this.maxWidth,a=n,o=i-t.outline,c=s.measureText(e),p=Math.min(r,Math.ceil(c.width+2*a+1)),f=p*i;s.clearRect(0,0,p,i),s.fillText(e,a,o);for(var l=s.getImageData(0,0,p,i),u=l.data,m=0;m<f;m++){var d=l.data[4*m+3]/255;this.gridOuter[m]=d===1?0:d===0?Number.MAX_SAFE_INTEGER:Math.pow(Math.max(0,.5-d),2),this.gridInner[m]=d===1?Number.MAX_SAFE_INTEGER:d===0?0:Math.pow(Math.max(0,d-.5),2)}Zg(this.gridOuter,p,i,this.f,this.d,this.v,this.z),Zg(this.gridInner,p,i,this.f,this.d,this.v,this.z);for(var y=0;y<f;y++){var _=this.gridOuter[y]-this.gridInner[y];u[4*y+3]=Math.max(0,Math.min(255,Math.round(255-255*(_/this.radius+this.cutoff))))}s.putImageData(l,0,0),this.scratchW=p,this.scratchH=i};var wL=Object.assign({fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"bold",fontSize:36,xOffset:0,yOffset:0,zOffset:.5,attachment:"bottom-left",showBorder:!1,borderColor:"lightgrey",borderWidth:.15,showBackground:!1,backgroundColor:"lightgrey",backgroundMargin:.5,backgroundOpacity:1,forceTransparent:!0,fixedSize:!1},gn),EL=Object.assign({fontFamily:{uniform:!0},fontStyle:{uniform:!0},fontWeight:{uniform:!0},fontSize:{uniform:!0},xOffset:{uniform:!0},yOffset:{uniform:!0},zOffset:{uniform:!0},showBorder:{uniform:!0},borderColor:{uniform:!0},borderWidth:{uniform:!0},backgroundColor:{uniform:!0},backgroundOpacity:{uniform:!0},fixedSize:{updateShader:!0}},ro);function tw(e,t){for(var i=e.position.length/3,n=0,s=0;s<i;++s)n+=e.text[s].length;return t.showBackground&&(n+=i),n}var Hc=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,{position:new Float32Array(3*tw(n,s)),color:new Float32Array(3*tw(n,s)),picking:new YT},s),this.parameterTypes=EL,this.alwaysTransparent=!0,this.hasWireframe=!1,this.isText=!0,this.vertexShader="SDFFont.vert",this.fragmentShader="SDFFont.frag",this.text=n.text,this.positionCount=n.position.length/3,this.addUniforms({fontTexture:{value:null},xOffset:{value:this.parameters.xOffset},yOffset:{value:this.parameters.yOffset},zOffset:{value:this.parameters.zOffset},ortho:{value:!1},showBorder:{value:this.parameters.showBorder},borderColor:{value:new Oe(this.parameters.borderColor)},borderWidth:{value:this.parameters.borderWidth},backgroundColor:{value:new Oe(this.parameters.backgroundColor)},backgroundOpacity:{value:this.parameters.backgroundOpacity},canvasHeight:{value:1},pixelRatio:{value:1}}),this.addAttributes({inputTexCoord:{type:"v2",value:null},inputSize:{type:"f",value:null}}),this.setAttributes(n),this.makeTexture(),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return wL},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this);var n=this.texture,s=this.material;s.transparent=!0,s.extensions.derivatives=!0,s.lights=!1,s.uniforms.fontTexture.value=n,s.needsUpdate=!0;var r=this.wireframeMaterial;r.transparent=!0,r.extensions.derivatives=!0,r.lights=!1,r.uniforms.fontTexture.value=n,r.needsUpdate=!0;var a=this.pickingMaterial;a.extensions.derivatives=!0,a.lights=!1,a.uniforms.fontTexture.value=n,a.needsUpdate=!0},t.prototype.setAttributes=function(n){var s,r,a,o,c,p;n===void 0&&(n={});var f=this.text,l=this.geometry.attributes;n.position&&(s=n.position,o=l.position.array,l.position.needsUpdate=!0),n.size&&(r=n.size,c=l.inputSize.array,l.inputSize.needsUpdate=!0),n.color&&(a=n.color,p=l.color.array,l.color.needsUpdate=!0);for(var u,m,d,y,_=this.positionCount,h=0,g=0;g<_;++g)for(m=3*g,y=f[g].length,this.parameters.showBackground&&(y+=1),d=0;d<y;++d,++h)for(var E=0;E<4;E++)u=4*h*3+3*E,s&&(o[u]=s[m],o[u+1]=s[m+1],o[u+2]=s[m+2]),r&&(c[4*h+E]=r[g]),a&&(p[u]=a[m],p[u+1]=a[m+1],p[u+2]=a[m+2])},t.prototype.makeTexture=function(){var n,s;this.textAtlas=(n={font:this.parameters.fontFamily,style:this.parameters.fontStyle,weight:this.parameters.fontWeight,size:this.parameters.fontSize},s=JSON.stringify(n),Vm[s]===void 0&&(Vm[s]=new Ll(n)),Vm[s]),this.texture=this.textAtlas.texture},t.prototype.makeMapping=function(){for(var n,s,r,a,o,c,p,f,l=this.textAtlas,u=this.text,m=this.parameters.attachment,d=l.lineHeight*this.parameters.backgroundMargin*.1-10,y=this.geometry.attributes,_=y.inputTexCoord.array,h=y.mapping.array,g=this.positionCount,E=0,w=0;w<g;++w){for(a=0,c=(r=u[w]).length,o=0;o<c;++o)a+=(n=l.get(r[o])).w-2*l.parameters.outline;for(f=m.startsWith("top")?l.lineHeight/1.25:m.startsWith("middle")?l.lineHeight/2.5:0,p=m.endsWith("right")?a:m.endsWith("center")?a/2:0,p+=l.parameters.outline,f+=l.parameters.outline,this.parameters.showBackground&&(h[(s=2*E*4)+0]=-l.lineHeight/6-p-d,h[s+1]=l.lineHeight-f+d,h[s+2]=-l.lineHeight/6-p-d,h[s+3]=0-f-d,h[s+4]=a+l.lineHeight/6-p+2*l.parameters.outline+d,h[s+5]=l.lineHeight-f+d,h[s+6]=a+l.lineHeight/6-p+2*l.parameters.outline+d,h[s+7]=0-f-d,_[s+0]=10,_[s+2]=10,_[s+4]=10,_[s+6]=10,E+=1),a=0,o=0;o<c;++o,++E){n=l.get(r[o]),h[(s=2*E*4)+0]=a-p,h[s+1]=n.h-f,h[s+2]=a-p,h[s+3]=0-f,h[s+4]=a+n.w-p,h[s+5]=n.h-f,h[s+6]=a+n.w-p,h[s+7]=0-f;var v=l.parameters.width,x=l.parameters.height,b=[n.x/v,n.y/x,n.x/v,(n.y+n.h)/x,(n.x+n.w)/v,n.y/x,(n.x+n.w)/v,(n.y+n.h)/x];_.set(b,s),a+=n.w-2*l.parameters.outline}}y.inputTexCoord.needsUpdate=!0,y.mapping.needsUpdate=!0},t.prototype.getDefines=function(n){var s=e.prototype.getDefines.call(this,n);return this.parameters.fixedSize&&(s.FIXED_SIZE=1),s},t.prototype.setUniforms=function(n){!n||n.fontFamily===void 0&&n.fontStyle===void 0&&n.fontWeight===void 0&&n.fontSize===void 0||(this.makeTexture(),this.makeMapping(),this.texture.needsUpdate=!0,n.fontTexture=this.texture),e.prototype.setUniforms.call(this,n)},Object.defineProperties(t.prototype,i),t}(J_);Vn.add("text",Hc),Ht.add("shader/WideLine.vert",`
uniform float clipNear;
uniform vec3 clipCenter;
uniform float linewidth;
uniform vec2 resolution;
uniform mat4 projectionMatrixInverse;
attribute vec2 mapping;
attribute vec3 position1;
attribute vec3 position2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void trimSegment( const in vec4 start, inout vec4 end ) {
float a = projectionMatrix[ 2 ][ 2 ]; float b = projectionMatrix[ 3 ][ 2 ]; float nearEstimate = - 0.5 * b / a;
float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );
end.xyz = mix( start.xyz, end.xyz, alpha );
}
void main() {
float aspect = resolution.x / resolution.y;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
flag = mapping.y;
vColor = color;
vColor2 = color2;
#endif
vec4 start = modelViewMatrix * vec4( position1, 1.0 );
vec4 end = modelViewMatrix * vec4( position2, 1.0 );
bool perspective = ( projectionMatrix[ 2 ][ 3 ] == -1.0 ); if ( perspective ) {
if ( start.z < 0.0 && end.z >= 0.0 ) {
trimSegment( start, end );
} else if ( end.z < 0.0 && start.z >= 0.0 ) {
trimSegment( end, start );
}
}
vec4 clipStart = projectionMatrix * start;
vec4 clipEnd = projectionMatrix * end;
vec2 ndcStart = clipStart.xy / clipStart.w;
vec2 ndcEnd = clipEnd.xy / clipEnd.w;
vec2 dir = ndcEnd - ndcStart;
dir.x *= aspect;
dir = normalize( dir );
vec2 offset = vec2( dir.y, - dir.x );
dir.x /= aspect;
offset.x /= aspect;
if ( mapping.x < 0.0 ) offset *= - 1.0;
offset *= linewidth;
offset /= resolution.y;
vec4 clip = ( mapping.y < 0.5 ) ? clipStart : clipEnd;
offset *= clip.w;
clip.xy += offset;
gl_Position = clip;
#ifndef PICKING
vViewPosition = ( projectionMatrixInverse * clip ).xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Ht.add("shader/WideLine.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include fog_pars_fragment
varying vec3 vViewPosition;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
#endif
void main() {
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
if ( flag < 0.0 ) {
diffuseColor.rgb *= vColor;
} else {
diffuseColor.rgb *= vColor2;
}
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var vL=Object.assign({linewidth:2},gn),bL=Object.assign({linewidth:{uniform:!0}},ro),Cr=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,n,s),this.parameterTypes=bL,this.vertexShader="WideLine.vert",this.fragmentShader="WideLine.frag",!n.color2&&n.color&&(n.color2=n.color),this.addUniforms({linewidth:{value:this.parameters.linewidth},resolution:{value:new Te},projectionMatrixInverse:{value:new De}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null}}),this.setAttributes(n),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return vL},t.prototype.setParameters=function(n){e.prototype.setParameters.call(this,n)},Object.defineProperties(t.prototype,i),t}(J_);Vn.add("wideline",Cr);var xL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="angle",this.parameters=Object.assign({atomTriple:{type:"hidden",rebuild:!0},vectorVisible:{type:"boolean",default:!0},arcVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.side=R(n.side,"double"),n.opacity=R(n.opacity,.5),this.atomTriple=R(n.atomTriple,[]),this.arcVisible=R(n.arcVisible,!0),this.sectorVisible=R(n.sectorVisible,!0),this.vectorVisible=R(n.vectorVisible,!0),e.prototype.init.call(this,n)},t.prototype.createData=function(i){if(i.atomCount&&this.atomTriple.length){var n=function(c,p){return function(f){for(var l=[],u=f.length/9,m=0;m<u;m++){for(var d=!0,y=m;y<m+3;y+=3)f[y]===f[y+3]&&f[y+1]===f[y+4]&&f[y+2]===f[y+5]&&(d=!1);d&&l.push(m)}var _=new Float32Array(9*l.length),h=0;return l.forEach(function(g){Fi(f,_,9*g,9*h,9),h++}),_}(t3(c,p))}(i,this.atomTriple),s=function(c,p){p===void 0&&(p={});for(var f=R(p.angleStep,Math.PI/90),l=c.length/9,u=new Float32Array(l),m=new Float32Array(3*l),d=new Array(l),y=new Float32Array(6*l),_=new Float32Array(6*l),h=new Array(l),g=new Array(l),E=new Array(l),w=0,v=yt(),x=yt(),b=yt(),A=yt(),M=yt(),G=yt(),T=yt(),N=yt(),D=yt(),L=function(ae){var ne=9*ae;mn(v,c,ne),mn(x,c,ne+3),mn(b,c,ne+6);var pe=6*ae;xt(v,y,pe),xt(x,_,pe),xt(x,y,pe+3),xt(b,_,pe+3),hi(A,v,x),hi(M,b,x),yi(A,A),yi(M,M),An(G,A,M);var U=sa(G),W=bn(A,M),Z=u[ae]=Math.atan2(U,W);d[ae]=(G4*Z).toFixed(1)+String.fromCharCode(176),sa(G)===0&&(G[0]=1,G[1]=0,G[2]=0),An(T,G,A),yi(T,T),ps(N,x,A,T,Z/2),xt(N,m,3*ae);var ie=Math.ceil(Z/f),ue=new Float32Array(9*ie);E[ae]=ue;var he=new Float32Array(3*ie),ge=new Float32Array(3*ie);h[ae]=he,g[ae]=ge,us(D,x,A);for(var k=function(oe,te){var se=9*te,we=3*te;xt(x,ue,se),xt(D,ue,se+3),xt(D,he,we),ps(D,x,A,T,oe),xt(D,ue,se+6),xt(D,ge,we)},H=0,me=f;me<Z;me+=f)k(me,H),H++;k(Z,H),w+=ie},C=0;C<l;C++)L(C);for(var O=3*w,q=9*w,z=new Float32Array(O),$=new Float32Array(O),re=new Float32Array(q),K=0,J=0,Y=0;Y<l;Y++){var le=h[Y],fe=g[Y];Fi(le,z,0,J,le.length),Fi(fe,$,0,J,fe.length),J+=le.length;var X=E[Y];Fi(X,re,0,K,X.length),K+=X.length}return{labelPosition:m,labelText:d,vectorPosition1:y,vectorPosition2:_,arcPosition1:z,arcPosition2:$,sectorPosition:re}}(n),r=this.n=s.labelPosition.length/3,a=new Oe(this.labelColor);this.textBuffer=new Hc({position:s.labelPosition,size:kn(r,this.labelSize),color:Xt(r,a.r,a.g,a.b),text:s.labelText},this.getLabelBufferParams());var o=new Oe(this.colorValue);return this.vectorBuffer=new Cr(Vh({position1:s.vectorPosition1,position2:s.vectorPosition2,color:Xt(2*r,o.r,o.g,o.b),color2:Xt(2*r,o.r,o.g,o.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.vectorVisible,opacity:this.lineOpacity})),this.arcLength=s.arcPosition1.length/3,this.arcBuffer=new Cr(Vh({position1:s.arcPosition1,position2:s.arcPosition2,color:Xt(this.arcLength,o.r,o.g,o.b),color2:Xt(this.arcLength,o.r,o.g,o.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.arcVisible,opacity:this.lineOpacity})),this.sectorLength=s.sectorPosition.length/3,this.sectorBuffer=new Ar({position:s.sectorPosition,color:Xt(this.sectorLength,o.r,o.g,o.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.vectorBuffer,this.arcBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(i,n){e.prototype.updateData.call(this,i,n);var s={},r={},a={};if(i.color){var o=new Oe(this.colorValue);Object.assign(s,{color:Xt(2*this.n,o.r,o.g,o.b),color2:Xt(2*this.n,o.r,o.g,o.b)}),Object.assign(r,{color:Xt(this.arcLength,o.r,o.g,o.b),color2:Xt(this.arcLength,o.r,o.g,o.b)}),Object.assign(a,{color:Xt(this.sectorLength,o.r,o.g,o.b)})}this.vectorBuffer.setAttributes(s),this.arcBuffer.setAttributes(r),this.sectorBuffer.setAttributes(a)},t.prototype.setParameters=function(i){return e.prototype.setParameters.call(this,i,{},!1),!i||i.vectorVisible===void 0&&i.arcVisible===void 0&&i.sectorVisible===void 0||this.setVisibility(this.visible),i&&i.lineOpacity&&(this.vectorBuffer.setParameters({opacity:i.lineOpacity}),this.arcBuffer.setParameters({opacity:i.lineOpacity})),i&&i.opacity!==void 0&&(this.vectorBuffer.setParameters({opacity:this.lineOpacity}),this.arcBuffer.setParameters({opacity:this.lineOpacity})),i&&i.linewidth&&(this.vectorBuffer.setParameters({linewidth:i.linewidth}),this.arcBuffer.setParameters({linewidth:i.linewidth})),this},t.prototype.setVisibility=function(i,n){return e.prototype.setVisibility.call(this,i,!0),this.vectorBuffer&&this.vectorBuffer.setVisibility(this.vectorVisible&&this.visible),this.arcBuffer&&this.arcBuffer.setVisibility(this.arcVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),n||this.viewer.requestRender(),this},t}(e3);li.add("angle",xL);var iw=new P,qm=new P,zm=new P,SL=new P(0,1,0),i3=Object.assign({radialSegments:1,openEnded:!0},gn);function nw(e){e===void 0&&(e={});var t=R(e.radialSegments,10),i=R(e.openEnded,!0),n=new De().makeRotationX(Math.PI/2),s=new vr(1,1,1,t,1,i);return s.applyMatrix4(n),s}var wE=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,function(o,c){c===void 0&&(c={});var p=nw(c),f=o.position1.length,l=p.attributes.position.array.length/3,u=f/3,m=new Float32Array(2*u*l);return Oh(u,l,0,m),Oh(u,l,u*l,m),{position:new Float32Array(2*f),color:new Float32Array(2*f),primitiveId:m,picking:o.picking}}(n,s),s,nw(s)),this.updateNormals=!0;var r=n.position1.length,a=n.radius.length;this.__center=new Float32Array(r),this._position=new Float32Array(2*r),this._color=new Float32Array(2*r),this._from=new Float32Array(2*r),this._to=new Float32Array(2*r),this._radius=new Float32Array(2*a),this.setAttributes(n,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return i3},t.prototype.applyPositionTransform=function(n,s,r){qm.fromArray(this._from,r),zm.fromArray(this._to,r),n.lookAt(qm,zm,SL);var a=this._radius[s];iw.set(a,a,qm.distanceTo(zm)),n.scale(iw)},t.prototype.setAttributes=function(n,s){n===void 0&&(n={});var r={};n.position1&&n.position2&&(zs(n.position1,n.position2,this.__center),zs(n.position1,this.__center,this._position),zs(this.__center,n.position2,this._position,n.position1.length),this._from.set(n.position1),this._from.set(this.__center,n.position1.length),this._to.set(this.__center),this._to.set(n.position2,this.__center.length),r.position=this._position),n.color&&n.color2&&(this._color.set(n.color),this._color.set(n.color2,n.color.length),r.color=this._color),n.radius&&(this._radius.set(n.radius),this._radius.set(n.radius,n.radius.length),r.radius=this._radius),e.prototype.setAttributes.call(this,r,s)},Object.defineProperties(t.prototype,i),t}(da);Ht.add("shader/CylinderImpostor.vert",`
attribute vec3 mapping;
attribute vec3 position1;
attribute vec3 position2;
attribute float radius;
varying vec3 axis;varying vec4 base_radius;varying vec4 end_b;varying vec3 U;varying vec3 V;
varying vec4 w;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform mat4 modelViewMatrixInverse;
uniform float ortho;
#include matrix_scale
void main(){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
base_radius.w = radius * matrixScale( modelViewMatrix );
vec3 center = position;
vec3 dir = normalize( position2 - position1 );
float ext = length( position2 - position1 ) / 2.0;
vec3 cam_dir;
if( ortho == 0.0 ){
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 0, 1 ) ).xyz - center;
}else{
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 1, 0 ) ).xyz;
}
cam_dir = normalize( cam_dir );
vec3 ldir;
float b = dot( cam_dir, dir );
end_b.w = b;
if( b < 0.0 )
ldir = -ext * dir;
else
ldir = ext * dir;
vec3 left = radius * normalize( cross( cam_dir, ldir ) );
vec3 up = radius * normalize( cross( left, ldir ) );
axis = normalize( normalMatrix * ldir );
U = normalize( normalMatrix * up );
V = normalize( normalMatrix * left );
vec4 base4 = modelViewMatrix * vec4( center - ldir, 1.0 );
base_radius.xyz = base4.xyz / base4.w;
vec4 end4 = modelViewMatrix * vec4( center + ldir, 1.0 );
end_b.xyz = end4.xyz / end4.w;
w = modelViewMatrix * vec4(
center + mapping.x*ldir + mapping.y*left + mapping.z*up, 1.0
);
gl_Position = projectionMatrix * w;
gl_Position.z = 0.99;
}`),Ht.add("shader/CylinderImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying vec3 axis;
varying vec4 base_radius;
varying vec4 end_b;
varying vec3 U;
varying vec3 V;
varying vec4 w;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float distSq3( vec3 v3a, vec3 v3b ){
return (
( v3a.x - v3b.x ) * ( v3a.x - v3b.x ) +
( v3a.y - v3b.y ) * ( v3a.y - v3b.y ) +
( v3a.z - v3b.z ) * ( v3a.z - v3b.z )
);
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
void main(){
vec3 ray_target = w.xyz / w.w;
vec3 base = base_radius.xyz; float vRadius = base_radius.w; vec3 end = end_b.xyz; float b = end_b.w;
vec3 ray_origin = vec3(0.0); vec3 ortho_ray_direction = vec3(0.0, 0.0, 1.0); vec3 persp_ray_direction = normalize(ray_origin - ray_target);
vec3 ray_direction = mix(persp_ray_direction, ortho_ray_direction, ortho);

mat3 basis = mat3( U, V, axis );
vec3 diff = ray_target - 0.5 * (base + end);

vec3 P = diff * basis;
float dz = dot( axis, ray_direction );
float radius2 = vRadius*vRadius;
vec3 D = vec3(dot(U, ray_direction),
dot(V, ray_direction),
dz);
float a0 = P.x*P.x + P.y*P.y - radius2;
float a1 = P.x*D.x + P.y*D.y;
float a2 = D.x*D.x + D.y*D.y;
float d = a1*a1 - a0*a2;
if (d < 0.0) {
discard;
}
float dist = (-a1 + sqrt(d)) / a2;
vec3 surface_point = ray_target + dist * ray_direction;
vec3 base_to_surface = surface_point - base;
vec3 _normal = normalize( base_to_surface - axis * dot(base_to_surface, axis) );
float base_cap_test = dot( base_to_surface, axis );
float end_cap_test = dot((surface_point - end), axis);
#ifndef CAP
vec3 new_point2 = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
vec3 tmp_point2 = new_point2 - base;
#endif
if (base_cap_test < 0.0) {
float dNV;
float near;
vec3 front_point;
if ( ortho == 1.0 ) {
front_point = ray_target;
} else {
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
front_point = ray_direction * near + ray_origin;
}
if (dot(front_point - base, front_point-base) > radius2) {
discard;
}
#ifdef CAP
surface_point = front_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(axis, end) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - end, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
if( end_cap_test > 0.0 )
{
float dNV;
float near;
vec3 end_point;
if ( ortho == 1.0 ) {
end_point = ray_target;
} else {
dNV = dot(axis, ray_direction);
if (dNV < 0.0) {
discard;
}
near = dot(axis, end) / dNV;
end_point = ray_direction * near + ray_origin;
}

if( dot(end_point - end, end_point-base) > radius2 ) {
discard;
}
#ifdef CAP
surface_point = end_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - base, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
gl_FragDepthEXT = calcDepth( surface_point );

#ifdef NEAR_CLIP
if( calcClip( surface_point ) > 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
if( calcClip( surface_point ) > 0.0 ) {
discard;
}
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#endif
if (gl_FragDepthEXT < 0.0) {
discard;
}
if (gl_FragDepthEXT > 1.0) {
discard;
}
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -surface_point;
vec3 vNormal = _normal;
vec3 vColor;
if( distSq3( surface_point, end ) < distSq3( surface_point, base ) ){
if( b < 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}else{
if( b > 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var ML=new Float32Array([-1,1,-1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1]),AL=new Uint16Array([0,1,2,1,4,2,2,4,3,4,5,3]),CL=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,"v3",n,s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return i.mapping.get=function(){return ML},i.mappingIndices.get=function(){return AL},i.mappingIndicesSize.get=function(){return 12},i.mappingSize.get=function(){return 6},i.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,i),t}(Y_),EE=Object.assign({openEnded:!1},gn),PL=Object.assign({openEnded:{updateShader:!0}},ro),TL=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,n,s),this.parameterTypes=PL,this.isImpostor=!0,this.vertexShader="CylinderImpostor.vert",this.fragmentShader="CylinderImpostor.frag",this.addUniforms({modelViewMatrixInverse:{value:new De},ortho:{value:0}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null}}),this.setAttributes(n),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return EE},t.prototype.getDefines=function(n){var s=e.prototype.getDefines.call(this,n);return this.parameters.openEnded||(s.CAP=1),s},Object.defineProperties(t.prototype,i),t}(CL);Object.assign({disableImpostor:!1},i3,EE);var Ir=function(e,t){return t===void 0&&(t={}),!e.color2&&e.color&&(e.color2=e.color),!qs||t&&t.disableImpostor?new wE(e,t):new TL(e,t)};Vn.add("cylinder",Ir);var IL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="axes",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0,showAxes:{type:"boolean",rebuild:!0},showBox:{type:"boolean",rebuild:!0}},this.parameters,{assembly:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.radiusSize=R(n.radiusSize,.5),n.colorValue=R(n.colorValue,"lightgreen"),n.useInteriorColor=R(n.useInteriorColor,!0),this.showAxes=R(n.showAxes,!0),this.showBox=R(n.showBox,!1),e.prototype.init.call(this,n)},t.prototype.getPrincipalAxes=function(){var i,n=this.getAssembly();return n&&(i=n.partList[0].getSelection()),this.structureView.getPrincipalAxes(i)},t.prototype.getAxesData=function(i){var n=this.getPrincipalAxes(),s=new Oe(this.colorValue),r=0,a=0;this.showAxes&&(r+=6,a+=3),this.showBox&&(r+=8,a+=12);var o=new Float32Array(3*r),c=Xt(r,s.r,s.g,s.b),p=kn(r,this.radiusSize),f=new Float32Array(3*a),l=new Float32Array(3*a),u=Xt(a,s.r,s.g,s.b),m=kn(a,this.radiusSize),d=0;if(this.showAxes){var y=function(D,L){D.toArray(o,2*d),L.toArray(o,2*d+3),D.toArray(f,d),L.toArray(l,d),d+=3};y(n.begA,n.endA),y(n.begB,n.endB),y(n.begC,n.endC)}if(this.showBox){var _=new P,h=n.getProjectedScaleForAtoms(i),g=h.d1a,E=h.d2a,w=h.d3a,v=h.d1b,x=h.d2b,b=h.d3b,A=2*d,M=function(D,L,C){_.copy(n.center).addScaledVector(n.normVecA,D).addScaledVector(n.normVecB,L).addScaledVector(n.normVecC,C),_.toArray(o,A),A+=3};M(g,E,w),M(g,E,b),M(g,x,b),M(g,x,w),M(v,x,b),M(v,x,w),M(v,E,w),M(v,E,b);var G=d,T=function(D,L){_.fromArray(o,2*d+3*D).toArray(f,G),_.fromArray(o,2*d+3*L).toArray(l,G),G+=3};T(0,1),T(0,3),T(0,6),T(1,2),T(1,7),T(2,3),T(2,4),T(3,5),T(4,5),T(4,7),T(5,6),T(6,7)}var N=new qT(n);return{vertex:{position:o,color:c,radius:p,picking:N},edge:{position1:f,position2:l,color:u,color2:u,radius:m,picking:N}}},t.prototype.create=function(){var i=this.getAxesData(this.structureView);this.sphereBuffer=new ha(i.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new Ir(i.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})},t.prototype.createData=function(i){},t.prototype.updateData=function(i,n){var s=this.getAxesData(n.sview),r={},a={};i&&!i.position||(Object.assign(r,{position:s.vertex.position}),Object.assign(a,{position1:s.edge.position1,position2:s.edge.position2})),i&&!i.color||(Object.assign(r,{color:s.vertex.color}),Object.assign(a,{color:s.edge.color,color2:s.edge.color})),i&&!i.radius||(Object.assign(r,{radius:s.vertex.radius}),Object.assign(a,{radius:s.edge.radius})),this.sphereBuffer.setAttributes(r),this.cylinderBuffer.setAttributes(a)},t}(Ji);li.add("axes",IL);var c1=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="ball+stick",this.parameters=Object.assign({sphereDetail:!0,radialSegments:!0,openEnded:!0,disableImpostor:!0,aspectRatio:{type:"number",precision:1,max:10,min:1},lineOnly:{type:"boolean",rebuild:!0},cylinderOnly:{type:"boolean",rebuild:!0},multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondScale:{type:"number",precision:2,max:1,min:.01},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.radiusType=R(n.radiusType,"size"),n.radiusSize=R(n.radiusSize,.15),n.useInteriorColor=R(n.useInteriorColor,!0),this.aspectRatio=R(n.aspectRatio,2),this.lineOnly=R(n.lineOnly,!1),this.cylinderOnly=R(n.cylinderOnly,!1),this.multipleBond=R(n.multipleBond,"off"),this.bondSpacing=R(n.bondSpacing,1),this.bondScale=R(n.bondScale,.4),this.linewidth=R(n.linewidth,2),e.prototype.init.call(this,n)},t.prototype.getAtomRadius=function(i){return this.aspectRatio*e.prototype.getAtomRadius.call(this,i)},t.prototype.getAtomParams=function(i,n){var s=e.prototype.getAtomParams.call(this,i,n);return s.radiusParams.scale*=this.aspectRatio,s},t.prototype.getAtomData=function(i,n,s){return i.getAtomData(this.getAtomParams(n,s))},t.prototype.getBondParams=function(i,n){return n=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,bondScale:this.bondScale},n),e.prototype.getBondParams.call(this,i,n)},t.prototype.getBondData=function(i,n,s){return i.getBondData(this.getBondParams(n,s))},t.prototype.createData=function(i){var n=[];if(this.lineOnly)this.lineBuffer=new Cr(this.getBondData(i,{position:!0,color:!0,picking:!0}),this.getBufferParams({linewidth:this.linewidth})),n.push(this.lineBuffer);else{var s=new Ir(this.getBondData(i),this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}));if(n.push(s),!this.cylinderOnly){var r=new ha(this.getAtomData(i),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));n.push(r)}}return{bufferList:n}},t.prototype.updateData=function(i,n){this.multipleBond!=="off"&&i&&i.radius&&(i.position=!0);var s=this.getBondData(n.sview,i);if(this.lineOnly){var r={};i&&!i.position||Object.assign(r,{position1:s.position1,position2:s.position2}),i&&!i.color||Object.assign(r,{color:s.color,color2:s.color2}),n.bufferList[0].setAttributes(r)}else{var a={};if(i&&!i.position||Object.assign(a,{position1:s.position1,position2:s.position2}),i&&!i.color||Object.assign(a,{color:s.color,color2:s.color2}),i&&!i.radius||Object.assign(a,{radius:s.radius}),n.bufferList[0].setAttributes(a),!this.cylinderOnly){var o=this.getAtomData(n.sview,i),c={};i&&!i.position||Object.assign(c,{position:o.position}),i&&!i.color||Object.assign(c,{color:o.color}),i&&!i.radius||Object.assign(c,{radius:o.radius}),n.bufferList[1].setAttributes(c)}}},t.prototype.setParameters=function(i){i===void 0&&(i={});var n=!1,s={};return(i.aspectRatio||i.bondSpacing||i.bondScale)&&(Object.assign(s,{radius:!0}),qs&&!this.disableImpostor||(n=!0)),e.prototype.setParameters.call(this,i,s,n),this},t}(Ji);li.add("ball+stick",c1);var LL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="backbone",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.aspectRatio=R(n.aspectRatio,1),n.radiusSize=R(n.radiusSize,.25),e.prototype.init.call(this,n)},t.prototype.getAtomRadius=function(i){return i.isTrace()?e.prototype.getAtomRadius.call(this,i):0},t.prototype.getAtomData=function(i,n,s){return i.getBackboneAtomData(this.getAtomParams(n,s))},t.prototype.getBondData=function(i,n,s){return i.getBackboneBondData(this.getBondParams(n,s))},t}(c1);li.add("backbone",LL);var FL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="base",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.aspectRatio=R(n.aspectRatio,1),n.radiusSize=R(n.radiusSize,.3),e.prototype.init.call(this,n)},t.prototype.getAtomData=function(i,n,s){return i.getRungAtomData(this.getAtomParams(n,s))},t.prototype.getBondData=function(i,n,s){var r=this.getBondParams(n,s);return Object.assign(r.colorParams,{rung:!0}),i.getRungBondData(r)},t}(c1);li.add("base",FL);var qi=function(e,t){this.m=e,this.tension=t,this.dt=1/this.m,this.delta=1e-4,this.vec1=new P,this.vec2=new P,this.vDir=new P,this.vTan=new P,this.vNorm=new P,this.vBin=new P,this.m2=Math.ceil(this.m/2)};qi.prototype.interpolateToArr=function(e,t,i,n,s,r,a){r[a+0]=ur(e.x,t.x,i.x,n.x,s,this.tension),r[a+1]=ur(e.y,t.y,i.y,n.y,s,this.tension),r[a+2]=ur(e.z,t.z,i.z,n.z,s,this.tension)},qi.prototype.interpolateToVec=function(e,t,i,n,s,r){r.x=ur(e.x,t.x,i.x,n.x,s,this.tension),r.y=ur(e.y,t.y,i.y,n.y,s,this.tension),r.z=ur(e.z,t.z,i.z,n.z,s,this.tension)},qi.prototype.interpolatePosition=function(e,t,i,n,s,r){for(var a=0;a<this.m;++a){var o=r+3*a,c=this.dt*a;this.interpolateToArr(e,t,i,n,c,s,o)}},qi.prototype.interpolateTangent=function(e,t,i,n,s,r){for(var a=0;a<this.m;++a){var o=this.dt*a,c=o-this.delta,p=o+this.delta,f=r+3*a;c<0&&(c=0),p>1&&(p=1),this.interpolateToVec(e,t,i,n,c,this.vec1),this.interpolateToVec(e,t,i,n,p,this.vec2),this.vec2.sub(this.vec1).normalize(),this.vec2.toArray(s,f)}},qi.prototype.vectorSubdivide=function(e,t,i,n,s){for(var r,a=t.next(),o=t.next(),c=t.next(),p=t.size,f=p-1,l=n||0,u=0;u<f;++u)r=a,a=o,o=c,c=t.next(),e.apply(this,[r,a,o,c,i,l]),l+=3*this.m;s&&(r=t.get(p-2),a=t.get(p-1),o=t.get(0),c=t.get(1),e.apply(this,[r,a,o,c,i,l]),l+=3*this.m)},qi.prototype.getPosition=function(e,t,i,n){e.reset(),this.vectorSubdivide(this.interpolatePosition,e,t,i,n);var s=e.size-1,r=s*this.m*3;n&&(r+=3*this.m);var a=e.get(n?0:s);t[r]=a.x,t[r+1]=a.y,t[r+2]=a.z},qi.prototype.getTangent=function(e,t,i,n){e.reset(),this.vectorSubdivide(this.interpolateTangent,e,t,i,n);var s=(e.size-1)*this.m*3;n&&(s+=3*this.m),Fi(t,t,s-3,s,3)},qi.prototype.interpolateNormalDir=function(e,t,i,n,s,r,a,o,c,p,f,l,u){for(var m=0;m<this.m;++m){var d=l+3*m;u&&(d+=3*this.m2);var y=this.dt*m;this.interpolateToVec(e,t,i,n,y,this.vec1),this.interpolateToVec(s,r,a,o,y,this.vec2),this.vDir.subVectors(this.vec2,this.vec1).normalize(),this.vTan.fromArray(c,d),this.vBin.crossVectors(this.vDir,this.vTan).normalize(),this.vBin.toArray(f,d),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(p,d)}},qi.prototype.interpolateNormal=function(e,t,i,n,s){for(var r=0;r<this.m;++r){var a=s+3*r;e.copy(this.vNorm),this.vTan.fromArray(t,a),this.vBin.crossVectors(e,this.vTan).normalize(),this.vBin.toArray(n,a),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(i,a)}},qi.prototype.getNormal=function(e,t,i,n,s,r){this.vNorm.set(0,0,1);for(var a=e-1,o=s||0,c=0;c<a;++c)this.interpolateNormal(this.vDir,t,i,n,o),o+=3*this.m;r&&(this.interpolateNormal(this.vDir,t,i,n,o),o+=3*this.m),this.vBin.toArray(n,o),this.vNorm.toArray(i,o)},qi.prototype.getNormalDir=function(e,t,i,n,s,r,a,o){e.reset(),t.reset();var c=new P,p=new P,f=new P,l=new P,u=new P,m=new P().copy(e.next()),d=new P().copy(e.next()),y=new P().copy(e.next()),_=new P,h=new P().copy(t.next()),g=new P().copy(t.next()),E=new P().copy(t.next());this.vNorm.set(0,0,1);for(var w=e.size,v=w-1,x=r||0,b=0;b<v;++b)u.copy(m),m.copy(d),d.copy(y),y.copy(e.next()),_.copy(h),h.copy(g),g.copy(E),E.copy(t.next()),b===0?(c.subVectors(_,u),p.subVectors(h,m),c.dot(p)<0&&(p.multiplyScalar(-1),h.addVectors(m,p)),f.subVectors(g,d),p.dot(f)<0&&(f.multiplyScalar(-1),g.addVectors(d,f))):f.copy(l),l.subVectors(E,y),f.dot(l)<0&&(l.multiplyScalar(-1),E.addVectors(y,l)),this.interpolateNormalDir(u,m,d,y,_,h,g,E,i,n,s,x,o),x+=3*this.m;if(a&&(u.copy(e.get(w-2)),m.copy(e.get(w-1)),d.copy(e.get(0)),y.copy(e.get(1)),_.copy(t.get(w-2)),h.copy(t.get(w-1)),g.copy(t.get(0)),E.copy(t.get(1)),f.copy(l),l.subVectors(E,y),f.dot(l)<0&&(l.multiplyScalar(-1),E.addVectors(y,l)),this.interpolateNormalDir(u,m,d,y,_,h,g,E,i,n,s,x,o),x+=3*this.m),o){this.vBin.fromArray(s,3*this.m2),this.vNorm.fromArray(n,3*this.m2);for(var A=0;A<this.m2;++A)this.vBin.toArray(s,3*A),this.vNorm.toArray(n,3*A)}else this.vBin.toArray(s,x),this.vNorm.toArray(n,x)},qi.prototype.interpolateColor=function(e,t,i,n,s){var r,a;for(r=0;r<this.m2;++r)a=s+3*r,i.apply(this,[e,n,a]);for(r=this.m2;r<this.m;++r)a=s+3*r,i.apply(this,[t,n,a])},qi.prototype.getColor=function(e,t,i,n,s){var r;e.reset(),e.next();for(var a=e.next(),o=e.size,c=o-1,p=n||0,f=0;f<c;++f)r=a,a=e.next(),this.interpolateColor(r,a,t,i,p),p+=3*this.m;s&&(r=e.get(o-1),a=e.get(0),this.interpolateColor(r,a,t,i,p),p+=3*this.m),i[p]=i[p-3],i[p+1]=i[p-2],i[p+2]=i[p-1]},qi.prototype.interpolatePicking=function(e,t,i,n,s){var r;for(r=0;r<this.m2;++r)n[s+r]=i.apply(this,[e]);for(r=this.m2;r<this.m;++r)n[s+r]=i.apply(this,[t])},qi.prototype.getPicking=function(e,t,i,n,s){var r;e.reset(),e.next();for(var a=e.next(),o=e.size,c=o-1,p=n||0,f=0;f<c;++f)r=a,a=e.next(),this.interpolatePicking(r,a,t,i,p),p+=this.m;s&&(r=e.get(o-1),a=e.get(0),this.interpolatePicking(r,a,t,i,p),p+=this.m),i[p]=i[p-1]},qi.prototype.interpolateSize=function(e,t,i,n,s){for(var r=i.apply(this,[e]),a=i.apply(this,[t]),o=0;o<this.m;++o){var c=o/this.m;n[s+o]=(1-c)*r+c*a}},qi.prototype.getSize=function(e,t,i,n,s){var r;e.reset(),e.next();for(var a=e.next(),o=e.size,c=o-1,p=n||0,f=0;f<c;++f)r=a,a=e.next(),this.interpolateSize(r,a,t,i,p),p+=this.m;s&&(r=e.get(o-1),a=e.get(0),this.interpolateSize(r,a,t,i,p),p+=this.m),i[p]=i[p-1]};var ln=function(e,t){this.polymer=e,this.size=e.residueCount;var i=t||{};this.directional=i.directional||!1,this.positionIterator=i.positionIterator||!1,this.subdiv=i.subdiv||1,this.smoothSheet=i.smoothSheet||!1,i.tension?this.tension=i.tension:this.tension=this.polymer.isNucleic()?.5:.9,this.interpolator=new qi(this.subdiv,this.tension)};ln.prototype.getAtomIterator=function(e,t){var i=this.polymer,n=i.structure,s=i.residueCount,r=0,a=-1,o=[n.getAtomProxy(),n.getAtomProxy(),n.getAtomProxy(),n.getAtomProxy()],c=[new P,new P,new P,new P],p=n.getAtomProxy(),f=n.getAtomProxy();function l(u){var m=o[r%4];if(m.index=i.getAtomIndexByType(u,e),t&&u>0&&u<s&&m.sstruc==="e"){var d=c[r%4];return p.index=i.getAtomIndexByType(u+1,e),f.index=i.getAtomIndexByType(u-1,e),d.addVectors(p,f).add(m).add(m).multiplyScalar(.25),r+=1,d}return r+=1,m}return{size:s,next:function(){var u=l(a);return a+=1,u},get:l,reset:function(){r=0,a=-1}}},ln.prototype.getSubdividedColor=function(e){var t=this.subdiv,i=this.polymer,n=(i.residueCount-1)*t*3+3;i.isCyclic&&(n+=3*t);var s=new Float32Array(n),r=this.getAtomIterator("trace"),a=e||{};a.structure=i.structure;var o=It.getScheme(a);return this.interpolator.getColor(r,function(c,p,f){o.atomColorToArray(c,p,f)},s,0,i.isCyclic),{color:s}},ln.prototype.getSubdividedPicking=function(){var e=this.subdiv,t=this.polymer,i=(t.residueCount-1)*e+1;t.isCyclic&&(i+=e);var n=t.structure,s=this.getAtomIterator("trace"),r=new Float32Array(i);return this.interpolator.getPicking(s,function(a){return a.index},r,0,t.isCyclic),{picking:new so(r,n)}},ln.prototype.getSubdividedPosition=function(){return{position:this.getPosition()}},ln.prototype.getSubdividedOrientation=function(){var e=this.getTangent(),t=this.getNormals(e);return{tangent:e,normal:t.normal,binormal:t.binormal}},ln.prototype.getSubdividedSize=function(e){var t=this.subdiv,i=this.polymer,n=(i.residueCount-1)*t+1;i.isCyclic&&(n+=t);var s=new Float32Array(n),r=this.getAtomIterator("trace"),a=new Ys(e);return this.interpolator.getSize(r,function(o){return a.atomRadius(o)},s,0,i.isCyclic),{size:s}},ln.prototype.getPosition=function(){var e=this.subdiv,t=this.polymer,i=(t.residueCount-1)*e*3+3;t.isCyclic&&(i+=3*e);var n=new Float32Array(i),s=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getPosition(s,n,0,t.isCyclic),n},ln.prototype.getTangent=function(){var e=this.subdiv,t=this.polymer,i=(this.size-1)*e*3+3;t.isCyclic&&(i+=3*e);var n=new Float32Array(i),s=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getTangent(s,n,0,t.isCyclic),n},ln.prototype.getNormals=function(e){var t=this.subdiv,i=this.polymer,n=i.isProtein(),s=this.size,r=(s-1)*t*3+3;i.isCyclic&&(r+=3*t);var a=new Float32Array(r),o=new Float32Array(r);if(this.directional&&!this.polymer.isCg()){var c=this.getAtomIterator("direction1"),p=this.getAtomIterator("direction2");this.interpolator.getNormalDir(c,p,e,a,o,0,i.isCyclic,n)}else this.interpolator.getNormal(s,e,a,o,0,i.isCyclic);return{normal:a,binormal:o}};var sw=new P,tl=new P,RL=Object.assign({radialSegments:4,capped:!1,aspectRatio:1},gn),NL=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,function(r,a){a===void 0&&(a={});var o=R(a.radialSegments,4),c=R(a.capped,!1),p=c?o:0,f=c?o-2:0,l=r.position.length/3,u=l*o*3+2*p*3,m=2*(l-1)*o*3+2*f*3;return{position:new Float32Array(u),color:new Float32Array(u),index:Ks(m,u/3),normal:new Float32Array(u),picking:r.picking}}(n,s),s),this.capVertices=this.parameters.capped?this.parameters.radialSegments:0,this.capTriangles=this.parameters.capped?this.parameters.radialSegments-2:0,this.size2=n.position.length/3,n.primitiveId=Vc(this.size2),this.setAttributes(n),this.makeIndex()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return RL},t.prototype.setAttributes=function(n){n===void 0&&(n={});var s,r,a,o,c,p,f,l,u,m,d,y,_,h=this.parameters.aspectRatio,g=this.size2,E=g-1,w=this.parameters.radialSegments,v=this.geometry.attributes;n.position&&(s=n.position,r=n.normal,a=n.binormal,o=n.tangent,p=n.size,l=v.position.array,m=v.normal.array,v.position.needsUpdate=!0,v.normal.needsUpdate=!0),n.color&&(c=n.color,u=v.color.array,v.color.needsUpdate=!0),n.primitiveId&&(f=n.primitiveId,d=v.primitiveId.array,v.primitiveId.needsUpdate=!0);var x=0,b=0,A=0,M=0,G=0,T=0,N=0,D=0,L=0,C=0,O=[],q=[],z=[],$=[],re=[],K=[];if(s)for(var J=0;J<w;++J){var Y=J/w*2*Math.PI;O[J]=h*Math.cos(Y),q[J]=Math.sin(Y),z[J]=h*Math.cos(Y-.01),$[J]=Math.sin(Y-.01),re[J]=h*Math.cos(Y+.01),K[J]=Math.sin(Y+.01)}for(var le=0;le<g;++le){_=(y=3*le)*w,s&&o&&r&&a&&p&&(sw.set(o[y],o[y+1],o[y+2]),b=r[y],A=r[y+1],M=r[y+2],G=a[y],T=a[y+1],N=a[y+2],D=s[y],L=s[y+1],C=s[y+2],x=p[le]);for(var fe=0;fe<w;++fe){var X=_+3*fe;if(s){var ae=-x*O[fe],ne=x*q[fe],pe=-x*z[fe],U=x*$[fe],W=-x*re[fe],Z=x*K[fe];l[X]=D+ae*b+ne*G,l[X+1]=L+ae*A+ne*T,l[X+2]=C+ae*M+ne*N,tl.set(W*b+Z*G-(pe*b+U*G),W*A+Z*T-(pe*A+U*T),W*M+Z*N-(pe*M+U*N)).cross(sw),m[X]=tl.x,m[X+1]=tl.y,m[X+2]=tl.z}c&&(u[X]=c[y],u[X+1]=c[y+1],u[X+2]=c[y+2]),f&&(d[le*w+fe]=f[le])}}y=0,_=3*g*w;for(var ie=0;ie<w;++ie){var ue=y+3*ie,he=_+3*ie;s&&o&&(l[he]=l[ue],l[he+1]=l[ue+1],l[he+2]=l[ue+2],m[he]=o[y],m[he+1]=o[y+1],m[he+2]=o[y+2]),c&&(u[he]=u[ue],u[he+1]=u[ue+1],u[he+2]=u[ue+2]),f&&(d[g*w+ie]=d[0+ie])}y=3*(g-1)*w,_=3*(g+1)*w;for(var ge=0;ge<w;++ge){var k=y+3*ge,H=_+3*ge;s&&o&&(l[H]=l[k],l[H+1]=l[k+1],l[H+2]=l[k+2],m[H]=o[3*E],m[H+1]=o[3*E+1],m[H+2]=o[3*E+2]),c&&(u[H]=u[k],u[H+1]=u[k+1],u[H+2]=u[k+2]),f&&(d[(g+1)*w+ge]=d[(g-1)*w+ge])}},t.prototype.makeIndex=function(){var n=this.geometry.getIndex();if(n){for(var s,r,a=n.array,o=this.size2,c=o-1,p=this.capTriangles,f=this.parameters.radialSegments,l=this.parameters.radialSegments+1,u=0;u<c;++u)for(var m=u*f*3*2,d=u*f,y=(u+1)*f,_=0;_<f;++_)a[r=m+3*_*2]=d+_,a[r+1]=d+(_+1)%f,a[r+2]=y+_,a[r+3]=y+_,a[r+4]=d+(_+1)%f,a[r+5]=y+(_+1)%f;for(var h=[0],g=1;g<l/2;++g)h.push(g),f-g!==g&&h.push(f-g);r=c*f*3*2,s=o*f;for(var E=0;E<h.length-2;++E)E%2==0?(a[r+3*E+0]=s+h[E+0],a[r+3*E+1]=s+h[E+1],a[r+3*E+2]=s+h[E+2]):(a[r+3*E+0]=s+h[E+2],a[r+3*E+1]=s+h[E+1],a[r+3*E+2]=s+h[E+0]);r=c*f*3*2+3*p,s=o*f+f;for(var w=0;w<h.length-2;++w)w%2==0?(a[r+3*w+0]=s+h[w+0],a[r+3*w+1]=s+h[w+1],a[r+3*w+2]=s+h[w+2]):(a[r+3*w+0]=s+h[w+2],a[r+3*w+1]=s+h[w+1],a[r+3*w+2]=s+h[w+0])}else de.error("Index is null")},Object.defineProperties(t.prototype,i),t}(Ar),n3=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="cartoon",this.parameters=Object.assign({aspectRatio:{type:"number",precision:1,max:10,min:1,rebuild:!0},subdiv:{type:"integer",max:50,min:1,rebuild:!0},radialSegments:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},capped:{type:"boolean",rebuild:!0},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"chainname"),n.colorScale=R(n.colorScale,"RdYlBu"),n.radiusType=R(n.radiusType,"sstruc"),n.radiusScale=R(n.radiusScale,.7),n.useInteriorColor=R(n.useInteriorColor,!0),this.aspectRatio=R(n.aspectRatio,5),this.tension=R(n.tension,NaN),this.capped=R(n.capped,!0),this.smoothSheet=R(n.smoothSheet,!1),n.quality==="low"?(this.subdiv=3,this.radialSegments=6):n.quality==="medium"?this.subdiv=6:n.quality==="high"?this.subdiv=12:this.subdiv=R(n.subdiv,6),e.prototype.init.call(this,n)},t.prototype.getSplineParams=function(i){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:this.aspectRatio!==1,smoothSheet:this.smoothSheet},i)},t.prototype.getSpline=function(i){return new ln(i,this.getSplineParams())},t.prototype.getAspectRatio=function(i){return i.isCg()?1:this.aspectRatio},t.prototype.getAtomRadius=function(i){return i.isTrace()?e.prototype.getAtomRadius.call(this,i):0},t.prototype.createData=function(i){var n=this,s=[],r=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){r.push(a);var o=n.getSpline(a),c=n.getAspectRatio(a),p=o.getSubdividedPosition(),f=o.getSubdividedOrientation(),l=o.getSubdividedColor(n.getColorParams()),u=o.getSubdividedPicking(),m=o.getSubdividedSize(n.getRadiusParams());s.push(new NL(Object.assign({},p,f,l,u,m),n.getBufferParams({radialSegments:n.radialSegments,aspectRatio:c,capped:n.capped})))}},i.getSelection()),{bufferList:s,polymerList:r}},t.prototype.updateData=function(i,n){Ce&&de.time(this.type+" repr update"),i=i||{};for(var s=0,r=n.polymerList.length;s<r;++s){var a={},o=n.polymerList[s],c=this.getSpline(o),p=this.getAspectRatio(o);if(Object.assign(n.bufferList[s],{aspectRatio:p}),i.position||i.radius){var f=c.getSubdividedPosition(),l=c.getSubdividedOrientation(),u=c.getSubdividedSize(this.getRadiusParams(p));a.position=f.position,a.normal=l.normal,a.binormal=l.binormal,a.tangent=l.tangent,a.size=u.size}if(i.color){var m=c.getSubdividedColor(this.getColorParams());a.color=m.color}if(i.picking){var d=c.getSubdividedPicking();a.picking=d.picking}n.bufferList[s].setAttributes(a)}Ce&&de.timeEnd(this.type+" repr update")},t.prototype.setParameters=function(i){var n={};return i&&i.aspectRatio&&(n.radius=!0),i&&i.tension&&(n.position=!0),e.prototype.setParameters.call(this,i,n,!1),this},t}(Ji);li.add("cartoon",n3);var DL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="contact",this.parameters=Object.assign({hydrogenBond:{type:"boolean",rebuild:!0},weakHydrogenBond:{type:"boolean",rebuild:!0},waterHydrogenBond:{type:"boolean",rebuild:!0},backboneHydrogenBond:{type:"boolean",rebuild:!0},hydrophobic:{type:"boolean",rebuild:!0},halogenBond:{type:"boolean",rebuild:!0},ionicInteraction:{type:"boolean",rebuild:!0},metalCoordination:{type:"boolean",rebuild:!0},cationPi:{type:"boolean",rebuild:!0},piStacking:{type:"boolean",rebuild:!0},filterSele:{type:"text",rebuild:!0},labelVisible:{type:"boolean",rebuild:!0},labelFixedSize:{type:"boolean",buffer:"fixedSize"},labelSize:{type:"number",precision:3,max:10,min:.001,rebuild:!0},labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},maxHydrophobicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondSulfurDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondAccAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondDonAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondAccPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxHbondDonPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxPiStackingDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingAngle:{type:"integer",max:180,min:0,rebuild:!0},maxCationPiDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxCationPiOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxIonicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondAngle:{type:"integer",max:180,min:0,rebuild:!0},maxMetalDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},refineSaltBridges:{type:"boolean",rebuild:!0},masterModelIndex:{type:"integer",max:1e3,min:-1,rebuild:!0},lineOfSightDistFactor:{type:"number",precision:1,max:10,min:0,rebuild:!0},radialSegments:!0,disableImpostor:!0},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.radiusSize=R(n.radiusSize,.05),n.useInteriorColor=R(n.useInteriorColor,!0),this.hydrogenBond=R(n.hydrogenBond,!0),this.weakHydrogenBond=R(n.weakHydrogenBond,!1),this.waterHydrogenBond=R(n.waterHydrogenBond,!1),this.backboneHydrogenBond=R(n.backboneHydrogenBond,!1),this.hydrophobic=R(n.hydrophobic,!1),this.halogenBond=R(n.halogenBond,!0),this.ionicInteraction=R(n.ionicInteraction,!0),this.metalCoordination=R(n.metalCoordination,!0),this.cationPi=R(n.cationPi,!0),this.piStacking=R(n.piStacking,!0),this.filterSele=R(n.filterSele,""),this.labelVisible=R(n.labelVisible,!1),this.labelFixedSize=R(n.labelFixedSize,!1),this.labelSize=R(n.labelSize,2),this.labelUnit=R(n.labelUnit,""),this.maxHydrophobicDist=R(n.maxHydrophobicDist,4),this.maxHbondDist=R(n.maxHbondDist,3.5),this.maxHbondSulfurDist=R(n.maxHbondSulfurDist,4.1),this.maxHbondAccAngle=R(n.maxHbondAccAngle,45),this.maxHbondDonAngle=R(n.maxHbondDonAngle,45),this.maxHbondAccPlaneAngle=R(n.maxHbondAccPlaneAngle,90),this.maxHbondDonPlaneAngle=R(n.maxHbondDonPlaneAngle,30),this.maxPiStackingDist=R(n.maxPiStackingDist,5.5),this.maxPiStackingOffset=R(n.maxPiStackingOffset,2),this.maxPiStackingAngle=R(n.maxPiStackingAngle,30),this.maxCationPiDist=R(n.maxCationPiDist,6),this.maxCationPiOffset=R(n.maxCationPiOffset,2),this.maxIonicDist=R(n.maxIonicDist,5),this.maxHalogenBondDist=R(n.maxHalogenBondDist,3.5),this.maxHalogenBondAngle=R(n.maxHalogenBondAngle,30),this.maxMetalDist=R(n.maxMetalDist,3),this.refineSaltBridges=R(n.refineSaltBridges,!0),this.masterModelIndex=R(n.masterModelIndex,-1),this.lineOfSightDistFactor=R(n.lineOfSightDistFactor,1),e.prototype.init.call(this,n)},t.prototype.getAtomRadius=function(){return 0},t.prototype.getContactData=function(i){var n={maxHydrophobicDist:this.maxHydrophobicDist,maxHbondDist:this.maxHbondDist,maxHbondSulfurDist:this.maxHbondSulfurDist,maxHbondAccAngle:this.maxHbondAccAngle,maxHbondDonAngle:this.maxHbondDonAngle,maxHbondAccPlaneAngle:this.maxHbondAccPlaneAngle,maxHbondDonPlaneAngle:this.maxHbondDonPlaneAngle,maxPiStackingDist:this.maxPiStackingDist,maxPiStackingOffset:this.maxPiStackingOffset,maxPiStackingAngle:this.maxPiStackingAngle,maxCationPiDist:this.maxCationPiDist,maxCationPiOffset:this.maxCationPiOffset,maxIonicDist:this.maxIonicDist,maxHalogenBondDist:this.maxHalogenBondDist,maxHalogenBondAngle:this.maxHalogenBondAngle,maxMetalDist:this.maxMetalDist,refineSaltBridges:this.refineSaltBridges,masterModelIndex:this.masterModelIndex,lineOfSightDistFactor:this.lineOfSightDistFactor},s={hydrogenBond:this.hydrogenBond,weakHydrogenBond:this.weakHydrogenBond,waterHydrogenBond:this.waterHydrogenBond,backboneHydrogenBond:this.backboneHydrogenBond,hydrophobic:this.hydrophobic,halogenBond:this.halogenBond,ionicInteraction:this.ionicInteraction,metalCoordination:this.metalCoordination,cationPi:this.cationPi,piStacking:this.piStacking,radius:this.radiusSize*this.radiusScale,filterSele:this.filterSele};return kT(DT(i,n),i,s)},t.prototype.createData=function(i){var n=this.getContactData(i),s=[new Ir(pT(n),this.getBufferParams({sphereDetail:1,dullInterior:!0,disableImpostor:this.disableImpostor}))];if(this.labelVisible){var r={size:this.labelSize,unit:this.labelUnit};s.push(new Hc(function(a,o){for(var c=zs(a.position1,a.position2),p=[],f=Xu(a.position1,a.position2),l=f.length/3,u=0;u<l;u++){var m=3*u,d=Math.sqrt(Math.pow(f[m],2)+Math.pow(f[m+1],2)+Math.pow(f[m+2],2));switch(o.unit){case"angstrom":p[u]=d.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":p[u]=(d/10).toFixed(2)+" nm";break;default:p[u]=d.toFixed(2)}}return{position:c,size:kn(c.length/3,o.size),color:a.color,text:p}}(n,r),this.getBufferParams({fixedSize:this.labelFixedSize})))}return{bufferList:s}},t}(Ji);li.add("contact",DL);var GL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="dihedral",this.parameters=Object.assign({atomQuad:{type:"hidden",rebuild:!0},extendLine:{type:"boolean",rebuild:!0,default:!0},lineVisible:{type:"boolean",default:!0},planeVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.side=R(n.side,"double"),n.opacity=R(n.opacity,.5),this.atomQuad=R(n.atomQuad,[]),this.extendLine=R(n.extendLine,!0),this.lineVisible=R(n.lineVisible,!0),this.planeVisible=R(n.planeVisible,!0),this.sectorVisible=R(n.sectorVisible,!0),e.prototype.init.call(this,n)},t.prototype.createData=function(i){if(i.atomCount&&this.atomQuad.length){var n=function(c,p){p===void 0&&(p={});for(var f=R(p.angleStep,Math.PI/90),l=c.length,u=c.length/12,m=new Float32Array(u),d=new Float32Array(3*u),y=new Array(u),_=new Array(u),h=new Array(u),g=new Array(u),E=new Array(u),w=0,v=0,x=0,b=yt(),A=yt(),M=yt(),G=yt(),T=yt(),N=yt(),D=yt(),L=yt(),C=yt(),O=yt(),q=yt(),z=yt(),$=yt(),re=yt(),K=yt(),J=0,Y=function(H){if(mn(b,c,H),mn(A,c,H+3),mn(M,c,H+6),mn(G,c,H+9),hi(T,b,A),hi(N,M,A),sa(N)!==0){hi(D,G,M),ei(L,N,.5),us(C,A,L),yi(T,T),yi(N,N),yi(D,D),hi(L,b,C);var me=bn(L,N)>0;hi(L,G,C);var oe=bn(L,N)<0;if(ei(L,N,bn(N,T)),hi(O,T,L),ei(L,N,bn(N,D)),hi(q,D,L),sa(O)!==0&&sa(q)!==0){yi(O,O),yi(q,q);var te=m[J]=function(tt,Xe){var mt=tt[0],ht=tt[1],ot=tt[2],je=Xe[0],St=Xe[1],Ze=Xe[2],ze=ht*Ze-ot*St,Mt=ot*je-mt*Ze,Ge=mt*St-ht*je,qe=Math.sqrt(ze*ze+Mt*Mt+Ge*Ge),Qe=mt*je+ht*St+ot*Ze;return Math.atan2(qe,Qe)}(O,q);y[J]=(G4*te).toFixed(1)+String.fromCharCode(176),An(re,O,N),yi(re,re),bn(re,q)<0&&e1(re,re),ps(L,C,O,re,te/2),xt(L,d,3*J);var se=Math.ceil(te/f),we=se+(p.extendLine?4:2),Me=p.extendLine?36:0,_e=new Float32Array(3*we),Se=new Float32Array(3*we),Ee=new Float32Array(9*se),Re=new Float32Array(Me);_[J]=_e,h[J]=Se,g[J]=Ee,E[J]=Re,p.extendLine&&(me?(hi(L,b,M),yi(L,L),ei(z,L,1/bn(O,L)),us(z,z,M)):(ei(z,T,1/bn(O,T)),us(z,z,A)),oe?(hi(L,G,A),yi(L,L),ei($,L,1/bn(q,L)),us($,$,A)):(ei($,D,1/bn(q,D)),us($,$,M))),us(K,C,O);var Pe=0;p.extendLine?(xt(b,_e,Pe),xt(z,Se,Pe),xt(z,_e,Pe+=3),xt(K,Se,Pe),Pe+=3,xt(z,Re,0),xt(K,Re,3),xt(me?M:A,Re,6),xt(me?M:A,Re,9),xt(K,Re,12),xt(C,Re,15)):(xt(C,_e,Pe),xt(K,Se,Pe),Pe+=3);for(var Ae=function(tt,Xe){var mt=9*Xe;xt(C,Ee,mt),xt(K,Ee,mt+3),xt(K,_e,Pe),ps(K,C,O,re,tt),xt(K,Ee,mt+6),xt(K,Se,Pe),Pe+=3},Ve=0,rt=f;rt<te;rt+=f)Ae(rt,Ve++);Ae(te,Ve++),p.extendLine?(xt(K,_e,3*(we-2)),xt($,Se,3*(we-2)),xt($,_e,3*(we-1)),xt(G,Se,3*(we-1)),xt($,Re,18),xt(K,Re,21),xt(oe?A:M,Re,24),xt(oe?A:M,Re,27),xt(K,Re,30),xt(C,Re,33)):(xt(K,_e,Pe),xt(C,Se,Pe),Pe+=3),w+=3*we,v+=9*se,x+=Me,J+=1}}},le=0;le<l;le+=12)Y(le);for(var fe=J,X=new Float32Array(w),ae=new Float32Array(w),ne=new Float32Array(v),pe=new Float32Array(x),U=0,W=0,Z=0,ie=0;ie<fe;ie++){var ue=_[ie],he=h[ie],ge=g[ie],k=E[ie];Fi(ue,X,0,U,ue.length),Fi(he,ae,0,U,he.length),Fi(ge,ne,0,W,ge.length),Fi(k,pe,0,Z,k.length),U+=ue.length,W+=ge.length,Z+=k.length}return{labelPosition:d.subarray(0,3*fe),labelText:y.slice(0,fe),linePosition1:X,linePosition2:ae,planePosition:pe,sectorPosition:ne}}(t3(i,this.atomQuad),{extendLine:this.extendLine}),s=this.n=n.labelText.length,r=new Oe(this.labelColor);this.textBuffer=new Hc({position:n.labelPosition,size:kn(s,this.labelSize),color:Xt(s,r.r,r.g,r.b),text:n.labelText},this.getLabelBufferParams());var a=new Oe(this.colorValue);this.lineLength=n.linePosition1.length/3;var o=Xt(this.lineLength,a.r,a.g,a.b);return this.lineBuffer=new Cr(Vh({position1:n.linePosition1,position2:n.linePosition2,color:o,color2:o}),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.planeLength=n.planePosition.length/3,this.planeBuffer=new Ar({position:n.planePosition,color:Xt(this.planeLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.planeVisible})),this.sectorLength=n.sectorPosition.length/3,this.sectorBuffer=new Ar({position:n.sectorPosition,color:Xt(this.sectorLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.lineBuffer,this.planeBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(i,n){e.prototype.updateData.call(this,i,n);var s={},r={},a={};if(i.color){var o=new Oe(this.colorValue);Object.assign(s,{color:Xt(this.lineLength,o.r,o.g,o.b),color2:Xt(this.lineLength,o.r,o.g,o.b)}),Object.assign(r,{color:Xt(this.planeLength,o.r,o.g,o.b)}),Object.assign(a,{color:Xt(this.sectorLength,o.r,o.g,o.b)})}this.lineBuffer.setAttributes(s),this.planeBuffer.setAttributes(r),this.sectorBuffer.setAttributes(a)},t.prototype.setParameters=function(i){return e.prototype.setParameters.call(this,i,{},!1),!i||i.lineVisible===void 0&&i.sectorVisible===void 0&&i.planeVisible===void 0||this.setVisibility(this.visible),i&&i.lineOpacity&&this.lineBuffer.setParameters({opacity:i.lineOpacity}),i&&i.opacity!==void 0&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),i&&i.linewidth&&this.lineBuffer.setParameters({linewidth:i.linewidth}),this},t.prototype.setVisibility=function(i,n){return e.prototype.setVisibility.call(this,i,!0),this.lineBuffer&&this.lineBuffer.setVisibility(this.lineVisible&&this.visible),this.planeBuffer&&this.planeBuffer.setVisibility(this.planeVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),n||this.viewer.requestRender(),this},t}(e3);li.add("dihedral",GL);function Hm(e,t){function i(r,a){return a in r}var n=Object.assign({},e);for(var s in n)i(n,s)&&i(t,s)&&(n[s]=R(t[s],n[s]));return n}function rs(e,t){var i=new Oe(e),n=new Float32Array(3*t);return Xt(t,i.r,i.g,i.b,n),n}var OL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="dihedral-histogram",this.parameters=Object.assign({histogramsData:{type:"hidden",rebuild:!0},histogramBinBorderVisible:{type:"boolean",default:!0},scaleBinToSectorArea:{type:"boolean",rebuild:!0,default:!1}},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{},s=Hm({histogramBinBorderColor:"grey",adjacentBondArrowColor:"black",distantBondArrowColor:"magenta",frontHistogramColor:"green",backHistogramColor:"blue",opaqueMiddleDiscColor:"white"},n);Object.assign(this,s);var r=Hm({histogramsData:[],histogramOpacity:1,opaqueMiddleDiscVisible:!0,opaqueMiddleDiscOpacity:1,histogramBinBorderVisible:!0,histogramBinBorderWidth:1,histogramBinBorderOpacity:.5,bondArrowVisible:!0,bondArrowWidth:2,bondArrowOpacity:1,scaleBinToSectorArea:!1},n);Object.assign(this,r),this.histogramsData.forEach(function(a){var o=Hm(s,a);Object.assign(a,o)}),n.side=R(n.side,"double"),n.opacity=R(n.opacity,.5),n.radiusType=R(n.radiusType,"size"),n.radiusSize=R(n.radiusSize,.15),e.prototype.init.call(this,n)},t.prototype.getHistogramBinBorderBufferParameters=function(){return this.getBufferParams({linewidth:this.histogramBinBorderWidth,visible:this.histogramBinBorderVisible,opacity:this.histogramBinBorderOpacity})},t.prototype.getBondArrowsBufferParameters=function(){return this.getBufferParams({linewidth:this.bondArrowWidth,visible:this.bondArrowVisible,opacity:this.bondArrowOpacity})},t.prototype.getOpaqueMiddleDiscBufferParameters=function(){return this.getBufferParams({visible:this.opaqueMiddleDiscVisible,opacity:this.opaqueMiddleDiscOpacity})},t.prototype.getHistogramBufferParameters=function(){return this.getBufferParams({visible:!0,opacity:this.histogramOpacity,side:"double"})},t.prototype.createData=function(i){if(i.atomCount&&this.histogramsData.length){this.histogramsData.forEach(function(l){return l.atomPositions=t3(i,[l.atomQuad])});var n=this.scaleBinToSectorArea?function(l){return Math.sqrt(l)}:function(l){return l};this.histogramsData.forEach(function(l){return l.histogram360Scaled=l.histogram360.map(n)});for(var s=[],r=0;r<this.histogramsData.length;r++){var a=void 0,o=this.histogramsData[r];o.histogram360.length>=3&&(a=kL(o)),a!==void 0&&s.push(a)}return this.frontHistogramBinBordersBuffer=p(s.map(function(l){return l.frontHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.backHistogramBinBordersBuffer=p(s.map(function(l){return l.backHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.adjacentBondArrowsBuffer=p(s.map(function(l){return l.adjacentBondArrows}),this.getBondArrowsBufferParameters()),this.distantBondArrowsBuffer=p(s.map(function(l){return l.distantBondArrows}),this.getBondArrowsBufferParameters()),this.opaqueMiddleDiscBuffer=f(s.map(function(l){return l.opaqueMiddleDisc}),this.getOpaqueMiddleDiscBufferParameters()),this.frontHistogramBuffer=f(s.map(function(l){return l.frontHistogram}),this.getHistogramBufferParameters()),this.backHistogramBuffer=f(s.map(function(l){return l.backHistogram}),this.getHistogramBufferParameters()),{bufferList:[].concat(this.frontHistogramBinBordersBuffer,this.backHistogramBinBordersBuffer,this.adjacentBondArrowsBuffer,this.distantBondArrowsBuffer,this.opaqueMiddleDiscBuffer,this.frontHistogramBuffer,this.backHistogramBuffer)}}function c(l){for(var u=l.map(function(_){return _.length}),m=new Float32Array(z_(u)),d=0,y=0;y<l.length;y++)m.set(l[y],d),d+=l[y].length;return m}function p(l,u){return new Cr({position1:c(l.map(function(m){return m.startPoints})),position2:c(l.map(function(m){return m.endPoints})),color:c(l.map(function(m){return m.startColors})),color2:c(l.map(function(m){return m.endColors}))},u)}function f(l,u){return new Ar({position:c(l.map(function(m){return m.triangles})),color:c(l.map(function(m){return m.triangleColors}))},u)}},t.prototype.setParameters=function(i){return e.prototype.setParameters.call(this,i,{},!1),i&&i.histogramBinBorderVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(i,n){return e.prototype.setVisibility.call(this,i,!0),this.frontHistogramBinBordersBuffer&&this.frontHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),this.backHistogramBinBordersBuffer&&this.backHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),n||this.viewer.requestRender(),this},t}(Ji);function kL(e){for(var t=e.atomPositions,i=e.histogram360Scaled,n=i.length<=180?360:2*i.length,s={triangles:new Float32Array(3*n*3),triangleColors:rs(e.opaqueMiddleDiscColor,3*n)},r={triangles:new Float32Array(3*i.length*3),triangleColors:rs(e.frontHistogramColor,3*i.length)},a={triangles:new Float32Array(3*i.length*3),triangleColors:rs(e.backHistogramColor,3*i.length)},o={startPoints:new Float32Array(3*i.length),endPoints:new Float32Array(3*i.length),startColors:rs(e.histogramBinBorderColor,i.length),endColors:rs(e.histogramBinBorderColor,i.length)},c={startPoints:new Float32Array(3*i.length),endPoints:new Float32Array(3*i.length),startColors:rs(e.histogramBinBorderColor,i.length),endColors:rs(e.histogramBinBorderColor,i.length)},p={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:rs(e.adjacentBondArrowColor,i.length),endColors:rs(e.adjacentBondArrowColor,i.length)},f={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:rs(e.distantBondArrowColor,i.length),endColors:rs(e.distantBondArrowColor,i.length)},l=yt(),u=yt(),m=yt(),d=yt(),y=yt(),_=yt(),h=yt(),g=yt(),E=yt(),w=yt(),v=yt(),x=yt(),b=yt(),A=yt(),M=yt(),G=yt(),T=[l,u,m,d],N=0;N<T.length;N++)mn(T[N],t,3*N);if(hi(y,l,u),hi(_,m,u),hi(g,d,m),sa(_)!==0&&(ei(M,_,.5),us(E,u,M),yi(y,y),yi(_,_),yi(g,g),e1(h,_),ei(M,h,bn(h,y)),hi(w,y,M),ei(M,_,bn(_,g)),hi(v,g,M),sa(w)!==0&&sa(v)!==0)){yi(w,w),yi(v,v);var D=Math.acos(bn(w,v));An(x,h,w),An(b,_,v),yi(x,x),yi(b,b);var L=D;bn(x,v)<0&&(L=-D),us(A,E,w);for(var C=Math.max.apply(null,i),O=2*Math.PI/i.length,q=2*Math.PI/n,z=0;z<n;z++){var $=3*z*3;xt(E,s.triangles,$),ps(A,E,w,x,z*q),xt(A,s.triangles,$+3),ps(A,E,w,x,(z+1)*q),xt(A,s.triangles,$+6)}return ei(M,_,-.01),us(E,E,M),K(r,o,0,w,x),ei(M,_,.02),us(E,E,M),K(a,c,1,v,b),{opaqueMiddleDisc:s,frontHistogram:r,backHistogram:a,frontHistogramBinBorders:o,backHistogramBinBorders:c,adjacentBondArrows:p,distantBondArrows:f}}function re(J,Y,le,fe,X){var ae=3*Y*3;xt(E,J,ae);var ne=Number(i[Y])/C;ei(M,le,ne),ei(G,fe,ne),ps(A,E,M,G,Y*X),xt(A,J,ae+3),ps(A,E,M,G,(Y+1)*X),xt(A,J,ae+6)}function K(J,Y,le,fe,X){Fi(E,p.startPoints,0,3*le,E.length),ps(M,E,fe,X,0+0*O),Fi(M,p.endPoints,0,3*le,E.length),Fi(E,f.startPoints,0,3*le,E.length),ps(M,E,fe,X,L),Fi(M,f.endPoints,0,3*le,E.length);for(var ae=0;ae<i.length;ae++)Fi(E,Y.startPoints,0,3*ae,E.length),ps(M,E,fe,X,0+O*ae),Fi(M,Y.endPoints,0,3*ae,M.length);for(var ne=0;ne<i.length;ne++)re(J.triangles,ne,fe,X,O)}}li.add("dihedral-histogram",OL);var BL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="distance",this.parameters=Object.assign({radialSegments:!0,openEnded:!0,disableImpostor:!0,labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},useCylinder:{type:"boolean",rebuild:!0},atomPair:{type:"hidden",rebuild:!0}},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.linewidth=R(n.linewidth,5),n.radiusType=R(n.radiusType,"size"),n.radiusSize=R(n.radiusSize,.2),this.labelUnit=R(n.labelUnit,""),this.useCylinder=R(n.useCylinder,!1),this.atomPair=R(n.atomPair,[]),e.prototype.init.call(this,n)},t.prototype.getDistanceData=function(i,n){var s=this,r=n.length,a=new Array(r),o=new Float32Array(3*r),c=new Jt,p=new Jt,f=new Tl,l=i.getAtomProxy(),u=i.getAtomProxy(),m=0,d=i.getAtomSet();n.forEach(function(_,h){var g=_[0],E=_[1];if(typeof g=="number"&&Number.isInteger(g)&&typeof E=="number"&&Number.isInteger(E)){if(!d.get(g)||!d.get(E))return void(m+=1);l.index=g,u.index=E}else{c.setString(g),p.setString(E);var w=i.getAtomIndices(c),v=i.getAtomIndices(p);if(!w.length||!v.length)return void(m+=1);l.index=w[0],u.index=v[0]}f.addBond(l,u,1),h-=m;var x=l.distanceTo(u);switch(s.labelUnit){case"angstrom":a[h]=x.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":a[h]=(x/10).toFixed(2)+" nm";break;default:a[h]=x.toFixed(2)}var b=3*h;o[b+0]=(l.x+u.x)/2,o[b+1]=(l.y+u.y)/2,o[b+2]=(l.z+u.z)/2}),m>0&&(r-=m,o=o.subarray(0,3*r));var y=new dt(f.count,!0);return{text:a,position:o,bondSet:y,bondStore:f}},t.prototype.getBondData=function(i,n,s){var r=i.getBondData(this.getBondParams(n,s));return r.picking&&(r.picking=new WT(r.picking.array,r.picking.structure,s.bondStore)),r},t.prototype.createData=function(i){if(i.atomCount&&this.atomPair.length){var n=this.atomPair.length,s=new Oe(this.labelColor),r=this.getDistanceData(i,this.atomPair);this.textBuffer=new Hc({position:r.position,size:kn(n,this.labelSize),color:Xt(n,s.r,s.g,s.b),text:r.text},this.getLabelBufferParams());var a={bondSet:r.bondSet,bondStore:r.bondStore},o=this.getBondData(i,{position:!0,color:!0,picking:!0,radius:this.useCylinder},a);return this.useCylinder?this.distanceBuffer=new Ir(o,this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})):this.distanceBuffer=new Cr(q4(o),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),{bondSet:r.bondSet,bondStore:r.bondStore,position:r.position,bufferList:[this.textBuffer,this.distanceBuffer]}}},t.prototype.updateData=function(i,n){e.prototype.updateData.call(this,i,n);var s={bondSet:n.bondSet,bondStore:n.bondStore},r=this.getBondData(n.sview,i,s),a={};i&&!i.color||Object.assign(a,{color:r.color,color2:r.color2}),i&&!i.radius||Object.assign(a,{radius:r.radius}),this.distanceBuffer.setAttributes(a)},t.prototype.setParameters=function(i){return e.prototype.setParameters.call(this,i,{},!1),this.useCylinder||(i&&i.lineOpacity&&this.distanceBuffer.setParameters({opacity:i.lineOpacity}),i&&i.opacity!==void 0&&this.distanceBuffer.setParameters({opacity:this.lineOpacity}),i&&i.linewidth&&this.distanceBuffer.setParameters({linewidth:i.linewidth})),this},t}(e3);function Um(e){return 2*(e.position.length/3)*3}li.add("distance",BL);var VL=Object.assign({scale:1,color:"grey"},gn),rw=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,{position:new Float32Array(Um(n)),color:new Float32Array(Um(n))},s),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag";var r=new Oe(this.parameters.color),a=this.geometry.attributes;Xt(Um(n)/3,r.r,r.g,r.b,a.color.array),this.setAttributes(n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return VL},t.prototype.setAttributes=function(n){n===void 0&&(n={});var s,r,a,o=this.geometry.attributes;n.position&&n.vector&&(s=n.position,r=n.vector,a=o.position.array,o.position.needsUpdate=!0);var c=this.size/2,p=this.parameters.scale;if(s&&r)for(var f=0;f<c;f++){var l=2*f*3,u=3*f;a[l+0]=s[u+0],a[l+1]=s[u+1],a[l+2]=s[u+2],a[l+3]=s[u+0]+r[u+0]*p,a[l+4]=s[u+1]+r[u+1]*p,a[l+5]=s[u+2]+r[u+2]*p}},Object.defineProperties(t.prototype,i),t}(Nt),qL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="helixorient",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"sstruc"),n.radiusType=R(n.radiusType,"size"),n.radiusSize=R(n.radiusSize,.15),n.radiusScale=R(n.radiusScale,1),n.useInteriorColor=R(n.useInteriorColor,!0),e.prototype.init.call(this,n)},t.prototype.createData=function(i){var n=this,s=[],r=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){r.push(a);var o=new hr(a),c=o.getPosition(),p=o.getColor(n.getColorParams()),f=o.getSize(n.getRadiusParams()),l=o.getPicking();s.push(new ha({position:c.center,color:p.color,radius:f.size,picking:l.picking},n.getBufferParams({sphereDetail:n.sphereDetail,disableImpostor:n.disableImpostor,dullInterior:!0})),new rw({position:c.center,vector:c.axis},n.getBufferParams({color:"skyblue",scale:1})),new rw({position:c.center,vector:c.resdir},n.getBufferParams({color:"lightgreen",scale:1})))}},i.getSelection()),{bufferList:s,polymerList:r}},t.prototype.updateData=function(i,n){Ce&&de.time(this.type+" repr update"),i=i||{};for(var s=0,r=n.polymerList.length;s<r;++s){var a=3*s,o={},c=n.polymerList[s],p=new hr(c);if(i.position){var f=p.getPosition();Object.assign(o,{position:f.center}),n.bufferList[a+1].setAttributes({position:f.center,vector:f.axis}),n.bufferList[a+2].setAttributes({position:f.center,vector:f.resdir})}n.bufferList[a].setAttributes(o)}Ce&&de.timeEnd(this.type+" repr update")},t}(Ji);li.add("helixorient",qL);var vE=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="licorice",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.aspectRatio=1,e.prototype.init.call(this,n)},t}(c1);li.add("licorice",vE),Ht.add("shader/HyperballStickImpostor.vert",`
attribute vec3 mapping;
attribute float radius;
attribute float radius2;
attribute vec3 position1;
attribute vec3 position2;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform float shrink;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewProjectionMatrixInverse;
void main(){
vRadius = radius;
vRadius2 = radius2;
vec4 spaceposition;
vec3 position_atom1;
vec3 position_atom2;
vec4 vertex_position;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
float radius1 = radius;
position_atom1 = position1;
position_atom2 = position2;
float distance = distance( position_atom1, position_atom2 );
spaceposition.z = mapping.z * distance;
if (radius1 > radius2) {
spaceposition.y = mapping.y * 1.5 * radius1;
spaceposition.x = mapping.x * 1.5 * radius1;
} else {
spaceposition.y = mapping.y * 1.5 * radius2;
spaceposition.x = mapping.x * 1.5 * radius2;
}
spaceposition.w = 1.0;
vec4 e3 = vec4( 1.0 );
vec3 e1, e1_temp, e2, e2_temp;
e3.xyz = normalize(position_atom1-position_atom2);
if (e3.z == 0.0) { e3.z = 0.0000000000001;}
if ( (position_atom1.x - position_atom2.x) == 0.0) { position_atom1.x += 0.001;}
if ( (position_atom1.y - position_atom2.y) == 0.0) { position_atom1.y += 0.001;}
if ( (position_atom1.z - position_atom2.z) == 0.0) { position_atom1.z += 0.001;}
vec4 focus = vec4( 1.0 );
focus.x = ( position_atom1.x*position_atom1.x - position_atom2.x*position_atom2.x +
( radius2*radius2 - radius1*radius1 )*e3.x*e3.x/shrink )/(2.0*(position_atom1.x - position_atom2.x));
focus.y = ( position_atom1.y*position_atom1.y - position_atom2.y*position_atom2.y +
( radius2*radius2 - radius1*radius1 )*e3.y*e3.y/shrink )/(2.0*(position_atom1.y - position_atom2.y));
focus.z = ( position_atom1.z*position_atom1.z - position_atom2.z*position_atom2.z +
( radius2*radius2 - radius1*radius1 )*e3.z*e3.z/shrink )/(2.0*(position_atom1.z - position_atom2.z));
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2_temp = e1.yzx * e3.zxy - e1.zxy * e3.yzx;
e2 = normalize(e2_temp);
mat3 R= mat3( e1.xyz, e2.xyz, e3.xyz );
vertex_position.xyz = R * spaceposition.xyz;
vertex_position.w = 1.0;
vertex_position.x += (position_atom1.x+position_atom2.x) / 2.0;
vertex_position.y += (position_atom1.y+position_atom2.y) / 2.0;
vertex_position.z += (position_atom1.z+position_atom2.z) / 2.0;
gl_Position = modelViewProjectionMatrix * vertex_position;
vec4 i_near, i_far;
vec4 near = gl_Position;
near.z = 0.0 ;
near = modelViewProjectionMatrixInverse * near;
i_near = near;
vec4 far = gl_Position;
far.z = far.w ;
i_far = modelViewProjectionMatrixInverse * far;
prime1 = vec4( position_atom1 - (position_atom1 - focus.xyz)*shrink, 1.0 );
prime2 = vec4( position_atom2 - (position_atom2 - focus.xyz)*shrink, 1.0 );
float Rsquare = (radius1*radius1/shrink) - (
(position_atom1.x - focus.x)*(position_atom1.x - focus.x) +
(position_atom1.y - focus.y)*(position_atom1.y - focus.y) +
(position_atom1.z - focus.z)*(position_atom1.z - focus.z)
);
focus.w = Rsquare;
matrix_near = mat4( i_near, i_far, focus, e3 );
gl_Position.z = 1.0;
}`),Ht.add("shader/HyperballStickImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float shrink;
uniform mat4 modelViewMatrix;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewMatrixInverseTranspose;
uniform mat4 projectionMatrix;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float calcClip( vec4 cameraPos ){
return dot( cameraPos, vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
float calcClip( vec3 cameraPos ){
return calcClip( vec4( cameraPos, 1.0 ) );
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
struct Ray {
vec3 origin ;
vec3 direction ;
};
bool cutoff_plane (vec3 M, vec3 cutoff, vec3 x3){
float a = x3.x;
float b = x3.y;
float c = x3.z;
float d = -x3.x*cutoff.x-x3.y*cutoff.y-x3.z*cutoff.z;
float l = a*M.x+b*M.y+c*M.z+d;
if (l<0.0) {return true;}
else{return false;}
}
vec3 isect_surf(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t1 =(-b-sqrt(delta))/a;
return r.origin+t1*r.direction;
}
vec3 isect_surf2(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t2 =(-b+sqrt(delta))/a;
return r.origin+t2*r.direction;
}
Ray primary_ray(vec4 near1, vec4 far1){
vec3 near=near1.xyz/near1.w;
vec3 far=far1.xyz/far1.w;
return Ray(near,far-near);
}
float update_z_buffer(vec3 M, mat4 ModelViewP){
float depth1;
vec4 Ms=(ModelViewP*vec4(M,1.0));
return depth1=(1.0+Ms.z/Ms.w)/2.0;
}
void main(){
float radius = max( vRadius, vRadius2 );
vec4 i_near, i_far, focus;
vec3 e3, e1, e1_temp, e2;
i_near = vec4(matrix_near[0][0],matrix_near[0][1],matrix_near[0][2],matrix_near[0][3]);
i_far = vec4(matrix_near[1][0],matrix_near[1][1],matrix_near[1][2],matrix_near[1][3]);
focus = vec4(matrix_near[2][0],matrix_near[2][1],matrix_near[2][2],matrix_near[2][3]);
e3 = vec3(matrix_near[3][0],matrix_near[3][1],matrix_near[3][2]);
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2 = normalize(cross(e1,e3));
vec4 equation = focus;
float shrinkfactor = shrink;
float t1 = -1.0/(1.0-shrinkfactor);
float t2 = 1.0/(shrinkfactor);
vec4 colonne1, colonne2, colonne3, colonne4;
mat4 mat;
vec3 equation1 = vec3(t2,t2,t1);
float A1 = - e1.x*equation.x - e1.y*equation.y - e1.z*equation.z;
float A2 = - e2.x*equation.x - e2.y*equation.y - e2.z*equation.z;
float A3 = - e3.x*equation.x - e3.y*equation.y - e3.z*equation.z;
float A11 = equation1.x*e1.x*e1.x + equation1.y*e2.x*e2.x + equation1.z*e3.x*e3.x;
float A21 = equation1.x*e1.x*e1.y + equation1.y*e2.x*e2.y + equation1.z*e3.x*e3.y;
float A31 = equation1.x*e1.x*e1.z + equation1.y*e2.x*e2.z + equation1.z*e3.x*e3.z;
float A41 = equation1.x*e1.x*A1 + equation1.y*e2.x*A2 + equation1.z*e3.x*A3;
float A22 = equation1.x*e1.y*e1.y + equation1.y*e2.y*e2.y + equation1.z*e3.y*e3.y;
float A32 = equation1.x*e1.y*e1.z + equation1.y*e2.y*e2.z + equation1.z*e3.y*e3.z;
float A42 = equation1.x*e1.y*A1 + equation1.y*e2.y*A2 + equation1.z*e3.y*A3;
float A33 = equation1.x*e1.z*e1.z + equation1.y*e2.z*e2.z + equation1.z*e3.z*e3.z;
float A43 = equation1.x*e1.z*A1 + equation1.y*e2.z*A2 + equation1.z*e3.z*A3;
float A44 = equation1.x*A1*A1 + equation1.y*A2*A2 + equation1.z*A3*A3 - equation.w;
colonne1 = vec4(A11,A21,A31,A41);
colonne2 = vec4(A21,A22,A32,A42);
colonne3 = vec4(A31,A32,A33,A43);
colonne4 = vec4(A41,A42,A43,A44);
mat = mat4(colonne1,colonne2,colonne3,colonne4);
Ray ray = primary_ray(i_near,i_far) ;
vec3 M;
M = isect_surf(ray, mat);
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
vec4 M1 = vec4(M,1.0);
vec4 M2 = mat*M1;
vec3 _normal = ( modelViewMatrixInverseTranspose * M2 ).xyz;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
#ifdef NEAR_CLIP
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 ){
M = isect_surf2(ray, mat);
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 )
discard;
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / radius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix);
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#endif
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
float distance_ratio = ((M.x-prime2.x)*e3.x + (M.y-prime2.y)*e3.y +(M.z-prime2.z)*e3.z) /
distance(prime2.xyz,prime1.xyz);
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -( modelViewMatrix * vec4( M, 1.0 ) ).xyz;
vec3 vNormal = _normal;
vec3 vColor;
if( distance_ratio>0.5 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var zL=new Float32Array([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,-1,1,1]),HL=new Uint16Array([0,1,2,0,2,3,1,5,6,1,6,2,4,6,5,4,7,6,0,7,4,0,3,7,0,5,1,0,4,5,3,2,6,3,6,7]),UL=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,"v3",n,s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return i.mapping.get=function(){return zL},i.mappingIndices.get=function(){return HL},i.mappingIndicesSize.get=function(){return 36},i.mappingSize.get=function(){return 8},i.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,i),t}(Y_),bE=Object.assign({shrink:.14},gn),WL=Object.assign({shrink:{uniform:!0}},ro),jL=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,n,s),this.parameterTypes=WL,this.isImpostor=!0,this.vertexShader="HyperballStickImpostor.vert",this.fragmentShader="HyperballStickImpostor.frag",this.addUniforms({modelViewProjectionMatrix:{value:new De},modelViewProjectionMatrixInverse:{value:new De},modelViewMatrixInverseTranspose:{value:new De},shrink:{value:this.parameters.shrink}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null},radius2:{type:"f",value:null}}),this.setAttributes(n),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return bE},Object.defineProperties(t.prototype,i),t}(UL);Object.assign({disableImpostor:!1},i3,bE);var $L=function(e,t){return t===void 0&&(t={}),!qs||t&&t.disableImpostor?(e.radius=function(i,n){for(var s=i.length,r=new Float32Array(s),a=0;a<s;a++)r[a]=Math.min(i[a],n[a]);return r}(e.radius,e.radius2),new wE(e,t)):new jL(e,t)},KL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="hyperball",this.parameters=Object.assign({shrink:{type:"number",precision:3,max:1,min:.001,buffer:!0}},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.radiusScale=R(n.radiusScale,.2),n.radiusType=R(n.radiusType,"vdw"),n.useInteriorColor=R(n.useInteriorColor,!0),this.shrink=R(n.shrink,.12),e.prototype.init.call(this,n)},t.prototype.getBondParams=function(i,n){return i&&!i.radius||(n=Object.assign({radius2:!0},n)),e.prototype.getBondParams.call(this,i,n)},t.prototype.createData=function(i){var n=new ha(i.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));return this.__center=new Float32Array(3*i.bondCount),{bufferList:[n,new $L(i.getBondData(this.getBondParams()),this.getBufferParams({shrink:this.shrink,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))]}},t.prototype.updateData=function(i,n){var s=n.sview.getAtomData(this.getAtomParams()),r=n.sview.getBondData(this.getBondParams()),a={},o={};if(!i||i.position){Object.assign(a,{position:s.position});var c=r.position1,p=r.position2;Object.assign(o,{position:zs(c,p,this.__center),position1:c,position2:p})}i&&!i.color||(Object.assign(a,{color:s.color}),Object.assign(o,{color:r.color,color2:r.color2})),i&&!i.radius||(Object.assign(a,{radius:s.radius}),Object.assign(o,{radius:r.radius,radius2:r.radius2})),n.bufferList[0].setAttributes(a),n.bufferList[1].setAttributes(o)},t}(vE);li.add("hyperball",KL);var Bu=function(e,t,i){t===void 0&&(t={}),i===void 0&&(i=""),this.type=e,this.text=t,this.format=i,this.errorLogged=!1};Bu.prototype.atomLabel=function(e){var t;switch(this.type){case"atomname":t=e.atomname;break;case"atomindex":t=""+e.index;break;case"occupancy":t=e.occupancy.toFixed(2);break;case"bfactor":t=e.bfactor.toFixed(2);break;case"serial":t=""+e.serial;break;case"element":t=e.element;break;case"atom":t=e.atomname+"|"+e.index;break;case"resname":t=e.resname;break;case"resno":t=""+e.resno;break;case"res":t=""+(Du[e.resname.toUpperCase()]||e.resname)+e.resno;break;case"residue":var i=Du[e.resname.toUpperCase()];t=i&&!e.inscode?""+i+e.resno:"["+e.resname+"]"+e.resno+e.inscode;break;case"text":t=this.text[e.index];break;case"format":try{t=un.sprintf(this.format,e)}catch(n){this.errorLogged||(this.errorLogged=!0,console.log(n.message))}break;default:t=e.qualifiedName()}return t===void 0?"":t},Bu.types={"":"",atomname:"atom name",atomindex:"atom index",occupancy:"occupancy",bfactor:"b-factor",serial:"serial",element:"element",atom:"atom name + index",resname:"residue name",resno:"residue no",res:"one letter code + no",residue:"[residue name] + no + inscode",text:"text",format:"format",qualified:"qualified name"};var YL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="label",this.parameters=Object.assign({labelType:{type:"select",options:Bu.types,rebuild:!0},labelText:{type:"hidden",rebuild:!0},labelFormat:{type:"text",rebuild:!0},labelGrouping:{type:"select",options:{atom:"atom",residue:"residue"},rebuild:!0},fontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:!0},fontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:!0},fontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:!0},xOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},yOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},zOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},attachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},showBorder:{type:"boolean",buffer:!0},borderColor:{type:"color",buffer:!0},borderWidth:{type:"number",precision:2,max:.3,min:0,buffer:!0},showBackground:{type:"boolean",rebuild:!0},backgroundColor:{type:"color",buffer:!0},backgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},backgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:!0},fixedSize:{type:"boolean",buffer:!0}},this.parameters,{side:null,flatShaded:null,wireframe:null,linewidth:null,roughness:null,metalness:null,diffuse:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};this.labelType=R(n.labelType,"res"),this.labelText=R(n.labelText,{}),this.labelFormat=R(n.labelFormat,""),this.labelGrouping=R(n.labelGrouping,"atom"),this.fontFamily=R(n.fontFamily,"sans-serif"),this.fontStyle=R(n.fontStyle,"normal"),this.fontWeight=R(n.fontWeight,"bold"),this.xOffset=R(n.xOffset,0),this.yOffset=R(n.yOffset,0),this.zOffset=R(n.zOffset,.5),this.attachment=R(n.attachment,"bottom-left"),this.showBorder=R(n.showBorder,!1),this.borderColor=R(n.borderColor,"lightgrey"),this.borderWidth=R(n.borderWidth,.15),this.showBackground=R(n.showBackground,!1),this.backgroundColor=R(n.backgroundColor,"lightgrey"),this.backgroundMargin=R(n.backgroundMargin,.5),this.backgroundOpacity=R(n.backgroundOpacity,1),this.fixedSize=R(n.fixedSize,!1),e.prototype.init.call(this,n)},t.prototype.getTextData=function(i,n){var s,r,a,o,c,p,f,l=this.getAtomParams(n),u=new Bu(this.labelType,this.labelText,this.labelFormat);if(this.labelGrouping==="atom"){var m=i.getAtomData(l);s=m.position,r=m.radius,a=m.color,n&&!n.text||(o=[],i.eachAtom(function(g){return o.push(u.atomLabel(g))}))}else if(this.labelGrouping==="residue"){n&&!n.position||(c=[]),n&&!n.color||(f=[]),n&&!n.radius||(p=[]),n&&!n.text||(o=[]),l.colorParams&&(l.colorParams.structure=i.getStructure());var d=It.getScheme(l.colorParams),y=new Ys(l.radiusParams),_=i.getAtomProxy(),h=0;i.eachResidue(function(g){var E=3*h;g.isProtein()||g.isNucleic()?(_.index=g.traceAtomIndex,n&&!n.position||_.positionToArray(c,E)):(_.index=g.atomOffset,n&&!n.position||g.positionToArray(c,E)),n&&!n.color||d.atomColorToArray(_,f,E),n&&!n.radius||(p[h]=y.atomRadius(_)),n&&!n.text||o.push(u.atomLabel(_)),++h}),n&&!n.position||(s=new Float32Array(c)),n&&!n.color||(a=new Float32Array(f)),n&&!n.radius||(r=new Float32Array(p))}return{position:s,size:r,color:a,text:o}},t.prototype.createData=function(i){return{bufferList:[new Hc(this.getTextData(i,{position:!0,color:!0,radius:!0,text:!0}),this.getBufferParams({fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,xOffset:this.xOffset,yOffset:this.yOffset,zOffset:this.zOffset,attachment:this.attachment,showBorder:this.showBorder,borderColor:this.borderColor,borderWidth:this.borderWidth,showBackground:this.showBackground,backgroundColor:this.backgroundColor,backgroundMargin:this.backgroundMargin,backgroundOpacity:this.backgroundOpacity,fixedSize:this.fixedSize}))]}},t.prototype.updateData=function(i,n){n.bufferList[0].setAttributes(this.getTextData(n.sview,i))},t.prototype.getAtomRadius=function(){return 0},t}(Ji);li.add("label",YL);var JL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="line",this.parameters=Object.assign({multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0},lines:{type:"boolean",rebuild:!0},crosses:{type:"select",rebuild:!0,options:{off:"off",lone:"lone",all:"all"}},crossSize:{type:"number",precision:2,max:2,min:.1}},this.parameters,{flatShaded:null,side:null,wireframe:null,roughness:null,metalness:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};this.multipleBond=R(n.multipleBond,"off"),this.bondSpacing=R(n.bondSpacing,1),this.linewidth=R(n.linewidth,2),this.lines=R(n.lines,!0),this.crosses=R(n.crosses,"lone"),this.crossSize=R(n.crossSize,.4),e.prototype.init.call(this,n)},t.prototype.getAtomRadius=function(i){return .1},t.prototype.getBondParams=function(i,n){return n=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,radiusParams:{type:"size",size:.1,scale:1}},n),e.prototype.getBondParams.call(this,i,n)},t.prototype._crossData=function(i,n){if(!i||i.position||i.color){var s,r,a,o,c={};this.crosses==="lone"&&Object.assign(c,{atomSet:(s=n,r=s.getAtomSet(),a=s.getBondSet(),o=s.getBondProxy(),a.forEach(function(L){o.index=L,r.clear(o.atomIndex1),r.clear(o.atomIndex2)}),r)});var p=n.getAtomData(this.getAtomParams(i,c)),f={},l=p.position,u=p.color,m=p.picking,d=(l||u).length,y=3*d,_=new Float32Array(0),h=new Float32Array(0),g=new Float32Array(0),E=new Float32Array(0),w=0,v=new Float32Array(0);i&&!i.position||(_=f.position1=new Float32Array(y),h=f.position2=new Float32Array(y),w=this.crossSize/2),i&&!i.color||(g=f.color=new Float32Array(y),E=f.color2=new Float32Array(y)),i&&!i.picking||(v=new Float32Array(3*p.picking.array.length));for(var x=0;x<d;x++){var b=3*x,A=3*b;if(!i||i.position){var M=l[b],G=l[b+1],T=l[b+2];_[A]=M-w,_[A+1]=G,_[A+2]=T,h[A]=M+w,h[A+1]=G,h[A+2]=T,_[A+3]=M,_[A+4]=G-w,_[A+5]=T,h[A+3]=M,h[A+4]=G+w,h[A+5]=T,_[A+6]=M,_[A+7]=G,_[A+8]=T-w,h[A+6]=M,h[A+7]=G,h[A+8]=T+w}if(!i||i.color)for(var N=A+9,D=A;D<N;D+=3)g[D]=E[D]=u[b],g[D+1]=E[D+1]=u[b+1],g[D+2]=E[D+2]=u[b+2];i&&!i.picking||(v[b]=v[b+1]=v[b+2]=m.array[x])}return i&&!i.picking||(f.picking=new so(v,m.structure)),f}},t.prototype.createData=function(i){var n={position:!0,color:!0,picking:!0},s=[];if(this.lines){var r=i.getBondData(this.getBondParams(n)),a=new Cr(r,this.getBufferParams({linewidth:this.linewidth}));s.push(a)}if(this.crosses!=="off"){var o=new Cr(this._crossData(n,i),this.getBufferParams({linewidth:this.linewidth}));s.push(o)}return{bufferList:s}},t.prototype.updateData=function(i,n){var s=0;if(this.lines){var r=n.sview.getBondData(this.getBondParams(i)),a={};i&&!i.position||Object.assign(a,{position1:r.position1,position2:r.position2}),i&&!i.color||Object.assign(a,{color:r.color,color2:r.color2}),n.bufferList[s++].setAttributes(a)}if(this.crosses!=="off"){var o=this._crossData(i,n.sview),c={};i&&!i.position||Object.assign(c,{position1:o.position1,position2:o.position2}),i&&!i.color||Object.assign(c,{color:o.color,color2:o.color2}),n.bufferList[s++].setAttributes(c)}},t.prototype.setParameters=function(i){var n={};return i&&(i.bondSpacing||i.crossSize)&&Object.assign(n,{position:!0}),e.prototype.setParameters.call(this,i,n,!1),this},t}(Ji);function xE(e,t,i,n,s){var r=new(n=n||Int32Array)(e*t*i*(s=s||1));function a(o,c,p){return((o*t+c)*i+p)*s}return{data:r,index:a,set:function(o,c,p){for(var f=[],l=arguments.length-3;l-- >0;)f[l]=arguments[l+3];for(var u=a(o,c,p),m=0;m<s;++m)r[u+m]=f[m]},toArray:function(o,c,p,f,l){f===void 0&&(f=[]),l===void 0&&(l=0);for(var u=a(o,c,p),m=0;m<s;++m)f[l+m]=r[u+m]},fromArray:function(o,c,p,f,l){l===void 0&&(l=0);for(var u=a(o,c,p),m=0;m<s;++m)r[u+m]=f[l+m]},copy:function(o){r.set(o.data)}}}function Fl(e,t,i){var n=nE(t),s=Lf(e);e.length===0&&(s[0].set([0,0,0]),s[1].set([0,0,0]));var r,a,o,c,p,f,l,u,m,d,y,_,h,g,E,w=s[0],v=s[1];function x(L,C,O,q,z){r=C||1.4,a=O||2,_=z||!0;var $=0;for(var re in n)$=Math.max($,re);var K=Df(w,v,$,a,L?r:0);c=K.dim[0],p=K.dim[1],f=K.dim[2],l=K.matrix,u=K.tran,a=K.scaleFactor,m={},d={},A(L),y=r*a,o=q||r/a,h=new Uint8Array(c*p*f),L&&(g=new Float64Array(c*p*f)),_&&(E=new Int32Array(c*p*f))}var b=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];function A(L){var C,O,q,z,$,re,K,J,Y,le;for(var fe in n)if(C=parseFloat(fe),!m[fe]){for(re=(K=L?(C+r)*a+.5:C*a+.5)*K,J=Math.floor(K)+1,Y=new Int32Array(J*J),le=0,O=0;O<J;++O)for(q=0;q<J;++q)(z=O*O+q*q)>re?Y[le]=-1:($=Math.sqrt(re-z),Y[le]=Math.floor($)),++le;d[fe]=J,m[fe]=Y}}function M(L){var C,O,q,z,$,re,K,J,Y,le,fe,X,ae,ne,pe,U,W,Z,ie=3*L,ue=L;C=Math.floor(.5+a*(e[ie]+u[0])),O=Math.floor(.5+a*(e[ie+1]+u[1])),q=Math.floor(.5+a*(e[ie+2]+u[2]));var he,ge=t[ue],k=m[ge],H=0,me=p*f,oe=d[ge];for(le=0;le<oe;++le)for(fe=0;fe<oe;++fe){if((he=k[H])!==-1){for(U=-1;U<2;++U)for(W=-1;W<2;++W)for(Z=-1;Z<2;++Z)if(U!==0&&W!==0&&Z!==0){for(K=U*le,Y=Z*fe,X=0;X<=he;++X)if(ne=O+(J=X*W),pe=q+Y,!((ae=C+K)<0||ne<0||pe<0||ae>=c||ne>=p||pe>=f)){var te=ae*me+ne*f+pe;if(_)if(1&h[te]){if(1&h[te]){var se=E[te];se!==ie&&K*K+J*J+Y*Y<(z=C+K-Math.floor(.5+a*(e[se]+u[0])))*z+($=O+J-Math.floor(.5+a*(e[se+1]+u[1])))*$+(re=q+Y-Math.floor(.5+a*(e[se+2]+u[2])))*re&&(E[te]=L)}}else h[te]|=1,E[te]=L;else h[te]|=1}}}H++}}function G(L){var C,O;for(console.time("EDTSurface fillvoxels"),C=0,O=h.length;C<O;++C)h[C]=0,L&&(g[C]=-1),_&&(E[C]=-1);for(C=0,O=e.length/3;C<O;++C)M(C);for(C=0,O=h.length;C<O;++C)1&h[C]&&(h[C]|=2);console.timeEnd("EDTSurface fillvoxels")}function T(L){var C,O,q,z,$,re,K,J,Y,le,fe,X,ae,ne,pe,U,W,Z,ie,ue=3*L,he=L,ge=0;C=Math.floor(.5+a*(e[ue]+u[0])),O=Math.floor(.5+a*(e[ue+1]+u[1])),q=Math.floor(.5+a*(e[ue+2]+u[2]));var k=t[he],H=p*f;for(ae=0,ie=d[k];ae<ie;++ae)for(ne=0;ne<ie;++ne){if(m[k][ge]!==-1){for(U=-1;U<2;++U)for(W=-1;W<2;++W)for(Z=-1;Z<2;++Z)if(U!==0&&W!==0&&Z!==0){for(K=U*ae,Y=Z*ne,pe=0;pe<=m[k][ge];++pe)if(fe=O+(J=pe*W),X=q+Y,!((le=C+K)<0||fe<0||X<0||le>=c||fe>=p||X>=f)){var me=le*H+fe*f+X;if(2&h[me]){if(_){var oe=E[me];K*K+J*J+Y*Y<(z=Math.floor(.5+a*(e[oe]+u[0])))*z+($=Math.floor(.5+a*(e[oe+1]+u[1])))*$+(re=Math.floor(.5+a*(e[oe+2]+u[2])))*re&&(E[me]=L)}}else h[me]|=2,_&&(E[me]=L)}}}ge++}}function N(){var L,C,O,q;console.time("EDTSurface fastdistancemap");var z,$=xE(c,p,f,Uint16Array,3),re=p*f,K=y*y,J=0;for(L=0;L<c;++L)for(C=0;C<p;++C)for(O=0;O<f;++O)h[z=L*re+C*f+O]&=-3,1&h[z]&&4&h[z]&&($.set(L,C,O,L,C,O),g[z]=0,h[z]|=2,J+=1);var Y=new Int32Array(3*J),le=0,fe=new Int32Array(3*J),X=0;for(L=0;L<c;++L)for(C=0;C<p;++C)for(O=0;O<f;++O)4&h[z=L*re+C*f+O]&&(Y[le]=L,Y[le+1]=C,Y[le+2]=O,le+=3,h[z]&=-5);do for(X=D(Y,$,le,fe),le=0,L=0,q=X;L<q;L+=3)z=re*fe[L]+f*fe[L+1]+fe[L+2],h[z]&=-5,g[z]<=1.0404*K&&(Y[le]=fe[L],Y[le+1]=fe[L+1],Y[le+2]=fe[L+2],le+=3);while(le>0);var ae,ne=o*o,pe=new Uint16Array(3);for(L=0;L<c;++L)for(C=0;C<p;++C)for(O=0;O<f;++O)h[z=L*re+C*f+O]&=-5,1&h[z]&&(2&h[z]&&!(2&h[z]&&g[z]>=ne)||(h[z]|=4,_&&2&h[z]&&($.toArray(L,C,O,pe),ae=pe[0]*re+pe[1]*f+pe[2],E[z]=E[ae])));console.timeEnd("EDTSurface fastdistancemap")}function D(L,C,O,q){var z,$,re,K,J,Y,le,fe,X,ae,ne,pe,U=new Uint16Array(3),W=0;if(O===0)return W;var Z=-1,ie=-1,ue=-1,he=p*f;for(le=0,X=O;le<X;le+=3)for(z=L[le],$=L[le+1],re=L[le+2],C.toArray(z,$,re,U),fe=0;fe<6;++fe)Z=z+(pe=b[fe])[0],ie=$+pe[1],ue=re+pe[2],Z<c&&Z>-1&&ie<p&&ie>-1&&ue<f&&ue>-1&&(1&h[ne=Z*he+f*ie+ue]&&!(2&h[ne])?(C.fromArray(Z,ie,ue,U),ae=(K=Z-U[0])*K+(J=ie-U[1])*J+(Y=ue-U[2])*Y,g[ne]=ae,h[ne]|=2,h[ne]|=4,q[W]=Z,q[W+1]=ie,q[W+2]=ue,W+=3):1&h[ne]&&2&h[ne]&&(ae=(K=Z-U[0])*K+(J=ie-U[1])*J+(Y=ue-U[2])*Y)<g[ne]&&(C.fromArray(Z,ie,ue,U),g[ne]=ae,4&h[ne]||(h[ne]|=4,q[W]=Z,q[W+1]=ie,q[W+2]=ue,W+=3)));for(le=0,X=O;le<X;le+=3)for(z=L[le],$=L[le+1],re=L[le+2],C.toArray(z,$,re,U),fe=6;fe<18;fe++)Z=z+(pe=b[fe])[0],ie=$+pe[1],ue=re+pe[2],Z<c&&Z>-1&&ie<p&&ie>-1&&ue<f&&ue>-1&&(1&h[ne=Z*he+f*ie+ue]&&!(2&h[ne])?(C.fromArray(Z,ie,ue,U),ae=(K=Z-U[0])*K+(J=ie-U[1])*J+(Y=ue-U[2])*Y,g[ne]=ae,h[ne]|=2,h[ne]|=4,q[W]=Z,q[W+1]=ie,q[W+2]=ue,W+=3):1&h[ne]&&2&h[ne]&&(ae=(K=Z-U[0])*K+(J=ie-U[1])*J+(Y=ue-U[2])*Y)<g[ne]&&(C.fromArray(Z,ie,ue,U),g[ne]=ae,4&h[ne]||(h[ne]|=4,q[W]=Z,q[W+1]=ie,q[W+2]=ue,W+=3)));for(le=0,X=O;le<X;le+=3)for(z=L[le],$=L[le+1],re=L[le+2],C.toArray(z,$,re,U),fe=18;fe<26;fe++)Z=z+(pe=b[fe])[0],ie=$+pe[1],ue=re+pe[2],Z<c&&Z>-1&&ie<p&&ie>-1&&ue<f&&ue>-1&&(1&h[ne=Z*he+f*ie+ue]&&!(2&h[ne])?(C.fromArray(Z,ie,ue,U),ae=(K=Z-U[0])*K+(J=ie-U[1])*J+(Y=ue-U[2])*Y,g[ne]=ae,h[ne]|=2,h[ne]|=4,q[W]=Z,q[W+1]=ie,q[W+2]=ue,W+=3):1&h[ne]&&2&h[ne]&&(ae=(K=Z-U[0])*K+(J=ie-U[1])*J+(Y=ue-U[2])*Y)<g[ne]&&(C.fromArray(Z,ie,ue,U),g[ne]=ae,4&h[ne]||(h[ne]|=4,q[W]=Z,q[W+1]=ie,q[W+2]=ue,W+=3)));return W}this.getVolume=function(L,C,O,q,z){console.time("EDTSurface.getVolume");var $=L!=="vws";x($,C,O,q,z),G($),function(){var J,Y,le,fe=p*f;for(J=0;J<c;++J)for(Y=0;Y<f;++Y)for(le=0;le<p;++le){var X=J*fe+le*f+Y;if(1&h[X])for(var ae=0;ae<26;){var ne=J+b[ae][0],pe=Y+b[ae][2],U=le+b[ae][1];if(ne>-1&&ne<c&&U>-1&&U<p&&pe>-1&&pe<f&&!(1&h[ne*fe+U*f+pe])){h[X]|=4;break}ae++}}}(),L!=="ms"&&L!=="ses"||N(),L==="ses"&&(A(!1),function(){var J,Y;for(J=0,Y=h.length;J<Y;++J)h[J]&=-3;for(J=0,Y=e.length/3;J<Y;++J)T(J)}()),function(J){var Y,le=h.length;if(J==="vws")for(Y=0;Y<le;++Y)h[Y]&=-5,h[Y]=2&h[Y]?1:0;else if(J==="ms")for(Y=0;Y<le;++Y)h[Y]&=-3,4&h[Y]&&(h[Y]|=2),h[Y]&=-5,h[Y]=2&h[Y]?1:0;else if(J==="ses")for(Y=0;Y<le;++Y)4&h[Y]&&2&h[Y]?h[Y]&=-5:4&h[Y]&&!(2&h[Y])&&(h[Y]|=2),h[Y]=2&h[Y]?1:0;else if(J==="sas")for(Y=0;Y<le;++Y)h[Y]&=-5,h[Y]=2&h[Y]?1:0}(L);for(var re=0,K=E.length;re<K;++re)E[re]=i[E[re]];return console.timeEnd("EDTSurface.getVolume"),{data:h,nx:f,ny:p,nz:c,atomindex:E}},this.getSurface=function(L,C,O,q,z,$,re){var K=this.getVolume(L,C,O,q,z);return new ra(K.data,K.nx,K.ny,K.nz,K.atomindex).getSurface(1,$,void 0,l,re)}}function SE(e,t,i,n,s,r,a){a=Math.max(.1,a);var o=e.length,c=s[0],p=s[1],f=s[2],l=r[0],u=r[1],m=r[2];function d($,re){return Math.floor(($-re)/a)}for(var y,_,h,g=d(l,c)+1,E=d(u,p)+1,w=d(m,f)+1,v=g*E*w,x=E*w,b=[],A=0;A<o;A++){var M=(y=e[A],_=t[A],h=i[A],(d(y,c)*E+d(_,p))*w+d(h,f));b[M]===void 0?b[M]=[A]:b[M].push(A)}var G=new Uint32Array(v),T=new Uint16Array(v),N=new Uint32Array(o),D=0,L=0;for(A=0;A<v;A++){var C=G[A]=D,O=b[A];if(O!==void 0)for(var q=0;q<O.length;q++)N[D]=O[q],D++;var z=D-C;T[A]=z,z>L&&(L=z)}return{neighbourListLength:27*L+1,withinRadii:function($,re,K,J,Y){for(var le=0,fe=d($,c),X=d(re,p),ae=d(K,f),ne=Math.max(0,fe-1),pe=Math.max(0,X-1),U=Math.max(0,ae-1),W=Math.min(g,fe+2),Z=Math.min(E,X+2),ie=Math.min(w,ae+2),ue=ne;ue<W;++ue)for(var he=ue*x,ge=pe;ge<Z;++ge)for(var k=ge*w,H=U;H<ie;++H)for(var me=he+k+H,oe=G[me],te=oe+T[me],se=oe;se<te;se++){var we=N[se],Me=e[we]-$,_e=t[we]-re,Se=i[we]-K,Ee=n[we]+J;Me*Me+_e*_e+Se*Se<=Ee*Ee&&(Y[le++]=N[se])}Y[le]=-1}}}function Rl(e,t,i){for(var n=t.length,s=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(n),o=0;o<n;o++){var c=3*o;s[o]=e[c],r[o]=e[c+1],a[o]=e[c+2]}var p=Lf(e);e.length===0&&(p[0].set([0,0,0]),p[1].set([0,0,0]));var f,l,u,m,d,y,_,h,g,E,w,v,x,b,A,M,G,T,N,D=p[0],L=p[1],C=-1,O=new Float32Array([0,0,0]),q=new Float32Array([0,0,0]),z=new Float32Array([0,0,0]),$=new Float32Array([0,0,0]);function re(ae,ne,pe,U){m=R(ae,1.4),d=R(ne,2),y=R(pe,!0),_=R(U,30),f=new Float32Array(n),l=new Float32Array(n);for(var W=0;W<f.length;++W){var Z=t[W]+m;f[W]=Z,l[W]=Z*Z}u=0;for(var ie=0;ie<f.length;++ie)f[ie]>u&&(u=f[ie]);var ue;ue=Df(D,L,u,d,0),d=ue.scaleFactor,h=ue.dim,g=ue.matrix,N=Math.max(5,2+Math.floor(m*d)),E=kn(h[0]*h[1]*h[2],-1001),w=new Int32Array(E.length),v=new Float32Array(h[0]),x=new Float32Array(h[1]),b=new Float32Array(h[2]),K(v,D[0],1/d),K(x,D[1],1/d),K(b,D[2],1/d),function(){var he=0,ge=2*Math.PI/_;M=new Float32Array(_),A=new Float32Array(_);for(var k=0;k<_;k++)M[k]=Math.cos(he),A[k]=Math.sin(he),he+=ge}(),G=SE(s,r,a,f,D,L,2.01*u),T=new Int32Array(G.neighbourListLength),C=-1}function K(ae,ne,pe){for(var U=0;U<ae.length;U++)ae[U]=ne+pe*U}function J(ae,ne,pe,U,W){var Z;if(C!==-1){if((Z=C)!==U&&Z!==W&&Y(Z,ae,ne,pe))return Z;C=-1}var ie=0;for(Z=T[ie];Z>=0;){if(Z!==U&&Z!==W&&Y(Z,ae,ne,pe))return C=Z,Z;Z=T[++ie]}return C=-1,-1}function Y(ae,ne,pe,U){var W=3*ae,Z=l[ae],ie=e[W]-ne,ue=e[W+1]-pe,he=e[W+2]-U;return ie*ie+ue*ue+he*he<Z}function le(){for(var ae=0;ae<n;ae++){var ne=s[ae],pe=r[ae],U=a[ae],W=f[ae],Z=l[ae];G.withinRadii(ne,pe,U,W,T);for(var ie=Math.ceil(W*d),ue=Math.floor(d*(ne-D[0])),he=Math.floor(d*(pe-D[1])),ge=Math.floor(d*(U-D[2])),k=Math.max(0,ue-ie),H=Math.max(0,he-ie),me=Math.max(0,ge-ie),oe=Math.min(h[0],ue+ie+2),te=Math.min(h[1],he+ie+2),se=Math.min(h[2],ge+ie+2),we=k;we<oe;we++)for(var Me=v[we]-ne,_e=h[1]*h[2]*we,Se=H;Se<te;Se++)for(var Ee=x[Se]-pe,Re=Me*Me+Ee*Ee,Pe=_e+h[2]*Se,Ae=me;Ae<se;Ae++){var Ve=b[Ae]-U,rt=Re+Ve*Ve;if(rt<Z){var tt=Ae+Pe;E[tt]<0&&(E[tt]=-E[tt]);var Xe=Math.sqrt(rt),mt=W/Xe,ht=Me*mt,ot=Ee*mt,je=Ve*mt;if(J(ht+=ne,ot+=pe,je+=U,ae,-1)===-1){var St=W-Xe;St<E[tt]&&(E[tt]=St,y&&(w[tt]=ae))}}}}}function fe(ae,ne){var pe=f[ae],U=f[ne],W=O[0]=s[ne]-s[ae],Z=O[1]=r[ne]-r[ae],ie=O[2]=a[ne]-a[ae],ue=W*W+Z*Z+ie*ie,he=Math.sqrt(ue),ge=pe*((pe*pe+he*he-U*U)/(2*pe*he));yi(O,O),function(Ge,qe){Ge[0]=Ge[1]=Ge[2]=1,qe[0]!==0?Ge[0]=(qe[1]+qe[2])/-qe[0]:qe[1]!==0?Ge[1]=(qe[0]+qe[2])/-qe[1]:qe[2]!==0&&(Ge[2]=(qe[0]+qe[1])/-qe[2])}(z,O),yi(z,z),An($,O,z),yi($,$);var k=Math.sqrt(pe*pe-ge*ge);ei(z,z,k),ei($,$,k),ei(O,O,ge),q[0]=O[0]+s[ae],q[1]=O[1]+r[ae],q[2]=O[2]+a[ae],C=-1;for(var H=N,me=0;me<_;me++){var oe=M[me],te=A[me],se=q[0]+oe*z[0]+te*$[0],we=q[1]+oe*z[1]+te*$[1],Me=q[2]+oe*z[2]+te*$[2];if(J(se,we,Me,ae,ne)===-1)for(var _e=Math.floor(d*(se-D[0])),Se=Math.floor(d*(we-D[1])),Ee=Math.floor(d*(Me-D[2])),Re=Math.max(0,_e-H),Pe=Math.max(0,Se-H),Ae=Math.max(0,Ee-H),Ve=Math.min(h[0],_e+H+2),rt=Math.min(h[1],Se+H+2),tt=Math.min(h[2],Ee+H+2),Xe=Re;Xe<Ve;Xe++){W=se-v[Xe];for(var mt=h[1]*h[2]*Xe,ht=Pe;ht<rt;ht++)for(var ot=W*W+(Z=we-x[ht])*Z,je=mt+h[2]*ht,St=Ae;St<tt;St++){ue=ot+(ie=Me-b[St])*ie;var Ze=St+je,ze=E[Ze];if(ze>0&&ue<ze*ze&&(E[Ze]=Math.sqrt(ue),y)){var Mt=W*O[0]+Z*O[1]+ie*O[2];w[Ze]=Mt<0?ne:ae}}}}}function X(ae,ne,pe){console.time("AVSurface.getVolume"),console.time("AVSurface.init"),re(ae,ne,pe),console.timeEnd("AVSurface.init"),console.time("AVSurface.projectPoints"),le(),console.timeEnd("AVSurface.projectPoints"),console.time("AVSurface.projectTorii"),function(){for(var U=0;U<n;U++){G.withinRadii(s[U],r[U],a[U],f[U],T);for(var W=0,Z=T[W];Z>=0;)U<Z&&fe(U,Z),Z=T[++W]}}(),console.timeEnd("AVSurface.projectTorii"),function(){for(var U=0;U<E.length;U++)E[U]<0&&(E[U]=0)}(),function(){for(var U=0;U<w.length;U++)w[U]=i[w[U]]}(),console.timeEnd("AVSurface.getVolume")}this.getSurface=function(ae,ne,pe,U,W,Z,ie){return X(ne,pe,W),new ra(E,h[2],h[1],h[0],w).getSurface(ne,!1,void 0,g,ie)}}li.add("line",JL),Object.assign(Fl,{__deps:[Df,nE,ra,Lf,xE]}),Object.assign(Rl,{__deps:[Df,ra,kn,Lf,ei,An,yi,SE,R]}),Tf.add("molsurf",function(e,t){var i=e.data.args,n=e.data.params;if(i&&n){var s=new(n.type==="av"?Rl:Fl)(i.coordList,i.radiusList,i.indexList).getSurface(n.type,n.probeRadius,n.scaleFactor,n.cutoff,!0,n.smooth,n.contour),r=[s.position.buffer,s.index.buffer];s.normal&&r.push(s.normal.buffer),s.atomindex&&r.push(s.atomindex.buffer),t({sd:s,p:n},r)}},[Fl,Rl]);var zo=function(e){this.structure=e};zo.prototype._getAtomData=function(e){return this.structure.getAtomData({what:{position:!0,radius:!0,index:!0},radiusParams:R(e.radiusParams,{type:"vdw",scale:1})})},zo.prototype._makeSurface=function(e,t){var i=new nn(t.name,"",e);return i.info.type=t.type,i.info.probeRadius=t.probeRadius,i.info.scaleFactor=t.scaleFactor,i.info.smooth=t.smooth,i.info.cutoff=t.cutoff,i},zo.prototype.getSurface=function(e){var t=e||{},i=this._getAtomData(e),n=i.position,s=i.radius,r=i.index,a=new(t.type==="av"?Rl:Fl)(n,s,r).getSurface(t.type,t.probeRadius,t.scaleFactor,t.cutoff,!0,t.smooth,t.contour);return this._makeSurface(a,t)},zo.prototype.getSurfaceWorker=function(e,t){var i=this,n=Object.assign({},e);if(window.hasOwnProperty("Worker")){this.worker===void 0&&(this.worker=new Ru("molsurf"));var s=this._getAtomData(e),r=s.position,a=s.radius,o=s.index,c={args:{coordList:r,radiusList:a,indexList:o},params:n},p=[r.buffer,a.buffer,o.buffer];this.worker.post(c,p,function(l){t(i._makeSurface(l.data.sd,n))},function(l){console.warn("MolecularSurface.getSurfaceWorker error - trying without worker",l),i.worker.terminate(),i.worker=void 0;var u=i.getSurface(n);t(u)})}else{var f=this.getSurface(n);t(f)}},zo.prototype.dispose=function(){this.worker&&this.worker.terminate()};var QL=function(e){function t(i,n,s){var r=this;e.call(this,i,n,s),this.type="surface",this.parameters=Object.assign({surfaceType:{type:"select",rebuild:!0,options:{vws:"vws",sas:"sas",ms:"ms",ses:"ses",av:"av"}},probeRadius:{type:"number",precision:1,max:20,min:0,rebuild:!0},smooth:{type:"integer",precision:1,max:10,min:0,rebuild:!0},scaleFactor:{type:"number",precision:1,max:5,min:0,rebuild:!0},cutoff:{type:"number",precision:2,max:50,min:0,rebuild:!0},contour:{type:"boolean",rebuild:!0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},filterSele:{type:"text",rebuild:!0},colorVolume:{type:"hidden"},useWorker:{type:"boolean",rebuild:!0}},this.parameters,{radius:null,scale:null}),this.__infoList=[],this.structure.signals.refreshed.add(function(){r.__forceNewMolsurf=!0}),this.toBePrepared=!0,this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"uniform"),n.colorValue=R(n.colorValue,14540253),n.disablePicking=R(n.disablePicking,!0),this.surfaceType=R(n.surfaceType,"ms"),this.probeRadius=R(n.probeRadius,1.4),this.smooth=R(n.smooth,2),this.scaleFactor=R(n.scaleFactor,2),this.cutoff=R(n.cutoff,0),this.contour=R(n.contour,!1),this.background=R(n.background,!1),this.opaqueBack=R(n.opaqueBack,!0),this.filterSele=R(n.filterSele,""),this.colorVolume=R(n.colorVolume,void 0),this.useWorker=R(n.useWorker,!0),e.prototype.init.call(this,i)},t.prototype.prepareData=function(i,n,s){var r=this.__infoList[n];if(r||(r={},this.__infoList[n]=r),r.molsurf&&r.sele===i.selection.string)s(n);else{if(this.filterSele){var a=i.structure.getView(new Jt(this.filterSele)),o=a.boundingBox.getSize(new P),c=Math.max(o.x,o.y,o.z),p=i.getAtomSetWithinPoint(a.center,c/2+6);if((i=i.getView(new Jt(i.getAtomSetWithinSelection(p,3).toSeleString()))).atomCount===0)return void s(n)}r.sele=i.selection.string,r.molsurf=new zo(i);var f=this.getSurfaceParams(),l=function(u){r.surface=u,s(n)};this.useWorker?r.molsurf.getSurfaceWorker(f,l):l(r.molsurf.getSurface(f))}},t.prototype.prepare=function(i){var n=this;if((this.__forceNewMolsurf||this.__sele!==this.selection.string||this.__surfaceParams!==JSON.stringify(this.getSurfaceParams()))&&(this.__infoList.forEach(function(o){o&&o.molsurf&&o.molsurf.dispose()}),this.__infoList.length=0),this.structureView.atomCount!==0){var s=function(){n.__sele=n.selection.string,n.__surfaceParams=JSON.stringify(n.getSurfaceParams()),n.__forceNewMolsurf=!1,i()},r=this.assembly==="default"?this.defaultAssembly:this.assembly,a=this.structure.biomolDict[r];a?a.partList.forEach(function(o,c){var p=o.getView(n.structureView);n.prepareData(p,c,function(f){f===a.partList.length-1&&s()})}):this.prepareData(this.structureView,0,s)}else i()},t.prototype.createData=function(i,n){var s=this.__infoList[n],r=s.surface;if(r){var a={position:r.getPosition(),color:r.getColor(this.getColorParams()),index:r.getFilteredIndex(this.filterSele,i)},o=[];if(r.contour){var c=new rE(a,this.getBufferParams({wireframe:!1}));o.push(c)}else{Object.assign(a,{normal:r.getNormal(),picking:r.getPicking(i.getStructure())});var p=new sE(a,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));if(this.getBufferParams().side=="double"){var f=new Wn(p);o.push(f)}else o.push(p)}return{bufferList:o,info:s}}},t.prototype.updateData=function(i,n){var s={};if(i.position||i.radius)return this.__forceNewMolsurf=!0,void this.build();i.color&&(s.color=n.info.surface.getColor(this.getColorParams())),i.index&&(s.index=n.info.surface.getFilteredIndex(this.filterSele,n.sview)),n.bufferList[0].setAttributes(s)},t.prototype.setParameters=function(i,n,s){return n===void 0&&(n={}),i&&i.filterSele&&(n.index=!0),i&&i.colorVolume!==void 0&&(n.color=!0),i&&i.wireframe&&(i.contour||i.contour===void 0&&this.contour)&&(i.wireframe=!1),e.prototype.setParameters.call(this,i,n,s),this},t.prototype.getSurfaceParams=function(i){return i===void 0&&(i={}),Object.assign({type:this.surfaceType,probeRadius:this.probeRadius,scaleFactor:this.scaleFactor,smooth:this.smooth&&!this.contour,cutoff:this.cutoff,contour:this.contour,useWorker:this.useWorker,radiusParams:this.getRadiusParams()},i)},t.prototype.getColorParams=function(){var i=e.prototype.getColorParams.call(this);return i.volume=this.colorVolume,i},t.prototype.getAtomRadius=function(){return 0},t.prototype.clear=function(){e.prototype.clear.call(this)},t.prototype.dispose=function(){this.__infoList.forEach(function(i){i&&i.molsurf&&i.molsurf.dispose()}),this.__infoList.length=0,e.prototype.dispose.call(this)},t}(Ji);li.add("surface",QL);var XL=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="point",this.parameters=Object.assign({pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{flatShaded:null,wireframe:null,linewidth:null,side:null,roughness:null,metalness:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};this.pointSize=R(n.pointSize,1),this.sizeAttenuation=R(n.sizeAttenuation,!0),this.sortParticles=R(n.sortParticles,!1),this.useTexture=R(n.useTexture,!1),this.alphaTest=R(n.alphaTest,.5),this.forceTransparent=R(n.forceTransparent,!1),this.edgeBleach=R(n.edgeBleach,0),e.prototype.init.call(this,n)},t.prototype.createData=function(i){var n=i.getAtomData(this.getAtomParams({position:!0,color:!0,picking:!0}));return{bufferList:[new Q_(n,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach}))]}},t.prototype.updateData=function(i,n){var s=n.sview.getAtomData(this.getAtomParams(i)),r={};i&&!i.position||Object.assign(r,{position:s.position}),i&&!i.color||Object.assign(r,{color:s.color}),n.bufferList[0].setAttributes(r)},t.prototype.getAtomRadius=function(){return .1},t}(Ji);li.add("point",XL),Ht.add("shader/Ribbon.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
attribute vec3 dir;
attribute float size;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
transformed += normalize( dir ) * size;
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`);var ZL=new Uint16Array([0,1,2,1,3,2]);function mp(e){return 3*(4*(e.position.length/3-1))}var eF=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,{position:new Float32Array(mp(i)),color:new Float32Array(mp(i)),index:Ks(mp(i),mp(i)/3),normal:new Float32Array(mp(i)),picking:i.picking},n),this.vertexShader="Ribbon.vert";var s=i.position.length/3-1,r=4*s,a=3*r;this.addAttributes({dir:{type:"v3",value:new Float32Array(a)}}),this.addAttributes({size:{type:"f",value:new Float32Array(r)}}),i.primitiveId=Vc(s),this.setAttributes(i),this.makeIndex()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(i){i===void 0&&(i={});var n,s,r,a,o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x=this.size/4,b=this.geometry.attributes;i.position&&(n=i.position,p=b.position.array,b.position.needsUpdate=!0),i.normal&&(s=i.normal,f=b.normal.array,b.normal.needsUpdate=!0),i.size&&(r=i.size,l=b.size.array,b.size.needsUpdate=!0),i.dir&&(a=i.dir,u=b.dir.array,b.dir.needsUpdate=!0),i.color&&(o=i.color,m=b.color.array,b.color.needsUpdate=!0),i.primitiveId&&(c=i.primitiveId,d=b.primitiveId.array,b.primitiveId.needsUpdate=!0);var A=r?r[0]:null;for(y=0;y<x;++y){for(w=3*y,h=3*y*4,E=4*y,n&&(p[h]=p[h+3]=n[w],p[h+1]=p[h+4]=n[w+1],p[h+2]=p[h+5]=n[w+2],p[h+6]=p[h+9]=n[w+3],p[h+7]=p[h+10]=n[w+4],p[h+8]=p[h+11]=n[w+5]),s&&(f[h]=f[h+3]=-s[w],f[h+1]=f[h+4]=-s[w+1],f[h+2]=f[h+5]=-s[w+2],f[h+6]=f[h+9]=-s[w+3],f[h+7]=f[h+10]=-s[w+4],f[h+8]=f[h+11]=-s[w+5]),_=0;_<4;++_)g=h+3*_,o&&(m[g]=o[w],m[g+1]=o[w+1],m[g+2]=o[w+2]),c&&(d[E+_]=c[y]);r&&(v=r[y],A!==r[y]?(l[E]=A,l[E+1]=A,l[E+2]=v,l[E+3]=v):(l[E]=v,l[E+1]=v,l[E+2]=v,l[E+3]=v),A=v),a&&(u[h]=a[w],u[h+1]=a[w+1],u[h+2]=a[w+2],u[h+3]=-a[w],u[h+4]=-a[w+1],u[h+5]=-a[w+2],u[h+6]=a[w+3],u[h+7]=a[w+4],u[h+8]=a[w+5],u[h+9]=-a[w+3],u[h+10]=-a[w+4],u[h+11]=-a[w+5])}},t.prototype.makeIndex=function(){var i=this.geometry.getIndex();if(i)for(var n=i.array,s=n.length/4/3,r=0;r<s;++r){var a=6*r,o=4*r;n.set(ZL,a);for(var c=0;c<6;++c)n[a+c]+=o}else de.error("Index is null")},t}(Ar),tF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="ribbon",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{side:null,wireframe:null,linewidth:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"chainname"),n.colorScale=R(n.colorScale,"RdYlBu"),n.radiusType=R(n.radiusType,"sstruc"),n.radiusScale=R(n.radiusScale,4),n.quality==="low"?this.subdiv=3:n.quality==="medium"?this.subdiv=6:n.quality==="high"?this.subdiv=12:this.subdiv=R(n.subdiv,6),this.tension=R(n.tension,NaN),this.smoothSheet=R(n.smoothSheet,!1),e.prototype.init.call(this,n)},t.prototype.getSplineParams=function(i){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!0,smoothSheet:this.smoothSheet},i)},t.prototype.getAtomRadius=function(i){return i.isTrace()?e.prototype.getAtomRadius.call(this,i):0},t.prototype.createData=function(i){var n=this,s=[],r=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){r.push(a);var o=new ln(a,n.getSplineParams()),c=o.getSubdividedPosition(),p=o.getSubdividedOrientation(),f=o.getSubdividedColor(n.getColorParams()),l=o.getSubdividedPicking(),u=o.getSubdividedSize(n.getRadiusParams());s.push(new eF({position:c.position,normal:p.binormal,dir:p.normal,color:f.color,size:u.size,picking:l.picking},n.getBufferParams()))}},i.getSelection()),{bufferList:s,polymerList:r}},t.prototype.updateData=function(i,n){i=i||{};var s=0,r=n.polymerList.length;for(s=0;s<r;++s){var a={},o=new ln(n.polymerList[s],this.getSplineParams());if(i.position){var c=o.getSubdividedPosition(),p=o.getSubdividedOrientation();Object.assign(a,{position:c.position,normal:p.binormal,dir:p.normal})}if(i.radius||i.scale){var f=o.getSubdividedSize(this.getRadiusParams());Object.assign(a,{size:f.size})}if(i.color){var l=o.getSubdividedColor(this.getColorParams());Object.assign(a,{color:l.color})}n.bufferList[s].setAttributes(a)}},t.prototype.setParameters=function(i){var n={};return i&&i.tension&&Object.assign(n,{position:!0}),e.prototype.setParameters.call(this,i,n,!1),this},t}(Ji);li.add("ribbon",tF);var iF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="rocket",this.parameters=Object.assign({localAngle:{type:"integer",max:180,min:0,rebuild:!0},centerDist:{type:"number",precision:1,max:10,min:0,rebuild:!0},ssBorder:{type:"boolean",rebuild:!0},radialSegments:!0,openEnded:!0,disableImpostor:!0},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"sstruc"),n.radiusSize=R(n.radiusSize,1.5),n.radiusScale=R(n.radiusScale,1),n.openEnded=R(n.openEnded,!1),n.useInteriorColor=R(n.useInteriorColor,!0),this.localAngle=R(n.localAngle,30),this.centerDist=R(n.centerDist,2.5),this.ssBorder=R(n.ssBorder,!1),e.prototype.init.call(this,n)},t.prototype.createData=function(i){var n=this,s=0,r=[],a=[];this.structure.eachPolymer(function(f){if(!(f.residueCount<4||f.isNucleic())){var l=new $_(f),u=l.getAxis(n.localAngle,n.centerDist,n.ssBorder,n.getColorParams(),n.getRadiusParams());s+=u.size.length,r.push(u),a.push(l)}},i.getSelection());var o={begin:new Float32Array(3*s),end:new Float32Array(3*s),size:new Float32Array(s),color:new Float32Array(3*s),picking:{}},c=new Float32Array(s),p=0;return r.forEach(function(f){o.begin.set(f.begin,3*p),o.end.set(f.end,3*p),o.size.set(f.size,p),o.color.set(f.color,3*p),c.set(f.picking.array,p),p+=f.size.length}),s&&(o.picking=new so(c,i.getStructure())),{bufferList:[new Ir({position1:o.begin,position2:o.end,color:o.color,color2:o.color,radius:o.size,picking:o.picking},this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))],axisList:r,helixbundleList:a,axisData:o}},t.prototype.updateData=function(i,n){var s=this;if((i=i||{}).position)this.build();else{var r={};if(i.color||i.radius){var a=0;n.helixbundleList.forEach(function(o){var c=o.getAxis(s.localAngle,s.centerDist,s.ssBorder,s.getColorParams(),s.getRadiusParams());i.color&&n.axisData.color.set(c.color,3*a),(i.radius||i.scale)&&n.axisData.size.set(c.size,a),a+=c.size.length}),i.color&&Object.assign(r,{color:n.axisData.color,color2:n.axisData.color}),(i.radius||i.scale)&&Object.assign(r,{radius:n.axisData.size})}n.bufferList[0].setAttributes(r)}},t}(Ji);li.add("rocket",iF);var nF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="rope",this.parameters=Object.assign({smooth:{type:"integer",max:15,min:0,rebuild:!0}},this.parameters,{aspectRatio:null,smoothSheet:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.aspectRatio=1,n.tension=R(n.tension,.5),n.radiusScale=R(n.radiusScale,5),n.smoothSheet=!1,this.smooth=R(n.smooth,2),e.prototype.init.call(this,n)},t.prototype.getSpline=function(i){var n=new hr(i);return new ln(i,this.getSplineParams({directional:!1,positionIterator:n.getCenterIterator(this.smooth)}))},t}(n3);li.add("rope",nF);var sF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="spacefill",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.useInteriorColor=R(n.useInteriorColor,!0),e.prototype.init.call(this,n)},t.prototype.createData=function(i){return{bufferList:[new ha(i.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,dullInterior:!0,disableImpostor:this.disableImpostor}))]}},t.prototype.updateData=function(i,n){var s=n.sview.getAtomData(this.getAtomParams(i)),r={};i&&!i.position||Object.assign(r,{position:s.position}),i&&!i.color||Object.assign(r,{color:s.color}),i&&!i.radius||Object.assign(r,{radius:s.radius}),n.bufferList[0].setAttributes(r)},t}(Ji);function aw(e){return 3*(e.position.length/3-1)*2}li.add("spacefill",sF);var rF=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,{position:new Float32Array(aw(i)),color:new Float32Array(aw(i))},n),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag",this.setAttributes(i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(i){var n,s,r,a,o=this.geometry.attributes;if(i.position&&(n=i.position,r=o.position.array,o.position.needsUpdate=!0),i.color&&(s=i.color,a=o.color.array,o.color.needsUpdate=!0),n||s)for(var c,p,f=this.size-1,l=0;l<f;++l)c=3*l,p=3*l*2,n&&(r[p]=n[c],r[p+1]=n[c+1],r[p+2]=n[c+2],r[p+3]=n[c+3],r[p+4]=n[c+4],r[p+5]=n[c+5]),s&&(a[p]=s[c],a[p+1]=s[c+1],a[p+2]=s[c+2],a[p+3]=s[c+3],a[p+4]=s[c+4],a[p+5]=s[c+5]);else de.warn("TraceBuffer.prototype.setAttributes no data")},t}(Nt),aF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="trace",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorScheme=R(n.colorScheme,"chainname"),n.colorScale=R(n.colorScale,"RdYlBu"),n.quality==="low"?this.subdiv=3:n.quality==="medium"?this.subdiv=6:n.quality==="high"?this.subdiv=12:this.subdiv=R(n.subdiv,6),this.tension=R(n.tension,NaN),this.smoothSheet=R(n.smoothSheet,!1),e.prototype.init.call(this,n)},t.prototype.getSplineParams=function(i){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!1,smoothSheet:this.smoothSheet},i)},t.prototype.getAtomRadius=function(i){return i.isTrace()?.1:0},t.prototype.createData=function(i){var n=this,s=[],r=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){r.push(a);var o=new ln(a,n.getSplineParams()),c=o.getSubdividedPosition(),p=o.getSubdividedColor(n.getColorParams());s.push(new rF(Object.assign({},c,p),n.getBufferParams()))}},i.getSelection()),{bufferList:s,polymerList:r}},t.prototype.updateData=function(i,n){i=i||{};var s=0,r=n.polymerList.length;for(s=0;s<r;++s){var a={},o=new ln(n.polymerList[s],this.getSplineParams());if(i.position){var c=o.getSubdividedPosition();Object.assign(a,{position:c.position})}if(i.color){var p=o.getSubdividedColor(this.getColorParams());Object.assign(a,{color:p.color})}n.bufferList[s].setAttributes(a)}},t.prototype.setParameters=function(i){var n={};return i&&i.tension&&Object.assign(n,{position:!0}),e.prototype.setParameters.call(this,i,n,!1),this},t}(Ji);li.add("trace",aF);var oF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="tube",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.aspectRatio=1,n.radiusScale=R(n.radiusScale,2),n.quality==="low"&&(this.radialSegments=5),e.prototype.init.call(this,n)},t.prototype.getSplineParams=function(){return e.prototype.getSplineParams.call(this,{directional:!1})},t}(n3);li.add("tube",oF);var cF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="unitcell",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0},this.parameters,{assembly:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{},s=.5;this.structure.unitcell&&(s=Math.cbrt(this.structure.unitcell.volume)/200),n.radiusSize=R(n.radiusSize,s),n.colorValue=R(n.colorValue,"orange"),n.useInteriorColor=R(n.useInteriorColor,!0),e.prototype.init.call(this,n)},t.prototype.getUnitcellData=function(i){return i.unitcell.getData(i)},t.prototype.create=function(){var i=this.structureView.getStructure();if(i.unitcell){var n=this.getUnitcellData(i);this.sphereBuffer=new ha(n.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new Ir(n.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}},t.prototype.createData=function(i){},t.prototype.updateData=function(i,n){var s=n.sview.getStructure();if(s.unitcell){var r=this.getUnitcellData(s),a={},o={};i&&!i.position||(Object.assign(a,{position:r.vertex.position}),Object.assign(o,{position1:r.edge.position1,position2:r.edge.position2})),i&&!i.color||(Object.assign(a,{color:r.vertex.color}),Object.assign(o,{color:r.edge.color,color2:r.edge.color2})),i&&!i.radius||(Object.assign(a,{radius:r.vertex.radius}),Object.assign(o,{radius:r.edge.radius})),this.sphereBuffer.setAttributes(a),this.cylinderBuffer.setAttributes(o)}},t}(Ji);li.add("unitcell",cF);var pF=function(e){function t(i,n,s){e.call(this,i,n,s),this.type="validation",this.parameters=Object.assign({},this.parameters,{radiusType:null,radiusSize:null,radiusScale:null}),this.init(s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(i){var n=i||{};n.colorValue=R(n.colorValue,"#f0027f"),n.useInteriorColor=R(n.useInteriorColor,!0),e.prototype.init.call(this,n)},t.prototype.createData=function(i){if(i.validation){var n=i.validation.getClashData({structure:i,color:this.colorValue});return{bufferList:[new Ir(n,this.getBufferParams({openEnded:!1}))]}}},t}(Ji);li.add("validation",pF);var ow=new P,Wm=new P,jm=new P,fF=new P(0,1,0),lF=Object.assign({radialSegments:60,openEnded:!1},gn),ME=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,{position:new Float32Array(n.position1.length),color:n.color,picking:n.picking},s,function(r){r===void 0&&(r={});var a=new yf(1,1,R(r.radialSegments,60),1,R(r.openEnded,!1));return a.applyMatrix4(new De().makeRotationX(-Math.PI/2)),a}(s)),this.updateNormals=!0,this._position=new Float32Array(n.position1.length),this.setAttributes(n,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return lF},t.prototype.applyPositionTransform=function(n,s,r){Wm.fromArray(this._position1,r),jm.fromArray(this._position2,r),n.lookAt(Wm,jm,fF);var a=this._radius[s];ow.set(a,a,Wm.distanceTo(jm)),n.scale(ow)},t.prototype.setAttributes=function(n,s){n===void 0&&(n={}),n.position1&&n.position2&&(zs(n.position1,n.position2,this._position),this._position1=n.position1,this._position2=n.position2,n.position=this._position),n.radius&&(this._radius=n.radius),e.prototype.setAttributes.call(this,n,s)},Object.defineProperties(t.prototype,i),t}(da);Vn.add("cone",ME);var AE=function(e){e===void 0&&(e=[]),this.geometryList=e};AE.prototype.computeBoundingBox=function(){var e=this;this.boundingBox?this.boundingBox.empty():this.boundingBox=new ai,this.geometryList.forEach(function(t){t.boundingBox||t.computeBoundingBox(),e.boundingBox.union(t.boundingBox)})};var uF=Object.assign({aspectRatio:1.5,radialSegments:50,openEnded:!1,disableImpostor:!1},gn),Ps=function(e,t){t===void 0&&(t={}),this.group=new Zt,this.wireframeGroup=new Zt,this.pickingGroup=new Zt,this.visible=!0,this.parameters=Bn(t,this.defaultParameters),this.splitPosition=new Float32Array(e.position1.length),this.cylinderRadius=new Float32Array(e.radius.length);var i=this.makeAttributes(e),n={radialSegments:this.parameters.radialSegments,openEnded:this.parameters.openEnded,disableImpostor:this.parameters.disableImpostor};this.cylinderBuffer=new Ir(i.cylinder,n),this.coneBuffer=new ME(i.cone,n),this.geometry=new AE([this.cylinderBuffer.geometry,this.coneBuffer.geometry]),this.matrix=R(t.matrix,new De),this.picking=e.picking},dp={defaultParameters:{configurable:!0},matrix:{configurable:!0},pickable:{configurable:!0}};dp.defaultParameters.get=function(){return uF},dp.matrix.set=function(e){Nt.prototype.setMatrix.call(this,e)},dp.matrix.get=function(){return this.group.matrix.clone()},dp.pickable.get=function(){return!!this.picking},Ps.prototype.makeAttributes=function(e){e===void 0&&(e={});var t,i,n=this.splitPosition,s=this.cylinderRadius,r=this.parameters.aspectRatio,a={},o={};if(e.radius){for(t=0,i=s.length;t<i;++t)s[t]=e.radius[t]/r;a.radius=s,o.radius=e.radius}if(e.position1&&e.position2){var c=new P,p=new P,f=new P,l=new P;for(t=0,i=n.length;t<i;t+=3){c.fromArray(e.position1,t),p.fromArray(e.position2,t),f.subVectors(c,p);var u=f.length(),m=s[t/3]*r*2,d=Math.min(u,m);f.setLength(d),l.copy(p).add(f),l.toArray(n,t)}a.position1=e.position1,a.position2=n,o.position1=n,o.position2=e.position2}return e.color&&(a.color=e.color,a.color2=e.color,o.color=e.color),{cylinder:a,cone:o}},Ps.prototype.getMesh=function(){return new Zt().add(this.cylinderBuffer.getMesh(),this.coneBuffer.getMesh())},Ps.prototype.getWireframeMesh=function(){return new Zt().add(this.cylinderBuffer.getWireframeMesh(),this.coneBuffer.getWireframeMesh())},Ps.prototype.getPickingMesh=function(){return new Zt().add(this.cylinderBuffer.getPickingMesh(),this.coneBuffer.getPickingMesh())},Ps.prototype.setAttributes=function(e){e===void 0&&(e={});var t=this.makeAttributes(e);this.cylinderBuffer.setAttributes(t.cylinder),this.coneBuffer.setAttributes(t.cone)},Ps.prototype.setParameters=function(e){e===void 0&&(e={}),(e=Object.assign({},e))&&e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,e&&e.wireframe!==void 0&&(this.parameters.wireframe=e.wireframe,this.setVisibility(this.visible)),this.cylinderBuffer.setParameters(e),this.coneBuffer.setParameters(e)},Ps.prototype.setVisibility=function(e){Nt.prototype.setVisibility.call(this,e)},Ps.prototype.dispose=function(){this.cylinderBuffer.dispose(),this.coneBuffer.dispose()},Object.defineProperties(Ps.prototype,dp),Vn.add("arrow",Ps);var cw=new P,$m=new P,Km=new P,mF=new P(0,0,0),dF=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,i,n,new Wf(1,1,1)),this.updateNormals=!0,this.setAttributes(i,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(i,n,s){$m.fromArray(this._heightAxis,s),Km.fromArray(this._depthAxis,s),i.lookAt(mF,$m,Km),cw.set(this._size[n],Km.length(),$m.length()),i.scale(cw)},t.prototype.setAttributes=function(i,n){i===void 0&&(i={}),i.size&&(this._size=i.size),i.heightAxis&&(this._heightAxis=i.heightAxis),i.depthAxis&&(this._depthAxis=i.depthAxis),e.prototype.setAttributes.call(this,i,n)},t}(da);Vn.add("box",dF);var pw=new P,Ym=new P,Jm=new P,hF=new P(0,0,0),_F=Object.assign({sphereDetail:2},gn),yF=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,n,s,new Qa(1,R(s.sphereDetail,2))),this.updateNormals=!0,this.setAttributes(n,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return _F},t.prototype.applyPositionTransform=function(n,s,r){Ym.fromArray(this._majorAxis,r),Jm.fromArray(this._minorAxis,r),n.lookAt(hF,Ym,Jm),pw.set(this._radius[s],Jm.length(),Ym.length()),n.scale(pw)},t.prototype.setAttributes=function(n,s){n===void 0&&(n={}),n.radius&&(this._radius=n.radius),n.majorAxis&&(this._majorAxis=n.majorAxis),n.minorAxis&&(this._minorAxis=n.minorAxis),e.prototype.setAttributes.call(this,n,s)},Object.defineProperties(t.prototype,i),t}(da);Vn.add("ellipsoid",yF);var fw=new P,Qm=new P,Xm=new P,gF=new P(0,0,0),wF=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,i,n,new Ja(1,0)),this.updateNormals=!0,this.setAttributes(i,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(i,n,s){Qm.fromArray(this._heightAxis,s),Xm.fromArray(this._depthAxis,s),i.lookAt(gF,Qm,Xm),fw.set(this._size[n],Xm.length(),Qm.length()),i.scale(fw)},t.prototype.setAttributes=function(i,n){i===void 0&&(i={}),i.size&&(this._size=i.size),i.heightAxis&&(this._heightAxis=i.heightAxis),i.depthAxis&&(this._depthAxis=i.depthAxis),e.prototype.setAttributes.call(this,i,n)},t}(da);Vn.add("octahedron",wF);var lw=new P,Zm=new P,ed=new P,EF=new P(0,0,0),vF=function(e){function t(i,n){n===void 0&&(n={}),e.call(this,i,n,new hc(1,0)),this.updateNormals=!0,this.setAttributes(i,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(i,n,s){Zm.fromArray(this._heightAxis,s),ed.fromArray(this._depthAxis,s),i.lookAt(EF,Zm,ed),lw.set(this._size[n],ed.length(),Zm.length()),i.scale(lw)},t.prototype.setAttributes=function(i,n){i===void 0&&(i={}),i.size&&(this._size=i.size),i.heightAxis&&(this._heightAxis=i.heightAxis),i.depthAxis&&(this._depthAxis=i.depthAxis),e.prototype.setAttributes.call(this,i,n)},t}(da);Vn.add("tetrahedron",vF);var uw=new P,mw=new P,dw=new P,bF=new P(0,0,0),xF=Object.assign({radiusRatio:.2,radialSegments:16,tubularSegments:32},gn),SF=function(e){function t(n,s){s===void 0&&(s={}),e.call(this,n,s,new yc(1,R(s.radiusRatio,.2),R(s.radialSegments,16),R(s.tubularSegments,32))),this.updateNormals=!0,this.setAttributes(n,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return xF},t.prototype.applyPositionTransform=function(n,s,r){mw.fromArray(this._majorAxis,r),dw.fromArray(this._minorAxis,r),n.lookAt(bF,mw,dw);var a=this._radius[s];uw.set(a,a,a),n.scale(uw)},t.prototype.setAttributes=function(n,s){n===void 0&&(n={}),n.radius&&(this._radius=n.radius),n.majorAxis&&(this._majorAxis=n.majorAxis),n.minorAxis&&(this._minorAxis=n.minorAxis),e.prototype.setAttributes.call(this,n,s)},Object.defineProperties(t.prototype,i),t}(da);Vn.add("torus",SF);var rn=function(e,t){var i=t||{};this.streamer=e,this.name=R(i.name,""),this.path=R(i.path,"")},Po={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0},isJson:{configurable:!0},isXml:{configurable:!0}};Po.type.get=function(){return""},Po.__objName.get=function(){return""},Po.isBinary.get=function(){return!1},Po.isJson.get=function(){return!1},Po.isXml.get=function(){return!1},rn.prototype.parse=function(){var e=this;return this.streamer.read().then(function(){return e._beforeParse(),e._parse(),e._afterParse(),e[e.__objName]})},rn.prototype._parse=function(){},rn.prototype._beforeParse=function(){},rn.prototype._afterParse=function(){Ce&&de.log(this[this.__objName])},Object.defineProperties(rn.prototype,Po);var Lr=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.firstModelOnly=R(r.firstModelOnly,!1),this.asTrajectory=R(r.asTrajectory,!1),this.cAlphaOnly=R(r.cAlphaOnly,!1),this.structure=new ct(this.name,this.path),this.structureBuilder=new Il(this.structure)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"structure"},i.__objName.get=function(){return"structure"},Object.defineProperties(t.prototype,i),t}(rn),fs=function(e,t,i,n,s){i===void 0&&(i=""),s===void 0&&(s=[]),this.structure=e,this.index=t,this.description=i,this.entityType=function(r){switch(r=r.toLowerCase()){case"polymer":return 1;case"non-polymer":return 2;case"macrolide":return 3;case"water":return 4;default:return 0}}(n||""),this.chainIndexList=s,s.forEach(function(r){e.chainStore.entityIndex[r]=t})},hw={type:{configurable:!0}};hw.type.get=function(){return function(e){switch(e){case 1:return"polymer";case 2:return"non-polymer";case 3:return"macrolide";case 4:return"water";default:return}}(this.entityType)},fs.prototype.getEntityType=function(){return this.entityType},fs.prototype.isPolymer=function(){return this.entityType===1},fs.prototype.isNonPolymer=function(){return this.entityType===2},fs.prototype.isMacrolide=function(){return this.entityType===3},fs.prototype.isWater=function(){return this.entityType===4},fs.prototype.eachChain=function(e){var t=this.structure.getChainProxy();this.chainIndexList.forEach(function(i){t.index=i,e(t)})},Object.defineProperties(fs.prototype,hw);var MF={a:1,b:1,c:1,alpha:90,beta:90,gamma:90,spacegroup:"P 1"},qa=function(e){e===void 0&&(e=MF),this.cartToFrac=new De,this.fracToCart=new De,this.a=e.a,this.b=e.b,this.c=e.c,this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma,this.spacegroup=e.spacegroup;var t=gi(this.alpha),i=gi(this.beta),n=gi(this.gamma),s=Math.cos(t),r=Math.cos(i),a=Math.cos(n),o=Math.sin(i),c=Math.sin(n);if(this.volume=this.a*this.b*this.c*Math.sqrt(1-s*s-r*r-a*a+2*s*r*a),e.cartToFrac===void 0){var p=this.a*this.b*c/this.volume,f=(r*a-s)/(o*c);this.fracToCart.set(this.a,0,0,0,this.b*a,this.b*c,0,0,this.c*r,-this.c*o*f,1/p,0,0,0,0,1).transpose(),this.cartToFrac.getInverse(this.fracToCart)}else this.cartToFrac.copy(e.cartToFrac),this.fracToCart.getInverse(this.cartToFrac)};qa.prototype.getPosition=function(e){var t=new Float32Array(24);if(e.unitcell){var i=e.unitcell,n=e.center.clone().applyMatrix4(i.cartToFrac).floor(),s=new P,r=0,a=function(o,c,p){s.set(o,c,p).add(n).applyMatrix4(i.fracToCart).toArray(t,r),r+=3};a(0,0,0),a(1,0,0),a(0,1,0),a(0,0,1),a(1,1,0),a(1,0,1),a(0,1,1),a(1,1,1)}return t},qa.prototype.getCenter=function(e){return function(t,i){i===void 0&&(i=new P);for(var n=t.length,s=0;s<n;s+=3)i.x+=t[s],i.y+=t[s+1],i.z+=t[s+2];return i.divideScalar(n/3),i}(this.getPosition(e))},qa.prototype.getData=function(e,t){t===void 0&&(t={});var i=R(t.colorValue,"orange"),n=R(t.radius,Math.cbrt(this.volume)/200),s=new Oe(i),r=new P,a=this.getPosition(e),o=Xt(8,s.r,s.g,s.b),c=kn(8,n),p=new Float32Array(36),f=new Float32Array(36),l=Xt(12,s.r,s.g,s.b),u=kn(12,n),m=0;function d(_,h){r.fromArray(a,3*_).toArray(p,m),r.fromArray(a,3*h).toArray(f,m),m+=3}d(0,1),d(0,2),d(0,3),d(1,4),d(1,5),d(2,6),d(3,5),d(4,7),d(5,7),d(2,4),d(7,6),d(3,6);var y=new tI(this,e);return{vertex:{position:a,color:o,radius:c,picking:y},edge:{position1:p,position2:f,color:l,color2:l,radius:u,picking:y}}};var Vu={1:"h",2:"h",3:"i",4:"h",5:"g",6:"h",7:"h",8:"h",9:"h",10:"h",0:"h"},AF=["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"],CF=["MOL_ID","MOLECULE","CHAIN","FRAGMENT","SYNONYM","EC","ENGINEERED","MUTATION","OTHER_DETAILS"],_w=/\s+/;function yw(e,t,i){var n=""+e;return t&&(n+=":"+t),i&&(n+="^"+i),n}var qp=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.hex=R(r.hex,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"pdb"},t.prototype._parse=function(){Ce&&de.time("PdbParser._parse "+this.name);var n=!1,s=this.streamer.peekLines(1)[0],r=s.substr(62,4),a=s.substr(72,4);r===a&&a.trim()&&(n=!0);var o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x,b,A,M,G,T,N,D,L,C,O,q,z,$,re,K,J,Y,le,fe=this.type==="pqr",X=this.type==="pdbqt",ae=this.structure,ne=this.structureBuilder,pe=this.hex,U=10,W=10,Z=this.firstModelOnly,ie=this.asTrajectory,ue=this.cAlphaOnly,he=ae.frames,ge=ae.boxes,k=!1,H=ae.biomolDict,me={},oe={},te={},se=[],we={},Me={},_e={},Se={},Ee={helices:[],sheets:[]},Re=Ee.helices,Pe=Ee.sheets,Ae=ae.atomMap,Ve=ae.atomStore;Ve.resize(Math.round(this.streamer.data.length/80)),(fe||X)&&Ve.addField("partialCharge",1,"float32"),fe&&Ve.addField("radius",1,"float32");var rt=ae.getAtomProxy(),tt=ae.getAtomProxy(),Xe=0,mt=0,ht=!0;this.streamer.eachChunkOfLines(function(ze){(function(Mt,Ge,qe){for(var Qe,j=Mt;j<Ge;++j)if(u=qe[j],(m=u.substr(0,6))==="ATOM  "||m==="HETATM"){if(ht&&(ie?(k?(o=new Float32Array(3*Ve.count),he.push(o)):o=[],c=0):Z||(me={}),z=(q=1).toString(),$=!0,ht=!1),Z&&mt>0)continue;var xe=void 0,ye=void 0,S=void 0,I=void 0,F=0;if(fe){if(F=(I=u.split(_w)).length===10?1:0,w=I[2],ue&&w!=="CA")continue;xe=parseFloat(I[6-F]),ye=parseFloat(I[7-F]),S=parseFloat(I[8-F])}else{if(w=u.substr(12,4).trim(),ue&&w!=="CA")continue;xe=parseFloat(u.substr(30,8)),ye=parseFloat(u.substr(38,8)),S=parseFloat(u.substr(46,8))}if(ie){var B=3*c;if(o[B+0]=xe,o[B+1]=ye,o[B+2]=S,c+=1,k)continue}var V=void 0;fe?(d=parseInt(I[1]),V="",v=u[0]==="H"?1:0,y=F?"":I[4],_=parseInt(I[5-F]),E="",h=I[3],b="",g=1):(d=parseInt(u.substr(6,5),U),pe&&d===99999&&(U=16),v=u[0]==="H"?1:0,y=u[21].trim(),_=parseInt(u.substr(22,4),W),pe&&_===9999&&(W=16),E=u[26].trim(),h=u.substr(17,4).trim()||"MOL",x=parseFloat(u.substr(60,6)),b=u[16].trim(),g=parseFloat(u.substr(54,6)),n||(X?V=u.substr(12,2).trim():(V=u.substr(76,2).trim(),y||(y=u.substr(72,4).trim())),A=parseInt((u.substr(79,1)+u.substr(78,1)).trim()))),Ve.growIfFull(),Ve.atomTypeId[Xe]=Ae.add(w,V),Ve.x[Xe]=xe,Ve.y[Xe]=ye,Ve.z[Xe]=S,Ve.serial[Xe]=d,Ve.altloc[Xe]=b.charCodeAt(0),Ve.occupancy[Xe]=isNaN(g)?0:g,fe?(Ve.partialCharge[Xe]=parseFloat(I[9-F]),Ve.radius[Xe]=parseFloat(I[10-F])):(Ve.bfactor[Xe]=isNaN(x)?0:x,X&&(Ve.partialCharge[Xe]=parseFloat(u.substr(70,6))),isFinite(A)&&(Ve.formalCharge||Ve.addField("formalCharge",1,"int8"),Ve.formalCharge[Xe]=A));var Q=yw(_,y,E);!v||Me[Q]||AF.includes(h)?$||re===y||(z=(q+=1).toString()):re===y&&J===h&&(Gu.includes(h)||K===_&&Y===E)||(z=(q+=1).toString(),K=_,J=h,Y=E),ne.addAtom(mt,y,z,h,_,v,void 0,E),me[d]=Xe,Xe+=1,$=!1,re=y}else if(m==="CONECT"){var ee=me[parseInt(u.substr(6,5))],ce=[11,16,21,26],be={};if(ee===void 0)continue;for(var ve=0;ve<4;++ve){var Ie=parseInt(u.substr(ce[ve],5));if(!Number.isNaN(Ie)&&(Ie=me[Ie])!==void 0)if(ee<Ie?(rt.index=ee,tt.index=Ie):(rt.index=Ie,tt.index=ee),be[Ie]!==void 0)ae.bondStore.bondOrder[be[Ie]]+=1;else{var Be=rt.index+"|"+tt.index;te[Be]===void 0&&(te[Be]=!0,be[Ie]=ae.bondStore.count,ae.bondStore.addBond(rt,tt,1))}}}else if(m==="HELIX "){M=u[19].trim(),G=parseInt(u.substr(21,4)),T=u[25].trim(),N=u[31].trim(),D=parseInt(u.substr(33,4)),L=u[37].trim();var Fe=parseInt(u.substr(39,1));Fe=(Vu[Fe]||Vu[0]).charCodeAt(0),Re.push([M,G,T,N,D,L,Fe])}else if(m==="SHEET ")M=u[21].trim(),G=parseInt(u.substr(22,4)),T=u[26].trim(),N=u[32].trim(),D=parseInt(u.substr(33,4)),L=u[37].trim(),Pe.push([M,G,T,N,D,L]);else if(m==="HETNAM")we[u.substr(11,3)]=u.substr(15).trim();else if(m==="SEQRES"){var Ne=u[11].trim();Ne!==le&&(Se[Ne]=[],le=Ne),(Qe=Se[Ne]).push.apply(Qe,u.substr(19).trim().split(_w))}else if(m==="MODRES"){var ke=u.substr(12,3).trim(),Ye=u[16].trim(),et=u[22].trim(),Je=parseInt(u.substr(18,4).trim()),ni=yw(Je,Ye,et);Me[ni]={resname:ke,chainname:Ye,inscode:et,resno:Je}}else if(m==="COMPND"){var Ot=u.substr(10,70).trim(),cn=Ot.indexOf(":"),Cn=Ot.substring(0,cn),Et=void 0;CF.includes(Cn)?(O=Cn,Et=Ot.substring(cn+2)):Et=Ot,Et=Et.replace(/;$/,""),O==="MOL_ID"?(C={chainList:[],name:""},se.push(C)):O==="MOLECULE"?(C.name&&(C.name+=" "),C.name+=Et):O==="CHAIN"&&Array.prototype.push.apply(C.chainList,Et.split(/\s*,\s*/))}else if(u.startsWith("TER")){var Le=ae.getChainProxy(ae.chainStore.count-1);_e[Le.chainname]=Le.index,z=(q+=1).toString(),$=!0}else if(m==="REMARK"&&u.substr(7,3)==="350"){if(u.substr(11,12)==="BIOMOLECULE:"){var Ke=u.substr(23).trim();/^(0|[1-9][0-9]*)$/.test(Ke)&&(Ke="BU"+Ke),p=new $i(Ke),H[Ke]=p}else if(u.substr(13,5)==="BIOMT"){var vt=u.split(/\s+/),Lt=parseInt(u[18])-1;Lt===0&&(l=new De,f.matrixList.push(l));var lt=l.elements;lt[0+Lt]=parseFloat(vt[4]),lt[4+Lt]=parseFloat(vt[5]),lt[8+Lt]=parseFloat(vt[6]),lt[12+Lt]=parseFloat(vt[7])}else if(u.substr(11,30)==="APPLY THE FOLLOWING TO CHAINS:"||u.substr(11,30)==="                   AND CHAINS:"){u.substr(11,5)==="APPLY"&&(f=p.addPart());for(var Ft=u.substr(41,30).split(","),Tt=0,$t=Ft.length;Tt<$t;++Tt){var Ti=Ft[Tt].trim();Ti&&f.chainList.push(Ti)}}}else if(m==="HEADER")ae.id=u.substr(62,4);else if(m==="TITLE ")ae.title+=(ae.title?" ":"")+u.substr(10,70).trim();else if(m==="MODEL ")ht=!0;else if(m==="ENDMDL"||u.trim()==="END"){if(ht)continue;ie&&!k&&(he.push(new Float32Array(o)),k=!0),mt+=1,ht=!0}else if(u.substr(0,5)==="MTRIX"){if(u[59]==="1")continue;p&&p.name==="NCS"||(p=new $i("NCS"),H.NCS=p,f=p.addPart());var At=u.split(/\s+/),oi=parseInt(u[5])-1;oi===0&&(l=new De,f.matrixList.push(l));var Qs=l.elements;Qs[0+oi]=parseFloat(At[2]),Qs[4+oi]=parseFloat(At[3]),Qs[8+oi]=parseFloat(At[4]),Qs[12+oi]=parseFloat(At[5])}else if(u.substr(0,5)==="ORIGX"){oe.origx||(oe.origx=new De);var es=u.split(/\s+/),Fr=parseInt(u[5])-1,Es=oe.origx.elements;Es[0+Fr]=parseFloat(es[1]),Es[4+Fr]=parseFloat(es[2]),Es[8+Fr]=parseFloat(es[3]),Es[12+Fr]=parseFloat(es[4])}else if(u.substr(0,5)==="SCALE"){oe.scale||(oe.scale=new De);var vs=u.split(/\s+/),bs=parseInt(u[5])-1,xs=oe.scale.elements;xs[0+bs]=parseFloat(vs[1]),xs[4+bs]=parseFloat(vs[2]),xs[8+bs]=parseFloat(vs[3]),xs[12+bs]=parseFloat(vs[4])}else if(m==="CRYST1"){var Rr=parseFloat(u.substr(6,9)),Nr=parseFloat(u.substr(15,9)),Wc=parseFloat(u.substr(24,9)),_a=parseFloat(u.substr(33,7)),ya=parseFloat(u.substr(40,7)),ga=parseFloat(u.substr(47,7)),wa=u.substr(55,11).trim(),Ss=new Float32Array(9);Ss[0]=Rr,Ss[4]=Nr,Ss[8]=Wc,ge.push(Ss),mt===0&&(oe.a=Rr,oe.b=Nr,oe.c=Wc,oe.alpha=_a,oe.beta=ya,oe.gamma=ga,oe.spacegroup=wa)}})(0,ze.length,ze)}),ne.finalize();var ot=se.length;if(ot){ae.eachChain(function(ze){ze.entityIndex=ot}),se.forEach(function(ze,Mt){var Ge=ze.chainList.map(function(qe){return _e[qe]});ae.entityList.push(new fs(ae,Mt,ze.name,"polymer",Ge))});var je=se.length,St=ae.getResidueProxy(),Ze={};ae.eachChain(function(ze){ze.entityIndex===ot&&(St.index=ze.residueOffset,Ze[St.resname]||(Ze[St.resname]=[]),Ze[St.resname].push(ze.index))}),Object.keys(Ze).forEach(function(ze){var Mt=Ze[ze],Ge="non-polymer",qe=we[ze]||ze;Gu.includes(ze)&&(qe="water",Ge="water"),ae.entityList.push(new fs(ae,je,qe,Ge,Mt)),je+=1})}oe.a!==void 0?ae.unitcell=new qa(oe):ae.unitcell=void 0,(Re.length||Pe.length)&&uE(ae,Ee),ae.finalizeAtoms(),n||o1(ae),Ou(ae),ae.finalizeBonds(),Re.length||Pe.length||a1(ae),ku(ae),Ce&&de.timeEnd("PdbParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("pdb",qp),ft.add("pdb1",qp),ft.add("ent",qp);var PF=/\s+/,gw=/'((?:(?!'\s).)*)'|"((?:(?!"\s).)*)"|(\S+)/g,hp=/"/g,_p=/^['"]+|['"]+$/g;function ww(e){return!e||e[0]!==e[e.length-1]||e[0]!=="'"&&e[0]!=='"'?e:e.substring(1,e.length-1)}function En(e,t){Array.isArray(e[t])||Object.keys(e).forEach(function(i){e[i]=[e[i]]})}function Ln(e){return e!=="?"}function il(e,t){return Ln(e)?e:t}function Ew(e){switch(e.toLowerCase()){case"?":case"sing":return 1;case"doub":return 2;case"trip":return 3;case"quad":return 4}return 0}var td=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"cif"},t.prototype._parse=function(){de.time("CifParser._parse "+this.name);var n,s,r,a,o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x,b,A,M=this.structure,G=this.structureBuilder,T=this.firstModelOnly,N=this.asTrajectory,D=this.cAlphaOnly,L=M.frames,C={},O={},q={},z=!1,$=null,re=!1,K=!1,J=!1,Y=[],le=null,fe=null,X=null,ae=null,ne=[],pe=M.atomMap,U=M.atomStore;U.resize(this.streamer.data.length/100);var W,Z=0,ie=0;if(this.streamer.eachChunkOfLines(function(me){(function(oe,te,se){for(var we=oe;we<te;++we)if(r=se[we],((a=r.trim())||z||K)&&a[0]!=="#")if(a.substring(0,5)==="data_")C.data=a.substring(5).trim();else if(a[0]===";")z?(K?(le===Y.length&&(le=0),Y[le].push($),le+=1):X===!1?C[fe]=$:C[fe][X]=$,z=!1,$=null):(z=!0,$=a.substring(1));else if(a==="loop_")K=!0,J=!0,Y.length=0,ne.length=0,le=0;else if(a[0]==="_"){var Me,_e,Se;if(K&&!J&&(K=!1),K)_e=(Me=a.split("."))[0].substring(1),Se=Me[1],Me.length===1?(Se=!1,C[_e]||(C[_e]=[]),Y.push(C[_e])):(C[_e]||(C[_e]={}),C[_e][Se]?Ce&&de.warn(_e,Se,"already exists"):(C[_e][Se]=[],Y.push(C[_e][Se]),ne.push(Se))),fe=_e,X=Se,ae=!0;else{var Ee=a.match(gw),Re=Ee[0],Pe=Ee[1];_e=(Me=Re.split("."))[0].substring(1),Se=Me[1],Me.length===1?(Se=!1,C[_e]=Pe):(C[_e]||(C[_e]={}),C[_e][Se]?Ce&&de.warn(_e,Se,"already exists"):C[_e][Se]=Pe),Pe||(re=!0),fe=_e,X=Se}}else if(z)$+=r;else if(K){if(!a)continue;if(fe==="atom_site"){var Ae=a.split(PF);ae&&(o=ne.indexOf("auth_asym_id"),c=ne.indexOf("auth_seq_id"),p=ne.indexOf("label_seq_id"),f=ne.indexOf("label_atom_id"),l=ne.indexOf("label_comp_id"),u=ne.indexOf("label_asym_id"),m=ne.indexOf("label_entity_id"),d=ne.indexOf("label_alt_id"),w=ne.indexOf("Cartn_x"),v=ne.indexOf("Cartn_y"),x=ne.indexOf("Cartn_z"),_=ne.indexOf("id"),h=ne.indexOf("type_symbol"),y=ne.indexOf("group_PDB"),b=ne.indexOf("B_iso_or_equiv"),g=ne.indexOf("pdbx_PDB_model_num"),E=ne.indexOf("pdbx_PDB_ins_code"),A=ne.indexOf("occupancy"),ae=!1,W=parseInt(Ae[g]),N&&(n=[],s=0));var Ve=parseInt(Ae[g]);if(W!==Ve&&(N&&(ie===0&&L.push(new Float32Array(n)),n=new Float32Array(3*U.count),L.push(n),s=0),ie+=1),W=Ve,T&&ie>0)continue;var rt=Ae[f].replace(hp,"");if(D&&rt!=="CA")continue;var tt=parseFloat(Ae[w]),Xe=parseFloat(Ae[v]),mt=parseFloat(Ae[x]);if(N){var ht=3*s;if(n[ht+0]=tt,n[ht+1]=Xe,n[ht+2]=mt,s+=1,ie>0)continue}var ot=Ae[l],je=parseInt(Ae[c!==-1?c:p]),St=Ae[E];St=St==="?"?"":St;var Ze=Ae[o],ze=Ae[u],Mt=Ae[y][0]==="H"?1:0,Ge=Ae[h],qe=parseFloat(Ae[b]),Qe=parseFloat(Ae[A]),j=Ae[d];if(j=j==="."?"":j,U.growIfFull(),U.atomTypeId[Z]=pe.add(rt,Ge),U.x[Z]=tt,U.y[Z]=Xe,U.z[Z]=mt,U.serial[Z]=parseInt(Ae[_]),U.bfactor[Z]=isNaN(qe)?0:qe,U.occupancy[Z]=isNaN(Qe)?0:Qe,U.altloc[Z]=j.charCodeAt(0),G.addAtom(ie,Ze,ze,ot,je,Mt,void 0,St),Ce){var xe=O[ze];xe!==void 0&&xe!==Ze&&Ce&&de.warn(xe,Ze)}O[ze]=Ze;var ye=Ae[m];q[ye]||(q[ye]=new Set),q[ye].add(M.chainStore.count-1),Z+=1}else{var S=a.match(gw),I=S.length;le===Y.length&&(le=0);for(var F=0;F<I;++F)Y[le+F].push(S[F]);le+=I}J=!1}else if(a[0]==="'"&&a[a.length-1]==="'"){var B=a.substring(1,a.length-1);X===!1?C[fe]=B:C[fe][X]=B}else re?X===!1?C[fe]=a:C[fe][X]=a:Ce&&de.log("CifParser._parse: unknown state",a);else z=!1,K=!1,re=!1,Y.length=0,le=null,fe=null,X=null,ae=null,ne.length=0})(0,me.length,me)}),C.chem_comp&&C.chem_comp_atom)(function(me,oe,te){var se,we,Me=oe.atomStore,_e=oe.atomMap,Se=me.chem_comp,Ee=me.chem_comp_atom,Re=me.chem_comp_bond;Se&&(Se.name&&(oe.title=Se.name.trim().replace(_p,"")),Se.id&&(oe.id=Se.id.trim().replace(_p,"")));var Pe={};if(Ee){var Ae,Ve,rt,tt;for(En(Ee,"comp_id"),we=Ee.comp_id.length,se=0;se<we;++se)Me.growIfFull(),Ae=Ee.atom_id[se].replace(hp,""),Ve=Ee.type_symbol[se],Pe[Ae]=se,Me.atomTypeId[se]=_e.add(Ae,Ve),Me.x[se]=Ee.model_Cartn_x[se],Me.y[se]=Ee.model_Cartn_y[se],Me.z[se]=Ee.model_Cartn_z[se],Me.serial[se]=se,rt=Ee.pdbx_component_comp_id[se],tt=Ee.pdbx_residue_numbering?Ee.pdbx_residue_numbering[se]:1,te.addAtom(0,"","",rt,tt,!0);for(se=0;se<we;++se){var Xe=se+we;Me.growIfFull(),Ae=Ee.atom_id[se].replace(hp,""),Ve=Ee.type_symbol[se],Me.atomTypeId[Xe]=_e.add(Ae,Ve),Me.x[Xe]=Ee.pdbx_model_Cartn_x_ideal[se],Me.y[Xe]=Ee.pdbx_model_Cartn_y_ideal[se],Me.z[Xe]=Ee.pdbx_model_Cartn_z_ideal[se],Me.serial[Xe]=Xe,rt=Ee.pdbx_component_comp_id[se],tt=Ee.pdbx_residue_numbering?Ee.pdbx_residue_numbering[se]:1,te.addAtom(1,"","",rt,tt,!0)}}if(Ee&&Re){var mt,ht,ot;En(Re,"comp_id"),we=Re.comp_id.length;var je=Ee.comp_id.length,St=oe.getAtomProxy(),Ze=oe.getAtomProxy();for(se=0;se<we;++se)mt=Re.atom_id_1[se].replace(hp,""),ht=Re.atom_id_2[se].replace(hp,""),ot=Ew(Re.value_order[se]),St.index=Pe[mt],Ze.index=Pe[ht],oe.bondStore.growIfFull(),oe.bondStore.addBond(St,Ze,ot),St.index+=je,Ze.index+=je,oe.bondStore.growIfFull(),oe.bondStore.addBond(St,Ze,ot)}})(C,M,G),G.finalize(),M.finalizeAtoms(),M.finalizeBonds(),no(M);else if(C.atom_site_type_symbol&&C.atom_site_label&&C.atom_site_fract_x)(function(me,oe,te){var se=oe.atomStore,we=oe.atomMap;me.data&&(oe.id=me.data,oe.name=me.data),oe.unitcell=new qa({a:parseFloat(me.cell_length_a),b:parseFloat(me.cell_length_b),c:parseFloat(me.cell_length_c),alpha:parseFloat(me.cell_angle_alpha),beta:parseFloat(me.cell_angle_beta),gamma:parseFloat(me.cell_angle_gamma),spacegroup:ww(me["symmetry_space_group_name_H-M"])});for(var Me=new P,_e=new P,Se=me.atom_site_type_symbol.length,Ee=0;Ee<Se;++Ee){se.growIfFull();var Re=me.atom_site_label[Ee],Pe=me.atom_site_type_symbol[Ee];se.atomTypeId[Ee]=we.add(Re,Pe),Me.set(me.atom_site_fract_x[Ee],me.atom_site_fract_y[Ee],me.atom_site_fract_z[Ee]),Me.applyMatrix4(oe.unitcell.fracToCart),_e.add(Me),se.x[Ee]=Me.x,se.y[Ee]=Me.y,se.z[Ee]=Me.z,me.atom_site_occupancy&&(se.occupancy[Ee]=parseFloat(me.atom_site_occupancy[Ee])),se.serial[Ee]=Ee,te.addAtom(0,"","","HET",1,!0)}_e.divideScalar(Se),oe.center=_e,ku(oe);var Ae=new P,Ve=new P,rt=oe.biomolDict.SUPERCELL.partList[0].matrixList,tt=Se;function Xe(je){return we.get(se.atomTypeId[je]).covalent}for(var mt=new De,ht=function(je){var St=Xe(je);Me.set(se.x[je],se.y[je],se.z[je]),rt.forEach(function(Ze){if(!mt.equals(Ze)){Ae.copy(Me),Ae.applyMatrix4(Ze);for(var ze=0;ze<Se;++ze){Ve.set(se.x[ze],se.y[ze],se.z[ze]);var Mt=Ae.distanceToSquared(Ve),Ge=Xe(ze)+St,qe=Ge+.3,Qe=Ge-.5;if(Mt<qe*qe&&Mt>Qe*Qe)return se.growIfFull(),se.atomTypeId[tt]=se.atomTypeId[je],se.x[tt]=Ae.x,se.y[tt]=Ae.y,se.z[tt]=Ae.z,se.occupancy[tt]=se.occupancy[je],se.serial[tt]=tt,se.altloc[tt]="A".charCodeAt(0),te.addAtom(0,"","","HET",1,!0),void(tt+=1)}}})},ot=0;ot<Se;++ot)ht(ot)})(C,M,G),G.finalize(),M.finalizeAtoms(),Ou(M),M.finalizeBonds();else{var ue=function(me,oe,te){var se,we,Me,_e,Se=[],Ee=[],Re=me.struct_conf;if(Re)for(En(Re,"id"),se=0,we=Re.beg_auth_seq_id.length;se<we;++se){var Pe=parseInt(Re.pdbx_PDB_helix_class[se]);Number.isNaN(Pe)||(Me=Re.pdbx_beg_PDB_ins_code[se],_e=Re.pdbx_end_PDB_ins_code[se],Se.push([te[Re.beg_label_asym_id[se]],parseInt(Re.beg_auth_seq_id[se]),il(Me,""),te[Re.end_label_asym_id[se]],parseInt(Re.end_auth_seq_id[se]),il(_e,""),(Vu[Pe]||Vu[0]).charCodeAt(0)]))}var Ae=me.struct_sheet_range;if(Ae)for(En(Ae,"id"),se=0,we=Ae.beg_auth_seq_id.length;se<we;++se)Me=Ae.pdbx_beg_PDB_ins_code[se],_e=Ae.pdbx_end_PDB_ins_code[se],Ee.push([te[Ae.beg_label_asym_id[se]],parseInt(Ae.beg_auth_seq_id[se]),il(Me,""),te[Ae.end_label_asym_id[se]],parseInt(Ae.end_auth_seq_id[se]),il(_e,"")]);return!(!Re&&!Ae)&&{helices:Se,sheets:Ee}}(C,0,O);if(function(me,oe,te){var se={},we=oe.biomolDict;if(me.pdbx_struct_oper_list){var Me=me.pdbx_struct_oper_list;En(Me,"id"),Me.id.forEach(function(Mt,Ge){var qe=new De,Qe=qe.elements;Qe[0]=parseFloat(Me["matrix[1][1]"][Ge]),Qe[1]=parseFloat(Me["matrix[1][2]"][Ge]),Qe[2]=parseFloat(Me["matrix[1][3]"][Ge]),Qe[4]=parseFloat(Me["matrix[2][1]"][Ge]),Qe[5]=parseFloat(Me["matrix[2][2]"][Ge]),Qe[6]=parseFloat(Me["matrix[2][3]"][Ge]),Qe[8]=parseFloat(Me["matrix[3][1]"][Ge]),Qe[9]=parseFloat(Me["matrix[3][2]"][Ge]),Qe[10]=parseFloat(Me["matrix[3][3]"][Ge]),Qe[3]=parseFloat(Me["vector[1]"][Ge]),Qe[7]=parseFloat(Me["vector[2]"][Ge]),Qe[11]=parseFloat(Me["vector[3]"][Ge]),qe.transpose(),se[Mt]=qe})}if(me.pdbx_struct_assembly_gen){var _e=me.pdbx_struct_assembly_gen;En(_e,"assembly_id");var Se=function(Mt){var Ge={};return Mt.replace(/[()']/g,"").split(",").forEach(function(qe){if(qe.includes("-"))for(var Qe=qe.split("-"),j=parseInt(Qe[0]),xe=parseInt(Qe[1]);j<=xe;++j)Ge[j]=se[j];else Ge[qe]=se[qe]}),Ge};_e.assembly_id.forEach(function(Mt,Ge){var qe={},Qe=_e.oper_expression[Ge].replace(/['"]\(|['"]/g,"");if(Qe.includes(")(")||Qe.indexOf("(")>0){Qe=Qe.split("(");var j=Se(Qe[0]),xe=Se(Qe[1]);Object.keys(j).forEach(function(Q){Object.keys(xe).forEach(function(ee){var ce=new De;ce.multiplyMatrices(j[Q],xe[ee]),qe[Q+"x"+ee]=ce})})}else qe=Se(Qe);var ye=[];for(var S in qe)ye.push(qe[S]);var I=Mt;/^(0|[1-9][0-9]*)$/.test(I)&&(I="BU"+I);for(var F=_e.asym_id_list[Ge].split(","),B=0,V=F.length;B<V;++B)F[B]=te[F[B]];we[I]===void 0&&(we[I]=new $i(I)),we[I].addPart(ye,F)})}if(me.struct_ncs_oper){var Ee=me.struct_ncs_oper;En(Ee,"id");var Re="NCS";we.NCS=new $i(Re);var Pe=we.NCS.addPart();Ee.id.forEach(function(Mt,Ge){if(Ee.code[Ge]!=="given"){var qe=new De,Qe=qe.elements;Qe[0]=parseFloat(Ee["matrix[1][1]"][Ge]),Qe[1]=parseFloat(Ee["matrix[1][2]"][Ge]),Qe[2]=parseFloat(Ee["matrix[1][3]"][Ge]),Qe[4]=parseFloat(Ee["matrix[2][1]"][Ge]),Qe[5]=parseFloat(Ee["matrix[2][2]"][Ge]),Qe[6]=parseFloat(Ee["matrix[2][3]"][Ge]),Qe[8]=parseFloat(Ee["matrix[3][1]"][Ge]),Qe[9]=parseFloat(Ee["matrix[3][2]"][Ge]),Qe[10]=parseFloat(Ee["matrix[3][3]"][Ge]),Qe[3]=parseFloat(Ee["vector[1]"][Ge]),Qe[7]=parseFloat(Ee["vector[2]"][Ge]),Qe[11]=parseFloat(Ee["vector[3]"][Ge]),qe.transpose(),Pe.matrixList.push(qe)}}),Pe.matrixList.length===0&&delete we.NCS}var Ae={};if(me.cell){var Ve=me.cell,rt=parseFloat(Ve.length_a),tt=parseFloat(Ve.length_b),Xe=parseFloat(Ve.length_c),mt=new Float32Array(9);mt[0]=rt,mt[4]=tt,mt[8]=Xe,oe.boxes.push(mt),Ae.a=rt,Ae.b=tt,Ae.c=Xe,Ae.alpha=parseFloat(Ve.angle_alpha),Ae.beta=parseFloat(Ve.angle_beta),Ae.gamma=parseFloat(Ve.angle_gamma)}me.symmetry&&(Ae.spacegroup=ww(me.symmetry["space_group_name_H-M"]));var ht=new De;if(me.database_PDB_matrix){var ot=me.database_PDB_matrix,je=ht.elements;je[0]=parseFloat(ot["origx[1][1]"]),je[1]=parseFloat(ot["origx[1][2]"]),je[2]=parseFloat(ot["origx[1][3]"]),je[4]=parseFloat(ot["origx[2][1]"]),je[5]=parseFloat(ot["origx[2][2]"]),je[6]=parseFloat(ot["origx[2][3]"]),je[8]=parseFloat(ot["origx[3][1]"]),je[9]=parseFloat(ot["origx[3][2]"]),je[10]=parseFloat(ot["origx[3][3]"]),je[3]=parseFloat(ot["origx_vector[1]"]),je[7]=parseFloat(ot["origx_vector[2]"]),je[11]=parseFloat(ot["origx_vector[3]"]),ht.transpose(),Ae.origx=ht}var St=new De;if(me.atom_sites){var Ze=me.atom_sites,ze=St.elements;ze[0]=parseFloat(Ze["fract_transf_matrix[1][1]"]),ze[1]=parseFloat(Ze["fract_transf_matrix[1][2]"]),ze[2]=parseFloat(Ze["fract_transf_matrix[1][3]"]),ze[4]=parseFloat(Ze["fract_transf_matrix[2][1]"]),ze[5]=parseFloat(Ze["fract_transf_matrix[2][2]"]),ze[6]=parseFloat(Ze["fract_transf_matrix[2][3]"]),ze[8]=parseFloat(Ze["fract_transf_matrix[3][1]"]),ze[9]=parseFloat(Ze["fract_transf_matrix[3][2]"]),ze[10]=parseFloat(Ze["fract_transf_matrix[3][3]"]),ze[3]=parseFloat(Ze["fract_transf_vector[1]"]),ze[7]=parseFloat(Ze["fract_transf_vector[2]"]),ze[11]=parseFloat(Ze["fract_transf_vector[3]"]),St.transpose(),Ae.scale=St}Ae.a!==void 0?oe.unitcell=new qa(Ae):oe.unitcell=void 0}(C,M,O),function(me,oe,te){var se=me.struct_conn;if(se){En(se,"id");for(var we=/"/g,Me=oe.getAtomProxy(),_e=oe.getAtomProxy(),Se={},Ee=0,Re=se.id.length;Ee<Re;++Ee){var Pe=se.conn_type_id[Ee];if(Pe!=="hydrog"&&Pe!=="mismat"&&Pe!=="saltbr"&&se.ptnr1_symmetry[Ee]==="1_555"&&se.ptnr2_symmetry[Ee]==="1_555"){var Ae=se.pdbx_ptnr1_PDB_ins_code[Ee],Ve=se.pdbx_ptnr1_label_alt_id[Ee],rt=se.ptnr1_auth_seq_id[Ee]+(Ln(Ae)?"^"+Ae:"")+":"+te[se.ptnr1_label_asym_id[Ee]]+"."+se.ptnr1_label_atom_id[Ee].replace(we,"")+(Ln(Ve)?"%"+Ve:""),tt=Se[rt];if(!tt){var Xe=new Jt(rt);if(Xe.selection.error){Ce&&de.warn("invalid selection for connection",rt);continue}tt=oe.getAtomIndices(Xe),Se[rt]=tt}var mt=se.pdbx_ptnr2_PDB_ins_code[Ee],ht=se.pdbx_ptnr2_label_alt_id[Ee],ot=se.ptnr2_auth_seq_id[Ee]+(Ln(mt)?"^"+mt:"")+":"+te[se.ptnr2_label_asym_id[Ee]]+"."+se.ptnr2_label_atom_id[Ee].replace(we,"")+(Ln(ht)?"%"+ht:""),je=Se[ot];if(!je){var St=new Jt(ot);if(St.selection.error){Ce&&de.warn("invalid selection for connection",ot);continue}je=oe.getAtomIndices(St),Se[ot]=je}var Ze=tt.length,ze=je.length;if(Ze>ze){var Mt=Ze;Ze=ze,ze=Mt;var Ge=tt;tt=je,je=Ge}if(Ze!==0&&ze!==0)for(var qe=0;qe<ze;++qe)Me.index=tt[qe%Ze],_e.index=je[qe],Me&&_e?oe.bondStore.addBond(Me,_e,Ew(se.pdbx_value_order[Ee])):de.log("atoms for connection not found");else Ce&&de.warn("no atoms found for",rt,ot)}}}}(C,M,O),function(me,oe,te){if(me.entity){En(me.entity,"id");for(var se=me.entity,we=se.id.length,Me=0;Me<we;++Me){var _e=se.pdbx_description[Me],Se=se.type[Me],Ee=Array.from(te[se.id[Me]]);oe.entityList[Me]=new fs(oe,Me,_e,Se,Ee)}}}(C,M,q),C.struct&&C.struct.title&&(M.title=C.struct.title.trim().replace(_p,"")),C.entry&&C.entry.id&&(M.id=C.entry.id.trim().replace(_p,"")),C.pdbx_audit_revision_history){if(C.pdbx_audit_revision_history.revision_date){En(C.pdbx_audit_revision_history,"revision_date");var he=C.pdbx_audit_revision_history.revision_date.filter(Ln);he.length&&(M.header.releaseDate=he[0])}if(C.pdbx_database_status.recvd_initial_deposition_date){En(C.pdbx_database_status,"recvd_initial_deposition_date");var ge=C.pdbx_database_status.recvd_initial_deposition_date.filter(Ln);ge.length&&(M.header.depositionDate=ge[0])}}else if(C.database_PDB_rev){if(C.database_PDB_rev.date){En(C.database_PDB_rev,"date");var k=C.database_PDB_rev.date.filter(Ln);k.length&&(M.header.releaseDate=k[0])}if(C.database_PDB_rev.date_original){En(C.database_PDB_rev,"date_original");var H=C.database_PDB_rev.date_original.filter(Ln);H.length&&(M.header.depositionDate=H[0])}}C.reflns&&C.reflns.d_resolution_high?Ln(C.reflns.d_resolution_high)&&(M.header.resolution=parseFloat(C.reflns.d_resolution_high)):C.refine&&C.refine.ls_d_res_high&&Ln(C.refine.ls_d_res_high)&&(M.header.resolution=parseFloat(C.refine.ls_d_res_high)),C.refine&&C.refine.ls_R_factor_R_free&&Ln(C.refine.ls_R_factor_R_free)&&(M.header.rFree=parseFloat(C.refine.ls_R_factor_R_free)),C.refine&&C.refine.ls_R_factor_R_work&&Ln(C.refine.ls_R_factor_R_work)&&(M.header.rWork=parseFloat(C.refine.ls_R_factor_R_work)),C.exptl&&C.exptl.method&&(En(C.exptl,"method"),M.header.experimentalMethods=C.exptl.method.map(function(me){return me.replace(_p,"")})),G.finalize(),M.finalizeAtoms(),Ou(M),M.finalizeBonds(),ue?uE(M,ue):a1(M),ku(M),M.extraData.cif=C}Ce&&de.timeEnd("CifParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("cif",td),ft.add("mcif",td),ft.add("mmcif",td);var TF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"gro"},t.prototype._parse=function(){Ce&&de.time("GroParser._parse "+this.name);var n,s,r=this.structure,a=this.structureBuilder,o=this.firstModelOnly,c=this.asTrajectory,p=this.cAlphaOnly,f=r.frames,l=r.boxes,u=this.streamer.peekLines(3);r.title=u[0].trim();var m,d,y,_,h=5+(u[2].length-u[2].lastIndexOf(".")-1),g=20+h,E=20+2*h,w=parseInt(u[1]),v=w+3,x=r.atomMap,b=r.atomStore;b.resize(w);var A=0,M=0,G=0;this.streamer.eachChunkOfLines(function(T){(function(N,D,L){for(var C=N;C<D;++C){var O=++G-1,q=L[C];if(q){if(O%v==0)c&&(n=new Float32Array(3*w),f.push(n),s=0);else if(O%v!=1)if(O%v==v-1){var z=q.trim().split(/\s+/),$=new Float32Array(9);if($[0]=10*parseFloat(z[0]),$[4]=10*parseFloat(z[1]),$[8]=10*parseFloat(z[2]),l.push($),o)return!0;M+=1}else{if(m=q.substr(10,5).trim(),p&&m!=="CA")continue;var re=10*parseFloat(q.substr(20,h)),K=10*parseFloat(q.substr(g,h)),J=10*parseFloat(q.substr(E,h));if(c){var Y=3*s;if(n[Y+0]=re,n[Y+1]=K,n[Y+2]=J,s+=1,O>v)continue}d=q.substr(5,5).trim(),y=parseInt(q.substr(0,5)),_=parseInt(q.substr(15,5)),b.growIfFull(),b.atomTypeId[A]=x.add(m),b.x[A]=re,b.y[A]=K,b.z[A]=J,b.serial[A]=_,a.addAtom(M,"","",d,y,0,"l"),A+=1}}}})(0,T.length,T)}),a.finalize(),r.finalizeAtoms(),o1(r),Ou(r),r.finalizeBonds(),a1(r),Ce&&de.timeEnd("GroParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("gro",TF);var IF=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"].concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]);function Qf(e,t,i){return t?new e(t.buffer,t.byteOffset,t.byteLength/(i||1)):void 0}function Zh(e){return Qf(DataView,e)}function id(e){return Qf(Int8Array,e)}function qu(e){return Qf(Int32Array,e,4)}function yp(e,t){var i=e.length/2;t||(t=new Int16Array(i));for(var n=0,s=0;n<i;++n,s+=2)t[n]=e[s]<<8^e[s+1]<<0;return t}function Ts(e,t){var i=e.length/4;t||(t=new Int32Array(i));for(var n=0,s=0;n<i;++n,s+=4)t[n]=e[s]<<24^e[s+1]<<16^e[s+2]<<8^e[s+3]<<0;return t}function zu(e,t,i){var n=e.length,s=1/t;i||(i=new Float32Array(n));for(var r=0;r<n;++r)i[r]=e[r]*s;return i}function nl(e,t){var i,n;if(!t){var s=0;for(i=0,n=e.length;i<n;i+=2)s+=e[i+1];t=new e.constructor(s)}var r=0;for(i=0,n=e.length;i<n;i+=2)for(var a=e[i],o=e[i+1],c=0;c<o;++c)t[r]=a,++r;return t}function CE(e,t){var i=e.length;t||(t=new e.constructor(i)),i&&(t[0]=e[0]);for(var n=1;n<i;++n)t[n]=e[n]+t[n-1];return t}function Hu(e,t){var i,n,s=e instanceof Int8Array?127:32767,r=-s-1,a=e.length;if(!t){var o=0;for(i=0;i<a;++i)e[i]<s&&e[i]>r&&++o;t=new Int32Array(o)}for(i=0,n=0;i<a;){for(var c=0;e[i]===s||e[i]===r;)c+=e[i],++i;c+=e[i],++i,t[n]=c,++n}return t}function vw(e,t,i){return zu(Hu(e,qu(i)),t,i)}function LF(e,t,i){var n=Hu(e,qu(i));return function(s,r,a){return zu(CE(s,qu(a)),r,a)}(n,t,Qf(Float32Array,n,4))}function PE(e){var t=0,i=new DataView(e.buffer);function n(c){for(var p={},f=0;f<c;f++)p[o()]=o();return p}function s(c){var p=e.subarray(t,t+c);return t+=c,p}function r(c){var p=e.subarray(t,t+c);t+=c;var f=65535;if(c>f){for(var l=[],u=0;u<p.length;u+=f)l.push(String.fromCharCode.apply(null,p.subarray(u,u+f)));return l.join("")}return String.fromCharCode.apply(null,p)}function a(c){for(var p=new Array(c),f=0;f<c;f++)p[f]=o();return p}function o(){var c,p,f=e[t];if((128&f)==0)return t++,f;if((240&f)==128)return t++,n(p=15&f);if((240&f)==144)return t++,a(p=15&f);if((224&f)==160)return t++,r(p=31&f);if((224&f)==224)return c=i.getInt8(t),t++,c;switch(f){case 192:return t++,null;case 194:return t++,!1;case 195:return t++,!0;case 196:return p=i.getUint8(t+1),t+=2,s(p);case 197:return p=i.getUint16(t+1),t+=3,s(p);case 198:return p=i.getUint32(t+1),t+=5,s(p);case 202:return c=i.getFloat32(t+1),t+=5,c;case 203:return c=i.getFloat64(t+1),t+=9,c;case 204:return c=e[t+1],t+=2,c;case 205:return c=i.getUint16(t+1),t+=3,c;case 206:return c=i.getUint32(t+1),t+=5,c;case 208:return c=i.getInt8(t+1),t+=2,c;case 209:return c=i.getInt16(t+1),t+=3,c;case 210:return c=i.getInt32(t+1),t+=5,c;case 217:return p=i.getUint8(t+1),t+=2,r(p);case 218:return p=i.getUint16(t+1),t+=3,r(p);case 219:return p=i.getUint32(t+1),t+=5,r(p);case 220:return p=i.getUint16(t+1),t+=3,a(p);case 221:return p=i.getUint32(t+1),t+=5,a(p);case 222:return p=i.getUint16(t+1),t+=3,n(p);case 223:return p=i.getUint32(t+1),t+=5,n(p)}throw new Error("Unknown type 0x"+f.toString(16))}return o()}function FF(e,t,i,n){switch(e){case 1:return function(r,a){var o=r.length;a||(a=new Float32Array(o/4));for(var c=Zh(a),p=Zh(r),f=0,l=0,u=o/4;f<u;++f,l+=4)c.setFloat32(l,p.getFloat32(l),!0);return a}(t);case 2:return id(t);case 3:return yp(t);case 4:return Ts(t);case 5:return Qf(Uint8Array,t);case 6:return nl(Ts(t),new Uint8Array(i));case 7:return nl(Ts(t));case 8:return CE(nl(Ts(t)),s);case 9:return function(r,a,o){return zu(nl(r,qu(o)),a,o)}(Ts(t),Ts(n)[0]);case 10:return LF(yp(t),Ts(n)[0]);case 11:return zu(yp(t),Ts(n)[0]);case 12:return vw(yp(t),Ts(n)[0]);case 13:return vw(id(t),Ts(n)[0]);case 14:return Hu(yp(t));case 15:return Hu(id(t))}var s}function RF(e,t){var i=(t=t||{}).ignoreFields,n={};return IF.forEach(function(s){var r,a,o,c,p,f=!!i&&i.indexOf(s)!==-1,l=e[s];f||l===void 0||(l instanceof Uint8Array?n[s]=FF.apply(null,(a=Zh(r=l),o=a.getInt32(0),c=a.getInt32(4),p=r.subarray(8,12),[o,r=r.subarray(12),c,p])):n[s]=l)}),n}var NF={0:"i".charCodeAt(0),1:"s".charCodeAt(0),2:"h".charCodeAt(0),3:"e".charCodeAt(0),4:"g".charCodeAt(0),5:"b".charCodeAt(0),6:"t".charCodeAt(0),7:"l".charCodeAt(0),"-1":"".charCodeAt(0)},DF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"mmtf"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){var n,s,r,a,o;Ce&&de.time("MmtfParser._parse "+this.name);var c,p,f,l,u,m,d=this.structure,y=RF(PE(this.streamer.data));if(["depositionDate","releaseDate","resolution","rFree","rWork","experimentalMethods"].forEach(function(Ae){y[Ae]!==void 0&&(d.header[Ae]=y[Ae])}),d.id=y.structureId,d.title=y.title,d.atomStore.addField("formalCharge",1,"int8"),this.firstModelOnly||this.asTrajectory){for(u=1,f=0,n=0,s=l=y.chainsPerModel[0];n<s;++n)f+=y.groupsPerChain[n];for(p=0,n=0,s=f;n<s;++n)p+=(o=y.groupList[y.groupTypeList[n]]).atomNameList.length;c=y.numBonds,m=[l]}else c=y.numBonds,p=y.numAtoms,f=y.numGroups,l=y.numChains,u=y.numModels,m=y.chainsPerModel;if(c+=f,this.asTrajectory)for(n=0,s=y.numModels;n<s;++n){var _=new Float32Array(3*p),h=p*n;for(r=0;r<p;++r){var g=3*r,E=r+h;_[g]=y.xCoordList[E],_[g+1]=y.yCoordList[E],_[g+2]=y.zCoordList[E]}d.frames.push(_)}var w=new Uint32Array(c),v=new Uint32Array(c),x=new Uint8Array(c),b=new Uint32Array(p),A=new Int8Array(p),M=new Uint32Array(f),G=new Uint32Array(f),T=new Uint16Array(f),N=new Uint16Array(l),D=new Uint32Array(l),L=new Uint32Array(l),C=new Uint32Array(u),O=new Uint32Array(u),q=0;for(n=0,s=u;n<s;++n){var z=m[n];for(C[n]=q,O[n]=z,r=0;r<z;++r)N[r+q]=n;q+=z}var $=y.groupsPerChain,re=0;for(n=0,s=l;n<s;++n){var K=$[n];for(D[n]=re,L[n]=K,r=0;r<K;++r)M[r+re]=n;re+=K}var J=0,Y=0;for(n=0,s=f;n<s;++n){var le=(o=y.groupList[y.groupTypeList[n]]).atomNameList.length,fe=o.formalChargeList,X=o.bondAtomList,ae=o.bondOrderList;for(r=0,a=ae.length;r<a;++r)w[Y]=J+X[2*r],v[Y]=J+X[2*r+1],x[Y]=ae[r],Y+=1;for(G[n]=J,T[n]=le,r=0;r<le;++r)b[J]=n,A[J]=fe[r],J+=1}var ne=y.bondAtomList;if(ne)for(y.bondOrderList&&x.set(y.bondOrderList,Y),n=0,s=ne.length;n<s;n+=2){var pe=ne[n],U=ne[n+1];pe<p&&U<p&&(w[Y]=pe,v[Y]=U,Y+=1)}d.bondStore.length=x.length,d.bondStore.count=Y,d.bondStore.atomIndex1=w,d.bondStore.atomIndex2=v,d.bondStore.bondOrder=x,d.atomStore.length=p,d.atomStore.count=p,d.atomStore.residueIndex=b,d.atomStore.atomTypeId=new Uint16Array(p),d.atomStore.x=y.xCoordList.subarray(0,p),d.atomStore.y=y.yCoordList.subarray(0,p),d.atomStore.z=y.zCoordList.subarray(0,p),d.atomStore.serial=y.atomIdList.subarray(0,p),d.atomStore.bfactor=y.bFactorList.subarray(0,p),d.atomStore.altloc=y.altLocList.subarray(0,p),d.atomStore.occupancy=y.occupancyList.subarray(0,p),d.atomStore.formalCharge=A,d.residueStore.length=f,d.residueStore.count=f,d.residueStore.chainIndex=M,d.residueStore.residueTypeId=y.groupTypeList,d.residueStore.atomOffset=G,d.residueStore.atomCount=T,d.residueStore.resno=y.groupIdList.subarray(0,f),d.residueStore.sstruc=y.secStructList.subarray(0,f),d.residueStore.inscode=y.insCodeList.subarray(0,f),d.chainStore.length=l,d.chainStore.count=l,d.chainStore.entityIndex=new Uint16Array(l),d.chainStore.modelIndex=N,d.chainStore.residueOffset=D,d.chainStore.residueCount=L,d.chainStore.chainname=y.chainNameList.subarray(0,4*l),d.chainStore.chainid=y.chainIdList.subarray(0,4*l),d.modelStore.length=u,d.modelStore.count=u,d.modelStore.chainOffset=C,d.modelStore.chainCount=O;var W={};for(n=0,s=y.groupList.length;n<s;++n){var Z=y.groupList[n],ie=[];for(r=0,a=Z.atomNameList.length;r<a;++r){var ue=Z.elementList[r].toUpperCase(),he=Z.atomNameList[r];ie.push(d.atomMap.add(he,ue))}var ge=Z.chemCompType.toUpperCase(),k=dT.includes(ge),H=Z.bondOrderList.length,me=new Array(H),oe=new Array(H);for(r=0;r<H;++r)me[r]=Z.bondAtomList[2*r],oe[r]=Z.bondAtomList[2*r+1];var te={atomIndices1:me,atomIndices2:oe,bondOrders:Z.bondOrderList};W[n]=d.residueMap.add(Z.groupName,ie,k,ge,te)}for(n=0,s=f;n<s;++n)d.residueStore.residueTypeId[n]=W[d.residueStore.residueTypeId[n]];for(n=0,s=d.atomStore.count;n<s;++n){var se=d.atomStore.residueIndex[n],we=d.residueMap.list[d.residueStore.residueTypeId[se]],Me=d.residueStore.atomOffset[se];d.atomStore.atomTypeId[n]=we.atomTypeIdList[n-Me]}if(y.secStructList){var _e=y.secStructList.length;for(n=0,s=d.residueStore.count;n<s;++n){var Se=NF[d.residueStore.sstruc[n%_e]];Se!==void 0&&(d.residueStore.sstruc[n]=Se)}}if(y.entityList&&y.entityList.forEach(function(Ae,Ve){d.entityList[Ve]=new fs(d,Ve,Ae.description,Ae.type,Ae.chainIndexList)}),y.bioAssemblyList&&y.bioAssemblyList.forEach(function(Ae,Ve){var rt=Ve+1,tt=new $i(""+rt);d.biomolDict["BU"+rt]=tt;var Xe={};Ae.transformList.forEach(function(mt){var ht=new De().fromArray(mt.matrix).transpose(),ot=mt.chainIndexList.map(function(St){for(var Ze="",ze=0;ze<4;++ze){var Mt=y.chainNameList[4*St+ze];if(!Mt)break;Ze+=String.fromCharCode(Mt)}return Ze}),je=Xe[ot.toString()];je?je.matrixList.push(ht):Xe[ot.toString()]=tt.addPart([ht],ot)})}),y.ncsOperatorList){var Ee=new $i("NCS"),Re=Ee.addPart();y.ncsOperatorList.forEach(function(Ae){var Ve=new De().fromArray(Ae).transpose();Re.matrixList.push(Ve)}),Re.matrixList.length>0&&(d.biomolDict.NCS=Ee)}var Pe=y.unitCell;Pe&&Array.isArray(Pe)&&Pe[0]?d.unitcell=new qa({a:Pe[0],b:Pe[1],c:Pe[2],alpha:Pe[3],beta:Pe[4],gamma:Pe[5],spacegroup:y.spaceGroup}):d.unitcell=void 0,zc(d,!0),qc(d,!0),d.finalizeAtoms(),d.finalizeBonds(),ku(d),Ce&&de.timeEnd("MmtfParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("mmtf",DF);var nd=/\s+/,GF={1:1,2:2,3:3,am:1,ar:1,du:1,un:1,nc:0},OF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"mol2"},t.prototype._parse=function(){Ce&&de.time("Mol2Parser._parse "+this.name);var n,s,r=this.structure,a=this.structureBuilder,o=this.firstModelOnly,c=this.asTrajectory,p=r.frames,f=!1,l=r.atomMap,u=r.atomStore;u.resize(Math.round(this.streamer.data.length/60)),u.addField("partialCharge",1,"float32");var m=0,d=0,y=0,_=-1,h=0,g=0,E=r.getAtomProxy(),w=r.getAtomProxy();this.streamer.eachChunkOfLines(function(v){(function(x,b,A){for(var M=x;M<b;++M){var G=A[M].trim();if(G!==""&&G[0]!=="#"){if(G[0]==="@")G==="@<TRIPOS>MOLECULE"?(g=1,d=0,++_):G==="@<TRIPOS>ATOM"?(g=2,y=u.count,c&&(s=0,n=new Float32Array(3*h),p.push(n),_>0&&(f=!0))):g=G==="@<TRIPOS>BOND"?3:0;else if(g===1){if(d===0)r.title=G,r.id=G;else if(d===1){var T=G.split(nd);h=parseInt(T[0])}++d}else if(g===2){var N=G.split(nd);if(o&&_>0)continue;var D=parseFloat(N[2]),L=parseFloat(N[3]),C=parseFloat(N[4]);if(c){var O=3*s;if(n[O+0]=D,n[O+1]=L,n[O+2]=C,s+=1,f)continue}var q=N[0],z=N[1],$=N[5].split(".")[0],re=N[6]?parseInt(N[6]):1,K=N[7]?N[7]:"",J=N[8]?parseFloat(N[8]):0;u.growIfFull(),u.atomTypeId[m]=l.add(z,$),u.x[m]=D,u.y[m]=L,u.z[m]=C,u.serial[m]=q,u.partialCharge[m]=J,a.addAtom(_,"","",K,re,1),m+=1}else if(g===3){if(o&&_>0||c&&_>0)continue;var Y=G.split(nd);E.index=parseInt(Y[1])-1+y,w.index=parseInt(Y[2])-1+y;var le=GF[Y[3]];r.bondStore.addBond(E,w,le)}}}})(0,v.length,v)}),a.finalize(),r.finalizeAtoms(),o1(r),qc(r,!0),zc(r,!0),r.finalizeBonds(),no(r),a1(r),Ce&&de.timeEnd("Mol2Parser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("mol2",OF);var kF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"pdbqt"},Object.defineProperties(t.prototype,i),t}(qp);ft.add("pdbqt",kF);var BF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"pqr"},Object.defineProperties(t.prototype,i),t}(qp);ft.add("pqr",BF);var VF=/> +<(.+)>/,sd=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"sdf"},t.prototype._parse=function(){Ce&&de.time("SdfParser._parse "+this.name);var n=this.structure,s=this.structureBuilder,r=this.firstModelOnly,a=this.asTrajectory,o=this.streamer.peekLines(2);n.id=o[0].trim(),n.title=o[1].trim();var c,p,f=n.frames,l=!1,u=n.atomMap,m=n.atomStore;m.resize(Math.round(this.streamer.data.length/50)),m.addField("formalCharge",1,"int8");var d,y,_,h,g,E,w,v=n.getAtomProxy(),x=n.getAtomProxy(),b=0,A=0,M=0,G=0,T=[],N=!1,D={};n.extraData.sdf=T,this.streamer.eachChunkOfLines(function(L){(function(C,O,q){for(var z=C;z<O;++z){var $=q[z];if($.substr(0,4)==="$$$$")A=-1,++M,G=m.count,T.push(D),D={},N=!1;else if(A===3)y=parseInt($.substr(0,3)),_=parseInt($.substr(3,3)),w=(E=g=(h=4)+y)+_,a&&(p=0,c=new Float32Array(3*y),f.push(c),M>0&&(l=!0));else if(A>=h&&A<g){if(r&&M>0)continue;var re=parseFloat($.substr(0,10)),K=parseFloat($.substr(10,10)),J=parseFloat($.substr(20,10));if(a){var Y=3*p;if(c[Y+0]=re,c[Y+1]=K,c[Y+2]=J,p+=1,l)continue}var le=$.substr(31,3).trim(),fe=le+(b+1);m.growIfFull(),m.atomTypeId[b]=u.add(fe,le),m.x[b]=re,m.y[b]=K,m.z[b]=J,m.serial[b]=b,m.formalCharge[b]=0,s.addAtom(M,"","","HET",1,1),b+=1}else if(A>=E&&A<w){if(r&&M>0||a&&M>0)continue;v.index=parseInt($.substr(0,3))-1+G,x.index=parseInt($.substr(3,3))-1+G;var X=parseInt($.substr(6,3));n.bondStore.addBond(v,x,X)}else if($.match(/M {2}CHG/))for(var ae=parseInt($.substr(6,3)),ne=0,pe=10;ne<ae;++ne,pe+=8){var U=parseInt($.substr(pe,3))-1+G,W=parseInt($.substr(pe+4,3));m.formalCharge[U]=W}else(d=$.match(VF))?(N=d[1],D[N]=[]):N!==!1&&$&&D[N].push($);++A}})(0,L.length,L)}),s.finalize(),n.finalizeAtoms(),n.finalizeBonds(),no(n),Ce&&de.timeEnd("SdfParser._parse "+this.name)},t.prototype._postProcess=function(){no(this.structure)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("sdf",sd),ft.add("sd",sd),ft.add("mol",sd);function gp(e,t,i){return parseInt(e.substr(t,i).trim())}var bw=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"prmtop"},t.prototype._parse=function(){Ce&&de.time("PrmtopParser._parse "+this.name);var n=this.structure,s=this.structureBuilder,r=n.atomMap,a=n.atomStore;a.addField("partialCharge",1,"float32"),a.addField("radius",1,"float32");var o,c,p,f,l,u=[],m={},d=["NATOM","NTYPES","NBONH","MBONA","NTHETH","MTHETA","NPHIH","MPHIA","NHPARM","NPARM","NNB","NRES","NBONA","NTHETA","NPHIA","NUMBND","NUMANG","NPTRA","NATYP","NPHB","IFPERT","NBPER","NGPER","NDPER","MBPER","MGPER","MDPER","IFBOX","NMXRS","IFCAP","NUMEXTRA","NCOPY"];d.forEach(function(G){m[G]=0});var y,_,h,g,E,w=new Uint8Array(0);this.streamer.eachChunkOfLines(function(G){(function(T,N,D){for(var L=T;L<N;++L){var C=D[L],O=C.trim();if(O&&!C.startsWith("%FORMAT")){if(C.startsWith("%FLAG")){var q=C.substr(5).trim();g=0,q==="TITLE"?h=0:q==="POINTERS"?h=1:q==="ATOM_NAME"?h=2:q==="CHARGE"?h=3:q==="MASS"?h=4:q==="RESIDUE_LABEL"?h=5:q==="RESIDUE_POINTER"?h=6:q==="BONDS_INC_HYDROGEN"?(E=0,h=7):q==="BONDS_WITHOUT_HYDROGEN"?(E=m.NBONH,h=8):h=q==="RADII"?9:void 0}else if(h===0)u.push(O);else if(h===1){for(var z=Math.min(g+10,32),$=0;g<z;++$,++g)m[d[g]]=parseInt(C.substr(8*$,8).trim());o=new Array(m.NATOM),c=new Float32Array(m.NATOM),p=new Float32Array(m.NATOM),a.resize(m.NATOM);var re=m.NBONH+m.MBONA;f=new Uint32Array(re),l=new Uint32Array(re),w=new Uint8Array(re),y=new Array(m.NRES),_=new Uint32Array(m.NRES)}else if(h===2)for(var K=Math.min(g+20,m.NATOM),J=0;g<K;++J,++g)o[g]=C.substr(4*J,4).trim();else if(h===3)for(var Y=Math.min(g+5,m.NATOM),le=0;g<Y;++le,++g)c[g]=parseFloat(C.substr(16*le,16))/18.2223;else if(h!==4){if(h===5)for(var fe=Math.min(g+20,m.NRES),X=0;g<fe;++X,++g)y[g]=C.substr(4*X,4).trim();else if(h===6)for(var ae=Math.min(g+10,m.NRES),ne=0;g<ae;++ne,++g)_[g]=gp(C,8*ne,8);else if(h===7)for(var pe=Math.min(g+10,3*m.NBONH),U=0;g<pe;++U,++g){var W=g%3;W===0&&(f[E]=gp(C,8*U,8)/3),W===1&&(l[E]=gp(C,8*U,8)/3,w[E]=1,++E)}else if(h===8)for(var Z=Math.min(g+10,3*m.MBONA),ie=0;g<Z;++ie,++g){var ue=g%3;ue===0&&(f[E]=gp(C,8*ie,8)/3),ue===1&&(l[E]=gp(C,8*ie,8)/3,w[E]=1,++E)}else if(h===9)for(var he=Math.min(g+5,m.NATOM),ge=0;g<he;++ge,++g)p[g]=parseFloat(C.substr(16*ge,16))}}}})(0,G.length,G)}),n.title=u.join(" ");for(var v=m.NATOM,x=0,b=y[0],A=1,M=0;M<v;++M)M+1===_[x+1]&&(++x,b=y[x],A=x+1),a.atomTypeId[M]=r.add(o[M]),a.serial[M]=M+1,s.addAtom(0,"","",b,A);a.partialCharge.set(c),a.radius.set(p),n.bondStore.length=w.length,n.bondStore.count=w.length,n.bondStore.atomIndex1=f,n.bondStore.atomIndex2=l,n.bondStore.bondOrder=w,s.finalize(),n.finalizeAtoms(),n.finalizeBonds(),qc(n,!0),zc(n,!0,!0),o1(n,!0),no(n),Ce&&de.timeEnd("PrmtopParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("prmtop",bw),ft.add("parm7",bw);var sl=/\s+/,qF=/(^\*|REMARK)*/,zF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"psf"},t.prototype._parse=function(){Ce&&de.time("PsfParser._parse "+this.name);var n=this.structure,s=this.structureBuilder,r=n.atomMap,a=n.atomStore;a.addField("partialCharge",1,"float32");var o,c,p,f,l,u,m=[],d=0,y=0,_=0;this.streamer.eachChunkOfLines(function(h){(function(g,E,w){for(var v=g;v<E;++v){var x=w[v].trim();if(x){if(o===2){var b=x.split(sl),A=parseInt(b[0]),M=b[1],G=parseInt(b[2]),T=b[3],N=b[4],D=parseFloat(b[6]);M!==p&&(c=Gf(y),++y),a.growIfFull(),a.atomTypeId[d]=r.add(N),a.serial[d]=A,a.partialCharge[d]=D,s.addAtom(0,c,c,T,G),d+=1,p=M}else if(o===3)for(var L=x.split(sl),C=0,O=L.length;C<O;C+=2)f[_]=parseInt(L[C])-1,l[_]=parseInt(L[C+1])-1,u[_]=1,_+=1;else if(o===1)m.push(x.replace(qF,"").trim());else if(o!==4){if(o!==5){if(o!==6)if(x.includes("!NATOM")){o=2;var q=parseInt(x.split(sl)[0]);a.resize(q)}else if(x.includes("!NBOND")){o=3;var z=parseInt(x.split(sl)[0]);f=new Uint32Array(z),l=new Uint32Array(z),u=new Uint8Array(z)}else x.includes("!NTITLE")?o=1:x.includes("!NTHETA")?o=4:x.includes("!NPHI")?o=5:x.includes("!NIMPHI")&&(o=6)}}}else o=void 0}})(0,h.length,h)}),n.title=m.join(" "),n.bondStore.length=u.length,n.bondStore.count=_,n.bondStore.atomIndex1=f,n.bondStore.atomIndex2=l,n.bondStore.bondOrder=u,s.finalize(),n.finalizeAtoms(),n.finalizeBonds(),qc(n,!0),zc(n,!0,!0),no(n),Ce&&de.timeEnd("PsfParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("psf",zF);var HF=/\[ (.+) \]/,rl=/\s+/,UF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"top"},t.prototype._parse=function(){Ce&&de.time("TopParser._parse "+this.name);var n=this.structure,s=this.structureBuilder,r=n.atomMap,a=n.bondStore,o=n.atomStore;o.addField("partialCharge",1,"float32");var c,p,f=[],l={};this.streamer.eachChunkOfLines(function(v){(function(x,b,A){for(var M=x;M<b;++M){var G=A[M],T=G.trim();if(T&&T[0]!=="*"&&T[0]!==";"){if(T.startsWith("#include"))throw new Error("TopParser: #include statements not allowed");var N=G.match(HF);if(N===null){var D=T.indexOf(";");if(D!==-1&&(T=T.substring(0,D).trim()),p===2){var L=T.split(rl)[0];l[L]=c}else if(p===3){var C=T.split(rl);c.atoms.push([parseInt(C[2]),C[3],C[4],parseFloat(C[6])])}else if(p===4){var O=T.split(rl);c.bonds.push([parseInt(O[0]),parseInt(O[1])])}else if(p===0)n.title=T;else if(p===1){var q=T.split(rl);f.push([q[0],parseInt(q[1])])}}else{var z=N[1];z==="moleculetype"?(p=2,c={atoms:[],bonds:[]}):p=z==="atoms"?3:z==="bonds"?4:z==="system"?0:z==="molecules"?1:void 0}}}})(0,v.length,v)});var u=0,m=0;f.forEach(function(v){var x=v[0],b=v[1],A=l[x];u+=b*A.atoms.length,m+=b*A.bonds.length}),o.resize(u),a.resize(m);var d,y=0,_=0,h=0,g=0,E=0,w=0;f.forEach(function(v){for(var x=v[0],b=v[1],A=l[x],M=Gf(g),G=function(N){d=-1;var D=Gu.includes(x)?M:Gf(h);A.atoms.forEach(function(L){var C=L[0],O=L[1],q=L[2],z=L[3];C!==d&&++_,o.atomTypeId[y]=r.add(q),o.serial[y]=y+1,o.partialCharge[y]=z,s.addAtom(0,M,D,O,_+1),++y,d=C}),A.bonds.forEach(function(L){a.atomIndex1[E]=w+L[0]-1,a.atomIndex2[E]=w+L[1]-1,++E}),++h,w+=A.atoms.length},T=0;T<b;++T)G();++g}),a.count=m,s.finalize(),n.finalizeAtoms(),n.finalizeBonds(),qc(n,!0),zc(n,!0,!0),no(n),Ce&&de.timeEnd("TopParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(Lr);ft.add("top",UF);var p1=function(e){function t(n,s){e.call(this,n,s),this.frames=new Z_(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"trajectory"},i.__objName.get=function(){return"frames"},Object.defineProperties(t.prototype,i),t}(rn),WF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dcd"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("DcdParser._parse "+this.name);var n=Bc(this.streamer.data),s=new DataView(n),r=this.frames,a=r.coordinates,o=r.boxes,c={},p=0,f=new Int32Array(n,0,23),l=f[0]!==s.getInt32(0);if(f[0]!==84)for(var u=n.byteLength,m=0;m<u;m+=4)s.setFloat32(m,s.getFloat32(m),!0);f[0]!==84&&de.error("dcd bad format, header block start"),String.fromCharCode(s.getUint8(4),s.getUint8(5),s.getUint8(6),s.getUint8(7))!=="CORD"&&de.error("dcd bad format, format string");var d=!1,y=!1,_=!1;f[22]!==0&&(d=!0,f[12]!==0&&(y=!0),f[13]===1&&(_=!0)),c.NSET=f[2],c.ISTART=f[3],c.NSAVC=f[4],c.NAMNF=f[10],c.DELTA=d?s.getFloat32(44,l):s.getFloat64(44,l),f[22]!==84&&de.error("dcd bad format, header block end"),p=p+84+8;var h=s.getInt32(p,l),g=p+1;if((h-4)%80!=0&&de.error("dcd bad format, title block start"),c.TITLE=Tu(new Uint8Array(n,g,h)),s.getInt32(g+h+4-1,l)!==h&&de.error("dcd bad format, title block end"),p=p+h+8,s.getInt32(p,l)!==4&&de.error("dcd bad format, natom block start"),c.NATOM=s.getInt32(p+4,l),s.getInt32(p+8,l)!==4&&de.error("dcd bad format, natom block end"),p=p+4+8,c.NAMNF>0)de.error("dcd format with fixed atoms unsupported, aborting");else{for(var E=c.NATOM,w=4*E,v=0,x=c.NSET;v<x;++v){if(y){p+=4;var b=new Float32Array(9);b[0]=s.getFloat64(p,l),b[4]=s.getFloat64(p+16,l),b[8]=s.getFloat64(p+40,l),o.push(b),p+=48,p+=4}for(var A=new Float32Array(3*E),M=0;M<3;++M){s.getInt32(p,l)!==w&&de.error("dcd bad format, coord block start",v,M),p+=4;for(var G=new Float32Array(n,p,E),T=0;T<E;++T)A[3*T+M]=G[T];p+=w,s.getInt32(p,l)!==w&&de.error("dcd bad format, coord block end",v,M),p+=4}a.push(A),_&&(p+=4+s.getInt32(p,l)+4)}c.DELTA&&(r.deltaTime=20.45482949774598*c.DELTA),c.ISTART>=1&&(r.timeOffset=(c.ISTART-1)*r.deltaTime),Ce&&de.timeEnd("DcdParser._parse "+this.name)}},Object.defineProperties(t.prototype,i),t}(p1);function Rn(e,t){if(e)throw new TypeError("Not a valid NetCDF v3.x file: "+t)}function TE(e){e.offset%4!=0&&e.skip(4-e.offset%4)}function e_(e){var t=e.readUint32(),i=e.readChars(t);return TE(e),i}ft.add("dcd",WF);var f1=1,l1=2,u1=3,m1=4,d1=5,h1=6;function IE(e){switch(Number(e)){case f1:return"byte";case l1:return"char";case u1:return"short";case m1:return"int";case d1:return"float";case h1:return"double";default:return"undefined"}}function xw(e){switch(Number(e)){case f1:case l1:return 1;case u1:return 2;case m1:case d1:return 4;case h1:return 8;default:return-1}}function Sw(e){switch(String(e)){case"byte":return f1;case"char":return l1;case"short":return u1;case"int":return m1;case"float":return d1;case"double":return h1;default:return-1}}function al(e,t){if(e!==1){for(var i=new Array(e),n=0;n<e;n++)i[n]=t();return i}return t()}function t_(e,t,i){switch(t){case f1:return e.readBytes(i);case l1:return function(n){return n.charCodeAt(n.length-1)===0?n.substring(0,n.length-1):n}(e.readChars(i));case u1:return al(i,e.readInt16.bind(e));case m1:return al(i,e.readInt32.bind(e));case d1:return al(i,e.readFloat32.bind(e));case h1:return al(i,e.readFloat64.bind(e));default:return void Rn(!0,"non valid type "+t)}}function jF(e,t){var i={recordDimension:{length:e.readUint32()}};i.version=t;var n=function(r){var a,o,c,p=r.readUint32();if(p===0)return Rn(r.readUint32()!==0,"wrong empty tag for list of dimensions"),[];Rn(p!==10,"wrong tag for list of dimensions");var f=r.readUint32();a=new Array(f);for(var l=0;l<f;l++){var u=e_(r),m=r.readUint32();m===0&&(o=l,c=u),a[l]={name:u,size:m}}return{dimensions:a,recordId:o,recordName:c}}(e);i.recordDimension.id=n.recordId,i.recordDimension.name=n.recordName,i.dimensions=n.dimensions,i.globalAttributes=Mw(e);var s=function(r,a,o){var c,p=r.readUint32(),f=0;if(p===0)return Rn(r.readUint32()!==0,"wrong empty tag for list of variables"),[];Rn(p!==11,"wrong tag for list of variables");var l=r.readUint32();c=new Array(l);for(var u=0;u<l;u++){for(var m=e_(r),d=r.readUint32(),y=new Array(d),_=0;_<d;_++)y[_]=r.readUint32();var h=Mw(r),g=r.readUint32();Rn(g<1&&g>6,"non valid type "+g);var E=r.readUint32(),w=r.readUint32();o===2&&(Rn(w>0,"offsets larger than 4GB not supported"),w=r.readUint32()),y[0]===a&&(f+=E),c[u]={name:m,dimensions:y,attributes:h,type:IE(g),size:E,offset:w,record:y[0]===a}}return{variables:c,recordStep:f}}(e,n.recordId,t);return i.variables=s.variables,i.recordDimension.recordStep=s.recordStep,i}function Mw(e){var t,i=e.readUint32();if(i===0)return Rn(e.readUint32()!==0,"wrong empty tag for list of attributes"),[];Rn(i!==12,"wrong tag for list of attributes");var n=e.readUint32();t=new Array(n);for(var s=0;s<n;s++){var r=e_(e),a=e.readUint32();Rn(a<1||a>6,"non valid type "+a);var o=e.readUint32(),c=t_(e,a,o);TE(e),t[s]={name:r,type:IE(a),value:c}}return t}var zp=function(e){var t=new Ct(e);t.setBigEndian(),Rn(t.readChars(3)!=="CDF","should start with CDF");var i=t.readByte();Rn(i>2,"unknown version"),this.header=jF(t,i),this.buffer=t},To={version:{configurable:!0},recordDimension:{configurable:!0},dimensions:{configurable:!0},globalAttributes:{configurable:!0},variables:{configurable:!0}};To.version.get=function(){return this.header.version===1?"classic format":"64-bit offset format"},To.recordDimension.get=function(){return this.header.recordDimension},To.dimensions.get=function(){return this.header.dimensions},To.globalAttributes.get=function(){return this.header.globalAttributes},To.variables.get=function(){return this.header.variables},zp.prototype.hasDataVariable=function(e){return this.header.variables.findIndex(function(t){return t.name===e})!==-1},zp.prototype.getDataVariable=function(e){var t;return Rn((t=typeof e=="string"?this.header.variables.find(function(i){return i.name===e}):e)===void 0,"variable not found"),this.buffer.seek(t.offset),t.record?function(i,n,s){for(var r=Sw(n.type),a=n.size?n.size/xw(r):1,o=s.length,c=new Array(o),p=s.recordStep,f=0;f<o;f++){var l=i.offset;c[f]=t_(i,r,a),i.seek(l+p)}return c}(this.buffer,t,this.header.recordDimension):function(i,n){for(var s=Sw(n.type),r=n.size/xw(s),a=new Array(r),o=0;o<r;o++)a[o]=t_(i,s,1);return a}(this.buffer,t)},Object.defineProperties(zp.prototype,To);var rd=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"nctraj"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("NctrajParser._parse "+this.name);var n=new zp(this.streamer.data),s=this.frames,r=s.coordinates,a=s.boxes,o=s.times;n.getDataVariable("coordinates").forEach(function(c){r.push(new Float32Array(c))}),n.hasDataVariable("cell_lengths")&&n.getDataVariable("cell_lengths").forEach(function(c){a.push(new Float32Array(c))}),n.hasDataVariable("time")&&n.getDataVariable("time").forEach(function(c){o.push(c)}),o.length>=1&&(s.timeOffset=o[0]),o.length>=2&&(s.deltaTime=o[1]-o[0]),Ce&&de.timeEnd("NctrajParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(p1);ft.add("nctraj",rd),ft.add("ncdf",rd),ft.add("nc",rd);var $F=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"trr"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("TrrParser._parse "+this.name);for(var n=Bc(this.streamer.data),s=new DataView(n),r=this.frames,a=r.coordinates,o=r.boxes,c=r.times,p=0;;){p+=8;var f=s.getInt32(p);p+=4,p+=f;var l=s.getInt32(p+8),u=s.getInt32(p+12),m=s.getInt32(p+16),d=s.getInt32(p+28),y=s.getInt32(p+32),_=s.getInt32(p+36),h=s.getInt32(p+40);p+=52;var g=l/9,E=3*h;if(g===8?c.push(s.getFloat64(p)):c.push(s.getFloat32(p)),p+=2*g,l){var w=new Float32Array(9);if(g===8)for(var v=0;v<9;++v)w[v]=10*s.getFloat64(p),p+=8;else for(var x=0;x<9;++x)w[x]=10*s.getFloat32(p),p+=4;o.push(w)}if(p+=u,p+=m,d){var b=void 0;if(g===8){b=new Float32Array(E);for(var A=0;A<E;++A)b[A]=10*s.getFloat64(p),p+=8}else{for(var M=new Uint32Array(n,p,E),G=0;G<E;++G){var T=M[G];M[G]=(255&T)<<24|(65280&T)<<8|T>>8&65280|T>>24&255}b=new Float32Array(n,p,E);for(var N=0;N<E;++N)b[N]*=10,p+=4}a.push(b)}if(p+=y,(p+=_)>=n.byteLength)break}c.length>=1&&(r.timeOffset=c[0]),c.length>=2&&(r.deltaTime=c[1]-c[0]),Ce&&de.timeEnd("TrrParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(p1);ft.add("trr",$F);var Io=new Uint32Array([0,0,0,0,0,0,0,0,0,8,10,12,16,20,25,32,40,50,64,80,101,128,161,203,256,322,406,512,645,812,1024,1290,1625,2048,2580,3250,4096,5060,6501,8192,10321,13003,16384,20642,26007,32768,41285,52015,65536,82570,104031,131072,165140,208063,262144,330280,416127,524287,660561,832255,1048576,1321122,1664510,2097152,2642245,3329021,4194304,5284491,6658042,8388607,10568983,13316085,16777216]);function ad(e){for(var t=1,i=0;e>=t&&i<32;)i++,t<<=1;return i}var wp=new Uint8Array(32);function KF(e,t){var i=1,n=0;wp[0]=1;for(var s=0;s<e;s++){var r=void 0,a=0;for(r=0;r<i;r++)a+=wp[r]*t[s],wp[r]=255&a,a>>=8;for(;a!==0;)wp[r++]=255&a,a>>=8;i=r}var o=1;for(i--;wp[i]>=o;)n++,o*=2;return n+8*i}function Fa(e,t,i,n){for(var s=(1<<i)-1,r=n[1],a=n[2],o=e[0],c=0;i>=8;)c|=(a=a<<8|t[o++])>>r<<i-8,i-=8;return i>0&&(r<i&&(r+=8,a=a<<8|t[o++]),c|=a>>(r-=i)&(1<<i)-1),c&=s,e[0]=o,e[1]=r,e[2]=a,c}var as=new Int32Array(32);function Aw(e,t,i,n,s,r,a){var o=0;for(as[1]=0,as[2]=0,as[3]=0;n>8;)as[o++]=Fa(e,t,8,a),n-=8;n>0&&(as[o++]=Fa(e,t,n,a));for(var c=i-1;c>0;c--){for(var p=0,f=o-1;f>=0;f--){var l=(p=p<<8|as[f])/s[c]|0;as[f]=l,p-=l*s[c]}r[c]=p}r[0]=as[0]|as[1]<<8|as[2]<<16|as[3]<<24}var YF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"xtc"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("XtcParser._parse "+this.name);for(var n=Bc(this.streamer.data),s=new DataView(n),r=this.frames,a=r.coordinates,o=r.boxes,c=r.times,p=new Int32Array(6),f=new Int32Array(3),l=new Int32Array(3),u=new Uint32Array(3),m=new Float32Array(3),d=new Float32Array(3),y=0,_=new Int32Array(3),h=new Uint32Array(_.buffer);;){var g=void 0,E=s.getInt32(y+4);y+=12;var w=3*E;c.push(s.getFloat32(y)),y+=4;for(var v=new Float32Array(9),x=0;x<9;++x)v[x]=10*s.getFloat32(y),y+=4;if(o.push(v),E<=9){g=new Float32Array(E);for(var b=0;b<E;++b)g[b]=s.getFloat32(y),y+=4}else{_[0]=_[1]=_[2]=0,f[0]=f[1]=f[2]=0,u[0]=u[1]=u[2]=0,l[0]=l[1]=l[2]=0,m[0]=m[1]=m[2]=0,d[0]=d[1]=d[2]=0,g=new Float32Array(w);var A=0,M=s.getInt32(y);y+=4;var G=s.getFloat32(y);y+=4,p[0]=s.getInt32(y),p[1]=s.getInt32(y+4),p[2]=s.getInt32(y+8),p[3]=s.getInt32(y+12),p[4]=s.getInt32(y+16),p[5]=s.getInt32(y+20),f[0]=p[3]-p[0]+1,f[1]=p[4]-p[1]+1,f[2]=p[5]-p[2]+1,y+=24;var T=void 0;(f[0]|f[1]|f[2])>16777215?(l[0]=ad(f[0]),l[1]=ad(f[1]),l[2]=ad(f[2]),T=0):T=KF(3,f);var N=s.getInt32(y);y+=4;var D=N-1,L=Io[D=9>D?9:D]/2|0,C=Io[N]/2|0;u[0]=u[1]=u[2]=Io[N];var O=4*Math.ceil(s.getInt32(y)/4);y+=4;var q=1/G,z=0,$=0,re=new Uint8Array(n,y);for(m[0]=m[1]=m[2]=0;$<M;){T===0?(m[0]=Fa(_,re,l[0],h),m[1]=Fa(_,re,l[1],h),m[2]=Fa(_,re,l[2],h)):Aw(_,re,3,T,f,m,h),$++,m[0]+=p[0],m[1]+=p[1],m[2]+=p[2],d[0]=m[0],d[1]=m[1],d[2]=m[2];var K=0;if(Fa(_,re,1,h)===1&&(z=Fa(_,re,5,h),z-=K=z%3,K--),z>0){m[0]=m[1]=m[2]=0;for(var J=0;J<z;J+=3){if(Aw(_,re,3,N,u,m,h),$++,m[0]+=d[0]-C,m[1]+=d[1]-C,m[2]+=d[2]-C,J===0){var Y=m[0];m[0]=d[0],d[0]=Y,Y=m[1],m[1]=d[1],d[1]=Y,Y=m[2],m[2]=d[2],d[2]=Y,g[A++]=d[0]*q,g[A++]=d[1]*q,g[A++]=d[2]*q}else d[0]=m[0],d[1]=m[1],d[2]=m[2];g[A++]=m[0]*q,g[A++]=m[1]*q,g[A++]=m[2]*q}}else g[A++]=m[0]*q,g[A++]=m[1]*q,g[A++]=m[2]*q;if(N+=K,K<0?(C=L,L=N>9?Io[N-1]/2|0:0):K>0&&(L=C,C=Io[N]/2|0),u[0]=u[1]=u[2]=Io[N],u[0]===0||u[1]===0||u[2]===0)return void console.error("(xdrfile error) Undefined error.")}y+=O}for(var le=0;le<w;le++)g[le]*=10;if(a.push(g),y>=n.byteLength)break}c.length>=1&&(r.timeOffset=c[0]),c.length>=2&&(r.deltaTime=c[1]-c[0]),Ce&&de.timeEnd("XtcParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(p1);ft.add("xtc",YF);var Xf=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.volume=new Wt(this.name,this.path),this.voxelSize=R(r.voxelSize,1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"volume"},i.__objName.get=function(){return"volume"},t.prototype._afterParse=function(){this.volume.setMatrix(this.getMatrix()),e.prototype._afterParse.call(this)},t.prototype.getMatrix=function(){return new De},Object.defineProperties(t.prototype,i),t}(rn),JF=/\s+/,QF=/-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,Cw=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"cube"},t.prototype._parse=function(){Ce&&de.time("CubeParser._parse "+this.name);var n=this.volume,s=this.streamer.peekLines(6),r={},a=.529177210859*this.voxelSize;function o(u,m){var d=s[u].trim().split(JF)[m];return parseFloat(d)}r.atomCount=Math.abs(o(2,0)),r.originX=.529177210859*o(2,1),r.originY=.529177210859*o(2,2),r.originZ=.529177210859*o(2,3),r.NVX=o(3,0),r.NVY=o(4,0),r.NVZ=o(5,0),r.basisX=new P(o(3,1),o(3,2),o(3,3)).multiplyScalar(a),r.basisY=new P(o(4,1),o(4,2),o(4,3)).multiplyScalar(a),r.basisZ=new P(o(5,1),o(5,2),o(5,3)).multiplyScalar(a);var c=new Float32Array(r.NVX*r.NVY*r.NVZ),p=0,f=0,l=o(2,0)>0?0:1;this.streamer.eachChunkOfLines(function(u){(function(m,d,y){for(var _=m;_<d;++_){var h=y[_].trim();if(h!==""&&f>=r.atomCount+6+l)for(var g=h.match(QF),E=0,w=g.length;E<w;++E)c[p]=parseFloat(g[E]),++p;++f}})(0,u.length,u)}),n.header=r,n.setData(c,r.NVZ,r.NVY,r.NVX),Ce&&de.timeEnd("CubeParser._parse "+this.name)},t.prototype.getMatrix=function(){var n=this.volume.header,s=new De;return s.multiply(new De().makeTranslation(n.originX,n.originY,n.originZ)),s.multiply(new De().makeBasis(n.basisZ,n.basisY,n.basisX)),s},Object.defineProperties(t.prototype,i),t}(Xf);ft.add("cub",Cw),ft.add("cube",Cw);var Pw=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dsn6"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("Dsn6Parser._parse "+this.name);var n,s,r=this.volume,a={},o=Bc(this.streamer.data),c=new Int16Array(o),p=new Uint8Array(o),f=String.fromCharCode.apply(null,p.subarray(0,512));if(f.startsWith(":-)"))a.xStart=parseInt(f.substr(10,5)),a.yStart=parseInt(f.substr(15,5)),a.zStart=parseInt(f.substr(20,5)),a.xExtent=parseInt(f.substr(32,5)),a.yExtent=parseInt(f.substr(38,5)),a.zExtent=parseInt(f.substr(42,5)),a.xRate=parseInt(f.substr(52,5)),a.yRate=parseInt(f.substr(58,5)),a.zRate=parseInt(f.substr(62,5)),a.xlen=parseFloat(f.substr(73,10))*this.voxelSize,a.ylen=parseFloat(f.substr(83,10))*this.voxelSize,a.zlen=parseFloat(f.substr(93,10))*this.voxelSize,a.alpha=parseFloat(f.substr(103,10)),a.beta=parseFloat(f.substr(113,10)),a.gamma=parseFloat(f.substr(123,10)),n=parseFloat(f.substr(138,12))/100,s=parseInt(f.substr(155,8)),a.sigma=100*parseFloat(f.substr(170,12));else{if(c[18]!==100)for(var l=0,u=c.length;l<u;++l){var m=c[l];c[l]=(255&m)<<8|m>>8&255}a.xStart=c[0],a.yStart=c[1],a.zStart=c[2],a.xExtent=c[3],a.yExtent=c[4],a.zExtent=c[5],a.xRate=c[6],a.yRate=c[7],a.zRate=c[8];var d=1/c[17],y=d*this.voxelSize;a.xlen=c[9]*y,a.ylen=c[10]*y,a.zlen=c[11]*y,a.alpha=c[12]*d,a.beta=c[13]*d,a.gamma=c[14]*d,n=c[15]/100,s=c[16],a.gamma=c[14]*d}r.header=a,Ce&&de.log(a,n,s);for(var _=new Float32Array(a.xExtent*a.yExtent*a.zExtent),h=512,g=Math.ceil(a.xExtent/8),E=Math.ceil(a.yExtent/8),w=Math.ceil(a.zExtent/8),v=0;v<w;++v)for(var x=0;x<E;++x)for(var b=0;b<g;++b)for(var A=0;A<8;++A)for(var M=8*v+A,G=0;G<8;++G)for(var T=8*x+G,N=0;N<8;++N){var D=8*b+N;if(!(D<a.xExtent&&T<a.yExtent&&M<a.zExtent)){h+=8-N;break}_[(D*a.yExtent+T)*a.zExtent+M]=(p[h]-s)/n,++h}r.setData(_,a.zExtent,a.yExtent,a.xExtent),a.sigma&&r.setStats(void 0,void 0,void 0,a.sigma),Ce&&de.timeEnd("Dsn6Parser._parse "+this.name)},t.prototype.getMatrix=function(){var n=this.volume.header,s=[n.xlen,0,0],r=[n.ylen*Math.cos(Math.PI/180*n.gamma),n.ylen*Math.sin(Math.PI/180*n.gamma),0],a=[n.zlen*Math.cos(Math.PI/180*n.beta),n.zlen*(Math.cos(Math.PI/180*n.alpha)-Math.cos(Math.PI/180*n.gamma)*Math.cos(Math.PI/180*n.beta))/Math.sin(Math.PI/180*n.gamma),0];a[2]=Math.sqrt(n.zlen*n.zlen*Math.sin(Math.PI/180*n.beta)*Math.sin(Math.PI/180*n.beta)-a[1]*a[1]);var o=[[],s,r,a],c=[0,n.xRate,n.yRate,n.zRate],p=[0,1,2,3],f=new De;return f.set(o[p[1]][0]/c[p[1]],o[p[2]][0]/c[p[2]],o[p[3]][0]/c[p[3]],0,o[p[1]][1]/c[p[1]],o[p[2]][1]/c[p[2]],o[p[3]][1]/c[p[3]],0,o[p[1]][2]/c[p[1]],o[p[2]][2]/c[p[2]],o[p[3]][2]/c[p[3]],0,0,0,0,1),f.multiply(new De().makeRotationY(gi(90))),f.multiply(new De().makeTranslation(-n.zStart,n.yStart,n.xStart)),f.multiply(new De().makeScale(-1,1,1)),f},Object.defineProperties(t.prototype,i),t}(Xf);ft.add("dsn6",Pw),ft.add("brix",Pw);var ol=/\s+/,LE=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"dx"},t.prototype._parse=function(){Ce&&de.time("DxParser._parse "+this.name);var n=this.volume,s=this.streamer.peekLines(30),r=this.parseHeaderLines(s),a=this.volume.header,o=r.dataLineStart,c=a.nx*a.ny*a.nz,p=new Float32Array(c),f=0,l=0;this.streamer.eachChunkOfLines(function(u){(function(m,d,y){for(var _=m;_<d;++_){if(f<c&&l>o){var h=y[_].trim();if(h!=="")for(var g=h.split(ol),E=0,w=g.length;E<w;++E)p[f]=parseFloat(g[E]),++f}++l}})(0,u.length,u)}),n.setData(p,a.nz,a.ny,a.nx),Ce&&de.timeEnd("DxParser._parse "+this.name)},t.prototype.parseHeaderLines=function(n){for(var s={},r=n.length,a=0,o=0,c=0,p=0;p<r;++p){var f=void 0,l=n[p];if(l.startsWith("object 1"))f=l.split(ol),s.nx=parseInt(f[5]),s.ny=parseInt(f[6]),s.nz=parseInt(f[7]);else if(l.startsWith("origin"))f=l.split(ol),s.xmin=parseFloat(f[1]),s.ymin=parseFloat(f[2]),s.zmin=parseFloat(f[3]);else if(l.startsWith("delta"))f=l.split(ol),c===0?s.hx=parseFloat(f[1])*this.voxelSize:c===1?s.hy=parseFloat(f[2])*this.voxelSize:c===2&&(s.hz=parseFloat(f[3])*this.voxelSize),c+=1;else if(l.startsWith("object 3")){a=p,o+=l.length+1;break}o+=l.length+1}return this.volume.header=s,{dataLineStart:a,headerByteCount:o}},t.prototype.getMatrix=function(){var n=this.volume.header,s=new De;return s.multiply(new De().makeRotationY(gi(90))),s.multiply(new De().makeTranslation(-n.zmin,n.ymin,n.xmin)),s.multiply(new De().makeScale(-n.hz,n.hy,n.hx)),s},Object.defineProperties(t.prototype,i),t}(Xf);ft.add("dx",LE);var XF=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dxbin"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("DxbinParser._parse "+this.name);for(var n=Bc(this.streamer.data),s=function(u,m,d){m===void 0&&(m=10485760),d===void 0&&(d=`
`);for(var y="",_=[],h=0;h<u.length;h+=m){var g=Tu(u.subarray(h,h+m)),E=g.lastIndexOf(d);if(E===-1)y+=g;else{var w=y+g.substr(0,E);_=_.concat(w.split(d)),y=E===g.length-d.length?"":g.substr(E+d.length)}}return y!==""&&_.push(y),_}(new Uint8Array(n,0,1e3)),r=this.parseHeaderLines(s),a=this.volume.header,o=r.headerByteCount,c=a.nx*a.ny*a.nz,p=new DataView(n),f=new Float32Array(c),l=0;l<c;++l)f[l]=p.getFloat64(8*l+o,!0);this.volume.setData(f,a.nz,a.ny,a.nx),Ce&&de.timeEnd("DxbinParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(LE);ft.add("dxbin",XF);var od=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"mrc"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("MrcParser._parse "+this.name);var n,s=this.volume,r={},a=Bc(this.streamer.data),o=new Int32Array(a,0,56),c=new Float32Array(a,0,56),p=new DataView(a);if(r.MAP=String.fromCharCode(p.getUint8(208),p.getUint8(209),p.getUint8(210),p.getUint8(211)),r.MACHST=[p.getUint8(212),p.getUint8(213)],r.MACHST[0]===17&&r.MACHST[1]===17)for(var f=a.byteLength,l=0;l<f;l+=4)p.setFloat32(l,p.getFloat32(l),!0);if(r.NX=o[0],r.NY=o[1],r.NZ=o[2],r.MODE=o[3],r.NXSTART=o[4],r.NYSTART=o[5],r.NZSTART=o[6],r.MX=o[7],r.MY=o[8],r.MZ=o[9],r.xlen=c[10]*this.voxelSize,r.ylen=c[11]*this.voxelSize,r.zlen=c[12]*this.voxelSize,r.alpha=c[13],r.beta=c[14],r.gamma=c[15],r.MAPC=o[16],r.MAPR=o[17],r.MAPS=o[18],r.DMIN=c[19],r.DMAX=c[20],r.DMEAN=c[21],r.ISPG=o[22],r.NSYMBT=o[23],r.LSKFLG=o[24],r.originX=c[49],r.originY=c[50],r.originZ=c[51],r.ARMS=c[54],s.header=r,r.MODE===2)n=new Float32Array(a,1024+r.NSYMBT,r.NX*r.NY*r.NZ);else if(r.MODE===0){if(n=new Float32Array(new Int8Array(a,1024+r.NSYMBT,r.NX*r.NY*r.NZ)),o[39]===-128&&o[40]===127)for(var u=(r.DMAX-r.DMIN)/255,m=.5*(r.DMIN+r.DMAX+u),d=0,y=n.length;d<y;++d)n[d]=u*n[d]+m}else de.error("MrcParser unknown mode",r.MODE);s.setData(n,r.NX,r.NY,r.NZ),r.ARMS!==0&&s.setStats(r.DMIN,r.DMAX,r.DMEAN,r.ARMS),Ce&&de.timeEnd("MrcParser._parse "+this.name)},t.prototype.getMatrix=function(){var n=this.volume.header,s=[n.xlen,0,0],r=[n.ylen*Math.cos(Math.PI/180*n.gamma),n.ylen*Math.sin(Math.PI/180*n.gamma),0],a=[n.zlen*Math.cos(Math.PI/180*n.beta),n.zlen*(Math.cos(Math.PI/180*n.alpha)-Math.cos(Math.PI/180*n.gamma)*Math.cos(Math.PI/180*n.beta))/Math.sin(Math.PI/180*n.gamma),0];a[2]=Math.sqrt(n.zlen*n.zlen*Math.sin(Math.PI/180*n.beta)*Math.sin(Math.PI/180*n.beta)-a[1]*a[1]);var o=[[],s,r,a],c=[0,n.MX,n.MY,n.MZ],p=[0,n.MAPC,n.MAPR,n.MAPS],f=new De;return f.set(o[p[1]][0]/c[p[1]],o[p[2]][0]/c[p[2]],o[p[3]][0]/c[p[3]],0,o[p[1]][1]/c[p[1]],o[p[2]][1]/c[p[2]],o[p[3]][1]/c[p[3]],0,o[p[1]][2]/c[p[1]],o[p[2]][2]/c[p[2]],o[p[3]][2]/c[p[3]],0,0,0,0,1),f.setPosition(new P(n.originX,n.originY,n.originZ)),f.multiply(new De().makeTranslation(n.NXSTART,n.NYSTART,n.NZSTART)),f},Object.defineProperties(t.prototype,i),t}(Xf);ft.add("mrc",od),ft.add("ccp4",od),ft.add("map",od);var ZF=/\s+/;function cd(e){return e.trim().split(ZF).map(parseFloat)}var Tw=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"xplor"},t.prototype._parse=function(){Ce&&de.time("XplorParser._parse "+this.name);var n,s=this.volume,r=this.streamer.peekLines(8),a={},o=(n=r[2].startsWith("REMARKS")?parseInt(r[1].substring(0,8))+2:5)+3,c=cd(r[n]);a.NA=c[0],a.AMIN=c[1],a.AMAX=c[2],a.NB=c[3],a.BMIN=c[4],a.BMAX=c[5],a.NC=c[6],a.CMIN=c[7],a.CMAX=c[8];var p=cd(r[n+1]);a.a=p[0]*this.voxelSize,a.b=p[1]*this.voxelSize,a.c=p[2]*this.voxelSize,a.alpha=p[3],a.beta=p[4],a.gamma=p[5];var f=a.AMAX-a.AMIN+1,l=a.BMAX-a.BMIN+1,u=a.CMAX-a.CMIN+1,m=f*l*u,d=new Float32Array(m),y=Math.ceil(1+f*l/6),_=0,h=0;this.streamer.eachChunkOfLines(function(g){(function(E,w,v){for(var x=E;x<w;++x){var b=v[x];if(h>=o&&(h-o)%y!=0&&_<m)for(var A=0;A<6;++A){var M=parseFloat(b.substr(12*A,12));if(isNaN(M))break;d[_++]=M}else if(_===m){var G=b.trim();if(G&&G!=="-9999"){var T=cd(b);a.RAVE=T[0],a.RSIGMA=T[1]}}++h}})(0,g.length,g)}),s.header=a,s.setData(d,f,l,u),a.RAVE!==0&&a.RSIGMA!==1&&s.setStats(void 0,void 0,a.RAVE,a.RSIGMA),Ce&&de.timeEnd("XplorParser._parse "+this.name)},t.prototype.getMatrix=function(){var n=this.volume.header,s=[n.a,0,0],r=[n.b*Math.cos(Math.PI/180*n.gamma),n.b*Math.sin(Math.PI/180*n.gamma),0],a=[n.c*Math.cos(Math.PI/180*n.beta),n.c*(Math.cos(Math.PI/180*n.alpha)-Math.cos(Math.PI/180*n.gamma)*Math.cos(Math.PI/180*n.beta))/Math.sin(Math.PI/180*n.gamma),0];a[2]=Math.sqrt(n.c*n.c*Math.sin(Math.PI/180*n.beta)*Math.sin(Math.PI/180*n.beta)-a[1]*a[1]);var o=[[],s,r,a],c=[0,n.NA,n.NB,n.NC],p=[0,1,2,3],f=new De;return f.set(o[p[1]][0]/c[p[1]],o[p[2]][0]/c[p[2]],o[p[3]][0]/c[p[3]],0,o[p[1]][1]/c[p[1]],o[p[2]][1]/c[p[2]],o[p[3]][1]/c[p[3]],0,o[p[1]][2]/c[p[1]],o[p[2]][2]/c[p[2]],o[p[3]][2]/c[p[3]],0,0,0,0,1),f.multiply(new De().makeTranslation(n.AMIN,n.BMIN,n.CMIN)),f},Object.defineProperties(t.prototype,i),t}(Xf);function ui(e,t,i){var n,s,r;e/=360,t/=100,i/=100;var a=Math.floor(6*e),o=6*e-a,c=i*(1-t),p=i*(1-o*t),f=i*(1-(1-o)*t);switch(a%6){case 0:n=i,s=f,r=c;break;case 1:n=p,s=i,r=c;break;case 2:n=c,s=i,r=f;break;case 3:n=c,s=p,r=i;break;case 4:n=f,s=c,r=i;break;case 5:n=i,s=c,r=p}return[n,s,r]}ft.add("xplor",Tw),ft.add("cns",Tw);var i_={red:ui(0,100,100),orange:ui(20,100,100),gold:ui(40,100,100),yellow:ui(60,100,100),lime:ui(80,100,100),green:ui(120,80,100),sea:ui(150,100,100),cyan:ui(180,100,85),sky:ui(210,75,95),blue:ui(240,70,100),purple:ui(275,75,100),magenta:ui(300,95,100),hotpink:ui(335,100,100),pink:ui(350,55,100),peach:ui(25,75,100),lilac:ui(275,55,100),pinktint:ui(340,30,100),peachtint:ui(25,50,100),yellowtint:ui(60,50,100),greentint:ui(135,40,100),bluetint:ui(220,40,100),lilactint:ui(275,35,100),white:ui(0,0,100),gray:ui(0,0,50),brown:ui(20,45,75),deadwhite:[1,1,1],deadblack:[0,0,0],invisible:[0,0,0]},eR=/[\s,]+/,FE=/[^{}\s]*{[^{}]+}|[^{}\s]+/g,n_=/^{+|}+$/g,tR=/^['"]+|['"]+$/g,RE=/\s*=\s*/g;function cl(e){for(var t,i,n,s=[],r=(e=e.replace(RE,"=")).match(FE),a=1;a<r.length;++a){var o=r[a];if(o[0]==="{")t=o.substring(1,o.length-1);else{var c=o.split("=");c.length===2&&(c[0]==="color"?i=i_[c[1]]:c[0]==="width"?n=parseInt(c[1]):c[0]==="master"&&s.push(c[1].replace(n_,"")))}}return{listName:t,listColor:i,listMasters:s,listWidth:n}}function pl(e){for(var t,i,n,s=(e=e.trim()).indexOf("{"),r=e.indexOf("}"),a=e.substr(r+1).split(eR),o=e.substr(s+1,r-1),c=[parseFloat(a[a.length-3]),parseFloat(a[a.length-2]),parseFloat(a[a.length-1])],p=!1,f=!1,l=4;l<=a.length;l++){var u=a[a.length-l];u in i_&&(t=i_[a[a.length-l]]),u.startsWith("width")&&(i=parseInt(u.substring(5))),u.startsWith("r=")&&(n=parseFloat(u.split("=")[1])),u.startsWith("P")&&(p=!0),u.startsWith("X")&&(f=!0)}return{label:o,position:c,color:t,radius:n,width:i,isLineBreak:p,isTriangleBreak:f}}function pd(e){var t=e.indexOf("{"),i=e.indexOf("}");return e.substring(t!==-1?t+1:0,i!==-1?i:void 0).trim()}function iR(e){var t=e.indexOf("}");return t===-1?void 0:e.substr(t+1).trim()}function fd(e){for(var t="",i=[],n={},s=(e=e.replace(RE,"=")).match(FE),r=1;r<s.length;++r){var a=s[r];if(a[0]==="{")t=a.substring(1,a.length-1);else{var o=a.split("=");o.length===2?o[0]==="master"?i.push(o[1].replace(n_,"")):n[o[0]]=o[1].replace(n_,""):n[o[0]]=!0}}return{groupName:t,groupFlags:n,groupMasters:i}}var nR=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"kin"},i.__objName.get=function(){return"kinemage"},t.prototype._parse=function(){Ce&&de.time("KinParser._parse "+this.name);var n,s,r={kinemage:void 0,onewidth:void 0,"1viewid":void 0,pdbfile:void 0,texts:[],text:"",captions:[],caption:"",groupDict:{},subgroupDict:{},masterDict:{},pointmasterDict:{},dotLists:[],vectorLists:[],ballLists:[],ribbonLists:[]};this.kinemage=r;var a,o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x,b,A,M,G,T,N=!1,D="",L=!1,C="",O=null,q=null,z=!1,$="",re=!1,K="",J=!1,Y=!1;if(this.streamer.eachChunkOfLines(function(fe){(function(X,ae,ne){for(var pe=X;pe<ae;++pe){var U=ne[pe];if(U[0]==="@"&&(N=!1,L=!1,z=!1,re=!1,J=!1,Y=!1),U)if(U.startsWith("@dotlist")){var W=cl(U),Z=W.listColor,ie=W.listName,ue=W.listMasters;N=!0,D="",o=[],c=[],p=[],a=Z,n&&(ue=ue.concat(n)),s&&(ue=ue.concat(s)),r.dotLists.push({name:ie,masterArray:ue,labelArray:o,positionArray:c,colorArray:p})}else if(U.startsWith("@vectorlist")){var he=cl(U),ge=he.listMasters,k=he.listName,H=he.listWidth,me=he.listColor;ge&&ge.forEach(function(et){r.masterDict[et]||(r.masterDict[et]={indent:!1,visible:!1})}),L=!0,C="",O=null,q=null,u=[],m=[],d=[],y=[],_=[],h=[],f=me,l=[],H&&l.push(H),n&&(ge=ge.concat(n)),s&&(ge=ge.concat(s)),r.vectorLists.push({name:k,masterArray:ge,label1Array:u,label2Array:m,position1Array:d,position2Array:y,color1Array:_,color2Array:h,width:l})}else if(U.startsWith("@balllist")){var oe=cl(U),te=oe.listName,se=oe.listColor,we=oe.listMasters;we&&we.forEach(function(et){r.masterDict[et]||(r.masterDict[et]={indent:!1,visible:!1})}),z=!0,$="",w=[],g=[],v=[],x=[],E=se,n&&(we=we.concat(n)),s&&(we=we.concat(s)),r.ballLists.push({name:te,masterArray:we,labelArray:w,radiusArray:g,positionArray:v,colorArray:x})}else if(U.startsWith("@ribbonlist")||U.startsWith("@trianglelist")){var Me=cl(U),_e=Me.listMasters,Se=Me.listName,Ee=Me.listColor;_e&&_e.forEach(function(et){r.masterDict[et]||(r.masterDict[et]={indent:!1,visible:!1})}),re=!0,K="",A=[],M=[],G=[],T=[],b=Ee,n&&(_e=_e.concat(n)),s&&(_e=_e.concat(s)),r.ribbonLists.push({name:Se,masterArray:_e,labelArray:A,positionArray:M,breakArray:G,colorArray:T})}else if(U.startsWith("@text"))J=!0,r.texts.push(U.substr(5));else if(U.startsWith("@caption"))Y=!0,r.captions.push(U.substr(8));else if(N){var Re=pl(U),Pe=Re.label,Ae=Re.color,Ve=Re.position;Pe==='"'?Pe=D:D=Pe,Ae===void 0&&(Ae=a),o.push(Pe),c.push.apply(c,Ve),p.push.apply(p,Ae)}else if(L)for(var rt=U.replace(/(?!^){/g,`
{`).split(/\n/),tt=0;tt<rt.length;tt++){var Xe=pl(rt[tt]),mt=Xe.label,ht=Xe.color,ot=Xe.width,je=Xe.position,St=Xe.isLineBreak;mt==='"'?mt=C:C=mt,ht===void 0&&(ht=f),St||O!==null&&(ot&&l.push(ot),u.push(C),d.push.apply(d,O),_.push.apply(_,q),m.push(mt),y.push.apply(y,je),h.push.apply(h,ht)),C=mt,O=je,q=ht}else if(z){var Ze=pl(U),ze=Ze.label,Mt=Ze.radius,Ge=Ze.color,qe=Ze.position;ze==='"'?ze=$:$=ze,Mt===void 0&&(Mt=1),Ge===void 0&&(Ge=E),w.push(ze),g.push(Mt),v.push.apply(v,qe),x.push.apply(x,Ge)}else if(re){var Qe=pl(U),j=Qe.label,xe=Qe.color,ye=Qe.position,S=Qe.isTriangleBreak;j==='"'?j=K:K=j,xe===void 0&&(xe=b),A.push(j),M.push.apply(M,ye),G.push(S),T.push.apply(T,xe)}else if(J)r.texts.push(U);else if(Y)r.captions.push(U);else if(U.startsWith("@kinemage"))r.kinemage=parseInt(U.substr(9).trim());else if(U.startsWith("@onewidth"))r.onewidth=!0;else if(U.startsWith("@1viewid"))r["1viewid"]=pd(U);else if(U.startsWith("@pdbfile"))r.pdbfile=pd(U);else if(U.startsWith("@group")){var I=fd(U),F=I.groupName,B=I.groupFlags,V=I.groupMasters;for(var Q in r.groupDict[F]||(r.groupDict[F]={dominant:!1,animate:!1},n=V),n&&n.forEach(function(et){r.masterDict[et]||(r.masterDict[et]={indent:!1,visible:!1})}),B)r.groupDict[F][Q]=B[Q]}else if(U.startsWith("@subgroup")){var ee=fd(U),ce=ee.groupName,be=ee.groupFlags,ve=ee.groupMasters;for(var Ie in r.subgroupDict[ce]||(r.subgroupDict[ce]={dominant:!1,animate:!1},s=ve),s&&s.forEach(function(et){r.masterDict[et]||(r.masterDict[et]={indent:!1,visible:!1})}),be)r.subgroupDict[ce][Ie]=be[Ie]}else if(U.startsWith("@master")){var Be=pd(U),Fe=iR(U);r.masterDict[Be]||(r.masterDict[Be]={indent:!1,visible:!1}),Fe==="on"?r.masterDict[Be].visible=!0:Fe==="off"?r.masterDict[Be].visible=!1:Fe==="indent"&&(r.masterDict[Be].indent=!0)}else if(U.startsWith("@pointmaster")){var Ne=fd(U),ke=Ne.groupName,Ye=Ne.groupFlags;r.pointmasterDict[ke]={id:Object.keys(Ye)[0].replace(tR,"")}}else console.log(U);else N=!1,L=!1,z=!1,re=!1}})(0,fe.length,fe)}),r.text=r.texts.join(`
`).trim(),r.caption=r.captions.join(`
`).trim(),r.ribbonLists){var le=[];r.ribbonLists.forEach(function(fe){le.push(function(X){for(var ae=X.labelArray,ne=X.positionArray,pe=X.colorArray,U=X.breakArray,W=[],Z=[],ie=[],ue=[],he=0;he<U.length/3;he++){var ge=3*he,k=9*he;U[ge+1]||U[ge+2]||(W.push(ae[ge]),W.push(ae[ge+1]),W.push(ae[ge+2]),ue.push(U[ge]),ue.push(U[ge+1]),ue.push(U[ge+2]),Z.push(ne[k]),Z.push(ne[k+1]),Z.push(ne[k+2]),Z.push(ne[k+3]),Z.push(ne[k+4]),Z.push(ne[k+5]),Z.push(ne[k+6]),Z.push(ne[k+7]),Z.push(ne[k+8]),ie.push(pe[k]),ie.push(pe[k+1]),ie.push(pe[k+2]),ie.push(pe[k+3]),ie.push(pe[k+4]),ie.push(pe[k+5]),ie.push(pe[k+6]),ie.push(pe[k+7]),ie.push(pe[k+8]))}return{name:X.name,masterArray:X.masterArray,labelArray:W,positionArray:Z,breakArray:ue,colorArray:ie}}(function(X){for(var ae=X.labelArray,ne=X.positionArray,pe=X.colorArray,U=X.breakArray,W=[],Z=0;Z<3*(ae.length-2);++Z)W[Z]=ae[Z-2*Math.floor(Z/3)];for(var ie=[],ue=0;ue<3*(U.length-2);++ue)ie[ue]=U[ue-2*Math.floor(ue/3)];for(var he=[],ge=0;ge<9*(ne.length/3-2);++ge)he[ge]=ne[ge-6*Math.floor(ge/9)];for(var k=[],H=0;H<9*(pe.length/3-2);++H)k[H]=pe[H-6*Math.floor(H/9)];for(var me=[],oe=0;oe<he.length/3;++oe)me.push(new P(he[3*oe],he[3*oe]+1,he[3*oe]+2));return{name:X.name,masterArray:X.masterArray,labelArray:W,positionArray:he,breakArray:ie,colorArray:k}}(fe)))}),r.ribbonLists=le}Ce&&de.timeEnd("KinParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(rn);ft.add("kin",nR);var NE=function(e){function t(n,s){e.call(this,n,s),this.loader=this.getLoader(),this.surface=new nn(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"surface"},i.__objName.get=function(){return"surface"},t.prototype._parse=function(){var n=this.loader.parse(this.streamer.asText());this.surface.fromGeometry(n)},Object.defineProperties(t.prototype,i),t}(rn),s_=function(){this.regexp={vertex_pattern:/^v\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,normal_pattern:/^vn\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,uv_pattern:/^vt\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};s_.prototype={constructor:s_,setPath:function(e){this.path=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],startObject:function(t,i){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=t,void(this.object.fromDeclaration=i!==!1);this.object={name:t||"",geometry:{vertices:[],normals:[]},fromDeclaration:i!==!1},this.objects.push(this.object)},parseVertexIndex:function(t,i){var n=parseInt(t,10);return 3*(n>=0?n-1:n+i/3)},parseNormalIndex:function(t,i){var n=parseInt(t,10);return 3*(n>=0?n-1:n+i/3)},addVertex:function(t,i,n){var s=this.vertices,r=this.object.geometry.vertices;r.push(s[t+0]),r.push(s[t+1]),r.push(s[t+2]),r.push(s[i+0]),r.push(s[i+1]),r.push(s[i+2]),r.push(s[n+0]),r.push(s[n+1]),r.push(s[n+2])},addVertexLine:function(t){var i=this.vertices,n=this.object.geometry.vertices;n.push(i[t+0]),n.push(i[t+1]),n.push(i[t+2])},addNormal:function(t,i,n){var s=this.normals,r=this.object.geometry.normals;r.push(s[t+0]),r.push(s[t+1]),r.push(s[t+2]),r.push(s[i+0]),r.push(s[i+1]),r.push(s[i+2]),r.push(s[n+0]),r.push(s[n+1]),r.push(s[n+2])},addFace:function(t,i,n,s,r,a,o,c){var p,f=this.vertices.length,l=this.parseVertexIndex(t,f),u=this.parseVertexIndex(i,f),m=this.parseVertexIndex(n,f);if(s===void 0?this.addVertex(l,u,m):(p=this.parseVertexIndex(s,f),this.addVertex(l,u,p),this.addVertex(u,m,p)),r!==void 0){var d=this.normals.length;l=this.parseNormalIndex(r,d),u=r===a?l:this.parseNormalIndex(a,d),m=r===o?l:this.parseNormalIndex(o,d),s===void 0?this.addNormal(l,u,m):(p=this.parseNormalIndex(c,d),this.addNormal(l,u,p),this.addNormal(u,m,p))}},addLineGeometry:function(t){this.object.geometry.type="Line";for(var i=this.vertices.length,n=0,s=t.length;n<s;n++)this.addVertexLine(this.parseVertexIndex(t[n],i))}};return e.startObject("",!1),e},parse:function(e){var t,i,n=this._createParserState();e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));var s=e.split(`
`),r="",a="",o="",c=[],p=typeof"".trimLeft=="function";for(t=0,i=s.length;t<i;t++)if(r=s[t],(r=p?r.trimLeft():r.trim()).length!==0&&(a=r.charAt(0))!=="#"){if(a==="v"){if((o=r.charAt(1))===" "&&(c=this.regexp.vertex_pattern.exec(r))!==null)n.vertices.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));else if(o==="n"&&(c=this.regexp.normal_pattern.exec(r))!==null)n.normals.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]));else if(o!=="t"||this.regexp.uv_pattern.exec(r)===null)throw new Error("Unexpected vertex/normal/uv line: '"+r+"'")}else if(a==="f"){if((c=this.regexp.face_vertex_uv_normal.exec(r))!==null)n.addFace(c[1],c[4],c[7],c[10],c[3],c[6],c[9],c[12]);else if(this.regexp.face_vertex_uv.exec(r)===null)if((c=this.regexp.face_vertex_normal.exec(r))!==null)n.addFace(c[1],c[3],c[5],c[7],c[2],c[4],c[6],c[8]);else{if((c=this.regexp.face_vertex.exec(r))===null)throw new Error("Unexpected face line: '"+r+"'");n.addFace(c[1],c[2],c[3],c[4])}}else if(a==="l"){var f=r.substring(1).trim().split(" "),l=[],u=[];if(r.indexOf("/")===-1)l=f;else for(var m=0,d=f.length;m<d;m++){var y=f[m].split("/");y[0]!==""&&l.push(y[0]),y[1]!==""&&u.push(y[1])}n.addLineGeometry(l,u)}else if((c=this.regexp.object_pattern.exec(r))!==null){var _=c[0].substr(1).trim();n.startObject(_)}else if(!this.regexp.material_use_pattern.test(r)){if(!this.regexp.material_library_pattern.test(r)){if(this.regexp.smoothing_pattern.exec(r)===null){if(r==="\0")continue;throw new Error("Unexpected line: '"+r+"'")}}}}var h=[];for(t=0,i=n.objects.length;t<i;t++){var g=n.objects[t].geometry;if(g.vertices.length!==0){var E=new We;E.setAttribute("position",new it(new Float32Array(g.vertices),3)),g.normals.length>0?E.setAttribute("normal",new it(new Float32Array(g.normals),3)):E.computeVertexNormals(),h.push(E)}}return h}};var sR=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"obj"},t.prototype.getLoader=function(){return new s_},Object.defineProperties(t.prototype,i),t}(NE);ft.add("obj",sR);var r_=function(){this.propertyNameMapping={}};r_.prototype={constructor:r_,setPropertyNameMapping:function(e){this.propertyNameMapping=e},bin2str:function(e){for(var t=new Uint8Array(e),i="",n=0;n<e.byteLength;n++)i+=String.fromCharCode(t[n]);return i},isASCII:function(e){return this.parseHeader(this.bin2str(e)).format==="ascii"},parse:function(e){return e instanceof ArrayBuffer?this.isASCII(e)?this.parseASCII(this.bin2str(e)):this.parseBinary(e):this.parseASCII(e)},parseHeader:function(e){var t="",i=0,n=/ply([\s\S]*)end_header\s/.exec(e);n!==null&&(t=n[1],i=n[0].length);for(var s,r,a,o,c,p,f={comments:[],elements:[],headerLength:i},l=t.split(`
`),u=0;u<l.length;u++){var m=l[u];if((m=m.trim())!=="")switch(r=(a=m.split(/\s+/)).shift(),m=a.join(" "),r){case"format":f.format=a[0],f.version=a[1];break;case"comment":f.comments.push(m);break;case"element":s!==void 0&&f.elements.push(s),(s={}).name=a[0],s.count=parseInt(a[1]),s.properties=[];break;case"property":s.properties.push((o=a,c=this.propertyNameMapping,p=void 0,(p={type:o[0]}).type==="list"?(p.name=o[3],p.countType=o[1],p.itemType=o[2]):p.name=o[1],p.name in c&&(p.name=c[p.name]),p));break;default:console.log("unhandled",r,a)}}return s!==void 0&&f.elements.push(s),f},parseASCIINumber:function(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}},parseASCIIElement:function(e,t){for(var i=t.split(/\s+/),n={},s=0;s<e.length;s++)if(e[s].type==="list"){for(var r=[],a=this.parseASCIINumber(i.shift(),e[s].countType),o=0;o<a;o++)r.push(this.parseASCIINumber(i.shift(),e[s].itemType));n[e[s].name]=r}else n[e[s].name]=this.parseASCIINumber(i.shift(),e[s].type);return n},parseASCII:function(e){var t,i=new ut,n=this.parseHeader(e),s="";(t=/end_header\s([\s\S]*)$/.exec(e))!==null&&(s=t[1]);var r=s.split(`
`),a=0,o=0;i.useColor=!1;for(var c=0;c<r.length;c++){var p=r[c];if((p=p.trim())!==""){o>=n.elements[a].count&&(a++,o=0);var f=this.parseASCIIElement(n.elements[a].properties,p);this.handleElement(i,n.elements[a].name,f),o++}}return this.postProcess(i)},postProcess:function(e){if(e.useColor){for(var t=0;t<e.faces.length;t++)e.faces[t].vertexColors=[e.colors[e.faces[t].a],e.colors[e.faces[t].b],e.colors[e.faces[t].c]];e.elementsNeedUpdate=!0}return e.computeBoundingSphere(),e},handleElement:function(e,t,i){if(t==="vertex"){if(e.vertices.push(new P(i.x,i.y,i.z)),"red"in i&&"green"in i&&"blue"in i){e.useColor=!0;var n=new Oe;n.setRGB(i.red/255,i.green/255,i.blue/255),e.colors.push(n)}}else if(t==="face"){var s=i.vertex_indices;s.length===3?e.faces.push(new Ga(s[0],s[1],s[2])):s.length===4&&e.faces.push(new Ga(s[0],s[1],s[3]),new Ga(s[1],s[2],s[3]))}},binaryRead:function(e,t,i,n){switch(i){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,n),2];case"uint16":case"ushort":return[e.getUint16(t,n),2];case"int32":case"int":return[e.getInt32(t,n),4];case"uint32":case"uint":return[e.getUint32(t,n),4];case"float32":case"float":return[e.getFloat32(t,n),4];case"float64":case"double":return[e.getFloat64(t,n),8]}},binaryReadElement:function(e,t,i,n){for(var s,r={},a=0,o=0;o<i.length;o++)if(i[o].type==="list"){var c=[],p=(s=this.binaryRead(e,t+a,i[o].countType,n))[0];a+=s[1];for(var f=0;f<p;f++)s=this.binaryRead(e,t+a,i[o].itemType,n),c.push(s[0]),a+=s[1];r[i[o].name]=c}else s=this.binaryRead(e,t+a,i[o].type,n),r[i[o].name]=s[0],a+=s[1];return[r,a]},parseBinary:function(e){for(var t,i=new ut,n=this.parseHeader(this.bin2str(e)),s=n.format==="binary_little_endian",r=new DataView(e,n.headerLength),a=0,o=0;o<n.elements.length;o++)for(var c=0;c<n.elements[o].count;c++){a+=(t=this.binaryReadElement(r,a,n.elements[o].properties,s))[1];var p=t[0];this.handleElement(i,n.elements[o].name,p)}return this.postProcess(i)}};var rR=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0}};return i.type.get=function(){return"ply"},t.prototype.getLoader=function(){return new r_},Object.defineProperties(t.prototype,i),t}(NE);ft.add("ply",rR);var aR=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.delimiter=R(r.delimiter,","),this.comment=R(r.comment,"#"),this.columnNames=R(r.columnNames,!1),this.table={name:this.name,path:this.path,columnNames:[],data:[]}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"csv"},i.__objName.get=function(){return"table"},t.prototype._parse=function(){var n=this,s=this.table.data,r=new RegExp("\\s*"+this.delimiter+"\\s*"),a=0;this.streamer.eachChunkOfLines(function(o){for(var c=o.length,p=0;p<c;++p){var f=o[p].trim();if(!f.startsWith(n.comment)){var l=f.split(r);a===0?n.table.columnNames=l:f&&s.push(l),++a}}})},Object.defineProperties(t.prototype,i),t}(rn);ft.add("csv",aR);var oR=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.string=R(r.string,!1),this.json={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0},isJson:{configurable:!0}};return i.type.get=function(){return"json"},i.__objName.get=function(){return"json"},i.isJson.get=function(){return!0},t.prototype._parse=function(){this.streamer.isBinary()||this.string?this.json.data=JSON.parse(this.streamer.asText()):this.json.data=this.streamer.data},Object.defineProperties(t.prototype,i),t}(rn);ft.add("json",oR);var cR=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.msgpack={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"msgpack"},i.__objName.get=function(){return"msgpack"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("MsgpackParser._parse "+this.name),this.msgpack.data=PE(this.streamer.data),Ce&&de.timeEnd("MsgpackParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(rn);ft.add("msgpack",cR);var pR=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.netcdf={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"netcdf"},i.__objName.get=function(){return"netcdf"},i.isBinary.get=function(){return!0},t.prototype._parse=function(){Ce&&de.time("NetcdfParser._parse "+this.name),this.netcdf.data=new zp(this.streamer.data),Ce&&de.timeEnd("NetcdfParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(rn);ft.add("netcdf",pR);var Iw=function(e){function t(n,s){e.call(this,n,s),this.text={name:this.name,path:this.path,data:""}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"text"},i.__objName.get=function(){return"text"},t.prototype._parse=function(){this.text.data=this.streamer.asText()},Object.defineProperties(t.prototype,i),t}(rn);ft.add("txt",Iw),ft.add("text",Iw);var fR=/^['"]|['"]$/g,lR=/^<([\w-:.]+)\s*/,uR=/^([^<]*)/,mR=/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/;function dR(e){return e=e.trim().replace(/<!--[\s\S]*?-->/g,""),{declaration:t(),root:i()};function t(){if(s(/^<\?xml\s*/)){for(var o={attributes:{}};!r()&&!a("?>");){var c=n();if(!c)return o;o.attributes[c.name]=c.value}return s(/\?>\s*/),o}}function i(){var o=s(lR);if(o){for(var c,p={name:o[1],attributes:{},children:[]};!(r()||a(">")||a("?>")||a("/>"));){var f=n();if(!f)return p;p.attributes[f.name]=f.value}if(s(/^\s*\/>\s*/))return p;for(s(/\??>\s*/),p.content=function(){var l=s(uR);return l?l[1]:""}();c=i();)p.children.push(c);return s(/^<\/[\w-:.]+>\s*/),p}}function n(){var o,c=s(mR);if(c)return{name:c[1],value:(o=c[2],o.replace(fR,""))}}function s(o){var c=e.match(o);if(c)return e=e.slice(c[0].length),c}function r(){return e.length===0}function a(o){return e.indexOf(o)===0}}var DE=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.useDomParser=R(r.useDomParser,!1),this.xml={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={type:{configurable:!0},__objName:{configurable:!0},isXml:{configurable:!0}};return i.type.get=function(){return"xml"},i.__objName.get=function(){return"xml"},i.isXml.get=function(){return!0},t.prototype.__xmlParser=function(n){return dR(n)},t.prototype.__domParser=function(n){return new window.DOMParser().parseFromString(n,"text/xml")},t.prototype._parse=function(){Ce&&de.time("XmlParser._parse "+this.name),this.useDomParser?this.streamer.data instanceof Document?this.xml.data=this.streamer.data:this.xml.data=this.__domParser(this.streamer.asText()):this.xml.data=this.__xmlParser(this.streamer.asText()),Ce&&de.timeEnd("XmlParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(rn);function Ii(e,t){var i=e.getNamedItem(t);return i!==null?i.value:""}function Lw(e,t,i){i===void 0&&(i=!1);var n=Ii(e,"icode").trim(),s=Ii(e,"chain").trim(),r=Ii(e,"altcode"),a=Ii(e,"resnum");return n&&(a+="^"+n),s&&(a+=":"+s),t&&(a+="."+t),i&&r.trim()&&(a+="%"+r),a+="/"+(parseInt(Ii(e,"model"))-1)}function hR(e){var t=Ii(e,"chain").trim(),i="["+Ii(e,"rescode")+"]"+Ii(e,"resnum");return t&&(i+=":"+t),i}function ld(e,t,i){e[t]===void 0?e[t]=i:e[t]|=i}function ud(e,t){return e!==null&&e.value===t}function _R(e,t,i){for(var n=0,s=t.getElementsByTagName("clash"),r=0,a=s.length;r<a;++r)if(e[Ii(s[r].attributes,"cid")]){n+=1;break}return t.getElementsByTagName("angle-outlier").length>0&&(n+=1),t.getElementsByTagName("bond-outlier").length>0&&(n+=1),t.getElementsByTagName("plane-outlier").length>0&&(n+=1),ud(i.getNamedItem("rota"),"OUTLIER")&&(n+=1),ud(i.getNamedItem("rama"),"OUTLIER")&&(n+=1),ud(i.getNamedItem("RNApucker"),"outlier")&&(n+=1),n}ft.add("xml",DE);var Nl=function(e,t){this.name=e,this.path=t,this.rsrzDict={},this.rsccDict={},this.rciDict={},this.clashDict={},this.clashArray=[],this.geoDict={},this.geoAtomDict={},this.atomDict={},this.clashSele="NONE"},Fw={type:{configurable:!0}};Fw.type.get=function(){return"validation"},Nl.prototype.fromXml=function(e){Ce&&de.time("Validation.fromXml");var t=this.rsrzDict,i=this.rsccDict,n=this.rciDict,s=this.clashDict,r=this.clashArray,a=this.geoDict,o=this.geoAtomDict,c=this.atomDict,p=e.getElementsByTagName("Entry");if(p.length===1){var f=p[0].getElementsByTagName("chemical_shift_list");if(f.length===1)for(var l=f[0].getElementsByTagName("random_coil_index"),u=0,m=l.length;u<m;++u){var d=l[u].attributes;n[hR(d)]=parseFloat(Ii(d,"value"))}}var y=e.getElementsByTagName("ModelledSubgroup"),_={},h=[];Ce&&de.time("Validation.fromXml#clashDict");for(var g=0,E=y.length;g<E;++g){var w=y[g],v=w.attributes,x=Lw(v);v.getNamedItem("rsrz")!==null&&(t[x]=parseFloat(Ii(v,"rsrz"))),v.getNamedItem("rscc")!==null&&(i[x]=parseFloat(Ii(v,"rscc")));var b=e.createAttribute("sele");b.value=x,v.setNamedItem(b);for(var A=w.getElementsByTagName("clash"),M=0,G=A.length;M<G;++M){var T=A[M].attributes,N=Ii(T,"atom");if(K_(N)!=="H"){var D=Ii(T,"cid"),L=Lw(v,N,!0);if(c[L]=!0,_[D]===void 0)_[D]={sele1:L,res1:x};else{var C=_[D];C.res1!==x&&(C.sele2=L,C.res2=x,h.push(C.res1,x),s[D]=C,r.push(C))}}}}Ce&&de.timeEnd("Validation.fromXml#clashDict");for(var O=0,q=y.length;O<q;++O){var z=y[O],$=z.attributes,re=Ii($,"sele");if(Ii($,"seq")!=="."){var K=_R(s,z,$);K>0&&(a[re]=K)}else{var J=z.getElementsByTagName("clash"),Y=z.getElementsByTagName("mog-bond-outlier"),le=z.getElementsByTagName("mog-angle-outlier");if(Y.length>0||le.length>0||J.length>0){var fe={};o[re]=fe;for(var X=0,ae=J.length;X<ae;++X){var ne=J[X].attributes;s[Ii(ne,"cid")]&&ld(fe,Ii(ne,"atom"),1)}for(var pe=0,U=Y.length;pe<U;++pe)Ii(Y[pe].attributes,"atoms").split(",").forEach(function(ie){ld(fe,ie,2)});for(var W=0,Z=le.length;W<Z;++W)Ii(le[W].attributes,"atoms").split(",").forEach(function(ie){ld(fe,ie,4)})}}}this.clashSele=h.length?h.join(" OR "):"NONE",Ce&&de.timeEnd("Validation.fromXml")},Nl.prototype.getClashData=function(e){Ce&&de.time("Validation.getClashData");var t=e||{},i=t.structure,n=i.atomSet,s=new Oe(R(t.color,"#f0027f")),r=i.getAtomProxy(),a=i.getAtomProxy(),o=new P,c=new P,p=new P,f=this.clashArray,l=f.length,u=new Float32Array(3*l),m=new Float32Array(3*l),d=Xt(l,s.r,s.g,s.b),y=new Float32Array(l),_=new Float32Array(l);Ce&&de.time("Validation.getClashData#atomDict");var h=this.atomDict;i.eachAtom(function(E){var w=function(v){var x=v.inscode,b=v.chainname,A=v.atomname,M=v.altloc,G=v.resno+"";return x&&(G+="^"+x),b&&(G+=":"+b),A&&(G+="."+A),M&&(G+="%"+M),G+"/"+v.modelIndex}(E);h[w]===!0&&(h[w]=E.index)}),Ce&&de.timeEnd("Validation.getClashData#atomDict");var g=0;return f.forEach(function(E,w){if(r.index=h[E.sele1],a.index=h[E.sele2],r.index!==void 0&&a.index!==void 0&&n.isSet(r.index,a.index)){o.subVectors(a,r).setLength(r.vdw),c.copy(r).add(o),o.subVectors(r,a).setLength(a.vdw),p.copy(a).add(o);var v=r.distanceTo(a)/2,x=Math.sqrt(r.vdw*r.vdw-v*v),b=Math.sqrt(a.vdw*a.vdw-v*v);c.toArray(u,3*g),p.toArray(m,3*g),y[g]=(x+b)/2,_[g]=w,++g}}),Ce&&de.timeEnd("Validation.getClashData"),{position1:u.subarray(0,3*g),position2:m.subarray(0,3*g),color:d.subarray(0,3*g),color2:d.subarray(0,3*g),radius:y.subarray(0,g),picking:new UT(_.subarray(0,g),this,i)}},Object.defineProperties(Nl.prototype,Fw);var yR=function(e){function t(n,s){var r=s||{};e.call(this,n,r),this.useDomParser=!0,this.validation=new Nl(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={__objName:{configurable:!0},isXml:{configurable:!0}};return i.__objName.get=function(){return"validation"},i.isXml.get=function(){return!0},t.prototype._parse=function(){e.prototype._parse.call(this),Ce&&de.time("ValidationParser._parse "+this.name),this.validation.fromXml(this.xml.data),Ce&&de.timeEnd("ValidationParser._parse "+this.name)},Object.defineProperties(t.prototype,i),t}(DE);function GE(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}function oc(e,t,i,n,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),s);else for(var r=0;r<n;r++)e[s+r]=t[i+r]}function a_(e,t,i,n){for(var s=65535&e|0,r=e>>>16&65535|0,a=0;i!==0;){i-=a=i>2e3?2e3:i;do r=r+(s=s+t[n++]|0)|0;while(--a);s%=65521,r%=65521}return s|r<<16|0}ft.add("validation",yR);var gR=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();function Is(e,t,i,n){var s=gR,r=n+i;e^=-1;for(var a=n;a<r;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}function wR(e,t){var i,n,s,r,a,o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x,b,A,M,G;i=e.state,n=e.next_in,M=e.input,s=n+(e.avail_in-5),r=e.next_out,G=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),c=i.dmax,p=i.wsize,f=i.whave,l=i.wnext,u=i.window,m=i.hold,d=i.bits,y=i.lencode,_=i.distcode,h=(1<<i.lenbits)-1,g=(1<<i.distbits)-1;e:do{d<15&&(m+=M[n++]<<d,d+=8,m+=M[n++]<<d,d+=8),E=y[m&h];t:for(;;){if(m>>>=w=E>>>24,d-=w,(w=E>>>16&255)===0)G[r++]=65535&E;else{if(!(16&w)){if((64&w)==0){E=y[(65535&E)+(m&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}v=65535&E,(w&=15)&&(d<w&&(m+=M[n++]<<d,d+=8),v+=m&(1<<w)-1,m>>>=w,d-=w),d<15&&(m+=M[n++]<<d,d+=8,m+=M[n++]<<d,d+=8),E=_[m&g];i:for(;;){if(m>>>=w=E>>>24,d-=w,!(16&(w=E>>>16&255))){if((64&w)==0){E=_[(65535&E)+(m&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(x=65535&E,d<(w&=15)&&(m+=M[n++]<<d,(d+=8)<w&&(m+=M[n++]<<d,d+=8)),(x+=m&(1<<w)-1)>c){e.msg="invalid distance too far back",i.mode=30;break e}if(m>>>=w,d-=w,x>(w=r-a)){if((w=x-w)>f&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(b=0,A=u,l===0){if(b+=p-w,w<v){v-=w;do G[r++]=u[b++];while(--w);b=r-x,A=G}}else if(l<w){if(b+=p+l-w,(w-=l)<v){v-=w;do G[r++]=u[b++];while(--w);if(b=0,l<v){v-=w=l;do G[r++]=u[b++];while(--w);b=r-x,A=G}}}else if(b+=l-w,w<v){v-=w;do G[r++]=u[b++];while(--w);b=r-x,A=G}for(;v>2;)G[r++]=A[b++],G[r++]=A[b++],G[r++]=A[b++],v-=3;v&&(G[r++]=A[b++],v>1&&(G[r++]=A[b++]))}else{b=r-x;do G[r++]=G[b++],G[r++]=G[b++],G[r++]=G[b++],v-=3;while(v>2);v&&(G[r++]=G[b++],v>1&&(G[r++]=G[b++]))}break}}break}}while(n<s&&r<o);n-=v=d>>3,m&=(1<<(d-=v<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<s?s-n+5:5-(n-s),e.avail_out=r<o?o-r+257:257-(r-o),i.hold=m,i.bits=d}var ER=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],vR=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],bR=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],xR=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Hp(e,t,i,n,s,r,a,o){var c,p,f,l,u,m,d,y,_,h=o.bits,g=0,E=0,w=0,v=0,x=0,b=0,A=0,M=0,G=0,T=0,N=null,D=0,L=new Uint16Array(16),C=new Uint16Array(16),O=null,q=0;for(g=0;g<=15;g++)L[g]=0;for(E=0;E<n;E++)L[t[i+E]]++;for(x=h,v=15;v>=1&&L[v]===0;v--);if(x>v&&(x=v),v===0)return s[r++]=20971520,s[r++]=20971520,o.bits=1,0;for(w=1;w<v&&L[w]===0;w++);for(x<w&&(x=w),M=1,g=1;g<=15;g++)if(M<<=1,(M-=L[g])<0)return-1;if(M>0&&(e===0||v!==1))return-1;for(C[1]=0,g=1;g<15;g++)C[g+1]=C[g]+L[g];for(E=0;E<n;E++)t[i+E]!==0&&(a[C[t[i+E]]++]=E);if(e===0?(N=O=a,m=19):e===1?(N=ER,D-=257,O=vR,q-=257,m=256):(N=bR,O=xR,m=-1),T=0,E=0,g=w,u=r,b=x,A=0,f=-1,l=(G=1<<x)-1,e===1&&G>852||e===2&&G>592)return 1;for(;;){d=g-A,a[E]<m?(y=0,_=a[E]):a[E]>m?(y=O[q+a[E]],_=N[D+a[E]]):(y=96,_=0),c=1<<g-A,w=p=1<<b;do s[u+(T>>A)+(p-=c)]=d<<24|y<<16|_|0;while(p!==0);for(c=1<<g-1;T&c;)c>>=1;if(c!==0?(T&=c-1,T+=c):T=0,E++,--L[g]==0){if(g===v)break;g=t[i+a[E]]}if(g>x&&(T&l)!==f){for(A===0&&(A=x),u+=w,M=1<<(b=g-A);b+A<v&&!((M-=L[b+A])<=0);)b++,M<<=1;if(G+=1<<b,e===1&&G>852||e===2&&G>592)return 1;s[f=T&l]=x<<24|b<<16|u-r|0}}return T!==0&&(s[u+T]=g-A<<24|64<<16|0),o.bits=x,0}function Rw(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function SR(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function MR(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(i){var n;return i&&i.state?(n=i.state,i.total_in=i.total_out=n.total=0,i.msg="",n.wrap&&(i.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(852),n.distcode=n.distdyn=new Int32Array(592),n.sane=1,n.back=-1,0):-2}(e)):-2}function AR(e,t){var i,n;return e?(n=new SR,e.state=n,n.window=null,i=function(s,r){var a,o;return s&&s.state?(o=s.state,r<0?(a=0,r=-r):(a=1+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?-2:(o.window!==null&&o.wbits!==r&&(o.window=null),o.wrap=a,o.wbits=r,MR(s))):-2}(e,t),i!==0&&(e.state=null),i):-2}var md,dd,Nw=!0;function CR(e){if(Nw){var t;for(md=new Int32Array(512),dd=new Int32Array(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Hp(1,e.lens,0,288,md,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Hp(2,e.lens,0,32,dd,0,e.work,{bits:5}),Nw=!1}e.lencode=md,e.lenbits=9,e.distcode=dd,e.distbits=5}function OE(e,t,i,n){var s,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(oc(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((s=r.wsize-r.wnext)>n&&(s=n),oc(r.window,t,i-n,s,r.wnext),(n-=s)?(oc(r.window,t,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0}function PR(e,t){var i,n,s,r,a,o,c,p,f,l,u,m,d,y,_,h,g,E,w,v,x,b,A,M,G=0,T=new Uint8Array(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return-2;(i=e.state).mode===12&&(i.mode=13),a=e.next_out,s=e.output,c=e.avail_out,r=e.next_in,n=e.input,o=e.avail_in,p=i.hold,f=i.bits,l=o,u=c,b=0;e:for(;;)switch(i.mode){case 1:if(i.wrap===0){i.mode=13;break}for(;f<16;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(2&i.wrap&&p===35615){i.check=0,T[0]=255&p,T[1]=p>>>8&255,i.check=Is(i.check,T,2,0),p=0,f=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",i.mode=30;break}if((15&p)!=8){e.msg="unknown compression method",i.mode=30;break}if(f-=4,x=8+(15&(p>>>=4)),i.wbits===0)i.wbits=x;else if(x>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<x,e.adler=i.check=1,i.mode=512&p?10:12,p=0,f=0;break;case 2:for(;f<16;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(i.flags=p,(255&i.flags)!=8){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=p>>8&1),512&i.flags&&(T[0]=255&p,T[1]=p>>>8&255,i.check=Is(i.check,T,2,0)),p=0,f=0,i.mode=3;case 3:for(;f<32;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}i.head&&(i.head.time=p),512&i.flags&&(T[0]=255&p,T[1]=p>>>8&255,T[2]=p>>>16&255,T[3]=p>>>24&255,i.check=Is(i.check,T,4,0)),p=0,f=0,i.mode=4;case 4:for(;f<16;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}i.head&&(i.head.xflags=255&p,i.head.os=p>>8),512&i.flags&&(T[0]=255&p,T[1]=p>>>8&255,i.check=Is(i.check,T,2,0)),p=0,f=0,i.mode=5;case 5:if(1024&i.flags){for(;f<16;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}i.length=p,i.head&&(i.head.extra_len=p),512&i.flags&&(T[0]=255&p,T[1]=p>>>8&255,i.check=Is(i.check,T,2,0)),p=0,f=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((m=i.length)>o&&(m=o),m&&(i.head&&(x=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),oc(i.head.extra,n,r,m,x)),512&i.flags&&(i.check=Is(i.check,n,m,r)),o-=m,r+=m,i.length-=m),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(o===0)break e;m=0;do x=n[r+m++],i.head&&x&&i.length<65536&&(i.head.name+=String.fromCharCode(x));while(x&&m<o);if(512&i.flags&&(i.check=Is(i.check,n,m,r)),o-=m,r+=m,x)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(o===0)break e;m=0;do x=n[r+m++],i.head&&x&&i.length<65536&&(i.head.comment+=String.fromCharCode(x));while(x&&m<o);if(512&i.flags&&(i.check=Is(i.check,n,m,r)),o-=m,r+=m,x)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;f<16;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(p!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}p=0,f=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;f<32;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}e.adler=i.check=Rw(p),p=0,f=0,i.mode=11;case 11:if(i.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=o,i.hold=p,i.bits=f,2;e.adler=i.check=1,i.mode=12;case 12:if(t===5||t===6)break e;case 13:if(i.last){p>>>=7&f,f-=7&f,i.mode=27;break}for(;f<3;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}switch(i.last=1&p,f-=1,3&(p>>>=1)){case 0:i.mode=14;break;case 1:if(CR(i),i.mode=20,t===6){p>>>=2,f-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}p>>>=2,f-=2;break;case 14:for(p>>>=7&f,f-=7&f;f<32;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&p,p=0,f=0,i.mode=15,t===6)break e;case 15:i.mode=16;case 16:if(m=i.length){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;oc(s,n,r,m,a),o-=m,r+=m,c-=m,a+=m,i.length-=m;break}i.mode=12;break;case 17:for(;f<14;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(i.nlen=257+(31&p),p>>>=5,f-=5,i.ndist=1+(31&p),p>>>=5,f-=5,i.ncode=4+(15&p),p>>>=4,f-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;f<3;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}i.lens[N[i.have++]]=7&p,p>>>=3,f-=3}for(;i.have<19;)i.lens[N[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},b=Hp(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,b){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;h=(G=i.lencode[p&(1<<i.lenbits)-1])>>>16&255,g=65535&G,!((_=G>>>24)<=f);){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(g<16)p>>>=_,f-=_,i.lens[i.have++]=g;else{if(g===16){for(M=_+2;f<M;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(p>>>=_,f-=_,i.have===0){e.msg="invalid bit length repeat",i.mode=30;break}x=i.lens[i.have-1],m=3+(3&p),p>>>=2,f-=2}else if(g===17){for(M=_+3;f<M;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}f-=_,x=0,m=3+(7&(p>>>=_)),p>>>=3,f-=3}else{for(M=_+7;f<M;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}f-=_,x=0,m=11+(127&(p>>>=_)),p>>>=7,f-=7}if(i.have+m>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;m--;)i.lens[i.have++]=x}}if(i.mode===30)break;if(i.lens[256]===0){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,A={bits:i.lenbits},b=Hp(1,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,b){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},b=Hp(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,b){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,t===6)break e;case 20:i.mode=21;case 21:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=o,i.hold=p,i.bits=f,wR(e,u),a=e.next_out,s=e.output,c=e.avail_out,r=e.next_in,n=e.input,o=e.avail_in,p=i.hold,f=i.bits,i.mode===12&&(i.back=-1);break}for(i.back=0;h=(G=i.lencode[p&(1<<i.lenbits)-1])>>>16&255,g=65535&G,!((_=G>>>24)<=f);){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(h&&(240&h)==0){for(E=_,w=h,v=g;h=(G=i.lencode[v+((p&(1<<E+w)-1)>>E)])>>>16&255,g=65535&G,!(E+(_=G>>>24)<=f);){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}p>>>=E,f-=E,i.back+=E}if(p>>>=_,f-=_,i.back+=_,i.length=g,h===0){i.mode=26;break}if(32&h){i.back=-1,i.mode=12;break}if(64&h){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&h,i.mode=22;case 22:if(i.extra){for(M=i.extra;f<M;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}i.length+=p&(1<<i.extra)-1,p>>>=i.extra,f-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;h=(G=i.distcode[p&(1<<i.distbits)-1])>>>16&255,g=65535&G,!((_=G>>>24)<=f);){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if((240&h)==0){for(E=_,w=h,v=g;h=(G=i.distcode[v+((p&(1<<E+w)-1)>>E)])>>>16&255,g=65535&G,!(E+(_=G>>>24)<=f);){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}p>>>=E,f-=E,i.back+=E}if(p>>>=_,f-=_,i.back+=_,64&h){e.msg="invalid distance code",i.mode=30;break}i.offset=g,i.extra=15&h,i.mode=24;case 24:if(i.extra){for(M=i.extra;f<M;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}i.offset+=p&(1<<i.extra)-1,p>>>=i.extra,f-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(c===0)break e;if(m=u-c,i.offset>m){if((m=i.offset-m)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}m>i.wnext?(m-=i.wnext,d=i.wsize-m):d=i.wnext-m,m>i.length&&(m=i.length),y=i.window}else y=s,d=a-i.offset,m=i.length;m>c&&(m=c),c-=m,i.length-=m;do s[a++]=y[d++];while(--m);i.length===0&&(i.mode=21);break;case 26:if(c===0)break e;s[a++]=i.length,c--,i.mode=21;break;case 27:if(i.wrap){for(;f<32;){if(o===0)break e;o--,p|=n[r++]<<f,f+=8}if(u-=c,e.total_out+=u,i.total+=u,u&&(e.adler=i.check=i.flags?Is(i.check,s,u,a-u):a_(i.check,s,u,a-u)),u=c,(i.flags?p:Rw(p))!==i.check){e.msg="incorrect data check",i.mode=30;break}p=0,f=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;f<32;){if(o===0)break e;o--,p+=n[r++]<<f,f+=8}if(p!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}p=0,f=0}i.mode=29;case 29:b=1;break e;case 30:b=-3;break e;case 31:return-4;default:return-2}return e.next_out=a,e.avail_out=c,e.next_in=r,e.avail_in=o,i.hold=p,i.bits=f,(i.wsize||u!==e.avail_out&&i.mode<30&&(i.mode<27||t!==4))&&OE(e,e.output,e.next_out,u-e.avail_out),l-=e.avail_in,u-=e.avail_out,e.total_in+=l,e.total_out+=u,i.total+=u,i.wrap&&u&&(e.adler=i.check=i.flags?Is(i.check,s,u,e.next_out-u):a_(i.check,s,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(i.mode===12?128:0)+(i.mode===20||i.mode===15?256:0),(l===0&&u===0||t===4)&&b===0&&(b=-5),b}function TR(e,t){var i,n=t.length;return e&&e.state?(i=e.state).wrap!==0&&i.mode!==11?-2:i.mode===11&&a_(1,t,n,0)!==i.check?-3:OE(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,0):-2}var kE=!0,BE=!0;try{String.fromCharCode.apply(null,[0])}catch{kE=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{BE=!1}for(var Of=new Uint8Array(256),jr=0;jr<256;jr++)Of[jr]=jr>=252?6:jr>=248?5:jr>=240?4:jr>=224?3:jr>=192?2:1;function IR(e){var t,i,n,s,r,a=e.length,o=0;for(s=0;s<a;s++)(64512&(i=e.charCodeAt(s)))==55296&&s+1<a&&(64512&(n=e.charCodeAt(s+1)))==56320&&(i=65536+(i-55296<<10)+(n-56320),s++),o+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(o),r=0,s=0;r<o;s++)(64512&(i=e.charCodeAt(s)))==55296&&s+1<a&&(64512&(n=e.charCodeAt(s+1)))==56320&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?t[r++]=i:i<2048?(t[r++]=192|i>>>6,t[r++]=128|63&i):i<65536?(t[r++]=224|i>>>12,t[r++]=128|i>>>6&63,t[r++]=128|63&i):(t[r++]=240|i>>>18,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i);return t}function LR(e,t){var i,n,s,r,a=t||e.length,o=new Array(2*a);for(n=0,i=0;i<a;)if((s=e[i++])<128)o[n++]=s;else if((r=Of[s])>4)o[n++]=65533,i+=r-1;else{for(s&=r===2?31:r===3?15:7;r>1&&i<a;)s=s<<6|63&e[i++],r--;r>1?o[n++]=65533:s<65536?o[n++]=s:(s-=65536,o[n++]=55296|s>>10&1023,o[n++]=56320|1023&s)}return function(c,p){if(p<65537&&(c.subarray&&BE||!c.subarray&&kE))return String.fromCharCode.apply(null,GE(c,p));for(var f="",l=0;l<p;l++)f+=String.fromCharCode(c[l]);return f}(o,n)}function FR(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&(192&e[i])==128;)i--;return i<0||i===0?t:i+Of[e[i]]>t?i:t}Of[254]=Of[254]=1;var RR={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function NR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function DR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Dw=Object.prototype.toString;function ec(e){if(!(this instanceof ec))return new ec(e);this.options=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var c=o.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var p in c)c.hasOwnProperty(p)&&(a[p]=c[p])}}return a}({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NR,this.strm.avail_out=0;var i,n,s,r=AR(this.strm,t.windowBits);if(r!==0)throw new Error(RR[r]);this.header=new DR,i=this.strm,n=this.header,i&&i.state&&((2&(s=i.state).wrap)==0||(s.head=n,n.done=!1))}ec.prototype.push=function(e,t){var i,n,s,r,a,o,c=this.strm,p=this.options.chunkSize,f=this.options.dictionary,l=!1;if(this.ended)return!1;n=t===~~t?t:t===!0?4:0,typeof e=="string"?c.input=function(u){for(var m=new Uint8Array(u.length),d=0,y=m.length;d<y;d++)m[d]=u.charCodeAt(d);return m}(e):Dw.call(e)==="[object ArrayBuffer]"?c.input=new Uint8Array(e):c.input=e,c.next_in=0,c.avail_in=c.input.length;do{if(c.avail_out===0&&(c.output=new Uint8Array(p),c.next_out=0,c.avail_out=p),(i=PR(c,0))===2&&f&&(o=typeof f=="string"?IR(f):Dw.call(f)==="[object ArrayBuffer]"?new Uint8Array(f):f,i=TR(this.strm,o)),i===-5&&l===!0&&(i=0,l=!1),i!==1&&i!==0)return this.onEnd(i),this.ended=!0,!1;c.next_out&&(c.avail_out!==0&&i!==1&&(c.avail_in!==0||n!==4&&n!==2)||(this.options.to==="string"?(s=FR(c.output,c.next_out),r=c.next_out-s,a=LR(c.output,s),c.next_out=r,c.avail_out=p-r,r&&oc(c.output,c.output,s,r,0),this.onData(a)):this.onData(GE(c.output,c.next_out)))),c.avail_in===0&&c.avail_out===0&&(l=!0)}while((c.avail_in>0||c.avail_out===0)&&i!==1);return i===1&&(n=4),n===4?(i=function(u){if(!u||!u.state)return-2;var m=u.state;return m.window&&(m.window=null),u.state=null,0}(this.strm),this.onEnd(i),this.ended=!0,i===0):n!==2||(this.onEnd(0),c.avail_out=0,!0)},ec.prototype.onData=function(e){this.chunks.push(e)},ec.prototype.onEnd=function(e){e===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=function(t){var i,n,s,r,a,o;for(s=0,i=0,n=t.length;i<n;i++)s+=t[i].length;for(o=new Uint8Array(s),r=0,i=0,n=t.length;i<n;i++)a=t[i],o.set(a,r),r+=a.length;return o}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},q_.add("gz",function(e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));try{t=function(i,n){var s=new ec(n);if(s.push(i,!0),s.err)throw s.msg;return s.result}(e)}catch{t=e}return t});var Uc=function(){},hd="//mmtf.rcsb.org/v1.0/full/",GR=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(i){var n,s=Oi(i),r=s.name.substr(0,4);return!["pdb","cif"].includes(s.ext)||s.compressed!==!1&&s.compressed!=="gz"?s.ext==="mmtf"?n=s.base.endsWith(".bb")?"//mmtf.rcsb.org/v1.0/reduced/"+r:hd+r:(s.ext&&de.warn("unsupported ext",s.ext),n=hd+r):n="//files.rcsb.org/download/"+s.path,G_()+n},t.prototype.getExt=function(i){var n=Oi(i).ext;return n||"mmtf"},t}(Uc);Ba.add("rcsb",new GR);var Gw="//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/",OR=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(i){var n,s=Oi(i),r=s.name;return s.ext&&s.ext!=="sdf"&&de.warn("unsupported ext",s.ext),n=Gw+r+"/SDF?record_type=3d",G_()+n},t.prototype.getExt=function(i){var n=Oi(i).ext;return n||"sdf"},t}(Uc);Ba.add("pubchem",new OR);var _d=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(i){return i},t.prototype.getExt=function(i){return Oi(i).ext},t}(Uc);Ba.add("ftp",new _d),Ba.add("http",new _d),Ba.add("https",new _d);var Ow="//alphafold.ebi.ac.uk/files/AF-",kR=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(i){var n,s=Oi(i),r=s.name;return s.ext&&s.ext!=="pdb"&&de.warn("unsupported AF ext",s.ext),n=Ow+r+"-F1-model_v2.pdb",G_()+n},t.prototype.getExt=function(i){var n=Oi(i).ext;return n||"pdb"},t}(Uc);Ba.add("alphafold",new kR);var BR=/^((http|https|ftp):)*\/\//;(function(e){function t(i){i===void 0&&(i=""),e.call(this),this.baseUrl=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(i){var n,s,r,a,o=Oi(i),c=this.baseUrl+o.path;return BR.test(this.baseUrl)||(n=c,s=window.location,r=s.pathname,a=r.substring(0,r.lastIndexOf("/")+1),c=s.origin+a+n),c},t.prototype.getExt=function(i){return Oi(i).ext},t})(Uc);(function(e){function t(i){i===void 0&&(i=""),e.call(this),this.baseUrl=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getListing=function(i){i===void 0&&(i="");var n=this.baseUrl+"dir/"+i;return n[n.length-1]!=="/"&&(n+="/"),Gh(n,{ext:"json"}).then(function(s){return{path:i,data:s.data}})},t.prototype.getUrl=function(i){var n=Oi(i);return this.baseUrl+"file/"+n.path+n.query},t.prototype.getCountUrl=function(i){var n=Oi(i);return this.baseUrl+"traj/numframes/"+n.path+n.query},t.prototype.getFrameUrl=function(i,n){var s=Oi(i);return this.baseUrl+"traj/frame/"+n+"/"+s.path+s.query},t.prototype.getFrameParams=function(i,n){return"atomIndices="+n.join(";")},t.prototype.getPathUrl=function(i,n){var s=Oi(i);return this.baseUrl+"traj/path/"+n+"/"+s.path+s.query},t.prototype.getExt=function(i){return Oi(i).ext},t})(Uc);function kw(e,t){return{type:"integer",max:e,min:t}}function Lo(e,t,i){return{type:"number",precision:e,max:t,min:i}}function Fo(e,t,i){return{type:"range",step:e,max:t,min:i}}function Ep(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return{type:"select",options:e.reduce(function(i,n){var s;return Object.assign(Object.assign({},i),((s={})[n]=n,s))},{})}}Ep("auto","low","medium","high"),Fo(1,5,-1),Lo(1,10,0),Lo(1,10,0),Lo(1,10,0),Fo(1,100,0),Fo(1,100,0),kw(200,0),Ep("scene","camera"),Ep("relative","absolute"),Fo(1,100,0),Fo(1,100,0),Ep("perspective","orthographic","stereo"),Lo(3,1,.01),Fo(1,120,15),Lo(2,10,0),Lo(2,10,0),kw(1e4,-1),Ep.apply(void 0,Object.keys(aE));window.Promise||(window.Promise=xi);function VE(e){const t=r5(e,n=>n.every(s=>s.metric===null)?{mean:null,sum:null,min:null,max:null}:{mean:f5(n,s=>s.metric),sum:u5(n,s=>s.metric),min:p5(n,s=>s.metric),max:mr(n,s=>s.metric)},n=>n.site,n=>n.epitope);return e.map(n=>({epitope:n.epitope,site:n.site,site_reference:n.site_reference,site_protein:n.site_protein,site_chain:n.site_chain,wildtype:n.wildtype,...t.get(n.site).get(n.epitope)})).filter((n,s,r)=>s===r.findIndex(a=>a.site===n.site&&a.epitope===n.epitope))}function qE(e){const t=e.replace("#",""),i=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16);return"#"+((16777215^(i<<16|n<<8|s))>>>0).toString(16)}class VR{constructor(t,i){this.config=t,this.config={experiment:t.experiment,epitope:t.epitope,summary:t.summary,floor:t.floor,metric:t.metric,parentElement:t.parentElement,width:1080,height:400,scaling:{top:.025,left:.06,bottom:.12,right:.06,innerTop:.05,innerRight:.08,focusContextRatio:.15,focusHeatmapRatio:.03}},this.data=JSON.parse(JSON.stringify(i)),this.dispatch=kf("updateSites"),this.initVis()}initVis(){let t=this;t.margin={top:t.config.height*t.config.scaling.top,left:t.config.width*t.config.scaling.left,bottom:t.config.height*t.config.scaling.bottom,right:t.config.width*t.config.scaling.right,innerTop:t.config.height*t.config.scaling.innerTop,innerRight:t.config.width*t.config.scaling.innerRight};const i=t.config.height-t.margin.top-t.margin.bottom-t.margin.innerTop,n=t.config.width-t.margin.left-t.margin.right-t.margin.innerRight;t.bounds={context:{height:i*t.config.scaling.focusContextRatio,width:n*(1-t.config.scaling.focusHeatmapRatio)},focus:{height:i*(1-t.config.scaling.focusContextRatio),width:n*(1-t.config.scaling.focusHeatmapRatio)},heatmap:{height:t.config.height-t.margin.top-t.margin.bottom,width:n*t.config.scaling.focusHeatmapRatio}},t.aspect=t.config.width/t.config.height,t.svg=Vt(t.config.parentElement).append("svg").attr("width",t.config.width).attr("height",t.config.height).attr("class","wrapper"),t.svg.attr("viewBox",`0 0 ${t.config.width} ${t.config.height}`).attr("preserveAspectRatio","xMidYMid").call(function(){t.resize()}),t.boundedArea=t.svg.append("g").style("transform",`translate(${t.margin.left}px, ${t.margin.top}px)`),t.contextPlot=t.boundedArea.append("g").attr("class","context"),t.contextPlot.append("clipPath").attr("id","contextClipPath").append("rect").attr("width",t.bounds.context.width).attr("height",t.bounds.context.height),t.focusPlot=t.boundedArea.append("g").style("transform",`translateY(${t.margin.innerTop+t.bounds.context.height}px)`).attr("class","focus").on("dblclick",function(){t.deselectSites()}),t.focusPlot.append("clipPath").attr("id","focusClipPath").append("rect").attr("width",t.bounds.focus.width).attr("height",t.bounds.focus.height),t.heatmapPlot=t.boundedArea.append("g").style("transform",`translateX(${t.margin.innerRight+t.bounds.context.width}px)`).attr("class","heatmap"),t.heatmapPlot.append("rect").attr("width",t.bounds.heatmap.width).attr("height",t.bounds.heatmap.height).style("fill","none").style("stroke","black"),t.heatmapLegend=t.heatmapPlot.append("g").attr("class","legend").attr("transform",`translate(${t.bounds.heatmap.width+10})`),t.legendLinearGradient=t.heatmapLegend.append("defs").append("linearGradient").attr("id","linear-gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%"),t.legendColorRamp=t.heatmapLegend.append("rect").attr("width",`${t.bounds.heatmap.width/2}px`).attr("height",`${t.bounds.heatmap.height/2}px`).style("fill","url(#linear-gradient)"),t.tooltip=Vt("body").append("div").attr("class","tooltip").style("position","absolute").style("opacity",0),t.yScaleContext=Qr().range([t.bounds.context.height,0]),t.xScaleContext=Qr().range([0,t.bounds.context.width]).nice(),t.xScaleFocus=Qr().range([0,t.bounds.focus.width]).nice(),t.yScaleFocus=Qr().range([t.bounds.focus.height,0]),t.xScaleHeatmap=Gd().range([0,t.bounds.heatmap.width]).padding(.1),t.yScaleHeatmap=Gd().range([0,t.bounds.heatmap.height]).padding(.1),t.colorScaleHeatmap=Qr(),t.legendScaleHeatmap=t.colorScaleHeatmap.copy(),t.xAxisContext=w1(t.xScaleContext).tickSizeOuter(0),t.xAxisContextG=t.contextPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.context.height})`),t.yAxisContext=E1(t.yScaleContext).ticks(2).tickSizeOuter(0),t.yAxisContextG=t.contextPlot.append("g").attr("class","axis y-axis"),t.xAxisFocus=w1(t.xScaleFocus).tickSizeOuter(0),t.xAxisFocusG=t.focusPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.focus.height})`),t.xAxisFocusG.append("text").attr("class","axis-label").attr("x",t.bounds.focus.width/2).attr("y",40).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle").text("Site"),t.yAxisFocus=E1(t.yScaleFocus).tickSizeOuter(0),t.yAxisFocusG=t.focusPlot.append("g").attr("class","axis y-axis"),t.yAxisFocusG.append("text").attr("class","axis-label").text(`${t.config.summary.charAt(0).toUpperCase()+t.config.summary.slice(1)} of ${t.config.metric}`).attr("transform","rotate(-90)").attr("x",-(t.bounds.focus.height/2)).attr("y",-40).attr("fill","black").attr("font-size","16px").attr("text-anchor","middle"),t.xAxisHeatmap=w1(t.xScaleHeatmap).tickSizeOuter(0),t.xAxisHeatmapG=t.heatmapPlot.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${t.bounds.heatmap.height})`),t.yAxisHeatmap=E1(t.yScaleHeatmap).tickSizeOuter(0),t.yAxisHeatmapG=t.heatmapPlot.append("g").attr("class","axis y-axis"),t.yAxisHeatmapLegend=w5(t.legendScaleHeatmap).ticks(6).tickSize(0),t.yAxisHeatmapLegendG=t.heatmapLegend.append("g").attr("transform",`translate(${t.bounds.heatmap.width/2})`).attr("class","axis legend-axis"),t.brushG=t.contextPlot.append("g").attr("class","brush context-brush"),t.brush=Qb().extent([[0,0],[t.bounds.context.width,t.bounds.context.height]]).on("brush",function(s){s.selection&&t.brushed(s.selection)}).on("end",function(s){s.selection||t.brushed(null)}),t.focusBrushG=t.focusPlot.append("g").attr("class","brush focus-brush"),t.focusBrush=Xb().extent([[0,0],[t.bounds.focus.width,t.bounds.focus.height+5]]).on("end",function(s){s.selection&&t.brushedPoints(s.selection)}).keyModifiers(!1),t.updateVis()}updateVis(){let t=this;t.originalMutMetric=t.data[t.config.experiment].mut_metric_df,t.mutMetric=t.originalMutMetric.map((a,o)=>{let c={...a};return t.maskedIndicies&&t.maskedIndicies.includes(o)&&(c.metric=null),c}),t.mutMetricSummary=VE(t.mutMetric).filter(a=>a.epitope===t.config.epitope),t.filteredMutMetricSummary=t.mutMetricSummary.filter(a=>a[t.config.summary]!==null),t.initSiteSelection=t.mutMetricSummary.filter(a=>a[t.config.summary]===mr(t.mutMetricSummary,o=>o[t.config.summary]))[0].site,t.mutMetricHeatmap=t.mutMetric.filter(a=>a.site===t.initSiteSelection&&a.epitope===t.config.epitope),t.positiveColor=t.data[t.config.experiment].epitope_colors[t.config.epitope],t.negativeColor=qE(t.positiveColor),t.alphabet=t.data[t.config.experiment].alphabet,t.siteMap=new Map,Object.entries(t.data[t.config.experiment].sitemap).forEach(a=>{const[o,c]=a;t.siteMap.set(c.sequential_site,o)}),t.xAccessorContext=a=>a.site,t.yAccessorContext=a=>t.config.floor&&a[t.config.summary]<0?0:a[t.config.summary],t.xAccessorFocus=a=>a.site,t.yAccessorFocus=a=>t.config.floor&&a[t.config.summary]<0?0:a[t.config.summary],t.xAccessorHeatmap=a=>a.site,t.yAccessorHeatmap=a=>a.mutant,t.colorAccessorHeatmap=a=>t.config.floor&&a.metric<0?0:a.metric;const i=Ho(t.mutMetricSummary,t.xAccessorFocus),n=i[1]-i[0],s=Ho(t.mutMetricSummary,t.yAccessorFocus),r=s[1]-s[0];t.yScaleContext.domain([s[0],s[1]+r*.05]),t.xScaleContext.domain([i[0],i[1]+n*.05]),t.xScaleFocus.domain([i[0],i[1]+n*.05]),t.yScaleFocus.domain([s[0],s[1]+r*.05]),t.xScaleHeatmap.domain([mr(t.mutMetricHeatmap,t.xAccessorHeatmap)]),t.yScaleHeatmap.domain(t.alphabet),t.config.floor?t.colorScaleHeatmap.domain([0,mr(t.originalMutMetric,t.colorAccessorHeatmap)]).range(["white",t.positiveColor]):t.colorScaleHeatmap.domain([-mr(Ho(t.originalMutMetric,t.colorAccessorHeatmap).map(Math.abs)),0,mr(Ho(t.originalMutMetric,t.colorAccessorHeatmap).map(Math.abs))]).range([t.negativeColor,"white",t.positiveColor]),t.legendScaleHeatmap.domain(t.colorScaleHeatmap.domain()).rangeRound(I7(qf(t.bounds.heatmap.height/2,0),t.colorScaleHeatmap.range().length)),t.contextArea=vx().curve(Wl).x(a=>t.xScaleContext(t.xAccessorContext(a))).y0(t.yScaleContext(0)).y1(a=>t.yScaleContext(t.yAccessorContext(a)||0)),t.focusLine=S6().curve(Wl).x(a=>t.xScaleFocus(t.xAccessorFocus(a))).y(a=>t.yScaleFocus(t.yAccessorFocus(a)||0)),t.renderVis()}renderVis(){let t=this;t.contextPlot.selectAll(".context-area").data(t.mutMetricSummary,i=>i.site).join("path").attr("class","context-area").attr("clip-path","url(#contextClipPath)").attr("d",(i,n)=>n<t.mutMetricSummary.length-1&&i.site+1===t.mutMetricSummary[n+1].site?t.contextArea([i,t.mutMetricSummary[n+1]]):null).attr("fill",t.positiveColor),t.focusPlot.selectAll(".focus-line").data(t.mutMetricSummary,i=>i.site).join("path").attr("class","focus-line").attr("clip-path","url(#focusClipPath)").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",1).attr("stroke",t.positiveColor).attr("d",(i,n)=>n<t.mutMetricSummary.length-1&&i.site+1===t.mutMetricSummary[n+1].site?t.focusLine([i,t.mutMetricSummary[n+1]]):null),t.focusPlot.selectAll("circle").data(t.filteredMutMetricSummary,i=>i.site).join(i=>i.append("circle").attr("cy",n=>t.yScaleFocus(t.yAccessorFocus(n))),i=>i.call(n=>n.attr("cy",s=>t.yScaleFocus(t.yAccessorFocus(s)))),i=>i.remove()).attr("cx",i=>t.xScaleFocus(t.xAccessorFocus(i))).attr("r",5).attr("clip-path","url(#focusClipPath)").attr("fill","white").attr("stroke",t.positiveColor).attr("stroke-width",2).on("mouseover",(i,n)=>{t.tooltip.style("opacity",1).html(`Site: ${n.site_reference}<br>${t.config.metric} ${t.config.summary}: ${n[t.config.summary].toFixed(2)}<br>Wildtype: ${n.wildtype}`).style("border-color",t.positiveColor)}).on("mousemove",i=>{t.tooltip.style("top",i.pageY-10+"px").style("left",i.pageX+10+"px")}).on("mouseout",()=>{t.tooltip.style("opacity",0)}).on("click",function(i,n){t.updateHeatmap(n)}),t.focusPlot.selectAll(".selected").attr("fill",t.positiveColor),t.focusPlot.selectAll("circle").filter(i=>i.site===t.initSiteSelection&&i.epitope===t.config.epitope).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),t.heatmapPlot.selectAll(".mutant-rect").data(t.mutMetricHeatmap,i=>i.mutation).join(i=>i.append("rect").attr("class","mutant-rect").style("fill",n=>t.colorAccessorHeatmap(n)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(n)):"grey").style("stroke","black"),i=>i.call(n=>n.style("fill",s=>t.colorAccessorHeatmap(s)!==null?t.colorScaleHeatmap(t.colorAccessorHeatmap(s)):"grey")),i=>i.remove()).attr("x",i=>t.xScaleHeatmap(t.xAccessorHeatmap(i))).attr("y",i=>t.yScaleHeatmap(t.yAccessorHeatmap(i))).attr("width",t.xScaleHeatmap.bandwidth()).attr("height",t.yScaleHeatmap.bandwidth()).on("mouseover",(i,n)=>{t.tooltip.style("opacity",1).html(`${t.config.metric}: ${n.metric?n.metric.toFixed(2):"Filtered"}`).style("border-color",t.positiveColor).style("font-size","1em")}).on("mousemove",i=>{t.tooltip.style("top",i.pageY-10+"px").style("left",i.pageX+10+"px")}).on("mouseout",()=>{t.tooltip.style("opacity",0)}),t.wildtype=t.mutMetricHeatmap.map(i=>i.wildtype)[0],t.heatmapPlot.selectAll(".wildtype-text").data([t.wildtype],i=>i).join("text").attr("class","wildtype-text").attr("transform",`translate(${t.bounds.heatmap.width/2}, ${t.yScaleHeatmap.bandwidth()/2})`).attr("y",i=>t.yScaleHeatmap(i)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size","1.25em").attr("font-weight","bold").text("x"),t.xAxisContextG.call(t.xAxisContext).call(i=>i.select(".domain").style("stroke-width",".5")).call(i=>i.selectAll(".tick").remove()),t.yAxisContextG.call(t.yAxisContext),t.xAxisFocusG.call(t.xAxisFocus.tickFormat(function(i){return t.siteMap.get(i)})),t.yAxisFocusG.call(t.yAxisFocus),t.yAxisFocusG.select(".axis-label").text(`${t.config.summary.charAt(0).toUpperCase()+t.config.summary.slice(1)} of ${t.config.metric}`),t.xAxisHeatmapG.call(t.xAxisHeatmap.tickFormat(function(i){return t.siteMap.get(i)})),t.yAxisHeatmapG.call(t.yAxisHeatmap),t.legendLinearGradient.selectAll("stop").data(t.colorScaleHeatmap.range()).join("stop").attr("offset",(i,n)=>n/(t.colorScaleHeatmap.range().length-1)).attr("stop-color",i=>i),t.yAxisHeatmapLegendG.call(t.yAxisHeatmapLegend).call(i=>i.select(".domain").remove()),t.brushSelection=t.brushSelection||null,t.brushG.call(t.brush).call(t.brush.move,t.brushSelection),t.focusBrushG.call(t.focusBrush)}brushed(t){let i=this;if(t){const n=t.map(i.xScaleContext.invert,i.xScaleContext);i.xScaleFocus.domain(n)}else i.xScaleFocus.domain(i.xScaleContext.domain());i.brushSelection=t,i.focusPlot.selectAll(".focus-line").attr("d",(n,s)=>s<i.mutMetricSummary.length-1&&n.site+1===i.mutMetricSummary[s+1].site?i.focusLine([n,i.mutMetricSummary[s+1]]):null),i.focusPlot.selectAll("circle").attr("cx",n=>i.xScaleFocus(i.xAccessorFocus(n))),i.xAxisFocusG.call(i.xAxisFocus)}brushedPoints(t){let i=this;if(t){const[[n,s],[r,a]]=t;i.focusPlot.selectAll("circle").filter(o=>n<=i.xScaleFocus(i.xAccessorFocus(o))&&i.xScaleFocus(i.xAccessorFocus(o))<r&&s<=i.yScaleFocus(i.yAccessorFocus(o))&&i.yScaleFocus(i.yAccessorFocus(o))<a).classed("selected",!0).attr("fill",i.positiveColor),i.focusPlot.select(".focus-brush").call(i.focusBrush.move,null),this.dispatch.call("updateSites",this,i.focusPlot.selectAll(".selected").data())}}deselectSites(){this.focusPlot.selectAll(".selected").classed("selected",!1).attr("fill","white"),this.dispatch.call("updateSites",this,[])}updateHeatmap(t){let i=this;const n=t.site,s=t.epitope;i.wildtype=t.wildtype,i.focusPlot.selectAll(".heatmap-site").attr("r",5).attr("stroke-width",2).attr("stroke",i.positiveColor).classed("heatmap-site",!1),i.focusPlot.selectAll("circle").filter(r=>r.site===n&&r.epitope===s).classed("heatmap-site",!0).attr("r",8).attr("stroke","black").attr("stroke-width",4),i.mutMetricHeatmap=i.mutMetric.filter(r=>r.site===n&&r.epitope===s),i.xScaleHeatmap.domain([n]),i.xAxisHeatmapG.call(i.xAxisHeatmap),i.heatmapPlot.selectAll(".mutant-rect").data(i.mutMetricHeatmap,r=>r.mutation).join(r=>r.append("rect").attr("class","mutant-rect").style("fill",a=>i.colorAccessorHeatmap(a)!==null?i.colorScaleHeatmap(i.colorAccessorHeatmap(a)):"grey").style("stroke","black"),r=>r.call(a=>a.style("fill",o=>i.colorAccessorHeatmap(o)!==null?i.colorScaleHeatmap(i.colorAccessorHeatmap(o)):"grey")),r=>r.remove()).attr("x",r=>i.xScaleHeatmap(i.xAccessorHeatmap(r))).attr("y",r=>i.yScaleHeatmap(i.yAccessorHeatmap(r))).attr("width",i.xScaleHeatmap.bandwidth()).attr("height",i.yScaleHeatmap.bandwidth()).on("mouseover",(r,a)=>{i.tooltip.style("opacity",1).html(`${i.config.metric}: ${a.metric?a.metric.toFixed(2):"Filtered"}`).style("border-color",i.positiveColor).style("font-size","1em")}).on("mousemove",r=>{i.tooltip.style("top",r.pageY-10+"px").style("left",r.pageX+10+"px")}).on("mouseout",()=>{i.tooltip.style("opacity",0)}),i.heatmapPlot.selectAll(".wildtype-text").data([i.wildtype],r=>r).join("text").attr("class","wildtype-text").attr("transform",`translate(${i.bounds.heatmap.width/2}, ${i.yScaleHeatmap.bandwidth()/2})`).attr("y",r=>i.yScaleHeatmap(r)).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size","1.25em").attr("font-weight","bold").text("x")}resize(){let t=this;const i=Vt(t.config.parentElement).node();t.config.width=i.offsetWidth,t.config.height=i.offsetHeight,t.svg.attr("width",t.config.width).attr("height",t.config.width/t.aspect)}}class qR{constructor(t,i){this.config=t,this.config={parentElement:t.parentElement,experiment:t.experiment,epitope:t.epitope,summary:t.summary,floor:t.floor,pdbID:t.pdbID,dispatch:t.dispatch,height:500,stageColor:"#FFFFFF",proteinRepresentation:"cartoon",selectionRepresentation:"spacefill",backgroundRepresentation:"rope",proteinColor:"#D3D3D3",backgroundColor:"#D3D3D3",showGlycans:!1},this.data=i,this.dispatch=kf("proteinLoaded"),this.stage=new Bt(this.config.parentElement,{backgroundColor:this.config.stageColor}),this.load(this.config.pdbID)}load(t){let i=this;t.length==4?(i.pdbURL=`rcsb://${t}`,i.loadConfig={}):(i.pdbURL=new Blob([t],{type:"text/plain"}),i.loadConfig={ext:"pdb"}),i.dataChains=i.data[i.config.experiment].dataChains,i.excludeChains=i.data[i.config.experiment].excludeChains,i.dataChains!="polymer"?(i.dataChainSelection=`:${i.dataChains.join(" or :")}`,i.backgroundChainSelection=`not :${i.dataChains.join(" and not :")}`,i.excludeChains!="none"&&(i.backgroundChainSelection+=` and not :${i.excludeChains.join(" and not :")}`)):(i.dataChainSelection="polymer",i.backgroundChainSelection="none"),i.stage.loadFile(i.pdbURL,i.loadConfig).then(function(s){s.addRepresentation(i.config.proteinRepresentation,{sele:i.dataChainSelection,color:i.config.proteinColor}),i.backgroundChainSelection!="none"&&s.addRepresentation(i.config.backgroundRepresentation,{sele:i.backgroundChainSelection,color:i.config.backgroundColor}),i.config.showGlycans&&s.addRepresentation("ball+stick",{sele:"ligand",color:"element"}),i.stage.autoView(),i.stage.setSpin(!1),s.setRotation([2,0,0]),s.autoView(),i.component=s,i.makeColorScheme(),i.config.dispatch.on("updateSites",r=>{i.selectSites(r)})}),document.querySelector(".protein-tooltip")&&document.querySelector(".protein-tooltip").remove();const n=document.createElement("div");n.className="protein-tooltip",document.body.appendChild(n),i.stage.mouseControls.remove("hoverPick"),i.stage.signals.hovered.add(function(s){if(s&&s.atom){let r=s.atom;n.innerHTML=`Site: ${r.resno} </br > Residue: ${r.resname} </br > Chain: ${r.chainname}`,n.style.display="block"}else n.style.display="none"}),i.stage.viewer.container.addEventListener("mousemove",s=>{n.style.top=s.pageY-10+"px",n.style.left=s.pageX+10+"px"}),i.stage.viewer.container.addEventListener("mouseleave",()=>{n.style.display="none"})}clear(){let t=this;t.stage.removeAllComponents(),t.load(t.config.pdbID)}makeColorScheme(){let t=this;t.mutMetric=t.data[t.config.experiment].mut_metric_df,t.mutMetricSummary=VE(t.mutMetric).filter(i=>i.epitope===t.config.epitope),t.positiveColor=t.data[t.config.experiment].epitope_colors[t.config.epitope],t.negativeColor=qE(t.positiveColor),t.colorAccessor=i=>t.config.floor&&i[t.config.summary]<0?0:i[t.config.summary],t.metricExtent=Ho(t.mutMetricSummary,t.colorAccessor).map(Math.abs),t.config.floor?t.colorScale=Qr().domain([0,mr(t.mutMetricSummary,t.colorAccessor)]).range(["white",t.positiveColor]):t.colorScale=Qr().domain([-mr(t.metricExtent),0,mr(t.metricExtent)]).range([t.negativeColor,"white",t.positiveColor]),t.colorMap=new Map(t.mutMetricSummary.map(i=>[parseInt(i.site_protein),t.colorScale(i[t.config.summary])])),t.schemeId=It.addScheme(function(){this.atomColor=i=>t.colorMap.has(i.resno)?parseInt(aa(t.colorMap.get(i.resno)).formatHex().slice(1),16):parseInt(t.config.proteinColor.slice(1),16)}),t.selectSites(i6(".selected").data())}_makeSiteString(t,i){return`${i!="polymer"?":":""}${i} and ${t}`}selectSites(t){let i=this;if(i.selectedSitesStrings=[],t.forEach(n=>{const s=n.site_protein,r=n.site_chain.split(" ");if(!isNaN(parseInt(s))){const a=r.map(o=>i._makeSiteString(s,o)).join(" or ");i.selectedSitesStrings.push(a)}}),i.currentSelectionSiteString=i.selectedSitesStrings.length?i.selectedSitesStrings.join(" or "):void 0,i.currentSelectionSiteString!==void 0)return i.stage.getRepresentationsByName("currentSelection").dispose(),i.component.addRepresentation(i.config.selectionRepresentation,{color:i.schemeId,roughness:1,name:"currentSelection",surfaceType:"av"}).setSelection(i.currentSelectionSiteString);i.stage.getRepresentationsByName("currentSelection").dispose()}}class zR{constructor(t){this.data=t,this.initTool()}initTool(){let t=this;Vt("#filters").html(""),t._formatData(),t.experiments=Object.keys(t.data),t.experiment=t.experiments[0],t.epitope=t.data[t.experiment].epitopes[0].toString(),t.summary="sum",t.floor=!0,t.pdb=t.data[t.experiment].pdb,t.metric=t.data[t.experiment].metric_col,t.filterCols=t.data[t.experiment].filter_cols,t._updateSelection(Vt("#experiment"),t.experiments),t._updateSelection(Vt("#epitope"),t.data[t.experiment].epitopes),t._updateSelection(Vt("#summary"),["sum","mean","max","min"]),t._updateSelection(Vt("#proteinRepresentation"),["cartoon","rope","ball+stick"]),t._updateSelection(Vt("#selectionRepresentation"),["spacefill","surface"]),t._updateSelection(Vt("#backgroundRepresentation"),["rope","cartoon","ball+stick"]),t.filterCols&&Object.keys(t.filterCols).forEach(i=>{document.getElementById("filters").innerHTML+=`
          <label for="${i}" style="display: block">${t.filterCols[i]}</label>
          <input id="${i}" type="range" />
          <span id="${i}-output" class="output"></span>
        `;const n=Ho(t.data[t.experiment].mut_metric_df,s=>s[i]);t.filters={[i]:[]},t._updateSlider(Vt(`#${i}`),...n,n[0],(n[1]-n[0])/100),document.getElementById(`${i}-output`).textContent=Ul(".2f")(n[0]),document.getElementById(i).addEventListener("input",function(){t.filterData(this)})}),document.getElementById("chart").innerHTML="",i6(".tooltip").remove(),t.chart=new VR({experiment:t.experiment,epitope:t.epitope,summary:t.summary,floor:t.floor,metric:t.metric,parentElement:"#chart"},t.data),document.getElementById("viewport").innerHTML="",t.protein=new qR({parentElement:"viewport",experiment:t.experiment,epitope:t.epitope,summary:t.summary,floor:t.floor,pdbID:t.pdb,dispatch:t.chart.dispatch},t.data),t.proteinLoaded=t.protein.dispatch}updateExperiment(t){let i=this;i.experiment=Vt(t).property("value"),i.chart.config.experiment=i.experiment,i.protein.config.experiment=i.experiment,i.epitope=i.data[i.experiment].epitopes[0],i.chart.config.epitope=i.epitope,i.protein.config.epitope=i.epitope,i.pdb=i.data[i.experiment].pdb,i.protein.config.pdbID=i.pdb,i._updateSelection(Vt("#epitope"),i.data[i.experiment].epitopes),i.chart.deselectSites(),i.chart.updateVis(),setTimeout(()=>{i.protein.clear()},100)}updateData(t){let i=this;const n=Vt(t),s=n.attr("id"),r=n.property(s=="floor"?"checked":"value");i[s]=r,i.chart.config[s]=r,i.protein.config[s]=r,i.chart.updateVis(),i.protein.makeColorScheme()}filterData(t){let i=this;const n=parseFloat(Vt(t).property("value")),s=Vt(t).attr("id"),r=document.getElementById(`${s}-output`);r.textContent=Ul(".2f")(n);const a=i.data[i.experiment].mut_metric_df.filter(c=>c[s]<n).map(c=>i.data[i.experiment].mut_metric_df.indexOf(c));i.filters[s]=a;const o=Array.from(new Set([].concat(...Object.values(i.filters)))).sort((c,p)=>c-p);o.length!=i.data[i.experiment].mut_metric_df.length&&(i.chart.maskedIndicies=o,i.chart.updateVis(),i.protein.makeColorScheme())}updateProtein(t){let i=this;const n=Vt(t),s=n.attr("id"),r=n.property(s=="showGlycans"?"checked":"value");i.protein.config[s]=r,i.protein.clear()}_formatData(){let t=this;for(const i in t.data){t.data[i].epitopes=t.data[i].epitopes.map(r=>r.toString());const n=t.data[i].sitemap,s=t.data[i].metric_col;t.data[i].mut_metric_df=t.data[i].mut_metric_df.map(r=>({...r,site:n[r.reference_site].sequential_site,site_reference:r.reference_site,site_protein:n[r.reference_site].protein_site,site_chain:n[r.reference_site].chains,metric:r[s],epitope:r.epitope.toString()}))}}_updateSelection(t,i){t.selectAll("option").data(i).join("option").attr("value",n=>n).text(n=>n)}_updateSlider(t,i,n,s,r){t.attr("min",i).attr("max",n).attr("value",s).attr("step",r)}}const HR={"1-18":{mut_metric_df:[{reference_site:"1",wildtype:"M",mutant:"I",Escape:-.0023,epitope:1,times_seen:6.6667,effect:-.338},{reference_site:"1",wildtype:"M",mutant:"T",Escape:.0079,epitope:1,times_seen:2,effect:.1247},{reference_site:"2",wildtype:"R",mutant:"G",Escape:.0148,epitope:1,times_seen:6.6667,effect:.0022},{reference_site:"2",wildtype:"R",mutant:"I",Escape:.0431,epitope:1,times_seen:5.6667,effect:-.3143},{reference_site:"2",wildtype:"R",mutant:"K",Escape:.1276,epitope:1,times_seen:1.3333,effect:-.0125},{reference_site:"2",wildtype:"R",mutant:"*",Escape:-.0021,epitope:1,times_seen:1,effect:-1.1681},{reference_site:"3",wildtype:"V",mutant:"M",Escape:.0864,epitope:1,times_seen:2.6667,effect:-.1616},{reference_site:"4",wildtype:"K",mutant:"M",Escape:-.0091,epitope:1,times_seen:1,effect:-.1831},{reference_site:"4",wildtype:"K",mutant:"N",Escape:-.0253,epitope:1,times_seen:12.6667,effect:-.0233},{reference_site:"4",wildtype:"K",mutant:"Q",Escape:.006,epitope:1,times_seen:1,effect:-.0546},{reference_site:"4",wildtype:"K",mutant:"R",Escape:.1756,epitope:1,times_seen:1,effect:-1.5663},{reference_site:"4",wildtype:"K",mutant:"T",Escape:-2e-4,epitope:1,times_seen:1,effect:.6154},{reference_site:"4a",wildtype:"G",mutant:"C",Escape:-.0137,epitope:1,times_seen:6.3333,effect:-.0505},{reference_site:"4a",wildtype:"G",mutant:"D",Escape:-.045,epitope:1,times_seen:4,effect:.0772},{reference_site:"4a",wildtype:"G",mutant:"S",Escape:-.0018,epitope:1,times_seen:2,effect:-1e-4},{reference_site:"4b",wildtype:"I",mutant:"L",Escape:-.0316,epitope:1,times_seen:1,effect:-.3667},{reference_site:"4c",wildtype:"Q",mutant:"H",Escape:-.0163,epitope:1,times_seen:1.6667,effect:-.7979},{reference_site:"4c",wildtype:"Q",mutant:"K",Escape:-.0376,epitope:1,times_seen:8.3333,effect:-.2613},{reference_site:"4c",wildtype:"Q",mutant:"L",Escape:-6e-4,epitope:1,times_seen:1,effect:.1313},{reference_site:"4c",wildtype:"Q",mutant:"R",Escape:-.0173,epitope:1,times_seen:2.6667,effect:-.1096},{reference_site:"4c",wildtype:"Q",mutant:"*",Escape:.0069,epitope:1,times_seen:1,effect:-.7902},{reference_site:"5",wildtype:"M",mutant:"I",Escape:-.0385,epitope:1,times_seen:9.6667,effect:-.0901},{reference_site:"5",wildtype:"M",mutant:"K",Escape:-.0139,epitope:1,times_seen:1,effect:-.4104},{reference_site:"5",wildtype:"M",mutant:"V",Escape:.1795,epitope:1,times_seen:1,effect:.0057},{reference_site:"6",wildtype:"N",mutant:"D",Escape:.3517,epitope:1,times_seen:1,effect:-.4154},{reference_site:"6",wildtype:"N",mutant:"I",Escape:3.8933,epitope:1,times_seen:1,effect:.0627},{reference_site:"6",wildtype:"N",mutant:"S",Escape:1.0977,epitope:1,times_seen:1,effect:-.4504},{reference_site:"7",wildtype:"S",mutant:"G",Escape:-.0128,epitope:1,times_seen:4.3333,effect:-.4259},{reference_site:"7",wildtype:"S",mutant:"I",Escape:.0932,epitope:1,times_seen:10.3333,effect:.1459},{reference_site:"7",wildtype:"S",mutant:"N",Escape:.0427,epitope:1,times_seen:1.3333,effect:-.4106},{reference_site:"7",wildtype:"S",mutant:"R",Escape:-.0133,epitope:1,times_seen:2,effect:-.286},{reference_site:"8",wildtype:"Q",mutant:"K",Escape:-.0577,epitope:1,times_seen:9.3333,effect:-.14},{reference_site:"8",wildtype:"Q",mutant:"R",Escape:-.0128,epitope:1,times_seen:1,effect:-.2013},{reference_site:"9",wildtype:"H",mutant:"D",Escape:-.0119,epitope:1,times_seen:1,effect:-.1204},{reference_site:"9",wildtype:"H",mutant:"N",Escape:-.0043,epitope:1,times_seen:1,effect:-1.2951},{reference_site:"9",wildtype:"H",mutant:"Q",Escape:.01,epitope:1,times_seen:3,effect:.1758},{reference_site:"9",wildtype:"H",mutant:"R",Escape:.0915,epitope:1,times_seen:1,effect:-.0342},{reference_site:"9",wildtype:"H",mutant:"Y",Escape:.0062,epitope:1,times_seen:2.3333,effect:-.0384},{reference_site:"10",wildtype:"L",mutant:"M",Escape:.0046,epitope:1,times_seen:9.6667,effect:-.0194},{reference_site:"10",wildtype:"L",mutant:"P",Escape:-.0143,epitope:1,times_seen:3.6667,effect:-.1632},{reference_site:"10",wildtype:"L",mutant:"V",Escape:-.0074,epitope:1,times_seen:1,effect:.0894},{reference_site:"15",wildtype:"L",mutant:"M",Escape:-.0279,epitope:1,times_seen:5,effect:-.2408},{reference_site:"15",wildtype:"L",mutant:"P",Escape:-.01,epitope:1,times_seen:2,effect:-.0401},{reference_site:"15",wildtype:"L",mutant:"Q",Escape:-.0219,epitope:1,times_seen:1,effect:.044},{reference_site:"16",wildtype:"R",mutant:"I",Escape:-.0471,epitope:1,times_seen:4,effect:.0182},{reference_site:"16",wildtype:"R",mutant:"K",Escape:.0155,epitope:1,times_seen:1.6667,effect:-.3847},{reference_site:"17",wildtype:"W",mutant:"C",Escape:-.1558,epitope:1,times_seen:9.3333,effect:-.0089},{reference_site:"17",wildtype:"W",mutant:"L",Escape:-.0426,epitope:1,times_seen:14.3333,effect:-.217},{reference_site:"17",wildtype:"W",mutant:"S",Escape:.0142,epitope:1,times_seen:1,effect:-.3328},{reference_site:"18",wildtype:"G",mutant:"C",Escape:-.0069,epitope:1,times_seen:6.3333,effect:-.024},{reference_site:"18",wildtype:"G",mutant:"D",Escape:-.0879,epitope:1,times_seen:5.6667,effect:.1444},{reference_site:"18",wildtype:"G",mutant:"S",Escape:.0363,epitope:1,times_seen:3,effect:.0386},{reference_site:"18",wildtype:"G",mutant:"V",Escape:.0593,epitope:1,times_seen:3.3333,effect:-.15},{reference_site:"19",wildtype:"I",mutant:"C",Escape:-.01,epitope:1,times_seen:1,effect:.0396},{reference_site:"19",wildtype:"I",mutant:"F",Escape:.04,epitope:1,times_seen:1,effect:.389},{reference_site:"19",wildtype:"I",mutant:"T",Escape:-.0032,epitope:1,times_seen:1.3333,effect:.1588},{reference_site:"20",wildtype:"M",mutant:"I",Escape:-.0179,epitope:1,times_seen:4,effect:-.1857},{reference_site:"20",wildtype:"M",mutant:"T",Escape:-.0259,epitope:1,times_seen:5,effect:-.6778},{reference_site:"20",wildtype:"M",mutant:"V",Escape:-.0409,epitope:1,times_seen:3,effect:-.0464},{reference_site:"21",wildtype:"I",mutant:"T",Escape:-.0089,epitope:1,times_seen:1,effect:.0396},{reference_site:"21",wildtype:"I",mutant:"V",Escape:-.0249,epitope:1,times_seen:1,effect:-.3382},{reference_site:"21",wildtype:"I",mutant:"-",Escape:-.0186,epitope:1,times_seen:1,effect:-.5647},{reference_site:"22",wildtype:"L",mutant:"I",Escape:-.103,epitope:1,times_seen:1,effect:.6851},{reference_site:"22",wildtype:"L",mutant:"M",Escape:.0348,epitope:1,times_seen:69.6667,effect:-.2352},{reference_site:"22",wildtype:"L",mutant:"P",Escape:.0323,epitope:1,times_seen:3,effect:-.03},{reference_site:"22",wildtype:"L",mutant:"W",Escape:.0017,epitope:1,times_seen:1,effect:-1.7472},{reference_site:"22",wildtype:"L",mutant:"-",Escape:-.0194,epitope:1,times_seen:1,effect:-.5647},{reference_site:"23",wildtype:"G",mutant:"C",Escape:-.0481,epitope:1,times_seen:7,effect:.1523},{reference_site:"23",wildtype:"G",mutant:"D",Escape:.0139,epitope:1,times_seen:4.3333,effect:.0377},{reference_site:"23",wildtype:"G",mutant:"P",Escape:.0822,epitope:1,times_seen:57.6667,effect:-.537},{reference_site:"23",wildtype:"G",mutant:"R",Escape:.0018,epitope:1,times_seen:1,effect:-.3951},{reference_site:"23",wildtype:"G",mutant:"S",Escape:-.0313,epitope:1,times_seen:1.6667,effect:.1727},{reference_site:"23",wildtype:"G",mutant:"V",Escape:.0122,epitope:1,times_seen:2.3333,effect:.1209},{reference_site:"24",wildtype:"M",mutant:"I",Escape:.0413,epitope:1,times_seen:2.6667,effect:-.319},{reference_site:"24",wildtype:"M",mutant:"R",Escape:.2154,epitope:1,times_seen:57.3333,effect:-.5066},{reference_site:"24",wildtype:"M",mutant:"S",Escape:-.0037,epitope:1,times_seen:1,effect:.4266},{reference_site:"24",wildtype:"M",mutant:"T",Escape:-.0391,epitope:1,times_seen:1,effect:.2718},{reference_site:"25",wildtype:"I",mutant:"-",Escape:.5181,epitope:1,times_seen:1,effect:-.3015},{reference_site:"26",wildtype:"M",mutant:"I",Escape:.0314,epitope:1,times_seen:2,effect:-.1976},{reference_site:"26",wildtype:"M",mutant:"T",Escape:.0146,epitope:1,times_seen:1,effect:.0073},{reference_site:"26",wildtype:"M",mutant:"V",Escape:-.0105,epitope:1,times_seen:1,effect:-1.0496},{reference_site:"26",wildtype:"M",mutant:"-",Escape:.2022,epitope:1,times_seen:1,effect:-.3015},{reference_site:"27",wildtype:"I",mutant:"T",Escape:-.0067,epitope:1,times_seen:1,effect:.1404},{reference_site:"27",wildtype:"I",mutant:"V",Escape:.0534,epitope:1,times_seen:1,effect:-.4516},{reference_site:"27",wildtype:"I",mutant:"-",Escape:.5181,epitope:1,times_seen:1,effect:-.3015},{reference_site:"28",wildtype:"C",mutant:"F",Escape:-.0463,epitope:1,times_seen:2.6667,effect:-.3416},{reference_site:"28",wildtype:"C",mutant:"R",Escape:-.0052,epitope:1,times_seen:2,effect:-.6548},{reference_site:"28",wildtype:"C",mutant:"Y",Escape:-.0411,epitope:1,times_seen:7,effect:-.0275},{reference_site:"28",wildtype:"C",mutant:"*",Escape:.012,epitope:1,times_seen:1,effect:-1.3328},{reference_site:"28",wildtype:"C",mutant:"-",Escape:.2182,epitope:1,times_seen:1,effect:-.4261},{reference_site:"29",wildtype:"S",mutant:"G",Escape:-.0031,epitope:1,times_seen:3,effect:-.012},{reference_site:"29",wildtype:"S",mutant:"I",Escape:-.0442,epitope:1,times_seen:2.3333,effect:-.2586},{reference_site:"29",wildtype:"S",mutant:"N",Escape:-.0949,epitope:1,times_seen:2,effect:.4163},{reference_site:"29",wildtype:"S",mutant:"R",Escape:-.015,epitope:1,times_seen:3.3333,effect:-.1116},{reference_site:"29",wildtype:"S",mutant:"-",Escape:.2092,epitope:1,times_seen:1,effect:-.4261},{reference_site:"30",wildtype:"V",mutant:"E",Escape:.0812,epitope:1,times_seen:1,effect:.0119},{reference_site:"30",wildtype:"V",mutant:"M",Escape:.0655,epitope:1,times_seen:5,effect:-.3379},{reference_site:"30",wildtype:"V",mutant:"-",Escape:.3332,epitope:1,times_seen:1,effect:-.4261},{reference_site:"31",wildtype:"A",mutant:"C",Escape:-1e-4,epitope:1,times_seen:4.3333,effect:-.1462},{reference_site:"31",wildtype:"A",mutant:"D",Escape:-.1048,epitope:1,times_seen:28,effect:-.1416},{reference_site:"31",wildtype:"A",mutant:"E",Escape:-.0123,epitope:1,times_seen:1.6667,effect:-.3262},{reference_site:"31",wildtype:"A",mutant:"F",Escape:.0461,epitope:1,times_seen:4,effect:-.2078},{reference_site:"31",wildtype:"A",mutant:"G",Escape:-.0014,epitope:1,times_seen:1,effect:-.5354},{reference_site:"31",wildtype:"A",mutant:"H",Escape:-.0308,epitope:1,times_seen:4.6667,effect:-.1032},{reference_site:"31",wildtype:"A",mutant:"I",Escape:-.0037,epitope:1,times_seen:2.3333,effect:-1.1697},{reference_site:"31",wildtype:"A",mutant:"K",Escape:-.0075,epitope:1,times_seen:3.3333,effect:-.0872},{reference_site:"31",wildtype:"A",mutant:"L",Escape:-.0254,epitope:1,times_seen:2,effect:-.0237},{reference_site:"31",wildtype:"A",mutant:"M",Escape:.0161,epitope:1,times_seen:3,effect:-.331},{reference_site:"31",wildtype:"A",mutant:"N",Escape:-.002,epitope:1,times_seen:6.6667,effect:-.1107},{reference_site:"31",wildtype:"A",mutant:"P",Escape:.8527,epitope:1,times_seen:1,effect:-3.284},{reference_site:"31",wildtype:"A",mutant:"Q",Escape:-.0166,epitope:1,times_seen:2,effect:-.1633},{reference_site:"31",wildtype:"A",mutant:"R",Escape:-.0248,epitope:1,times_seen:1,effect:-.6271},{reference_site:"31",wildtype:"A",mutant:"S",Escape:-.0711,epitope:1,times_seen:14.6667,effect:-.2319},{reference_site:"31",wildtype:"A",mutant:"T",Escape:-.0997,epitope:1,times_seen:14.6667,effect:-.0018},{reference_site:"31",wildtype:"A",mutant:"V",Escape:-.095,epitope:1,times_seen:9.6667,effect:-.1431},{reference_site:"31",wildtype:"A",mutant:"W",Escape:.0564,epitope:1,times_seen:2,effect:-.5087},{reference_site:"31",wildtype:"A",mutant:"Y",Escape:.0285,epitope:1,times_seen:4,effect:-.2025},{reference_site:"32",wildtype:"G",mutant:"A",Escape:-.0494,epitope:1,times_seen:4.6667,effect:-.1369},{reference_site:"32",wildtype:"G",mutant:"C",Escape:.0018,epitope:1,times_seen:10.6667,effect:-.3448},{reference_site:"32",wildtype:"G",mutant:"D",Escape:-.0777,epitope:1,times_seen:32,effect:.0181},{reference_site:"32",wildtype:"G",mutant:"E",Escape:.1012,epitope:1,times_seen:3,effect:-.1391},{reference_site:"32",wildtype:"G",mutant:"H",Escape:.0606,epitope:1,times_seen:3.3333,effect:-.7988},{reference_site:"32",wildtype:"G",mutant:"K",Escape:.0088,epitope:1,times_seen:3,effect:-1.6613},{reference_site:"32",wildtype:"G",mutant:"L",Escape:.0335,epitope:1,times_seen:1,effect:-2.8851},{reference_site:"32",wildtype:"G",mutant:"N",Escape:-.0482,epitope:1,times_seen:2,effect:-.7664},{reference_site:"32",wildtype:"G",mutant:"Q",Escape:-.0228,epitope:1,times_seen:1,effect:-.8675},{reference_site:"32",wildtype:"G",mutant:"S",Escape:-.0828,epitope:1,times_seen:23.3333,effect:-.0395},{reference_site:"32",wildtype:"G",mutant:"T",Escape:-.161,epitope:1,times_seen:4.3333,effect:-.3419},{reference_site:"33",wildtype:"N",mutant:"A",Escape:-.0427,epitope:1,times_seen:3,effect:-.3245},{reference_site:"33",wildtype:"N",mutant:"C",Escape:-.0734,epitope:1,times_seen:4.6667,effect:-.9556},{reference_site:"33",wildtype:"N",mutant:"D",Escape:-.0155,epitope:1,times_seen:6.3333,effect:-.1948},{reference_site:"33",wildtype:"N",mutant:"E",Escape:.1496,epitope:1,times_seen:3.6667,effect:.3206},{reference_site:"33",wildtype:"N",mutant:"G",Escape:-.0292,epitope:1,times_seen:1.3333,effect:-.6348},{reference_site:"33",wildtype:"N",mutant:"H",Escape:-.002,epitope:1,times_seen:2.6667,effect:-.0918},{reference_site:"33",wildtype:"N",mutant:"K",Escape:-.0367,epitope:1,times_seen:8,effect:.0734},{reference_site:"33",wildtype:"N",mutant:"L",Escape:.0649,epitope:1,times_seen:1,effect:-2.3515},{reference_site:"33",wildtype:"N",mutant:"M",Escape:.0515,epitope:1,times_seen:4,effect:-.7972},{reference_site:"33",wildtype:"N",mutant:"P",Escape:-.0179,epitope:1,times_seen:1,effect:-.4758},{reference_site:"33",wildtype:"N",mutant:"Q",Escape:-.0114,epitope:1,times_seen:2.3333,effect:.0708},{reference_site:"33",wildtype:"N",mutant:"R",Escape:-.0245,epitope:1,times_seen:2,effect:-.1988},{reference_site:"33",wildtype:"N",mutant:"S",Escape:-.0399,epitope:1,times_seen:4,effect:-.0754},{reference_site:"33",wildtype:"N",mutant:"T",Escape:-.0545,epitope:1,times_seen:4.6667,effect:-.2995},{reference_site:"34",wildtype:"L",mutant:"D",Escape:-.0157,epitope:1,times_seen:3,effect:-1.4564},{reference_site:"34",wildtype:"L",mutant:"E",Escape:-.0056,epitope:1,times_seen:2,effect:-.813},{reference_site:"34",wildtype:"L",mutant:"F",Escape:-.0099,epitope:1,times_seen:4.6667,effect:-.2689},{reference_site:"34",wildtype:"L",mutant:"I",Escape:-.022,epitope:1,times_seen:3.5,effect:-.285},{reference_site:"34",wildtype:"L",mutant:"K",Escape:-.0239,epitope:1,times_seen:7.3333,effect:-.8469},{reference_site:"34",wildtype:"L",mutant:"M",Escape:-.0204,epitope:1,times_seen:16,effect:-.1938},{reference_site:"34",wildtype:"L",mutant:"N",Escape:.0033,epitope:1,times_seen:2.3333,effect:-.8137},{reference_site:"34",wildtype:"L",mutant:"P",Escape:2e-4,epitope:1,times_seen:2.6667,effect:-.6572},{reference_site:"34",wildtype:"L",mutant:"Q",Escape:-.0526,epitope:1,times_seen:11,effect:-.6572},{reference_site:"34",wildtype:"L",mutant:"R",Escape:-.001,epitope:1,times_seen:4.6667,effect:-.096},{reference_site:"34",wildtype:"L",mutant:"T",Escape:-.0047,epitope:1,times_seen:3,effect:-.2873},{reference_site:"34",wildtype:"L",mutant:"W",Escape:-.004,epitope:1,times_seen:4.6667,effect:-.8693},{reference_site:"34",wildtype:"L",mutant:"Y",Escape:-5e-4,epitope:1,times_seen:4.6667,effect:-.1976},{reference_site:"35",wildtype:"W",mutant:"C",Escape:.0084,epitope:1,times_seen:1,effect:-2.8357},{reference_site:"35",wildtype:"W",mutant:"L",Escape:4e-4,epitope:1,times_seen:1.3333,effect:-3.3804},{reference_site:"35",wildtype:"W",mutant:"Y",Escape:.0018,epitope:1,times_seen:3,effect:-.0011},{reference_site:"36",wildtype:"V",mutant:"A",Escape:-.001,epitope:1,times_seen:4.6667,effect:-.6812},{reference_site:"36",wildtype:"V",mutant:"I",Escape:-.0046,epitope:1,times_seen:2,effect:-1.0681},{reference_site:"36",wildtype:"V",mutant:"M",Escape:.002,epitope:1,times_seen:1,effect:-2.8822},{reference_site:"36",wildtype:"V",mutant:"T",Escape:-.0047,epitope:1,times_seen:2,effect:-1.0395},{reference_site:"37",wildtype:"T",mutant:"A",Escape:4e-4,epitope:1,times_seen:3,effect:-1.1438},{reference_site:"37",wildtype:"T",mutant:"I",Escape:.0029,epitope:1,times_seen:1,effect:-2.7726},{reference_site:"37",wildtype:"T",mutant:"N",Escape:-.0021,epitope:1,times_seen:1.5,effect:-1.5222},{reference_site:"37",wildtype:"T",mutant:"S",Escape:-.001,epitope:1,times_seen:1,effect:.0567},{reference_site:"38",wildtype:"V",mutant:"I",Escape:-8e-4,epitope:1,times_seen:3.3333,effect:-.1182},{reference_site:"38",wildtype:"V",mutant:"L",Escape:-.0017,epitope:1,times_seen:1,effect:-.7484},{reference_site:"38",wildtype:"V",mutant:"M",Escape:.0086,epitope:1,times_seen:2.3333,effect:-3.0119},{reference_site:"39",wildtype:"Y",mutant:"F",Escape:.0038,epitope:1,times_seen:4.3333,effect:-.2163},{reference_site:"39",wildtype:"Y",mutant:"H",Escape:-.0042,epitope:1,times_seen:2,effect:-.961},{reference_site:"39",wildtype:"Y",mutant:"*",Escape:.003,epitope:1,times_seen:1,effect:-1.7877},{reference_site:"40",wildtype:"Y",mutant:"C",Escape:4e-4,epitope:1,times_seen:1,effect:-1.1802},{reference_site:"40",wildtype:"Y",mutant:"*",Escape:.0106,epitope:1,times_seen:1,effect:-1.4116},{reference_site:"41",wildtype:"G",mutant:"C",Escape:.0029,epitope:1,times_seen:1,effect:-3.0428},{reference_site:"41",wildtype:"G",mutant:"S",Escape:-9e-4,epitope:1,times_seen:1,effect:-3.257},{reference_site:"42",wildtype:"V",mutant:"E",Escape:.0033,epitope:1,times_seen:1,effect:-2.4913},{reference_site:"42",wildtype:"V",mutant:"I",Escape:5e-4,epitope:1,times_seen:1,effect:-.4077},{reference_site:"42",wildtype:"V",mutant:"L",Escape:.0092,epitope:1,times_seen:1,effect:-.7766},{reference_site:"42",wildtype:"V",mutant:"M",Escape:.0063,epitope:1,times_seen:1,effect:-3.0945},{reference_site:"43",wildtype:"P",mutant:"H",Escape:.001,epitope:1,times_seen:1,effect:-3.0649},{reference_site:"43",wildtype:"P",mutant:"S",Escape:.0195,epitope:1,times_seen:3,effect:-2.9872},{reference_site:"43",wildtype:"P",mutant:"T",Escape:6e-4,epitope:1,times_seen:1,effect:-1.9297},{reference_site:"44",wildtype:"V",mutant:"A",Escape:-.009,epitope:1,times_seen:3.5,effect:-.2781},{reference_site:"44",wildtype:"V",mutant:"C",Escape:.0073,epitope:1,times_seen:1,effect:-1.4393},{reference_site:"44",wildtype:"V",mutant:"G",Escape:-.0017,epitope:1,times_seen:1,effect:-2.203},{reference_site:"44",wildtype:"V",mutant:"I",Escape:-.0065,epitope:1,times_seen:3,effect:.095},{reference_site:"44",wildtype:"V",mutant:"K",Escape:-.0048,epitope:1,times_seen:4,effect:-.3141},{reference_site:"44",wildtype:"V",mutant:"L",Escape:.018,epitope:1,times_seen:1,effect:-2.6039},{reference_site:"44",wildtype:"V",mutant:"M",Escape:.0176,epitope:1,times_seen:1,effect:-3.1546},{reference_site:"45",wildtype:"W",mutant:"C",Escape:.0157,epitope:1,times_seen:1.5,effect:-3.1834},{reference_site:"45",wildtype:"W",mutant:"F",Escape:.0195,epitope:1,times_seen:1,effect:-3.3801},{reference_site:"45",wildtype:"W",mutant:"L",Escape:.0029,epitope:1,times_seen:1,effect:-2.886},{reference_site:"45",wildtype:"W",mutant:"Q",Escape:0,epitope:1,times_seen:1.6667,effect:-1.4558},{reference_site:"45",wildtype:"W",mutant:"*",Escape:.0042,epitope:1,times_seen:2,effect:-2.2867},{reference_site:"46",wildtype:"K",mutant:"E",Escape:-.0128,epitope:1,times_seen:2.6667,effect:-.7054},{reference_site:"46",wildtype:"K",mutant:"F",Escape:-.0228,epitope:1,times_seen:2,effect:-.628},{reference_site:"46",wildtype:"K",mutant:"M",Escape:-.0119,epitope:1,times_seen:1.3333,effect:.1199},{reference_site:"46",wildtype:"K",mutant:"N",Escape:.002,epitope:1,times_seen:9.6667,effect:-.3657},{reference_site:"46",wildtype:"K",mutant:"Q",Escape:.0029,epitope:1,times_seen:2,effect:-.827},{reference_site:"46",wildtype:"K",mutant:"R",Escape:.0047,epitope:1,times_seen:1.6667,effect:-.1491},{reference_site:"46",wildtype:"K",mutant:"S",Escape:-.0072,epitope:1,times_seen:1,effect:-.1209},{reference_site:"46",wildtype:"K",mutant:"Y",Escape:.0052,epitope:1,times_seen:1,effect:-1.1882},{reference_site:"47",wildtype:"D",mutant:"A",Escape:-.0289,epitope:1,times_seen:2.6667,effect:-.114},{reference_site:"47",wildtype:"D",mutant:"E",Escape:-.0123,epitope:1,times_seen:5.3333,effect:-.1487},{reference_site:"47",wildtype:"D",mutant:"G",Escape:-.0093,epitope:1,times_seen:1.3333,effect:-2.0739},{reference_site:"47",wildtype:"D",mutant:"H",Escape:-.0085,epitope:1,times_seen:2.5,effect:-1.1713},{reference_site:"47",wildtype:"D",mutant:"K",Escape:.0062,epitope:1,times_seen:1,effect:-1.7525},{reference_site:"47",wildtype:"D",mutant:"N",Escape:-.0067,epitope:1,times_seen:1,effect:-.2059},{reference_site:"47",wildtype:"D",mutant:"P",Escape:-.002,epitope:1,times_seen:1,effect:-.4818},{reference_site:"47",wildtype:"D",mutant:"S",Escape:.0198,epitope:1,times_seen:1,effect:-.2737},{reference_site:"48",wildtype:"A",mutant:"C",Escape:-.0181,epitope:1,times_seen:2,effect:-.2021},{reference_site:"48",wildtype:"A",mutant:"D",Escape:-.0277,epitope:1,times_seen:6.6667,effect:-.4577},{reference_site:"48",wildtype:"A",mutant:"E",Escape:-.0277,epitope:1,times_seen:2.6667,effect:-.6902},{reference_site:"48",wildtype:"A",mutant:"F",Escape:.0064,epitope:1,times_seen:3.3333,effect:-.5684},{reference_site:"48",wildtype:"A",mutant:"G",Escape:-.0121,epitope:1,times_seen:2,effect:-.2886},{reference_site:"48",wildtype:"A",mutant:"H",Escape:-.0042,epitope:1,times_seen:5.3333,effect:-.38},{reference_site:"48",wildtype:"A",mutant:"I",Escape:-.0083,epitope:1,times_seen:1.6667,effect:-.7292},{reference_site:"48",wildtype:"A",mutant:"P",Escape:.0515,epitope:1,times_seen:1,effect:-2.8487},{reference_site:"48",wildtype:"A",mutant:"S",Escape:-.0295,epitope:1,times_seen:11.3333,effect:-.0895},{reference_site:"48",wildtype:"A",mutant:"T",Escape:-.0214,epitope:1,times_seen:15.6667,effect:.0434},{reference_site:"48",wildtype:"A",mutant:"V",Escape:-.0332,epitope:1,times_seen:6.3333,effect:-.1406},{reference_site:"48",wildtype:"A",mutant:"W",Escape:-.0098,epitope:1,times_seen:1,effect:-.3977},{reference_site:"49",wildtype:"E",mutant:"A",Escape:-.0167,epitope:1,times_seen:2.6667,effect:-.0703},{reference_site:"49",wildtype:"E",mutant:"C",Escape:-.021,epitope:1,times_seen:1,effect:-.3094},{reference_site:"49",wildtype:"E",mutant:"D",Escape:.0552,epitope:1,times_seen:11,effect:-.0413},{reference_site:"49",wildtype:"E",mutant:"F",Escape:.0259,epitope:1,times_seen:4,effect:-.4905},{reference_site:"49",wildtype:"E",mutant:"G",Escape:-.0225,epitope:1,times_seen:2.6667,effect:-.1982},{reference_site:"49",wildtype:"E",mutant:"H",Escape:-.0213,epitope:1,times_seen:1,effect:-.1726},{reference_site:"49",wildtype:"E",mutant:"I",Escape:-.0023,epitope:1,times_seen:3.3333,effect:-.3416},{reference_site:"49",wildtype:"E",mutant:"K",Escape:-.0138,epitope:1,times_seen:6.6667,effect:-.2161},{reference_site:"49",wildtype:"E",mutant:"L",Escape:.0595,epitope:1,times_seen:4.3333,effect:-.5393},{reference_site:"49",wildtype:"E",mutant:"M",Escape:.0018,epitope:1,times_seen:4.6667,effect:.0011},{reference_site:"49",wildtype:"E",mutant:"N",Escape:.0856,epitope:1,times_seen:2.3333,effect:-.4477},{reference_site:"49",wildtype:"E",mutant:"P",Escape:-.0214,epitope:1,times_seen:1,effect:-.9442},{reference_site:"49",wildtype:"E",mutant:"Q",Escape:-.0519,epitope:1,times_seen:7,effect:-.0173},{reference_site:"49",wildtype:"E",mutant:"R",Escape:.0246,epitope:1,times_seen:3,effect:-.3905},{reference_site:"49",wildtype:"E",mutant:"S",Escape:.0473,epitope:1,times_seen:3,effect:-.2739},{reference_site:"49",wildtype:"E",mutant:"T",Escape:.0048,epitope:1,times_seen:1,effect:.4939},{reference_site:"49",wildtype:"E",mutant:"V",Escape:-.0425,epitope:1,times_seen:6,effect:-.2215},{reference_site:"49",wildtype:"E",mutant:"W",Escape:-.0602,epitope:1,times_seen:7.3333,effect:-.3688},{reference_site:"49",wildtype:"E",mutant:"Y",Escape:.0434,epitope:1,times_seen:2.6667,effect:-.1061},{reference_site:"49",wildtype:"E",mutant:"*",Escape:-.0029,epitope:1,times_seen:2,effect:-3.4371},{reference_site:"50",wildtype:"T",mutant:"A",Escape:-.0035,epitope:1,times_seen:2.3333,effect:-.1043},{reference_site:"50",wildtype:"T",mutant:"C",Escape:-.0121,epitope:1,times_seen:1,effect:-.7013},{reference_site:"50",wildtype:"T",mutant:"I",Escape:-.0094,epitope:1,times_seen:1.3333,effect:-.7124},{reference_site:"50",wildtype:"T",mutant:"P",Escape:-.03,epitope:1,times_seen:6.3333,effect:-.5194},{reference_site:"50",wildtype:"T",mutant:"S",Escape:-.0178,epitope:1,times_seen:4,effect:-.5536},{reference_site:"51",wildtype:"T",mutant:"A",Escape:-.0251,epitope:1,times_seen:3,effect:-.6445},{reference_site:"51",wildtype:"T",mutant:"C",Escape:.0099,epitope:1,times_seen:1,effect:-1.2908},{reference_site:"51",wildtype:"T",mutant:"D",Escape:.0033,epitope:1,times_seen:4.3333,effect:-.021},{reference_site:"51",wildtype:"T",mutant:"H",Escape:-.0098,epitope:1,times_seen:2.3333,effect:-.1809},{reference_site:"51",wildtype:"T",mutant:"I",Escape:.0103,epitope:1,times_seen:1.3333,effect:-.6212},{reference_site:"51",wildtype:"T",mutant:"N",Escape:-.0177,epitope:1,times_seen:8,effect:-.0958},{reference_site:"51",wildtype:"T",mutant:"P",Escape:-.0335,epitope:1,times_seen:3.6667,effect:-.3825},{reference_site:"51",wildtype:"T",mutant:"Q",Escape:.0074,epitope:1,times_seen:2,effect:.2557},{reference_site:"51",wildtype:"T",mutant:"S",Escape:-.0091,epitope:1,times_seen:3,effect:-.5447},{reference_site:"51",wildtype:"T",mutant:"V",Escape:-.0228,epitope:1,times_seen:1,effect:-.018},{reference_site:"51",wildtype:"T",mutant:"Y",Escape:.0391,epitope:1,times_seen:3,effect:-.5657},{reference_site:"52",wildtype:"L",mutant:"M",Escape:-.0028,epitope:1,times_seen:16,effect:-.2713},{reference_site:"52",wildtype:"L",mutant:"P",Escape:.0129,epitope:1,times_seen:2,effect:-2.4568},{reference_site:"53",wildtype:"F",mutant:"C",Escape:-.007,epitope:1,times_seen:1,effect:-2.9458},{reference_site:"53",wildtype:"F",mutant:"L",Escape:.0191,epitope:1,times_seen:1.3333,effect:-2.5732},{reference_site:"53",wildtype:"F",mutant:"M",Escape:.0045,epitope:1,times_seen:1,effect:-.4657},{reference_site:"53",wildtype:"F",mutant:"S",Escape:4e-4,epitope:1,times_seen:1,effect:-.3005},{reference_site:"53",wildtype:"F",mutant:"Y",Escape:-.0082,epitope:1,times_seen:1.6667,effect:-1.964},{reference_site:"54",wildtype:"C",mutant:"F",Escape:.0201,epitope:1,times_seen:2,effect:-1.6705},{reference_site:"54",wildtype:"C",mutant:"G",Escape:.0284,epitope:1,times_seen:1,effect:-2.1438},{reference_site:"54",wildtype:"C",mutant:"W",Escape:.0058,epitope:1,times_seen:1,effect:-2.2029},{reference_site:"54",wildtype:"C",mutant:"Y",Escape:.0261,epitope:1,times_seen:1.3333,effect:-2.6423},{reference_site:"55",wildtype:"A",mutant:"D",Escape:.0288,epitope:1,times_seen:2,effect:-2.1534},{reference_site:"55",wildtype:"A",mutant:"G",Escape:-.0122,epitope:1,times_seen:1.5,effect:-1.3729},{reference_site:"55",wildtype:"A",mutant:"M",Escape:.0274,epitope:1,times_seen:1,effect:-2.4818},{reference_site:"55",wildtype:"A",mutant:"S",Escape:.0063,epitope:1,times_seen:11.6667,effect:-.3175},{reference_site:"55",wildtype:"A",mutant:"T",Escape:-.0067,epitope:1,times_seen:9.6667,effect:.0218},{reference_site:"55",wildtype:"A",mutant:"V",Escape:-.0022,epitope:1,times_seen:1.3333,effect:-.432},{reference_site:"56",wildtype:"S",mutant:"C",Escape:.0161,epitope:1,times_seen:2.5,effect:-.6891},{reference_site:"56",wildtype:"S",mutant:"H",Escape:-.0026,epitope:1,times_seen:3.5,effect:-1.3924},{reference_site:"56",wildtype:"S",mutant:"I",Escape:.0322,epitope:1,times_seen:1,effect:-3.0291},{reference_site:"56",wildtype:"S",mutant:"T",Escape:.0019,epitope:1,times_seen:4,effect:.0521},{reference_site:"56",wildtype:"S",mutant:"Y",Escape:-.0041,epitope:1,times_seen:1,effect:-2.2613},{reference_site:"57",wildtype:"D",mutant:"A",Escape:-.0267,epitope:1,times_seen:6.3333,effect:-.2964},{reference_site:"57",wildtype:"D",mutant:"C",Escape:.0018,epitope:1,times_seen:1,effect:-1.1805},{reference_site:"57",wildtype:"D",mutant:"E",Escape:.0182,epitope:1,times_seen:2.3333,effect:-.5199},{reference_site:"57",wildtype:"D",mutant:"F",Escape:-.0177,epitope:1,times_seen:2,effect:-1.2278},{reference_site:"57",wildtype:"D",mutant:"G",Escape:.1322,epitope:1,times_seen:1.6667,effect:-1.1611},{reference_site:"57",wildtype:"D",mutant:"H",Escape:.0186,epitope:1,times_seen:3.6667,effect:-.3664},{reference_site:"57",wildtype:"D",mutant:"I",Escape:.0506,epitope:1,times_seen:2,effect:-2.0221},{reference_site:"57",wildtype:"D",mutant:"K",Escape:.0632,epitope:1,times_seen:1,effect:-1.2407},{reference_site:"57",wildtype:"D",mutant:"M",Escape:-.0049,epitope:1,times_seen:1,effect:-1.1424},{reference_site:"57",wildtype:"D",mutant:"N",Escape:-.1235,epitope:1,times_seen:14.6667,effect:-.0988},{reference_site:"57",wildtype:"D",mutant:"P",Escape:-.0511,epitope:1,times_seen:4,effect:-1.4316},{reference_site:"57",wildtype:"D",mutant:"Q",Escape:.0169,epitope:1,times_seen:1,effect:-.3166},{reference_site:"57",wildtype:"D",mutant:"R",Escape:-.007,epitope:1,times_seen:1,effect:-.2784},{reference_site:"57",wildtype:"D",mutant:"S",Escape:-.0027,epitope:1,times_seen:2.3333,effect:-1.1402},{reference_site:"57",wildtype:"D",mutant:"T",Escape:.0129,epitope:1,times_seen:4,effect:-.936},{reference_site:"57",wildtype:"D",mutant:"V",Escape:-.0217,epitope:1,times_seen:1,effect:-1.1678},{reference_site:"57",wildtype:"D",mutant:"Y",Escape:-.0391,epitope:1,times_seen:3.6667,effect:-1.5278},{reference_site:"57",wildtype:"D",mutant:"-",Escape:.0713,epitope:1,times_seen:1,effect:-1.3059},{reference_site:"58",wildtype:"A",mutant:"D",Escape:-.6337,epitope:1,times_seen:2,effect:-3.3069},{reference_site:"58",wildtype:"A",mutant:"F",Escape:-.0192,epitope:1,times_seen:3.6667,effect:-.3413},{reference_site:"58",wildtype:"A",mutant:"G",Escape:.0069,epitope:1,times_seen:1.3333,effect:-.231},{reference_site:"58",wildtype:"A",mutant:"H",Escape:-.0489,epitope:1,times_seen:2.5,effect:-.7994},{reference_site:"58",wildtype:"A",mutant:"I",Escape:.0134,epitope:1,times_seen:3.3333,effect:-.7391},{reference_site:"58",wildtype:"A",mutant:"N",Escape:-.028,epitope:1,times_seen:2,effect:-.6588},{reference_site:"58",wildtype:"A",mutant:"P",Escape:-.0101,epitope:1,times_seen:4,effect:-.5582},{reference_site:"58",wildtype:"A",mutant:"Q",Escape:-.0118,epitope:1,times_seen:1,effect:-1.0282},{reference_site:"58",wildtype:"A",mutant:"S",Escape:-.036,epitope:1,times_seen:20.6667,effect:-.089},{reference_site:"58",wildtype:"A",mutant:"T",Escape:-.1,epitope:1,times_seen:21,effect:-.5106},{reference_site:"58",wildtype:"A",mutant:"V",Escape:-6e-4,epitope:1,times_seen:6.6667,effect:-.7448},{reference_site:"58",wildtype:"A",mutant:"Y",Escape:.0203,epitope:1,times_seen:4.6667,effect:-.5824},{reference_site:"58",wildtype:"A",mutant:"-",Escape:.599,epitope:1,times_seen:1,effect:-1.3059},{reference_site:"59",wildtype:"K",mutant:"A",Escape:.0071,epitope:1,times_seen:2,effect:-.0026},{reference_site:"59",wildtype:"K",mutant:"D",Escape:.0181,epitope:1,times_seen:1,effect:-2.0738},{reference_site:"59",wildtype:"K",mutant:"E",Escape:.0662,epitope:1,times_seen:8.3333,effect:-.8091},{reference_site:"59",wildtype:"K",mutant:"F",Escape:-.0207,epitope:1,times_seen:1,effect:-1.4942},{reference_site:"59",wildtype:"K",mutant:"G",Escape:.0015,epitope:1,times_seen:1,effect:-1.2426},{reference_site:"59",wildtype:"K",mutant:"H",Escape:-.0267,epitope:1,times_seen:2,effect:-.5299},{reference_site:"59",wildtype:"K",mutant:"I",Escape:-.0133,epitope:1,times_seen:1.3333,effect:-.8349},{reference_site:"59",wildtype:"K",mutant:"M",Escape:.0245,epitope:1,times_seen:9.6667,effect:-.1811},{reference_site:"59",wildtype:"K",mutant:"N",Escape:.0744,epitope:1,times_seen:11.3333,effect:-.2278},{reference_site:"59",wildtype:"K",mutant:"P",Escape:-.0271,epitope:1,times_seen:1,effect:-1.5157},{reference_site:"59",wildtype:"K",mutant:"Q",Escape:.0074,epitope:1,times_seen:3.3333,effect:-.2961},{reference_site:"59",wildtype:"K",mutant:"R",Escape:-.0216,epitope:1,times_seen:9.3333,effect:-.1547},{reference_site:"59",wildtype:"K",mutant:"S",Escape:-.0014,epitope:1,times_seen:1,effect:-.8664},{reference_site:"59",wildtype:"K",mutant:"T",Escape:-.0067,epitope:1,times_seen:1.6667,effect:-.1537},{reference_site:"59",wildtype:"K",mutant:"V",Escape:.0021,epitope:1,times_seen:1,effect:-.3786},{reference_site:"59",wildtype:"K",mutant:"W",Escape:-.0188,epitope:1,times_seen:2,effect:-.6246},{reference_site:"59",wildtype:"K",mutant:"Y",Escape:-.0059,epitope:1,times_seen:2,effect:-.2374},{reference_site:"60",wildtype:"A",mutant:"C",Escape:.1569,epitope:1,times_seen:1.3333,effect:-2.6973},{reference_site:"60",wildtype:"A",mutant:"D",Escape:-.0251,epitope:1,times_seen:2.3333,effect:-3.062},{reference_site:"60",wildtype:"A",mutant:"E",Escape:.0791,epitope:1,times_seen:1,effect:-2.9086},{reference_site:"60",wildtype:"A",mutant:"F",Escape:.0566,epitope:1,times_seen:6.6667,effect:-.5629},{reference_site:"60",wildtype:"A",mutant:"G",Escape:-.0309,epitope:1,times_seen:4,effect:-.0039},{reference_site:"60",wildtype:"A",mutant:"H",Escape:.0681,epitope:1,times_seen:5.3333,effect:-.2619},{reference_site:"60",wildtype:"A",mutant:"I",Escape:.1068,epitope:1,times_seen:2.3333,effect:-.8197},{reference_site:"60",wildtype:"A",mutant:"K",Escape:-.0193,epitope:1,times_seen:1,effect:-2.4399},{reference_site:"60",wildtype:"A",mutant:"L",Escape:-.0152,epitope:1,times_seen:3.3333,effect:-.0387},{reference_site:"60",wildtype:"A",mutant:"M",Escape:-.02,epitope:1,times_seen:2,effect:-.1733},{reference_site:"60",wildtype:"A",mutant:"N",Escape:-.0304,epitope:1,times_seen:3.6667,effect:-.0442},{reference_site:"60",wildtype:"A",mutant:"P",Escape:-.0056,epitope:1,times_seen:12,effect:-.5774},{reference_site:"60",wildtype:"A",mutant:"Q",Escape:.0257,epitope:1,times_seen:2,effect:-.3635},{reference_site:"60",wildtype:"A",mutant:"S",Escape:-.0452,epitope:1,times_seen:5.3333,effect:-.1173},{reference_site:"60",wildtype:"A",mutant:"T",Escape:-.1595,epitope:1,times_seen:11.3333,effect:.0506},{reference_site:"60",wildtype:"A",mutant:"V",Escape:.0528,epitope:1,times_seen:6,effect:-.3202},{reference_site:"60",wildtype:"A",mutant:"W",Escape:-.0137,epitope:1,times_seen:1.5,effect:-1.7889},{reference_site:"60",wildtype:"A",mutant:"Y",Escape:.1656,epitope:1,times_seen:9.6667,effect:-.2068},{reference_site:"61",wildtype:"Y",mutant:"A",Escape:-.0368,epitope:1,times_seen:1.3333,effect:-.8439},{reference_site:"61",wildtype:"Y",mutant:"C",Escape:.725,epitope:1,times_seen:1.5,effect:-2.6884},{reference_site:"61",wildtype:"Y",mutant:"D",Escape:.011,epitope:1,times_seen:1,effect:-3.1437},{reference_site:"61",wildtype:"Y",mutant:"F",Escape:-6e-4,epitope:1,times_seen:2.6667,effect:-.2561},{reference_site:"61",wildtype:"Y",mutant:"H",Escape:-.0547,epitope:1,times_seen:6.3333,effect:-.3391},{reference_site:"61",wildtype:"Y",mutant:"I",Escape:-.0475,epitope:1,times_seen:10,effect:.0338},{reference_site:"61",wildtype:"Y",mutant:"L",Escape:-.0143,epitope:1,times_seen:1.6667,effect:-.2349},{reference_site:"61",wildtype:"Y",mutant:"M",Escape:-.0146,epitope:1,times_seen:1,effect:-.6217},{reference_site:"61",wildtype:"Y",mutant:"N",Escape:.8481,epitope:1,times_seen:2.3333,effect:-2.9079},{reference_site:"61",wildtype:"Y",mutant:"Q",Escape:-.0411,epitope:1,times_seen:3,effect:-.2038},{reference_site:"61",wildtype:"Y",mutant:"R",Escape:.0522,epitope:1,times_seen:1,effect:-2.3558},{reference_site:"61",wildtype:"Y",mutant:"S",Escape:-.0385,epitope:1,times_seen:2,effect:-1.1162},{reference_site:"61",wildtype:"Y",mutant:"T",Escape:-.0482,epitope:1,times_seen:4,effect:.015},{reference_site:"61",wildtype:"Y",mutant:"V",Escape:.0166,epitope:1,times_seen:1,effect:-.0229},{reference_site:"61",wildtype:"Y",mutant:"W",Escape:.9138,epitope:1,times_seen:1,effect:-.6686},{reference_site:"62",wildtype:"D",mutant:"A",Escape:-.0461,epitope:1,times_seen:5.6667,effect:-.1649},{reference_site:"62",wildtype:"D",mutant:"C",Escape:-.0238,epitope:1,times_seen:2.5,effect:-.5733},{reference_site:"62",wildtype:"D",mutant:"E",Escape:.4916,epitope:1,times_seen:5,effect:.2503},{reference_site:"62",wildtype:"D",mutant:"F",Escape:-.0563,epitope:1,times_seen:3.3333,effect:-.2308},{reference_site:"62",wildtype:"D",mutant:"G",Escape:-.0631,epitope:1,times_seen:3.3333,effect:-.212},{reference_site:"62",wildtype:"D",mutant:"H",Escape:.3188,epitope:1,times_seen:1.5,effect:.1094},{reference_site:"62",wildtype:"D",mutant:"I",Escape:-.0183,epitope:1,times_seen:3.6667,effect:-.4608},{reference_site:"62",wildtype:"D",mutant:"K",Escape:-.0237,epitope:1,times_seen:1,effect:-.1728},{reference_site:"62",wildtype:"D",mutant:"L",Escape:-.0214,epitope:1,times_seen:1,effect:-.0739},{reference_site:"62",wildtype:"D",mutant:"N",Escape:.0488,epitope:1,times_seen:9.6667,effect:-.317},{reference_site:"62",wildtype:"D",mutant:"S",Escape:-.0738,epitope:1,times_seen:4,effect:-.3691},{reference_site:"62",wildtype:"D",mutant:"T",Escape:-.1156,epitope:1,times_seen:11,effect:.0298},{reference_site:"62",wildtype:"D",mutant:"V",Escape:-.0143,epitope:1,times_seen:1.5,effect:-1.458},{reference_site:"62",wildtype:"D",mutant:"Y",Escape:-.2661,epitope:1,times_seen:11.3333,effect:-.0616},{reference_site:"63",wildtype:"A",mutant:"C",Escape:-.0267,epitope:1,times_seen:2.3333,effect:-.5219},{reference_site:"63",wildtype:"A",mutant:"D",Escape:.1477,epitope:1,times_seen:10,effect:-.1661},{reference_site:"63",wildtype:"A",mutant:"E",Escape:.3342,epitope:1,times_seen:7.3333,effect:.1139},{reference_site:"63",wildtype:"A",mutant:"F",Escape:.0042,epitope:1,times_seen:4.6667,effect:-.2438},{reference_site:"63",wildtype:"A",mutant:"G",Escape:-.0171,epitope:1,times_seen:2.6667,effect:.0156},{reference_site:"63",wildtype:"A",mutant:"H",Escape:-.0223,epitope:1,times_seen:8,effect:.2353},{reference_site:"63",wildtype:"A",mutant:"I",Escape:-.0372,epitope:1,times_seen:4.3333,effect:-.142},{reference_site:"63",wildtype:"A",mutant:"K",Escape:.0332,epitope:1,times_seen:2,effect:-.4475},{reference_site:"63",wildtype:"A",mutant:"L",Escape:.0048,epitope:1,times_seen:2.3333,effect:-.0407},{reference_site:"63",wildtype:"A",mutant:"M",Escape:-.0051,epitope:1,times_seen:4.3333,effect:-.0202},{reference_site:"63",wildtype:"A",mutant:"N",Escape:.0302,epitope:1,times_seen:5,effect:-.3687},{reference_site:"63",wildtype:"A",mutant:"P",Escape:.0215,epitope:1,times_seen:4,effect:.0579},{reference_site:"63",wildtype:"A",mutant:"Q",Escape:-.0326,epitope:1,times_seen:2.3333,effect:-.049},{reference_site:"63",wildtype:"A",mutant:"R",Escape:-.0137,epitope:1,times_seen:1,effect:-.1335},{reference_site:"63",wildtype:"A",mutant:"S",Escape:.0347,epitope:1,times_seen:16.6667,effect:.0792},{reference_site:"63",wildtype:"A",mutant:"T",Escape:-.1291,epitope:1,times_seen:17.3333,effect:.129},{reference_site:"63",wildtype:"A",mutant:"V",Escape:-.0538,epitope:1,times_seen:7,effect:-.105},{reference_site:"63",wildtype:"A",mutant:"W",Escape:-.0165,epitope:1,times_seen:3,effect:-.1022},{reference_site:"63",wildtype:"A",mutant:"Y",Escape:-.0521,epitope:1,times_seen:5,effect:-.1189},{reference_site:"64",wildtype:"E",mutant:"A",Escape:-.0838,epitope:1,times_seen:3.3333,effect:-1.0086},{reference_site:"64",wildtype:"E",mutant:"C",Escape:3.4687,epitope:1,times_seen:1,effect:-2.8368},{reference_site:"64",wildtype:"E",mutant:"D",Escape:-.0661,epitope:1,times_seen:9,effect:-.512},{reference_site:"64",wildtype:"E",mutant:"G",Escape:-.0191,epitope:1,times_seen:2.3333,effect:-1.4481},{reference_site:"64",wildtype:"E",mutant:"H",Escape:1.2772,epitope:1,times_seen:1,effect:-.8737},{reference_site:"64",wildtype:"E",mutant:"I",Escape:.0089,epitope:1,times_seen:1,effect:-3.0863},{reference_site:"64",wildtype:"E",mutant:"K",Escape:-.0099,epitope:1,times_seen:1,effect:-1.754},{reference_site:"64",wildtype:"E",mutant:"L",Escape:-.0044,epitope:1,times_seen:1,effect:-2.3465},{reference_site:"64",wildtype:"E",mutant:"M",Escape:.0044,epitope:1,times_seen:1,effect:-2.7308},{reference_site:"64",wildtype:"E",mutant:"N",Escape:-.0659,epitope:1,times_seen:4.3333,effect:-.4594},{reference_site:"64",wildtype:"E",mutant:"Q",Escape:-.0017,epitope:1,times_seen:1,effect:-1.2174},{reference_site:"64",wildtype:"E",mutant:"R",Escape:-.1043,epitope:1,times_seen:2,effect:-1.1803},{reference_site:"64",wildtype:"E",mutant:"S",Escape:-.0058,epitope:1,times_seen:1,effect:-3.0664},{reference_site:"64",wildtype:"E",mutant:"T",Escape:-.0146,epitope:1,times_seen:1,effect:-1.0228},{reference_site:"64",wildtype:"E",mutant:"V",Escape:-.0037,epitope:1,times_seen:1,effect:-3.3127},{reference_site:"64",wildtype:"E",mutant:"Y",Escape:.019,epitope:1,times_seen:1,effect:-2.5172},{reference_site:"64",wildtype:"E",mutant:"*",Escape:.1681,epitope:1,times_seen:2,effect:-2.7521},{reference_site:"65",wildtype:"V",mutant:"A",Escape:-.0313,epitope:1,times_seen:3.6667,effect:-.2185},{reference_site:"65",wildtype:"V",mutant:"C",Escape:.0983,epitope:1,times_seen:1,effect:-1.6321},{reference_site:"65",wildtype:"V",mutant:"D",Escape:.0015,epitope:1,times_seen:1,effect:-2.7161},{reference_site:"65",wildtype:"V",mutant:"E",Escape:.02,epitope:1,times_seen:12,effect:.0482},{reference_site:"65",wildtype:"V",mutant:"F",Escape:.0115,epitope:1,times_seen:7.3333,effect:-.1449},{reference_site:"65",wildtype:"V",mutant:"G",Escape:-.0163,epitope:1,times_seen:2.6667,effect:-.0732},{reference_site:"65",wildtype:"V",mutant:"H",Escape:-.015,epitope:1,times_seen:2.3333,effect:-.4251},{reference_site:"65",wildtype:"V",mutant:"I",Escape:-.016,epitope:1,times_seen:2.5,effect:.0761},{reference_site:"65",wildtype:"V",mutant:"K",Escape:-.0836,epitope:1,times_seen:4.3333,effect:-.3692},{reference_site:"65",wildtype:"V",mutant:"L",Escape:-.0404,epitope:1,times_seen:5,effect:.118},{reference_site:"65",wildtype:"V",mutant:"M",Escape:-.1129,epitope:1,times_seen:11.6667,effect:-.0051},{reference_site:"65",wildtype:"V",mutant:"N",Escape:-.0229,epitope:1,times_seen:3.3333,effect:-.2411},{reference_site:"65",wildtype:"V",mutant:"P",Escape:-.0025,epitope:1,times_seen:1,effect:-.1466},{reference_site:"65",wildtype:"V",mutant:"Q",Escape:.0164,epitope:1,times_seen:3,effect:-.2436},{reference_site:"65",wildtype:"V",mutant:"S",Escape:-.0165,epitope:1,times_seen:2.5,effect:-.4724},{reference_site:"65",wildtype:"V",mutant:"T",Escape:-.0198,epitope:1,times_seen:4,effect:.01},{reference_site:"65",wildtype:"V",mutant:"W",Escape:-.046,epitope:1,times_seen:2.3333,effect:-.2198},{reference_site:"65",wildtype:"V",mutant:"Y",Escape:.0051,epitope:1,times_seen:7,effect:-.0461},{reference_site:"66",wildtype:"H",mutant:"A",Escape:.0067,epitope:1,times_seen:3.3333,effect:-.6359},{reference_site:"66",wildtype:"H",mutant:"F",Escape:.0733,epitope:1,times_seen:5.6667,effect:-.4639},{reference_site:"66",wildtype:"H",mutant:"G",Escape:-.0139,epitope:1,times_seen:1,effect:-.8967},{reference_site:"66",wildtype:"H",mutant:"I",Escape:.0414,epitope:1,times_seen:1.3333,effect:-2.1138},{reference_site:"66",wildtype:"H",mutant:"K",Escape:-.0012,epitope:1,times_seen:1,effect:-2.4687},{reference_site:"66",wildtype:"H",mutant:"L",Escape:.0279,epitope:1,times_seen:1.3333,effect:-2.7425},{reference_site:"66",wildtype:"H",mutant:"M",Escape:-.0106,epitope:1,times_seen:4.3333,effect:.0725},{reference_site:"66",wildtype:"H",mutant:"N",Escape:-.0068,epitope:1,times_seen:6.3333,effect:-.5412},{reference_site:"66",wildtype:"H",mutant:"P",Escape:.0493,epitope:1,times_seen:3,effect:-3.2914},{reference_site:"66",wildtype:"H",mutant:"Q",Escape:-.0417,epitope:1,times_seen:6.3333,effect:-1.0687},{reference_site:"66",wildtype:"H",mutant:"S",Escape:.0034,epitope:1,times_seen:1.6667,effect:-.4008},{reference_site:"66",wildtype:"H",mutant:"T",Escape:.0777,epitope:1,times_seen:4,effect:-.805},{reference_site:"66",wildtype:"H",mutant:"V",Escape:.0338,epitope:1,times_seen:1,effect:-1.4093},{reference_site:"66",wildtype:"H",mutant:"W",Escape:.0351,epitope:1,times_seen:1,effect:-1.6569},{reference_site:"66",wildtype:"H",mutant:"Y",Escape:.0272,epitope:1,times_seen:12.3333,effect:-.4876},{reference_site:"67",wildtype:"N",mutant:"C",Escape:.0149,epitope:1,times_seen:1,effect:-.6738},{reference_site:"67",wildtype:"N",mutant:"D",Escape:.0111,epitope:1,times_seen:1,effect:-1.3274},{reference_site:"67",wildtype:"N",mutant:"F",Escape:.0228,epitope:1,times_seen:1,effect:-3.3033},{reference_site:"67",wildtype:"N",mutant:"K",Escape:-.0172,epitope:1,times_seen:1,effect:-2.9558},{reference_site:"67",wildtype:"N",mutant:"M",Escape:-.0059,epitope:1,times_seen:1.6667,effect:-2.2534},{reference_site:"67",wildtype:"N",mutant:"Q",Escape:-.0103,epitope:1,times_seen:1,effect:-1.5836},{reference_site:"67",wildtype:"N",mutant:"S",Escape:-.024,epitope:1,times_seen:3,effect:-.1105},{reference_site:"67",wildtype:"N",mutant:"T",Escape:-.0495,epitope:1,times_seen:4.6667,effect:-.3663},{reference_site:"68",wildtype:"I",mutant:"A",Escape:.0023,epitope:1,times_seen:3,effect:-1.1386},{reference_site:"68",wildtype:"I",mutant:"L",Escape:-.0076,epitope:1,times_seen:3.3333,effect:.1652},{reference_site:"68",wildtype:"I",mutant:"M",Escape:-.0214,epitope:1,times_seen:5.6667,effect:-.2428},{reference_site:"68",wildtype:"I",mutant:"T",Escape:.0303,epitope:1,times_seen:2,effect:-1.634},{reference_site:"68",wildtype:"I",mutant:"V",Escape:-.009,epitope:1,times_seen:1.3333,effect:-.0158},{reference_site:"69",wildtype:"W",mutant:"C",Escape:.0727,epitope:1,times_seen:2,effect:-3.0226},{reference_site:"69",wildtype:"W",mutant:"F",Escape:.0025,epitope:1,times_seen:6,effect:-.5288},{reference_site:"69",wildtype:"W",mutant:"H",Escape:.0482,epitope:1,times_seen:2.5,effect:-3.1161},{reference_site:"69",wildtype:"W",mutant:"L",Escape:-.0078,epitope:1,times_seen:6,effect:-.9787},{reference_site:"69",wildtype:"W",mutant:"M",Escape:-.0291,epitope:1,times_seen:3.6667,effect:-.6426},{reference_site:"69",wildtype:"W",mutant:"N",Escape:.025,epitope:1,times_seen:1,effect:-2.6606},{reference_site:"69",wildtype:"W",mutant:"Y",Escape:.0125,epitope:1,times_seen:2,effect:-.3467},{reference_site:"69",wildtype:"W",mutant:"*",Escape:-.0108,epitope:1,times_seen:4,effect:-1.7737},{reference_site:"70",wildtype:"A",mutant:"C",Escape:.0248,epitope:1,times_seen:2,effect:-2.0659},{reference_site:"70",wildtype:"A",mutant:"D",Escape:.0217,epitope:1,times_seen:1.3333,effect:-3.1199},{reference_site:"70",wildtype:"A",mutant:"E",Escape:-.048,epitope:1,times_seen:2,effect:-1.9192},{reference_site:"70",wildtype:"A",mutant:"F",Escape:-.0136,epitope:1,times_seen:1,effect:-.2367},{reference_site:"70",wildtype:"A",mutant:"G",Escape:-.124,epitope:1,times_seen:3,effect:-1.0571},{reference_site:"70",wildtype:"A",mutant:"H",Escape:-.0517,epitope:1,times_seen:3,effect:-.8292},{reference_site:"70",wildtype:"A",mutant:"I",Escape:-.0361,epitope:1,times_seen:3,effect:-.3981},{reference_site:"70",wildtype:"A",mutant:"K",Escape:-.0463,epitope:1,times_seen:2.6667,effect:-1.245},{reference_site:"70",wildtype:"A",mutant:"L",Escape:-.0181,epitope:1,times_seen:2.3333,effect:-.0696},{reference_site:"70",wildtype:"A",mutant:"M",Escape:-.0181,epitope:1,times_seen:4.3333,effect:-.1148},{reference_site:"70",wildtype:"A",mutant:"N",Escape:-.0103,epitope:1,times_seen:1,effect:-.5655},{reference_site:"70",wildtype:"A",mutant:"Q",Escape:.3247,epitope:1,times_seen:2,effect:-.7947},{reference_site:"70",wildtype:"A",mutant:"R",Escape:-.005,epitope:1,times_seen:1,effect:-1.1531},{reference_site:"70",wildtype:"A",mutant:"S",Escape:-.0353,epitope:1,times_seen:9.6667,effect:-.3898},{reference_site:"70",wildtype:"A",mutant:"T",Escape:-.1644,epitope:1,times_seen:12.6667,effect:-.2073},{reference_site:"70",wildtype:"A",mutant:"V",Escape:.0273,epitope:1,times_seen:11.3333,effect:-.1628},{reference_site:"70",wildtype:"A",mutant:"W",Escape:.0043,epitope:1,times_seen:1.5,effect:-.7865},{reference_site:"70",wildtype:"A",mutant:"Y",Escape:-.01,epitope:1,times_seen:3,effect:-.6946},{reference_site:"71",wildtype:"T",mutant:"A",Escape:.0441,epitope:1,times_seen:1,effect:-.6521},{reference_site:"71",wildtype:"T",mutant:"G",Escape:-.0041,epitope:1,times_seen:1,effect:-1.0879},{reference_site:"71",wildtype:"T",mutant:"I",Escape:.0317,epitope:1,times_seen:10,effect:-1.2862},{reference_site:"71",wildtype:"T",mutant:"P",Escape:.0601,epitope:1,times_seen:2.3333,effect:-3.5431},{reference_site:"71",wildtype:"T",mutant:"S",Escape:.034,epitope:1,times_seen:4.3333,effect:-.2453},{reference_site:"72",wildtype:"H",mutant:"C",Escape:-.0099,epitope:1,times_seen:4.3333,effect:-1.2958},{reference_site:"72",wildtype:"H",mutant:"E",Escape:-.0134,epitope:1,times_seen:1.6667,effect:-.5757},{reference_site:"72",wildtype:"H",mutant:"G",Escape:-.022,epitope:1,times_seen:1.5,effect:-.6577},{reference_site:"72",wildtype:"H",mutant:"M",Escape:-.0154,epitope:1,times_seen:1.6667,effect:-.4149},{reference_site:"72",wildtype:"H",mutant:"N",Escape:-.0872,epitope:1,times_seen:24,effect:-.6494},{reference_site:"72",wildtype:"H",mutant:"P",Escape:.0142,epitope:1,times_seen:7.6667,effect:-2.171},{reference_site:"72",wildtype:"H",mutant:"Q",Escape:-.0569,epitope:1,times_seen:6.3333,effect:-.5788},{reference_site:"72",wildtype:"H",mutant:"R",Escape:-.0283,epitope:1,times_seen:1.5,effect:-1.1689},{reference_site:"72",wildtype:"H",mutant:"S",Escape:-.0299,epitope:1,times_seen:7.3333,effect:-.6412},{reference_site:"72",wildtype:"H",mutant:"T",Escape:.0181,epitope:1,times_seen:5.6667,effect:-.3076},{reference_site:"72",wildtype:"H",mutant:"W",Escape:.0148,epitope:1,times_seen:1.6667,effect:-.4236},{reference_site:"72",wildtype:"H",mutant:"Y",Escape:-.012,epitope:1,times_seen:8,effect:-.6466},{reference_site:"73",wildtype:"A",mutant:"C",Escape:.03,epitope:1,times_seen:1,effect:-1.7752},{reference_site:"73",wildtype:"A",mutant:"D",Escape:-.0044,epitope:1,times_seen:1,effect:-3.3628},{reference_site:"73",wildtype:"A",mutant:"E",Escape:-.0164,epitope:1,times_seen:2,effect:-.852},{reference_site:"73",wildtype:"A",mutant:"F",Escape:-.0504,epitope:1,times_seen:4,effect:-.7921},{reference_site:"73",wildtype:"A",mutant:"G",Escape:-.0229,epitope:1,times_seen:2,effect:-1.2243},{reference_site:"73",wildtype:"A",mutant:"H",Escape:-.005,epitope:1,times_seen:3.3333,effect:-1.4991},{reference_site:"73",wildtype:"A",mutant:"I",Escape:-.0275,epitope:1,times_seen:5,effect:-1.2028},{reference_site:"73",wildtype:"A",mutant:"K",Escape:.025,epitope:1,times_seen:1,effect:-2.1696},{reference_site:"73",wildtype:"A",mutant:"L",Escape:.0036,epitope:1,times_seen:1.3333,effect:-1.5867},{reference_site:"73",wildtype:"A",mutant:"M",Escape:4e-4,epitope:1,times_seen:1,effect:-.804},{reference_site:"73",wildtype:"A",mutant:"N",Escape:-.0095,epitope:1,times_seen:3,effect:-1.3988},{reference_site:"73",wildtype:"A",mutant:"S",Escape:-.0253,epitope:1,times_seen:2.3333,effect:-.8033},{reference_site:"73",wildtype:"A",mutant:"T",Escape:-.0307,epitope:1,times_seen:4.3333,effect:-1.5102},{reference_site:"73",wildtype:"A",mutant:"V",Escape:-.0214,epitope:1,times_seen:3,effect:-.6874},{reference_site:"73",wildtype:"A",mutant:"Y",Escape:-.0114,epitope:1,times_seen:10,effect:-.2972},{reference_site:"74",wildtype:"C",mutant:"F",Escape:-.0039,epitope:1,times_seen:1,effect:-1.8854},{reference_site:"74",wildtype:"C",mutant:"R",Escape:.0021,epitope:1,times_seen:1.5,effect:-3.0379},{reference_site:"74",wildtype:"C",mutant:"W",Escape:.0124,epitope:1,times_seen:1,effect:-2.9549},{reference_site:"74",wildtype:"C",mutant:"*",Escape:.0035,epitope:1,times_seen:1,effect:-2.6208},{reference_site:"75",wildtype:"V",mutant:"A",Escape:-.0544,epitope:1,times_seen:10,effect:-.8699},{reference_site:"75",wildtype:"V",mutant:"F",Escape:-.0099,epitope:1,times_seen:2.6667,effect:-1.5313},{reference_site:"75",wildtype:"V",mutant:"G",Escape:.0517,epitope:1,times_seen:1,effect:-3.0096},{reference_site:"75",wildtype:"V",mutant:"I",Escape:.0903,epitope:1,times_seen:11.3333,effect:.017},{reference_site:"75",wildtype:"V",mutant:"L",Escape:-.0124,epitope:1,times_seen:3,effect:-.9394},{reference_site:"75",wildtype:"V",mutant:"M",Escape:-.0495,epitope:1,times_seen:3,effect:-.6173},{reference_site:"75",wildtype:"V",mutant:"N",Escape:.0861,epitope:1,times_seen:2.3333,effect:-2.6395},{reference_site:"75",wildtype:"V",mutant:"P",Escape:-.005,epitope:1,times_seen:2,effect:-1.6741},{reference_site:"75",wildtype:"V",mutant:"S",Escape:-.0514,epitope:1,times_seen:4,effect:-1.3275},{reference_site:"75",wildtype:"V",mutant:"T",Escape:.0149,epitope:1,times_seen:5.3333,effect:-.5145},{reference_site:"76",wildtype:"P",mutant:"A",Escape:-.0076,epitope:1,times_seen:1,effect:-.8416},{reference_site:"76",wildtype:"P",mutant:"G",Escape:-.0059,epitope:1,times_seen:1,effect:-.3498},{reference_site:"76",wildtype:"P",mutant:"H",Escape:.0352,epitope:1,times_seen:2,effect:-3.6108},{reference_site:"76",wildtype:"P",mutant:"L",Escape:-.0029,epitope:1,times_seen:1,effect:-3.4048},{reference_site:"76",wildtype:"P",mutant:"S",Escape:.0118,epitope:1,times_seen:1,effect:-1.9609},{reference_site:"76",wildtype:"P",mutant:"T",Escape:.0148,epitope:1,times_seen:1.6667,effect:-2.995},{reference_site:"77",wildtype:"T",mutant:"A",Escape:.0284,epitope:1,times_seen:11,effect:-.0588},{reference_site:"77",wildtype:"T",mutant:"C",Escape:.0084,epitope:1,times_seen:3,effect:-.4292},{reference_site:"77",wildtype:"T",mutant:"F",Escape:.0152,epitope:1,times_seen:1.3333,effect:-1.903},{reference_site:"77",wildtype:"T",mutant:"G",Escape:-.0326,epitope:1,times_seen:2.6667,effect:.0417},{reference_site:"77",wildtype:"T",mutant:"H",Escape:.0076,epitope:1,times_seen:1,effect:-1.0353},{reference_site:"77",wildtype:"T",mutant:"I",Escape:-.03,epitope:1,times_seen:9.3333,effect:-.3937},{reference_site:"77",wildtype:"T",mutant:"K",Escape:-.0033,epitope:1,times_seen:1,effect:-2.5356},{reference_site:"77",wildtype:"T",mutant:"M",Escape:-.0409,epitope:1,times_seen:2,effect:-.5061},{reference_site:"77",wildtype:"T",mutant:"N",Escape:-.0161,epitope:1,times_seen:8,effect:-.3953},{reference_site:"77",wildtype:"T",mutant:"P",Escape:.0155,epitope:1,times_seen:1,effect:-3.2497},{reference_site:"77",wildtype:"T",mutant:"Q",Escape:.0227,epitope:1,times_seen:1,effect:-.8928},{reference_site:"77",wildtype:"T",mutant:"S",Escape:.0115,epitope:1,times_seen:5,effect:-.3391},{reference_site:"77",wildtype:"T",mutant:"V",Escape:-.0077,epitope:1,times_seen:1,effect:-.3563},{reference_site:"77",wildtype:"T",mutant:"Y",Escape:.0053,epitope:1,times_seen:1,effect:-1.8314},{reference_site:"78",wildtype:"D",mutant:"A",Escape:-.007,epitope:1,times_seen:6,effect:-.4477},{reference_site:"78",wildtype:"D",mutant:"C",Escape:-.0118,epitope:1,times_seen:4,effect:-1.0581},{reference_site:"78",wildtype:"D",mutant:"E",Escape:.0323,epitope:1,times_seen:3.6667,effect:-.1607},{reference_site:"78",wildtype:"D",mutant:"F",Escape:-.0081,epitope:1,times_seen:2.3333,effect:-1.9714},{reference_site:"78",wildtype:"D",mutant:"G",Escape:-.0154,epitope:1,times_seen:3.5,effect:-1.572},{reference_site:"78",wildtype:"D",mutant:"H",Escape:-.0182,epitope:1,times_seen:3,effect:-.2974},{reference_site:"78",wildtype:"D",mutant:"I",Escape:-.0024,epitope:1,times_seen:2.6667,effect:-.7111},{reference_site:"78",wildtype:"D",mutant:"K",Escape:-.0116,epitope:1,times_seen:4.3333,effect:-.2337},{reference_site:"78",wildtype:"D",mutant:"L",Escape:-.0139,epitope:1,times_seen:1,effect:-.2905},{reference_site:"78",wildtype:"D",mutant:"M",Escape:-.0216,epitope:1,times_seen:3.6667,effect:-.642},{reference_site:"78",wildtype:"D",mutant:"N",Escape:-.0213,epitope:1,times_seen:8.3333,effect:-.2218},{reference_site:"78",wildtype:"D",mutant:"P",Escape:.0537,epitope:1,times_seen:2,effect:-2.7857},{reference_site:"78",wildtype:"D",mutant:"Q",Escape:.0041,epitope:1,times_seen:1,effect:-.8013},{reference_site:"78",wildtype:"D",mutant:"R",Escape:.0012,epitope:1,times_seen:1,effect:-1.1731},{reference_site:"78",wildtype:"D",mutant:"S",Escape:-.0131,epitope:1,times_seen:5.3333,effect:-.2472},{reference_site:"78",wildtype:"D",mutant:"T",Escape:-.023,epitope:1,times_seen:7.6667,effect:-.1081},{reference_site:"78",wildtype:"D",mutant:"V",Escape:-.0239,epitope:1,times_seen:1,effect:-.9988},{reference_site:"78",wildtype:"D",mutant:"W",Escape:.0248,epitope:1,times_seen:1,effect:-1.7916},{reference_site:"78",wildtype:"D",mutant:"Y",Escape:-.0605,epitope:1,times_seen:7.6667,effect:-1.042},{reference_site:"79",wildtype:"P",mutant:"A",Escape:.008,epitope:1,times_seen:1.6667,effect:-.44},{reference_site:"79",wildtype:"P",mutant:"C",Escape:-.0182,epitope:1,times_seen:1,effect:-1.8432},{reference_site:"79",wildtype:"P",mutant:"D",Escape:.0102,epitope:1,times_seen:1,effect:-2.4398},{reference_site:"79",wildtype:"P",mutant:"E",Escape:7e-4,epitope:1,times_seen:1,effect:-2.7304},{reference_site:"79",wildtype:"P",mutant:"F",Escape:.5604,epitope:1,times_seen:1.3333,effect:-1.1729},{reference_site:"79",wildtype:"P",mutant:"H",Escape:.1201,epitope:1,times_seen:8.6667,effect:-.9116},{reference_site:"79",wildtype:"P",mutant:"I",Escape:-.0954,epitope:1,times_seen:7,effect:-.7676},{reference_site:"79",wildtype:"P",mutant:"L",Escape:-.0154,epitope:1,times_seen:3.3333,effect:-.3394},{reference_site:"79",wildtype:"P",mutant:"M",Escape:.0033,epitope:1,times_seen:2.3333,effect:-.9824},{reference_site:"79",wildtype:"P",mutant:"N",Escape:.014,epitope:1,times_seen:2,effect:-1.0222},{reference_site:"79",wildtype:"P",mutant:"Q",Escape:.0283,epitope:1,times_seen:1,effect:-2.2198},{reference_site:"79",wildtype:"P",mutant:"S",Escape:.0693,epitope:1,times_seen:5,effect:-.7046},{reference_site:"79",wildtype:"P",mutant:"T",Escape:-.1236,epitope:1,times_seen:12.6667,effect:-.3606},{reference_site:"79",wildtype:"P",mutant:"V",Escape:-.0155,epitope:1,times_seen:1.3333,effect:-.2138},{reference_site:"79",wildtype:"P",mutant:"W",Escape:.1064,epitope:1,times_seen:1.5,effect:-.0509},{reference_site:"79",wildtype:"P",mutant:"Y",Escape:-.033,epitope:1,times_seen:2.3333,effect:-1.1025},{reference_site:"80",wildtype:"N",mutant:"C",Escape:-.0232,epitope:1,times_seen:1,effect:-.6103},{reference_site:"80",wildtype:"N",mutant:"D",Escape:.1151,epitope:1,times_seen:2.6667,effect:-.0481},{reference_site:"80",wildtype:"N",mutant:"E",Escape:-.0087,epitope:1,times_seen:2.3333,effect:-.0085},{reference_site:"80",wildtype:"N",mutant:"F",Escape:-.0411,epitope:1,times_seen:3.3333,effect:-.2171},{reference_site:"80",wildtype:"N",mutant:"G",Escape:.0076,epitope:1,times_seen:1,effect:-.6407},{reference_site:"80",wildtype:"N",mutant:"H",Escape:-.0332,epitope:1,times_seen:2.3333,effect:-.361},{reference_site:"80",wildtype:"N",mutant:"I",Escape:.0971,epitope:1,times_seen:4.3333,effect:-.6652},{reference_site:"80",wildtype:"N",mutant:"K",Escape:.0135,epitope:1,times_seen:4.6667,effect:-.214},{reference_site:"80",wildtype:"N",mutant:"L",Escape:-.0306,epitope:1,times_seen:2,effect:.4334},{reference_site:"80",wildtype:"N",mutant:"M",Escape:-.0366,epitope:1,times_seen:5,effect:-.2846},{reference_site:"80",wildtype:"N",mutant:"Q",Escape:-.0235,epitope:1,times_seen:2,effect:-.1121},{reference_site:"80",wildtype:"N",mutant:"S",Escape:-.0583,epitope:1,times_seen:2,effect:.4884},{reference_site:"80",wildtype:"N",mutant:"T",Escape:-.0543,epitope:1,times_seen:6,effect:-.1897},{reference_site:"80",wildtype:"N",mutant:"V",Escape:-.0049,epitope:1,times_seen:1.3333,effect:-.3834},{reference_site:"80",wildtype:"N",mutant:"W",Escape:.0239,epitope:1,times_seen:1,effect:-.4463},{reference_site:"80",wildtype:"N",mutant:"Y",Escape:.0324,epitope:1,times_seen:4.6667,effect:-.2382},{reference_site:"81",wildtype:"P",mutant:"A",Escape:.0207,epitope:1,times_seen:4,effect:-.6313},{reference_site:"81",wildtype:"P",mutant:"C",Escape:-.0064,epitope:1,times_seen:2.6667,effect:-1.6266},{reference_site:"81",wildtype:"P",mutant:"D",Escape:-.0268,epitope:1,times_seen:3.3333,effect:-.8372},{reference_site:"81",wildtype:"P",mutant:"E",Escape:-.003,epitope:1,times_seen:1,effect:-.8303},{reference_site:"81",wildtype:"P",mutant:"F",Escape:.1019,epitope:1,times_seen:1,effect:-.8678},{reference_site:"81",wildtype:"P",mutant:"G",Escape:-.0484,epitope:1,times_seen:1.5,effect:-.8519},{reference_site:"81",wildtype:"P",mutant:"H",Escape:-.2188,epitope:1,times_seen:7,effect:-1.0498},{reference_site:"81",wildtype:"P",mutant:"I",Escape:-.0139,epitope:1,times_seen:1,effect:-1.9953},{reference_site:"81",wildtype:"P",mutant:"K",Escape:.0509,epitope:1,times_seen:2,effect:-1.2878},{reference_site:"81",wildtype:"P",mutant:"L",Escape:-.0186,epitope:1,times_seen:2,effect:-1.7462},{reference_site:"81",wildtype:"P",mutant:"M",Escape:.0324,epitope:1,times_seen:2,effect:-1.3742},{reference_site:"81",wildtype:"P",mutant:"N",Escape:.4448,epitope:1,times_seen:1.6667,effect:-1.5388},{reference_site:"81",wildtype:"P",mutant:"Q",Escape:-.027,epitope:1,times_seen:2,effect:-1.8228},{reference_site:"81",wildtype:"P",mutant:"R",Escape:-.0104,epitope:1,times_seen:1.3333,effect:-1.0493},{reference_site:"81",wildtype:"P",mutant:"S",Escape:-.003,epitope:1,times_seen:2,effect:-1.0987},{reference_site:"81",wildtype:"P",mutant:"T",Escape:-.0073,epitope:1,times_seen:2,effect:-.6749},{reference_site:"81",wildtype:"P",mutant:"V",Escape:-.0078,epitope:1,times_seen:2.3333,effect:-1.3388},{reference_site:"81",wildtype:"P",mutant:"W",Escape:.0158,epitope:1,times_seen:1,effect:-2.7332},{reference_site:"81",wildtype:"P",mutant:"Y",Escape:.1967,epitope:1,times_seen:4.3333,effect:-.8134},{reference_site:"82",wildtype:"Q",mutant:"A",Escape:.0103,epitope:1,times_seen:5.3333,effect:-.3364},{reference_site:"82",wildtype:"Q",mutant:"C",Escape:-.0097,epitope:1,times_seen:2.6667,effect:-.3378},{reference_site:"82",wildtype:"Q",mutant:"D",Escape:-.0129,epitope:1,times_seen:1,effect:-.7484},{reference_site:"82",wildtype:"Q",mutant:"E",Escape:.0455,epitope:1,times_seen:3.6667,effect:-.4023},{reference_site:"82",wildtype:"Q",mutant:"F",Escape:.0045,epitope:1,times_seen:3.3333,effect:.0044},{reference_site:"82",wildtype:"Q",mutant:"G",Escape:.0219,epitope:1,times_seen:4.3333,effect:-.815},{reference_site:"82",wildtype:"Q",mutant:"H",Escape:-.0045,epitope:1,times_seen:7.6667,effect:.0177},{reference_site:"82",wildtype:"Q",mutant:"I",Escape:.0114,epitope:1,times_seen:3.3333,effect:-.0286},{reference_site:"82",wildtype:"Q",mutant:"K",Escape:-.0671,epitope:1,times_seen:10.3333,effect:-.275},{reference_site:"82",wildtype:"Q",mutant:"L",Escape:.1242,epitope:1,times_seen:8.6667,effect:-.3232},{reference_site:"82",wildtype:"Q",mutant:"M",Escape:-.0193,epitope:1,times_seen:6.6667,effect:.0671},{reference_site:"82",wildtype:"Q",mutant:"N",Escape:-.0162,epitope:1,times_seen:3,effect:.2937},{reference_site:"82",wildtype:"Q",mutant:"P",Escape:.0858,epitope:1,times_seen:3,effect:-1.9728},{reference_site:"82",wildtype:"Q",mutant:"R",Escape:-.0066,epitope:1,times_seen:12,effect:.1332},{reference_site:"82",wildtype:"Q",mutant:"S",Escape:-.0192,epitope:1,times_seen:2,effect:-.063},{reference_site:"82",wildtype:"Q",mutant:"T",Escape:-.0104,epitope:1,times_seen:3,effect:-.1537},{reference_site:"82",wildtype:"Q",mutant:"V",Escape:-.0382,epitope:1,times_seen:3.6667,effect:-.1566},{reference_site:"82",wildtype:"Q",mutant:"W",Escape:.0171,epitope:1,times_seen:3,effect:-.0926},{reference_site:"82",wildtype:"Q",mutant:"Y",Escape:-.0148,epitope:1,times_seen:2.6667,effect:-.2816},{reference_site:"83",wildtype:"E",mutant:"A",Escape:.0264,epitope:1,times_seen:2,effect:-.5136},{reference_site:"83",wildtype:"E",mutant:"D",Escape:.0093,epitope:1,times_seen:6,effect:-.6558},{reference_site:"83",wildtype:"E",mutant:"Q",Escape:.0132,epitope:1,times_seen:2.6667,effect:-1.4246},{reference_site:"83",wildtype:"E",mutant:"*",Escape:.0162,epitope:1,times_seen:1,effect:-3.1516},{reference_site:"84",wildtype:"I",mutant:"A",Escape:-.035,epitope:1,times_seen:2.6667,effect:-1.1122},{reference_site:"84",wildtype:"I",mutant:"C",Escape:.0077,epitope:1,times_seen:1.6667,effect:-.9011},{reference_site:"84",wildtype:"I",mutant:"D",Escape:.001,epitope:1,times_seen:1.6667,effect:-.0947},{reference_site:"84",wildtype:"I",mutant:"E",Escape:5e-4,epitope:1,times_seen:1,effect:-1.957},{reference_site:"84",wildtype:"I",mutant:"F",Escape:.0052,epitope:1,times_seen:4.3333,effect:-.071},{reference_site:"84",wildtype:"I",mutant:"G",Escape:-.0056,epitope:1,times_seen:1.6667,effect:-1.1186},{reference_site:"84",wildtype:"I",mutant:"H",Escape:.0013,epitope:1,times_seen:1,effect:-.3327},{reference_site:"84",wildtype:"I",mutant:"K",Escape:-.0091,epitope:1,times_seen:1,effect:-2.14},{reference_site:"84",wildtype:"I",mutant:"L",Escape:-.0214,epitope:1,times_seen:1.5,effect:-.4474},{reference_site:"84",wildtype:"I",mutant:"M",Escape:-.019,epitope:1,times_seen:2.3333,effect:-.0244},{reference_site:"84",wildtype:"I",mutant:"Q",Escape:.03,epitope:1,times_seen:4,effect:-1.0079},{reference_site:"84",wildtype:"I",mutant:"R",Escape:.042,epitope:1,times_seen:1,effect:-.7439},{reference_site:"84",wildtype:"I",mutant:"S",Escape:-.018,epitope:1,times_seen:2.3333,effect:-.6806},{reference_site:"84",wildtype:"I",mutant:"T",Escape:-.0466,epitope:1,times_seen:4.6667,effect:-.2844},{reference_site:"84",wildtype:"I",mutant:"V",Escape:-.0086,epitope:1,times_seen:3.3333,effect:-.0989},{reference_site:"84",wildtype:"I",mutant:"W",Escape:-.0062,epitope:1,times_seen:2.3333,effect:-.3515},{reference_site:"84",wildtype:"I",mutant:"Y",Escape:.0261,epitope:1,times_seen:7.6667,effect:.1085},{reference_site:"85",wildtype:"N",mutant:"A",Escape:-.013,epitope:1,times_seen:1.3333,effect:.3183},{reference_site:"85",wildtype:"N",mutant:"C",Escape:.0045,epitope:1,times_seen:2,effect:-.6776},{reference_site:"85",wildtype:"N",mutant:"D",Escape:-.0077,epitope:1,times_seen:3.6667,effect:-.2836},{reference_site:"85",wildtype:"N",mutant:"E",Escape:.0043,epitope:1,times_seen:6.6667,effect:-.0145},{reference_site:"85",wildtype:"N",mutant:"F",Escape:-.0112,epitope:1,times_seen:7.3333,effect:.1163},{reference_site:"85",wildtype:"N",mutant:"H",Escape:-7e-4,epitope:1,times_seen:1,effect:-.9094},{reference_site:"85",wildtype:"N",mutant:"I",Escape:-.0172,epitope:1,times_seen:1.6667,effect:-.5367},{reference_site:"85",wildtype:"N",mutant:"K",Escape:-.03,epitope:1,times_seen:6.6667,effect:.0555},{reference_site:"85",wildtype:"N",mutant:"L",Escape:.0026,epitope:1,times_seen:2.6667,effect:.0083},{reference_site:"85",wildtype:"N",mutant:"M",Escape:.0147,epitope:1,times_seen:2,effect:-.063},{reference_site:"85",wildtype:"N",mutant:"P",Escape:.0321,epitope:1,times_seen:1,effect:-.4642},{reference_site:"85",wildtype:"N",mutant:"Q",Escape:.0029,epitope:1,times_seen:1,effect:.0734},{reference_site:"85",wildtype:"N",mutant:"R",Escape:.002,epitope:1,times_seen:1,effect:-.1489},{reference_site:"85",wildtype:"N",mutant:"S",Escape:.0031,epitope:1,times_seen:2.3333,effect:-.234},{reference_site:"85",wildtype:"N",mutant:"T",Escape:-.0145,epitope:1,times_seen:3.3333,effect:-.0784},{reference_site:"85",wildtype:"N",mutant:"V",Escape:-.0097,epitope:1,times_seen:1,effect:-.4948},{reference_site:"85",wildtype:"N",mutant:"W",Escape:.0028,epitope:1,times_seen:3.3333,effect:.0375},{reference_site:"85",wildtype:"N",mutant:"Y",Escape:.0055,epitope:1,times_seen:2.6667,effect:.1684},{reference_site:"86",wildtype:"L",mutant:"C",Escape:.0141,epitope:1,times_seen:2.6667,effect:-1.4561},{reference_site:"86",wildtype:"L",mutant:"F",Escape:.0198,epitope:1,times_seen:1,effect:-.9651},{reference_site:"86",wildtype:"L",mutant:"I",Escape:.0086,epitope:1,times_seen:3,effect:-.0349},{reference_site:"86",wildtype:"L",mutant:"M",Escape:.0386,epitope:1,times_seen:6,effect:.0958},{reference_site:"86",wildtype:"L",mutant:"Q",Escape:.0108,epitope:1,times_seen:1.3333,effect:-2.4048},{reference_site:"86",wildtype:"L",mutant:"S",Escape:.0081,epitope:1,times_seen:1.3333,effect:-3.1443},{reference_site:"86",wildtype:"L",mutant:"V",Escape:-7e-4,epitope:1,times_seen:7.3333,effect:-.145},{reference_site:"87",wildtype:"E",mutant:"A",Escape:-.0103,epitope:1,times_seen:2.3333,effect:-.0029},{reference_site:"87",wildtype:"E",mutant:"C",Escape:.024,epitope:1,times_seen:7,effect:-.4479},{reference_site:"87",wildtype:"E",mutant:"D",Escape:-.0583,epitope:1,times_seen:14.3333,effect:-.1473},{reference_site:"87",wildtype:"E",mutant:"F",Escape:-.0081,epitope:1,times_seen:2,effect:-.0523},{reference_site:"87",wildtype:"E",mutant:"G",Escape:-.002,epitope:1,times_seen:5.3333,effect:-.0683},{reference_site:"87",wildtype:"E",mutant:"H",Escape:.0287,epitope:1,times_seen:5,effect:-.11},{reference_site:"87",wildtype:"E",mutant:"I",Escape:.0127,epitope:1,times_seen:4,effect:-.0254},{reference_site:"87",wildtype:"E",mutant:"K",Escape:.0645,epitope:1,times_seen:13,effect:.0107},{reference_site:"87",wildtype:"E",mutant:"L",Escape:-.0098,epitope:1,times_seen:7,effect:-.0333},{reference_site:"87",wildtype:"E",mutant:"M",Escape:-.0082,epitope:1,times_seen:8,effect:.0891},{reference_site:"87",wildtype:"E",mutant:"N",Escape:-.0153,epitope:1,times_seen:3.6667,effect:-.0764},{reference_site:"87",wildtype:"E",mutant:"P",Escape:-.0013,epitope:1,times_seen:4.6667,effect:.1613},{reference_site:"87",wildtype:"E",mutant:"Q",Escape:0,epitope:1,times_seen:3.6667,effect:-.0884},{reference_site:"87",wildtype:"E",mutant:"R",Escape:.0065,epitope:1,times_seen:4,effect:-.2116},{reference_site:"87",wildtype:"E",mutant:"S",Escape:.0213,epitope:1,times_seen:6.6667,effect:-.045},{reference_site:"87",wildtype:"E",mutant:"T",Escape:.04,epitope:1,times_seen:4.3333,effect:-.0535},{reference_site:"87",wildtype:"E",mutant:"V",Escape:.0067,epitope:1,times_seen:6.3333,effect:-.1682},{reference_site:"87",wildtype:"E",mutant:"W",Escape:-.0048,epitope:1,times_seen:6.6667,effect:-.3545},{reference_site:"87",wildtype:"E",mutant:"Y",Escape:-.0231,epitope:1,times_seen:8,effect:-.079},{reference_site:"87",wildtype:"E",mutant:"*",Escape:.0371,epitope:1,times_seen:1.3333,effect:-3.496},{reference_site:"88",wildtype:"N",mutant:"A",Escape:-.0024,epitope:1,times_seen:1,effect:-.4249},{reference_site:"88",wildtype:"N",mutant:"C",Escape:-.0109,epitope:1,times_seen:3.3333,effect:-1.2959},{reference_site:"88",wildtype:"N",mutant:"D",Escape:-.0214,epitope:1,times_seen:1.6667,effect:-1.008},{reference_site:"88",wildtype:"N",mutant:"E",Escape:-.0346,epitope:1,times_seen:3.5,effect:-.8274},{reference_site:"88",wildtype:"N",mutant:"F",Escape:-.008,epitope:1,times_seen:1,effect:-.19},{reference_site:"88",wildtype:"N",mutant:"H",Escape:-.011,epitope:1,times_seen:1.6667,effect:-.306},{reference_site:"88",wildtype:"N",mutant:"I",Escape:-.0023,epitope:1,times_seen:2,effect:-2.294},{reference_site:"88",wildtype:"N",mutant:"K",Escape:.033,epitope:1,times_seen:7.3333,effect:-.8417},{reference_site:"88",wildtype:"N",mutant:"L",Escape:-.0061,epitope:1,times_seen:1,effect:-.3362},{reference_site:"88",wildtype:"N",mutant:"M",Escape:-.0078,epitope:1,times_seen:3,effect:-.6499},{reference_site:"88",wildtype:"N",mutant:"P",Escape:-.0149,epitope:1,times_seen:2,effect:-1.9311},{reference_site:"88",wildtype:"N",mutant:"Q",Escape:-.0058,epitope:1,times_seen:1,effect:-.2933},{reference_site:"88",wildtype:"N",mutant:"R",Escape:-2e-4,epitope:1,times_seen:4,effect:-.3437},{reference_site:"88",wildtype:"N",mutant:"S",Escape:-.0122,epitope:1,times_seen:1.3333,effect:-.3595},{reference_site:"88",wildtype:"N",mutant:"W",Escape:-.0036,epitope:1,times_seen:1,effect:-.2397},{reference_site:"88",wildtype:"N",mutant:"Y",Escape:-.0144,epitope:1,times_seen:1.6667,effect:-.7516},{reference_site:"89",wildtype:"V",mutant:"A",Escape:-.0073,epitope:1,times_seen:2.3333,effect:-1.4517},{reference_site:"89",wildtype:"V",mutant:"H",Escape:-.011,epitope:1,times_seen:2.6667,effect:-.7989},{reference_site:"89",wildtype:"V",mutant:"I",Escape:.0126,epitope:1,times_seen:4,effect:-.2185},{reference_site:"89",wildtype:"V",mutant:"L",Escape:-.0228,epitope:1,times_seen:4.6667,effect:-.4901},{reference_site:"89",wildtype:"V",mutant:"M",Escape:-.002,epitope:1,times_seen:3.6667,effect:-1.8725},{reference_site:"90",wildtype:"T",mutant:"A",Escape:-.0021,epitope:1,times_seen:3.3333,effect:-.2148},{reference_site:"90",wildtype:"T",mutant:"C",Escape:-5e-4,epitope:1,times_seen:3,effect:-1.1329},{reference_site:"90",wildtype:"T",mutant:"D",Escape:-.0286,epitope:1,times_seen:6,effect:-.6891},{reference_site:"90",wildtype:"T",mutant:"E",Escape:-.0186,epitope:1,times_seen:3.6667,effect:-.3863},{reference_site:"90",wildtype:"T",mutant:"F",Escape:-.0053,epitope:1,times_seen:3.6667,effect:-.146},{reference_site:"90",wildtype:"T",mutant:"G",Escape:-.0117,epitope:1,times_seen:6,effect:-.1355},{reference_site:"90",wildtype:"T",mutant:"H",Escape:-.0136,epitope:1,times_seen:4.6667,effect:-.2061},{reference_site:"90",wildtype:"T",mutant:"I",Escape:.0411,epitope:1,times_seen:4.3333,effect:-.5143},{reference_site:"90",wildtype:"T",mutant:"K",Escape:-.0268,epitope:1,times_seen:3,effect:-.0613},{reference_site:"90",wildtype:"T",mutant:"L",Escape:-.0425,epitope:1,times_seen:4,effect:-.2203},{reference_site:"90",wildtype:"T",mutant:"M",Escape:-.0188,epitope:1,times_seen:2.3333,effect:-.7375},{reference_site:"90",wildtype:"T",mutant:"N",Escape:.0197,epitope:1,times_seen:3.3333,effect:-.0198},{reference_site:"90",wildtype:"T",mutant:"Q",Escape:-.0051,epitope:1,times_seen:1.6667,effect:-.6919},{reference_site:"90",wildtype:"T",mutant:"R",Escape:-.0098,epitope:1,times_seen:2,effect:-.5595},{reference_site:"90",wildtype:"T",mutant:"S",Escape:-.0114,epitope:1,times_seen:2.3333,effect:.129},{reference_site:"90",wildtype:"T",mutant:"V",Escape:-.0166,epitope:1,times_seen:2.6667,effect:-.4218},{reference_site:"90",wildtype:"T",mutant:"Y",Escape:.0027,epitope:1,times_seen:1,effect:-.9705},{reference_site:"91",wildtype:"E",mutant:"A",Escape:.0173,epitope:1,times_seen:2,effect:-1.9687},{reference_site:"91",wildtype:"E",mutant:"D",Escape:.0446,epitope:1,times_seen:6,effect:-1.6056},{reference_site:"91",wildtype:"E",mutant:"K",Escape:.0276,epitope:1,times_seen:3.5,effect:-3.5753},{reference_site:"91",wildtype:"E",mutant:"Q",Escape:-.0113,epitope:1,times_seen:5,effect:-.6172},{reference_site:"91",wildtype:"E",mutant:"S",Escape:-.009,epitope:1,times_seen:1.6667,effect:-1.3301},{reference_site:"91",wildtype:"E",mutant:"T",Escape:-.0267,epitope:1,times_seen:2.6667,effect:-.894},{reference_site:"91",wildtype:"E",mutant:"V",Escape:3e-4,epitope:1,times_seen:1.3333,effect:-1.5172},{reference_site:"91",wildtype:"E",mutant:"W",Escape:-.0247,epitope:1,times_seen:2.6667,effect:-.4912},{reference_site:"91",wildtype:"E",mutant:"Y",Escape:-.0087,epitope:1,times_seen:3,effect:-1.052},{reference_site:"91",wildtype:"E",mutant:"*",Escape:.0094,epitope:1,times_seen:1,effect:-3.4023},{reference_site:"92",wildtype:"E",mutant:"A",Escape:.0071,epitope:1,times_seen:3,effect:-.4275},{reference_site:"92",wildtype:"E",mutant:"C",Escape:-.0495,epitope:1,times_seen:3,effect:-.409},{reference_site:"92",wildtype:"E",mutant:"D",Escape:-.0034,epitope:1,times_seen:5,effect:-.084},{reference_site:"92",wildtype:"E",mutant:"F",Escape:.0095,epitope:1,times_seen:1,effect:.3492},{reference_site:"92",wildtype:"E",mutant:"G",Escape:-.0029,epitope:1,times_seen:2,effect:-.2227},{reference_site:"92",wildtype:"E",mutant:"H",Escape:-.0033,epitope:1,times_seen:4,effect:-.3248},{reference_site:"92",wildtype:"E",mutant:"I",Escape:-.0138,epitope:1,times_seen:1,effect:-.6248},{reference_site:"92",wildtype:"E",mutant:"K",Escape:-.0398,epitope:1,times_seen:8.3333,effect:-.0158},{reference_site:"92",wildtype:"E",mutant:"L",Escape:-.0591,epitope:1,times_seen:4.6667,effect:.0536},{reference_site:"92",wildtype:"E",mutant:"M",Escape:-.0193,epitope:1,times_seen:3.6667,effect:.0741},{reference_site:"92",wildtype:"E",mutant:"N",Escape:-.0409,epitope:1,times_seen:3,effect:.0666},{reference_site:"92",wildtype:"E",mutant:"P",Escape:-.0265,epitope:1,times_seen:1,effect:.1361},{reference_site:"92",wildtype:"E",mutant:"Q",Escape:-.0131,epitope:1,times_seen:2.3333,effect:.125},{reference_site:"92",wildtype:"E",mutant:"R",Escape:-.0434,epitope:1,times_seen:5,effect:-.0587},{reference_site:"92",wildtype:"E",mutant:"S",Escape:-.0463,epitope:1,times_seen:4.6667,effect:-.4208},{reference_site:"92",wildtype:"E",mutant:"T",Escape:.0198,epitope:1,times_seen:3.3333,effect:-.0247},{reference_site:"92",wildtype:"E",mutant:"V",Escape:-.0233,epitope:1,times_seen:3,effect:.0062},{reference_site:"92",wildtype:"E",mutant:"W",Escape:-.0043,epitope:1,times_seen:6,effect:.1811},{reference_site:"92",wildtype:"E",mutant:"Y",Escape:-.0323,epitope:1,times_seen:4.3333,effect:-.0515},{reference_site:"92",wildtype:"E",mutant:"*",Escape:.0155,epitope:1,times_seen:1,effect:-3.1732},{reference_site:"93",wildtype:"F",mutant:"L",Escape:-6e-4,epitope:1,times_seen:4.3333,effect:-1.544},{reference_site:"93",wildtype:"F",mutant:"Y",Escape:-.0133,epitope:1,times_seen:5.3333,effect:-.2233},{reference_site:"94",wildtype:"N",mutant:"A",Escape:0,epitope:1,times_seen:1,effect:-1.0867},{reference_site:"94",wildtype:"N",mutant:"D",Escape:.0329,epitope:1,times_seen:6.6667,effect:-.2644},{reference_site:"94",wildtype:"N",mutant:"E",Escape:-.0098,epitope:1,times_seen:4.3333,effect:-.6488},{reference_site:"94",wildtype:"N",mutant:"F",Escape:-.0122,epitope:1,times_seen:1,effect:-.968},{reference_site:"94",wildtype:"N",mutant:"H",Escape:.0305,epitope:1,times_seen:2,effect:-.3417},{reference_site:"94",wildtype:"N",mutant:"K",Escape:-.0292,epitope:1,times_seen:2.3333,effect:-.982},{reference_site:"94",wildtype:"N",mutant:"L",Escape:.0029,epitope:1,times_seen:1,effect:-.8569},{reference_site:"94",wildtype:"N",mutant:"M",Escape:-.0032,epitope:1,times_seen:3.6667,effect:-1.456},{reference_site:"94",wildtype:"N",mutant:"Q",Escape:-1e-4,epitope:1,times_seen:1,effect:-.4989},{reference_site:"94",wildtype:"N",mutant:"S",Escape:-.024,epitope:1,times_seen:5.3333,effect:-.6594},{reference_site:"94",wildtype:"N",mutant:"T",Escape:-.0023,epitope:1,times_seen:2.6667,effect:-.4575},{reference_site:"95",wildtype:"M",mutant:"A",Escape:.0021,epitope:1,times_seen:2,effect:-2.1893},{reference_site:"95",wildtype:"M",mutant:"C",Escape:-.0127,epitope:1,times_seen:4,effect:-.5046},{reference_site:"95",wildtype:"M",mutant:"F",Escape:-.0063,epitope:1,times_seen:1,effect:-1.5071},{reference_site:"95",wildtype:"M",mutant:"G",Escape:-.0364,epitope:1,times_seen:2,effect:-.4203},{reference_site:"95",wildtype:"M",mutant:"I",Escape:.0158,epitope:1,times_seen:6.6667,effect:-.3274},{reference_site:"95",wildtype:"M",mutant:"L",Escape:.2299,epitope:1,times_seen:4.6667,effect:-.1659},{reference_site:"95",wildtype:"M",mutant:"R",Escape:.0484,epitope:1,times_seen:1,effect:-1.5072},{reference_site:"95",wildtype:"M",mutant:"S",Escape:-.0068,epitope:1,times_seen:5.6667,effect:-.5747},{reference_site:"95",wildtype:"M",mutant:"T",Escape:.0049,epitope:1,times_seen:8,effect:-1.2361},{reference_site:"95",wildtype:"M",mutant:"V",Escape:.0157,epitope:1,times_seen:5.3333,effect:-.1137},{reference_site:"96",wildtype:"W",mutant:"C",Escape:.0096,epitope:1,times_seen:3,effect:-3.0913},{reference_site:"96",wildtype:"W",mutant:"F",Escape:-.0092,epitope:1,times_seen:1.3333,effect:-.5699},{reference_site:"96",wildtype:"W",mutant:"H",Escape:.0098,epitope:1,times_seen:1,effect:-.8212},{reference_site:"96",wildtype:"W",mutant:"L",Escape:.0258,epitope:1,times_seen:3,effect:-3.0922},{reference_site:"96",wildtype:"W",mutant:"Y",Escape:.0653,epitope:1,times_seen:8,effect:-.2525},{reference_site:"96",wildtype:"W",mutant:"*",Escape:-.0031,epitope:1,times_seen:2.6667,effect:-3.0173},{reference_site:"97",wildtype:"K",mutant:"A",Escape:.0446,epitope:1,times_seen:3.3333,effect:-.2991},{reference_site:"97",wildtype:"K",mutant:"C",Escape:.4328,epitope:1,times_seen:3.3333,effect:-1.6148},{reference_site:"97",wildtype:"K",mutant:"D",Escape:.216,epitope:1,times_seen:4,effect:-.762},{reference_site:"97",wildtype:"K",mutant:"E",Escape:.2431,epitope:1,times_seen:6,effect:-.4401},{reference_site:"97",wildtype:"K",mutant:"F",Escape:.0415,epitope:1,times_seen:6.3333,effect:-1.087},{reference_site:"97",wildtype:"K",mutant:"G",Escape:.2645,epitope:1,times_seen:5.3333,effect:-.1337},{reference_site:"97",wildtype:"K",mutant:"H",Escape:-.0129,epitope:1,times_seen:4.3333,effect:-.2492},{reference_site:"97",wildtype:"K",mutant:"I",Escape:.1042,epitope:1,times_seen:5,effect:-.6147},{reference_site:"97",wildtype:"K",mutant:"L",Escape:.0863,epitope:1,times_seen:3.6667,effect:-.8628},{reference_site:"97",wildtype:"K",mutant:"M",Escape:.113,epitope:1,times_seen:3.6667,effect:-1.0209},{reference_site:"97",wildtype:"K",mutant:"N",Escape:.2905,epitope:1,times_seen:9.3333,effect:-.537},{reference_site:"97",wildtype:"K",mutant:"Q",Escape:.009,epitope:1,times_seen:7.3333,effect:-.2343},{reference_site:"97",wildtype:"K",mutant:"R",Escape:-.0582,epitope:1,times_seen:6.3333,effect:-.1895},{reference_site:"97",wildtype:"K",mutant:"S",Escape:-.0023,epitope:1,times_seen:1,effect:-1.279},{reference_site:"97",wildtype:"K",mutant:"T",Escape:.0151,epitope:1,times_seen:3.3333,effect:-.4205},{reference_site:"97",wildtype:"K",mutant:"V",Escape:.0046,epitope:1,times_seen:3.6667,effect:-.4045},{reference_site:"97",wildtype:"K",mutant:"W",Escape:-.0022,epitope:1,times_seen:3,effect:-1.1602},{reference_site:"97",wildtype:"K",mutant:"Y",Escape:.0153,epitope:1,times_seen:4.3333,effect:-1.0802},{reference_site:"98",wildtype:"N",mutant:"D",Escape:.0395,epitope:1,times_seen:1,effect:-1.0551},{reference_site:"98",wildtype:"N",mutant:"H",Escape:-.0057,epitope:1,times_seen:1.3333,effect:-.8594},{reference_site:"98",wildtype:"N",mutant:"L",Escape:-.0052,epitope:1,times_seen:1,effect:-.8384},{reference_site:"98",wildtype:"N",mutant:"S",Escape:-.0097,epitope:1,times_seen:2.6667,effect:-.5613},{reference_site:"99",wildtype:"N",mutant:"A",Escape:.014,epitope:1,times_seen:1.3333,effect:-9e-4},{reference_site:"99",wildtype:"N",mutant:"C",Escape:.0334,epitope:1,times_seen:1,effect:-.6955},{reference_site:"99",wildtype:"N",mutant:"D",Escape:.027,epitope:1,times_seen:3,effect:-.0815},{reference_site:"99",wildtype:"N",mutant:"E",Escape:.0187,epitope:1,times_seen:1,effect:-.8357},{reference_site:"99",wildtype:"N",mutant:"F",Escape:.1851,epitope:1,times_seen:2,effect:-.2535},{reference_site:"99",wildtype:"N",mutant:"G",Escape:-.0121,epitope:1,times_seen:2.3333,effect:-.0318},{reference_site:"99",wildtype:"N",mutant:"H",Escape:.0086,epitope:1,times_seen:1.3333,effect:-.2108},{reference_site:"99",wildtype:"N",mutant:"I",Escape:-.0266,epitope:1,times_seen:2,effect:-.2421},{reference_site:"99",wildtype:"N",mutant:"K",Escape:.0976,epitope:1,times_seen:4,effect:-.0288},{reference_site:"99",wildtype:"N",mutant:"L",Escape:.0333,epitope:1,times_seen:1,effect:-.3166},{reference_site:"99",wildtype:"N",mutant:"M",Escape:-.0067,epitope:1,times_seen:3,effect:-.2763},{reference_site:"99",wildtype:"N",mutant:"P",Escape:.0083,epitope:1,times_seen:1,effect:.1384},{reference_site:"99",wildtype:"N",mutant:"Q",Escape:.0184,epitope:1,times_seen:2,effect:-.207},{reference_site:"99",wildtype:"N",mutant:"R",Escape:-.0162,epitope:1,times_seen:1.6667,effect:-.1413},{reference_site:"99",wildtype:"N",mutant:"S",Escape:-.0011,epitope:1,times_seen:2.3333,effect:-.5058},{reference_site:"99",wildtype:"N",mutant:"T",Escape:-.0171,epitope:1,times_seen:2.6667,effect:-.2166},{reference_site:"99",wildtype:"N",mutant:"V",Escape:.0017,epitope:1,times_seen:1,effect:-.7136},{reference_site:"99",wildtype:"N",mutant:"W",Escape:-.0568,epitope:1,times_seen:2,effect:-.4926},{reference_site:"99",wildtype:"N",mutant:"Y",Escape:.1182,epitope:1,times_seen:7.3333,effect:.0537},{reference_site:"100",wildtype:"M",mutant:"I",Escape:-.0032,epitope:1,times_seen:9,effect:-.3762},{reference_site:"100",wildtype:"M",mutant:"L",Escape:-.0078,epitope:1,times_seen:4.6667,effect:-.1016},{reference_site:"100",wildtype:"M",mutant:"V",Escape:-.0156,epitope:1,times_seen:9,effect:-.3662},{reference_site:"100",wildtype:"M",mutant:"*",Escape:.0377,epitope:1,times_seen:2,effect:-2.5177},{reference_site:"101",wildtype:"V",mutant:"A",Escape:-.0192,epitope:1,times_seen:5.3333,effect:-.3119},{reference_site:"101",wildtype:"V",mutant:"E",Escape:.0406,epitope:1,times_seen:1.5,effect:-2.8334},{reference_site:"101",wildtype:"V",mutant:"G",Escape:.0134,epitope:1,times_seen:1,effect:-1.9636},{reference_site:"101",wildtype:"V",mutant:"I",Escape:.0014,epitope:1,times_seen:2.6667,effect:-.746},{reference_site:"101",wildtype:"V",mutant:"M",Escape:-.0141,epitope:1,times_seen:1,effect:-1.2765},{reference_site:"102",wildtype:"E",mutant:"A",Escape:.0182,epitope:1,times_seen:1,effect:-.6726},{reference_site:"102",wildtype:"E",mutant:"D",Escape:.0649,epitope:1,times_seen:6.6667,effect:-.1115},{reference_site:"102",wildtype:"E",mutant:"H",Escape:-.0011,epitope:1,times_seen:1.3333,effect:-.2766},{reference_site:"102",wildtype:"E",mutant:"I",Escape:-.0348,epitope:1,times_seen:6.3333,effect:-.8375},{reference_site:"102",wildtype:"E",mutant:"K",Escape:.0595,epitope:1,times_seen:10.3333,effect:-.4626},{reference_site:"102",wildtype:"E",mutant:"L",Escape:-.0319,epitope:1,times_seen:2,effect:-.6514},{reference_site:"102",wildtype:"E",mutant:"M",Escape:-.0061,epitope:1,times_seen:3.3333,effect:-.9182},{reference_site:"102",wildtype:"E",mutant:"N",Escape:.1109,epitope:1,times_seen:3,effect:-1.1568},{reference_site:"102",wildtype:"E",mutant:"Q",Escape:-.0033,epitope:1,times_seen:2,effect:-.7848},{reference_site:"102",wildtype:"E",mutant:"R",Escape:.0253,epitope:1,times_seen:1.3333,effect:-.851},{reference_site:"102",wildtype:"E",mutant:"S",Escape:-8e-4,epitope:1,times_seen:1.3333,effect:-.3553},{reference_site:"102",wildtype:"E",mutant:"T",Escape:.0816,epitope:1,times_seen:3,effect:-.2973},{reference_site:"102",wildtype:"E",mutant:"W",Escape:-.009,epitope:1,times_seen:1.3333,effect:-.4583},{reference_site:"102",wildtype:"E",mutant:"Y",Escape:-.0144,epitope:1,times_seen:2,effect:-.653},{reference_site:"102",wildtype:"E",mutant:"*",Escape:.0409,epitope:1,times_seen:1,effect:-2.6666},{reference_site:"103",wildtype:"Q",mutant:"A",Escape:-.0349,epitope:1,times_seen:2,effect:-.5363},{reference_site:"103",wildtype:"Q",mutant:"D",Escape:-.001,epitope:1,times_seen:1.6667,effect:-.489},{reference_site:"103",wildtype:"Q",mutant:"E",Escape:-.0161,epitope:1,times_seen:6.6667,effect:-.0685},{reference_site:"103",wildtype:"Q",mutant:"H",Escape:-.0206,epitope:1,times_seen:6.6667,effect:-.775},{reference_site:"103",wildtype:"Q",mutant:"K",Escape:-.0021,epitope:1,times_seen:1,effect:-1.6039},{reference_site:"103",wildtype:"Q",mutant:"N",Escape:-.004,epitope:1,times_seen:2,effect:-.8643},{reference_site:"103",wildtype:"Q",mutant:"R",Escape:-.0234,epitope:1,times_seen:3.3333,effect:-1.2001},{reference_site:"103",wildtype:"Q",mutant:"T",Escape:-.0624,epitope:1,times_seen:2,effect:-.4857},{reference_site:"104",wildtype:"M",mutant:"F",Escape:-.0174,epitope:1,times_seen:2,effect:-1.4508},{reference_site:"104",wildtype:"M",mutant:"I",Escape:-.0512,epitope:1,times_seen:7.3333,effect:-1.3365},{reference_site:"104",wildtype:"M",mutant:"L",Escape:.0116,epitope:1,times_seen:6,effect:-.5983},{reference_site:"104",wildtype:"M",mutant:"T",Escape:.0196,epitope:1,times_seen:3.5,effect:-1.8644},{reference_site:"105",wildtype:"H",mutant:"D",Escape:.1077,epitope:1,times_seen:5.3333,effect:-1.3259},{reference_site:"105",wildtype:"H",mutant:"E",Escape:.007,epitope:1,times_seen:1.6667,effect:-1.2223},{reference_site:"105",wildtype:"H",mutant:"F",Escape:.0145,epitope:1,times_seen:1.3333,effect:-2.1592},{reference_site:"105",wildtype:"H",mutant:"I",Escape:.087,epitope:1,times_seen:1,effect:-1.4684},{reference_site:"105",wildtype:"H",mutant:"L",Escape:.0449,epitope:1,times_seen:1,effect:-1.1293},{reference_site:"105",wildtype:"H",mutant:"N",Escape:-.0277,epitope:1,times_seen:5.3333,effect:-.0998},{reference_site:"105",wildtype:"H",mutant:"Q",Escape:-.0176,epitope:1,times_seen:13.3333,effect:.2007},{reference_site:"105",wildtype:"H",mutant:"R",Escape:.046,epitope:1,times_seen:2.6667,effect:-1.7261},{reference_site:"105",wildtype:"H",mutant:"S",Escape:.0443,epitope:1,times_seen:2,effect:-1.7738},{reference_site:"105",wildtype:"H",mutant:"W",Escape:-.0063,epitope:1,times_seen:1,effect:-1.3807},{reference_site:"105",wildtype:"H",mutant:"Y",Escape:.0648,epitope:1,times_seen:3.3333,effect:-2.0278},{reference_site:"106",wildtype:"T",mutant:"A",Escape:-.0153,epitope:1,times_seen:8,effect:.0019},{reference_site:"106",wildtype:"T",mutant:"C",Escape:-.0306,epitope:1,times_seen:3.5,effect:-.52},{reference_site:"106",wildtype:"T",mutant:"D",Escape:-.0065,epitope:1,times_seen:3.6667,effect:.4945},{reference_site:"106",wildtype:"T",mutant:"E",Escape:.0203,epitope:1,times_seen:2,effect:.2201},{reference_site:"106",wildtype:"T",mutant:"F",Escape:-.0089,epitope:1,times_seen:2.6667,effect:-.6185},{reference_site:"106",wildtype:"T",mutant:"G",Escape:-.0086,epitope:1,times_seen:3.3333,effect:-.0613},{reference_site:"106",wildtype:"T",mutant:"H",Escape:-.0101,epitope:1,times_seen:6,effect:-.0949},{reference_site:"106",wildtype:"T",mutant:"I",Escape:-.0067,epitope:1,times_seen:9.3333,effect:-.0061},{reference_site:"106",wildtype:"T",mutant:"K",Escape:-.0112,epitope:1,times_seen:1,effect:-.2037},{reference_site:"106",wildtype:"T",mutant:"L",Escape:-.0134,epitope:1,times_seen:3,effect:.3084},{reference_site:"106",wildtype:"T",mutant:"M",Escape:-.0524,epitope:1,times_seen:8.5,effect:-.1862},{reference_site:"106",wildtype:"T",mutant:"N",Escape:-.077,epitope:1,times_seen:7,effect:.1488},{reference_site:"106",wildtype:"T",mutant:"Q",Escape:-.0095,epitope:1,times_seen:2.6667,effect:.099},{reference_site:"106",wildtype:"T",mutant:"R",Escape:-.0099,epitope:1,times_seen:1,effect:-.4557},{reference_site:"106",wildtype:"T",mutant:"S",Escape:-.0038,epitope:1,times_seen:7,effect:.1039},{reference_site:"106",wildtype:"T",mutant:"V",Escape:-.0311,epitope:1,times_seen:2.6667,effect:-.0245},{reference_site:"106",wildtype:"T",mutant:"W",Escape:-.0337,epitope:1,times_seen:3.6667,effect:-.1549},{reference_site:"106",wildtype:"T",mutant:"Y",Escape:.0256,epitope:1,times_seen:4,effect:-.0824},{reference_site:"107",wildtype:"D",mutant:"E",Escape:.0311,epitope:1,times_seen:1,effect:-.7999},{reference_site:"107",wildtype:"D",mutant:"H",Escape:.0198,epitope:1,times_seen:1,effect:-2.4752},{reference_site:"107",wildtype:"D",mutant:"N",Escape:.0056,epitope:1,times_seen:1,effect:-2.3503},{reference_site:"107",wildtype:"D",mutant:"Y",Escape:-.0111,epitope:1,times_seen:1,effect:-1.9818},{reference_site:"108",wildtype:"I",mutant:"F",Escape:.0614,epitope:1,times_seen:4.6667,effect:-2.7523},{reference_site:"108",wildtype:"I",mutant:"L",Escape:-.0119,epitope:1,times_seen:1.3333,effect:-2.0498},{reference_site:"108",wildtype:"I",mutant:"M",Escape:.0069,epitope:1,times_seen:6.3333,effect:-.5171},{reference_site:"108",wildtype:"I",mutant:"Q",Escape:.0097,epitope:1,times_seen:1,effect:-1.0277},{reference_site:"108",wildtype:"I",mutant:"T",Escape:.0241,epitope:1,times_seen:6.6667,effect:-.2596},{reference_site:"108",wildtype:"I",mutant:"V",Escape:-.026,epitope:1,times_seen:3,effect:.0898},{reference_site:"109",wildtype:"I",mutant:"D",Escape:.0847,epitope:1,times_seen:1,effect:-2.9657},{reference_site:"109",wildtype:"I",mutant:"E",Escape:.0017,epitope:1,times_seen:1,effect:.1677},{reference_site:"109",wildtype:"I",mutant:"K",Escape:-.0747,epitope:1,times_seen:4,effect:-.1152},{reference_site:"109",wildtype:"I",mutant:"L",Escape:-.0326,epitope:1,times_seen:2,effect:-.8522},{reference_site:"109",wildtype:"I",mutant:"M",Escape:-.0047,epitope:1,times_seen:8.6667,effect:-.2241},{reference_site:"109",wildtype:"I",mutant:"N",Escape:.0212,epitope:1,times_seen:2.6667,effect:-1.1951},{reference_site:"109",wildtype:"I",mutant:"Q",Escape:-.01,epitope:1,times_seen:1,effect:-.1028},{reference_site:"109",wildtype:"I",mutant:"S",Escape:-.0229,epitope:1,times_seen:2.6667,effect:-.7005},{reference_site:"109",wildtype:"I",mutant:"T",Escape:.0844,epitope:1,times_seen:12,effect:-.0054},{reference_site:"109",wildtype:"I",mutant:"V",Escape:.0183,epitope:1,times_seen:2,effect:-.199},{reference_site:"110",wildtype:"S",mutant:"A",Escape:-.0314,epitope:1,times_seen:1.6667,effect:-1.089},{reference_site:"110",wildtype:"S",mutant:"C",Escape:.0606,epitope:1,times_seen:2,effect:-2.518},{reference_site:"110",wildtype:"S",mutant:"D",Escape:-.0329,epitope:1,times_seen:2,effect:-.824},{reference_site:"110",wildtype:"S",mutant:"E",Escape:.0121,epitope:1,times_seen:2,effect:-.1731},{reference_site:"110",wildtype:"S",mutant:"F",Escape:-.0123,epitope:1,times_seen:2,effect:-1.1761},{reference_site:"110",wildtype:"S",mutant:"G",Escape:-.0185,epitope:1,times_seen:10.3333,effect:-.0778},{reference_site:"110",wildtype:"S",mutant:"H",Escape:-.0129,epitope:1,times_seen:2.6667,effect:-1.2044},{reference_site:"110",wildtype:"S",mutant:"I",Escape:-.003,epitope:1,times_seen:3.3333,effect:-1.8119},{reference_site:"110",wildtype:"S",mutant:"K",Escape:-.0085,epitope:1,times_seen:2.5,effect:-2.0358},{reference_site:"110",wildtype:"S",mutant:"L",Escape:-.012,epitope:1,times_seen:1.3333,effect:-1.685},{reference_site:"110",wildtype:"S",mutant:"M",Escape:-.0358,epitope:1,times_seen:3.6667,effect:-1.1836},{reference_site:"110",wildtype:"S",mutant:"N",Escape:-.0561,epitope:1,times_seen:3.3333,effect:-.7056},{reference_site:"110",wildtype:"S",mutant:"Q",Escape:-.0889,epitope:1,times_seen:2.6667,effect:-.7963},{reference_site:"110",wildtype:"S",mutant:"R",Escape:.0024,epitope:1,times_seen:1,effect:-1.6059},{reference_site:"110",wildtype:"S",mutant:"T",Escape:.0157,epitope:1,times_seen:2,effect:-.5656},{reference_site:"110",wildtype:"S",mutant:"Y",Escape:-.0198,epitope:1,times_seen:1.5,effect:-1.0145},{reference_site:"111",wildtype:"L",mutant:"A",Escape:.0331,epitope:1,times_seen:1,effect:-1.0489},{reference_site:"111",wildtype:"L",mutant:"C",Escape:.0128,epitope:1,times_seen:1,effect:-1.7974},{reference_site:"111",wildtype:"L",mutant:"H",Escape:-.016,epitope:1,times_seen:1.3333,effect:-.8413},{reference_site:"111",wildtype:"L",mutant:"I",Escape:.0148,epitope:1,times_seen:1,effect:-.08},{reference_site:"111",wildtype:"L",mutant:"M",Escape:-.1001,epitope:1,times_seen:12,effect:-.402},{reference_site:"111",wildtype:"L",mutant:"P",Escape:-.0113,epitope:1,times_seen:1.3333,effect:-3.0197},{reference_site:"111",wildtype:"L",mutant:"Q",Escape:.0642,epitope:1,times_seen:6.6667,effect:-.582},{reference_site:"111",wildtype:"L",mutant:"T",Escape:-.0172,epitope:1,times_seen:1,effect:-1.7463},{reference_site:"111",wildtype:"L",mutant:"V",Escape:.0079,epitope:1,times_seen:2,effect:-.9437},{reference_site:"112",wildtype:"W",mutant:"C",Escape:.0306,epitope:1,times_seen:3,effect:-3.289},{reference_site:"112",wildtype:"W",mutant:"G",Escape:-.0131,epitope:1,times_seen:1,effect:-2.3428},{reference_site:"112",wildtype:"W",mutant:"L",Escape:.0839,epitope:1,times_seen:5,effect:-2.4155},{reference_site:"112",wildtype:"W",mutant:"*",Escape:.0184,epitope:1,times_seen:1.6667,effect:-2.5526},{reference_site:"113",wildtype:"D",mutant:"A",Escape:.0403,epitope:1,times_seen:3.6667,effect:-.7173},{reference_site:"113",wildtype:"D",mutant:"E",Escape:-.061,epitope:1,times_seen:9.6667,effect:.0464},{reference_site:"113",wildtype:"D",mutant:"F",Escape:.0054,epitope:1,times_seen:1.3333,effect:-1.2309},{reference_site:"113",wildtype:"D",mutant:"G",Escape:.0316,epitope:1,times_seen:2,effect:-.6418},{reference_site:"113",wildtype:"D",mutant:"H",Escape:.0262,epitope:1,times_seen:4,effect:-.7774},{reference_site:"113",wildtype:"D",mutant:"N",Escape:.1166,epitope:1,times_seen:11.3333,effect:-.66},{reference_site:"113",wildtype:"D",mutant:"S",Escape:-.0021,epitope:1,times_seen:3,effect:-.5498},{reference_site:"113",wildtype:"D",mutant:"Y",Escape:.0335,epitope:1,times_seen:3.6667,effect:-1.704},{reference_site:"114",wildtype:"Q",mutant:"A",Escape:.0192,epitope:1,times_seen:1,effect:.7804},{reference_site:"114",wildtype:"Q",mutant:"C",Escape:-.0158,epitope:1,times_seen:1,effect:.2033},{reference_site:"114",wildtype:"Q",mutant:"D",Escape:-.0152,epitope:1,times_seen:1,effect:-.8607},{reference_site:"114",wildtype:"Q",mutant:"E",Escape:-.0471,epitope:1,times_seen:5,effect:.2549},{reference_site:"114",wildtype:"Q",mutant:"F",Escape:.0099,epitope:1,times_seen:1,effect:-1.1593},{reference_site:"114",wildtype:"Q",mutant:"H",Escape:.012,epitope:1,times_seen:12,effect:-.0928},{reference_site:"114",wildtype:"Q",mutant:"I",Escape:.0164,epitope:1,times_seen:1.6667,effect:-.1067},{reference_site:"114",wildtype:"Q",mutant:"K",Escape:-.0058,epitope:1,times_seen:5.3333,effect:-1.4145},{reference_site:"114",wildtype:"Q",mutant:"L",Escape:-.0094,epitope:1,times_seen:5.6667,effect:-.1047},{reference_site:"114",wildtype:"Q",mutant:"M",Escape:-.0093,epitope:1,times_seen:4.6667,effect:.0359},{reference_site:"114",wildtype:"Q",mutant:"N",Escape:-.0166,epitope:1,times_seen:2,effect:-.1744},{reference_site:"114",wildtype:"Q",mutant:"R",Escape:-.0225,epitope:1,times_seen:6.6667,effect:-1.0208},{reference_site:"114",wildtype:"Q",mutant:"T",Escape:7e-4,epitope:1,times_seen:1,effect:-.1291},{reference_site:"114",wildtype:"Q",mutant:"W",Escape:.0149,epitope:1,times_seen:2.3333,effect:-.9203},{reference_site:"114",wildtype:"Q",mutant:"Y",Escape:-.0199,epitope:1,times_seen:1.5,effect:-.205},{reference_site:"115",wildtype:"G",mutant:"A",Escape:-.095,epitope:1,times_seen:9,effect:.1111},{reference_site:"115",wildtype:"G",mutant:"C",Escape:-.0433,epitope:1,times_seen:3.6667,effect:-.778},{reference_site:"115",wildtype:"G",mutant:"D",Escape:.028,epitope:1,times_seen:1.3333,effect:-1.7141},{reference_site:"115",wildtype:"G",mutant:"E",Escape:.1377,epitope:1,times_seen:5,effect:-.0091},{reference_site:"115",wildtype:"G",mutant:"F",Escape:-.0654,epitope:1,times_seen:6,effect:-.135},{reference_site:"115",wildtype:"G",mutant:"I",Escape:-.0323,epitope:1,times_seen:3.3333,effect:-.9557},{reference_site:"115",wildtype:"G",mutant:"K",Escape:-.0371,epitope:1,times_seen:1.6667,effect:-.0277},{reference_site:"115",wildtype:"G",mutant:"M",Escape:-.024,epitope:1,times_seen:2.3333,effect:.2207},{reference_site:"115",wildtype:"G",mutant:"N",Escape:-.1257,epitope:1,times_seen:8,effect:-.0093},{reference_site:"115",wildtype:"G",mutant:"Q",Escape:.0078,epitope:1,times_seen:1,effect:.5211},{reference_site:"115",wildtype:"G",mutant:"R",Escape:.0114,epitope:1,times_seen:1,effect:-1.3119},{reference_site:"115",wildtype:"G",mutant:"S",Escape:-.0563,epitope:1,times_seen:6.3333,effect:.0277},{reference_site:"115",wildtype:"G",mutant:"T",Escape:9e-4,epitope:1,times_seen:5,effect:.0451},{reference_site:"115",wildtype:"G",mutant:"V",Escape:-.2224,epitope:1,times_seen:10.3333,effect:-.1708},{reference_site:"115",wildtype:"G",mutant:"Y",Escape:.0051,epitope:1,times_seen:3.6667,effect:-.8808},{reference_site:"116",wildtype:"L",mutant:"I",Escape:.0194,epitope:1,times_seen:2,effect:-.1013},{reference_site:"116",wildtype:"L",mutant:"M",Escape:-.0376,epitope:1,times_seen:5.3333,effect:-.2138},{reference_site:"116",wildtype:"L",mutant:"P",Escape:.0179,epitope:1,times_seen:1,effect:-3.2064},{reference_site:"116",wildtype:"L",mutant:"T",Escape:-.0269,epitope:1,times_seen:2,effect:.2833},{reference_site:"117",wildtype:"K",mutant:"A",Escape:-.0151,epitope:1,times_seen:1,effect:.1475},{reference_site:"117",wildtype:"K",mutant:"D",Escape:.0326,epitope:1,times_seen:1,effect:-1.4678},{reference_site:"117",wildtype:"K",mutant:"E",Escape:-.0222,epitope:1,times_seen:13.3333,effect:-.3972},{reference_site:"117",wildtype:"K",mutant:"F",Escape:.0167,epitope:1,times_seen:1,effect:.1821},{reference_site:"117",wildtype:"K",mutant:"H",Escape:-.0059,epitope:1,times_seen:1.3333,effect:-.247},{reference_site:"117",wildtype:"K",mutant:"I",Escape:.02,epitope:1,times_seen:2,effect:.0369},{reference_site:"117",wildtype:"K",mutant:"L",Escape:.0234,epitope:1,times_seen:3.6667,effect:-.2239},{reference_site:"117",wildtype:"K",mutant:"M",Escape:-.0153,epitope:1,times_seen:4,effect:.0858},{reference_site:"117",wildtype:"K",mutant:"N",Escape:-.0128,epitope:1,times_seen:8.6667,effect:-.0481},{reference_site:"117",wildtype:"K",mutant:"P",Escape:.016,epitope:1,times_seen:1,effect:-.8981},{reference_site:"117",wildtype:"K",mutant:"Q",Escape:-.0369,epitope:1,times_seen:2.6667,effect:-.6543},{reference_site:"117",wildtype:"K",mutant:"R",Escape:-.0199,epitope:1,times_seen:1.5,effect:-.2193},{reference_site:"117",wildtype:"K",mutant:"S",Escape:-.0127,epitope:1,times_seen:1.3333,effect:.2976},{reference_site:"117",wildtype:"K",mutant:"T",Escape:-.0116,epitope:1,times_seen:2,effect:-.2642},{reference_site:"117",wildtype:"K",mutant:"V",Escape:-.0099,epitope:1,times_seen:3,effect:-.7948},{reference_site:"117",wildtype:"K",mutant:"Y",Escape:.0074,epitope:1,times_seen:1.3333,effect:-.4095},{reference_site:"118",wildtype:"P",mutant:"H",Escape:.0095,epitope:1,times_seen:1.6667,effect:-3.1696},{reference_site:"118",wildtype:"P",mutant:"S",Escape:.0118,epitope:1,times_seen:2.5,effect:-.6247},{reference_site:"118",wildtype:"P",mutant:"T",Escape:-.0109,epitope:1,times_seen:3.6667,effect:-1.6912},{reference_site:"119",wildtype:"C",mutant:"F",Escape:.004,epitope:1,times_seen:1,effect:-2.7291},{reference_site:"119",wildtype:"C",mutant:"R",Escape:.0283,epitope:1,times_seen:1,effect:-3.0311},{reference_site:"119",wildtype:"C",mutant:"Y",Escape:.0144,epitope:1,times_seen:1.5,effect:-3.1729},{reference_site:"120",wildtype:"V",mutant:"A",Escape:.0695,epitope:1,times_seen:5.6667,effect:-.5425},{reference_site:"120",wildtype:"V",mutant:"F",Escape:-.0188,epitope:1,times_seen:1,effect:-.0248},{reference_site:"120",wildtype:"V",mutant:"I",Escape:.0163,epitope:1,times_seen:1,effect:-1.0503},{reference_site:"120",wildtype:"V",mutant:"L",Escape:-.0451,epitope:1,times_seen:5.3333,effect:-1.6028},{reference_site:"120",wildtype:"V",mutant:"M",Escape:-.0135,epitope:1,times_seen:6.3333,effect:-.3879},{reference_site:"120",wildtype:"V",mutant:"T",Escape:-.0036,epitope:1,times_seen:1.6667,effect:-.4687},{reference_site:"121",wildtype:"K",mutant:"E",Escape:.0702,epitope:1,times_seen:5.6667,effect:-.3508},{reference_site:"121",wildtype:"K",mutant:"M",Escape:-.0574,epitope:1,times_seen:7.6667,effect:-.3187},{reference_site:"121",wildtype:"K",mutant:"N",Escape:.0289,epitope:1,times_seen:2.3333,effect:-.2077},{reference_site:"121",wildtype:"K",mutant:"Q",Escape:.007,epitope:1,times_seen:3.3333,effect:.017},{reference_site:"121",wildtype:"K",mutant:"R",Escape:.0022,epitope:1,times_seen:1.5,effect:.0276},{reference_site:"121",wildtype:"K",mutant:"S",Escape:.0478,epitope:1,times_seen:5,effect:-.1317},{reference_site:"121",wildtype:"K",mutant:"T",Escape:.0092,epitope:1,times_seen:1,effect:-.3529},{reference_site:"121",wildtype:"K",mutant:"V",Escape:-.0068,epitope:1,times_seen:2,effect:-.4239},{reference_site:"122",wildtype:"L",mutant:"I",Escape:.0149,epitope:1,times_seen:3.6667,effect:-.5008},{reference_site:"122",wildtype:"L",mutant:"M",Escape:-.0112,epitope:1,times_seen:5.3333,effect:-.468},{reference_site:"122",wildtype:"L",mutant:"S",Escape:.0121,epitope:1,times_seen:1,effect:-1.3601},{reference_site:"122",wildtype:"L",mutant:"V",Escape:.0102,epitope:1,times_seen:1,effect:-2.4355},{reference_site:"123",wildtype:"T",mutant:"A",Escape:-.027,epitope:1,times_seen:3.3333,effect:-.1239},{reference_site:"123",wildtype:"T",mutant:"I",Escape:-.0069,epitope:1,times_seen:1,effect:-1.5783},{reference_site:"123",wildtype:"T",mutant:"K",Escape:.0052,epitope:1,times_seen:1,effect:-2.3529},{reference_site:"123",wildtype:"T",mutant:"S",Escape:.0073,epitope:1,times_seen:4,effect:-.4931},{reference_site:"124",wildtype:"P",mutant:"A",Escape:-.0126,epitope:1,times_seen:1.3333,effect:-.6791},{reference_site:"124",wildtype:"P",mutant:"D",Escape:-.0154,epitope:1,times_seen:2,effect:-.0406},{reference_site:"124",wildtype:"P",mutant:"E",Escape:.0056,epitope:1,times_seen:2.6667,effect:-1.0152},{reference_site:"124",wildtype:"P",mutant:"F",Escape:-.0358,epitope:1,times_seen:3,effect:-.5021},{reference_site:"124",wildtype:"P",mutant:"H",Escape:-.0772,epitope:1,times_seen:16,effect:-.2456},{reference_site:"124",wildtype:"P",mutant:"L",Escape:-.0205,epitope:1,times_seen:2.6667,effect:-1.4018},{reference_site:"124",wildtype:"P",mutant:"M",Escape:.0079,epitope:1,times_seen:1,effect:-1.0642},{reference_site:"124",wildtype:"P",mutant:"N",Escape:-.0269,epitope:1,times_seen:3.3333,effect:-.7106},{reference_site:"124",wildtype:"P",mutant:"Q",Escape:-.0093,epitope:1,times_seen:2,effect:-.5754},{reference_site:"124",wildtype:"P",mutant:"S",Escape:-.0121,epitope:1,times_seen:2.3333,effect:-.0243},{reference_site:"124",wildtype:"P",mutant:"T",Escape:-.0375,epitope:1,times_seen:4.6667,effect:-.8837},{reference_site:"124",wildtype:"P",mutant:"W",Escape:-.0185,epitope:1,times_seen:1,effect:-1.468},{reference_site:"125",wildtype:"L",mutant:"F",Escape:.0033,epitope:1,times_seen:1,effect:-2.271},{reference_site:"125",wildtype:"L",mutant:"I",Escape:-.016,epitope:1,times_seen:5.6667,effect:-.2974},{reference_site:"125",wildtype:"L",mutant:"M",Escape:-.0124,epitope:1,times_seen:22.3333,effect:.1152},{reference_site:"125",wildtype:"L",mutant:"V",Escape:.0075,epitope:1,times_seen:5.3333,effect:-.6056},{reference_site:"126",wildtype:"C",mutant:"W",Escape:.0347,epitope:1,times_seen:1.5,effect:-3.0293},{reference_site:"126",wildtype:"C",mutant:"Y",Escape:.0078,epitope:1,times_seen:2,effect:-2.1824},{reference_site:"126",wildtype:"C",mutant:"*",Escape:-.0505,epitope:1,times_seen:1,effect:-3.0264},{reference_site:"127",wildtype:"V",mutant:"A",Escape:.0045,epitope:1,times_seen:1,effect:-3.1051},{reference_site:"127",wildtype:"V",mutant:"I",Escape:.0089,epitope:1,times_seen:2.3333,effect:-.4684},{reference_site:"127",wildtype:"V",mutant:"L",Escape:-.005,epitope:1,times_seen:1.3333,effect:-1.2415},{reference_site:"127",wildtype:"V",mutant:"M",Escape:.009,epitope:1,times_seen:2.6667,effect:-2.4091},{reference_site:"128",wildtype:"T",mutant:"A",Escape:-.0123,epitope:1,times_seen:5,effect:.0438},{reference_site:"128",wildtype:"T",mutant:"E",Escape:-.002,epitope:1,times_seen:3,effect:-.7076},{reference_site:"128",wildtype:"T",mutant:"I",Escape:-.1446,epitope:1,times_seen:14.6667,effect:-.285},{reference_site:"128",wildtype:"T",mutant:"K",Escape:-.0178,epitope:1,times_seen:4,effect:-.6919},{reference_site:"128",wildtype:"T",mutant:"M",Escape:-.0107,epitope:1,times_seen:3.3333,effect:.0337},{reference_site:"128",wildtype:"T",mutant:"N",Escape:-.1101,epitope:1,times_seen:9.6667,effect:-.6128},{reference_site:"128",wildtype:"T",mutant:"P",Escape:-.0424,epitope:1,times_seen:2.3333,effect:-.3162},{reference_site:"128",wildtype:"T",mutant:"R",Escape:-.0092,epitope:1,times_seen:4,effect:-.2369},{reference_site:"128",wildtype:"T",mutant:"S",Escape:.0185,epitope:1,times_seen:4.3333,effect:-.1291},{reference_site:"128",wildtype:"T",mutant:"V",Escape:-.0302,epitope:1,times_seen:3.6667,effect:.0599},{reference_site:"129",wildtype:"L",mutant:"C",Escape:.0029,epitope:1,times_seen:1,effect:-2.2952},{reference_site:"129",wildtype:"L",mutant:"F",Escape:-.0215,epitope:1,times_seen:2.6667,effect:-1.1463},{reference_site:"129",wildtype:"L",mutant:"I",Escape:-.0082,epitope:1,times_seen:1,effect:-2.7813},{reference_site:"129",wildtype:"L",mutant:"M",Escape:-.0868,epitope:1,times_seen:38.6667,effect:.0748},{reference_site:"129",wildtype:"L",mutant:"P",Escape:.024,epitope:1,times_seen:1,effect:-2.7161},{reference_site:"129",wildtype:"L",mutant:"V",Escape:-.0157,epitope:1,times_seen:1,effect:-3.2497},{reference_site:"129",wildtype:"L",mutant:"W",Escape:.0156,epitope:1,times_seen:1.6667,effect:-2.7799},{reference_site:"130",wildtype:"D",mutant:"A",Escape:-.0219,epitope:1,times_seen:6,effect:-.9366},{reference_site:"130",wildtype:"D",mutant:"E",Escape:-.0597,epitope:1,times_seen:11.6667,effect:.1324},{reference_site:"130",wildtype:"D",mutant:"G",Escape:.0182,epitope:1,times_seen:1,effect:-3.371},{reference_site:"130",wildtype:"D",mutant:"H",Escape:-.0082,epitope:1,times_seen:3.3333,effect:-.3336},{reference_site:"130",wildtype:"D",mutant:"I",Escape:-.0226,epitope:1,times_seen:3.6667,effect:-.7565},{reference_site:"130",wildtype:"D",mutant:"K",Escape:.0106,epitope:1,times_seen:1,effect:-1.8165},{reference_site:"130",wildtype:"D",mutant:"L",Escape:-.0119,epitope:1,times_seen:1.5,effect:-1.3351},{reference_site:"130",wildtype:"D",mutant:"N",Escape:-.0238,epitope:1,times_seen:5,effect:-.3287},{reference_site:"130",wildtype:"D",mutant:"R",Escape:-.0027,epitope:1,times_seen:1,effect:-.9516},{reference_site:"130",wildtype:"D",mutant:"S",Escape:-.0138,epitope:1,times_seen:2.3333,effect:-.4418},{reference_site:"130",wildtype:"D",mutant:"T",Escape:-.0322,epitope:1,times_seen:8.3333,effect:-.3297},{reference_site:"130",wildtype:"D",mutant:"V",Escape:-.0036,epitope:1,times_seen:1,effect:-.4399},{reference_site:"130",wildtype:"D",mutant:"Y",Escape:-.016,epitope:1,times_seen:4,effect:-.6999},{reference_site:"131",wildtype:"C",mutant:"F",Escape:-.0021,epitope:1,times_seen:1,effect:-3.4109},{reference_site:"131",wildtype:"C",mutant:"L",Escape:-.0047,epitope:1,times_seen:1,effect:-1.9772},{reference_site:"131",wildtype:"C",mutant:"Y",Escape:.0336,epitope:1,times_seen:5.5,effect:-3.0338},{reference_site:"132",wildtype:"H",mutant:"A",Escape:.0106,epitope:1,times_seen:7,effect:-.3093},{reference_site:"132",wildtype:"H",mutant:"D",Escape:-.0536,epitope:1,times_seen:9.3333,effect:-.1376},{reference_site:"132",wildtype:"H",mutant:"E",Escape:-.0742,epitope:1,times_seen:4,effect:-.0402},{reference_site:"132",wildtype:"H",mutant:"F",Escape:-.0401,epitope:1,times_seen:11,effect:-.2383},{reference_site:"132",wildtype:"H",mutant:"G",Escape:-.0223,epitope:1,times_seen:6,effect:-.3773},{reference_site:"132",wildtype:"H",mutant:"I",Escape:.0186,epitope:1,times_seen:5.6667,effect:-.0626},{reference_site:"132",wildtype:"H",mutant:"K",Escape:-.0173,epitope:1,times_seen:2.6667,effect:-.4145},{reference_site:"132",wildtype:"H",mutant:"L",Escape:-.0382,epitope:1,times_seen:4.3333,effect:-.3784},{reference_site:"132",wildtype:"H",mutant:"M",Escape:-.0083,epitope:1,times_seen:6.6667,effect:-.2198},{reference_site:"132",wildtype:"H",mutant:"N",Escape:-.1313,epitope:1,times_seen:18.6667,effect:-.1139},{reference_site:"132",wildtype:"H",mutant:"P",Escape:.0404,epitope:1,times_seen:1,effect:-2.6642},{reference_site:"132",wildtype:"H",mutant:"Q",Escape:-.0036,epitope:1,times_seen:4.6667,effect:-.5501},{reference_site:"132",wildtype:"H",mutant:"R",Escape:.06,epitope:1,times_seen:7.3333,effect:.0404},{reference_site:"132",wildtype:"H",mutant:"S",Escape:-.0256,epitope:1,times_seen:4,effect:-.2972},{reference_site:"132",wildtype:"H",mutant:"T",Escape:.0356,epitope:1,times_seen:4.6667,effect:-.2196},{reference_site:"132",wildtype:"H",mutant:"V",Escape:-.0024,epitope:1,times_seen:2,effect:.0415},{reference_site:"132",wildtype:"H",mutant:"W",Escape:-.0103,epitope:1,times_seen:2,effect:-.6974},{reference_site:"132",wildtype:"H",mutant:"Y",Escape:.0022,epitope:1,times_seen:9.6667,effect:-.1083},{reference_site:"133",wildtype:"N",mutant:"A",Escape:.0017,epitope:1,times_seen:2,effect:-.519},{reference_site:"133",wildtype:"N",mutant:"D",Escape:-.05,epitope:1,times_seen:3,effect:-.0828},{reference_site:"133",wildtype:"N",mutant:"E",Escape:-.0399,epitope:1,times_seen:2.3333,effect:-.1642},{reference_site:"133",wildtype:"N",mutant:"F",Escape:-.0358,epitope:1,times_seen:4,effect:-.305},{reference_site:"133",wildtype:"N",mutant:"G",Escape:-.0032,epitope:1,times_seen:1,effect:-.0427},{reference_site:"133",wildtype:"N",mutant:"H",Escape:.0452,epitope:1,times_seen:4,effect:-.2362},{reference_site:"133",wildtype:"N",mutant:"I",Escape:-4e-4,epitope:1,times_seen:2,effect:-1.0934},{reference_site:"133",wildtype:"N",mutant:"K",Escape:-.0357,epitope:1,times_seen:4.3333,effect:-.1067},{reference_site:"133",wildtype:"N",mutant:"L",Escape:-.0296,epitope:1,times_seen:3,effect:-.2698},{reference_site:"133",wildtype:"N",mutant:"M",Escape:.0157,epitope:1,times_seen:4,effect:-.2989},{reference_site:"133",wildtype:"N",mutant:"P",Escape:-.013,epitope:1,times_seen:1,effect:-1.0724},{reference_site:"133",wildtype:"N",mutant:"Q",Escape:.0288,epitope:1,times_seen:1,effect:-.225},{reference_site:"133",wildtype:"N",mutant:"R",Escape:-.0141,epitope:1,times_seen:1,effect:-.2104},{reference_site:"133",wildtype:"N",mutant:"S",Escape:-.0227,epitope:1,times_seen:3.6667,effect:-.4012},{reference_site:"133",wildtype:"N",mutant:"T",Escape:-.0249,epitope:1,times_seen:3,effect:-.173},{reference_site:"133",wildtype:"N",mutant:"V",Escape:-.0241,epitope:1,times_seen:3.6667,effect:-.4554},{reference_site:"133",wildtype:"N",mutant:"W",Escape:-.0094,epitope:1,times_seen:1.3333,effect:-.7862},{reference_site:"133",wildtype:"N",mutant:"Y",Escape:-.0141,epitope:1,times_seen:2,effect:-.2681},{reference_site:"134",wildtype:"V",mutant:"A",Escape:.0185,epitope:1,times_seen:3.3333,effect:-.6013},{reference_site:"134",wildtype:"V",mutant:"C",Escape:.0061,epitope:1,times_seen:1,effect:-3.2432},{reference_site:"134",wildtype:"V",mutant:"D",Escape:.0436,epitope:1,times_seen:2.5,effect:-2.8844},{reference_site:"134",wildtype:"V",mutant:"E",Escape:.0301,epitope:1,times_seen:2,effect:-2.9886},{reference_site:"134",wildtype:"V",mutant:"F",Escape:-.0131,epitope:1,times_seen:10.3333,effect:-.0243},{reference_site:"134",wildtype:"V",mutant:"G",Escape:.0532,epitope:1,times_seen:1,effect:-2.8649},{reference_site:"134",wildtype:"V",mutant:"H",Escape:.0081,epitope:1,times_seen:1.6667,effect:-.7044},{reference_site:"134",wildtype:"V",mutant:"I",Escape:.0248,epitope:1,times_seen:7.6667,effect:-.0493},{reference_site:"134",wildtype:"V",mutant:"L",Escape:-.0738,epitope:1,times_seen:6,effect:-.0778},{reference_site:"134",wildtype:"V",mutant:"M",Escape:-.0396,epitope:1,times_seen:14,effect:-.1117},{reference_site:"134",wildtype:"V",mutant:"N",Escape:.5375,epitope:1,times_seen:2,effect:-2.3472},{reference_site:"134",wildtype:"V",mutant:"P",Escape:-.0656,epitope:1,times_seen:7,effect:.0284},{reference_site:"134",wildtype:"V",mutant:"R",Escape:-.0028,epitope:1,times_seen:1,effect:-1.4611},{reference_site:"134",wildtype:"V",mutant:"S",Escape:.0019,epitope:1,times_seen:1,effect:-1.6926},{reference_site:"134",wildtype:"V",mutant:"T",Escape:-.0234,epitope:1,times_seen:3,effect:-.0152},{reference_site:"134",wildtype:"V",mutant:"W",Escape:.0215,epitope:1,times_seen:3.3333,effect:-.4367},{reference_site:"134",wildtype:"V",mutant:"Y",Escape:-.0053,epitope:1,times_seen:5,effect:-.6208},{reference_site:"135",wildtype:"T",mutant:"A",Escape:-.0766,epitope:1,times_seen:6,effect:.0317},{reference_site:"135",wildtype:"T",mutant:"C",Escape:-.014,epitope:1,times_seen:1.6667,effect:-1.4653},{reference_site:"135",wildtype:"T",mutant:"D",Escape:-.0306,epitope:1,times_seen:5.3333,effect:-.058},{reference_site:"135",wildtype:"T",mutant:"E",Escape:-.0229,epitope:1,times_seen:2.3333,effect:-.2168},{reference_site:"135",wildtype:"T",mutant:"F",Escape:-.0133,epitope:1,times_seen:4.6667,effect:.0634},{reference_site:"135",wildtype:"T",mutant:"G",Escape:-.0509,epitope:1,times_seen:5,effect:.1113},{reference_site:"135",wildtype:"T",mutant:"H",Escape:-.0432,epitope:1,times_seen:5,effect:-.1724},{reference_site:"135",wildtype:"T",mutant:"I",Escape:-.0431,epitope:1,times_seen:14.6667,effect:-.1549},{reference_site:"135",wildtype:"T",mutant:"K",Escape:-.0622,epitope:1,times_seen:5.3333,effect:-.3861},{reference_site:"135",wildtype:"T",mutant:"L",Escape:-.0036,epitope:1,times_seen:1,effect:-.6323},{reference_site:"135",wildtype:"T",mutant:"M",Escape:-.003,epitope:1,times_seen:5.6667,effect:-.1543},{reference_site:"135",wildtype:"T",mutant:"N",Escape:-.0932,epitope:1,times_seen:8.3333,effect:-.1254},{reference_site:"135",wildtype:"T",mutant:"P",Escape:-.0363,epitope:1,times_seen:6.6667,effect:-.1852},{reference_site:"135",wildtype:"T",mutant:"Q",Escape:-.0247,epitope:1,times_seen:2.5,effect:.1161},{reference_site:"135",wildtype:"T",mutant:"S",Escape:-.0218,epitope:1,times_seen:9,effect:-.2216},{reference_site:"135",wildtype:"T",mutant:"V",Escape:.0108,epitope:1,times_seen:1.3333,effect:.3539},{reference_site:"135",wildtype:"T",mutant:"W",Escape:-.0242,epitope:1,times_seen:1.6667,effect:-.5944},{reference_site:"135",wildtype:"T",mutant:"Y",Escape:-.0622,epitope:1,times_seen:6,effect:-.4709},{reference_site:"135",wildtype:"T",mutant:"-",Escape:-.0177,epitope:1,times_seen:1,effect:-.0706},{reference_site:"136",wildtype:"Y",mutant:"A",Escape:-.0612,epitope:1,times_seen:4,effect:-.4805},{reference_site:"136",wildtype:"Y",mutant:"C",Escape:-.0542,epitope:1,times_seen:4.5,effect:-1.1544},{reference_site:"136",wildtype:"Y",mutant:"D",Escape:-.0805,epitope:1,times_seen:6,effect:-.4629},{reference_site:"136",wildtype:"Y",mutant:"E",Escape:-.1116,epitope:1,times_seen:3.6667,effect:-.0163},{reference_site:"136",wildtype:"Y",mutant:"F",Escape:-.0967,epitope:1,times_seen:7.6667,effect:-.0196},{reference_site:"136",wildtype:"Y",mutant:"G",Escape:-.0528,epitope:1,times_seen:2.6667,effect:-.4755},{reference_site:"136",wildtype:"Y",mutant:"H",Escape:-.198,epitope:1,times_seen:12.3333,effect:.0097},{reference_site:"136",wildtype:"Y",mutant:"I",Escape:-.024,epitope:1,times_seen:6.6667,effect:.1838},{reference_site:"136",wildtype:"Y",mutant:"K",Escape:-.0155,epitope:1,times_seen:1.6667,effect:-.2874},{reference_site:"136",wildtype:"Y",mutant:"L",Escape:-.0606,epitope:1,times_seen:5.5,effect:-.3395},{reference_site:"136",wildtype:"Y",mutant:"M",Escape:-.076,epitope:1,times_seen:5,effect:-.05},{reference_site:"136",wildtype:"Y",mutant:"N",Escape:-.2489,epitope:1,times_seen:16.3333,effect:-.0296},{reference_site:"136",wildtype:"Y",mutant:"P",Escape:-.1536,epitope:1,times_seen:4.3333,effect:-.0555},{reference_site:"136",wildtype:"Y",mutant:"Q",Escape:-.0412,epitope:1,times_seen:3.3333,effect:-.352},{reference_site:"136",wildtype:"Y",mutant:"R",Escape:-.0486,epitope:1,times_seen:3.3333,effect:-.4611},{reference_site:"136",wildtype:"Y",mutant:"S",Escape:-.0803,epitope:1,times_seen:2.3333,effect:-.6036},{reference_site:"136",wildtype:"Y",mutant:"T",Escape:-.0064,epitope:1,times_seen:3,effect:-.6579},{reference_site:"136",wildtype:"Y",mutant:"V",Escape:-.02,epitope:1,times_seen:4,effect:-.0784},{reference_site:"136",wildtype:"Y",mutant:"W",Escape:.2576,epitope:1,times_seen:3.3333,effect:-.4163},{reference_site:"136",wildtype:"Y",mutant:"-",Escape:-.0287,epitope:1,times_seen:1,effect:-.2325},{reference_site:"137",wildtype:"N",mutant:"A",Escape:.0143,epitope:1,times_seen:1,effect:.1891},{reference_site:"137",wildtype:"N",mutant:"C",Escape:.1054,epitope:1,times_seen:1,effect:-3.3025},{reference_site:"137",wildtype:"N",mutant:"D",Escape:.0426,epitope:1,times_seen:2.6667,effect:.0252},{reference_site:"137",wildtype:"N",mutant:"E",Escape:-.0318,epitope:1,times_seen:4.6667,effect:-.0116},{reference_site:"137",wildtype:"N",mutant:"F",Escape:-.0087,epitope:1,times_seen:3,effect:-.3085},{reference_site:"137",wildtype:"N",mutant:"G",Escape:-.0209,epitope:1,times_seen:1.5,effect:-.0992},{reference_site:"137",wildtype:"N",mutant:"H",Escape:.0376,epitope:1,times_seen:2.3333,effect:-.0484},{reference_site:"137",wildtype:"N",mutant:"I",Escape:.0091,epitope:1,times_seen:3.3333,effect:-.6463},{reference_site:"137",wildtype:"N",mutant:"K",Escape:-.0031,epitope:1,times_seen:3.6667,effect:-.0178},{reference_site:"137",wildtype:"N",mutant:"L",Escape:.0038,epitope:1,times_seen:1,effect:-.4213},{reference_site:"137",wildtype:"N",mutant:"M",Escape:.0076,epitope:1,times_seen:3.3333,effect:-.3953},{reference_site:"137",wildtype:"N",mutant:"P",Escape:-.0121,epitope:1,times_seen:2.3333,effect:.4729},{reference_site:"137",wildtype:"N",mutant:"Q",Escape:.0363,epitope:1,times_seen:2.5,effect:.2813},{reference_site:"137",wildtype:"N",mutant:"S",Escape:.0425,epitope:1,times_seen:6,effect:-.1042},{reference_site:"137",wildtype:"N",mutant:"T",Escape:-.0293,epitope:1,times_seen:7,effect:-.0113},{reference_site:"137",wildtype:"N",mutant:"V",Escape:-.0415,epitope:1,times_seen:5,effect:-.4346},{reference_site:"137",wildtype:"N",mutant:"W",Escape:-.0657,epitope:1,times_seen:3.3333,effect:-.9632},{reference_site:"137",wildtype:"N",mutant:"Y",Escape:5e-4,epitope:1,times_seen:1.3333,effect:-.7553},{reference_site:"137",wildtype:"N",mutant:"-",Escape:-.028,epitope:1,times_seen:1,effect:-.1451},{reference_site:"138",wildtype:"I",mutant:"A",Escape:-.0381,epitope:1,times_seen:6.3333,effect:.1164},{reference_site:"138",wildtype:"I",mutant:"C",Escape:-.0236,epitope:1,times_seen:3,effect:-.5032},{reference_site:"138",wildtype:"I",mutant:"D",Escape:-.045,epitope:1,times_seen:4.3333,effect:-.8838},{reference_site:"138",wildtype:"I",mutant:"E",Escape:-.0652,epitope:1,times_seen:6.6667,effect:-.1748},{reference_site:"138",wildtype:"I",mutant:"F",Escape:.0471,epitope:1,times_seen:11.6667,effect:-.3113},{reference_site:"138",wildtype:"I",mutant:"G",Escape:-.0898,epitope:1,times_seen:4.3333,effect:-.1886},{reference_site:"138",wildtype:"I",mutant:"H",Escape:-.1157,epitope:1,times_seen:4.3333,effect:-.6208},{reference_site:"138",wildtype:"I",mutant:"K",Escape:-.048,epitope:1,times_seen:2.3333,effect:-.9516},{reference_site:"138",wildtype:"I",mutant:"L",Escape:-.0097,epitope:1,times_seen:5.3333,effect:-.0525},{reference_site:"138",wildtype:"I",mutant:"M",Escape:-.0365,epitope:1,times_seen:5.3333,effect:.061},{reference_site:"138",wildtype:"I",mutant:"N",Escape:-.11,epitope:1,times_seen:8,effect:-.2545},{reference_site:"138",wildtype:"I",mutant:"P",Escape:-.0575,epitope:1,times_seen:3,effect:-.9124},{reference_site:"138",wildtype:"I",mutant:"Q",Escape:-.06,epitope:1,times_seen:1.5,effect:-.9463},{reference_site:"138",wildtype:"I",mutant:"R",Escape:-.0042,epitope:1,times_seen:1.3333,effect:-1.484},{reference_site:"138",wildtype:"I",mutant:"S",Escape:-.1664,epitope:1,times_seen:9,effect:-.1747},{reference_site:"138",wildtype:"I",mutant:"T",Escape:-.2317,epitope:1,times_seen:12.3333,effect:-.1304},{reference_site:"138",wildtype:"I",mutant:"V",Escape:-.0464,epitope:1,times_seen:3.6667,effect:.1372},{reference_site:"138",wildtype:"I",mutant:"W",Escape:.027,epitope:1,times_seen:2.6667,effect:-.2908},{reference_site:"138",wildtype:"I",mutant:"Y",Escape:-.0293,epitope:1,times_seen:8,effect:-.1709},{reference_site:"138",wildtype:"I",mutant:"-",Escape:-.0291,epitope:1,times_seen:1,effect:-.1451},{reference_site:"139",wildtype:"T",mutant:"A",Escape:-.0124,epitope:1,times_seen:10.3333,effect:.1111},{reference_site:"139",wildtype:"T",mutant:"C",Escape:.102,epitope:1,times_seen:2.3333,effect:-1.8596},{reference_site:"139",wildtype:"T",mutant:"D",Escape:.0111,epitope:1,times_seen:9.3333,effect:.017},{reference_site:"139",wildtype:"T",mutant:"E",Escape:-.0217,epitope:1,times_seen:7.6667,effect:-.1124},{reference_site:"139",wildtype:"T",mutant:"F",Escape:-.0108,epitope:1,times_seen:7.6667,effect:-.2395},{reference_site:"139",wildtype:"T",mutant:"G",Escape:-.0214,epitope:1,times_seen:2.6667,effect:.0092},{reference_site:"139",wildtype:"T",mutant:"H",Escape:.1357,epitope:1,times_seen:6.6667,effect:.0223},{reference_site:"139",wildtype:"T",mutant:"I",Escape:-.0998,epitope:1,times_seen:9.3333,effect:-.0443},{reference_site:"139",wildtype:"T",mutant:"K",Escape:-.0456,epitope:1,times_seen:5,effect:.0836},{reference_site:"139",wildtype:"T",mutant:"L",Escape:-.0057,epitope:1,times_seen:6.3333,effect:.1157},{reference_site:"139",wildtype:"T",mutant:"M",Escape:3e-4,epitope:1,times_seen:5.3333,effect:.1685},{reference_site:"139",wildtype:"T",mutant:"N",Escape:.061,epitope:1,times_seen:9,effect:-.0195},{reference_site:"139",wildtype:"T",mutant:"P",Escape:.0061,epitope:1,times_seen:8.3333,effect:.0211},{reference_site:"139",wildtype:"T",mutant:"Q",Escape:-.0547,epitope:1,times_seen:6.6667,effect:-.0397},{reference_site:"139",wildtype:"T",mutant:"R",Escape:-.0257,epitope:1,times_seen:3,effect:-.0159},{reference_site:"139",wildtype:"T",mutant:"S",Escape:.0361,epitope:1,times_seen:8,effect:-.1463},{reference_site:"139",wildtype:"T",mutant:"V",Escape:-.0497,epitope:1,times_seen:4,effect:-.1774},{reference_site:"139",wildtype:"T",mutant:"W",Escape:-.1028,epitope:1,times_seen:3,effect:-.1925},{reference_site:"139",wildtype:"T",mutant:"Y",Escape:-.0671,epitope:1,times_seen:6.3333,effect:-.1455},{reference_site:"140",wildtype:"S",mutant:"A",Escape:.0141,epitope:1,times_seen:2.5,effect:-.3139},{reference_site:"140",wildtype:"S",mutant:"C",Escape:.013,epitope:1,times_seen:1,effect:-2.0103},{reference_site:"140",wildtype:"S",mutant:"D",Escape:-.0058,epitope:1,times_seen:3.3333,effect:-.2121},{reference_site:"140",wildtype:"S",mutant:"E",Escape:.109,epitope:1,times_seen:3,effect:-.1604},{reference_site:"140",wildtype:"S",mutant:"F",Escape:-.0272,epitope:1,times_seen:2.3333,effect:-.6},{reference_site:"140",wildtype:"S",mutant:"G",Escape:.0188,epitope:1,times_seen:4.3333,effect:.0883},{reference_site:"140",wildtype:"S",mutant:"H",Escape:-.1231,epitope:1,times_seen:6.6667,effect:-.0469},{reference_site:"140",wildtype:"S",mutant:"I",Escape:.0262,epitope:1,times_seen:9.3333,effect:-.1692},{reference_site:"140",wildtype:"S",mutant:"K",Escape:-6e-4,epitope:1,times_seen:5.6667,effect:-.0112},{reference_site:"140",wildtype:"S",mutant:"L",Escape:-.0082,epitope:1,times_seen:4.3333,effect:-.2981},{reference_site:"140",wildtype:"S",mutant:"M",Escape:.2857,epitope:1,times_seen:4,effect:-.2323},{reference_site:"140",wildtype:"S",mutant:"N",Escape:.0065,epitope:1,times_seen:6,effect:-.0387},{reference_site:"140",wildtype:"S",mutant:"P",Escape:-.0457,epitope:1,times_seen:3.6667,effect:.245},{reference_site:"140",wildtype:"S",mutant:"Q",Escape:.0042,epitope:1,times_seen:2,effect:.4998},{reference_site:"140",wildtype:"S",mutant:"R",Escape:.0741,epitope:1,times_seen:4.6667,effect:-.0881},{reference_site:"140",wildtype:"S",mutant:"T",Escape:-.0027,epitope:1,times_seen:7,effect:-.0766},{reference_site:"140",wildtype:"S",mutant:"V",Escape:.0034,epitope:1,times_seen:1.5,effect:-.6986},{reference_site:"140",wildtype:"S",mutant:"W",Escape:-.008,epitope:1,times_seen:5,effect:-.0718},{reference_site:"140",wildtype:"S",mutant:"Y",Escape:.0716,epitope:1,times_seen:5,effect:-.3289},{reference_site:"141",wildtype:"D",mutant:"A",Escape:-.0474,epitope:1,times_seen:8.6667,effect:-.1218},{reference_site:"141",wildtype:"D",mutant:"C",Escape:.0389,epitope:1,times_seen:1,effect:-1.6805},{reference_site:"141",wildtype:"D",mutant:"E",Escape:-.0049,epitope:1,times_seen:11,effect:-.0957},{reference_site:"141",wildtype:"D",mutant:"F",Escape:-.0197,epitope:1,times_seen:2,effect:-.3517},{reference_site:"141",wildtype:"D",mutant:"G",Escape:-.0054,epitope:1,times_seen:6.6667,effect:.0075},{reference_site:"141",wildtype:"D",mutant:"H",Escape:.0038,epitope:1,times_seen:7.6667,effect:-.1433},{reference_site:"141",wildtype:"D",mutant:"I",Escape:.0665,epitope:1,times_seen:6,effect:-.4419},{reference_site:"141",wildtype:"D",mutant:"K",Escape:.1221,epitope:1,times_seen:2.3333,effect:-.4962},{reference_site:"141",wildtype:"D",mutant:"L",Escape:-.0395,epitope:1,times_seen:3,effect:.1634},{reference_site:"141",wildtype:"D",mutant:"M",Escape:.0052,epitope:1,times_seen:2,effect:-.1798},{reference_site:"141",wildtype:"D",mutant:"N",Escape:.0139,epitope:1,times_seen:11,effect:-.2141},{reference_site:"141",wildtype:"D",mutant:"P",Escape:-.0205,epitope:1,times_seen:2.6667,effect:-.022},{reference_site:"141",wildtype:"D",mutant:"Q",Escape:.0141,epitope:1,times_seen:3.3333,effect:-.2576},{reference_site:"141",wildtype:"D",mutant:"S",Escape:-.009,epitope:1,times_seen:4.6667,effect:-.1336},{reference_site:"141",wildtype:"D",mutant:"T",Escape:-.0449,epitope:1,times_seen:6.3333,effect:.0044},{reference_site:"141",wildtype:"D",mutant:"V",Escape:.0051,epitope:1,times_seen:3.3333,effect:-.0634},{reference_site:"141",wildtype:"D",mutant:"W",Escape:-.0188,epitope:1,times_seen:4.3333,effect:.0425},{reference_site:"141",wildtype:"D",mutant:"Y",Escape:-.0239,epitope:1,times_seen:7,effect:-.1264},{reference_site:"142",wildtype:"M",mutant:"A",Escape:-.0113,epitope:1,times_seen:1,effect:-.0041},{reference_site:"142",wildtype:"M",mutant:"C",Escape:.0233,epitope:1,times_seen:2,effect:-1.4861},{reference_site:"142",wildtype:"M",mutant:"D",Escape:-.0086,epitope:1,times_seen:1,effect:-.5494},{reference_site:"142",wildtype:"M",mutant:"E",Escape:-.0239,epitope:1,times_seen:4.6667,effect:-.3982},{reference_site:"142",wildtype:"M",mutant:"F",Escape:.2435,epitope:1,times_seen:3.6667,effect:-.1094},{reference_site:"142",wildtype:"M",mutant:"H",Escape:-.0096,epitope:1,times_seen:1,effect:-1.3004},{reference_site:"142",wildtype:"M",mutant:"I",Escape:.0603,epitope:1,times_seen:22,effect:.0291},{reference_site:"142",wildtype:"M",mutant:"K",Escape:-.0418,epitope:1,times_seen:4.3333,effect:-.5828},{reference_site:"142",wildtype:"M",mutant:"L",Escape:.0149,epitope:1,times_seen:11.3333,effect:-.0394},{reference_site:"142",wildtype:"M",mutant:"N",Escape:-.2188,epitope:1,times_seen:4,effect:-.3665},{reference_site:"142",wildtype:"M",mutant:"P",Escape:.031,epitope:1,times_seen:3,effect:-.8624},{reference_site:"142",wildtype:"M",mutant:"Q",Escape:-.0625,epitope:1,times_seen:4.3333,effect:.0176},{reference_site:"142",wildtype:"M",mutant:"R",Escape:.0811,epitope:1,times_seen:3,effect:-.7848},{reference_site:"142",wildtype:"M",mutant:"S",Escape:-.0075,epitope:1,times_seen:1.3333,effect:-.641},{reference_site:"142",wildtype:"M",mutant:"T",Escape:-.0172,epitope:1,times_seen:1,effect:-.7484},{reference_site:"142",wildtype:"M",mutant:"V",Escape:.0085,epitope:1,times_seen:12.3333,effect:.0203},{reference_site:"142",wildtype:"M",mutant:"W",Escape:-.0148,epitope:1,times_seen:2.6667,effect:-.2434},{reference_site:"142",wildtype:"M",mutant:"Y",Escape:-.0139,epitope:1,times_seen:5,effect:-.1359},{reference_site:"151",wildtype:"K",mutant:"A",Escape:-.0405,epitope:1,times_seen:3.3333,effect:-.3465},{reference_site:"151",wildtype:"K",mutant:"C",Escape:.0515,epitope:1,times_seen:2,effect:-1.8342},{reference_site:"151",wildtype:"K",mutant:"D",Escape:.0098,epitope:1,times_seen:1,effect:-.82},{reference_site:"151",wildtype:"K",mutant:"E",Escape:-.0431,epitope:1,times_seen:3.6667,effect:-1.2669},{reference_site:"151",wildtype:"K",mutant:"F",Escape:-.041,epitope:1,times_seen:3,effect:-1.3954},{reference_site:"151",wildtype:"K",mutant:"G",Escape:.0431,epitope:1,times_seen:2,effect:1.3269},{reference_site:"151",wildtype:"K",mutant:"H",Escape:-.0147,epitope:1,times_seen:2,effect:-.6131},{reference_site:"151",wildtype:"K",mutant:"L",Escape:.0396,epitope:1,times_seen:1,effect:-1.4389},{reference_site:"151",wildtype:"K",mutant:"M",Escape:-.0537,epitope:1,times_seen:2.3333,effect:-.4038},{reference_site:"151",wildtype:"K",mutant:"N",Escape:.0255,epitope:1,times_seen:21.6667,effect:-.0933},{reference_site:"151",wildtype:"K",mutant:"P",Escape:3e-4,epitope:1,times_seen:2,effect:-1.0084},{reference_site:"151",wildtype:"K",mutant:"Q",Escape:-.0118,epitope:1,times_seen:1.6667,effect:-.279},{reference_site:"151",wildtype:"K",mutant:"R",Escape:.0026,epitope:1,times_seen:6,effect:-.1374},{reference_site:"151",wildtype:"K",mutant:"S",Escape:.0666,epitope:1,times_seen:2.3333,effect:-.0484},{reference_site:"151",wildtype:"K",mutant:"T",Escape:-.0969,epitope:1,times_seen:5.3333,effect:-.0627},{reference_site:"151",wildtype:"K",mutant:"V",Escape:-.0861,epitope:1,times_seen:4,effect:-.4796},{reference_site:"151",wildtype:"K",mutant:"W",Escape:-.0233,epitope:1,times_seen:2.3333,effect:-.7608},{reference_site:"151",wildtype:"K",mutant:"Y",Escape:.0151,epitope:1,times_seen:3,effect:-.267},{reference_site:"152",wildtype:"E",mutant:"A",Escape:.0734,epitope:1,times_seen:8.3333,effect:-.0292},{reference_site:"152",wildtype:"E",mutant:"C",Escape:-.0141,epitope:1,times_seen:1.6667,effect:-.7842},{reference_site:"152",wildtype:"E",mutant:"D",Escape:-.1108,epitope:1,times_seen:19.3333,effect:.0157},{reference_site:"152",wildtype:"E",mutant:"F",Escape:-.001,epitope:1,times_seen:4,effect:-.34},{reference_site:"152",wildtype:"E",mutant:"G",Escape:.0512,epitope:1,times_seen:8.3333,effect:-.0672},{reference_site:"152",wildtype:"E",mutant:"H",Escape:.0336,epitope:1,times_seen:4.6667,effect:-.2616},{reference_site:"152",wildtype:"E",mutant:"I",Escape:-.0071,epitope:1,times_seen:5,effect:-1.4506},{reference_site:"152",wildtype:"E",mutant:"K",Escape:-.0419,epitope:1,times_seen:6.3333,effect:-.1056},{reference_site:"152",wildtype:"E",mutant:"L",Escape:-.0071,epitope:1,times_seen:2.3333,effect:-.1759},{reference_site:"152",wildtype:"E",mutant:"M",Escape:-.0048,epitope:1,times_seen:2.3333,effect:-.4103},{reference_site:"152",wildtype:"E",mutant:"N",Escape:-.0228,epitope:1,times_seen:4.3333,effect:-.2233},{reference_site:"152",wildtype:"E",mutant:"P",Escape:.0063,epitope:1,times_seen:6,effect:-.2808},{reference_site:"152",wildtype:"E",mutant:"Q",Escape:-1e-4,epitope:1,times_seen:2,effect:-.3712},{reference_site:"152",wildtype:"E",mutant:"R",Escape:.0334,epitope:1,times_seen:8.6667,effect:-.1511},{reference_site:"152",wildtype:"E",mutant:"S",Escape:.0282,epitope:1,times_seen:4,effect:.0287},{reference_site:"152",wildtype:"E",mutant:"T",Escape:.01,epitope:1,times_seen:3.3333,effect:-.14},{reference_site:"152",wildtype:"E",mutant:"V",Escape:.0105,epitope:1,times_seen:6.3333,effect:-.5168},{reference_site:"152",wildtype:"E",mutant:"W",Escape:.0561,epitope:1,times_seen:5,effect:-.2084},{reference_site:"152",wildtype:"E",mutant:"Y",Escape:.0156,epitope:1,times_seen:6,effect:-.1221},{reference_site:"152",wildtype:"E",mutant:"*",Escape:.0257,epitope:1,times_seen:1.5,effect:-2.8778},{reference_site:"153",wildtype:"E",mutant:"A",Escape:-.039,epitope:1,times_seen:3,effect:-.318},{reference_site:"153",wildtype:"E",mutant:"D",Escape:-.042,epitope:1,times_seen:10.3333,effect:.0134},{reference_site:"153",wildtype:"E",mutant:"F",Escape:.124,epitope:1,times_seen:4.6667,effect:-.4455},{reference_site:"153",wildtype:"E",mutant:"G",Escape:.0123,epitope:1,times_seen:8,effect:-.3278},{reference_site:"153",wildtype:"E",mutant:"I",Escape:-.0069,epitope:1,times_seen:3.6667,effect:-.4373},{reference_site:"153",wildtype:"E",mutant:"K",Escape:-.0578,epitope:1,times_seen:6.3333,effect:-.6105},{reference_site:"153",wildtype:"E",mutant:"L",Escape:.0453,epitope:1,times_seen:3.3333,effect:-.0661},{reference_site:"153",wildtype:"E",mutant:"M",Escape:-.0393,epitope:1,times_seen:4.6667,effect:.1153},{reference_site:"153",wildtype:"E",mutant:"N",Escape:-.0194,epitope:1,times_seen:3,effect:-1.822},{reference_site:"153",wildtype:"E",mutant:"Q",Escape:.0112,epitope:1,times_seen:8.6667,effect:.026},{reference_site:"153",wildtype:"E",mutant:"R",Escape:-.0199,epitope:1,times_seen:2.6667,effect:-.3821},{reference_site:"153",wildtype:"E",mutant:"S",Escape:-.0019,epitope:1,times_seen:2.3333,effect:-1.1328},{reference_site:"153",wildtype:"E",mutant:"T",Escape:.0039,epitope:1,times_seen:1.5,effect:.0992},{reference_site:"153",wildtype:"E",mutant:"V",Escape:.0344,epitope:1,times_seen:3.6667,effect:-.5593},{reference_site:"153",wildtype:"E",mutant:"W",Escape:-.0177,epitope:1,times_seen:4,effect:-.1617},{reference_site:"153",wildtype:"E",mutant:"Y",Escape:-.0054,epitope:1,times_seen:3.5,effect:-.3455},{reference_site:"153",wildtype:"E",mutant:"*",Escape:.0151,epitope:1,times_seen:1,effect:-3.1754},{reference_site:"154",wildtype:"I",mutant:"A",Escape:.0017,epitope:1,times_seen:1.5,effect:-3.1414},{reference_site:"154",wildtype:"I",mutant:"E",Escape:-.0112,epitope:1,times_seen:1,effect:-2.1035},{reference_site:"154",wildtype:"I",mutant:"F",Escape:.0494,epitope:1,times_seen:7.6667,effect:.0142},{reference_site:"154",wildtype:"I",mutant:"K",Escape:.022,epitope:1,times_seen:1,effect:-2.3376},{reference_site:"154",wildtype:"I",mutant:"L",Escape:-.0287,epitope:1,times_seen:6.6667,effect:.0396},{reference_site:"154",wildtype:"I",mutant:"M",Escape:.0461,epitope:1,times_seen:10.6667,effect:-.3929},{reference_site:"154",wildtype:"I",mutant:"Q",Escape:-.0072,epitope:1,times_seen:3,effect:-1.7188},{reference_site:"154",wildtype:"I",mutant:"S",Escape:.0098,epitope:1,times_seen:1,effect:-3.173},{reference_site:"154",wildtype:"I",mutant:"V",Escape:.0107,epitope:1,times_seen:2,effect:-.9985},{reference_site:"154",wildtype:"I",mutant:"W",Escape:.0347,epitope:1,times_seen:4,effect:-.1243},{reference_site:"154",wildtype:"I",mutant:"Y",Escape:.0398,epitope:1,times_seen:10.6667,effect:.0532},{reference_site:"155",wildtype:"T",mutant:"A",Escape:.1599,epitope:1,times_seen:7.3333,effect:-.2536},{reference_site:"155",wildtype:"T",mutant:"C",Escape:-.0292,epitope:1,times_seen:2,effect:-.4524},{reference_site:"155",wildtype:"T",mutant:"D",Escape:.0728,epitope:1,times_seen:1,effect:-2.9627},{reference_site:"155",wildtype:"T",mutant:"F",Escape:-.0353,epitope:1,times_seen:4.3333,effect:-.1916},{reference_site:"155",wildtype:"T",mutant:"G",Escape:.0284,epitope:1,times_seen:1,effect:-2.996},{reference_site:"155",wildtype:"T",mutant:"H",Escape:.0065,epitope:1,times_seen:3,effect:-.3246},{reference_site:"155",wildtype:"T",mutant:"I",Escape:.0031,epitope:1,times_seen:7.3333,effect:.079},{reference_site:"155",wildtype:"T",mutant:"K",Escape:-.0104,epitope:1,times_seen:2.3333,effect:-.4129},{reference_site:"155",wildtype:"T",mutant:"L",Escape:-.0435,epitope:1,times_seen:4,effect:-.5895},{reference_site:"155",wildtype:"T",mutant:"M",Escape:-.0309,epitope:1,times_seen:3.6667,effect:-.9507},{reference_site:"155",wildtype:"T",mutant:"N",Escape:.0049,epitope:1,times_seen:1,effect:-1.8742},{reference_site:"155",wildtype:"T",mutant:"Q",Escape:-.0436,epitope:1,times_seen:3,effect:-.1885},{reference_site:"155",wildtype:"T",mutant:"R",Escape:.1754,epitope:1,times_seen:3,effect:-.6313},{reference_site:"155",wildtype:"T",mutant:"S",Escape:.0092,epitope:1,times_seen:5.3333,effect:-.2852},{reference_site:"155",wildtype:"T",mutant:"V",Escape:-.0033,epitope:1,times_seen:2,effect:-.4215},{reference_site:"155",wildtype:"T",mutant:"W",Escape:-.0214,epitope:1,times_seen:2.3333,effect:-.254},{reference_site:"155",wildtype:"T",mutant:"Y",Escape:-.0107,epitope:1,times_seen:2.3333,effect:-.0529},{reference_site:"156",wildtype:"N",mutant:"D",Escape:.0283,epitope:1,times_seen:1,effect:-3.0838},{reference_site:"156",wildtype:"N",mutant:"E",Escape:-.0029,epitope:1,times_seen:1,effect:-1.3983},{reference_site:"156",wildtype:"N",mutant:"G",Escape:.0279,epitope:1,times_seen:1,effect:-2.7153},{reference_site:"156",wildtype:"N",mutant:"I",Escape:.0076,epitope:1,times_seen:1,effect:-2.9333},{reference_site:"156",wildtype:"N",mutant:"K",Escape:-.0088,epitope:1,times_seen:1,effect:-1.9208},{reference_site:"156",wildtype:"N",mutant:"Q",Escape:-.0089,epitope:1,times_seen:1,effect:-2.1863},{reference_site:"156",wildtype:"N",mutant:"R",Escape:.0065,epitope:1,times_seen:1,effect:-2.4479},{reference_site:"156",wildtype:"N",mutant:"S",Escape:.0439,epitope:1,times_seen:2,effect:-1.9476},{reference_site:"156",wildtype:"N",mutant:"T",Escape:.0208,epitope:1,times_seen:1,effect:-2.5703},{reference_site:"156",wildtype:"N",mutant:"Y",Escape:.0011,epitope:1,times_seen:1,effect:-3.0843},{reference_site:"157",wildtype:"C",mutant:"F",Escape:.0124,epitope:1,times_seen:2,effect:-2.7491},{reference_site:"157",wildtype:"C",mutant:"Y",Escape:.014,epitope:1,times_seen:1,effect:-1.1405},{reference_site:"157",wildtype:"C",mutant:"*",Escape:.0042,epitope:1,times_seen:1,effect:-2.0891},{reference_site:"158",wildtype:"S",mutant:"E",Escape:4e-4,epitope:1,times_seen:2,effect:-2.1757},{reference_site:"158",wildtype:"S",mutant:"G",Escape:.0118,epitope:1,times_seen:1.6667,effect:-3.0315},{reference_site:"158",wildtype:"S",mutant:"I",Escape:.0101,epitope:1,times_seen:1,effect:-.3832},{reference_site:"158",wildtype:"S",mutant:"L",Escape:.0206,epitope:1,times_seen:1,effect:-2.5831},{reference_site:"158",wildtype:"S",mutant:"T",Escape:-.0071,epitope:1,times_seen:8.3333,effect:-.2872},{reference_site:"158",wildtype:"S",mutant:"Y",Escape:.0183,epitope:1,times_seen:1,effect:-3.2638},{reference_site:"159",wildtype:"Y",mutant:"F",Escape:-.0011,epitope:1,times_seen:3,effect:-.2291},{reference_site:"159",wildtype:"Y",mutant:"H",Escape:.0127,epitope:1,times_seen:1,effect:-2.2683},{reference_site:"159",wildtype:"Y",mutant:"V",Escape:.0028,epitope:1,times_seen:1,effect:-2.5676},{reference_site:"160",wildtype:"N",mutant:"A",Escape:-.0077,epitope:1,times_seen:1.3333,effect:-.3874},{reference_site:"160",wildtype:"N",mutant:"D",Escape:.0076,epitope:1,times_seen:4,effect:-.59},{reference_site:"160",wildtype:"N",mutant:"E",Escape:-.0174,epitope:1,times_seen:5,effect:-.2272},{reference_site:"160",wildtype:"N",mutant:"F",Escape:.0258,epitope:1,times_seen:3,effect:-.4744},{reference_site:"160",wildtype:"N",mutant:"H",Escape:-.0275,epitope:1,times_seen:11,effect:-.1322},{reference_site:"160",wildtype:"N",mutant:"I",Escape:.0895,epitope:1,times_seen:7,effect:-.5666},{reference_site:"160",wildtype:"N",mutant:"K",Escape:.1639,epitope:1,times_seen:8,effect:-.6888},{reference_site:"160",wildtype:"N",mutant:"L",Escape:.0609,epitope:1,times_seen:5.6667,effect:-.2656},{reference_site:"160",wildtype:"N",mutant:"M",Escape:.0334,epitope:1,times_seen:2.3333,effect:-.3885},{reference_site:"160",wildtype:"N",mutant:"Q",Escape:.0247,epitope:1,times_seen:2.6667,effect:-.2543},{reference_site:"160",wildtype:"N",mutant:"R",Escape:.1131,epitope:1,times_seen:6,effect:-.5923},{reference_site:"160",wildtype:"N",mutant:"S",Escape:.0852,epitope:1,times_seen:2.3333,effect:-.7032},{reference_site:"160",wildtype:"N",mutant:"T",Escape:.0194,epitope:1,times_seen:2,effect:-.9267},{reference_site:"160",wildtype:"N",mutant:"W",Escape:-.0198,epitope:1,times_seen:2.3333,effect:-.3782},{reference_site:"160",wildtype:"N",mutant:"Y",Escape:.0195,epitope:1,times_seen:3.3333,effect:-.3385},{reference_site:"161",wildtype:"V",mutant:"A",Escape:-.0119,epitope:1,times_seen:2,effect:-1.9113},{reference_site:"161",wildtype:"V",mutant:"F",Escape:-.0037,epitope:1,times_seen:2,effect:-1.5405},{reference_site:"161",wildtype:"V",mutant:"I",Escape:-.0248,epitope:1,times_seen:4.6667,effect:.1362},{reference_site:"161",wildtype:"V",mutant:"K",Escape:.0747,epitope:1,times_seen:1.5,effect:-3.364},{reference_site:"161",wildtype:"V",mutant:"L",Escape:-.0092,epitope:1,times_seen:7,effect:-.3717},{reference_site:"161",wildtype:"V",mutant:"M",Escape:.1141,epitope:1,times_seen:14,effect:-.5165},{reference_site:"161",wildtype:"V",mutant:"N",Escape:.011,epitope:1,times_seen:1,effect:-2.9666},{reference_site:"161",wildtype:"V",mutant:"R",Escape:-.0117,epitope:1,times_seen:1,effect:-2.1063},{reference_site:"161",wildtype:"V",mutant:"S",Escape:.0247,epitope:1,times_seen:1,effect:-2.6027},{reference_site:"161",wildtype:"V",mutant:"T",Escape:-.0103,epitope:1,times_seen:3.3333,effect:-.0764},{reference_site:"161",wildtype:"V",mutant:"Y",Escape:7e-4,epitope:1,times_seen:1.6667,effect:-2.008},{reference_site:"162",wildtype:"T",mutant:"A",Escape:.3515,epitope:1,times_seen:8,effect:-.4734},{reference_site:"162",wildtype:"T",mutant:"D",Escape:-.0379,epitope:1,times_seen:5.3333,effect:-.1866},{reference_site:"162",wildtype:"T",mutant:"E",Escape:-.016,epitope:1,times_seen:2.5,effect:-.7107},{reference_site:"162",wildtype:"T",mutant:"F",Escape:-.0044,epitope:1,times_seen:2,effect:-.5878},{reference_site:"162",wildtype:"T",mutant:"H",Escape:.0024,epitope:1,times_seen:1.3333,effect:-.6496},{reference_site:"162",wildtype:"T",mutant:"I",Escape:.0096,epitope:1,times_seen:5,effect:-.4889},{reference_site:"162",wildtype:"T",mutant:"K",Escape:.0701,epitope:1,times_seen:3.3333,effect:-.9204},{reference_site:"162",wildtype:"T",mutant:"L",Escape:-.0083,epitope:1,times_seen:1,effect:-2.0487},{reference_site:"162",wildtype:"T",mutant:"N",Escape:.0016,epitope:1,times_seen:5,effect:-.5097},{reference_site:"162",wildtype:"T",mutant:"P",Escape:.2017,epitope:1,times_seen:5.6667,effect:-.6287},{reference_site:"162",wildtype:"T",mutant:"Q",Escape:-.0063,epitope:1,times_seen:2.6667,effect:-.8799},{reference_site:"162",wildtype:"T",mutant:"R",Escape:.0438,epitope:1,times_seen:2,effect:-.0574},{reference_site:"162",wildtype:"T",mutant:"S",Escape:.0743,epitope:1,times_seen:5,effect:-.1993},{reference_site:"162",wildtype:"T",mutant:"W",Escape:-.0893,epitope:1,times_seen:4,effect:-1.3466},{reference_site:"163",wildtype:"T",mutant:"A",Escape:.0354,epitope:1,times_seen:8.6667,effect:-.3549},{reference_site:"163",wildtype:"T",mutant:"D",Escape:-.0208,epitope:1,times_seen:2.6667,effect:.1129},{reference_site:"163",wildtype:"T",mutant:"E",Escape:-.0074,epitope:1,times_seen:2.5,effect:-.7881},{reference_site:"163",wildtype:"T",mutant:"G",Escape:-.0157,epitope:1,times_seen:3,effect:-.019},{reference_site:"163",wildtype:"T",mutant:"I",Escape:-.0219,epitope:1,times_seen:3,effect:-1.1246},{reference_site:"163",wildtype:"T",mutant:"N",Escape:.0532,epitope:1,times_seen:10.3333,effect:.0718},{reference_site:"163",wildtype:"T",mutant:"P",Escape:.2473,epitope:1,times_seen:8.6667,effect:-.2729},{reference_site:"163",wildtype:"T",mutant:"Q",Escape:.0139,epitope:1,times_seen:1,effect:-.5595},{reference_site:"163",wildtype:"T",mutant:"R",Escape:.0463,epitope:1,times_seen:3,effect:-.8534},{reference_site:"163",wildtype:"T",mutant:"S",Escape:.0928,epitope:1,times_seen:4.3333,effect:.0076},{reference_site:"164",wildtype:"V",mutant:"A",Escape:-.0243,epitope:1,times_seen:4.6667,effect:.313},{reference_site:"164",wildtype:"V",mutant:"D",Escape:-.0419,epitope:1,times_seen:2,effect:-.454},{reference_site:"164",wildtype:"V",mutant:"E",Escape:-.0389,epitope:1,times_seen:6.6667,effect:.0894},{reference_site:"164",wildtype:"V",mutant:"F",Escape:.1692,epitope:1,times_seen:4.3333,effect:-.3281},{reference_site:"164",wildtype:"V",mutant:"G",Escape:-.0624,epitope:1,times_seen:3,effect:-.5932},{reference_site:"164",wildtype:"V",mutant:"H",Escape:8e-4,epitope:1,times_seen:3,effect:-.2031},{reference_site:"164",wildtype:"V",mutant:"I",Escape:-.0079,epitope:1,times_seen:1,effect:-.1874},{reference_site:"164",wildtype:"V",mutant:"K",Escape:-.0273,epitope:1,times_seen:2.3333,effect:-1.0793},{reference_site:"164",wildtype:"V",mutant:"L",Escape:-.1641,epitope:1,times_seen:6.6667,effect:.0165},{reference_site:"164",wildtype:"V",mutant:"M",Escape:-.1858,epitope:1,times_seen:13.6667,effect:-.113},{reference_site:"164",wildtype:"V",mutant:"N",Escape:-.0586,epitope:1,times_seen:2.6667,effect:-.3328},{reference_site:"164",wildtype:"V",mutant:"P",Escape:.088,epitope:1,times_seen:3,effect:-.2143},{reference_site:"164",wildtype:"V",mutant:"Q",Escape:-.1132,epitope:1,times_seen:7.3333,effect:.0537},{reference_site:"164",wildtype:"V",mutant:"R",Escape:-.0529,epitope:1,times_seen:3.3333,effect:-1.1443},{reference_site:"164",wildtype:"V",mutant:"S",Escape:-.0409,epitope:1,times_seen:2.3333,effect:-.0721},{reference_site:"164",wildtype:"V",mutant:"T",Escape:-.0391,epitope:1,times_seen:2.3333,effect:.1241},{reference_site:"164",wildtype:"V",mutant:"W",Escape:.4717,epitope:1,times_seen:4.3333,effect:.2157},{reference_site:"164",wildtype:"V",mutant:"Y",Escape:.0352,epitope:1,times_seen:1.6667,effect:-.1364},{reference_site:"165",wildtype:"I",mutant:"A",Escape:-.049,epitope:1,times_seen:2.6667,effect:-.7008},{reference_site:"165",wildtype:"I",mutant:"D",Escape:-.0838,epitope:1,times_seen:4,effect:.2399},{reference_site:"165",wildtype:"I",mutant:"E",Escape:-.0579,epitope:1,times_seen:3.6667,effect:-.1245},{reference_site:"165",wildtype:"I",mutant:"F",Escape:.0131,epitope:1,times_seen:6.6667,effect:.0028},{reference_site:"165",wildtype:"I",mutant:"G",Escape:-.0415,epitope:1,times_seen:2,effect:-1.0185},{reference_site:"165",wildtype:"I",mutant:"L",Escape:.0875,epitope:1,times_seen:4.6667,effect:-.0654},{reference_site:"165",wildtype:"I",mutant:"M",Escape:.1596,epitope:1,times_seen:6.3333,effect:-.1528},{reference_site:"165",wildtype:"I",mutant:"N",Escape:-.0964,epitope:1,times_seen:5,effect:.1228},{reference_site:"165",wildtype:"I",mutant:"P",Escape:-.1406,epitope:1,times_seen:6,effect:-.2023},{reference_site:"165",wildtype:"I",mutant:"Q",Escape:.0234,epitope:1,times_seen:3.6667,effect:-.2376},{reference_site:"165",wildtype:"I",mutant:"S",Escape:-.0316,epitope:1,times_seen:5,effect:-.5509},{reference_site:"165",wildtype:"I",mutant:"T",Escape:-.0436,epitope:1,times_seen:4.3333,effect:-.3575},{reference_site:"165",wildtype:"I",mutant:"V",Escape:-.008,epitope:1,times_seen:2,effect:.0529},{reference_site:"165",wildtype:"I",mutant:"Y",Escape:-.0444,epitope:1,times_seen:7,effect:.2341},{reference_site:"166",wildtype:"R",mutant:"A",Escape:-.0365,epitope:1,times_seen:5,effect:.1911},{reference_site:"166",wildtype:"R",mutant:"D",Escape:-.0322,epitope:1,times_seen:3.3333,effect:.4214},{reference_site:"166",wildtype:"R",mutant:"E",Escape:-.0414,epitope:1,times_seen:3.6667,effect:-.089},{reference_site:"166",wildtype:"R",mutant:"F",Escape:-.0295,epitope:1,times_seen:5.3333,effect:-.1441},{reference_site:"166",wildtype:"R",mutant:"G",Escape:-.1368,epitope:1,times_seen:7.6667,effect:.0998},{reference_site:"166",wildtype:"R",mutant:"H",Escape:-.0198,epitope:1,times_seen:3,effect:.17},{reference_site:"166",wildtype:"R",mutant:"I",Escape:.1019,epitope:1,times_seen:14,effect:-.0422},{reference_site:"166",wildtype:"R",mutant:"K",Escape:-.0133,epitope:1,times_seen:6.6667,effect:-.0844},{reference_site:"166",wildtype:"R",mutant:"L",Escape:.1037,epitope:1,times_seen:5.6667,effect:-.0024},{reference_site:"166",wildtype:"R",mutant:"M",Escape:.0415,epitope:1,times_seen:5.6667,effect:-.0511},{reference_site:"166",wildtype:"R",mutant:"N",Escape:-.0784,epitope:1,times_seen:6.3333,effect:-.5881},{reference_site:"166",wildtype:"R",mutant:"Q",Escape:-.0469,epitope:1,times_seen:4,effect:.2727},{reference_site:"166",wildtype:"R",mutant:"S",Escape:-.1444,epitope:1,times_seen:9.3333,effect:.1879},{reference_site:"166",wildtype:"R",mutant:"T",Escape:-.0053,epitope:1,times_seen:3.6667,effect:-.1386},{reference_site:"166",wildtype:"R",mutant:"V",Escape:.0278,epitope:1,times_seen:3,effect:-.2892},{reference_site:"166",wildtype:"R",mutant:"W",Escape:-.0361,epitope:1,times_seen:5.3333,effect:.111},{reference_site:"166",wildtype:"R",mutant:"Y",Escape:-.0328,epitope:1,times_seen:7,effect:-.0545},{reference_site:"167",wildtype:"D",mutant:"A",Escape:.0156,epitope:1,times_seen:2.5,effect:-1.4587},{reference_site:"167",wildtype:"D",mutant:"C",Escape:.0109,epitope:1,times_seen:1,effect:-2.5615},{reference_site:"167",wildtype:"D",mutant:"E",Escape:-.0082,epitope:1,times_seen:1,effect:-1.8264},{reference_site:"167",wildtype:"D",mutant:"G",Escape:.0386,epitope:1,times_seen:4,effect:-.6022},{reference_site:"167",wildtype:"D",mutant:"H",Escape:.0079,epitope:1,times_seen:1.5,effect:-.8601},{reference_site:"167",wildtype:"D",mutant:"K",Escape:.0135,epitope:1,times_seen:1,effect:-1.2714},{reference_site:"167",wildtype:"D",mutant:"N",Escape:.3124,epitope:1,times_seen:9.3333,effect:-.5704},{reference_site:"167",wildtype:"D",mutant:"P",Escape:.0171,epitope:1,times_seen:2.6667,effect:-2.0301},{reference_site:"167",wildtype:"D",mutant:"Q",Escape:.0299,epitope:1,times_seen:1,effect:-.6487},{reference_site:"167",wildtype:"D",mutant:"R",Escape:.0013,epitope:1,times_seen:1,effect:-1.9576},{reference_site:"167",wildtype:"D",mutant:"S",Escape:.0355,epitope:1,times_seen:2.5,effect:-.922},{reference_site:"167",wildtype:"D",mutant:"T",Escape:.0068,epitope:1,times_seen:4,effect:-.8019},{reference_site:"167",wildtype:"D",mutant:"Y",Escape:.0265,epitope:1,times_seen:8.3333,effect:-1.5002},{reference_site:"168",wildtype:"K",mutant:"A",Escape:-.0296,epitope:1,times_seen:1.6667,effect:-.1016},{reference_site:"168",wildtype:"K",mutant:"D",Escape:.0121,epitope:1,times_seen:3.6667,effect:-.323},{reference_site:"168",wildtype:"K",mutant:"E",Escape:-.0433,epitope:1,times_seen:7.6667,effect:.1239},{reference_site:"168",wildtype:"K",mutant:"F",Escape:.0109,epitope:1,times_seen:5.3333,effect:.2177},{reference_site:"168",wildtype:"K",mutant:"G",Escape:-.0376,epitope:1,times_seen:3.3333,effect:.1035},{reference_site:"168",wildtype:"K",mutant:"H",Escape:.0029,epitope:1,times_seen:6,effect:.0325},{reference_site:"168",wildtype:"K",mutant:"I",Escape:.0634,epitope:1,times_seen:3.5,effect:-.3344},{reference_site:"168",wildtype:"K",mutant:"L",Escape:.1052,epitope:1,times_seen:7.6667,effect:.0463},{reference_site:"168",wildtype:"K",mutant:"M",Escape:.0029,epitope:1,times_seen:8.6667,effect:.0019},{reference_site:"168",wildtype:"K",mutant:"N",Escape:-.0513,epitope:1,times_seen:5.6667,effect:-.136},{reference_site:"168",wildtype:"K",mutant:"Q",Escape:.0236,epitope:1,times_seen:9.6667,effect:.0363},{reference_site:"168",wildtype:"K",mutant:"R",Escape:.0353,epitope:1,times_seen:4.3333,effect:-.1421},{reference_site:"168",wildtype:"K",mutant:"S",Escape:-.0169,epitope:1,times_seen:5,effect:-.1762},{reference_site:"168",wildtype:"K",mutant:"T",Escape:-.0181,epitope:1,times_seen:2,effect:.2513},{reference_site:"168",wildtype:"K",mutant:"V",Escape:.0066,epitope:1,times_seen:3.3333,effect:.1546},{reference_site:"168",wildtype:"K",mutant:"W",Escape:-.0197,epitope:1,times_seen:2.3333,effect:-.195},{reference_site:"168",wildtype:"K",mutant:"Y",Escape:.0719,epitope:1,times_seen:5.6667,effect:.0662},{reference_site:"169",wildtype:"K",mutant:"A",Escape:-.0441,epitope:1,times_seen:3.3333,effect:.5123},{reference_site:"169",wildtype:"K",mutant:"C",Escape:-.0159,epitope:1,times_seen:10,effect:-.2718},{reference_site:"169",wildtype:"K",mutant:"D",Escape:.0241,epitope:1,times_seen:5.6667,effect:.0764},{reference_site:"169",wildtype:"K",mutant:"E",Escape:.0752,epitope:1,times_seen:7.3333,effect:5e-4},{reference_site:"169",wildtype:"K",mutant:"F",Escape:-.0411,epitope:1,times_seen:3.3333,effect:-.0677},{reference_site:"169",wildtype:"K",mutant:"G",Escape:-.0447,epitope:1,times_seen:3.5,effect:-.6512},{reference_site:"169",wildtype:"K",mutant:"H",Escape:-.0525,epitope:1,times_seen:7.6667,effect:.2718},{reference_site:"169",wildtype:"K",mutant:"I",Escape:-.0118,epitope:1,times_seen:16.3333,effect:.1119},{reference_site:"169",wildtype:"K",mutant:"L",Escape:-.0376,epitope:1,times_seen:11,effect:.3352},{reference_site:"169",wildtype:"K",mutant:"M",Escape:-.0158,epitope:1,times_seen:16,effect:.2756},{reference_site:"169",wildtype:"K",mutant:"N",Escape:-.0061,epitope:1,times_seen:5.3333,effect:.0175},{reference_site:"169",wildtype:"K",mutant:"P",Escape:-.0465,epitope:1,times_seen:4,effect:-.5906},{reference_site:"169",wildtype:"K",mutant:"Q",Escape:-.0017,epitope:1,times_seen:8,effect:.1639},{reference_site:"169",wildtype:"K",mutant:"R",Escape:-.0059,epitope:1,times_seen:12,effect:-.1204},{reference_site:"169",wildtype:"K",mutant:"S",Escape:-.009,epitope:1,times_seen:4,effect:.0472},{reference_site:"169",wildtype:"K",mutant:"T",Escape:-.0154,epitope:1,times_seen:4,effect:.1469},{reference_site:"169",wildtype:"K",mutant:"V",Escape:-.0078,epitope:1,times_seen:8.3333,effect:-.0683},{reference_site:"169",wildtype:"K",mutant:"W",Escape:-.0109,epitope:1,times_seen:2.3333,effect:-.3668},{reference_site:"169",wildtype:"K",mutant:"Y",Escape:-.0493,epitope:1,times_seen:3.6667,effect:.0894},{reference_site:"170",wildtype:"Q",mutant:"A",Escape:.0261,epitope:1,times_seen:8.6667,effect:-.1484},{reference_site:"170",wildtype:"Q",mutant:"C",Escape:-.009,epitope:1,times_seen:2,effect:-1.7178},{reference_site:"170",wildtype:"Q",mutant:"E",Escape:-.0336,epitope:1,times_seen:5,effect:.0696},{reference_site:"170",wildtype:"Q",mutant:"F",Escape:-.1566,epitope:1,times_seen:7.3333,effect:-.0219},{reference_site:"170",wildtype:"Q",mutant:"H",Escape:-.0545,epitope:1,times_seen:7.3333,effect:-.4044},{reference_site:"170",wildtype:"Q",mutant:"I",Escape:.0154,epitope:1,times_seen:3,effect:-.0054},{reference_site:"170",wildtype:"Q",mutant:"K",Escape:-.0558,epitope:1,times_seen:13,effect:-.2266},{reference_site:"170",wildtype:"Q",mutant:"L",Escape:-.0235,epitope:1,times_seen:6.6667,effect:-.0117},{reference_site:"170",wildtype:"Q",mutant:"M",Escape:-.0015,epitope:1,times_seen:6,effect:.0264},{reference_site:"170",wildtype:"Q",mutant:"N",Escape:-.0025,epitope:1,times_seen:8.3333,effect:-.5007},{reference_site:"170",wildtype:"Q",mutant:"R",Escape:-.0271,epitope:1,times_seen:4.3333,effect:-.2019},{reference_site:"170",wildtype:"Q",mutant:"S",Escape:-.0339,epitope:1,times_seen:4.6667,effect:.0054},{reference_site:"170",wildtype:"Q",mutant:"T",Escape:-.0119,epitope:1,times_seen:4.3333,effect:.3271},{reference_site:"170",wildtype:"Q",mutant:"V",Escape:-.0501,epitope:1,times_seen:17,effect:.1188},{reference_site:"170",wildtype:"Q",mutant:"W",Escape:-.0847,epitope:1,times_seen:5.3333,effect:-.4464},{reference_site:"170",wildtype:"Q",mutant:"Y",Escape:-.1619,epitope:1,times_seen:7,effect:.0936},{reference_site:"170",wildtype:"Q",mutant:"*",Escape:.0317,epitope:1,times_seen:1,effect:-2.6534},{reference_site:"171",wildtype:"K",mutant:"A",Escape:.0263,epitope:1,times_seen:2,effect:-.2184},{reference_site:"171",wildtype:"K",mutant:"C",Escape:.0032,epitope:1,times_seen:1.3333,effect:-1.4673},{reference_site:"171",wildtype:"K",mutant:"D",Escape:-.0034,epitope:1,times_seen:2,effect:-1.2538},{reference_site:"171",wildtype:"K",mutant:"E",Escape:.1315,epitope:1,times_seen:16,effect:.0468},{reference_site:"171",wildtype:"K",mutant:"F",Escape:-.0111,epitope:1,times_seen:7,effect:-.8757},{reference_site:"171",wildtype:"K",mutant:"G",Escape:-.0013,epitope:1,times_seen:1.6667,effect:-.3203},{reference_site:"171",wildtype:"K",mutant:"H",Escape:-.0113,epitope:1,times_seen:4,effect:-.4625},{reference_site:"171",wildtype:"K",mutant:"I",Escape:-.0163,epitope:1,times_seen:5.6667,effect:-.0721},{reference_site:"171",wildtype:"K",mutant:"L",Escape:-.0173,epitope:1,times_seen:1.6667,effect:-.5331},{reference_site:"171",wildtype:"K",mutant:"M",Escape:.0081,epitope:1,times_seen:10.3333,effect:.0101},{reference_site:"171",wildtype:"K",mutant:"N",Escape:.039,epitope:1,times_seen:4.6667,effect:-2.3},{reference_site:"171",wildtype:"K",mutant:"P",Escape:-.0249,epitope:1,times_seen:3.3333,effect:.408},{reference_site:"171",wildtype:"K",mutant:"Q",Escape:.0107,epitope:1,times_seen:8,effect:-.0175},{reference_site:"171",wildtype:"K",mutant:"R",Escape:.0578,epitope:1,times_seen:13.6667,effect:.1065},{reference_site:"171",wildtype:"K",mutant:"S",Escape:.0192,epitope:1,times_seen:4.6667,effect:-.3052},{reference_site:"171",wildtype:"K",mutant:"T",Escape:-.0117,epitope:1,times_seen:7,effect:-.0719},{reference_site:"171",wildtype:"K",mutant:"V",Escape:-.0175,epitope:1,times_seen:4.6667,effect:-.1954},{reference_site:"171",wildtype:"K",mutant:"W",Escape:-.0178,epitope:1,times_seen:2,effect:-.4511},{reference_site:"171",wildtype:"K",mutant:"Y",Escape:-.045,epitope:1,times_seen:9.3333,effect:-.1221},{reference_site:"172",wildtype:"V",mutant:"A",Escape:.0291,epitope:1,times_seen:2,effect:.1875},{reference_site:"172",wildtype:"V",mutant:"D",Escape:.0284,epitope:1,times_seen:1,effect:-3.247},{reference_site:"172",wildtype:"V",mutant:"E",Escape:-.0225,epitope:1,times_seen:9.3333,effect:-.4557},{reference_site:"172",wildtype:"V",mutant:"F",Escape:-.0013,epitope:1,times_seen:4.3333,effect:-.4424},{reference_site:"172",wildtype:"V",mutant:"G",Escape:.0222,epitope:1,times_seen:2,effect:-2.7732},{reference_site:"172",wildtype:"V",mutant:"H",Escape:-.0173,epitope:1,times_seen:3.6667,effect:-.7812},{reference_site:"172",wildtype:"V",mutant:"I",Escape:-.0384,epitope:1,times_seen:5.3333,effect:-.449},{reference_site:"172",wildtype:"V",mutant:"K",Escape:-.0042,epitope:1,times_seen:1.5,effect:-2.8331},{reference_site:"172",wildtype:"V",mutant:"L",Escape:-.0307,epitope:1,times_seen:8.3333,effect:-.3144},{reference_site:"172",wildtype:"V",mutant:"M",Escape:.0232,epitope:1,times_seen:5.6667,effect:-.3713},{reference_site:"172",wildtype:"V",mutant:"Q",Escape:-.0038,epitope:1,times_seen:5.3333,effect:-.6672},{reference_site:"172",wildtype:"V",mutant:"R",Escape:.0121,epitope:1,times_seen:1,effect:-2.3104},{reference_site:"172",wildtype:"V",mutant:"S",Escape:.0114,epitope:1,times_seen:1,effect:-1.2816},{reference_site:"172",wildtype:"V",mutant:"T",Escape:-.0159,epitope:1,times_seen:3,effect:-.2893},{reference_site:"172",wildtype:"V",mutant:"Y",Escape:-.0344,epitope:1,times_seen:4,effect:-.4362},{reference_site:"173",wildtype:"S",mutant:"A",Escape:.0656,epitope:1,times_seen:6,effect:-.3058},{reference_site:"173",wildtype:"S",mutant:"C",Escape:.0357,epitope:1,times_seen:3,effect:-2.5887},{reference_site:"173",wildtype:"S",mutant:"D",Escape:-.0023,epitope:1,times_seen:6.3333,effect:-.2691},{reference_site:"173",wildtype:"S",mutant:"E",Escape:-.0019,epitope:1,times_seen:1,effect:-.4627},{reference_site:"173",wildtype:"S",mutant:"F",Escape:.0103,epitope:1,times_seen:7.3333,effect:-.1591},{reference_site:"173",wildtype:"S",mutant:"G",Escape:.0012,epitope:1,times_seen:1,effect:-2.2782},{reference_site:"173",wildtype:"S",mutant:"H",Escape:-.0568,epitope:1,times_seen:7.3333,effect:-.1049},{reference_site:"173",wildtype:"S",mutant:"I",Escape:-.0241,epitope:1,times_seen:1.6667,effect:-1.0606},{reference_site:"173",wildtype:"S",mutant:"K",Escape:.0297,epitope:1,times_seen:1.3333,effect:-2.7424},{reference_site:"173",wildtype:"S",mutant:"M",Escape:-.0343,epitope:1,times_seen:4,effect:-.5111},{reference_site:"173",wildtype:"S",mutant:"N",Escape:-.0638,epitope:1,times_seen:10,effect:-.0917},{reference_site:"173",wildtype:"S",mutant:"Q",Escape:-.0402,epitope:1,times_seen:4.3333,effect:-.3975},{reference_site:"173",wildtype:"S",mutant:"R",Escape:-.009,epitope:1,times_seen:1.6667,effect:-1.0151},{reference_site:"173",wildtype:"S",mutant:"T",Escape:-.037,epitope:1,times_seen:7,effect:.0527},{reference_site:"173",wildtype:"S",mutant:"V",Escape:-.0233,epitope:1,times_seen:6.6667,effect:-.4961},{reference_site:"173",wildtype:"S",mutant:"W",Escape:.0053,epitope:1,times_seen:7.3333,effect:-.0279},{reference_site:"173",wildtype:"S",mutant:"Y",Escape:.0023,epitope:1,times_seen:3,effect:-.1929},{reference_site:"174",wildtype:"S",mutant:"A",Escape:.0063,epitope:1,times_seen:2.3333,effect:-1.2945},{reference_site:"174",wildtype:"S",mutant:"E",Escape:.0037,epitope:1,times_seen:1,effect:-2.8727},{reference_site:"174",wildtype:"S",mutant:"G",Escape:.0098,epitope:1,times_seen:1.6667,effect:-2.5949},{reference_site:"174",wildtype:"S",mutant:"I",Escape:.0243,epitope:1,times_seen:1,effect:-3.3126},{reference_site:"174",wildtype:"S",mutant:"N",Escape:-.0348,epitope:1,times_seen:6,effect:-.5129},{reference_site:"174",wildtype:"S",mutant:"R",Escape:.01,epitope:1,times_seen:1,effect:-2.4411},{reference_site:"174",wildtype:"S",mutant:"T",Escape:.0039,epitope:1,times_seen:3,effect:-.3491},{reference_site:"175",wildtype:"L",mutant:"F",Escape:-.0116,epitope:1,times_seen:5.3333,effect:.0728},{reference_site:"175",wildtype:"L",mutant:"I",Escape:-.002,epitope:1,times_seen:6,effect:-.0272},{reference_site:"175",wildtype:"L",mutant:"M",Escape:-.0042,epitope:1,times_seen:3.6667,effect:-.4999},{reference_site:"175",wildtype:"L",mutant:"P",Escape:.0608,epitope:1,times_seen:2.5,effect:-3.1922},{reference_site:"175",wildtype:"L",mutant:"T",Escape:.0452,epitope:1,times_seen:1,effect:-.0339},{reference_site:"175",wildtype:"L",mutant:"V",Escape:-.03,epitope:1,times_seen:4.6667,effect:-.4468},{reference_site:"175",wildtype:"L",mutant:"Y",Escape:.0533,epitope:1,times_seen:1,effect:-2.0432},{reference_site:"176",wildtype:"F",mutant:"I",Escape:.0194,epitope:1,times_seen:1,effect:-3.1549},{reference_site:"176",wildtype:"F",mutant:"L",Escape:-.0046,epitope:1,times_seen:3,effect:-1.1025},{reference_site:"176",wildtype:"F",mutant:"M",Escape:.0087,epitope:1,times_seen:1,effect:-.6038},{reference_site:"176",wildtype:"F",mutant:"V",Escape:.0028,epitope:1,times_seen:1,effect:-2.8316},{reference_site:"176",wildtype:"F",mutant:"Y",Escape:.0213,epitope:1,times_seen:3,effect:-2.4086},{reference_site:"177",wildtype:"Y",mutant:"C",Escape:.0194,epitope:1,times_seen:1,effect:-2.0727},{reference_site:"177",wildtype:"Y",mutant:"D",Escape:.1,epitope:1,times_seen:3.5,effect:-.8189},{reference_site:"177",wildtype:"Y",mutant:"F",Escape:.0019,epitope:1,times_seen:2,effect:-.0512},{reference_site:"177",wildtype:"Y",mutant:"H",Escape:-.0089,epitope:1,times_seen:3.3333,effect:-.5048},{reference_site:"177",wildtype:"Y",mutant:"Q",Escape:.0068,epitope:1,times_seen:1,effect:-.6562},{reference_site:"177",wildtype:"Y",mutant:"S",Escape:1e-4,epitope:1,times_seen:1,effect:.1935},{reference_site:"177",wildtype:"Y",mutant:"T",Escape:.0067,epitope:1,times_seen:1,effect:-2.5797},{reference_site:"177",wildtype:"Y",mutant:"*",Escape:.0527,epitope:1,times_seen:1,effect:-2.2205},{reference_site:"178",wildtype:"K",mutant:"A",Escape:-.0143,epitope:1,times_seen:2,effect:-.5279},{reference_site:"178",wildtype:"K",mutant:"E",Escape:.0574,epitope:1,times_seen:1,effect:-2.2367},{reference_site:"178",wildtype:"K",mutant:"G",Escape:-.0136,epitope:1,times_seen:1,effect:-1.4649},{reference_site:"178",wildtype:"K",mutant:"H",Escape:-.0093,epitope:1,times_seen:5.3333,effect:.058},{reference_site:"178",wildtype:"K",mutant:"I",Escape:-.0069,epitope:1,times_seen:3,effect:-.8765},{reference_site:"178",wildtype:"K",mutant:"L",Escape:.1125,epitope:1,times_seen:6.6667,effect:-.5823},{reference_site:"178",wildtype:"K",mutant:"M",Escape:-.0124,epitope:1,times_seen:7.3333,effect:-.2095},{reference_site:"178",wildtype:"K",mutant:"N",Escape:.0147,epitope:1,times_seen:6,effect:-.3338},{reference_site:"178",wildtype:"K",mutant:"Q",Escape:.002,epitope:1,times_seen:5.3333,effect:-.3056},{reference_site:"178",wildtype:"K",mutant:"R",Escape:.0211,epitope:1,times_seen:2.6667,effect:.1287},{reference_site:"178",wildtype:"K",mutant:"S",Escape:.0104,epitope:1,times_seen:3.6667,effect:-.5159},{reference_site:"178",wildtype:"K",mutant:"T",Escape:.0191,epitope:1,times_seen:2,effect:-.4225},{reference_site:"178",wildtype:"K",mutant:"V",Escape:.0065,epitope:1,times_seen:4,effect:-.3486},{reference_site:"178",wildtype:"K",mutant:"W",Escape:-.0136,epitope:1,times_seen:2,effect:-.558},{reference_site:"178",wildtype:"K",mutant:"Y",Escape:-.003,epitope:1,times_seen:3,effect:-.9336},{reference_site:"179",wildtype:"L",mutant:"A",Escape:-.0206,epitope:1,times_seen:2,effect:-.1398},{reference_site:"179",wildtype:"L",mutant:"D",Escape:-.027,epitope:1,times_seen:5.3333,effect:-.539},{reference_site:"179",wildtype:"L",mutant:"E",Escape:-.0014,epitope:1,times_seen:1,effect:-.974},{reference_site:"179",wildtype:"L",mutant:"F",Escape:.0046,epitope:1,times_seen:1,effect:-.6798},{reference_site:"179",wildtype:"L",mutant:"G",Escape:-.0244,epitope:1,times_seen:1.6667,effect:-.6336},{reference_site:"179",wildtype:"L",mutant:"I",Escape:.0419,epitope:1,times_seen:2.6667,effect:-.1195},{reference_site:"179",wildtype:"L",mutant:"M",Escape:-.112,epitope:1,times_seen:8.3333,effect:-.1606},{reference_site:"179",wildtype:"L",mutant:"N",Escape:.0069,epitope:1,times_seen:1.3333,effect:-.9053},{reference_site:"179",wildtype:"L",mutant:"P",Escape:-.0028,epitope:1,times_seen:3.3333,effect:-1.4639},{reference_site:"179",wildtype:"L",mutant:"Q",Escape:-.0679,epitope:1,times_seen:5.6667,effect:-.4737},{reference_site:"179",wildtype:"L",mutant:"R",Escape:.1129,epitope:1,times_seen:1.3333,effect:-1.9014},{reference_site:"179",wildtype:"L",mutant:"S",Escape:-.034,epitope:1,times_seen:2,effect:-.4263},{reference_site:"179",wildtype:"L",mutant:"T",Escape:-.0032,epitope:1,times_seen:2,effect:-.0472},{reference_site:"179",wildtype:"L",mutant:"V",Escape:-.0048,epitope:1,times_seen:4.6667,effect:-.3293},{reference_site:"179",wildtype:"L",mutant:"W",Escape:-.0069,epitope:1,times_seen:7,effect:-.3929},{reference_site:"179",wildtype:"L",mutant:"Y",Escape:-.0294,epitope:1,times_seen:1.6667,effect:-.2506},{reference_site:"180",wildtype:"D",mutant:"E",Escape:.0288,epitope:1,times_seen:1,effect:-2.2422},{reference_site:"180",wildtype:"D",mutant:"G",Escape:.0056,epitope:1,times_seen:1.3333,effect:-3.6195},{reference_site:"180",wildtype:"D",mutant:"N",Escape:4e-4,epitope:1,times_seen:1,effect:-2.8864},{reference_site:"180",wildtype:"D",mutant:"Y",Escape:.1014,epitope:1,times_seen:1,effect:-1.6353},{reference_site:"181",wildtype:"V",mutant:"A",Escape:.0157,epitope:1,times_seen:1,effect:-2.7979},{reference_site:"181",wildtype:"V",mutant:"F",Escape:.0302,epitope:1,times_seen:1,effect:-2.0797},{reference_site:"181",wildtype:"V",mutant:"I",Escape:.0235,epitope:1,times_seen:14.3333,effect:-.0207},{reference_site:"181",wildtype:"V",mutant:"L",Escape:-.008,epitope:1,times_seen:3,effect:-.2606},{reference_site:"181",wildtype:"V",mutant:"M",Escape:.0018,epitope:1,times_seen:1,effect:-.7393},{reference_site:"181",wildtype:"V",mutant:"T",Escape:.0022,epitope:1,times_seen:2,effect:-1.1813},{reference_site:"182",wildtype:"V",mutant:"A",Escape:-.0493,epitope:1,times_seen:5,effect:-.4558},{reference_site:"182",wildtype:"V",mutant:"D",Escape:-.0287,epitope:1,times_seen:1,effect:-1.2363},{reference_site:"182",wildtype:"V",mutant:"E",Escape:-.265,epitope:1,times_seen:24.3333,effect:-5e-4},{reference_site:"182",wildtype:"V",mutant:"G",Escape:.0049,epitope:1,times_seen:1.3333,effect:-1.5548},{reference_site:"182",wildtype:"V",mutant:"I",Escape:-.0169,epitope:1,times_seen:2.3333,effect:.2174},{reference_site:"182",wildtype:"V",mutant:"K",Escape:-.0593,epitope:1,times_seen:4,effect:-.999},{reference_site:"182",wildtype:"V",mutant:"L",Escape:.0367,epitope:1,times_seen:10,effect:-.1377},{reference_site:"182",wildtype:"V",mutant:"M",Escape:-.1024,epitope:1,times_seen:10.3333,effect:.013},{reference_site:"182",wildtype:"V",mutant:"P",Escape:.2116,epitope:1,times_seen:1,effect:-2.7957},{reference_site:"182",wildtype:"V",mutant:"Q",Escape:-.0312,epitope:1,times_seen:5.3333,effect:-.0473},{reference_site:"182",wildtype:"V",mutant:"R",Escape:-.1046,epitope:1,times_seen:12.6667,effect:-.6489},{reference_site:"182",wildtype:"V",mutant:"T",Escape:.0298,epitope:1,times_seen:3,effect:-.2349},{reference_site:"183",wildtype:"Q",mutant:"A",Escape:.0322,epitope:1,times_seen:1,effect:-1.2448},{reference_site:"183",wildtype:"Q",mutant:"D",Escape:-.015,epitope:1,times_seen:4.3333,effect:-.9421},{reference_site:"183",wildtype:"Q",mutant:"E",Escape:.1213,epitope:1,times_seen:18.3333,effect:.0406},{reference_site:"183",wildtype:"Q",mutant:"F",Escape:-.0631,epitope:1,times_seen:6.3333,effect:-.377},{reference_site:"183",wildtype:"Q",mutant:"G",Escape:.0401,epitope:1,times_seen:4,effect:-.1691},{reference_site:"183",wildtype:"Q",mutant:"H",Escape:-.0146,epitope:1,times_seen:5,effect:-.0233},{reference_site:"183",wildtype:"Q",mutant:"I",Escape:-.0242,epitope:1,times_seen:5.3333,effect:-.2312},{reference_site:"183",wildtype:"Q",mutant:"K",Escape:-.0347,epitope:1,times_seen:20,effect:-.0932},{reference_site:"183",wildtype:"Q",mutant:"L",Escape:-.0262,epitope:1,times_seen:11.6667,effect:-.106},{reference_site:"183",wildtype:"Q",mutant:"M",Escape:-.0543,epitope:1,times_seen:16.6667,effect:-.1254},{reference_site:"183",wildtype:"Q",mutant:"N",Escape:-.0291,epitope:1,times_seen:5,effect:-.3666},{reference_site:"183",wildtype:"Q",mutant:"P",Escape:.0687,epitope:1,times_seen:6,effect:-.2078},{reference_site:"183",wildtype:"Q",mutant:"R",Escape:-.0473,epitope:1,times_seen:20.6667,effect:.0422},{reference_site:"183",wildtype:"Q",mutant:"S",Escape:-.0573,epitope:1,times_seen:4,effect:-.3748},{reference_site:"183",wildtype:"Q",mutant:"T",Escape:.0111,epitope:1,times_seen:3.3333,effect:-.4426},{reference_site:"183",wildtype:"Q",mutant:"V",Escape:3e-4,epitope:1,times_seen:4.6667,effect:-.5474},{reference_site:"183",wildtype:"Q",mutant:"W",Escape:-.0834,epitope:1,times_seen:13,effect:-.4533},{reference_site:"183",wildtype:"Q",mutant:"Y",Escape:-.0053,epitope:1,times_seen:6.6667,effect:-.369},{reference_site:"183",wildtype:"Q",mutant:"*",Escape:.0313,epitope:1,times_seen:2.5,effect:-2.5265},{reference_site:"183",wildtype:"Q",mutant:"-",Escape:-.0156,epitope:1,times_seen:1,effect:-1.0992},{reference_site:"184",wildtype:"I",mutant:"A",Escape:.0227,epitope:1,times_seen:3.5,effect:-.7481},{reference_site:"184",wildtype:"I",mutant:"F",Escape:.0286,epitope:1,times_seen:10.6667,effect:-.2831},{reference_site:"184",wildtype:"I",mutant:"K",Escape:.0211,epitope:1,times_seen:1,effect:-2.403},{reference_site:"184",wildtype:"I",mutant:"L",Escape:-.0041,epitope:1,times_seen:1,effect:-.0809},{reference_site:"184",wildtype:"I",mutant:"M",Escape:.2323,epitope:1,times_seen:17,effect:-.1155},{reference_site:"184",wildtype:"I",mutant:"N",Escape:.0241,epitope:1,times_seen:3,effect:-2.3729},{reference_site:"184",wildtype:"I",mutant:"P",Escape:-9e-4,epitope:1,times_seen:1,effect:-2.0814},{reference_site:"184",wildtype:"I",mutant:"S",Escape:-.0263,epitope:1,times_seen:5,effect:-.8513},{reference_site:"184",wildtype:"I",mutant:"T",Escape:-.0364,epitope:1,times_seen:10.3333,effect:-.4557},{reference_site:"184",wildtype:"I",mutant:"V",Escape:-.0059,epitope:1,times_seen:1.6667,effect:-.3382},{reference_site:"184",wildtype:"I",mutant:"Y",Escape:-.0052,epitope:1,times_seen:1,effect:-.2321},{reference_site:"184a",wildtype:"G",mutant:"A",Escape:.0634,epitope:1,times_seen:4,effect:.0514},{reference_site:"184a",wildtype:"G",mutant:"C",Escape:-.0385,epitope:1,times_seen:2.3333,effect:-2.0977},{reference_site:"184a",wildtype:"G",mutant:"D",Escape:.4384,epitope:1,times_seen:10.6667,effect:-.0017},{reference_site:"184a",wildtype:"G",mutant:"E",Escape:.0473,epitope:1,times_seen:4.6667,effect:-.4074},{reference_site:"184a",wildtype:"G",mutant:"F",Escape:-.0431,epitope:1,times_seen:9.6667,effect:-.2803},{reference_site:"184a",wildtype:"G",mutant:"H",Escape:.0574,epitope:1,times_seen:3.6667,effect:-.0266},{reference_site:"184a",wildtype:"G",mutant:"I",Escape:.1133,epitope:1,times_seen:5.6667,effect:-.1933},{reference_site:"184a",wildtype:"G",mutant:"K",Escape:.0037,epitope:1,times_seen:5,effect:.0504},{reference_site:"184a",wildtype:"G",mutant:"L",Escape:-.0226,epitope:1,times_seen:1.6667,effect:-.8281},{reference_site:"184a",wildtype:"G",mutant:"M",Escape:.0029,epitope:1,times_seen:2.6667,effect:-.168},{reference_site:"184a",wildtype:"G",mutant:"N",Escape:-.0643,epitope:1,times_seen:6.3333,effect:.0025},{reference_site:"184a",wildtype:"G",mutant:"P",Escape:-.089,epitope:1,times_seen:5,effect:-.4099},{reference_site:"184a",wildtype:"G",mutant:"Q",Escape:-.0084,epitope:1,times_seen:4,effect:-.2136},{reference_site:"184a",wildtype:"G",mutant:"R",Escape:.0015,epitope:1,times_seen:1.3333,effect:-.3372},{reference_site:"184a",wildtype:"G",mutant:"S",Escape:.0111,epitope:1,times_seen:12,effect:-.0325},{reference_site:"184a",wildtype:"G",mutant:"T",Escape:.0144,epitope:1,times_seen:3.6667,effect:-.2866},{reference_site:"184a",wildtype:"G",mutant:"V",Escape:.0249,epitope:1,times_seen:3.3333,effect:-.1319},{reference_site:"184a",wildtype:"G",mutant:"W",Escape:-.0369,epitope:1,times_seen:2.6667,effect:-.0233},{reference_site:"184a",wildtype:"G",mutant:"Y",Escape:-.0075,epitope:1,times_seen:5.6667,effect:-.1022},{reference_site:"184b",wildtype:"G",mutant:"A",Escape:-.0375,epitope:1,times_seen:4.6667,effect:-.126},{reference_site:"184b",wildtype:"G",mutant:"C",Escape:.0136,epitope:1,times_seen:7,effect:-1.3272},{reference_site:"184b",wildtype:"G",mutant:"D",Escape:.1078,epitope:1,times_seen:9.6667,effect:-.1813},{reference_site:"184b",wildtype:"G",mutant:"E",Escape:.1606,epitope:1,times_seen:4.6667,effect:-.0374},{reference_site:"184b",wildtype:"G",mutant:"F",Escape:-.0631,epitope:1,times_seen:6.3333,effect:-.198},{reference_site:"184b",wildtype:"G",mutant:"H",Escape:-.0202,epitope:1,times_seen:4.3333,effect:-.1701},{reference_site:"184b",wildtype:"G",mutant:"I",Escape:.0233,epitope:1,times_seen:7.3333,effect:-.4317},{reference_site:"184b",wildtype:"G",mutant:"K",Escape:-.0551,epitope:1,times_seen:4.6667,effect:-.0084},{reference_site:"184b",wildtype:"G",mutant:"L",Escape:.874,epitope:1,times_seen:4.3333,effect:-.1022},{reference_site:"184b",wildtype:"G",mutant:"M",Escape:.0115,epitope:1,times_seen:7.3333,effect:.1086},{reference_site:"184b",wildtype:"G",mutant:"N",Escape:.0688,epitope:1,times_seen:6,effect:-.1232},{reference_site:"184b",wildtype:"G",mutant:"P",Escape:-.0053,epitope:1,times_seen:5.6667,effect:.1065},{reference_site:"184b",wildtype:"G",mutant:"Q",Escape:.0321,epitope:1,times_seen:4.6667,effect:-.098},{reference_site:"184b",wildtype:"G",mutant:"R",Escape:-.0445,epitope:1,times_seen:5.6667,effect:-.1356},{reference_site:"184b",wildtype:"G",mutant:"S",Escape:-.0942,epitope:1,times_seen:19,effect:.0694},{reference_site:"184b",wildtype:"G",mutant:"T",Escape:.0126,epitope:1,times_seen:2.3333,effect:-.1288},{reference_site:"184b",wildtype:"G",mutant:"V",Escape:-.0191,epitope:1,times_seen:10.3333,effect:.0145},{reference_site:"184b",wildtype:"G",mutant:"W",Escape:-.017,epitope:1,times_seen:1.6667,effect:-.6805},{reference_site:"184b",wildtype:"G",mutant:"Y",Escape:-.052,epitope:1,times_seen:5,effect:-.0589},{reference_site:"185",wildtype:"N",mutant:"A",Escape:.0274,epitope:1,times_seen:2,effect:-.1482},{reference_site:"185",wildtype:"N",mutant:"D",Escape:.0374,epitope:1,times_seen:7.3333,effect:.0315},{reference_site:"185",wildtype:"N",mutant:"E",Escape:.0671,epitope:1,times_seen:4.6667,effect:-.053},{reference_site:"185",wildtype:"N",mutant:"F",Escape:-.0209,epitope:1,times_seen:4,effect:.0483},{reference_site:"185",wildtype:"N",mutant:"G",Escape:-.0174,epitope:1,times_seen:3,effect:-.349},{reference_site:"185",wildtype:"N",mutant:"H",Escape:-.0112,epitope:1,times_seen:4,effect:.0221},{reference_site:"185",wildtype:"N",mutant:"I",Escape:-.007,epitope:1,times_seen:4,effect:-.1119},{reference_site:"185",wildtype:"N",mutant:"K",Escape:.0251,epitope:1,times_seen:5,effect:-.2992},{reference_site:"185",wildtype:"N",mutant:"L",Escape:.1143,epitope:1,times_seen:8,effect:-1.1461},{reference_site:"185",wildtype:"N",mutant:"M",Escape:.0019,epitope:1,times_seen:10.3333,effect:-.0161},{reference_site:"185",wildtype:"N",mutant:"P",Escape:.0098,epitope:1,times_seen:3,effect:-.3404},{reference_site:"185",wildtype:"N",mutant:"Q",Escape:.0599,epitope:1,times_seen:5.3333,effect:-.0167},{reference_site:"185",wildtype:"N",mutant:"R",Escape:.004,epitope:1,times_seen:1,effect:-.544},{reference_site:"185",wildtype:"N",mutant:"S",Escape:.0068,epitope:1,times_seen:6.6667,effect:.004},{reference_site:"185",wildtype:"N",mutant:"T",Escape:-.0013,epitope:1,times_seen:7.6667,effect:-.2126},{reference_site:"185",wildtype:"N",mutant:"V",Escape:.0287,epitope:1,times_seen:3,effect:-.0381},{reference_site:"185",wildtype:"N",mutant:"W",Escape:-.0384,epitope:1,times_seen:7.3333,effect:-.1453},{reference_site:"185",wildtype:"N",mutant:"Y",Escape:.0427,epitope:1,times_seen:9.6667,effect:.0044},{reference_site:"185",wildtype:"N",mutant:"-",Escape:-.0242,epitope:1,times_seen:2.3333,effect:-.2203},{reference_site:"186",wildtype:"N",mutant:"A",Escape:-.037,epitope:1,times_seen:1.3333,effect:.1623},{reference_site:"186",wildtype:"N",mutant:"C",Escape:.0158,epitope:1,times_seen:1,effect:-2.1864},{reference_site:"186",wildtype:"N",mutant:"D",Escape:-.0729,epitope:1,times_seen:5.3333,effect:.0774},{reference_site:"186",wildtype:"N",mutant:"E",Escape:-.0504,epitope:1,times_seen:3.3333,effect:-.0157},{reference_site:"186",wildtype:"N",mutant:"F",Escape:-.122,epitope:1,times_seen:5,effect:-.0746},{reference_site:"186",wildtype:"N",mutant:"G",Escape:-.0464,epitope:1,times_seen:1.5,effect:-.6308},{reference_site:"186",wildtype:"N",mutant:"H",Escape:-.1478,epitope:1,times_seen:6.3333,effect:-.2351},{reference_site:"186",wildtype:"N",mutant:"I",Escape:-.0754,epitope:1,times_seen:3,effect:-.5403},{reference_site:"186",wildtype:"N",mutant:"K",Escape:-.0015,epitope:1,times_seen:10.6667,effect:-.02},{reference_site:"186",wildtype:"N",mutant:"L",Escape:-.0661,epitope:1,times_seen:6,effect:-.2646},{reference_site:"186",wildtype:"N",mutant:"M",Escape:-.1417,epitope:1,times_seen:6,effect:-.056},{reference_site:"186",wildtype:"N",mutant:"P",Escape:-.0541,epitope:1,times_seen:3,effect:-.3189},{reference_site:"186",wildtype:"N",mutant:"Q",Escape:.0057,epitope:1,times_seen:3.3333,effect:.116},{reference_site:"186",wildtype:"N",mutant:"R",Escape:-.0056,epitope:1,times_seen:2,effect:-.7552},{reference_site:"186",wildtype:"N",mutant:"S",Escape:-.1149,epitope:1,times_seen:6,effect:.0938},{reference_site:"186",wildtype:"N",mutant:"T",Escape:-.0821,epitope:1,times_seen:3.3333,effect:.0899},{reference_site:"186",wildtype:"N",mutant:"V",Escape:.0226,epitope:1,times_seen:2,effect:-.514},{reference_site:"186",wildtype:"N",mutant:"W",Escape:-.0093,epitope:1,times_seen:1,effect:-.7213},{reference_site:"186",wildtype:"N",mutant:"Y",Escape:-.111,epitope:1,times_seen:4,effect:-.4272},{reference_site:"187",wildtype:"R",mutant:"A",Escape:-.0059,epitope:1,times_seen:5,effect:-.052},{reference_site:"187",wildtype:"R",mutant:"C",Escape:-.0484,epitope:1,times_seen:2,effect:-.9247},{reference_site:"187",wildtype:"R",mutant:"D",Escape:.207,epitope:1,times_seen:7.3333,effect:-.0037},{reference_site:"187",wildtype:"R",mutant:"E",Escape:.1092,epitope:1,times_seen:14.3333,effect:.2692},{reference_site:"187",wildtype:"R",mutant:"F",Escape:.0869,epitope:1,times_seen:9,effect:-.0947},{reference_site:"187",wildtype:"R",mutant:"G",Escape:.1383,epitope:1,times_seen:5.3333,effect:-.3172},{reference_site:"187",wildtype:"R",mutant:"H",Escape:-.0145,epitope:1,times_seen:5.3333,effect:-.0086},{reference_site:"187",wildtype:"R",mutant:"I",Escape:.1376,epitope:1,times_seen:18,effect:.0019},{reference_site:"187",wildtype:"R",mutant:"K",Escape:-.013,epitope:1,times_seen:12,effect:.0258},{reference_site:"187",wildtype:"R",mutant:"L",Escape:.1338,epitope:1,times_seen:5.3333,effect:.0211},{reference_site:"187",wildtype:"R",mutant:"M",Escape:.0914,epitope:1,times_seen:7.6667,effect:-.0131},{reference_site:"187",wildtype:"R",mutant:"N",Escape:.1748,epitope:1,times_seen:15,effect:-.0022},{reference_site:"187",wildtype:"R",mutant:"P",Escape:-.1596,epitope:1,times_seen:5.3333,effect:.0078},{reference_site:"187",wildtype:"R",mutant:"Q",Escape:.0847,epitope:1,times_seen:8.3333,effect:-.1261},{reference_site:"187",wildtype:"R",mutant:"S",Escape:.0557,epitope:1,times_seen:11,effect:.1505},{reference_site:"187",wildtype:"R",mutant:"T",Escape:-.0239,epitope:1,times_seen:5,effect:-.1334},{reference_site:"187",wildtype:"R",mutant:"V",Escape:.1992,epitope:1,times_seen:9.6667,effect:.0888},{reference_site:"187",wildtype:"R",mutant:"W",Escape:-.0026,epitope:1,times_seen:8.6667,effect:.1563},{reference_site:"187",wildtype:"R",mutant:"Y",Escape:-.1256,epitope:1,times_seen:10,effect:-.0594},{reference_site:"188",wildtype:"T",mutant:"A",Escape:-.0807,epitope:1,times_seen:6,effect:.0473},{reference_site:"188",wildtype:"T",mutant:"C",Escape:-.0412,epitope:1,times_seen:2,effect:-1.7088},{reference_site:"188",wildtype:"T",mutant:"D",Escape:-.0548,epitope:1,times_seen:4.6667,effect:.132},{reference_site:"188",wildtype:"T",mutant:"E",Escape:-.0397,epitope:1,times_seen:4.6667,effect:-.2707},{reference_site:"188",wildtype:"T",mutant:"F",Escape:-.1338,epitope:1,times_seen:11.6667,effect:.106},{reference_site:"188",wildtype:"T",mutant:"G",Escape:-.0148,epitope:1,times_seen:2.6667,effect:6e-4},{reference_site:"188",wildtype:"T",mutant:"H",Escape:-.0633,epitope:1,times_seen:3.3333,effect:.2997},{reference_site:"188",wildtype:"T",mutant:"I",Escape:-.0493,epitope:1,times_seen:12,effect:-.2182},{reference_site:"188",wildtype:"T",mutant:"K",Escape:-.0058,epitope:1,times_seen:3,effect:.0457},{reference_site:"188",wildtype:"T",mutant:"L",Escape:-.0126,epitope:1,times_seen:2.3333,effect:-.01},{reference_site:"188",wildtype:"T",mutant:"M",Escape:-.1023,epitope:1,times_seen:8.6667,effect:.0357},{reference_site:"188",wildtype:"T",mutant:"N",Escape:-.0815,epitope:1,times_seen:20.3333,effect:-.0229},{reference_site:"188",wildtype:"T",mutant:"P",Escape:-.0353,epitope:1,times_seen:9.3333,effect:.1429},{reference_site:"188",wildtype:"T",mutant:"Q",Escape:-.0174,epitope:1,times_seen:2.6667,effect:-.2531},{reference_site:"188",wildtype:"T",mutant:"R",Escape:-.0534,epitope:1,times_seen:6,effect:-.3476},{reference_site:"188",wildtype:"T",mutant:"S",Escape:-.0194,epitope:1,times_seen:7,effect:-.0047},{reference_site:"188",wildtype:"T",mutant:"V",Escape:-.0334,epitope:1,times_seen:3,effect:-.1287},{reference_site:"188",wildtype:"T",mutant:"W",Escape:-.0912,epitope:1,times_seen:6,effect:.0817},{reference_site:"188",wildtype:"T",mutant:"Y",Escape:-.0886,epitope:1,times_seen:10,effect:-.0039},{reference_site:"189",wildtype:"N",mutant:"A",Escape:-.0304,epitope:1,times_seen:3.3333,effect:-.2526},{reference_site:"189",wildtype:"N",mutant:"C",Escape:-.0234,epitope:1,times_seen:1.6667,effect:-1.7058},{reference_site:"189",wildtype:"N",mutant:"D",Escape:.0307,epitope:1,times_seen:3.6667,effect:-.1568},{reference_site:"189",wildtype:"N",mutant:"E",Escape:-.0201,epitope:1,times_seen:2,effect:-.2915},{reference_site:"189",wildtype:"N",mutant:"F",Escape:-.0341,epitope:1,times_seen:6.3333,effect:-.1646},{reference_site:"189",wildtype:"N",mutant:"G",Escape:-.0147,epitope:1,times_seen:3.3333,effect:-.2753},{reference_site:"189",wildtype:"N",mutant:"H",Escape:-.0439,epitope:1,times_seen:4,effect:-.3314},{reference_site:"189",wildtype:"N",mutant:"I",Escape:-.0256,epitope:1,times_seen:6.6667,effect:-.2599},{reference_site:"189",wildtype:"N",mutant:"K",Escape:-.0181,epitope:1,times_seen:8,effect:-.0352},{reference_site:"189",wildtype:"N",mutant:"L",Escape:-.0242,epitope:1,times_seen:2.6667,effect:-.0368},{reference_site:"189",wildtype:"N",mutant:"M",Escape:-.036,epitope:1,times_seen:3,effect:-.3196},{reference_site:"189",wildtype:"N",mutant:"P",Escape:-.0174,epitope:1,times_seen:2.3333,effect:-.5671},{reference_site:"189",wildtype:"N",mutant:"Q",Escape:.002,epitope:1,times_seen:2.6667,effect:-.203},{reference_site:"189",wildtype:"N",mutant:"R",Escape:2e-4,epitope:1,times_seen:2,effect:-.2367},{reference_site:"189",wildtype:"N",mutant:"S",Escape:.0123,epitope:1,times_seen:4,effect:.0119},{reference_site:"189",wildtype:"N",mutant:"T",Escape:-.0118,epitope:1,times_seen:4.3333,effect:-.0636},{reference_site:"189",wildtype:"N",mutant:"V",Escape:-.0126,epitope:1,times_seen:2,effect:.1097},{reference_site:"189",wildtype:"N",mutant:"W",Escape:-.0023,epitope:1,times_seen:2,effect:-.2961},{reference_site:"189",wildtype:"N",mutant:"Y",Escape:-5e-4,epitope:1,times_seen:8.6667,effect:-.1276},{reference_site:"190",wildtype:"S",mutant:"A",Escape:-3e-4,epitope:1,times_seen:1.6667,effect:-.2279},{reference_site:"190",wildtype:"S",mutant:"D",Escape:5e-4,epitope:1,times_seen:3.6667,effect:-.2784},{reference_site:"190",wildtype:"S",mutant:"E",Escape:.012,epitope:1,times_seen:4,effect:-.2227},{reference_site:"190",wildtype:"S",mutant:"F",Escape:.061,epitope:1,times_seen:4.6667,effect:-.2904},{reference_site:"190",wildtype:"S",mutant:"G",Escape:-.0441,epitope:1,times_seen:9,effect:-.0074},{reference_site:"190",wildtype:"S",mutant:"H",Escape:-.0293,epitope:1,times_seen:4.6667,effect:-.5617},{reference_site:"190",wildtype:"S",mutant:"I",Escape:.0879,epitope:1,times_seen:16,effect:-.2582},{reference_site:"190",wildtype:"S",mutant:"K",Escape:.0025,epitope:1,times_seen:3.5,effect:-.1749},{reference_site:"190",wildtype:"S",mutant:"L",Escape:.0056,epitope:1,times_seen:4,effect:-.4113},{reference_site:"190",wildtype:"S",mutant:"M",Escape:-.0283,epitope:1,times_seen:6,effect:.0387},{reference_site:"190",wildtype:"S",mutant:"N",Escape:-.0056,epitope:1,times_seen:4.3333,effect:.0117},{reference_site:"190",wildtype:"S",mutant:"P",Escape:.0235,epitope:1,times_seen:4.6667,effect:-.1183},{reference_site:"190",wildtype:"S",mutant:"Q",Escape:.0067,epitope:1,times_seen:1,effect:-.88},{reference_site:"190",wildtype:"S",mutant:"R",Escape:-.0434,epitope:1,times_seen:6,effect:-.1993},{reference_site:"190",wildtype:"S",mutant:"T",Escape:-.0026,epitope:1,times_seen:11.6667,effect:.068},{reference_site:"190",wildtype:"S",mutant:"V",Escape:.0032,epitope:1,times_seen:3,effect:.0023},{reference_site:"190",wildtype:"S",mutant:"W",Escape:-.013,epitope:1,times_seen:4,effect:-.0635},{reference_site:"190",wildtype:"S",mutant:"Y",Escape:-.0208,epitope:1,times_seen:4.3333,effect:-.0489},{reference_site:"190a",wildtype:"Q",mutant:"A",Escape:-.1024,epitope:1,times_seen:1.6667,effect:-.1644},{reference_site:"190a",wildtype:"Q",mutant:"D",Escape:.0487,epitope:1,times_seen:1,effect:-.5421},{reference_site:"190a",wildtype:"Q",mutant:"E",Escape:.0537,epitope:1,times_seen:2.6667,effect:-.2022},{reference_site:"190a",wildtype:"Q",mutant:"F",Escape:.021,epitope:1,times_seen:3.6667,effect:.09},{reference_site:"190a",wildtype:"Q",mutant:"G",Escape:.0058,epitope:1,times_seen:2.6667,effect:-.1007},{reference_site:"190a",wildtype:"Q",mutant:"H",Escape:.0224,epitope:1,times_seen:6,effect:-.2467},{reference_site:"190a",wildtype:"Q",mutant:"I",Escape:-.0159,epitope:1,times_seen:3.3333,effect:.0282},{reference_site:"190a",wildtype:"Q",mutant:"K",Escape:.1946,epitope:1,times_seen:16,effect:.0972},{reference_site:"190a",wildtype:"Q",mutant:"L",Escape:-.0151,epitope:1,times_seen:3.3333,effect:.1187},{reference_site:"190a",wildtype:"Q",mutant:"M",Escape:-.0724,epitope:1,times_seen:5,effect:-.2512},{reference_site:"190a",wildtype:"Q",mutant:"N",Escape:.2435,epitope:1,times_seen:4.3333,effect:.153},{reference_site:"190a",wildtype:"Q",mutant:"R",Escape:.0033,epitope:1,times_seen:3.3333,effect:-.0816},{reference_site:"190a",wildtype:"Q",mutant:"S",Escape:-.0307,epitope:1,times_seen:2.6667,effect:-.4007},{reference_site:"190a",wildtype:"Q",mutant:"T",Escape:-.0595,epitope:1,times_seen:3.6667,effect:-.1133},{reference_site:"190a",wildtype:"Q",mutant:"V",Escape:-.0033,epitope:1,times_seen:1.3333,effect:-.6419},{reference_site:"190a",wildtype:"Q",mutant:"W",Escape:.0352,epitope:1,times_seen:1,effect:-.0411},{reference_site:"190a",wildtype:"Q",mutant:"Y",Escape:-.016,epitope:1,times_seen:2,effect:-.4884},{reference_site:"191",wildtype:"Y",mutant:"C",Escape:.009,epitope:1,times_seen:1,effect:-3.2125},{reference_site:"191",wildtype:"Y",mutant:"D",Escape:-.0211,epitope:1,times_seen:2,effect:-2.8093},{reference_site:"191",wildtype:"Y",mutant:"F",Escape:.0153,epitope:1,times_seen:6,effect:.0407},{reference_site:"191",wildtype:"Y",mutant:"H",Escape:-.0206,epitope:1,times_seen:6.6667,effect:-.8062},{reference_site:"191",wildtype:"Y",mutant:"N",Escape:.0184,epitope:1,times_seen:3,effect:-2.5886},{reference_site:"191",wildtype:"Y",mutant:"S",Escape:.0189,epitope:1,times_seen:3.3333,effect:-1.6025},{reference_site:"191",wildtype:"Y",mutant:"T",Escape:.001,epitope:1,times_seen:1,effect:-3.0511},{reference_site:"191",wildtype:"Y",mutant:"W",Escape:-.0011,epitope:1,times_seen:6,effect:.0574},{reference_site:"191",wildtype:"Y",mutant:"*",Escape:.0283,epitope:1,times_seen:1,effect:.7895},{reference_site:"192",wildtype:"R",mutant:"A",Escape:-.0078,epitope:1,times_seen:1,effect:-.6083},{reference_site:"192",wildtype:"R",mutant:"G",Escape:-.0419,epitope:1,times_seen:2.3333,effect:-1.2738},{reference_site:"192",wildtype:"R",mutant:"H",Escape:-.0521,epitope:1,times_seen:3.6667,effect:-.2771},{reference_site:"192",wildtype:"R",mutant:"I",Escape:-.0234,epitope:1,times_seen:13.3333,effect:-.2664},{reference_site:"192",wildtype:"R",mutant:"K",Escape:.0065,epitope:1,times_seen:1.3333,effect:-1.9274},{reference_site:"192",wildtype:"R",mutant:"L",Escape:.0826,epitope:1,times_seen:1.3333,effect:-.549},{reference_site:"192",wildtype:"R",mutant:"M",Escape:-.0268,epitope:1,times_seen:1.3333,effect:-.8947},{reference_site:"192",wildtype:"R",mutant:"S",Escape:-.0689,epitope:1,times_seen:8.3333,effect:-.5767},{reference_site:"192",wildtype:"R",mutant:"T",Escape:-.0403,epitope:1,times_seen:8.6667,effect:-.2666},{reference_site:"192",wildtype:"R",mutant:"V",Escape:-.0113,epitope:1,times_seen:1.3333,effect:-.4228},{reference_site:"193",wildtype:"L",mutant:"F",Escape:.0078,epitope:1,times_seen:2,effect:.1149},{reference_site:"193",wildtype:"L",mutant:"I",Escape:-.0482,epitope:1,times_seen:6.3333,effect:.164},{reference_site:"193",wildtype:"L",mutant:"M",Escape:-.0179,epitope:1,times_seen:6.3333,effect:.1604},{reference_site:"193",wildtype:"L",mutant:"S",Escape:-.009,epitope:1,times_seen:1,effect:-3.1266},{reference_site:"193",wildtype:"L",mutant:"V",Escape:-.0107,epitope:1,times_seen:2.6667,effect:-.9808},{reference_site:"193",wildtype:"L",mutant:"Y",Escape:-.0098,epitope:1,times_seen:1,effect:-2.5786},{reference_site:"194",wildtype:"I",mutant:"A",Escape:.0014,epitope:1,times_seen:1.6667,effect:-.296},{reference_site:"194",wildtype:"I",mutant:"C",Escape:-.0018,epitope:1,times_seen:1,effect:-1.9986},{reference_site:"194",wildtype:"I",mutant:"D",Escape:-.0135,epitope:1,times_seen:1,effect:-.5074},{reference_site:"194",wildtype:"I",mutant:"E",Escape:.0298,epitope:1,times_seen:2.3333,effect:-.6951},{reference_site:"194",wildtype:"I",mutant:"F",Escape:.0035,epitope:1,times_seen:1.6667,effect:-1.0119},{reference_site:"194",wildtype:"I",mutant:"G",Escape:-.0537,epitope:1,times_seen:1.6667,effect:-.2768},{reference_site:"194",wildtype:"I",mutant:"K",Escape:-.063,epitope:1,times_seen:4,effect:-.4441},{reference_site:"194",wildtype:"I",mutant:"L",Escape:-.0049,epitope:1,times_seen:2,effect:-.0056},{reference_site:"194",wildtype:"I",mutant:"M",Escape:.0374,epitope:1,times_seen:2.3333,effect:-.1444},{reference_site:"194",wildtype:"I",mutant:"N",Escape:-7e-4,epitope:1,times_seen:1.6667,effect:-.548},{reference_site:"194",wildtype:"I",mutant:"Q",Escape:.0242,epitope:1,times_seen:1,effect:-.9126},{reference_site:"194",wildtype:"I",mutant:"R",Escape:-.0187,epitope:1,times_seen:1,effect:-.9551},{reference_site:"194",wildtype:"I",mutant:"S",Escape:.003,epitope:1,times_seen:2,effect:-.6438},{reference_site:"194",wildtype:"I",mutant:"T",Escape:.007,epitope:1,times_seen:3.6667,effect:-.065},{reference_site:"194",wildtype:"I",mutant:"V",Escape:.0079,epitope:1,times_seen:2.6667,effect:.1338},{reference_site:"194",wildtype:"I",mutant:"W",Escape:-.0144,epitope:1,times_seen:3.3333,effect:-.2671},{reference_site:"194",wildtype:"I",mutant:"Y",Escape:.0025,epitope:1,times_seen:3.3333,effect:-.6517},{reference_site:"195",wildtype:"N",mutant:"A",Escape:.0781,epitope:1,times_seen:3,effect:-.648},{reference_site:"195",wildtype:"N",mutant:"C",Escape:.0171,epitope:1,times_seen:1,effect:-1.2991},{reference_site:"195",wildtype:"N",mutant:"D",Escape:.0273,epitope:1,times_seen:1.6667,effect:.3473},{reference_site:"195",wildtype:"N",mutant:"E",Escape:.1401,epitope:1,times_seen:4.6667,effect:-.3211},{reference_site:"195",wildtype:"N",mutant:"G",Escape:-.0282,epitope:1,times_seen:3,effect:.1819},{reference_site:"195",wildtype:"N",mutant:"H",Escape:.0707,epitope:1,times_seen:2,effect:-.1717},{reference_site:"195",wildtype:"N",mutant:"I",Escape:.053,epitope:1,times_seen:1.3333,effect:-3.2525},{reference_site:"195",wildtype:"N",mutant:"K",Escape:.089,epitope:1,times_seen:9.6667,effect:-.5157},{reference_site:"195",wildtype:"N",mutant:"L",Escape:.0045,epitope:1,times_seen:1,effect:-2.573},{reference_site:"195",wildtype:"N",mutant:"M",Escape:.0113,epitope:1,times_seen:5.6667,effect:-1.2563},{reference_site:"195",wildtype:"N",mutant:"Q",Escape:.0212,epitope:1,times_seen:6.3333,effect:-.5546},{reference_site:"195",wildtype:"N",mutant:"R",Escape:-.0157,epitope:1,times_seen:1.6667,effect:-.4345},{reference_site:"195",wildtype:"N",mutant:"S",Escape:.0389,epitope:1,times_seen:2,effect:.0291},{reference_site:"195",wildtype:"N",mutant:"T",Escape:-.0043,epitope:1,times_seen:1.3333,effect:-.6149},{reference_site:"195",wildtype:"N",mutant:"W",Escape:-.0398,epitope:1,times_seen:2.3333,effect:-.3496},{reference_site:"196",wildtype:"C",mutant:"F",Escape:-.006,epitope:1,times_seen:1,effect:-.3724},{reference_site:"196",wildtype:"C",mutant:"N",Escape:.0186,epitope:1,times_seen:1,effect:-2.8502},{reference_site:"196",wildtype:"C",mutant:"S",Escape:.0454,epitope:1,times_seen:3,effect:-3.4705},{reference_site:"196",wildtype:"C",mutant:"Y",Escape:.0288,epitope:1,times_seen:3,effect:-2.7704},{reference_site:"197",wildtype:"N",mutant:"D",Escape:-.0668,epitope:1,times_seen:6,effect:-.0994},{reference_site:"197",wildtype:"N",mutant:"E",Escape:-.013,epitope:1,times_seen:1,effect:-.3657},{reference_site:"197",wildtype:"N",mutant:"I",Escape:-.001,epitope:1,times_seen:2,effect:-1.3331},{reference_site:"197",wildtype:"N",mutant:"K",Escape:-.1479,epitope:1,times_seen:8.6667,effect:-.7199},{reference_site:"197",wildtype:"N",mutant:"R",Escape:-.0481,epitope:1,times_seen:2.5,effect:-1.1605},{reference_site:"197",wildtype:"N",mutant:"S",Escape:.0665,epitope:1,times_seen:2,effect:-2.8607},{reference_site:"197",wildtype:"N",mutant:"T",Escape:.0378,epitope:1,times_seen:1.5,effect:-2.9208},{reference_site:"197",wildtype:"N",mutant:"V",Escape:-.0062,epitope:1,times_seen:2,effect:-1.7114},{reference_site:"197",wildtype:"N",mutant:"W",Escape:.0048,epitope:1,times_seen:1,effect:-2.5237},{reference_site:"197",wildtype:"N",mutant:"Y",Escape:.0519,epitope:1,times_seen:1,effect:-2.4657},{reference_site:"198",wildtype:"T",mutant:"A",Escape:.0574,epitope:1,times_seen:4,effect:-.6305},{reference_site:"198",wildtype:"T",mutant:"D",Escape:2.0356,epitope:1,times_seen:8,effect:-.2773},{reference_site:"198",wildtype:"T",mutant:"E",Escape:1.6254,epitope:1,times_seen:9.6667,effect:-.1098},{reference_site:"198",wildtype:"T",mutant:"G",Escape:.7072,epitope:1,times_seen:2,effect:-.049},{reference_site:"198",wildtype:"T",mutant:"I",Escape:-.1004,epitope:1,times_seen:4.3333,effect:-1.1213},{reference_site:"198",wildtype:"T",mutant:"K",Escape:-.0123,epitope:1,times_seen:2.6667,effect:-.9069},{reference_site:"198",wildtype:"T",mutant:"L",Escape:.013,epitope:1,times_seen:1,effect:-2.1824},{reference_site:"198",wildtype:"T",mutant:"N",Escape:-.0789,epitope:1,times_seen:15.3333,effect:-.0274},{reference_site:"198",wildtype:"T",mutant:"Q",Escape:.0826,epitope:1,times_seen:3.6667,effect:.0211},{reference_site:"198",wildtype:"T",mutant:"R",Escape:-.0192,epitope:1,times_seen:1.5,effect:-.3422},{reference_site:"198",wildtype:"T",mutant:"S",Escape:.2556,epitope:1,times_seen:7.6667,effect:-.1364},{reference_site:"198",wildtype:"T",mutant:"V",Escape:-.0407,epitope:1,times_seen:2,effect:-1.1875},{reference_site:"198",wildtype:"T",mutant:"W",Escape:.0359,epitope:1,times_seen:2,effect:-1.9355},{reference_site:"199",wildtype:"S",mutant:"A",Escape:-.1646,epitope:1,times_seen:4.5,effect:-.7074},{reference_site:"199",wildtype:"S",mutant:"E",Escape:-.0647,epitope:1,times_seen:3.3333,effect:-.1192},{reference_site:"199",wildtype:"S",mutant:"G",Escape:-.0566,epitope:1,times_seen:2.6667,effect:-.3518},{reference_site:"199",wildtype:"S",mutant:"H",Escape:-.1992,epitope:1,times_seen:6.3333,effect:-.089},{reference_site:"199",wildtype:"S",mutant:"I",Escape:-.021,epitope:1,times_seen:2,effect:-1.543},{reference_site:"199",wildtype:"S",mutant:"K",Escape:-.1031,epitope:1,times_seen:4.6667,effect:-1.1696},{reference_site:"199",wildtype:"S",mutant:"M",Escape:-.1126,epitope:1,times_seen:3.3333,effect:-.2633},{reference_site:"199",wildtype:"S",mutant:"N",Escape:-.0364,epitope:1,times_seen:1,effect:.0754},{reference_site:"199",wildtype:"S",mutant:"R",Escape:-.1244,epitope:1,times_seen:5.6667,effect:-.7188},{reference_site:"199",wildtype:"S",mutant:"T",Escape:-.0718,epitope:1,times_seen:7,effect:-.1648},{reference_site:"199",wildtype:"S",mutant:"W",Escape:-.0164,epitope:1,times_seen:1,effect:-1.1107},{reference_site:"200",wildtype:"A",mutant:"C",Escape:.0412,epitope:1,times_seen:2,effect:-1.8946},{reference_site:"200",wildtype:"A",mutant:"D",Escape:.2305,epitope:1,times_seen:18.6667,effect:-.9623},{reference_site:"200",wildtype:"A",mutant:"E",Escape:.0074,epitope:1,times_seen:2,effect:-1.6339},{reference_site:"200",wildtype:"A",mutant:"F",Escape:-.1317,epitope:1,times_seen:7.6667,effect:-.4553},{reference_site:"200",wildtype:"A",mutant:"H",Escape:-.0518,epitope:1,times_seen:7,effect:.0392},{reference_site:"200",wildtype:"A",mutant:"I",Escape:-.0549,epitope:1,times_seen:3.3333,effect:-1.0129},{reference_site:"200",wildtype:"A",mutant:"K",Escape:-.0562,epitope:1,times_seen:2.6667,effect:-.2716},{reference_site:"200",wildtype:"A",mutant:"L",Escape:.0056,epitope:1,times_seen:2,effect:-.3633},{reference_site:"200",wildtype:"A",mutant:"M",Escape:-.0452,epitope:1,times_seen:2.3333,effect:-.5652},{reference_site:"200",wildtype:"A",mutant:"Q",Escape:-.0119,epitope:1,times_seen:2,effect:-.0311},{reference_site:"200",wildtype:"A",mutant:"S",Escape:-.0309,epitope:1,times_seen:17.3333,effect:-.1311},{reference_site:"200",wildtype:"A",mutant:"T",Escape:-.1381,epitope:1,times_seen:11.3333,effect:-.3342},{reference_site:"200",wildtype:"A",mutant:"V",Escape:.044,epitope:1,times_seen:1.6667,effect:-1.1313},{reference_site:"200",wildtype:"A",mutant:"Y",Escape:.0376,epitope:1,times_seen:6.3333,effect:.0376},{reference_site:"200",wildtype:"A",mutant:"*",Escape:.0706,epitope:1,times_seen:1,effect:-2.871},{reference_site:"201",wildtype:"I",mutant:"F",Escape:.0277,epitope:1,times_seen:2.6667,effect:-2.4792},{reference_site:"201",wildtype:"I",mutant:"H",Escape:.0941,epitope:1,times_seen:2.6667,effect:-1.9744},{reference_site:"201",wildtype:"I",mutant:"L",Escape:.0498,epitope:1,times_seen:1.5,effect:-.6206},{reference_site:"201",wildtype:"I",mutant:"M",Escape:.2242,epitope:1,times_seen:9,effect:-.6114},{reference_site:"201",wildtype:"I",mutant:"S",Escape:.1041,epitope:1,times_seen:3,effect:-2.2742},{reference_site:"201",wildtype:"I",mutant:"T",Escape:.0102,epitope:1,times_seen:4.3333,effect:-1.3246},{reference_site:"201",wildtype:"I",mutant:"V",Escape:.073,epitope:1,times_seen:2.6667,effect:-.8916},{reference_site:"202",wildtype:"T",mutant:"A",Escape:.3478,epitope:1,times_seen:9,effect:-.5229},{reference_site:"202",wildtype:"T",mutant:"I",Escape:-.0559,epitope:1,times_seen:24,effect:-.1093},{reference_site:"202",wildtype:"T",mutant:"K",Escape:.1162,epitope:1,times_seen:6,effect:-.5503},{reference_site:"202",wildtype:"T",mutant:"N",Escape:.012,epitope:1,times_seen:1,effect:-1.532},{reference_site:"202",wildtype:"T",mutant:"P",Escape:.0392,epitope:1,times_seen:9.6667,effect:-.4438},{reference_site:"202",wildtype:"T",mutant:"S",Escape:.0062,epitope:1,times_seen:6,effect:-.3943},{reference_site:"202",wildtype:"T",mutant:"V",Escape:.0108,epitope:1,times_seen:1,effect:-.9241},{reference_site:"203",wildtype:"Q",mutant:"A",Escape:.0365,epitope:1,times_seen:1,effect:-.0419},{reference_site:"203",wildtype:"Q",mutant:"G",Escape:.0252,epitope:1,times_seen:1.5,effect:-1.225},{reference_site:"203",wildtype:"Q",mutant:"H",Escape:.4596,epitope:1,times_seen:26.6667,effect:-.5455},{reference_site:"203",wildtype:"Q",mutant:"K",Escape:1.0296,epitope:1,times_seen:15.6667,effect:-.8479},{reference_site:"203",wildtype:"Q",mutant:"L",Escape:-.0105,epitope:1,times_seen:1,effect:-1.3313},{reference_site:"203",wildtype:"Q",mutant:"P",Escape:.8853,epitope:1,times_seen:2.6667,effect:-1.0637},{reference_site:"203",wildtype:"Q",mutant:"R",Escape:.7136,epitope:1,times_seen:5,effect:-.7419},{reference_site:"203",wildtype:"Q",mutant:"S",Escape:.0451,epitope:1,times_seen:2,effect:-1.4466},{reference_site:"203",wildtype:"Q",mutant:"*",Escape:.0437,epitope:1,times_seen:1,effect:-3.1393},{reference_site:"204",wildtype:"A",mutant:"C",Escape:-.0134,epitope:1,times_seen:1,effect:-.6314},{reference_site:"204",wildtype:"A",mutant:"D",Escape:-.238,epitope:1,times_seen:1,effect:-3.0105},{reference_site:"204",wildtype:"A",mutant:"G",Escape:-.0044,epitope:1,times_seen:2.3333,effect:-1.0236},{reference_site:"204",wildtype:"A",mutant:"I",Escape:-.0194,epitope:1,times_seen:2,effect:-1.4224},{reference_site:"204",wildtype:"A",mutant:"L",Escape:.0098,epitope:1,times_seen:1,effect:-.962},{reference_site:"204",wildtype:"A",mutant:"M",Escape:-.0038,epitope:1,times_seen:1,effect:-1.7199},{reference_site:"204",wildtype:"A",mutant:"P",Escape:.0502,epitope:1,times_seen:3.3333,effect:-.9401},{reference_site:"204",wildtype:"A",mutant:"S",Escape:-.0024,epitope:1,times_seen:1.6667,effect:-.34},{reference_site:"204",wildtype:"A",mutant:"T",Escape:.0042,epitope:1,times_seen:14.3333,effect:.0887},{reference_site:"204",wildtype:"A",mutant:"V",Escape:-.0068,epitope:1,times_seen:2.3333,effect:-1.2479},{reference_site:"204",wildtype:"A",mutant:"Y",Escape:-.0133,epitope:1,times_seen:3,effect:-1.2107},{reference_site:"205",wildtype:"C",mutant:"F",Escape:.0414,epitope:1,times_seen:1.6667,effect:-2.7657},{reference_site:"205",wildtype:"C",mutant:"K",Escape:.0281,epitope:1,times_seen:1,effect:-1.2511},{reference_site:"205",wildtype:"C",mutant:"Y",Escape:-.0087,epitope:1,times_seen:1,effect:-3.0124},{reference_site:"205",wildtype:"C",mutant:"*",Escape:7e-4,epitope:1,times_seen:1,effect:-2.7321},{reference_site:"206",wildtype:"P",mutant:"A",Escape:.0057,epitope:1,times_seen:1.6667,effect:-.0087},{reference_site:"206",wildtype:"P",mutant:"D",Escape:.5116,epitope:1,times_seen:4,effect:-1.0589},{reference_site:"206",wildtype:"P",mutant:"E",Escape:1.0013,epitope:1,times_seen:4.3333,effect:-.1674},{reference_site:"206",wildtype:"P",mutant:"F",Escape:-.0071,epitope:1,times_seen:1,effect:-.8033},{reference_site:"206",wildtype:"P",mutant:"H",Escape:-.1543,epitope:1,times_seen:15,effect:-.0648},{reference_site:"206",wildtype:"P",mutant:"I",Escape:.0585,epitope:1,times_seen:2.5,effect:-.7607},{reference_site:"206",wildtype:"P",mutant:"K",Escape:-.0587,epitope:1,times_seen:3.3333,effect:-.2307},{reference_site:"206",wildtype:"P",mutant:"L",Escape:.0155,epitope:1,times_seen:17.6667,effect:-.0797},{reference_site:"206",wildtype:"P",mutant:"M",Escape:-.0034,epitope:1,times_seen:1,effect:-.3686},{reference_site:"206",wildtype:"P",mutant:"N",Escape:-.0412,epitope:1,times_seen:2,effect:-.3917},{reference_site:"206",wildtype:"P",mutant:"Q",Escape:-.0199,epitope:1,times_seen:1.6667,effect:-.3557},{reference_site:"206",wildtype:"P",mutant:"R",Escape:-.1235,epitope:1,times_seen:4.3333,effect:-.5448},{reference_site:"206",wildtype:"P",mutant:"S",Escape:-.0512,epitope:1,times_seen:6,effect:-.2399},{reference_site:"206",wildtype:"P",mutant:"T",Escape:-.095,epitope:1,times_seen:16,effect:-.1277},{reference_site:"206",wildtype:"P",mutant:"V",Escape:-.0227,epitope:1,times_seen:1,effect:-.2683},{reference_site:"206",wildtype:"P",mutant:"W",Escape:-.0183,epitope:1,times_seen:1,effect:.0516},{reference_site:"207",wildtype:"K",mutant:"E",Escape:.0019,epitope:1,times_seen:1,effect:-2.534},{reference_site:"207",wildtype:"K",mutant:"G",Escape:-.0061,epitope:1,times_seen:1.6667,effect:-.553},{reference_site:"207",wildtype:"K",mutant:"H",Escape:.0329,epitope:1,times_seen:1,effect:-3.0312},{reference_site:"207",wildtype:"K",mutant:"M",Escape:.0207,epitope:1,times_seen:2.5,effect:-3.1985},{reference_site:"207",wildtype:"K",mutant:"N",Escape:.0364,epitope:1,times_seen:1,effect:-3.5046},{reference_site:"207",wildtype:"K",mutant:"Q",Escape:-.0103,epitope:1,times_seen:1,effect:-2.5472},{reference_site:"207",wildtype:"K",mutant:"R",Escape:.0259,epitope:1,times_seen:2,effect:-1.9352},{reference_site:"207",wildtype:"K",mutant:"S",Escape:-.0019,epitope:1,times_seen:2,effect:-2.524},{reference_site:"207",wildtype:"K",mutant:"T",Escape:.0029,epitope:1,times_seen:1,effect:-1.9473},{reference_site:"207",wildtype:"K",mutant:"W",Escape:-2e-4,epitope:1,times_seen:1,effect:-3.0026},{reference_site:"208",wildtype:"V",mutant:"A",Escape:-.0016,epitope:1,times_seen:1,effect:.0625},{reference_site:"208",wildtype:"V",mutant:"C",Escape:.0336,epitope:1,times_seen:1,effect:-1.8693},{reference_site:"208",wildtype:"V",mutant:"D",Escape:.0082,epitope:1,times_seen:1.3333,effect:-.7029},{reference_site:"208",wildtype:"V",mutant:"E",Escape:-.0216,epitope:1,times_seen:5.6667,effect:-.4174},{reference_site:"208",wildtype:"V",mutant:"F",Escape:-.0018,epitope:1,times_seen:2,effect:-.3958},{reference_site:"208",wildtype:"V",mutant:"H",Escape:.0017,epitope:1,times_seen:2.3333,effect:-.3888},{reference_site:"208",wildtype:"V",mutant:"I",Escape:.0121,epitope:1,times_seen:4,effect:-.1965},{reference_site:"208",wildtype:"V",mutant:"K",Escape:-.0395,epitope:1,times_seen:4,effect:-.581},{reference_site:"208",wildtype:"V",mutant:"L",Escape:-.1261,epitope:1,times_seen:7,effect:-.2593},{reference_site:"208",wildtype:"V",mutant:"M",Escape:-.1053,epitope:1,times_seen:7,effect:-.1445},{reference_site:"208",wildtype:"V",mutant:"N",Escape:-.0159,epitope:1,times_seen:3,effect:-.3276},{reference_site:"208",wildtype:"V",mutant:"Q",Escape:-.0255,epitope:1,times_seen:2,effect:-.1043},{reference_site:"208",wildtype:"V",mutant:"R",Escape:-.0244,epitope:1,times_seen:2,effect:-1.5683},{reference_site:"208",wildtype:"V",mutant:"T",Escape:.0056,epitope:1,times_seen:5.3333,effect:-.4463},{reference_site:"208",wildtype:"V",mutant:"W",Escape:-.0429,epitope:1,times_seen:6.6667,effect:-.1418},{reference_site:"208",wildtype:"V",mutant:"Y",Escape:-.0178,epitope:1,times_seen:6,effect:.0124},{reference_site:"209",wildtype:"T",mutant:"A",Escape:-.0331,epitope:1,times_seen:5.6667,effect:-.4985},{reference_site:"209",wildtype:"T",mutant:"C",Escape:-.0449,epitope:1,times_seen:3.6667,effect:-.5884},{reference_site:"209",wildtype:"T",mutant:"D",Escape:.1487,epitope:1,times_seen:6,effect:-.2814},{reference_site:"209",wildtype:"T",mutant:"F",Escape:-.0544,epitope:1,times_seen:3,effect:-.7595},{reference_site:"209",wildtype:"T",mutant:"G",Escape:-.0523,epitope:1,times_seen:2,effect:-.6285},{reference_site:"209",wildtype:"T",mutant:"H",Escape:-.0483,epitope:1,times_seen:5.3333,effect:-.3425},{reference_site:"209",wildtype:"T",mutant:"I",Escape:-.1687,epitope:1,times_seen:10,effect:-.4702},{reference_site:"209",wildtype:"T",mutant:"K",Escape:-.0747,epitope:1,times_seen:3.3333,effect:-.1857},{reference_site:"209",wildtype:"T",mutant:"L",Escape:-.0444,epitope:1,times_seen:3.6667,effect:-.3047},{reference_site:"209",wildtype:"T",mutant:"M",Escape:-.0157,epitope:1,times_seen:6.3333,effect:-.1866},{reference_site:"209",wildtype:"T",mutant:"N",Escape:.0066,epitope:1,times_seen:4.6667,effect:-.4483},{reference_site:"209",wildtype:"T",mutant:"P",Escape:-.0115,epitope:1,times_seen:1,effect:-1.2364},{reference_site:"209",wildtype:"T",mutant:"Q",Escape:-.0279,epitope:1,times_seen:7.3333,effect:-.0063},{reference_site:"209",wildtype:"T",mutant:"R",Escape:-.1036,epitope:1,times_seen:6.6667,effect:-.4146},{reference_site:"209",wildtype:"T",mutant:"S",Escape:-.0685,epitope:1,times_seen:5.3333,effect:-.2225},{reference_site:"210",wildtype:"F",mutant:"A",Escape:.0157,epitope:1,times_seen:3.3333,effect:-.671},{reference_site:"210",wildtype:"F",mutant:"C",Escape:.0519,epitope:1,times_seen:3,effect:-2.6804},{reference_site:"210",wildtype:"F",mutant:"H",Escape:-.041,epitope:1,times_seen:4,effect:-.7589},{reference_site:"210",wildtype:"F",mutant:"I",Escape:-.0295,epitope:1,times_seen:7.3333,effect:-.1721},{reference_site:"210",wildtype:"F",mutant:"L",Escape:.012,epitope:1,times_seen:10.3333,effect:-.2058},{reference_site:"210",wildtype:"F",mutant:"M",Escape:-.0224,epitope:1,times_seen:3,effect:-.5164},{reference_site:"210",wildtype:"F",mutant:"N",Escape:-.0199,epitope:1,times_seen:5,effect:-.273},{reference_site:"210",wildtype:"F",mutant:"Q",Escape:-.0212,epitope:1,times_seen:2.6667,effect:-.2275},{reference_site:"210",wildtype:"F",mutant:"S",Escape:-.0139,epitope:1,times_seen:1,effect:-1.6669},{reference_site:"210",wildtype:"F",mutant:"T",Escape:.0034,epitope:1,times_seen:7.6667,effect:-.4002},{reference_site:"210",wildtype:"F",mutant:"V",Escape:.0015,epitope:1,times_seen:1,effect:-1.5219},{reference_site:"210",wildtype:"F",mutant:"W",Escape:.0021,epitope:1,times_seen:3.6667,effect:-.14},{reference_site:"211",wildtype:"E",mutant:"A",Escape:-.0881,epitope:1,times_seen:4.3333,effect:-.3409},{reference_site:"211",wildtype:"E",mutant:"C",Escape:-.0028,epitope:1,times_seen:1,effect:-1.6231},{reference_site:"211",wildtype:"E",mutant:"D",Escape:-.0162,epitope:1,times_seen:14,effect:-.0125},{reference_site:"211",wildtype:"E",mutant:"F",Escape:-.1079,epitope:1,times_seen:4.6667,effect:-.3929},{reference_site:"211",wildtype:"E",mutant:"G",Escape:-.0245,epitope:1,times_seen:1.3333,effect:-1.1617},{reference_site:"211",wildtype:"E",mutant:"H",Escape:-.1241,epitope:1,times_seen:5.6667,effect:-.3603},{reference_site:"211",wildtype:"E",mutant:"I",Escape:-.0572,epitope:1,times_seen:3.6667,effect:-.8658},{reference_site:"211",wildtype:"E",mutant:"K",Escape:-.0421,epitope:1,times_seen:3.3333,effect:-.6683},{reference_site:"211",wildtype:"E",mutant:"L",Escape:-.0542,epitope:1,times_seen:4,effect:-.2569},{reference_site:"211",wildtype:"E",mutant:"M",Escape:-.1031,epitope:1,times_seen:7,effect:-.2659},{reference_site:"211",wildtype:"E",mutant:"N",Escape:-.1038,epitope:1,times_seen:5.3333,effect:.0575},{reference_site:"211",wildtype:"E",mutant:"P",Escape:.0355,epitope:1,times_seen:1.5,effect:-2.8182},{reference_site:"211",wildtype:"E",mutant:"Q",Escape:-.0951,epitope:1,times_seen:12.3333,effect:-.0046},{reference_site:"211",wildtype:"E",mutant:"R",Escape:-.0963,epitope:1,times_seen:5.3333,effect:-.162},{reference_site:"211",wildtype:"E",mutant:"S",Escape:-.0658,epitope:1,times_seen:3.3333,effect:-.1972},{reference_site:"211",wildtype:"E",mutant:"T",Escape:-.0899,epitope:1,times_seen:4.3333,effect:-.5782},{reference_site:"211",wildtype:"E",mutant:"V",Escape:-.059,epitope:1,times_seen:4,effect:-.3244},{reference_site:"211",wildtype:"E",mutant:"W",Escape:-.0851,epitope:1,times_seen:3.6667,effect:-.6969},{reference_site:"211",wildtype:"E",mutant:"Y",Escape:-.0646,epitope:1,times_seen:5,effect:-.3795},{reference_site:"211",wildtype:"E",mutant:"*",Escape:.1357,epitope:1,times_seen:2.5,effect:-2.0344},{reference_site:"212",wildtype:"P",mutant:"H",Escape:-.0365,epitope:1,times_seen:4.5,effect:-1.8056},{reference_site:"212",wildtype:"P",mutant:"L",Escape:-.0034,epitope:1,times_seen:1,effect:-.7853},{reference_site:"212",wildtype:"P",mutant:"R",Escape:.0336,epitope:1,times_seen:1,effect:-3.1889},{reference_site:"212",wildtype:"P",mutant:"S",Escape:3e-4,epitope:1,times_seen:5.3333,effect:-.327},{reference_site:"212",wildtype:"P",mutant:"T",Escape:-.0412,epitope:1,times_seen:3,effect:-.7429},{reference_site:"212",wildtype:"P",mutant:"V",Escape:-.0183,epitope:1,times_seen:4.6667,effect:.1538},{reference_site:"213",wildtype:"I",mutant:"A",Escape:.0367,epitope:1,times_seen:1,effect:-2.4518},{reference_site:"213",wildtype:"I",mutant:"E",Escape:.0681,epitope:1,times_seen:1,effect:-2.1932},{reference_site:"213",wildtype:"I",mutant:"F",Escape:.0054,epitope:1,times_seen:1,effect:-2.1634},{reference_site:"213",wildtype:"I",mutant:"H",Escape:.0476,epitope:1,times_seen:2,effect:-2.1774},{reference_site:"213",wildtype:"I",mutant:"K",Escape:-.0193,epitope:1,times_seen:3,effect:-2.041},{reference_site:"213",wildtype:"I",mutant:"L",Escape:.0431,epitope:1,times_seen:1,effect:.1377},{reference_site:"213",wildtype:"I",mutant:"M",Escape:-.0515,epitope:1,times_seen:5.6667,effect:-1.1983},{reference_site:"213",wildtype:"I",mutant:"N",Escape:-.0032,epitope:1,times_seen:1.3333,effect:-2.1248},{reference_site:"213",wildtype:"I",mutant:"P",Escape:.0031,epitope:1,times_seen:1.3333,effect:-1.9019},{reference_site:"213",wildtype:"I",mutant:"S",Escape:-.003,epitope:1,times_seen:1,effect:-2.3948},{reference_site:"213",wildtype:"I",mutant:"T",Escape:-.0058,epitope:1,times_seen:2.6667,effect:-1.6633},{reference_site:"213",wildtype:"I",mutant:"Y",Escape:-.0062,epitope:1,times_seen:1,effect:-2.6035},{reference_site:"214",wildtype:"P",mutant:"A",Escape:.01,epitope:1,times_seen:1.6667,effect:-.2392},{reference_site:"214",wildtype:"P",mutant:"D",Escape:.0288,epitope:1,times_seen:2,effect:-1.8276},{reference_site:"214",wildtype:"P",mutant:"E",Escape:-.0285,epitope:1,times_seen:2,effect:-.1739},{reference_site:"214",wildtype:"P",mutant:"H",Escape:-.0389,epitope:1,times_seen:17,effect:-.2018},{reference_site:"214",wildtype:"P",mutant:"K",Escape:-.0154,epitope:1,times_seen:2,effect:-.844},{reference_site:"214",wildtype:"P",mutant:"L",Escape:-.0731,epitope:1,times_seen:4,effect:-1.7748},{reference_site:"214",wildtype:"P",mutant:"M",Escape:-.022,epitope:1,times_seen:2,effect:-.2295},{reference_site:"214",wildtype:"P",mutant:"N",Escape:-.0179,epitope:1,times_seen:2.3333,effect:-.6761},{reference_site:"214",wildtype:"P",mutant:"R",Escape:-.0109,epitope:1,times_seen:1,effect:-.6031},{reference_site:"214",wildtype:"P",mutant:"S",Escape:-.0185,epitope:1,times_seen:4.3333,effect:-.215},{reference_site:"214",wildtype:"P",mutant:"T",Escape:-.1648,epitope:1,times_seen:12.6667,effect:-1.0135},{reference_site:"214",wildtype:"P",mutant:"Y",Escape:-.0091,epitope:1,times_seen:1.5,effect:-1.0762},{reference_site:"215",wildtype:"I",mutant:"F",Escape:-1e-4,epitope:1,times_seen:5.3333,effect:-1.4369},{reference_site:"215",wildtype:"I",mutant:"L",Escape:-.0132,epitope:1,times_seen:4.6667,effect:-.0535},{reference_site:"215",wildtype:"I",mutant:"V",Escape:.0018,epitope:1,times_seen:1,effect:-.4143},{reference_site:"216",wildtype:"H",mutant:"A",Escape:.0012,epitope:1,times_seen:1.5,effect:-1.2698},{reference_site:"216",wildtype:"H",mutant:"C",Escape:-.0084,epitope:1,times_seen:2.3333,effect:-1.5488},{reference_site:"216",wildtype:"H",mutant:"F",Escape:-.0243,epitope:1,times_seen:4.6667,effect:-.1646},{reference_site:"216",wildtype:"H",mutant:"I",Escape:-.0455,epitope:1,times_seen:3.5,effect:-1.8049},{reference_site:"216",wildtype:"H",mutant:"K",Escape:-.0536,epitope:1,times_seen:7.3333,effect:-.5741},{reference_site:"216",wildtype:"H",mutant:"L",Escape:.0238,epitope:1,times_seen:1.3333,effect:-2.7877},{reference_site:"216",wildtype:"H",mutant:"M",Escape:-.0179,epitope:1,times_seen:2,effect:-.7003},{reference_site:"216",wildtype:"H",mutant:"N",Escape:-.1038,epitope:1,times_seen:16,effect:-.5073},{reference_site:"216",wildtype:"H",mutant:"P",Escape:.1033,epitope:1,times_seen:3,effect:-3.1693},{reference_site:"216",wildtype:"H",mutant:"Q",Escape:-.024,epitope:1,times_seen:4.6667,effect:-1.2862},{reference_site:"216",wildtype:"H",mutant:"R",Escape:-.0284,epitope:1,times_seen:4.3333,effect:-.1737},{reference_site:"216",wildtype:"H",mutant:"S",Escape:-.0318,epitope:1,times_seen:4,effect:-.6201},{reference_site:"216",wildtype:"H",mutant:"T",Escape:-.0364,epitope:1,times_seen:4.3333,effect:-.4834},{reference_site:"216",wildtype:"H",mutant:"V",Escape:.0194,epitope:1,times_seen:1,effect:-2.2621},{reference_site:"216",wildtype:"H",mutant:"W",Escape:-.0693,epitope:1,times_seen:4.5,effect:-1.1979},{reference_site:"216",wildtype:"H",mutant:"Y",Escape:-.0584,epitope:1,times_seen:9,effect:-.3201},{reference_site:"217",wildtype:"Y",mutant:"D",Escape:-.0116,epitope:1,times_seen:1,effect:-3.1932},{reference_site:"217",wildtype:"Y",mutant:"F",Escape:-.0198,epitope:1,times_seen:4,effect:-.9109},{reference_site:"217",wildtype:"Y",mutant:"H",Escape:.0231,epitope:1,times_seen:2.5,effect:-1.5253},{reference_site:"217",wildtype:"Y",mutant:"L",Escape:-.0283,epitope:1,times_seen:4,effect:-1.5334},{reference_site:"217",wildtype:"Y",mutant:"W",Escape:-.0225,epitope:1,times_seen:2.3333,effect:-.2173},{reference_site:"218",wildtype:"C",mutant:"F",Escape:.0082,epitope:1,times_seen:1,effect:-2.4511},{reference_site:"218",wildtype:"C",mutant:"G",Escape:.0236,epitope:1,times_seen:2,effect:-2.9573},{reference_site:"218",wildtype:"C",mutant:"Y",Escape:.0045,epitope:1,times_seen:1,effect:-1.8811},{reference_site:"218",wildtype:"C",mutant:"*",Escape:1e-4,epitope:1,times_seen:1.3333,effect:-1.9023},{reference_site:"219",wildtype:"A",mutant:"C",Escape:-.0086,epitope:1,times_seen:1.6667,effect:-.0164},{reference_site:"219",wildtype:"A",mutant:"D",Escape:.0066,epitope:1,times_seen:1.3333,effect:-3.0102},{reference_site:"219",wildtype:"A",mutant:"I",Escape:-.0131,epitope:1,times_seen:2,effect:-.6755},{reference_site:"219",wildtype:"A",mutant:"S",Escape:.0321,epitope:1,times_seen:4,effect:-.5156},{reference_site:"219",wildtype:"A",mutant:"T",Escape:-.0278,epitope:1,times_seen:8,effect:-.0469},{reference_site:"219",wildtype:"A",mutant:"V",Escape:-.0111,epitope:1,times_seen:4.6667,effect:-.0799},{reference_site:"220",wildtype:"P",mutant:"H",Escape:.0192,epitope:1,times_seen:3,effect:-3.3748},{reference_site:"220",wildtype:"P",mutant:"S",Escape:.0164,epitope:1,times_seen:1,effect:-1.8387},{reference_site:"220",wildtype:"P",mutant:"T",Escape:-7e-4,epitope:1,times_seen:2,effect:-1.3709},{reference_site:"221",wildtype:"A",mutant:"C",Escape:-.0019,epitope:1,times_seen:1,effect:-1.5713},{reference_site:"221",wildtype:"A",mutant:"D",Escape:-.0131,epitope:1,times_seen:1,effect:-.7851},{reference_site:"221",wildtype:"A",mutant:"G",Escape:.0399,epitope:1,times_seen:6,effect:-.2954},{reference_site:"221",wildtype:"A",mutant:"M",Escape:-.0075,epitope:1,times_seen:1,effect:-.799},{reference_site:"221",wildtype:"A",mutant:"P",Escape:.0387,epitope:1,times_seen:9,effect:-.1129},{reference_site:"221",wildtype:"A",mutant:"R",Escape:-.0145,epitope:1,times_seen:1,effect:-.5352},{reference_site:"221",wildtype:"A",mutant:"S",Escape:-.0049,epitope:1,times_seen:9,effect:-.2073},{reference_site:"221",wildtype:"A",mutant:"T",Escape:5e-4,epitope:1,times_seen:21.6667,effect:-.0831},{reference_site:"221",wildtype:"A",mutant:"V",Escape:.0482,epitope:1,times_seen:5,effect:-1.8425},{reference_site:"222",wildtype:"G",mutant:"A",Escape:3e-4,epitope:1,times_seen:3,effect:-.9931},{reference_site:"222",wildtype:"G",mutant:"C",Escape:-2e-4,epitope:1,times_seen:1.3333,effect:-3.1633},{reference_site:"222",wildtype:"G",mutant:"D",Escape:.0145,epitope:1,times_seen:2,effect:-2.9301},{reference_site:"222",wildtype:"G",mutant:"H",Escape:-.0061,epitope:1,times_seen:1.6667,effect:-.507},{reference_site:"222",wildtype:"G",mutant:"S",Escape:-.0113,epitope:1,times_seen:8.3333,effect:-.4081},{reference_site:"222",wildtype:"G",mutant:"V",Escape:.0156,epitope:1,times_seen:1,effect:-2.6911},{reference_site:"222",wildtype:"G",mutant:"Y",Escape:.0071,epitope:1,times_seen:2.6667,effect:-1.9473},{reference_site:"223",wildtype:"F",mutant:"H",Escape:-.0032,epitope:1,times_seen:1,effect:-.787},{reference_site:"223",wildtype:"F",mutant:"I",Escape:-.0094,epitope:1,times_seen:2,effect:-1.3694},{reference_site:"223",wildtype:"F",mutant:"L",Escape:.0104,epitope:1,times_seen:1,effect:-3.1157},{reference_site:"223",wildtype:"F",mutant:"S",Escape:.0019,epitope:1,times_seen:1,effect:-1.1306},{reference_site:"223",wildtype:"F",mutant:"W",Escape:.0186,epitope:1,times_seen:1,effect:-1.5522},{reference_site:"223",wildtype:"F",mutant:"Y",Escape:-.0083,epitope:1,times_seen:5,effect:-.3415},{reference_site:"224",wildtype:"A",mutant:"G",Escape:.0078,epitope:1,times_seen:2.6667,effect:-.0313},{reference_site:"224",wildtype:"A",mutant:"S",Escape:-.0111,epitope:1,times_seen:8.6667,effect:-.4129},{reference_site:"224",wildtype:"A",mutant:"T",Escape:-.031,epitope:1,times_seen:14.6667,effect:-.2985},{reference_site:"224",wildtype:"A",mutant:"V",Escape:-.0147,epitope:1,times_seen:2,effect:-1.1736},{reference_site:"225",wildtype:"I",mutant:"F",Escape:-.0042,epitope:1,times_seen:1,effect:-.5193},{reference_site:"225",wildtype:"I",mutant:"M",Escape:5e-4,epitope:1,times_seen:2,effect:-1.1317},{reference_site:"225",wildtype:"I",mutant:"S",Escape:.0455,epitope:1,times_seen:2,effect:-3.3856},{reference_site:"225",wildtype:"I",mutant:"T",Escape:.0038,epitope:1,times_seen:1,effect:-2.6523},{reference_site:"225",wildtype:"I",mutant:"V",Escape:.0342,epitope:1,times_seen:1,effect:-.0968},{reference_site:"226",wildtype:"L",mutant:"F",Escape:-.0021,epitope:1,times_seen:1.6667,effect:-.8949},{reference_site:"226",wildtype:"L",mutant:"I",Escape:.0098,epitope:1,times_seen:4.3333,effect:-.1579},{reference_site:"226",wildtype:"L",mutant:"M",Escape:.0013,epitope:1,times_seen:18.6667,effect:-.2214},{reference_site:"226",wildtype:"L",mutant:"P",Escape:.0237,epitope:1,times_seen:1.3333,effect:-3.1627},{reference_site:"226",wildtype:"L",mutant:"R",Escape:.0533,epitope:1,times_seen:1.3333,effect:-2.9512},{reference_site:"226",wildtype:"L",mutant:"V",Escape:.0317,epitope:1,times_seen:2,effect:-1.0385},{reference_site:"227",wildtype:"K",mutant:"D",Escape:-.0276,epitope:1,times_seen:1,effect:-1.7636},{reference_site:"227",wildtype:"K",mutant:"E",Escape:-.035,epitope:1,times_seen:3,effect:-.7981},{reference_site:"227",wildtype:"K",mutant:"F",Escape:-.0117,epitope:1,times_seen:1,effect:-.5816},{reference_site:"227",wildtype:"K",mutant:"H",Escape:-.002,epitope:1,times_seen:1,effect:-.4188},{reference_site:"227",wildtype:"K",mutant:"I",Escape:-.0241,epitope:1,times_seen:3.6667,effect:-.1041},{reference_site:"227",wildtype:"K",mutant:"L",Escape:-.0253,epitope:1,times_seen:3.3333,effect:-.0882},{reference_site:"227",wildtype:"K",mutant:"M",Escape:-.0108,epitope:1,times_seen:6.3333,effect:.022},{reference_site:"227",wildtype:"K",mutant:"N",Escape:-.0051,epitope:1,times_seen:3,effect:-.8391},{reference_site:"227",wildtype:"K",mutant:"Q",Escape:-.0118,epitope:1,times_seen:6.3333,effect:-.3275},{reference_site:"227",wildtype:"K",mutant:"R",Escape:.5303,epitope:1,times_seen:1,effect:.2549},{reference_site:"227",wildtype:"K",mutant:"S",Escape:-.0174,epitope:1,times_seen:3.6667,effect:-.7195},{reference_site:"227",wildtype:"K",mutant:"T",Escape:.0188,epitope:1,times_seen:1,effect:-.241},{reference_site:"227",wildtype:"K",mutant:"V",Escape:-.0152,epitope:1,times_seen:2.3333,effect:.245},{reference_site:"228",wildtype:"C",mutant:"F",Escape:.0067,epitope:1,times_seen:1,effect:-2.4094},{reference_site:"228",wildtype:"C",mutant:"G",Escape:.0155,epitope:1,times_seen:2,effect:-3.1545},{reference_site:"228",wildtype:"C",mutant:"S",Escape:.0586,epitope:1,times_seen:2.3333,effect:-2.994},{reference_site:"228",wildtype:"C",mutant:"W",Escape:-.0043,epitope:1,times_seen:1,effect:-2.7746},{reference_site:"228",wildtype:"C",mutant:"Y",Escape:.0087,epitope:1,times_seen:1.3333,effect:-2.4453},{reference_site:"228",wildtype:"C",mutant:"*",Escape:.0184,epitope:1,times_seen:1,effect:-2.7006},{reference_site:"229",wildtype:"K",mutant:"A",Escape:-.019,epitope:1,times_seen:1,effect:-.278},{reference_site:"229",wildtype:"K",mutant:"C",Escape:-.0746,epitope:1,times_seen:6.6667,effect:.0129},{reference_site:"229",wildtype:"K",mutant:"D",Escape:-.0308,epitope:1,times_seen:3.3333,effect:-1.0157},{reference_site:"229",wildtype:"K",mutant:"E",Escape:-.075,epitope:1,times_seen:9.3333,effect:-.7347},{reference_site:"229",wildtype:"K",mutant:"F",Escape:-.0134,epitope:1,times_seen:1,effect:-.5761},{reference_site:"229",wildtype:"K",mutant:"G",Escape:-.0091,epitope:1,times_seen:2.3333,effect:-.4672},{reference_site:"229",wildtype:"K",mutant:"H",Escape:-.0116,epitope:1,times_seen:2,effect:-1.1499},{reference_site:"229",wildtype:"K",mutant:"I",Escape:-.0144,epitope:1,times_seen:1,effect:-.8669},{reference_site:"229",wildtype:"K",mutant:"L",Escape:-.0083,epitope:1,times_seen:3,effect:-.1105},{reference_site:"229",wildtype:"K",mutant:"M",Escape:.0558,epitope:1,times_seen:5,effect:-.2145},{reference_site:"229",wildtype:"K",mutant:"N",Escape:-.0396,epitope:1,times_seen:11.6667,effect:-.0876},{reference_site:"229",wildtype:"K",mutant:"Q",Escape:-.0403,epitope:1,times_seen:7,effect:-.072},{reference_site:"229",wildtype:"K",mutant:"R",Escape:-.0343,epitope:1,times_seen:9.3333,effect:-.0331},{reference_site:"229",wildtype:"K",mutant:"S",Escape:-.0307,epitope:1,times_seen:3,effect:-.0434},{reference_site:"229",wildtype:"K",mutant:"T",Escape:-.0518,epitope:1,times_seen:6,effect:.0322},{reference_site:"229",wildtype:"K",mutant:"V",Escape:-.0208,epitope:1,times_seen:4,effect:-.3316},{reference_site:"229",wildtype:"K",mutant:"W",Escape:-.0476,epitope:1,times_seen:4.6667,effect:-.5796},{reference_site:"229",wildtype:"K",mutant:"Y",Escape:-.0308,epitope:1,times_seen:6,effect:-.3703},{reference_site:"230",wildtype:"D",mutant:"A",Escape:-.0158,epitope:1,times_seen:2.6667,effect:-.0437},{reference_site:"230",wildtype:"D",mutant:"C",Escape:.0154,epitope:1,times_seen:2,effect:-1.2531},{reference_site:"230",wildtype:"D",mutant:"E",Escape:-.0333,epitope:1,times_seen:7.3333,effect:-.2643},{reference_site:"230",wildtype:"D",mutant:"F",Escape:.0213,epitope:1,times_seen:3,effect:-1.2439},{reference_site:"230",wildtype:"D",mutant:"G",Escape:9e-4,epitope:1,times_seen:1,effect:-1.1249},{reference_site:"230",wildtype:"D",mutant:"H",Escape:-.0057,epitope:1,times_seen:1.6667,effect:-1.132},{reference_site:"230",wildtype:"D",mutant:"I",Escape:.0314,epitope:1,times_seen:2.3333,effect:-2.5469},{reference_site:"230",wildtype:"D",mutant:"K",Escape:-.0034,epitope:1,times_seen:1,effect:-2.2276},{reference_site:"230",wildtype:"D",mutant:"L",Escape:.0206,epitope:1,times_seen:1,effect:-3.0206},{reference_site:"230",wildtype:"D",mutant:"M",Escape:-.0311,epitope:1,times_seen:1,effect:-1.0831},{reference_site:"230",wildtype:"D",mutant:"N",Escape:.0204,epitope:1,times_seen:5,effect:-.4526},{reference_site:"230",wildtype:"D",mutant:"Q",Escape:-.0038,epitope:1,times_seen:1.5,effect:-1.0343},{reference_site:"230",wildtype:"D",mutant:"S",Escape:.0246,epitope:1,times_seen:1.6667,effect:-.5357},{reference_site:"230",wildtype:"D",mutant:"T",Escape:-.0163,epitope:1,times_seen:2.5,effect:-.6676},{reference_site:"230",wildtype:"D",mutant:"W",Escape:-.0135,epitope:1,times_seen:1.5,effect:-.7436},{reference_site:"230",wildtype:"D",mutant:"Y",Escape:-.0172,epitope:1,times_seen:1.6667,effect:-.684},{reference_site:"231",wildtype:"E",mutant:"A",Escape:.0037,epitope:1,times_seen:5.3333,effect:-.2462},{reference_site:"231",wildtype:"E",mutant:"D",Escape:-.0526,epitope:1,times_seen:11,effect:.0397},{reference_site:"231",wildtype:"E",mutant:"F",Escape:-.0046,epitope:1,times_seen:1.6667,effect:-.2783},{reference_site:"231",wildtype:"E",mutant:"G",Escape:-.0012,epitope:1,times_seen:3.3333,effect:.2476},{reference_site:"231",wildtype:"E",mutant:"H",Escape:.0547,epitope:1,times_seen:4,effect:-.0451},{reference_site:"231",wildtype:"E",mutant:"I",Escape:.0164,epitope:1,times_seen:2.3333,effect:-.0113},{reference_site:"231",wildtype:"E",mutant:"K",Escape:.0656,epitope:1,times_seen:13,effect:.0634},{reference_site:"231",wildtype:"E",mutant:"L",Escape:.0375,epitope:1,times_seen:7.6667,effect:-.1379},{reference_site:"231",wildtype:"E",mutant:"M",Escape:.0675,epitope:1,times_seen:11.3333,effect:-.049},{reference_site:"231",wildtype:"E",mutant:"N",Escape:9e-4,epitope:1,times_seen:8,effect:-.1496},{reference_site:"231",wildtype:"E",mutant:"P",Escape:-.0094,epitope:1,times_seen:2,effect:.1134},{reference_site:"231",wildtype:"E",mutant:"Q",Escape:-.0029,epitope:1,times_seen:6,effect:-.1227},{reference_site:"231",wildtype:"E",mutant:"R",Escape:-.0131,epitope:1,times_seen:1.6667,effect:-.0056},{reference_site:"231",wildtype:"E",mutant:"S",Escape:.0104,epitope:1,times_seen:7,effect:-.1977},{reference_site:"231",wildtype:"E",mutant:"T",Escape:-.0174,epitope:1,times_seen:4,effect:.1121},{reference_site:"231",wildtype:"E",mutant:"V",Escape:.05,epitope:1,times_seen:11.3333,effect:-.102},{reference_site:"231",wildtype:"E",mutant:"W",Escape:.0222,epitope:1,times_seen:9.3333,effect:-.1025},{reference_site:"231",wildtype:"E",mutant:"Y",Escape:.036,epitope:1,times_seen:8,effect:-.0877},{reference_site:"231",wildtype:"E",mutant:"*",Escape:-.0109,epitope:1,times_seen:1,effect:-3.1088},{reference_site:"231",wildtype:"E",mutant:"-",Escape:-.0121,epitope:1,times_seen:1,effect:-.1404},{reference_site:"232",wildtype:"K",mutant:"A",Escape:-.0073,epitope:1,times_seen:5,effect:-.2543},{reference_site:"232",wildtype:"K",mutant:"C",Escape:-.0071,epitope:1,times_seen:3,effect:-.4791},{reference_site:"232",wildtype:"K",mutant:"D",Escape:.0114,epitope:1,times_seen:8.3333,effect:-.135},{reference_site:"232",wildtype:"K",mutant:"E",Escape:-.0318,epitope:1,times_seen:8,effect:-.0954},{reference_site:"232",wildtype:"K",mutant:"F",Escape:-.0215,epitope:1,times_seen:5,effect:-.0943},{reference_site:"232",wildtype:"K",mutant:"G",Escape:-.0226,epitope:1,times_seen:2,effect:-.5469},{reference_site:"232",wildtype:"K",mutant:"H",Escape:.0028,epitope:1,times_seen:2.6667,effect:.0435},{reference_site:"232",wildtype:"K",mutant:"I",Escape:-.0036,epitope:1,times_seen:11.3333,effect:-.1406},{reference_site:"232",wildtype:"K",mutant:"L",Escape:.0055,epitope:1,times_seen:2.6667,effect:-.2817},{reference_site:"232",wildtype:"K",mutant:"M",Escape:-.0436,epitope:1,times_seen:12.3333,effect:.1072},{reference_site:"232",wildtype:"K",mutant:"N",Escape:-.0022,epitope:1,times_seen:5.3333,effect:.0338},{reference_site:"232",wildtype:"K",mutant:"P",Escape:-.0063,epitope:1,times_seen:2,effect:-.5684},{reference_site:"232",wildtype:"K",mutant:"Q",Escape:.021,epitope:1,times_seen:6.6667,effect:-.3246},{reference_site:"232",wildtype:"K",mutant:"R",Escape:-.0135,epitope:1,times_seen:6.6667,effect:-.005},{reference_site:"232",wildtype:"K",mutant:"S",Escape:1e-4,epitope:1,times_seen:4.3333,effect:.0772},{reference_site:"232",wildtype:"K",mutant:"T",Escape:-.0263,epitope:1,times_seen:3.6667,effect:.0416},{reference_site:"232",wildtype:"K",mutant:"V",Escape:.0022,epitope:1,times_seen:5.3333,effect:-.0808},{reference_site:"232",wildtype:"K",mutant:"W",Escape:-.0343,epitope:1,times_seen:6,effect:-.5052},{reference_site:"232",wildtype:"K",mutant:"Y",Escape:-.0094,epitope:1,times_seen:4,effect:.0648},{reference_site:"232",wildtype:"K",mutant:"-",Escape:-.0123,epitope:1,times_seen:1,effect:-.521},{reference_site:"233",wildtype:"F",mutant:"H",Escape:-.0133,epitope:1,times_seen:6.6667,effect:.0991},{reference_site:"233",wildtype:"F",mutant:"L",Escape:.0031,epitope:1,times_seen:1.5,effect:-1.5547},{reference_site:"233",wildtype:"F",mutant:"T",Escape:.0253,epitope:1,times_seen:4,effect:-2.1468},{reference_site:"233",wildtype:"F",mutant:"V",Escape:.0254,epitope:1,times_seen:1,effect:-1.3792},{reference_site:"233",wildtype:"F",mutant:"W",Escape:.0124,epitope:1,times_seen:3.3333,effect:-.1754},{reference_site:"233",wildtype:"F",mutant:"Y",Escape:-.0193,epitope:1,times_seen:17,effect:-.1389},{reference_site:"233",wildtype:"F",mutant:"-",Escape:-.0053,epitope:1,times_seen:1,effect:-.1404},{reference_site:"234",wildtype:"N",mutant:"C",Escape:-.0482,epitope:1,times_seen:2.5,effect:-.5433},{reference_site:"234",wildtype:"N",mutant:"D",Escape:-.0797,epitope:1,times_seen:4.6667,effect:-.5321},{reference_site:"234",wildtype:"N",mutant:"E",Escape:-.0967,epitope:1,times_seen:4.3333,effect:-.1974},{reference_site:"234",wildtype:"N",mutant:"F",Escape:-.0549,epitope:1,times_seen:3,effect:-.2847},{reference_site:"234",wildtype:"N",mutant:"H",Escape:-.0504,epitope:1,times_seen:3,effect:-.2732},{reference_site:"234",wildtype:"N",mutant:"I",Escape:-.0774,epitope:1,times_seen:6,effect:-.3609},{reference_site:"234",wildtype:"N",mutant:"K",Escape:-.1129,epitope:1,times_seen:6,effect:-.0778},{reference_site:"234",wildtype:"N",mutant:"L",Escape:-.0321,epitope:1,times_seen:1,effect:-.8199},{reference_site:"234",wildtype:"N",mutant:"M",Escape:-.0627,epitope:1,times_seen:4.6667,effect:-.2831},{reference_site:"234",wildtype:"N",mutant:"P",Escape:-.0522,epitope:1,times_seen:3,effect:-.2329},{reference_site:"234",wildtype:"N",mutant:"Q",Escape:-.0195,epitope:1,times_seen:1,effect:-.6524},{reference_site:"234",wildtype:"N",mutant:"S",Escape:-.0656,epitope:1,times_seen:5,effect:-.1319},{reference_site:"234",wildtype:"N",mutant:"T",Escape:-.0463,epitope:1,times_seen:2.3333,effect:.1507},{reference_site:"234",wildtype:"N",mutant:"V",Escape:-.02,epitope:1,times_seen:1,effect:-.0588},{reference_site:"234",wildtype:"N",mutant:"W",Escape:-.0289,epitope:1,times_seen:3,effect:-.3013},{reference_site:"234",wildtype:"N",mutant:"Y",Escape:-.0089,epitope:1,times_seen:4.3333,effect:-.489},{reference_site:"234",wildtype:"N",mutant:"-",Escape:-.0121,epitope:1,times_seen:1,effect:-.1404},{reference_site:"235",wildtype:"G",mutant:"C",Escape:.0123,epitope:1,times_seen:1,effect:-2.7836},{reference_site:"235",wildtype:"G",mutant:"D",Escape:.0119,epitope:1,times_seen:1,effect:-2.2131},{reference_site:"235",wildtype:"G",mutant:"R",Escape:.0093,epitope:1,times_seen:1,effect:-1.306},{reference_site:"235",wildtype:"G",mutant:"-",Escape:-.0034,epitope:1,times_seen:1,effect:-.1404},{reference_site:"236",wildtype:"T",mutant:"A",Escape:-.0651,epitope:1,times_seen:3.6667,effect:.12},{reference_site:"236",wildtype:"T",mutant:"C",Escape:-.0417,epitope:1,times_seen:4,effect:-.504},{reference_site:"236",wildtype:"T",mutant:"D",Escape:-.0267,epitope:1,times_seen:1.6667,effect:-.359},{reference_site:"236",wildtype:"T",mutant:"E",Escape:-.0103,epitope:1,times_seen:1,effect:-.2285},{reference_site:"236",wildtype:"T",mutant:"F",Escape:-.0653,epitope:1,times_seen:3.6667,effect:-.259},{reference_site:"236",wildtype:"T",mutant:"G",Escape:-.0344,epitope:1,times_seen:2.5,effect:-.8174},{reference_site:"236",wildtype:"T",mutant:"H",Escape:-.0925,epitope:1,times_seen:4.3333,effect:-.0088},{reference_site:"236",wildtype:"T",mutant:"I",Escape:-.1283,epitope:1,times_seen:11,effect:-.08},{reference_site:"236",wildtype:"T",mutant:"K",Escape:-.0309,epitope:1,times_seen:2.6667,effect:.0904},{reference_site:"236",wildtype:"T",mutant:"M",Escape:-.0348,epitope:1,times_seen:2,effect:-.7608},{reference_site:"236",wildtype:"T",mutant:"N",Escape:-.0948,epitope:1,times_seen:4.3333,effect:-.1757},{reference_site:"236",wildtype:"T",mutant:"P",Escape:.0209,epitope:1,times_seen:1.3333,effect:-3.2061},{reference_site:"236",wildtype:"T",mutant:"S",Escape:.0642,epitope:1,times_seen:5,effect:-.2079},{reference_site:"236",wildtype:"T",mutant:"V",Escape:-.0291,epitope:1,times_seen:1.6667,effect:.0731},{reference_site:"236",wildtype:"T",mutant:"Y",Escape:-.0731,epitope:1,times_seen:4.6667,effect:.027},{reference_site:"236",wildtype:"T",mutant:"-",Escape:-.0121,epitope:1,times_seen:1,effect:-.1404},{reference_site:"237",wildtype:"G",mutant:"A",Escape:-.0055,epitope:1,times_seen:1.3333,effect:-.6263},{reference_site:"237",wildtype:"G",mutant:"C",Escape:9e-4,epitope:1,times_seen:2,effect:-1.9745},{reference_site:"237",wildtype:"G",mutant:"D",Escape:-.01,epitope:1,times_seen:5.6667,effect:-.8231},{reference_site:"237",wildtype:"G",mutant:"N",Escape:-.0037,epitope:1,times_seen:4.3333,effect:-.7882},{reference_site:"237",wildtype:"G",mutant:"S",Escape:-.0183,epitope:1,times_seen:7.3333,effect:-.5685},{reference_site:"237",wildtype:"G",mutant:"V",Escape:-.0049,epitope:1,times_seen:1,effect:-3.2487},{reference_site:"237",wildtype:"G",mutant:"-",Escape:-.0072,epitope:1,times_seen:1,effect:-.1404},{reference_site:"238",wildtype:"L",mutant:"D",Escape:-.0164,epitope:1,times_seen:1.3333,effect:-.6749},{reference_site:"238",wildtype:"L",mutant:"E",Escape:-.0141,epitope:1,times_seen:2.6667,effect:-.0142},{reference_site:"238",wildtype:"L",mutant:"F",Escape:-.0085,epitope:1,times_seen:2,effect:.0074},{reference_site:"238",wildtype:"L",mutant:"H",Escape:-2e-4,epitope:1,times_seen:1.3333,effect:-.7617},{reference_site:"238",wildtype:"L",mutant:"I",Escape:-.0013,epitope:1,times_seen:2,effect:-.3797},{reference_site:"238",wildtype:"L",mutant:"K",Escape:-.0135,epitope:1,times_seen:2,effect:-.5386},{reference_site:"238",wildtype:"L",mutant:"M",Escape:-.0319,epitope:1,times_seen:9.6667,effect:-.065},{reference_site:"238",wildtype:"L",mutant:"N",Escape:.0159,epitope:1,times_seen:2,effect:-.0107},{reference_site:"238",wildtype:"L",mutant:"P",Escape:-.0151,epitope:1,times_seen:7,effect:-.0124},{reference_site:"238",wildtype:"L",mutant:"Q",Escape:-.0042,epitope:1,times_seen:4.3333,effect:-.4948},{reference_site:"238",wildtype:"L",mutant:"R",Escape:8e-4,epitope:1,times_seen:1,effect:.0025},{reference_site:"238",wildtype:"L",mutant:"T",Escape:-.016,epitope:1,times_seen:2,effect:.0515},{reference_site:"238",wildtype:"L",mutant:"V",Escape:.0028,epitope:1,times_seen:3.6667,effect:-.2932},{reference_site:"238",wildtype:"L",mutant:"W",Escape:-.0032,epitope:1,times_seen:2,effect:.1151},{reference_site:"238",wildtype:"L",mutant:"Y",Escape:-.052,epitope:1,times_seen:3,effect:-2.0626},{reference_site:"238",wildtype:"L",mutant:"-",Escape:-.0094,epitope:1,times_seen:1,effect:-.0423},{reference_site:"239",wildtype:"C",mutant:"F",Escape:.0153,epitope:1,times_seen:1,effect:-1.4758},{reference_site:"239",wildtype:"C",mutant:"R",Escape:.0033,epitope:1,times_seen:1,effect:-2.0861},{reference_site:"239",wildtype:"C",mutant:"S",Escape:.0061,epitope:1,times_seen:1,effect:-3.5781},{reference_site:"239",wildtype:"C",mutant:"Y",Escape:.0062,epitope:1,times_seen:1.5,effect:-2.8521},{reference_site:"239",wildtype:"C",mutant:"*",Escape:.0053,epitope:1,times_seen:1,effect:-2.7419},{reference_site:"239",wildtype:"C",mutant:"-",Escape:-.0034,epitope:1,times_seen:1,effect:-.0423},{reference_site:"240",wildtype:"K",mutant:"A",Escape:-.001,epitope:1,times_seen:1.6667,effect:-.2568},{reference_site:"240",wildtype:"K",mutant:"C",Escape:-.0011,epitope:1,times_seen:1.6667,effect:-.5681},{reference_site:"240",wildtype:"K",mutant:"D",Escape:-.0082,epitope:1,times_seen:1.3333,effect:-.7169},{reference_site:"240",wildtype:"K",mutant:"E",Escape:-.0318,epitope:1,times_seen:8.3333,effect:-.0948},{reference_site:"240",wildtype:"K",mutant:"F",Escape:.02,epitope:1,times_seen:1,effect:-.4346},{reference_site:"240",wildtype:"K",mutant:"G",Escape:-.0058,epitope:1,times_seen:1,effect:.0359},{reference_site:"240",wildtype:"K",mutant:"H",Escape:-.0018,epitope:1,times_seen:1.3333,effect:-.7105},{reference_site:"240",wildtype:"K",mutant:"I",Escape:.0468,epitope:1,times_seen:2,effect:-1.08},{reference_site:"240",wildtype:"K",mutant:"L",Escape:-9e-4,epitope:1,times_seen:2.3333,effect:.0608},{reference_site:"240",wildtype:"K",mutant:"M",Escape:.008,epitope:1,times_seen:8.3333,effect:-.0745},{reference_site:"240",wildtype:"K",mutant:"N",Escape:-.0076,epitope:1,times_seen:7.3333,effect:-.1839},{reference_site:"240",wildtype:"K",mutant:"P",Escape:.0099,epitope:1,times_seen:1,effect:-.2419},{reference_site:"240",wildtype:"K",mutant:"Q",Escape:.0061,epitope:1,times_seen:4.3333,effect:-.4543},{reference_site:"240",wildtype:"K",mutant:"R",Escape:-.0043,epitope:1,times_seen:2.3333,effect:-.3991},{reference_site:"240",wildtype:"K",mutant:"S",Escape:.0047,epitope:1,times_seen:2.3333,effect:-.0555},{reference_site:"240",wildtype:"K",mutant:"T",Escape:-.0255,epitope:1,times_seen:3.3333,effect:.009},{reference_site:"240",wildtype:"K",mutant:"V",Escape:-.0069,epitope:1,times_seen:5.3333,effect:-.3304},{reference_site:"240",wildtype:"K",mutant:"W",Escape:-.0311,epitope:1,times_seen:3.3333,effect:-.2287},{reference_site:"240",wildtype:"K",mutant:"Y",Escape:.0188,epitope:1,times_seen:2.5,effect:-.0273},{reference_site:"240",wildtype:"K",mutant:"-",Escape:-.0105,epitope:1,times_seen:1,effect:-.0423},{reference_site:"241",wildtype:"N",mutant:"D",Escape:-.0215,epitope:1,times_seen:2,effect:-.368},{reference_site:"241",wildtype:"N",mutant:"E",Escape:-.0259,epitope:1,times_seen:2,effect:.1252},{reference_site:"241",wildtype:"N",mutant:"F",Escape:.0097,epitope:1,times_seen:2,effect:-.2646},{reference_site:"241",wildtype:"N",mutant:"H",Escape:.0046,epitope:1,times_seen:1.5,effect:-.74},{reference_site:"241",wildtype:"N",mutant:"I",Escape:.015,epitope:1,times_seen:2,effect:-.5377},{reference_site:"241",wildtype:"N",mutant:"K",Escape:-.0015,epitope:1,times_seen:3,effect:-.1177},{reference_site:"241",wildtype:"N",mutant:"L",Escape:0,epitope:1,times_seen:1,effect:-1.3256},{reference_site:"241",wildtype:"N",mutant:"M",Escape:-.009,epitope:1,times_seen:3,effect:-.237},{reference_site:"241",wildtype:"N",mutant:"P",Escape:.0025,epitope:1,times_seen:1,effect:-.7827},{reference_site:"241",wildtype:"N",mutant:"Q",Escape:-4e-4,epitope:1,times_seen:1,effect:.4394},{reference_site:"241",wildtype:"N",mutant:"R",Escape:.0061,epitope:1,times_seen:1,effect:-.0376},{reference_site:"241",wildtype:"N",mutant:"S",Escape:-.0028,epitope:1,times_seen:1.6667,effect:-.4572},{reference_site:"241",wildtype:"N",mutant:"T",Escape:-.0155,epitope:1,times_seen:2,effect:-.8895},{reference_site:"241",wildtype:"N",mutant:"V",Escape:-.0126,epitope:1,times_seen:1,effect:.8091},{reference_site:"241",wildtype:"N",mutant:"Y",Escape:-.0092,epitope:1,times_seen:1,effect:-.3322},{reference_site:"241",wildtype:"N",mutant:"-",Escape:-.0073,epitope:1,times_seen:1,effect:-.0423},{reference_site:"242",wildtype:"V",mutant:"A",Escape:-.0045,epitope:1,times_seen:1,effect:-2.9185},{reference_site:"242",wildtype:"V",mutant:"E",Escape:-.0142,epitope:1,times_seen:1,effect:-.9736},{reference_site:"242",wildtype:"V",mutant:"I",Escape:-9e-4,epitope:1,times_seen:1.6667,effect:-.3433},{reference_site:"242",wildtype:"V",mutant:"L",Escape:-.0078,epitope:1,times_seen:4.6667,effect:-.2376},{reference_site:"242",wildtype:"V",mutant:"M",Escape:-.0044,epitope:1,times_seen:1,effect:-.513},{reference_site:"242",wildtype:"V",mutant:"T",Escape:-.0054,epitope:1,times_seen:2,effect:-.7841},{reference_site:"243",wildtype:"S",mutant:"A",Escape:-.0029,epitope:1,times_seen:2,effect:-.3322},{reference_site:"243",wildtype:"S",mutant:"G",Escape:-.0202,epitope:1,times_seen:2.6667,effect:-1.7794},{reference_site:"243",wildtype:"S",mutant:"I",Escape:-.0077,epitope:1,times_seen:1,effect:-2.0049},{reference_site:"243",wildtype:"S",mutant:"N",Escape:.012,epitope:1,times_seen:1.6667,effect:-1.8915},{reference_site:"243",wildtype:"S",mutant:"R",Escape:-.005,epitope:1,times_seen:1.5,effect:-2.2369},{reference_site:"243",wildtype:"S",mutant:"T",Escape:-.0036,epitope:1,times_seen:3.6667,effect:.0403},{reference_site:"243",wildtype:"S",mutant:"V",Escape:.0118,epitope:1,times_seen:1,effect:-.2968},{reference_site:"243",wildtype:"S",mutant:"W",Escape:.0084,epitope:1,times_seen:1,effect:-.9565},{reference_site:"244",wildtype:"T",mutant:"A",Escape:.0294,epitope:1,times_seen:1.3333,effect:-.5557},{reference_site:"244",wildtype:"T",mutant:"D",Escape:.0117,epitope:1,times_seen:1,effect:-2.3512},{reference_site:"244",wildtype:"T",mutant:"G",Escape:-.0112,epitope:1,times_seen:1,effect:-1.2562},{reference_site:"244",wildtype:"T",mutant:"H",Escape:.0054,epitope:1,times_seen:1,effect:-.8854},{reference_site:"244",wildtype:"T",mutant:"I",Escape:.0178,epitope:1,times_seen:2.6667,effect:-1.5436},{reference_site:"244",wildtype:"T",mutant:"M",Escape:-.013,epitope:1,times_seen:1,effect:-.8946},{reference_site:"244",wildtype:"T",mutant:"N",Escape:.0169,epitope:1,times_seen:6.3333,effect:-.6139},{reference_site:"244",wildtype:"T",mutant:"P",Escape:.0112,epitope:1,times_seen:1.6667,effect:-1.4654},{reference_site:"244",wildtype:"T",mutant:"Q",Escape:-.0125,epitope:1,times_seen:1,effect:-1.3177},{reference_site:"244",wildtype:"T",mutant:"S",Escape:-.0012,epitope:1,times_seen:4,effect:-.3283},{reference_site:"244",wildtype:"T",mutant:"V",Escape:-1e-4,epitope:1,times_seen:1,effect:-.0162},{reference_site:"244",wildtype:"T",mutant:"Y",Escape:-.0102,epitope:1,times_seen:1.3333,effect:-.2821},{reference_site:"245",wildtype:"V",mutant:"A",Escape:.0103,epitope:1,times_seen:1,effect:-1.0611},{reference_site:"245",wildtype:"V",mutant:"C",Escape:.013,epitope:1,times_seen:1,effect:-.2953},{reference_site:"245",wildtype:"V",mutant:"G",Escape:-.0045,epitope:1,times_seen:1,effect:.9856},{reference_site:"245",wildtype:"V",mutant:"L",Escape:-.0087,epitope:1,times_seen:1.3333,effect:-1.6377},{reference_site:"245",wildtype:"V",mutant:"M",Escape:-9e-4,epitope:1,times_seen:4.3333,effect:-2.3466},{reference_site:"245",wildtype:"V",mutant:"Q",Escape:-.0099,epitope:1,times_seen:2,effect:-1.5146},{reference_site:"245",wildtype:"V",mutant:"T",Escape:.0058,epitope:1,times_seen:1,effect:-.8074},{reference_site:"246",wildtype:"Q",mutant:"E",Escape:.0293,epitope:1,times_seen:1,effect:-1.7474},{reference_site:"246",wildtype:"Q",mutant:"F",Escape:-.0035,epitope:1,times_seen:1,effect:-.286},{reference_site:"246",wildtype:"Q",mutant:"H",Escape:-.0153,epitope:1,times_seen:2,effect:-.7837},{reference_site:"246",wildtype:"Q",mutant:"I",Escape:.0014,epitope:1,times_seen:1,effect:.0241},{reference_site:"246",wildtype:"Q",mutant:"L",Escape:-.0128,epitope:1,times_seen:1.3333,effect:-.7865},{reference_site:"246",wildtype:"Q",mutant:"M",Escape:.0058,epitope:1,times_seen:1.6667,effect:-.0205},{reference_site:"246",wildtype:"Q",mutant:"R",Escape:.0064,epitope:1,times_seen:3,effect:-.5835},{reference_site:"246",wildtype:"Q",mutant:"V",Escape:-.0089,epitope:1,times_seen:1,effect:-1.1463},{reference_site:"246",wildtype:"Q",mutant:"Y",Escape:-.02,epitope:1,times_seen:2,effect:-.426},{reference_site:"246",wildtype:"Q",mutant:"*",Escape:.0159,epitope:1,times_seen:2,effect:-2.542},{reference_site:"247",wildtype:"C",mutant:"R",Escape:.0063,epitope:1,times_seen:1,effect:-1.9736},{reference_site:"247",wildtype:"C",mutant:"W",Escape:.0039,epitope:1,times_seen:1,effect:-3.0254},{reference_site:"247",wildtype:"C",mutant:"Y",Escape:.0063,epitope:1,times_seen:3,effect:-3.1786},{reference_site:"248",wildtype:"T",mutant:"A",Escape:.0133,epitope:1,times_seen:2,effect:-1.5118},{reference_site:"248",wildtype:"T",mutant:"I",Escape:2e-4,epitope:1,times_seen:1,effect:-1.6412},{reference_site:"248",wildtype:"T",mutant:"N",Escape:.0108,epitope:1,times_seen:1,effect:-2.5995},{reference_site:"248",wildtype:"T",mutant:"P",Escape:-.0022,epitope:1,times_seen:1,effect:-2.9052},{reference_site:"248",wildtype:"T",mutant:"S",Escape:.0208,epitope:1,times_seen:2.5,effect:-.4496},{reference_site:"249",wildtype:"H",mutant:"D",Escape:-.0012,epitope:1,times_seen:1.6667,effect:-.7911},{reference_site:"249",wildtype:"H",mutant:"E",Escape:-.0068,epitope:1,times_seen:1,effect:-.3669},{reference_site:"249",wildtype:"H",mutant:"N",Escape:-.0527,epitope:1,times_seen:8,effect:-.8099},{reference_site:"249",wildtype:"H",mutant:"P",Escape:-.0175,epitope:1,times_seen:3.5,effect:-1.7043},{reference_site:"249",wildtype:"H",mutant:"Q",Escape:-.016,epitope:1,times_seen:1.6667,effect:-.7016},{reference_site:"249",wildtype:"H",mutant:"T",Escape:-8e-4,epitope:1,times_seen:1,effect:-1.9699},{reference_site:"249",wildtype:"H",mutant:"Y",Escape:.0067,epitope:1,times_seen:1,effect:-1.7163},{reference_site:"250",wildtype:"G",mutant:"A",Escape:-.0473,epitope:1,times_seen:7.6667,effect:-.3329},{reference_site:"250",wildtype:"G",mutant:"D",Escape:-.0314,epitope:1,times_seen:3.6667,effect:-.7734},{reference_site:"250",wildtype:"G",mutant:"E",Escape:-.0116,epitope:1,times_seen:1,effect:-1.5363},{reference_site:"250",wildtype:"G",mutant:"P",Escape:.0129,epitope:1,times_seen:1,effect:-.0564},{reference_site:"250",wildtype:"G",mutant:"S",Escape:-.0413,epitope:1,times_seen:7.3333,effect:-.4421},{reference_site:"251",wildtype:"I",mutant:"F",Escape:-7e-4,epitope:1,times_seen:2,effect:-1.0817},{reference_site:"251",wildtype:"I",mutant:"T",Escape:.037,epitope:1,times_seen:2,effect:-2.4428},{reference_site:"252",wildtype:"K",mutant:"A",Escape:-.0135,epitope:1,times_seen:1,effect:.7624},{reference_site:"252",wildtype:"K",mutant:"D",Escape:-.0019,epitope:1,times_seen:1.6667,effect:-.8294},{reference_site:"252",wildtype:"K",mutant:"E",Escape:9e-4,epitope:1,times_seen:2.3333,effect:-.5618},{reference_site:"252",wildtype:"K",mutant:"F",Escape:.0286,epitope:1,times_seen:1.5,effect:.3337},{reference_site:"252",wildtype:"K",mutant:"H",Escape:.0139,epitope:1,times_seen:1,effect:.1549},{reference_site:"252",wildtype:"K",mutant:"I",Escape:-.0164,epitope:1,times_seen:1.3333,effect:-.7044},{reference_site:"252",wildtype:"K",mutant:"L",Escape:.1736,epitope:1,times_seen:2,effect:-.3849},{reference_site:"252",wildtype:"K",mutant:"M",Escape:.0716,epitope:1,times_seen:3.6667,effect:.1328},{reference_site:"252",wildtype:"K",mutant:"N",Escape:.0042,epitope:1,times_seen:9.3333,effect:.0452},{reference_site:"252",wildtype:"K",mutant:"Q",Escape:.0287,epitope:1,times_seen:3.5,effect:-.385},{reference_site:"252",wildtype:"K",mutant:"R",Escape:-.0146,epitope:1,times_seen:1,effect:-.5072},{reference_site:"252",wildtype:"K",mutant:"T",Escape:-.0301,epitope:1,times_seen:3,effect:-.565},{reference_site:"252",wildtype:"K",mutant:"V",Escape:-.0168,epitope:1,times_seen:1,effect:-1.0086},{reference_site:"252",wildtype:"K",mutant:"Y",Escape:-.0239,epitope:1,times_seen:2,effect:-.8305},{reference_site:"252",wildtype:"K",mutant:"*",Escape:.0042,epitope:1,times_seen:1,effect:-.0068},{reference_site:"253",wildtype:"P",mutant:"A",Escape:-.0227,epitope:1,times_seen:2.5,effect:-.4722},{reference_site:"253",wildtype:"P",mutant:"H",Escape:-.0046,epitope:1,times_seen:1,effect:-2.3029},{reference_site:"253",wildtype:"P",mutant:"L",Escape:.0388,epitope:1,times_seen:1,effect:-2.1343},{reference_site:"253",wildtype:"P",mutant:"S",Escape:-.0146,epitope:1,times_seen:2,effect:-1.1921},{reference_site:"254",wildtype:"V",mutant:"A",Escape:.0031,epitope:1,times_seen:2,effect:-.3866},{reference_site:"254",wildtype:"V",mutant:"C",Escape:-.022,epitope:1,times_seen:3,effect:-.3058},{reference_site:"254",wildtype:"V",mutant:"F",Escape:-.0083,epitope:1,times_seen:1,effect:-.717},{reference_site:"254",wildtype:"V",mutant:"G",Escape:.0306,epitope:1,times_seen:3,effect:-.1363},{reference_site:"254",wildtype:"V",mutant:"H",Escape:.0287,epitope:1,times_seen:1.5,effect:-.3869},{reference_site:"254",wildtype:"V",mutant:"I",Escape:.0175,epitope:1,times_seen:2,effect:-.2484},{reference_site:"254",wildtype:"V",mutant:"L",Escape:.0015,epitope:1,times_seen:5,effect:-.856},{reference_site:"254",wildtype:"V",mutant:"M",Escape:.0242,epitope:1,times_seen:5.6667,effect:-.5228},{reference_site:"254",wildtype:"V",mutant:"Q",Escape:-.0188,epitope:1,times_seen:2,effect:-.4626},{reference_site:"254",wildtype:"V",mutant:"T",Escape:.0243,epitope:1,times_seen:3,effect:-.6199},{reference_site:"254",wildtype:"V",mutant:"Y",Escape:-.042,epitope:1,times_seen:2,effect:.0409},{reference_site:"255",wildtype:"V",mutant:"I",Escape:-.0179,epitope:1,times_seen:2,effect:-.8591},{reference_site:"255",wildtype:"V",mutant:"M",Escape:.0079,epitope:1,times_seen:2,effect:-1.4841},{reference_site:"255",wildtype:"V",mutant:"S",Escape:.0329,epitope:1,times_seen:1,effect:-.6837},{reference_site:"256",wildtype:"S",mutant:"A",Escape:.0041,epitope:1,times_seen:1,effect:-.4261},{reference_site:"256",wildtype:"S",mutant:"C",Escape:.0089,epitope:1,times_seen:2,effect:-.5261},{reference_site:"256",wildtype:"S",mutant:"G",Escape:-.015,epitope:1,times_seen:2,effect:-1.1644},{reference_site:"256",wildtype:"S",mutant:"I",Escape:.0287,epitope:1,times_seen:1,effect:-1.1822},{reference_site:"256",wildtype:"S",mutant:"N",Escape:.03,epitope:1,times_seen:2,effect:-2.7135},{reference_site:"256",wildtype:"S",mutant:"R",Escape:.0022,epitope:1,times_seen:1,effect:-2.4385},{reference_site:"256",wildtype:"S",mutant:"T",Escape:-.0042,epitope:1,times_seen:1,effect:.0081},{reference_site:"257",wildtype:"T",mutant:"A",Escape:.0022,epitope:1,times_seen:1.6667,effect:-1.0414},{reference_site:"257",wildtype:"T",mutant:"N",Escape:.034,epitope:1,times_seen:1,effect:-3.0855},{reference_site:"257",wildtype:"T",mutant:"P",Escape:.0308,epitope:1,times_seen:1.5,effect:-2.9051},{reference_site:"257",wildtype:"T",mutant:"S",Escape:-.0145,epitope:1,times_seen:1,effect:-.5395},{reference_site:"258",wildtype:"Q",mutant:"H",Escape:-.0254,epitope:1,times_seen:3.3333,effect:-.3739},{reference_site:"258",wildtype:"Q",mutant:"K",Escape:.0183,epitope:1,times_seen:3,effect:-3.3939},{reference_site:"258",wildtype:"Q",mutant:"L",Escape:.03,epitope:1,times_seen:1,effect:-2.5232},{reference_site:"258",wildtype:"Q",mutant:"R",Escape:-.0013,epitope:1,times_seen:1.5,effect:-3.4788},{reference_site:"259",wildtype:"L",mutant:"F",Escape:-.0054,epitope:1,times_seen:2,effect:-.8513},{reference_site:"259",wildtype:"L",mutant:"I",Escape:-.016,epitope:1,times_seen:1.3333,effect:-.2255},{reference_site:"259",wildtype:"L",mutant:"M",Escape:-.0059,epitope:1,times_seen:8.6667,effect:-.1321},{reference_site:"259",wildtype:"L",mutant:"P",Escape:-1e-4,epitope:1,times_seen:1,effect:-1.0787},{reference_site:"259",wildtype:"L",mutant:"V",Escape:.0021,epitope:1,times_seen:1.3333,effect:-1.2671},{reference_site:"259",wildtype:"L",mutant:"-",Escape:.008,epitope:1,times_seen:1,effect:-2.289},{reference_site:"260",wildtype:"L",mutant:"F",Escape:.0132,epitope:1,times_seen:1.5,effect:-.3778},{reference_site:"260",wildtype:"L",mutant:"I",Escape:-.0097,epitope:1,times_seen:1,effect:-.9418},{reference_site:"260",wildtype:"L",mutant:"M",Escape:-.0314,epitope:1,times_seen:5,effect:-.9213},{reference_site:"260",wildtype:"L",mutant:"V",Escape:-.0198,epitope:1,times_seen:2.3333,effect:-.8349},{reference_site:"261",wildtype:"L",mutant:"M",Escape:.002,epitope:1,times_seen:3.6667,effect:-1.3749},{reference_site:"261",wildtype:"L",mutant:"P",Escape:-.0059,epitope:1,times_seen:1,effect:-2.1444},{reference_site:"261",wildtype:"L",mutant:"V",Escape:-.0076,epitope:1,times_seen:2.3333,effect:-.8213},{reference_site:"263",wildtype:"G",mutant:"A",Escape:.0185,epitope:1,times_seen:3,effect:-.7577},{reference_site:"263",wildtype:"G",mutant:"C",Escape:.0196,epitope:1,times_seen:1.3333,effect:-2.3976},{reference_site:"263",wildtype:"G",mutant:"D",Escape:.0181,epitope:1,times_seen:1.5,effect:-2.8273},{reference_site:"263",wildtype:"G",mutant:"L",Escape:.0237,epitope:1,times_seen:1,effect:-1.6156},{reference_site:"263",wildtype:"G",mutant:"N",Escape:.0123,epitope:1,times_seen:3,effect:-.6566},{reference_site:"263",wildtype:"G",mutant:"Q",Escape:.0041,epitope:1,times_seen:1,effect:-.2546},{reference_site:"263",wildtype:"G",mutant:"S",Escape:-.0247,epitope:1,times_seen:7,effect:-1.0097},{reference_site:"264",wildtype:"S",mutant:"C",Escape:-.0187,epitope:1,times_seen:1,effect:-2.0224},{reference_site:"264",wildtype:"S",mutant:"G",Escape:-.0154,epitope:1,times_seen:1,effect:-2.4472},{reference_site:"264",wildtype:"S",mutant:"I",Escape:.0063,epitope:1,times_seen:3.3333,effect:-2.0915},{reference_site:"264",wildtype:"S",mutant:"N",Escape:.0023,epitope:1,times_seen:1.3333,effect:-2.385},{reference_site:"264",wildtype:"S",mutant:"R",Escape:.0056,epitope:1,times_seen:1,effect:-2.5624},{reference_site:"264",wildtype:"S",mutant:"T",Escape:.0088,epitope:1,times_seen:1,effect:-.2664},{reference_site:"265",wildtype:"L",mutant:"A",Escape:8e-4,epitope:1,times_seen:1,effect:-.9399},{reference_site:"265",wildtype:"L",mutant:"C",Escape:.001,epitope:1,times_seen:1,effect:-1.0599},{reference_site:"265",wildtype:"L",mutant:"F",Escape:-.0071,epitope:1,times_seen:1,effect:-.3795},{reference_site:"265",wildtype:"L",mutant:"G",Escape:-.0147,epitope:1,times_seen:1,effect:-.7664},{reference_site:"265",wildtype:"L",mutant:"H",Escape:-.0249,epitope:1,times_seen:2.6667,effect:-.4144},{reference_site:"265",wildtype:"L",mutant:"K",Escape:.0272,epitope:1,times_seen:2.3333,effect:-.3734},{reference_site:"265",wildtype:"L",mutant:"M",Escape:-.0024,epitope:1,times_seen:10,effect:-.3674},{reference_site:"265",wildtype:"L",mutant:"N",Escape:-.012,epitope:1,times_seen:1,effect:-.7267},{reference_site:"265",wildtype:"L",mutant:"Q",Escape:-.0405,epitope:1,times_seen:5,effect:-.8311},{reference_site:"265",wildtype:"L",mutant:"R",Escape:-.0587,epitope:1,times_seen:9,effect:-.4187},{reference_site:"265",wildtype:"L",mutant:"S",Escape:-.0056,epitope:1,times_seen:1.3333,effect:-.4408},{reference_site:"265",wildtype:"L",mutant:"T",Escape:-.0066,epitope:1,times_seen:1,effect:-.3638},{reference_site:"265",wildtype:"L",mutant:"V",Escape:.0539,epitope:1,times_seen:10.3333,effect:.0188},{reference_site:"265",wildtype:"L",mutant:"W",Escape:2e-4,epitope:1,times_seen:2.3333,effect:.2788},{reference_site:"265",wildtype:"L",mutant:"Y",Escape:-.0151,epitope:1,times_seen:1,effect:-.567},{reference_site:"266",wildtype:"A",mutant:"C",Escape:-.0131,epitope:1,times_seen:2,effect:-.4545},{reference_site:"266",wildtype:"A",mutant:"D",Escape:-.0113,epitope:1,times_seen:18.6667,effect:-.4427},{reference_site:"266",wildtype:"A",mutant:"E",Escape:-.0133,epitope:1,times_seen:2.3333,effect:-.9791},{reference_site:"266",wildtype:"A",mutant:"G",Escape:-.0479,epitope:1,times_seen:6.3333,effect:-.0683},{reference_site:"266",wildtype:"A",mutant:"H",Escape:-.0127,epitope:1,times_seen:1.6667,effect:-.3983},{reference_site:"266",wildtype:"A",mutant:"I",Escape:-.0018,epitope:1,times_seen:2,effect:-.6019},{reference_site:"266",wildtype:"A",mutant:"N",Escape:.0155,epitope:1,times_seen:2.3333,effect:-.182},{reference_site:"266",wildtype:"A",mutant:"P",Escape:-.0056,epitope:1,times_seen:5.6667,effect:-.7961},{reference_site:"266",wildtype:"A",mutant:"S",Escape:.0178,epitope:1,times_seen:13.3333,effect:-.0332},{reference_site:"266",wildtype:"A",mutant:"T",Escape:.0627,epitope:1,times_seen:24.3333,effect:.0261},{reference_site:"266",wildtype:"A",mutant:"V",Escape:.0216,epitope:1,times_seen:3.6667,effect:-.3487},{reference_site:"267",wildtype:"E",mutant:"A",Escape:-3e-4,epitope:1,times_seen:1,effect:.2158},{reference_site:"267",wildtype:"E",mutant:"C",Escape:-.0099,epitope:1,times_seen:1,effect:-.1721},{reference_site:"267",wildtype:"E",mutant:"D",Escape:.0214,epitope:1,times_seen:23,effect:-.0197},{reference_site:"267",wildtype:"E",mutant:"G",Escape:.023,epitope:1,times_seen:4.6667,effect:.0226},{reference_site:"267",wildtype:"E",mutant:"I",Escape:-.0059,epitope:1,times_seen:2,effect:.0049},{reference_site:"267",wildtype:"E",mutant:"K",Escape:-.0425,epitope:1,times_seen:13.6667,effect:-.1493},{reference_site:"267",wildtype:"E",mutant:"L",Escape:.0153,epitope:1,times_seen:4.3333,effect:-.2253},{reference_site:"267",wildtype:"E",mutant:"N",Escape:-.0024,epitope:1,times_seen:1.3333,effect:-.5016},{reference_site:"267",wildtype:"E",mutant:"P",Escape:.0317,epitope:1,times_seen:3,effect:-.1145},{reference_site:"267",wildtype:"E",mutant:"Q",Escape:.0277,epitope:1,times_seen:3.6667,effect:-.0874},{reference_site:"267",wildtype:"E",mutant:"R",Escape:.0045,epitope:1,times_seen:2,effect:.0509},{reference_site:"267",wildtype:"E",mutant:"T",Escape:-.0096,epitope:1,times_seen:1,effect:-.136},{reference_site:"267",wildtype:"E",mutant:"V",Escape:-.006,epitope:1,times_seen:3.3333,effect:.2146},{reference_site:"267",wildtype:"E",mutant:"W",Escape:-.0148,epitope:1,times_seen:2.5,effect:-.3535},{reference_site:"267",wildtype:"E",mutant:"*",Escape:.0104,epitope:1,times_seen:1,effect:-2.8751},{reference_site:"268",wildtype:"G",mutant:"A",Escape:.008,epitope:1,times_seen:3,effect:-.4702},{reference_site:"268",wildtype:"G",mutant:"C",Escape:.0179,epitope:1,times_seen:13.3333,effect:-.2696},{reference_site:"268",wildtype:"G",mutant:"D",Escape:-.0731,epitope:1,times_seen:15.6667,effect:-.084},{reference_site:"268",wildtype:"G",mutant:"E",Escape:.0159,epitope:1,times_seen:1.5,effect:-.7092},{reference_site:"268",wildtype:"G",mutant:"F",Escape:.0065,epitope:1,times_seen:6,effect:-.0543},{reference_site:"268",wildtype:"G",mutant:"H",Escape:-.0068,epitope:1,times_seen:1.6667,effect:.1292},{reference_site:"268",wildtype:"G",mutant:"I",Escape:.0133,epitope:1,times_seen:4,effect:-.6733},{reference_site:"268",wildtype:"G",mutant:"K",Escape:-.0056,epitope:1,times_seen:2,effect:-.3378},{reference_site:"268",wildtype:"G",mutant:"L",Escape:-.0108,epitope:1,times_seen:1,effect:-.2419},{reference_site:"268",wildtype:"G",mutant:"N",Escape:.0446,epitope:1,times_seen:3.3333,effect:-.1448},{reference_site:"268",wildtype:"G",mutant:"P",Escape:-.0063,epitope:1,times_seen:1,effect:-.1011},{reference_site:"268",wildtype:"G",mutant:"Q",Escape:.0058,epitope:1,times_seen:1,effect:-.1795},{reference_site:"268",wildtype:"G",mutant:"R",Escape:-.0165,epitope:1,times_seen:1,effect:.1348},{reference_site:"268",wildtype:"G",mutant:"S",Escape:-.0248,epitope:1,times_seen:4,effect:-.2239},{reference_site:"268",wildtype:"G",mutant:"T",Escape:-.0135,epitope:1,times_seen:1.6667,effect:-.1308},{reference_site:"268",wildtype:"G",mutant:"V",Escape:-.0075,epitope:1,times_seen:2.6667,effect:-.3097},{reference_site:"268",wildtype:"G",mutant:"W",Escape:.0079,epitope:1,times_seen:1.6667,effect:.0078},{reference_site:"268",wildtype:"G",mutant:"Y",Escape:-.0022,epitope:1,times_seen:2.3333,effect:-.0886},{reference_site:"269",wildtype:"E",mutant:"A",Escape:-.0143,epitope:1,times_seen:2,effect:-.0518},{reference_site:"269",wildtype:"E",mutant:"C",Escape:-.0071,epitope:1,times_seen:2,effect:-.2748},{reference_site:"269",wildtype:"E",mutant:"D",Escape:-.0155,epitope:1,times_seen:12,effect:.0179},{reference_site:"269",wildtype:"E",mutant:"F",Escape:-.0206,epitope:1,times_seen:3,effect:-.6193},{reference_site:"269",wildtype:"E",mutant:"G",Escape:.0138,epitope:1,times_seen:3.3333,effect:-.4208},{reference_site:"269",wildtype:"E",mutant:"H",Escape:6e-4,epitope:1,times_seen:2.3333,effect:-.0623},{reference_site:"269",wildtype:"E",mutant:"I",Escape:.0063,epitope:1,times_seen:2.6667,effect:-.7387},{reference_site:"269",wildtype:"E",mutant:"K",Escape:-.0248,epitope:1,times_seen:12.3333,effect:-.2519},{reference_site:"269",wildtype:"E",mutant:"L",Escape:.0018,epitope:1,times_seen:1.5,effect:-.9156},{reference_site:"269",wildtype:"E",mutant:"M",Escape:.0193,epitope:1,times_seen:3.3333,effect:-.0051},{reference_site:"269",wildtype:"E",mutant:"N",Escape:-.0091,epitope:1,times_seen:1,effect:-.3252},{reference_site:"269",wildtype:"E",mutant:"P",Escape:.0043,epitope:1,times_seen:1,effect:1.9531},{reference_site:"269",wildtype:"E",mutant:"Q",Escape:.0127,epitope:1,times_seen:5,effect:.0175},{reference_site:"269",wildtype:"E",mutant:"R",Escape:.014,epitope:1,times_seen:1,effect:-.7271},{reference_site:"269",wildtype:"E",mutant:"T",Escape:-.0042,epitope:1,times_seen:1.3333,effect:-.5951},{reference_site:"269",wildtype:"E",mutant:"V",Escape:.0079,epitope:1,times_seen:4,effect:-.4785},{reference_site:"269",wildtype:"E",mutant:"W",Escape:.0442,epitope:1,times_seen:1,effect:-.4053},{reference_site:"269",wildtype:"E",mutant:"Y",Escape:-.0113,epitope:1,times_seen:4.6667,effect:-.5298},{reference_site:"269",wildtype:"E",mutant:"*",Escape:-.0099,epitope:1,times_seen:2.6667,effect:-2.754},{reference_site:"270",wildtype:"V",mutant:"A",Escape:-.0079,epitope:1,times_seen:1.6667,effect:-.0174},{reference_site:"270",wildtype:"V",mutant:"C",Escape:-.0115,epitope:1,times_seen:2.3333,effect:.1502},{reference_site:"270",wildtype:"V",mutant:"D",Escape:.0013,epitope:1,times_seen:2,effect:-.5134},{reference_site:"270",wildtype:"V",mutant:"E",Escape:.0109,epitope:1,times_seen:3.3333,effect:-.2414},{reference_site:"270",wildtype:"V",mutant:"H",Escape:.014,epitope:1,times_seen:1.5,effect:-.2396},{reference_site:"270",wildtype:"V",mutant:"I",Escape:-.0127,epitope:1,times_seen:5,effect:-.2706},{reference_site:"270",wildtype:"V",mutant:"L",Escape:-.0286,epitope:1,times_seen:7.3333,effect:-.3724},{reference_site:"270",wildtype:"V",mutant:"M",Escape:-.04,epitope:1,times_seen:10.3333,effect:-.1349},{reference_site:"270",wildtype:"V",mutant:"N",Escape:-.0175,epitope:1,times_seen:3,effect:-.4778},{reference_site:"270",wildtype:"V",mutant:"S",Escape:.001,epitope:1,times_seen:1.3333,effect:-1.0327},{reference_site:"270",wildtype:"V",mutant:"T",Escape:-.004,epitope:1,times_seen:2.5,effect:.0419},{reference_site:"271",wildtype:"R",mutant:"C",Escape:-.0454,epitope:1,times_seen:3,effect:-.5669},{reference_site:"271",wildtype:"R",mutant:"E",Escape:-.0116,epitope:1,times_seen:1.6667,effect:.1931},{reference_site:"271",wildtype:"R",mutant:"F",Escape:-.0309,epitope:1,times_seen:5.6667,effect:-.1598},{reference_site:"271",wildtype:"R",mutant:"G",Escape:.0124,epitope:1,times_seen:7,effect:-.1059},{reference_site:"271",wildtype:"R",mutant:"I",Escape:.0079,epitope:1,times_seen:10.6667,effect:.0141},{reference_site:"271",wildtype:"R",mutant:"K",Escape:-.0054,epitope:1,times_seen:13.3333,effect:.0428},{reference_site:"271",wildtype:"R",mutant:"L",Escape:-.011,epitope:1,times_seen:1.3333,effect:-.0738},{reference_site:"271",wildtype:"R",mutant:"M",Escape:-.0566,epitope:1,times_seen:11.6667,effect:.0869},{reference_site:"271",wildtype:"R",mutant:"N",Escape:.0838,epitope:1,times_seen:3.3333,effect:-.7003},{reference_site:"271",wildtype:"R",mutant:"Q",Escape:-.013,epitope:1,times_seen:3.3333,effect:-.056},{reference_site:"271",wildtype:"R",mutant:"S",Escape:-.0529,epitope:1,times_seen:7.3333,effect:-.5015},{reference_site:"271",wildtype:"R",mutant:"T",Escape:-.0029,epitope:1,times_seen:2.3333,effect:-.2622},{reference_site:"271",wildtype:"R",mutant:"V",Escape:-.0094,epitope:1,times_seen:1,effect:.3179},{reference_site:"271",wildtype:"R",mutant:"W",Escape:.009,epitope:1,times_seen:2,effect:-.9089},{reference_site:"271",wildtype:"R",mutant:"Y",Escape:-.0222,epitope:1,times_seen:1.5,effect:-.3112},{reference_site:"272",wildtype:"I",mutant:"A",Escape:-.0055,epitope:1,times_seen:3.3333,effect:-1.0111},{reference_site:"272",wildtype:"I",mutant:"C",Escape:-.0037,epitope:1,times_seen:1.6667,effect:-.2223},{reference_site:"272",wildtype:"I",mutant:"F",Escape:.005,epitope:1,times_seen:2.6667,effect:-1.2241},{reference_site:"272",wildtype:"I",mutant:"L",Escape:-.0164,epitope:1,times_seen:1.6667,effect:.1737},{reference_site:"272",wildtype:"I",mutant:"M",Escape:-.0163,epitope:1,times_seen:5.3333,effect:-.6486},{reference_site:"272",wildtype:"I",mutant:"T",Escape:-.0471,epitope:1,times_seen:9.3333,effect:-.6808},{reference_site:"272",wildtype:"I",mutant:"V",Escape:-.0011,epitope:1,times_seen:5.6667,effect:.0081},{reference_site:"273",wildtype:"R",mutant:"A",Escape:-.0077,epitope:1,times_seen:3,effect:-.1741},{reference_site:"273",wildtype:"R",mutant:"E",Escape:-.0108,epitope:1,times_seen:2,effect:-.766},{reference_site:"273",wildtype:"R",mutant:"F",Escape:-.0033,epitope:1,times_seen:5.6667,effect:-.3488},{reference_site:"273",wildtype:"R",mutant:"G",Escape:.0043,epitope:1,times_seen:1.6667,effect:-.6266},{reference_site:"273",wildtype:"R",mutant:"H",Escape:.0321,epitope:1,times_seen:3,effect:-.2644},{reference_site:"273",wildtype:"R",mutant:"I",Escape:.332,epitope:1,times_seen:5.6667,effect:-.2812},{reference_site:"273",wildtype:"R",mutant:"K",Escape:-.0175,epitope:1,times_seen:8.6667,effect:-.1977},{reference_site:"273",wildtype:"R",mutant:"L",Escape:.0124,epitope:1,times_seen:4.3333,effect:-.3205},{reference_site:"273",wildtype:"R",mutant:"M",Escape:.0961,epitope:1,times_seen:5.6667,effect:-.2727},{reference_site:"273",wildtype:"R",mutant:"N",Escape:.0094,epitope:1,times_seen:4.3333,effect:-.3197},{reference_site:"273",wildtype:"R",mutant:"Q",Escape:.0232,epitope:1,times_seen:3.3333,effect:-.3438},{reference_site:"273",wildtype:"R",mutant:"S",Escape:7e-4,epitope:1,times_seen:3.3333,effect:.3392},{reference_site:"273",wildtype:"R",mutant:"T",Escape:.0107,epitope:1,times_seen:1.5,effect:-1.1908},{reference_site:"273",wildtype:"R",mutant:"V",Escape:-.0169,epitope:1,times_seen:2.5,effect:-.232},{reference_site:"273",wildtype:"R",mutant:"W",Escape:.0204,epitope:1,times_seen:3,effect:-.3644},{reference_site:"273",wildtype:"R",mutant:"Y",Escape:-.0265,epitope:1,times_seen:3,effect:-.4976},{reference_site:"273",wildtype:"R",mutant:"*",Escape:.0193,epitope:1,times_seen:1,effect:-1.3531},{reference_site:"274",wildtype:"S",mutant:"A",Escape:.0898,epitope:1,times_seen:4.6667,effect:-.3947},{reference_site:"274",wildtype:"S",mutant:"C",Escape:.0013,epitope:1,times_seen:7.6667,effect:-.1904},{reference_site:"274",wildtype:"S",mutant:"F",Escape:.0332,epitope:1,times_seen:2.6667,effect:-.2457},{reference_site:"274",wildtype:"S",mutant:"G",Escape:-.032,epitope:1,times_seen:5,effect:-.3895},{reference_site:"274",wildtype:"S",mutant:"I",Escape:.0221,epitope:1,times_seen:9,effect:-.9509},{reference_site:"274",wildtype:"S",mutant:"L",Escape:-.0042,epitope:1,times_seen:1,effect:-2.2287},{reference_site:"274",wildtype:"S",mutant:"M",Escape:-.0011,epitope:1,times_seen:3,effect:-1.0922},{reference_site:"274",wildtype:"S",mutant:"P",Escape:.0355,epitope:1,times_seen:4,effect:.0296},{reference_site:"274",wildtype:"S",mutant:"T",Escape:-.0199,epitope:1,times_seen:7.3333,effect:-.0799},{reference_site:"274",wildtype:"S",mutant:"V",Escape:-.0122,epitope:1,times_seen:3,effect:-.4071},{reference_site:"274",wildtype:"S",mutant:"W",Escape:.0054,epitope:1,times_seen:2.3333,effect:-.9952},{reference_site:"274",wildtype:"S",mutant:"Y",Escape:.0206,epitope:1,times_seen:2.6667,effect:-1.4466},{reference_site:"275",wildtype:"E",mutant:"A",Escape:-.0225,epitope:1,times_seen:4.6667,effect:-.4182},{reference_site:"275",wildtype:"E",mutant:"D",Escape:-.0807,epitope:1,times_seen:6.3333,effect:-.4938},{reference_site:"275",wildtype:"E",mutant:"F",Escape:-.0171,epitope:1,times_seen:1,effect:-1.4168},{reference_site:"275",wildtype:"E",mutant:"G",Escape:-.0353,epitope:1,times_seen:3.5,effect:-.3071},{reference_site:"275",wildtype:"E",mutant:"H",Escape:-.0058,epitope:1,times_seen:5,effect:-.801},{reference_site:"275",wildtype:"E",mutant:"I",Escape:-.0616,epitope:1,times_seen:4.3333,effect:-.2741},{reference_site:"275",wildtype:"E",mutant:"K",Escape:-.0785,epitope:1,times_seen:12.3333,effect:-.1064},{reference_site:"275",wildtype:"E",mutant:"M",Escape:-.0785,epitope:1,times_seen:5.3333,effect:-.4655},{reference_site:"275",wildtype:"E",mutant:"N",Escape:-.0252,epitope:1,times_seen:3.3333,effect:-.38},{reference_site:"275",wildtype:"E",mutant:"P",Escape:.0253,epitope:1,times_seen:3.5,effect:.4326},{reference_site:"275",wildtype:"E",mutant:"Q",Escape:.0236,epitope:1,times_seen:4.3333,effect:.1597},{reference_site:"275",wildtype:"E",mutant:"R",Escape:-.0085,epitope:1,times_seen:3,effect:-.1836},{reference_site:"275",wildtype:"E",mutant:"S",Escape:.0051,epitope:1,times_seen:3.3333,effect:-.0899},{reference_site:"275",wildtype:"E",mutant:"T",Escape:.0161,epitope:1,times_seen:1,effect:-.7576},{reference_site:"275",wildtype:"E",mutant:"V",Escape:.0269,epitope:1,times_seen:1.6667,effect:-.1365},{reference_site:"275",wildtype:"E",mutant:"W",Escape:-.0507,epitope:1,times_seen:3.3333,effect:-.595},{reference_site:"275",wildtype:"E",mutant:"Y",Escape:-.0585,epitope:1,times_seen:6.6667,effect:-.0956},{reference_site:"275",wildtype:"E",mutant:"*",Escape:.046,epitope:1,times_seen:1,effect:-3.0795},{reference_site:"276",wildtype:"N",mutant:"A",Escape:-.0207,epitope:1,times_seen:1,effect:.5271},{reference_site:"276",wildtype:"N",mutant:"C",Escape:-.0318,epitope:1,times_seen:1.6667,effect:-.8697},{reference_site:"276",wildtype:"N",mutant:"D",Escape:-.156,epitope:1,times_seen:5.6667,effect:.0552},{reference_site:"276",wildtype:"N",mutant:"E",Escape:-.0457,epitope:1,times_seen:2,effect:-.2283},{reference_site:"276",wildtype:"N",mutant:"G",Escape:-.095,epitope:1,times_seen:3,effect:-.8426},{reference_site:"276",wildtype:"N",mutant:"H",Escape:-.168,epitope:1,times_seen:5,effect:-.284},{reference_site:"276",wildtype:"N",mutant:"I",Escape:-.1227,epitope:1,times_seen:5.6667,effect:-.4257},{reference_site:"276",wildtype:"N",mutant:"K",Escape:-.0647,epitope:1,times_seen:3.3333,effect:-.3928},{reference_site:"276",wildtype:"N",mutant:"L",Escape:-.035,epitope:1,times_seen:1,effect:-.9609},{reference_site:"276",wildtype:"N",mutant:"M",Escape:-.1867,epitope:1,times_seen:8.3333,effect:-.3109},{reference_site:"276",wildtype:"N",mutant:"Q",Escape:-.1725,epitope:1,times_seen:6.6667,effect:-.0728},{reference_site:"276",wildtype:"N",mutant:"R",Escape:-.0118,epitope:1,times_seen:1,effect:-.8958},{reference_site:"276",wildtype:"N",mutant:"S",Escape:-.1799,epitope:1,times_seen:6.3333,effect:.0144},{reference_site:"276",wildtype:"N",mutant:"T",Escape:-.0979,epitope:1,times_seen:6.3333,effect:-.1074},{reference_site:"276",wildtype:"N",mutant:"W",Escape:-.0235,epitope:1,times_seen:1,effect:-1.193},{reference_site:"276",wildtype:"N",mutant:"Y",Escape:-.0796,epitope:1,times_seen:3.6667,effect:-.7677},{reference_site:"277",wildtype:"I",mutant:"F",Escape:.0271,epitope:1,times_seen:13.3333,effect:-.2104},{reference_site:"277",wildtype:"I",mutant:"H",Escape:-.0109,epitope:1,times_seen:2.3333,effect:-1.1019},{reference_site:"277",wildtype:"I",mutant:"K",Escape:-.0248,epitope:1,times_seen:1,effect:-2.3724},{reference_site:"277",wildtype:"I",mutant:"L",Escape:.0758,epitope:1,times_seen:1,effect:-.2733},{reference_site:"277",wildtype:"I",mutant:"M",Escape:.0243,epitope:1,times_seen:4.6667,effect:.0785},{reference_site:"277",wildtype:"I",mutant:"N",Escape:-.0049,epitope:1,times_seen:1,effect:-2.6417},{reference_site:"277",wildtype:"I",mutant:"P",Escape:-.0277,epitope:1,times_seen:5.5,effect:-1.9502},{reference_site:"277",wildtype:"I",mutant:"Q",Escape:.0089,epitope:1,times_seen:1,effect:-1.8939},{reference_site:"277",wildtype:"I",mutant:"S",Escape:.0054,epitope:1,times_seen:1.6667,effect:-2.1387},{reference_site:"277",wildtype:"I",mutant:"T",Escape:-.0089,epitope:1,times_seen:2,effect:-1.6641},{reference_site:"277",wildtype:"I",mutant:"V",Escape:-.0267,epitope:1,times_seen:3,effect:-2.3652},{reference_site:"277",wildtype:"I",mutant:"W",Escape:.043,epitope:1,times_seen:2.3333,effect:-.5931},{reference_site:"277",wildtype:"I",mutant:"Y",Escape:-.0176,epitope:1,times_seen:9.3333,effect:-.5169},{reference_site:"278",wildtype:"T",mutant:"A",Escape:-.1232,epitope:1,times_seen:4,effect:.0618},{reference_site:"278",wildtype:"T",mutant:"C",Escape:-.0862,epitope:1,times_seen:4,effect:-.5349},{reference_site:"278",wildtype:"T",mutant:"D",Escape:-.1013,epitope:1,times_seen:5.3333,effect:.1451},{reference_site:"278",wildtype:"T",mutant:"E",Escape:-.1121,epitope:1,times_seen:3.6667,effect:-.0525},{reference_site:"278",wildtype:"T",mutant:"F",Escape:-.0776,epitope:1,times_seen:5.6667,effect:.2443},{reference_site:"278",wildtype:"T",mutant:"G",Escape:.0239,epitope:1,times_seen:3,effect:-.4231},{reference_site:"278",wildtype:"T",mutant:"H",Escape:-.101,epitope:1,times_seen:3.6667,effect:-.0958},{reference_site:"278",wildtype:"T",mutant:"I",Escape:-.2259,epitope:1,times_seen:8.3333,effect:-.0273},{reference_site:"278",wildtype:"T",mutant:"K",Escape:-.0968,epitope:1,times_seen:4.3333,effect:.2114},{reference_site:"278",wildtype:"T",mutant:"L",Escape:-.2395,epitope:1,times_seen:7.6667,effect:.0878},{reference_site:"278",wildtype:"T",mutant:"M",Escape:-.0275,epitope:1,times_seen:1,effect:-.1581},{reference_site:"278",wildtype:"T",mutant:"N",Escape:-.227,epitope:1,times_seen:9.6667,effect:.1014},{reference_site:"278",wildtype:"T",mutant:"Q",Escape:-.0642,epitope:1,times_seen:3,effect:.1081},{reference_site:"278",wildtype:"T",mutant:"R",Escape:-.0475,epitope:1,times_seen:3.3333,effect:-.0375},{reference_site:"278",wildtype:"T",mutant:"S",Escape:-3e-4,epitope:1,times_seen:1.6667,effect:-.4107},{reference_site:"278",wildtype:"T",mutant:"V",Escape:-.0282,epitope:1,times_seen:2,effect:-.4158},{reference_site:"278",wildtype:"T",mutant:"W",Escape:-.3381,epitope:1,times_seen:8,effect:-.0579},{reference_site:"278",wildtype:"T",mutant:"Y",Escape:-.2179,epitope:1,times_seen:8,effect:.1775},{reference_site:"279",wildtype:"N",mutant:"A",Escape:-.0061,epitope:1,times_seen:1,effect:-2.4726},{reference_site:"279",wildtype:"N",mutant:"C",Escape:.0174,epitope:1,times_seen:1,effect:-2.1497},{reference_site:"279",wildtype:"N",mutant:"D",Escape:-.011,epitope:1,times_seen:1.3333,effect:-.751},{reference_site:"279",wildtype:"N",mutant:"E",Escape:-.0263,epitope:1,times_seen:5,effect:-.9105},{reference_site:"279",wildtype:"N",mutant:"G",Escape:-.0016,epitope:1,times_seen:1,effect:-1.3403},{reference_site:"279",wildtype:"N",mutant:"H",Escape:.0027,epitope:1,times_seen:2.6667,effect:-1.6875},{reference_site:"279",wildtype:"N",mutant:"I",Escape:.0404,epitope:1,times_seen:1.5,effect:-3.1075},{reference_site:"279",wildtype:"N",mutant:"K",Escape:.17,epitope:1,times_seen:3.3333,effect:-1.5933},{reference_site:"279",wildtype:"N",mutant:"Q",Escape:-.0319,epitope:1,times_seen:5.6667,effect:-1.2869},{reference_site:"279",wildtype:"N",mutant:"R",Escape:-.0063,epitope:1,times_seen:1,effect:-2.9228},{reference_site:"279",wildtype:"N",mutant:"S",Escape:.0382,epitope:1,times_seen:5.3333,effect:-1.3297},{reference_site:"280",wildtype:"N",mutant:"D",Escape:-.0117,epitope:1,times_seen:2.5,effect:-2.2055},{reference_site:"280",wildtype:"N",mutant:"G",Escape:.0244,epitope:1,times_seen:1,effect:-2.6631},{reference_site:"280",wildtype:"N",mutant:"H",Escape:.0385,epitope:1,times_seen:1,effect:-3.1417},{reference_site:"280",wildtype:"N",mutant:"I",Escape:-.0121,epitope:1,times_seen:1,effect:-2.6174},{reference_site:"280",wildtype:"N",mutant:"K",Escape:9e-4,epitope:1,times_seen:1,effect:-1.9324},{reference_site:"280",wildtype:"N",mutant:"S",Escape:-.0136,epitope:1,times_seen:1,effect:-.8149},{reference_site:"280",wildtype:"N",mutant:"T",Escape:.0187,epitope:1,times_seen:1,effect:-2.0848},{reference_site:"281",wildtype:"A",mutant:"D",Escape:.0238,epitope:1,times_seen:2.3333,effect:-2.2364},{reference_site:"281",wildtype:"A",mutant:"E",Escape:.2387,epitope:1,times_seen:1,effect:-3.1135},{reference_site:"281",wildtype:"A",mutant:"F",Escape:-.1354,epitope:1,times_seen:5.3333,effect:-.6379},{reference_site:"281",wildtype:"A",mutant:"G",Escape:-.0259,epitope:1,times_seen:5.6667,effect:-.7419},{reference_site:"281",wildtype:"A",mutant:"H",Escape:-.0374,epitope:1,times_seen:2,effect:-2.1365},{reference_site:"281",wildtype:"A",mutant:"I",Escape:-.0589,epitope:1,times_seen:7,effect:.1854},{reference_site:"281",wildtype:"A",mutant:"L",Escape:-.037,epitope:1,times_seen:3,effect:-1.2483},{reference_site:"281",wildtype:"A",mutant:"M",Escape:.0057,epitope:1,times_seen:1.3333,effect:-.1453},{reference_site:"281",wildtype:"A",mutant:"N",Escape:.2031,epitope:1,times_seen:1,effect:-1.6039},{reference_site:"281",wildtype:"A",mutant:"R",Escape:-.0102,epitope:1,times_seen:1.3333,effect:-2.3646},{reference_site:"281",wildtype:"A",mutant:"S",Escape:.0181,epitope:1,times_seen:12.6667,effect:-.2359},{reference_site:"281",wildtype:"A",mutant:"T",Escape:.0488,epitope:1,times_seen:2,effect:-3.4243},{reference_site:"281",wildtype:"A",mutant:"V",Escape:-.0182,epitope:1,times_seen:6.6667,effect:.1083},{reference_site:"281",wildtype:"A",mutant:"W",Escape:-.0164,epitope:1,times_seen:3.6667,effect:-1.0808},{reference_site:"281",wildtype:"A",mutant:"Y",Escape:.0403,epitope:1,times_seen:1.6667,effect:-1.5325},{reference_site:"282",wildtype:"K",mutant:"A",Escape:.0417,epitope:1,times_seen:2,effect:-1.5987},{reference_site:"282",wildtype:"K",mutant:"D",Escape:.1484,epitope:1,times_seen:3,effect:-1.7534},{reference_site:"282",wildtype:"K",mutant:"E",Escape:.036,epitope:1,times_seen:3.6667,effect:-.8268},{reference_site:"282",wildtype:"K",mutant:"F",Escape:.1102,epitope:1,times_seen:4.3333,effect:-1.5947},{reference_site:"282",wildtype:"K",mutant:"G",Escape:-.0109,epitope:1,times_seen:3,effect:-1.6708},{reference_site:"282",wildtype:"K",mutant:"H",Escape:.0087,epitope:1,times_seen:2.3333,effect:-1.9057},{reference_site:"282",wildtype:"K",mutant:"I",Escape:.1913,epitope:1,times_seen:2,effect:-1.4336},{reference_site:"282",wildtype:"K",mutant:"L",Escape:.0249,epitope:1,times_seen:2.3333,effect:-1.6114},{reference_site:"282",wildtype:"K",mutant:"M",Escape:.0397,epitope:1,times_seen:2.6667,effect:-1.3895},{reference_site:"282",wildtype:"K",mutant:"N",Escape:-.0389,epitope:1,times_seen:7,effect:-.9698},{reference_site:"282",wildtype:"K",mutant:"Q",Escape:.0425,epitope:1,times_seen:2,effect:-1.2514},{reference_site:"282",wildtype:"K",mutant:"R",Escape:.0549,epitope:1,times_seen:3,effect:-.4511},{reference_site:"282",wildtype:"K",mutant:"T",Escape:.0063,epitope:1,times_seen:1,effect:-3.2186},{reference_site:"282",wildtype:"K",mutant:"W",Escape:.0037,epitope:1,times_seen:5,effect:-1.2639},{reference_site:"282",wildtype:"K",mutant:"Y",Escape:-.0196,epitope:1,times_seen:1.6667,effect:-1.6567},{reference_site:"283",wildtype:"N",mutant:"A",Escape:.0271,epitope:1,times_seen:1,effect:-1.8615},{reference_site:"283",wildtype:"N",mutant:"I",Escape:-.0063,epitope:1,times_seen:1,effect:-1.6146},{reference_site:"283",wildtype:"N",mutant:"M",Escape:-.0121,epitope:1,times_seen:1,effect:-2.3468},{reference_site:"283",wildtype:"N",mutant:"P",Escape:-.0149,epitope:1,times_seen:1,effect:-2.2801},{reference_site:"283",wildtype:"N",mutant:"S",Escape:-.0254,epitope:1,times_seen:5.3333,effect:-.9638},{reference_site:"283",wildtype:"N",mutant:"T",Escape:-.0234,epitope:1,times_seen:3,effect:-1.809},{reference_site:"283",wildtype:"N",mutant:"V",Escape:-.0108,epitope:1,times_seen:3,effect:-1.6842},{reference_site:"284",wildtype:"I",mutant:"F",Escape:.0115,epitope:1,times_seen:3.6667,effect:-1.0164},{reference_site:"284",wildtype:"I",mutant:"L",Escape:.0014,epitope:1,times_seen:1.6667,effect:-.2065},{reference_site:"284",wildtype:"I",mutant:"M",Escape:.0011,epitope:1,times_seen:1.3333,effect:-.8804},{reference_site:"284",wildtype:"I",mutant:"T",Escape:-8e-4,epitope:1,times_seen:1,effect:-1.5247},{reference_site:"284",wildtype:"I",mutant:"V",Escape:-.0062,epitope:1,times_seen:2,effect:-.6885},{reference_site:"284",wildtype:"I",mutant:"W",Escape:.0778,epitope:1,times_seen:2.3333,effect:.0855},{reference_site:"285",wildtype:"I",mutant:"F",Escape:-.0073,epitope:1,times_seen:9.6667,effect:-1.2035},{reference_site:"285",wildtype:"I",mutant:"H",Escape:-.0045,epitope:1,times_seen:2.3333,effect:-1.4625},{reference_site:"285",wildtype:"I",mutant:"L",Escape:.0043,epitope:1,times_seen:3.3333,effect:-.0873},{reference_site:"285",wildtype:"I",mutant:"M",Escape:-.0567,epitope:1,times_seen:5.6667,effect:-.5239},{reference_site:"285",wildtype:"I",mutant:"N",Escape:.0264,epitope:1,times_seen:1,effect:-3.2422},{reference_site:"285",wildtype:"I",mutant:"T",Escape:.0235,epitope:1,times_seen:1,effect:-3.284},{reference_site:"285",wildtype:"I",mutant:"V",Escape:-.0374,epitope:1,times_seen:6,effect:-.2132},{reference_site:"285",wildtype:"I",mutant:"W",Escape:-.0106,epitope:1,times_seen:1.6667,effect:-.3366},{reference_site:"285",wildtype:"I",mutant:"Y",Escape:.0019,epitope:1,times_seen:1,effect:-1.3899},{reference_site:"286",wildtype:"V",mutant:"A",Escape:-.009,epitope:1,times_seen:4,effect:-.7017},{reference_site:"286",wildtype:"V",mutant:"I",Escape:-3e-4,epitope:1,times_seen:5.3333,effect:-.0432},{reference_site:"286",wildtype:"V",mutant:"L",Escape:-.0167,epitope:1,times_seen:2.6667,effect:-.7937},{reference_site:"286",wildtype:"V",mutant:"M",Escape:.0609,epitope:1,times_seen:2,effect:-1.5932},{reference_site:"287",wildtype:"Q",mutant:"A",Escape:.0053,epitope:1,times_seen:1,effect:-.1489},{reference_site:"287",wildtype:"Q",mutant:"C",Escape:.0333,epitope:1,times_seen:1,effect:-1.7467},{reference_site:"287",wildtype:"Q",mutant:"D",Escape:-.0078,epitope:1,times_seen:1,effect:-1.0112},{reference_site:"287",wildtype:"Q",mutant:"F",Escape:-.0052,epitope:1,times_seen:3.3333,effect:-.6879},{reference_site:"287",wildtype:"Q",mutant:"H",Escape:-.0355,epitope:1,times_seen:8.3333,effect:-.0485},{reference_site:"287",wildtype:"Q",mutant:"I",Escape:-.0213,epitope:1,times_seen:5.3333,effect:-.8262},{reference_site:"287",wildtype:"Q",mutant:"K",Escape:-.0567,epitope:1,times_seen:8.6667,effect:-.4856},{reference_site:"287",wildtype:"Q",mutant:"L",Escape:-.0503,epitope:1,times_seen:8.3333,effect:-.7604},{reference_site:"287",wildtype:"Q",mutant:"M",Escape:-.0277,epitope:1,times_seen:6,effect:-.2619},{reference_site:"287",wildtype:"Q",mutant:"N",Escape:-.0318,epitope:1,times_seen:11,effect:-.1658},{reference_site:"287",wildtype:"Q",mutant:"R",Escape:.0213,epitope:1,times_seen:9.6667,effect:-1.137},{reference_site:"287",wildtype:"Q",mutant:"S",Escape:-.0488,epitope:1,times_seen:5.6667,effect:-.4008},{reference_site:"287",wildtype:"Q",mutant:"T",Escape:-.0313,epitope:1,times_seen:3,effect:-.5806},{reference_site:"287",wildtype:"Q",mutant:"W",Escape:-.0275,epitope:1,times_seen:4,effect:-.1477},{reference_site:"287",wildtype:"Q",mutant:"*",Escape:.0483,epitope:1,times_seen:1.6667,effect:-3.0955},{reference_site:"288",wildtype:"L",mutant:"F",Escape:.0054,epitope:1,times_seen:1.3333,effect:-.5134},{reference_site:"288",wildtype:"L",mutant:"M",Escape:.0088,epitope:1,times_seen:11,effect:-.4899},{reference_site:"288",wildtype:"L",mutant:"P",Escape:-.0051,epitope:1,times_seen:1,effect:-1.8443},{reference_site:"289",wildtype:"A",mutant:"C",Escape:-.0256,epitope:1,times_seen:3,effect:-.4046},{reference_site:"289",wildtype:"A",mutant:"D",Escape:.0423,epitope:1,times_seen:28.6667,effect:.0343},{reference_site:"289",wildtype:"A",mutant:"E",Escape:-.0093,epitope:1,times_seen:5,effect:.0863},{reference_site:"289",wildtype:"A",mutant:"F",Escape:-.0252,epitope:1,times_seen:3,effect:-.1326},{reference_site:"289",wildtype:"A",mutant:"G",Escape:-.0094,epitope:1,times_seen:6.3333,effect:-.2408},{reference_site:"289",wildtype:"A",mutant:"H",Escape:-.0223,epitope:1,times_seen:4,effect:-.0692},{reference_site:"289",wildtype:"A",mutant:"I",Escape:-6e-4,epitope:1,times_seen:4,effect:-.5714},{reference_site:"289",wildtype:"A",mutant:"K",Escape:.0171,epitope:1,times_seen:1.5,effect:-.6092},{reference_site:"289",wildtype:"A",mutant:"L",Escape:.0056,epitope:1,times_seen:1,effect:-.4793},{reference_site:"289",wildtype:"A",mutant:"M",Escape:.0013,epitope:1,times_seen:1,effect:-.3071},{reference_site:"289",wildtype:"A",mutant:"N",Escape:.0321,epitope:1,times_seen:3.6667,effect:.0858},{reference_site:"289",wildtype:"A",mutant:"P",Escape:-.0145,epitope:1,times_seen:12.6667,effect:-.0645},{reference_site:"289",wildtype:"A",mutant:"Q",Escape:-5e-4,epitope:1,times_seen:1.5,effect:-.8153},{reference_site:"289",wildtype:"A",mutant:"S",Escape:-.0093,epitope:1,times_seen:22,effect:.0017},{reference_site:"289",wildtype:"A",mutant:"T",Escape:.0321,epitope:1,times_seen:23.3333,effect:.0428},{reference_site:"289",wildtype:"A",mutant:"V",Escape:-.0018,epitope:1,times_seen:8.6667,effect:-.0642},{reference_site:"289",wildtype:"A",mutant:"W",Escape:-.0148,epitope:1,times_seen:1,effect:-.9224},{reference_site:"289",wildtype:"A",mutant:"Y",Escape:-.0183,epitope:1,times_seen:9.6667,effect:-.2822},{reference_site:"290",wildtype:"S",mutant:"A",Escape:-.0036,epitope:1,times_seen:4.6667,effect:-.0273},{reference_site:"290",wildtype:"S",mutant:"D",Escape:.0277,epitope:1,times_seen:8.3333,effect:.081},{reference_site:"290",wildtype:"S",mutant:"E",Escape:-.0082,epitope:1,times_seen:1,effect:-.179},{reference_site:"290",wildtype:"S",mutant:"F",Escape:.0251,epitope:1,times_seen:9.3333,effect:-.1355},{reference_site:"290",wildtype:"S",mutant:"G",Escape:-.0418,epitope:1,times_seen:14,effect:-.2793},{reference_site:"290",wildtype:"S",mutant:"H",Escape:.0668,epitope:1,times_seen:10,effect:-.0229},{reference_site:"290",wildtype:"S",mutant:"I",Escape:-.0266,epitope:1,times_seen:14.6667,effect:-.1863},{reference_site:"290",wildtype:"S",mutant:"K",Escape:-.0058,epitope:1,times_seen:5,effect:-.0061},{reference_site:"290",wildtype:"S",mutant:"L",Escape:.0052,epitope:1,times_seen:1,effect:-.5202},{reference_site:"290",wildtype:"S",mutant:"M",Escape:-.0137,epitope:1,times_seen:4,effect:-.5224},{reference_site:"290",wildtype:"S",mutant:"N",Escape:.0068,epitope:1,times_seen:14.3333,effect:-.0055},{reference_site:"290",wildtype:"S",mutant:"Q",Escape:-.0178,epitope:1,times_seen:4.6667,effect:.2134},{reference_site:"290",wildtype:"S",mutant:"R",Escape:.0277,epitope:1,times_seen:3,effect:-.0917},{reference_site:"290",wildtype:"S",mutant:"T",Escape:.0074,epitope:1,times_seen:9.6667,effect:-.144},{reference_site:"290",wildtype:"S",mutant:"V",Escape:-.0094,epitope:1,times_seen:1.6667,effect:-.0694},{reference_site:"290",wildtype:"S",mutant:"W",Escape:-.0075,epitope:1,times_seen:2.6667,effect:-.4606},{reference_site:"290",wildtype:"S",mutant:"Y",Escape:-.0289,epitope:1,times_seen:4.3333,effect:-.0505},{reference_site:"291",wildtype:"P",mutant:"C",Escape:.006,epitope:1,times_seen:1,effect:-.468},{reference_site:"291",wildtype:"P",mutant:"F",Escape:-.0033,epitope:1,times_seen:2,effect:-.4768},{reference_site:"291",wildtype:"P",mutant:"G",Escape:-.0082,epitope:1,times_seen:1,effect:-.2131},{reference_site:"291",wildtype:"P",mutant:"H",Escape:.004,epitope:1,times_seen:13.6667,effect:-.1532},{reference_site:"291",wildtype:"P",mutant:"I",Escape:-.003,epitope:1,times_seen:2.6667,effect:-.7069},{reference_site:"291",wildtype:"P",mutant:"L",Escape:.0197,epitope:1,times_seen:1,effect:-1.147},{reference_site:"291",wildtype:"P",mutant:"R",Escape:-.0119,epitope:1,times_seen:1,effect:-.9704},{reference_site:"291",wildtype:"P",mutant:"S",Escape:.006,epitope:1,times_seen:1,effect:-.143},{reference_site:"291",wildtype:"P",mutant:"T",Escape:-.0303,epitope:1,times_seen:7,effect:-.2779},{reference_site:"291",wildtype:"P",mutant:"V",Escape:-.0088,epitope:1,times_seen:1.5,effect:-.824},{reference_site:"292",wildtype:"V",mutant:"A",Escape:-.0035,epitope:1,times_seen:2.6667,effect:-.903},{reference_site:"292",wildtype:"V",mutant:"E",Escape:.0065,epitope:1,times_seen:2,effect:-2.2851},{reference_site:"292",wildtype:"V",mutant:"I",Escape:.02,epitope:1,times_seen:5,effect:-.27},{reference_site:"292",wildtype:"V",mutant:"L",Escape:-.003,epitope:1,times_seen:2,effect:-.8737},{reference_site:"292",wildtype:"V",mutant:"M",Escape:2e-4,epitope:1,times_seen:1,effect:-1.1639},{reference_site:"292",wildtype:"V",mutant:"T",Escape:-.0012,epitope:1,times_seen:1,effect:-1.5022},{reference_site:"293",wildtype:"T",mutant:"A",Escape:.0212,epitope:1,times_seen:9.3333,effect:.1133},{reference_site:"293",wildtype:"T",mutant:"D",Escape:-.0266,epitope:1,times_seen:5.3333,effect:-.1863},{reference_site:"293",wildtype:"T",mutant:"E",Escape:.027,epitope:1,times_seen:6,effect:.0759},{reference_site:"293",wildtype:"T",mutant:"F",Escape:-.0256,epitope:1,times_seen:3.6667,effect:-.1576},{reference_site:"293",wildtype:"T",mutant:"G",Escape:.0028,epitope:1,times_seen:1.6667,effect:-.1472},{reference_site:"293",wildtype:"T",mutant:"H",Escape:-.0253,epitope:1,times_seen:6.3333,effect:-.1621},{reference_site:"293",wildtype:"T",mutant:"I",Escape:-.0105,epitope:1,times_seen:9.3333,effect:.021},{reference_site:"293",wildtype:"T",mutant:"K",Escape:-.0108,epitope:1,times_seen:6,effect:-.2655},{reference_site:"293",wildtype:"T",mutant:"L",Escape:-.0041,epitope:1,times_seen:3,effect:.1187},{reference_site:"293",wildtype:"T",mutant:"M",Escape:-.0149,epitope:1,times_seen:5,effect:-.2916},{reference_site:"293",wildtype:"T",mutant:"N",Escape:-.0269,epitope:1,times_seen:9,effect:-.1846},{reference_site:"293",wildtype:"T",mutant:"P",Escape:.0251,epitope:1,times_seen:8.3333,effect:-.1845},{reference_site:"293",wildtype:"T",mutant:"Q",Escape:-.014,epitope:1,times_seen:2,effect:.1954},{reference_site:"293",wildtype:"T",mutant:"R",Escape:-.0105,epitope:1,times_seen:1.3333,effect:-.3574},{reference_site:"293",wildtype:"T",mutant:"S",Escape:.0277,epitope:1,times_seen:8.3333,effect:-.0817},{reference_site:"293",wildtype:"T",mutant:"V",Escape:-.0133,epitope:1,times_seen:6,effect:.0992},{reference_site:"293",wildtype:"T",mutant:"W",Escape:.0241,epitope:1,times_seen:2,effect:.1517},{reference_site:"293",wildtype:"T",mutant:"Y",Escape:-.0735,epitope:1,times_seen:7.3333,effect:-.0114},{reference_site:"294",wildtype:"I",mutant:"L",Escape:-.0082,epitope:1,times_seen:1.6667,effect:-.0828},{reference_site:"294",wildtype:"I",mutant:"M",Escape:-.0392,epitope:1,times_seen:9.6667,effect:-.3527},{reference_site:"294",wildtype:"I",mutant:"T",Escape:-.0175,epitope:1,times_seen:2,effect:-1.1294},{reference_site:"294",wildtype:"I",mutant:"V",Escape:-.0018,epitope:1,times_seen:4.6667,effect:-.4586},{reference_site:"295",wildtype:"N",mutant:"A",Escape:.014,epitope:1,times_seen:2,effect:-.2346},{reference_site:"295",wildtype:"N",mutant:"C",Escape:-.0202,epitope:1,times_seen:1.5,effect:-1.4182},{reference_site:"295",wildtype:"N",mutant:"D",Escape:-.0166,epitope:1,times_seen:6,effect:.14},{reference_site:"295",wildtype:"N",mutant:"E",Escape:.0171,epitope:1,times_seen:3,effect:.0863},{reference_site:"295",wildtype:"N",mutant:"F",Escape:.0011,epitope:1,times_seen:3,effect:-.1445},{reference_site:"295",wildtype:"N",mutant:"G",Escape:-.0186,epitope:1,times_seen:1,effect:-.5301},{reference_site:"295",wildtype:"N",mutant:"H",Escape:.0267,epitope:1,times_seen:1.6667,effect:-.2304},{reference_site:"295",wildtype:"N",mutant:"I",Escape:.0041,epitope:1,times_seen:5,effect:-.1515},{reference_site:"295",wildtype:"N",mutant:"K",Escape:-.0256,epitope:1,times_seen:3.6667,effect:-.4365},{reference_site:"295",wildtype:"N",mutant:"L",Escape:-.0248,epitope:1,times_seen:1.5,effect:-.8086},{reference_site:"295",wildtype:"N",mutant:"M",Escape:-.0196,epitope:1,times_seen:4.3333,effect:.1601},{reference_site:"295",wildtype:"N",mutant:"Q",Escape:.0052,epitope:1,times_seen:5,effect:-.3972},{reference_site:"295",wildtype:"N",mutant:"R",Escape:-.0085,epitope:1,times_seen:1,effect:-.9741},{reference_site:"295",wildtype:"N",mutant:"S",Escape:.0425,epitope:1,times_seen:5,effect:-.1976},{reference_site:"295",wildtype:"N",mutant:"T",Escape:-.0322,epitope:1,times_seen:4,effect:-.0465},{reference_site:"295",wildtype:"N",mutant:"V",Escape:.0223,epitope:1,times_seen:5,effect:-.0527},{reference_site:"295",wildtype:"N",mutant:"W",Escape:-.0175,epitope:1,times_seen:1.6667,effect:-.1232},{reference_site:"295",wildtype:"N",mutant:"Y",Escape:.024,epitope:1,times_seen:5.3333,effect:.116},{reference_site:"295",wildtype:"N",mutant:"-",Escape:.0105,epitope:1,times_seen:1,effect:-1.5361},{reference_site:"296",wildtype:"C",mutant:"N",Escape:.0072,epitope:1,times_seen:1,effect:.8881},{reference_site:"296",wildtype:"C",mutant:"Y",Escape:.0112,epitope:1,times_seen:1,effect:-2.8984},{reference_site:"296",wildtype:"C",mutant:"*",Escape:-.0045,epitope:1,times_seen:1,effect:-2.5242},{reference_site:"296",wildtype:"C",mutant:"-",Escape:.0051,epitope:1,times_seen:1,effect:-1.5361},{reference_site:"297",wildtype:"I",mutant:"A",Escape:.0039,epitope:1,times_seen:2,effect:-1.067},{reference_site:"297",wildtype:"I",mutant:"C",Escape:-.022,epitope:1,times_seen:3,effect:-.2395},{reference_site:"297",wildtype:"I",mutant:"D",Escape:.0036,epitope:1,times_seen:5.5,effect:-.5124},{reference_site:"297",wildtype:"I",mutant:"E",Escape:.0138,epitope:1,times_seen:2.3333,effect:.0436},{reference_site:"297",wildtype:"I",mutant:"F",Escape:.0372,epitope:1,times_seen:5.3333,effect:-.1455},{reference_site:"297",wildtype:"I",mutant:"G",Escape:-.0193,epitope:1,times_seen:2.6667,effect:-1.1883},{reference_site:"297",wildtype:"I",mutant:"H",Escape:-.02,epitope:1,times_seen:1,effect:-.8504},{reference_site:"297",wildtype:"I",mutant:"K",Escape:.003,epitope:1,times_seen:6.6667,effect:-.4899},{reference_site:"297",wildtype:"I",mutant:"L",Escape:.0124,epitope:1,times_seen:4,effect:-.0452},{reference_site:"297",wildtype:"I",mutant:"M",Escape:-.0208,epitope:1,times_seen:5,effect:-.1874},{reference_site:"297",wildtype:"I",mutant:"N",Escape:-.0034,epitope:1,times_seen:1.6667,effect:-.1522},{reference_site:"297",wildtype:"I",mutant:"Q",Escape:-5e-4,epitope:1,times_seen:2.6667,effect:-.0957},{reference_site:"297",wildtype:"I",mutant:"R",Escape:-.0019,epitope:1,times_seen:2,effect:-.7227},{reference_site:"297",wildtype:"I",mutant:"S",Escape:.0145,epitope:1,times_seen:2.6667,effect:-.8271},{reference_site:"297",wildtype:"I",mutant:"V",Escape:.0014,epitope:1,times_seen:6.3333,effect:-.209},{reference_site:"297",wildtype:"I",mutant:"W",Escape:-.0382,epitope:1,times_seen:1.3333,effect:-.5852},{reference_site:"297",wildtype:"I",mutant:"Y",Escape:.0227,epitope:1,times_seen:2.6667,effect:-.3654},{reference_site:"297",wildtype:"I",mutant:"-",Escape:.0039,epitope:1,times_seen:1,effect:.1047},{reference_site:"298",wildtype:"R",mutant:"K",Escape:.0068,epitope:1,times_seen:1,effect:-3.153},{reference_site:"298",wildtype:"R",mutant:"-",Escape:.001,epitope:1,times_seen:1,effect:.1047},{reference_site:"299",wildtype:"P",mutant:"A",Escape:-.0081,epitope:1,times_seen:3.3333,effect:-.3},{reference_site:"299",wildtype:"P",mutant:"F",Escape:.0357,epitope:1,times_seen:5.3333,effect:-.9459},{reference_site:"299",wildtype:"P",mutant:"H",Escape:-.018,epitope:1,times_seen:2.3333,effect:-1.7367},{reference_site:"299",wildtype:"P",mutant:"L",Escape:.0012,epitope:1,times_seen:2,effect:-2.0279},{reference_site:"299",wildtype:"P",mutant:"N",Escape:.0184,epitope:1,times_seen:1.6667,effect:-1.8589},{reference_site:"299",wildtype:"P",mutant:"T",Escape:-.0079,epitope:1,times_seen:2.6667,effect:-.9376},{reference_site:"299",wildtype:"P",mutant:"Y",Escape:.0171,epitope:1,times_seen:3.3333,effect:-1.2821},{reference_site:"299",wildtype:"P",mutant:"-",Escape:.0028,epitope:1,times_seen:1,effect:.1047},{reference_site:"300",wildtype:"N",mutant:"A",Escape:.0082,epitope:1,times_seen:1,effect:-.7136},{reference_site:"300",wildtype:"N",mutant:"C",Escape:.0272,epitope:1,times_seen:1,effect:-1.5758},{reference_site:"300",wildtype:"N",mutant:"D",Escape:.0021,epitope:1,times_seen:1,effect:-2.2448},{reference_site:"300",wildtype:"N",mutant:"F",Escape:.0036,epitope:1,times_seen:1.6667,effect:-2.1807},{reference_site:"300",wildtype:"N",mutant:"G",Escape:.0968,epitope:1,times_seen:2.3333,effect:-.1357},{reference_site:"300",wildtype:"N",mutant:"H",Escape:-.0126,epitope:1,times_seen:3,effect:-1.1856},{reference_site:"300",wildtype:"N",mutant:"K",Escape:-.0088,epitope:1,times_seen:1.3333,effect:-2.0189},{reference_site:"300",wildtype:"N",mutant:"M",Escape:-.0226,epitope:1,times_seen:4,effect:-.205},{reference_site:"300",wildtype:"N",mutant:"Q",Escape:.0212,epitope:1,times_seen:2,effect:-.5856},{reference_site:"300",wildtype:"N",mutant:"R",Escape:-.031,epitope:1,times_seen:2,effect:-.4587},{reference_site:"300",wildtype:"N",mutant:"S",Escape:.2397,epitope:1,times_seen:4.6667,effect:-.1962},{reference_site:"300",wildtype:"N",mutant:"T",Escape:-.0258,epitope:1,times_seen:6.3333,effect:-1.2593},{reference_site:"300",wildtype:"N",mutant:"W",Escape:.0084,epitope:1,times_seen:2,effect:-3.3737},{reference_site:"300",wildtype:"N",mutant:"-",Escape:.0043,epitope:1,times_seen:1.3333,effect:-2.9128},{reference_site:"301",wildtype:"N",mutant:"E",Escape:-.0072,epitope:1,times_seen:1,effect:-1.7183},{reference_site:"301",wildtype:"N",mutant:"H",Escape:-.0017,epitope:1,times_seen:1,effect:-1.9521},{reference_site:"301",wildtype:"N",mutant:"I",Escape:.0217,epitope:1,times_seen:2,effect:-2.8695},{reference_site:"301",wildtype:"N",mutant:"K",Escape:.0101,epitope:1,times_seen:1,effect:-3.2361},{reference_site:"301",wildtype:"N",mutant:"Q",Escape:.0018,epitope:1,times_seen:1,effect:-2.6091},{reference_site:"301",wildtype:"N",mutant:"S",Escape:.0446,epitope:1,times_seen:1,effect:-3.1262},{reference_site:"301",wildtype:"N",mutant:"T",Escape:.0249,epitope:1,times_seen:1,effect:-2.7284},{reference_site:"301",wildtype:"N",mutant:"-",Escape:.0023,epitope:1,times_seen:1,effect:1.1328},{reference_site:"302",wildtype:"N",mutant:"A",Escape:.0159,epitope:1,times_seen:4,effect:-1.7259},{reference_site:"302",wildtype:"N",mutant:"C",Escape:.0692,epitope:1,times_seen:2,effect:-2.3131},{reference_site:"302",wildtype:"N",mutant:"D",Escape:.0178,epitope:1,times_seen:1.3333,effect:-2.3508},{reference_site:"302",wildtype:"N",mutant:"F",Escape:.0191,epitope:1,times_seen:2,effect:-2.1884},{reference_site:"302",wildtype:"N",mutant:"G",Escape:.0356,epitope:1,times_seen:1,effect:-2.8955},{reference_site:"302",wildtype:"N",mutant:"H",Escape:.0555,epitope:1,times_seen:3,effect:-1.48},{reference_site:"302",wildtype:"N",mutant:"I",Escape:.0032,epitope:1,times_seen:2,effect:-2.7074},{reference_site:"302",wildtype:"N",mutant:"K",Escape:.1586,epitope:1,times_seen:3.5,effect:-2.824},{reference_site:"302",wildtype:"N",mutant:"M",Escape:.0022,epitope:1,times_seen:1,effect:-3.3076},{reference_site:"302",wildtype:"N",mutant:"Q",Escape:-.0127,epitope:1,times_seen:1,effect:-1.6079},{reference_site:"302",wildtype:"N",mutant:"R",Escape:.0063,epitope:1,times_seen:1,effect:-3.0431},{reference_site:"302",wildtype:"N",mutant:"S",Escape:-.0184,epitope:1,times_seen:2.6667,effect:-1.1595},{reference_site:"302",wildtype:"N",mutant:"T",Escape:.0168,epitope:1,times_seen:2,effect:-3.0293},{reference_site:"302",wildtype:"N",mutant:"V",Escape:.0386,epitope:1,times_seen:1,effect:-3.3058},{reference_site:"302",wildtype:"N",mutant:"Y",Escape:-.0125,epitope:1,times_seen:1,effect:-2.7964},{reference_site:"302",wildtype:"N",mutant:"-",Escape:.0032,epitope:1,times_seen:1,effect:1.1328},{reference_site:"303",wildtype:"T",mutant:"A",Escape:.0211,epitope:1,times_seen:3.5,effect:-2.7229},{reference_site:"303",wildtype:"T",mutant:"E",Escape:.0169,epitope:1,times_seen:1,effect:-2.0677},{reference_site:"303",wildtype:"T",mutant:"I",Escape:.0041,epitope:1,times_seen:1,effect:-2.5913},{reference_site:"303",wildtype:"T",mutant:"Q",Escape:-.0075,epitope:1,times_seen:1,effect:-2.8985},{reference_site:"303",wildtype:"T",mutant:"R",Escape:.0109,epitope:1,times_seen:2,effect:-2.4415},{reference_site:"303",wildtype:"T",mutant:"S",Escape:-.0039,epitope:1,times_seen:6,effect:-.1385},{reference_site:"303",wildtype:"T",mutant:"V",Escape:.0052,epitope:1,times_seen:1,effect:-2.6853},{reference_site:"303",wildtype:"T",mutant:"-",Escape:.0066,epitope:1,times_seen:1,effect:.159},{reference_site:"304",wildtype:"R",mutant:"A",Escape:.0794,epitope:1,times_seen:2,effect:-.2929},{reference_site:"304",wildtype:"R",mutant:"C",Escape:.2738,epitope:1,times_seen:2,effect:-1.9528},{reference_site:"304",wildtype:"R",mutant:"D",Escape:-.0021,epitope:1,times_seen:1,effect:-1.551},{reference_site:"304",wildtype:"R",mutant:"F",Escape:.1524,epitope:1,times_seen:1.6667,effect:-1.4305},{reference_site:"304",wildtype:"R",mutant:"H",Escape:.1271,epitope:1,times_seen:2,effect:-2.4239},{reference_site:"304",wildtype:"R",mutant:"I",Escape:.0885,epitope:1,times_seen:4.6667,effect:-2.1259},{reference_site:"304",wildtype:"R",mutant:"K",Escape:.0193,epitope:1,times_seen:3,effect:-.3659},{reference_site:"304",wildtype:"R",mutant:"L",Escape:.239,epitope:1,times_seen:3,effect:-.9007},{reference_site:"304",wildtype:"R",mutant:"M",Escape:.203,epitope:1,times_seen:2.3333,effect:-.917},{reference_site:"304",wildtype:"R",mutant:"Q",Escape:.0224,epitope:1,times_seen:1.3333,effect:-.9511},{reference_site:"304",wildtype:"R",mutant:"S",Escape:.0572,epitope:1,times_seen:2,effect:-1.5186},{reference_site:"304",wildtype:"R",mutant:"V",Escape:-.0117,epitope:1,times_seen:1,effect:-2.2955},{reference_site:"304",wildtype:"R",mutant:"W",Escape:.0158,epitope:1,times_seen:1,effect:-2.5378},{reference_site:"304",wildtype:"R",mutant:"Y",Escape:.8672,epitope:1,times_seen:5,effect:-1.2038},{reference_site:"304",wildtype:"R",mutant:"-",Escape:.0088,epitope:1,times_seen:1,effect:.159},{reference_site:"305",wildtype:"K",mutant:"A",Escape:.058,epitope:1,times_seen:1.6667,effect:-.2111},{reference_site:"305",wildtype:"K",mutant:"E",Escape:.03,epitope:1,times_seen:1,effect:-1.3938},{reference_site:"305",wildtype:"K",mutant:"F",Escape:.0816,epitope:1,times_seen:2.3333,effect:-.4552},{reference_site:"305",wildtype:"K",mutant:"G",Escape:.0445,epitope:1,times_seen:2,effect:-.2429},{reference_site:"305",wildtype:"K",mutant:"H",Escape:.0428,epitope:1,times_seen:1.6667,effect:-.2194},{reference_site:"305",wildtype:"K",mutant:"I",Escape:.0263,epitope:1,times_seen:3.6667,effect:-.6314},{reference_site:"305",wildtype:"K",mutant:"L",Escape:.0497,epitope:1,times_seen:4,effect:-.6018},{reference_site:"305",wildtype:"K",mutant:"M",Escape:.0677,epitope:1,times_seen:7.6667,effect:-.1262},{reference_site:"305",wildtype:"K",mutant:"N",Escape:.0972,epitope:1,times_seen:5.3333,effect:-.1803},{reference_site:"305",wildtype:"K",mutant:"Q",Escape:.0316,epitope:1,times_seen:4.3333,effect:-.256},{reference_site:"305",wildtype:"K",mutant:"R",Escape:-.0219,epitope:1,times_seen:4.3333,effect:-.0196},{reference_site:"305",wildtype:"K",mutant:"S",Escape:-.0062,epitope:1,times_seen:1,effect:-.1682},{reference_site:"305",wildtype:"K",mutant:"T",Escape:.0262,epitope:1,times_seen:1.6667,effect:-.0723},{reference_site:"305",wildtype:"K",mutant:"V",Escape:-.0097,epitope:1,times_seen:4,effect:-.232},{reference_site:"305",wildtype:"K",mutant:"Y",Escape:.2983,epitope:1,times_seen:4.5,effect:-.7662},{reference_site:"305",wildtype:"K",mutant:"-",Escape:.01,epitope:1,times_seen:1,effect:.159},{reference_site:"306",wildtype:"S",mutant:"A",Escape:.0196,epitope:1,times_seen:2,effect:-.359},{reference_site:"306",wildtype:"S",mutant:"D",Escape:.6009,epitope:1,times_seen:2.6667,effect:-1.9957},{reference_site:"306",wildtype:"S",mutant:"F",Escape:-.0176,epitope:1,times_seen:1,effect:-1.5571},{reference_site:"306",wildtype:"S",mutant:"G",Escape:-.0152,epitope:1,times_seen:2.6667,effect:-.6173},{reference_site:"306",wildtype:"S",mutant:"H",Escape:-.0272,epitope:1,times_seen:3.5,effect:-.9804},{reference_site:"306",wildtype:"S",mutant:"I",Escape:.2379,epitope:1,times_seen:6,effect:-1.2005},{reference_site:"306",wildtype:"S",mutant:"K",Escape:-.0038,epitope:1,times_seen:1,effect:-1.2491},{reference_site:"306",wildtype:"S",mutant:"M",Escape:-.0048,epitope:1,times_seen:3.3333,effect:-1.1996},{reference_site:"306",wildtype:"S",mutant:"N",Escape:-.0029,epitope:1,times_seen:4,effect:-1.0273},{reference_site:"306",wildtype:"S",mutant:"Q",Escape:.0116,epitope:1,times_seen:1,effect:-1.569},{reference_site:"306",wildtype:"S",mutant:"R",Escape:-.0157,epitope:1,times_seen:4.3333,effect:-.7606},{reference_site:"306",wildtype:"S",mutant:"T",Escape:-.0349,epitope:1,times_seen:6.6667,effect:-.1684},{reference_site:"306",wildtype:"S",mutant:"V",Escape:-.0109,epitope:1,times_seen:1,effect:-1.6455},{reference_site:"306",wildtype:"S",mutant:"W",Escape:-.0114,epitope:1,times_seen:1,effect:-1.0059},{reference_site:"306",wildtype:"S",mutant:"Y",Escape:-.0275,epitope:1,times_seen:2,effect:-1.5876},{reference_site:"306",wildtype:"S",mutant:"-",Escape:.0141,epitope:1,times_seen:1,effect:.159},{reference_site:"307",wildtype:"V",mutant:"A",Escape:.0391,epitope:1,times_seen:1,effect:-2.3902},{reference_site:"307",wildtype:"V",mutant:"E",Escape:-.0089,epitope:1,times_seen:2,effect:-3.0687},{reference_site:"307",wildtype:"V",mutant:"F",Escape:2e-4,epitope:1,times_seen:2,effect:-.8541},{reference_site:"307",wildtype:"V",mutant:"I",Escape:-.0031,epitope:1,times_seen:1,effect:-.5147},{reference_site:"307",wildtype:"V",mutant:"L",Escape:-.0272,epitope:1,times_seen:4,effect:-.113},{reference_site:"307",wildtype:"V",mutant:"M",Escape:-.0199,epitope:1,times_seen:5,effect:-1.4189},{reference_site:"307",wildtype:"V",mutant:"R",Escape:-.0168,epitope:1,times_seen:1,effect:-2.7103},{reference_site:"307",wildtype:"V",mutant:"Y",Escape:.0016,epitope:1,times_seen:1.3333,effect:.046},{reference_site:"307",wildtype:"V",mutant:"*",Escape:-.0164,epitope:1,times_seen:1,effect:-.9726},{reference_site:"307",wildtype:"V",mutant:"-",Escape:.0054,epitope:1,times_seen:1,effect:.159},{reference_site:"308",wildtype:"H",mutant:"D",Escape:.0475,epitope:1,times_seen:1,effect:-3.04},{reference_site:"308",wildtype:"H",mutant:"F",Escape:-.0309,epitope:1,times_seen:7.3333,effect:-.5048},{reference_site:"308",wildtype:"H",mutant:"I",Escape:-.0114,epitope:1,times_seen:3,effect:-1.2195},{reference_site:"308",wildtype:"H",mutant:"L",Escape:.0127,epitope:1,times_seen:1.3333,effect:-2.6368},{reference_site:"308",wildtype:"H",mutant:"N",Escape:-.0452,epitope:1,times_seen:6.5,effect:-1.1306},{reference_site:"308",wildtype:"H",mutant:"P",Escape:-.0372,epitope:1,times_seen:3.6667,effect:-.5692},{reference_site:"308",wildtype:"H",mutant:"Q",Escape:-.0371,epitope:1,times_seen:6.6667,effect:-1.0517},{reference_site:"308",wildtype:"H",mutant:"R",Escape:-.0442,epitope:1,times_seen:3.5,effect:-.9342},{reference_site:"308",wildtype:"H",mutant:"S",Escape:-.0415,epitope:1,times_seen:2,effect:.0309},{reference_site:"308",wildtype:"H",mutant:"T",Escape:-.0092,epitope:1,times_seen:5,effect:-.0244},{reference_site:"308",wildtype:"H",mutant:"V",Escape:-.0171,epitope:1,times_seen:1,effect:-2.0291},{reference_site:"308",wildtype:"H",mutant:"Y",Escape:-.0956,epitope:1,times_seen:16.6667,effect:-.7244},{reference_site:"309",wildtype:"L",mutant:"F",Escape:.1359,epitope:1,times_seen:2,effect:-.1767},{reference_site:"309",wildtype:"L",mutant:"H",Escape:.0081,epitope:1,times_seen:1,effect:-1.3378},{reference_site:"309",wildtype:"L",mutant:"I",Escape:.014,epitope:1,times_seen:1,effect:-1.7244},{reference_site:"309",wildtype:"L",mutant:"K",Escape:.0149,epitope:1,times_seen:1,effect:-2.1522},{reference_site:"309",wildtype:"L",mutant:"M",Escape:.0989,epitope:1,times_seen:15.3333,effect:-.1937},{reference_site:"309",wildtype:"L",mutant:"P",Escape:9e-4,epitope:1,times_seen:1,effect:-3.062},{reference_site:"309",wildtype:"L",mutant:"R",Escape:.0029,epitope:1,times_seen:1,effect:-2.5157},{reference_site:"309",wildtype:"L",mutant:"S",Escape:.0342,epitope:1,times_seen:1,effect:-2.0896},{reference_site:"309",wildtype:"L",mutant:"V",Escape:.0059,epitope:1,times_seen:3,effect:-.5637},{reference_site:"312",wildtype:"G",mutant:"A",Escape:.0011,epitope:1,times_seen:1,effect:.1924},{reference_site:"312",wildtype:"G",mutant:"C",Escape:-.0055,epitope:1,times_seen:1.3333,effect:-1.2479},{reference_site:"312",wildtype:"G",mutant:"D",Escape:-.0029,epitope:1,times_seen:2,effect:-2.4857},{reference_site:"312",wildtype:"G",mutant:"F",Escape:.0164,epitope:1,times_seen:1,effect:-.4899},{reference_site:"312",wildtype:"G",mutant:"H",Escape:-.0033,epitope:1,times_seen:1,effect:-.5288},{reference_site:"312",wildtype:"G",mutant:"I",Escape:.0358,epitope:1,times_seen:1,effect:-2.4872},{reference_site:"312",wildtype:"G",mutant:"L",Escape:.0444,epitope:1,times_seen:2,effect:-.1385},{reference_site:"312",wildtype:"G",mutant:"M",Escape:.0153,epitope:1,times_seen:1,effect:-.9188},{reference_site:"312",wildtype:"G",mutant:"S",Escape:.032,epitope:1,times_seen:2,effect:-.946},{reference_site:"312",wildtype:"G",mutant:"T",Escape:-2e-4,epitope:1,times_seen:1,effect:-.7187},{reference_site:"312",wildtype:"G",mutant:"V",Escape:.017,epitope:1,times_seen:5,effect:-.203},{reference_site:"312",wildtype:"G",mutant:"W",Escape:.0289,epitope:1,times_seen:1,effect:-.7801},{reference_site:"312",wildtype:"G",mutant:"Y",Escape:-.0013,epitope:1,times_seen:3,effect:-1.1015},{reference_site:"313",wildtype:"P",mutant:"A",Escape:-.0143,epitope:1,times_seen:1,effect:-1.1794},{reference_site:"313",wildtype:"P",mutant:"H",Escape:.0268,epitope:1,times_seen:2,effect:-2.3801},{reference_site:"313",wildtype:"P",mutant:"S",Escape:.0073,epitope:1,times_seen:2,effect:-1.9},{reference_site:"313",wildtype:"P",mutant:"T",Escape:.0199,epitope:1,times_seen:1,effect:-2.8817},{reference_site:"314",wildtype:"G",mutant:"C",Escape:.0209,epitope:1,times_seen:1,effect:-2.5622},{reference_site:"314",wildtype:"G",mutant:"L",Escape:-.007,epitope:1,times_seen:1,effect:.0328},{reference_site:"314",wildtype:"G",mutant:"N",Escape:.0061,epitope:1,times_seen:3,effect:-.0352},{reference_site:"314",wildtype:"G",mutant:"S",Escape:.006,epitope:1,times_seen:5,effect:-.4632},{reference_site:"314",wildtype:"G",mutant:"V",Escape:.0225,epitope:1,times_seen:3,effect:-1.9934},{reference_site:"315",wildtype:"Q",mutant:"A",Escape:-.0021,epitope:1,times_seen:1,effect:.0154},{reference_site:"315",wildtype:"Q",mutant:"E",Escape:.0258,epitope:1,times_seen:2,effect:-1.5451},{reference_site:"315",wildtype:"Q",mutant:"H",Escape:.0498,epitope:1,times_seen:7,effect:-.5488},{reference_site:"315",wildtype:"Q",mutant:"K",Escape:.2282,epitope:1,times_seen:12.6667,effect:-.3408},{reference_site:"315",wildtype:"Q",mutant:"L",Escape:.0225,epitope:1,times_seen:2.3333,effect:-.5335},{reference_site:"315",wildtype:"Q",mutant:"M",Escape:-.0188,epitope:1,times_seen:1.6667,effect:-.0066},{reference_site:"315",wildtype:"Q",mutant:"N",Escape:.0032,epitope:1,times_seen:1,effect:-1.1257},{reference_site:"315",wildtype:"Q",mutant:"P",Escape:5e-4,epitope:1,times_seen:1,effect:-1.0102},{reference_site:"315",wildtype:"Q",mutant:"R",Escape:.0631,epitope:1,times_seen:3,effect:-.3498},{reference_site:"315",wildtype:"Q",mutant:"*",Escape:.005,epitope:1,times_seen:1,effect:-2.7746},{reference_site:"316",wildtype:"A",mutant:"C",Escape:.031,epitope:1,times_seen:1,effect:-1.6603},{reference_site:"316",wildtype:"A",mutant:"D",Escape:-.0349,epitope:1,times_seen:1.5,effect:-3.126},{reference_site:"316",wildtype:"A",mutant:"E",Escape:.2042,epitope:1,times_seen:2,effect:-3.0599},{reference_site:"316",wildtype:"A",mutant:"F",Escape:.0013,epitope:1,times_seen:1,effect:-1.8506},{reference_site:"316",wildtype:"A",mutant:"G",Escape:-.0011,epitope:1,times_seen:1.5,effect:-1.4633},{reference_site:"316",wildtype:"A",mutant:"H",Escape:.0339,epitope:1,times_seen:2,effect:-1.7491},{reference_site:"316",wildtype:"A",mutant:"I",Escape:-3e-4,epitope:1,times_seen:2.6667,effect:-1.9217},{reference_site:"316",wildtype:"A",mutant:"M",Escape:-.0105,epitope:1,times_seen:1,effect:-.9419},{reference_site:"316",wildtype:"A",mutant:"N",Escape:.0045,epitope:1,times_seen:3,effect:-1.2223},{reference_site:"316",wildtype:"A",mutant:"P",Escape:.035,epitope:1,times_seen:4,effect:-.9447},{reference_site:"316",wildtype:"A",mutant:"S",Escape:.0469,epitope:1,times_seen:5.3333,effect:-.1137},{reference_site:"316",wildtype:"A",mutant:"T",Escape:.0305,epitope:1,times_seen:9.3333,effect:-.2432},{reference_site:"316",wildtype:"A",mutant:"V",Escape:.0012,epitope:1,times_seen:1.3333,effect:-.5263},{reference_site:"316",wildtype:"A",mutant:"W",Escape:-.0025,epitope:1,times_seen:1,effect:-.3799},{reference_site:"316",wildtype:"A",mutant:"Y",Escape:.0335,epitope:1,times_seen:1.3333,effect:-1.308},{reference_site:"317",wildtype:"F",mutant:"A",Escape:.0271,epitope:1,times_seen:1,effect:-2.5029},{reference_site:"317",wildtype:"F",mutant:"I",Escape:.0109,epitope:1,times_seen:2.6667,effect:-1.1323},{reference_site:"317",wildtype:"F",mutant:"L",Escape:.0552,epitope:1,times_seen:3,effect:-1.2543},{reference_site:"317",wildtype:"F",mutant:"M",Escape:.0042,epitope:1,times_seen:1,effect:-1.5973},{reference_site:"317",wildtype:"F",mutant:"V",Escape:.008,epitope:1,times_seen:1,effect:-2.0191},{reference_site:"317",wildtype:"F",mutant:"W",Escape:.0107,epitope:1,times_seen:1.6667,effect:-1.2163},{reference_site:"317",wildtype:"F",mutant:"Y",Escape:-.0063,epitope:1,times_seen:12.3333,effect:-.055},{reference_site:"317a",wildtype:"Y",mutant:"A",Escape:.0282,epitope:1,times_seen:2,effect:-.4602},{reference_site:"317a",wildtype:"Y",mutant:"C",Escape:.0395,epitope:1,times_seen:1,effect:-2.0622},{reference_site:"317a",wildtype:"Y",mutant:"F",Escape:.1493,epitope:1,times_seen:5.3333,effect:-.2366},{reference_site:"317a",wildtype:"Y",mutant:"H",Escape:-.0189,epitope:1,times_seen:4.6667,effect:-.77},{reference_site:"317a",wildtype:"Y",mutant:"I",Escape:.0178,epitope:1,times_seen:3.3333,effect:-.971},{reference_site:"317a",wildtype:"Y",mutant:"V",Escape:-.011,epitope:1,times_seen:1,effect:-.46},{reference_site:"317a",wildtype:"Y",mutant:"W",Escape:.1959,epitope:1,times_seen:1,effect:-.2883},{reference_site:"317a",wildtype:"Y",mutant:"*",Escape:.0106,epitope:1,times_seen:1,effect:-2.0087},{reference_site:"318",wildtype:"A",mutant:"D",Escape:.1103,epitope:1,times_seen:3,effect:-2.8905},{reference_site:"318",wildtype:"A",mutant:"F",Escape:-.0142,epitope:1,times_seen:1,effect:-3.0367},{reference_site:"318",wildtype:"A",mutant:"H",Escape:-.0772,epitope:1,times_seen:6.5,effect:-.3666},{reference_site:"318",wildtype:"A",mutant:"I",Escape:-.0389,epitope:1,times_seen:5,effect:-.5419},{reference_site:"318",wildtype:"A",mutant:"M",Escape:.0398,epitope:1,times_seen:3.6667,effect:-.0217},{reference_site:"318",wildtype:"A",mutant:"Q",Escape:.0405,epitope:1,times_seen:1,effect:-1.2706},{reference_site:"318",wildtype:"A",mutant:"S",Escape:.0254,epitope:1,times_seen:13,effect:-.2368},{reference_site:"318",wildtype:"A",mutant:"T",Escape:.0149,epitope:1,times_seen:12.6667,effect:-.2207},{reference_site:"318",wildtype:"A",mutant:"V",Escape:-.037,epitope:1,times_seen:7.3333,effect:-.3461},{reference_site:"318",wildtype:"A",mutant:"W",Escape:.0089,epitope:1,times_seen:1,effect:.0651},{reference_site:"319",wildtype:"T",mutant:"A",Escape:.0036,epitope:1,times_seen:4.3333,effect:-.206},{reference_site:"319",wildtype:"T",mutant:"C",Escape:-.0349,epitope:1,times_seen:1.5,effect:-1.9268},{reference_site:"319",wildtype:"T",mutant:"D",Escape:.1273,epitope:1,times_seen:3,effect:-1.9197},{reference_site:"319",wildtype:"T",mutant:"F",Escape:-.0225,epitope:1,times_seen:4.3333,effect:-.6596},{reference_site:"319",wildtype:"T",mutant:"G",Escape:-.006,epitope:1,times_seen:1,effect:-1.093},{reference_site:"319",wildtype:"T",mutant:"H",Escape:.0224,epitope:1,times_seen:2,effect:-.4263},{reference_site:"319",wildtype:"T",mutant:"I",Escape:-.0286,epitope:1,times_seen:4.3333,effect:-1.5424},{reference_site:"319",wildtype:"T",mutant:"K",Escape:.0015,epitope:1,times_seen:1.3333,effect:.1428},{reference_site:"319",wildtype:"T",mutant:"N",Escape:-.0089,epitope:1,times_seen:9.6667,effect:.016},{reference_site:"319",wildtype:"T",mutant:"P",Escape:.0552,epitope:1,times_seen:2,effect:-2.318},{reference_site:"319",wildtype:"T",mutant:"Q",Escape:.0072,epitope:1,times_seen:2,effect:.0201},{reference_site:"319",wildtype:"T",mutant:"R",Escape:-.0182,epitope:1,times_seen:2,effect:-.0276},{reference_site:"319",wildtype:"T",mutant:"S",Escape:.0311,epitope:1,times_seen:5.3333,effect:-.3059},{reference_site:"319",wildtype:"T",mutant:"Y",Escape:-.0083,epitope:1,times_seen:1.6667,effect:-.3313},{reference_site:"320",wildtype:"D",mutant:"A",Escape:-.1039,epitope:1,times_seen:7,effect:-.0848},{reference_site:"320",wildtype:"D",mutant:"E",Escape:-.024,epitope:1,times_seen:8.6667,effect:.0117},{reference_site:"320",wildtype:"D",mutant:"F",Escape:-.0441,epitope:1,times_seen:2.3333,effect:-1.328},{reference_site:"320",wildtype:"D",mutant:"G",Escape:-.133,epitope:1,times_seen:6.6667,effect:-.2205},{reference_site:"320",wildtype:"D",mutant:"H",Escape:-.0781,epitope:1,times_seen:8.6667,effect:-.158},{reference_site:"320",wildtype:"D",mutant:"I",Escape:-.0356,epitope:1,times_seen:4,effect:-.6068},{reference_site:"320",wildtype:"D",mutant:"K",Escape:-.0382,epitope:1,times_seen:2,effect:-.0433},{reference_site:"320",wildtype:"D",mutant:"L",Escape:-.0402,epitope:1,times_seen:2,effect:-.5138},{reference_site:"320",wildtype:"D",mutant:"M",Escape:-.0208,epitope:1,times_seen:1,effect:.0289},{reference_site:"320",wildtype:"D",mutant:"N",Escape:-.3,epitope:1,times_seen:15.3333,effect:-.0613},{reference_site:"320",wildtype:"D",mutant:"P",Escape:.0083,epitope:1,times_seen:1,effect:-2.3114},{reference_site:"320",wildtype:"D",mutant:"Q",Escape:.0203,epitope:1,times_seen:1,effect:-1.2332},{reference_site:"320",wildtype:"D",mutant:"S",Escape:-.0925,epitope:1,times_seen:7,effect:-.1051},{reference_site:"320",wildtype:"D",mutant:"T",Escape:-.0903,epitope:1,times_seen:5.6667,effect:-.1166},{reference_site:"320",wildtype:"D",mutant:"V",Escape:-.0819,epitope:1,times_seen:4.6667,effect:-.23},{reference_site:"320",wildtype:"D",mutant:"W",Escape:-.0104,epitope:1,times_seen:1,effect:-.4648},{reference_site:"320",wildtype:"D",mutant:"Y",Escape:-.1482,epitope:1,times_seen:7.6667,effect:-.5509},{reference_site:"321",wildtype:"G",mutant:"A",Escape:-.0376,epitope:1,times_seen:12,effect:-.1337},{reference_site:"321",wildtype:"G",mutant:"C",Escape:-.0879,epitope:1,times_seen:12,effect:-.6397},{reference_site:"321",wildtype:"G",mutant:"D",Escape:.1226,epitope:1,times_seen:26.3333,effect:.0675},{reference_site:"321",wildtype:"G",mutant:"E",Escape:.1932,epitope:1,times_seen:11.6667,effect:-.0782},{reference_site:"321",wildtype:"G",mutant:"F",Escape:.0246,epitope:1,times_seen:6.3333,effect:-.1749},{reference_site:"321",wildtype:"G",mutant:"H",Escape:-.0122,epitope:1,times_seen:3.6667,effect:-.1168},{reference_site:"321",wildtype:"G",mutant:"I",Escape:-.0744,epitope:1,times_seen:9.6667,effect:-.3053},{reference_site:"321",wildtype:"G",mutant:"K",Escape:-.032,epitope:1,times_seen:2.6667,effect:-.761},{reference_site:"321",wildtype:"G",mutant:"L",Escape:-.0171,epitope:1,times_seen:1.6667,effect:-.3756},{reference_site:"321",wildtype:"G",mutant:"M",Escape:.0346,epitope:1,times_seen:4,effect:-.048},{reference_site:"321",wildtype:"G",mutant:"N",Escape:-.0092,epitope:1,times_seen:4.3333,effect:-.327},{reference_site:"321",wildtype:"G",mutant:"Q",Escape:-.0419,epitope:1,times_seen:5.3333,effect:-.0107},{reference_site:"321",wildtype:"G",mutant:"R",Escape:-.0248,epitope:1,times_seen:2.3333,effect:-.1768},{reference_site:"321",wildtype:"G",mutant:"S",Escape:-.0888,epitope:1,times_seen:21,effect:-.0335},{reference_site:"321",wildtype:"G",mutant:"T",Escape:-.0304,epitope:1,times_seen:11.3333,effect:-.0111},{reference_site:"321",wildtype:"G",mutant:"V",Escape:-7e-4,epitope:1,times_seen:7.6667,effect:-.3131},{reference_site:"321",wildtype:"G",mutant:"Y",Escape:.0787,epitope:1,times_seen:8.3333,effect:-.072},{reference_site:"321",wildtype:"G",mutant:"-",Escape:-.036,epitope:1,times_seen:2,effect:-.0389},{reference_site:"322",wildtype:"I",mutant:"D",Escape:.0112,epitope:1,times_seen:1,effect:-1.2307},{reference_site:"322",wildtype:"I",mutant:"F",Escape:-.014,epitope:1,times_seen:6.3333,effect:-1.0358},{reference_site:"322",wildtype:"I",mutant:"G",Escape:-.0284,epitope:1,times_seen:1,effect:-2.4423},{reference_site:"322",wildtype:"I",mutant:"H",Escape:.0255,epitope:1,times_seen:1.5,effect:-3.0347},{reference_site:"322",wildtype:"I",mutant:"K",Escape:-.0081,epitope:1,times_seen:1,effect:-2.6603},{reference_site:"322",wildtype:"I",mutant:"M",Escape:-.0107,epitope:1,times_seen:1.6667,effect:-.8702},{reference_site:"322",wildtype:"I",mutant:"N",Escape:.0361,epitope:1,times_seen:1,effect:-2.4369},{reference_site:"322",wildtype:"I",mutant:"P",Escape:.0038,epitope:1,times_seen:3,effect:-.9247},{reference_site:"322",wildtype:"I",mutant:"S",Escape:.0065,epitope:1,times_seen:2,effect:-3.0464},{reference_site:"322",wildtype:"I",mutant:"T",Escape:.0544,epitope:1,times_seen:2.6667,effect:-2.4156},{reference_site:"322",wildtype:"I",mutant:"V",Escape:-.0293,epitope:1,times_seen:3,effect:.0782},{reference_site:"322",wildtype:"I",mutant:"Y",Escape:7e-4,epitope:1,times_seen:4.3333,effect:-1.9711},{reference_site:"323",wildtype:"I",mutant:"A",Escape:-.0076,epitope:1,times_seen:1,effect:-2.4373},{reference_site:"323",wildtype:"I",mutant:"C",Escape:-.0106,epitope:1,times_seen:1,effect:-1.5392},{reference_site:"323",wildtype:"I",mutant:"D",Escape:.0604,epitope:1,times_seen:4.5,effect:-3.3684},{reference_site:"323",wildtype:"I",mutant:"F",Escape:.0361,epitope:1,times_seen:6.6667,effect:-1.1109},{reference_site:"323",wildtype:"I",mutant:"G",Escape:-.0082,epitope:1,times_seen:1,effect:-1.9918},{reference_site:"323",wildtype:"I",mutant:"H",Escape:.2252,epitope:1,times_seen:6.3333,effect:-1.9307},{reference_site:"323",wildtype:"I",mutant:"K",Escape:.0125,epitope:1,times_seen:1,effect:-2.5409},{reference_site:"323",wildtype:"I",mutant:"L",Escape:-.0178,epitope:1,times_seen:1.6667,effect:-.4457},{reference_site:"323",wildtype:"I",mutant:"M",Escape:-.0073,epitope:1,times_seen:4,effect:-.414},{reference_site:"323",wildtype:"I",mutant:"N",Escape:.0152,epitope:1,times_seen:2,effect:-2.6067},{reference_site:"323",wildtype:"I",mutant:"Q",Escape:-.0099,epitope:1,times_seen:1,effect:-2.6796},{reference_site:"323",wildtype:"I",mutant:"S",Escape:-.0316,epitope:1,times_seen:6.3333,effect:-2.1823},{reference_site:"323",wildtype:"I",mutant:"T",Escape:.0172,epitope:1,times_seen:10.6667,effect:-.6758},{reference_site:"323",wildtype:"I",mutant:"V",Escape:.0205,epitope:1,times_seen:3.6667,effect:-.5258},{reference_site:"323",wildtype:"I",mutant:"W",Escape:-.0098,epitope:1,times_seen:1,effect:-2.6009},{reference_site:"323",wildtype:"I",mutant:"Y",Escape:-.0292,epitope:1,times_seen:5,effect:-1.1352},{reference_site:"324",wildtype:"G",mutant:"C",Escape:-.0048,epitope:1,times_seen:1.3333,effect:-3.2795},{reference_site:"324",wildtype:"G",mutant:"D",Escape:-.0014,epitope:1,times_seen:2,effect:-2.3757},{reference_site:"324",wildtype:"G",mutant:"E",Escape:.0038,epitope:1,times_seen:1,effect:-2.775},{reference_site:"324",wildtype:"G",mutant:"K",Escape:.0056,epitope:1,times_seen:1,effect:-3.4724},{reference_site:"324",wildtype:"G",mutant:"S",Escape:.0166,epitope:1,times_seen:1,effect:-1.8164},{reference_site:"324",wildtype:"G",mutant:"T",Escape:.0062,epitope:1,times_seen:1,effect:-3.3398},{reference_site:"325",wildtype:"E",mutant:"A",Escape:-.0056,epitope:1,times_seen:4.6667,effect:-.1324},{reference_site:"325",wildtype:"E",mutant:"D",Escape:.0556,epitope:1,times_seen:15.3333,effect:-.0098},{reference_site:"325",wildtype:"E",mutant:"F",Escape:-.0831,epitope:1,times_seen:5.3333,effect:-.5049},{reference_site:"325",wildtype:"E",mutant:"G",Escape:.0116,epitope:1,times_seen:4,effect:-.6601},{reference_site:"325",wildtype:"E",mutant:"H",Escape:-.0397,epitope:1,times_seen:2,effect:-.1736},{reference_site:"325",wildtype:"E",mutant:"I",Escape:-.0493,epitope:1,times_seen:5,effect:-.6468},{reference_site:"325",wildtype:"E",mutant:"K",Escape:-.0846,epitope:1,times_seen:16.6667,effect:-.2318},{reference_site:"325",wildtype:"E",mutant:"L",Escape:.0587,epitope:1,times_seen:7.6667,effect:-.366},{reference_site:"325",wildtype:"E",mutant:"M",Escape:-.037,epitope:1,times_seen:13,effect:-.0749},{reference_site:"325",wildtype:"E",mutant:"N",Escape:-.0302,epitope:1,times_seen:8.6667,effect:.0163},{reference_site:"325",wildtype:"E",mutant:"P",Escape:-.0027,epitope:1,times_seen:1,effect:-.7385},{reference_site:"325",wildtype:"E",mutant:"Q",Escape:-9e-4,epitope:1,times_seen:5,effect:-.1218},{reference_site:"325",wildtype:"E",mutant:"R",Escape:-.0025,epitope:1,times_seen:2.3333,effect:-.1341},{reference_site:"325",wildtype:"E",mutant:"S",Escape:-.0083,epitope:1,times_seen:3,effect:-.2625},{reference_site:"325",wildtype:"E",mutant:"T",Escape:-.0047,epitope:1,times_seen:1.3333,effect:-.4431},{reference_site:"325",wildtype:"E",mutant:"V",Escape:-.0283,epitope:1,times_seen:6.6667,effect:-.4753},{reference_site:"325",wildtype:"E",mutant:"W",Escape:-.0229,epitope:1,times_seen:5.3333,effect:-.3689},{reference_site:"325",wildtype:"E",mutant:"Y",Escape:-.0144,epitope:1,times_seen:3.6667,effect:-.0562},{reference_site:"325",wildtype:"E",mutant:"*",Escape:.0076,epitope:1,times_seen:1.6667,effect:-1.9318},{reference_site:"326",wildtype:"I",mutant:"F",Escape:.0186,epitope:1,times_seen:3.6667,effect:-3.164},{reference_site:"326",wildtype:"I",mutant:"M",Escape:-.006,epitope:1,times_seen:3.5,effect:-2.3534},{reference_site:"326",wildtype:"I",mutant:"N",Escape:.012,epitope:1,times_seen:1,effect:-3.2832},{reference_site:"326",wildtype:"I",mutant:"P",Escape:-.0185,epitope:1,times_seen:6,effect:-1.0511},{reference_site:"326",wildtype:"I",mutant:"R",Escape:.0416,epitope:1,times_seen:1,effect:-3.0952},{reference_site:"326",wildtype:"I",mutant:"T",Escape:-.0199,epitope:1,times_seen:3.3333,effect:-1.4033},{reference_site:"326",wildtype:"I",mutant:"V",Escape:-.01,epitope:1,times_seen:7.6667,effect:-.2469},{reference_site:"327",wildtype:"R",mutant:"K",Escape:-.0013,epitope:1,times_seen:9.6667,effect:-1.2785},{reference_site:"328",wildtype:"Q",mutant:"A",Escape:-.0064,epitope:1,times_seen:2,effect:-.3547},{reference_site:"328",wildtype:"Q",mutant:"C",Escape:-.0154,epitope:1,times_seen:1,effect:-.5617},{reference_site:"328",wildtype:"Q",mutant:"D",Escape:-.0311,epitope:1,times_seen:2,effect:-.5569},{reference_site:"328",wildtype:"Q",mutant:"E",Escape:.2694,epitope:1,times_seen:7,effect:-.1221},{reference_site:"328",wildtype:"Q",mutant:"F",Escape:.0028,epitope:1,times_seen:2.3333,effect:-.6615},{reference_site:"328",wildtype:"Q",mutant:"G",Escape:.0017,epitope:1,times_seen:1,effect:-1.5735},{reference_site:"328",wildtype:"Q",mutant:"H",Escape:-.0133,epitope:1,times_seen:10.3333,effect:-.0325},{reference_site:"328",wildtype:"Q",mutant:"I",Escape:-.0217,epitope:1,times_seen:1,effect:-.4404},{reference_site:"328",wildtype:"Q",mutant:"K",Escape:-3e-4,epitope:1,times_seen:13,effect:-.0767},{reference_site:"328",wildtype:"Q",mutant:"L",Escape:.0619,epitope:1,times_seen:10,effect:-.1029},{reference_site:"328",wildtype:"Q",mutant:"M",Escape:.0395,epitope:1,times_seen:4,effect:-.0293},{reference_site:"328",wildtype:"Q",mutant:"N",Escape:-.0298,epitope:1,times_seen:2.5,effect:-.3973},{reference_site:"328",wildtype:"Q",mutant:"P",Escape:.0662,epitope:1,times_seen:1,effect:-2.1875},{reference_site:"328",wildtype:"Q",mutant:"R",Escape:-.0295,epitope:1,times_seen:10.3333,effect:-.2243},{reference_site:"328",wildtype:"Q",mutant:"S",Escape:-.0117,epitope:1,times_seen:2,effect:-.5841},{reference_site:"328",wildtype:"Q",mutant:"T",Escape:-.0303,epitope:1,times_seen:1.6667,effect:-.5425},{reference_site:"328",wildtype:"Q",mutant:"V",Escape:-.0062,epitope:1,times_seen:6.3333,effect:-.2402},{reference_site:"328",wildtype:"Q",mutant:"W",Escape:-.0268,epitope:1,times_seen:6,effect:-.2658},{reference_site:"328",wildtype:"Q",mutant:"Y",Escape:-.0362,epitope:1,times_seen:2,effect:-.7787},{reference_site:"329",wildtype:"A",mutant:"D",Escape:.0139,epitope:1,times_seen:2,effect:-1.7907},{reference_site:"329",wildtype:"A",mutant:"P",Escape:.0279,epitope:1,times_seen:2,effect:-3.5864},{reference_site:"329",wildtype:"A",mutant:"S",Escape:-1e-4,epitope:1,times_seen:9.3333,effect:-.3061},{reference_site:"329",wildtype:"A",mutant:"T",Escape:.0305,epitope:1,times_seen:3,effect:-2.7752},{reference_site:"329",wildtype:"A",mutant:"V",Escape:.0026,epitope:1,times_seen:2.6667,effect:-1.064},{reference_site:"330",wildtype:"H",mutant:"A",Escape:8e-4,epitope:1,times_seen:2,effect:-.0969},{reference_site:"330",wildtype:"H",mutant:"C",Escape:-6e-4,epitope:1,times_seen:1,effect:-2.6514},{reference_site:"330",wildtype:"H",mutant:"F",Escape:.0019,epitope:1,times_seen:3.3333,effect:-.3525},{reference_site:"330",wildtype:"H",mutant:"G",Escape:-.0117,epitope:1,times_seen:1.5,effect:-1.069},{reference_site:"330",wildtype:"H",mutant:"I",Escape:.0242,epitope:1,times_seen:1.6667,effect:-1.722},{reference_site:"330",wildtype:"H",mutant:"L",Escape:-.0303,epitope:1,times_seen:3,effect:-1.0344},{reference_site:"330",wildtype:"H",mutant:"M",Escape:-.0384,epitope:1,times_seen:2.5,effect:-.6935},{reference_site:"330",wildtype:"H",mutant:"N",Escape:-.015,epitope:1,times_seen:13,effect:-1.0466},{reference_site:"330",wildtype:"H",mutant:"P",Escape:.0912,epitope:1,times_seen:5,effect:-3.0963},{reference_site:"330",wildtype:"H",mutant:"Q",Escape:-.0124,epitope:1,times_seen:4.3333,effect:-.9398},{reference_site:"330",wildtype:"H",mutant:"R",Escape:-.0185,epitope:1,times_seen:2,effect:-2.0749},{reference_site:"330",wildtype:"H",mutant:"S",Escape:.0325,epitope:1,times_seen:6,effect:-.9769},{reference_site:"330",wildtype:"H",mutant:"T",Escape:.028,epitope:1,times_seen:1.6667,effect:-1.5583},{reference_site:"330",wildtype:"H",mutant:"V",Escape:.0166,epitope:1,times_seen:1,effect:-.8294},{reference_site:"330",wildtype:"H",mutant:"Y",Escape:-.0403,epitope:1,times_seen:23,effect:-.0857},{reference_site:"331",wildtype:"C",mutant:"F",Escape:.0192,epitope:1,times_seen:1,effect:-1.7664},{reference_site:"331",wildtype:"C",mutant:"R",Escape:.0106,epitope:1,times_seen:1,effect:-2.942},{reference_site:"331",wildtype:"C",mutant:"S",Escape:-.0293,epitope:1,times_seen:2,effect:-2.8438},{reference_site:"331",wildtype:"C",mutant:"W",Escape:.0333,epitope:1,times_seen:2,effect:-2.7105},{reference_site:"331",wildtype:"C",mutant:"Y",Escape:.0167,epitope:1,times_seen:1,effect:-3.17},{reference_site:"331",wildtype:"C",mutant:"*",Escape:.002,epitope:1,times_seen:1,effect:-2.8726},{reference_site:"332",wildtype:"N",mutant:"D",Escape:.006,epitope:1,times_seen:2,effect:-.574},{reference_site:"332",wildtype:"N",mutant:"E",Escape:.006,epitope:1,times_seen:1,effect:-1.0928},{reference_site:"332",wildtype:"N",mutant:"F",Escape:-.0159,epitope:1,times_seen:2,effect:-1.1021},{reference_site:"332",wildtype:"N",mutant:"H",Escape:.0104,epitope:1,times_seen:1.5,effect:.4621},{reference_site:"332",wildtype:"N",mutant:"I",Escape:-.0078,epitope:1,times_seen:2,effect:-.3474},{reference_site:"332",wildtype:"N",mutant:"K",Escape:.0214,epitope:1,times_seen:6,effect:-.4568},{reference_site:"332",wildtype:"N",mutant:"L",Escape:-.0217,epitope:1,times_seen:3,effect:-.173},{reference_site:"332",wildtype:"N",mutant:"M",Escape:-.0044,epitope:1,times_seen:1,effect:-1.38},{reference_site:"332",wildtype:"N",mutant:"Q",Escape:-.0298,epitope:1,times_seen:2,effect:-.2502},{reference_site:"332",wildtype:"N",mutant:"R",Escape:-3e-4,epitope:1,times_seen:1,effect:.5881},{reference_site:"332",wildtype:"N",mutant:"S",Escape:.0029,epitope:1,times_seen:1,effect:-1.2382},{reference_site:"332",wildtype:"N",mutant:"W",Escape:-.0072,epitope:1,times_seen:1.5,effect:-.1619},{reference_site:"332",wildtype:"N",mutant:"Y",Escape:-.0083,epitope:1,times_seen:1,effect:-.4621},{reference_site:"333",wildtype:"V",mutant:"I",Escape:.0055,epitope:1,times_seen:5,effect:-.4184},{reference_site:"333",wildtype:"V",mutant:"L",Escape:-.0089,epitope:1,times_seen:2.3333,effect:-.7224},{reference_site:"333",wildtype:"V",mutant:"M",Escape:.0819,epitope:1,times_seen:11.6667,effect:-.1694},{reference_site:"334",wildtype:"S",mutant:"A",Escape:-.005,epitope:1,times_seen:2,effect:-.58},{reference_site:"334",wildtype:"S",mutant:"D",Escape:-.0086,epitope:1,times_seen:2.6667,effect:-.682},{reference_site:"334",wildtype:"S",mutant:"E",Escape:.0044,epitope:1,times_seen:1.6667,effect:-.342},{reference_site:"334",wildtype:"S",mutant:"G",Escape:.0069,epitope:1,times_seen:5.3333,effect:-.6549},{reference_site:"334",wildtype:"S",mutant:"I",Escape:.0142,epitope:1,times_seen:2,effect:-2.0039},{reference_site:"334",wildtype:"S",mutant:"K",Escape:-.0147,epitope:1,times_seen:4.3333,effect:-.8905},{reference_site:"334",wildtype:"S",mutant:"N",Escape:.0162,epitope:1,times_seen:6.6667,effect:-.7319},{reference_site:"334",wildtype:"S",mutant:"R",Escape:-.0037,epitope:1,times_seen:1,effect:-.6388},{reference_site:"334",wildtype:"S",mutant:"T",Escape:-.0227,epitope:1,times_seen:4.6667,effect:-.3543},{reference_site:"335",wildtype:"K",mutant:"A",Escape:-.0105,epitope:1,times_seen:2.6667,effect:.0791},{reference_site:"335",wildtype:"K",mutant:"C",Escape:.0014,epitope:1,times_seen:1.3333,effect:-.6655},{reference_site:"335",wildtype:"K",mutant:"D",Escape:-4e-4,epitope:1,times_seen:3,effect:-.1012},{reference_site:"335",wildtype:"K",mutant:"E",Escape:9e-4,epitope:1,times_seen:2.3333,effect:.1811},{reference_site:"335",wildtype:"K",mutant:"F",Escape:.0174,epitope:1,times_seen:2.6667,effect:-.0854},{reference_site:"335",wildtype:"K",mutant:"H",Escape:-.0217,epitope:1,times_seen:1.6667,effect:.0129},{reference_site:"335",wildtype:"K",mutant:"I",Escape:-.0095,epitope:1,times_seen:5.3333,effect:-.1405},{reference_site:"335",wildtype:"K",mutant:"L",Escape:-.0305,epitope:1,times_seen:3,effect:-.3263},{reference_site:"335",wildtype:"K",mutant:"M",Escape:.0017,epitope:1,times_seen:4.6667,effect:-.0648},{reference_site:"335",wildtype:"K",mutant:"N",Escape:.0176,epitope:1,times_seen:11,effect:.0846},{reference_site:"335",wildtype:"K",mutant:"Q",Escape:.0605,epitope:1,times_seen:6,effect:.1129},{reference_site:"335",wildtype:"K",mutant:"R",Escape:.0107,epitope:1,times_seen:2,effect:-.1439},{reference_site:"335",wildtype:"K",mutant:"S",Escape:-.0033,epitope:1,times_seen:2.6667,effect:.157},{reference_site:"335",wildtype:"K",mutant:"T",Escape:.0138,epitope:1,times_seen:2,effect:.1488},{reference_site:"335",wildtype:"K",mutant:"V",Escape:-.0227,epitope:1,times_seen:3,effect:-.2015},{reference_site:"335",wildtype:"K",mutant:"W",Escape:-.0301,epitope:1,times_seen:6,effect:-.0252},{reference_site:"335",wildtype:"K",mutant:"Y",Escape:.0318,epitope:1,times_seen:2.6667,effect:-.0886},{reference_site:"336",wildtype:"K",mutant:"A",Escape:-4e-4,epitope:1,times_seen:1,effect:-.6313},{reference_site:"336",wildtype:"K",mutant:"C",Escape:-.0229,epitope:1,times_seen:1.5,effect:-.6456},{reference_site:"336",wildtype:"K",mutant:"D",Escape:-.0087,epitope:1,times_seen:2.3333,effect:.0768},{reference_site:"336",wildtype:"K",mutant:"E",Escape:-.0092,epitope:1,times_seen:8,effect:.0642},{reference_site:"336",wildtype:"K",mutant:"F",Escape:-.028,epitope:1,times_seen:6.6667,effect:.0507},{reference_site:"336",wildtype:"K",mutant:"G",Escape:.0128,epitope:1,times_seen:1,effect:-.3106},{reference_site:"336",wildtype:"K",mutant:"H",Escape:-.0247,epitope:1,times_seen:2.6667,effect:-.2058},{reference_site:"336",wildtype:"K",mutant:"I",Escape:-.0342,epitope:1,times_seen:3.3333,effect:-.1383},{reference_site:"336",wildtype:"K",mutant:"L",Escape:-.0119,epitope:1,times_seen:5,effect:-.8462},{reference_site:"336",wildtype:"K",mutant:"M",Escape:.0208,epitope:1,times_seen:8,effect:-.2587},{reference_site:"336",wildtype:"K",mutant:"N",Escape:-.0533,epitope:1,times_seen:19,effect:.0134},{reference_site:"336",wildtype:"K",mutant:"P",Escape:-.0127,epitope:1,times_seen:1,effect:-.3301},{reference_site:"336",wildtype:"K",mutant:"Q",Escape:-.0148,epitope:1,times_seen:5,effect:-.0886},{reference_site:"336",wildtype:"K",mutant:"R",Escape:-.04,epitope:1,times_seen:5,effect:-.1546},{reference_site:"336",wildtype:"K",mutant:"S",Escape:-.005,epitope:1,times_seen:7.3333,effect:-.165},{reference_site:"336",wildtype:"K",mutant:"T",Escape:.0163,epitope:1,times_seen:1.6667,effect:-.141},{reference_site:"336",wildtype:"K",mutant:"V",Escape:.0406,epitope:1,times_seen:2,effect:-.2045},{reference_site:"336",wildtype:"K",mutant:"W",Escape:-.0039,epitope:1,times_seen:4.3333,effect:.0962},{reference_site:"336",wildtype:"K",mutant:"Y",Escape:.0096,epitope:1,times_seen:3,effect:-.3362},{reference_site:"337",wildtype:"E",mutant:"A",Escape:-.0037,epitope:1,times_seen:4,effect:-.0633},{reference_site:"337",wildtype:"E",mutant:"C",Escape:-.0143,epitope:1,times_seen:2,effect:-.5509},{reference_site:"337",wildtype:"E",mutant:"D",Escape:-.0087,epitope:1,times_seen:17.3333,effect:-.1409},{reference_site:"337",wildtype:"E",mutant:"G",Escape:-.0094,epitope:1,times_seen:6.6667,effect:-.027},{reference_site:"337",wildtype:"E",mutant:"H",Escape:.003,epitope:1,times_seen:2,effect:-.4319},{reference_site:"337",wildtype:"E",mutant:"I",Escape:.0301,epitope:1,times_seen:4.3333,effect:-.1784},{reference_site:"337",wildtype:"E",mutant:"K",Escape:-.0346,epitope:1,times_seen:19.3333,effect:-.0902},{reference_site:"337",wildtype:"E",mutant:"L",Escape:.0059,epitope:1,times_seen:3.6667,effect:-.26},{reference_site:"337",wildtype:"E",mutant:"M",Escape:-.0385,epitope:1,times_seen:9.3333,effect:-.1826},{reference_site:"337",wildtype:"E",mutant:"N",Escape:-.0344,epitope:1,times_seen:6.3333,effect:-.0806},{reference_site:"337",wildtype:"E",mutant:"Q",Escape:-.0033,epitope:1,times_seen:5.6667,effect:-.0665},{reference_site:"337",wildtype:"E",mutant:"R",Escape:-.0051,epitope:1,times_seen:5,effect:-.0864},{reference_site:"337",wildtype:"E",mutant:"S",Escape:-.0179,epitope:1,times_seen:5.6667,effect:-.272},{reference_site:"337",wildtype:"E",mutant:"T",Escape:-.0381,epitope:1,times_seen:4.6667,effect:-.2967},{reference_site:"337",wildtype:"E",mutant:"V",Escape:-.0289,epitope:1,times_seen:7.6667,effect:-.0172},{reference_site:"337",wildtype:"E",mutant:"W",Escape:-.0166,epitope:1,times_seen:3.6667,effect:-.5389},{reference_site:"337",wildtype:"E",mutant:"Y",Escape:.0149,epitope:1,times_seen:7.3333,effect:-.6676},{reference_site:"337",wildtype:"E",mutant:"*",Escape:.0071,epitope:1,times_seen:2,effect:-2.7381},{reference_site:"338",wildtype:"W",mutant:"K",Escape:.0012,epitope:1,times_seen:5,effect:-2.5205},{reference_site:"338",wildtype:"W",mutant:"L",Escape:.003,epitope:1,times_seen:1,effect:-3.1612},{reference_site:"338",wildtype:"W",mutant:"R",Escape:-.0021,epitope:1,times_seen:2.6667,effect:-2.8711},{reference_site:"338",wildtype:"W",mutant:"*",Escape:.0056,epitope:1,times_seen:1.3333,effect:-3.3714},{reference_site:"339",wildtype:"N",mutant:"A",Escape:-.0069,epitope:1,times_seen:1,effect:-1.0078},{reference_site:"339",wildtype:"N",mutant:"C",Escape:-.0092,epitope:1,times_seen:1,effect:-.8267},{reference_site:"339",wildtype:"N",mutant:"D",Escape:.0567,epitope:1,times_seen:5.3333,effect:-.1101},{reference_site:"339",wildtype:"N",mutant:"E",Escape:.0505,epitope:1,times_seen:7.3333,effect:.0126},{reference_site:"339",wildtype:"N",mutant:"F",Escape:.0242,epitope:1,times_seen:2.6667,effect:-.2278},{reference_site:"339",wildtype:"N",mutant:"G",Escape:-.0027,epitope:1,times_seen:1,effect:-.334},{reference_site:"339",wildtype:"N",mutant:"H",Escape:.0013,epitope:1,times_seen:1,effect:-1.2466},{reference_site:"339",wildtype:"N",mutant:"I",Escape:-.0204,epitope:1,times_seen:5,effect:.0609},{reference_site:"339",wildtype:"N",mutant:"K",Escape:.0157,epitope:1,times_seen:12,effect:.0822},{reference_site:"339",wildtype:"N",mutant:"M",Escape:.0561,epitope:1,times_seen:5.3333,effect:-.0522},{reference_site:"339",wildtype:"N",mutant:"Q",Escape:.0348,epitope:1,times_seen:3.3333,effect:-.0339},{reference_site:"339",wildtype:"N",mutant:"S",Escape:.0061,epitope:1,times_seen:6,effect:-.0041},{reference_site:"339",wildtype:"N",mutant:"T",Escape:.0941,epitope:1,times_seen:6,effect:6e-4},{reference_site:"339",wildtype:"N",mutant:"V",Escape:-.0081,epitope:1,times_seen:1,effect:-.2744},{reference_site:"339",wildtype:"N",mutant:"W",Escape:-.0117,epitope:1,times_seen:2,effect:-.5052},{reference_site:"339",wildtype:"N",mutant:"Y",Escape:-.0143,epitope:1,times_seen:3,effect:-.1121},{reference_site:"340",wildtype:"S",mutant:"A",Escape:.0089,epitope:1,times_seen:1.3333,effect:-.1353},{reference_site:"340",wildtype:"S",mutant:"C",Escape:-.0367,epitope:1,times_seen:5.6667,effect:-.4609},{reference_site:"340",wildtype:"S",mutant:"D",Escape:-.0162,epitope:1,times_seen:3,effect:-.7233},{reference_site:"340",wildtype:"S",mutant:"E",Escape:-.0184,epitope:1,times_seen:2.3333,effect:-.1919},{reference_site:"340",wildtype:"S",mutant:"F",Escape:-.0226,epitope:1,times_seen:4,effect:-.233},{reference_site:"340",wildtype:"S",mutant:"G",Escape:-.0794,epitope:1,times_seen:11.6667,effect:-.1839},{reference_site:"340",wildtype:"S",mutant:"H",Escape:.0022,epitope:1,times_seen:3.3333,effect:-.1897},{reference_site:"340",wildtype:"S",mutant:"I",Escape:-.0426,epitope:1,times_seen:14.6667,effect:.0152},{reference_site:"340",wildtype:"S",mutant:"K",Escape:.0082,epitope:1,times_seen:4.6667,effect:-.1015},{reference_site:"340",wildtype:"S",mutant:"L",Escape:.0146,epitope:1,times_seen:2.6667,effect:.2181},{reference_site:"340",wildtype:"S",mutant:"M",Escape:.0243,epitope:1,times_seen:2.6667,effect:-.0977},{reference_site:"340",wildtype:"S",mutant:"N",Escape:.065,epitope:1,times_seen:12,effect:-.122},{reference_site:"340",wildtype:"S",mutant:"P",Escape:-.0036,epitope:1,times_seen:1.3333,effect:-.1406},{reference_site:"340",wildtype:"S",mutant:"Q",Escape:.0304,epitope:1,times_seen:2,effect:-.3057},{reference_site:"340",wildtype:"S",mutant:"R",Escape:.004,epitope:1,times_seen:6.6667,effect:-.0396},{reference_site:"340",wildtype:"S",mutant:"T",Escape:-.0215,epitope:1,times_seen:4,effect:-.0109},{reference_site:"340",wildtype:"S",mutant:"V",Escape:-.0122,epitope:1,times_seen:1.6667,effect:-.1145},{reference_site:"340",wildtype:"S",mutant:"W",Escape:.0517,epitope:1,times_seen:4.5,effect:-.2798},{reference_site:"340",wildtype:"S",mutant:"Y",Escape:.039,epitope:1,times_seen:5.6667,effect:.1122},{reference_site:"341",wildtype:"T",mutant:"A",Escape:.0815,epitope:1,times_seen:13,effect:.0831},{reference_site:"341",wildtype:"T",mutant:"C",Escape:.0202,epitope:1,times_seen:4,effect:.0865},{reference_site:"341",wildtype:"T",mutant:"E",Escape:-.0059,epitope:1,times_seen:3.3333,effect:-.193},{reference_site:"341",wildtype:"T",mutant:"G",Escape:.041,epitope:1,times_seen:4,effect:-.0904},{reference_site:"341",wildtype:"T",mutant:"H",Escape:.0013,epitope:1,times_seen:3,effect:-.3781},{reference_site:"341",wildtype:"T",mutant:"I",Escape:.0166,epitope:1,times_seen:11.6667,effect:-.137},{reference_site:"341",wildtype:"T",mutant:"K",Escape:-.0366,epitope:1,times_seen:5.3333,effect:-.2288},{reference_site:"341",wildtype:"T",mutant:"L",Escape:.0211,epitope:1,times_seen:2.6667,effect:.096},{reference_site:"341",wildtype:"T",mutant:"M",Escape:.0072,epitope:1,times_seen:4.6667,effect:.0648},{reference_site:"341",wildtype:"T",mutant:"N",Escape:.0487,epitope:1,times_seen:8.3333,effect:-.0866},{reference_site:"341",wildtype:"T",mutant:"Q",Escape:.0404,epitope:1,times_seen:2.6667,effect:-.1179},{reference_site:"341",wildtype:"T",mutant:"R",Escape:-.0122,epitope:1,times_seen:2,effect:-.32},{reference_site:"341",wildtype:"T",mutant:"S",Escape:-.0296,epitope:1,times_seen:12.3333,effect:.0519},{reference_site:"341",wildtype:"T",mutant:"V",Escape:-.0089,epitope:1,times_seen:3,effect:-.4499},{reference_site:"342",wildtype:"L",mutant:"I",Escape:-.0524,epitope:1,times_seen:21,effect:-.1211},{reference_site:"342",wildtype:"L",mutant:"K",Escape:-.0044,epitope:1,times_seen:1,effect:-1.3141},{reference_site:"342",wildtype:"L",mutant:"M",Escape:.0074,epitope:1,times_seen:3.5,effect:.0737},{reference_site:"342",wildtype:"L",mutant:"S",Escape:.0359,epitope:1,times_seen:4,effect:-1.2772},{reference_site:"342",wildtype:"L",mutant:"T",Escape:-.0048,epitope:1,times_seen:1,effect:-.5222},{reference_site:"342",wildtype:"L",mutant:"V",Escape:-.0061,epitope:1,times_seen:1,effect:-.7157},{reference_site:"343",wildtype:"Q",mutant:"A",Escape:-.0227,epitope:1,times_seen:2,effect:-.3598},{reference_site:"343",wildtype:"Q",mutant:"C",Escape:-.0269,epitope:1,times_seen:2.5,effect:.0332},{reference_site:"343",wildtype:"Q",mutant:"D",Escape:-.004,epitope:1,times_seen:1,effect:-.3515},{reference_site:"343",wildtype:"Q",mutant:"E",Escape:.0045,epitope:1,times_seen:12.3333,effect:.1199},{reference_site:"343",wildtype:"Q",mutant:"F",Escape:.0026,epitope:1,times_seen:3.6667,effect:-.338},{reference_site:"343",wildtype:"Q",mutant:"G",Escape:-.0021,epitope:1,times_seen:2,effect:-.2192},{reference_site:"343",wildtype:"Q",mutant:"H",Escape:.0208,epitope:1,times_seen:13.3333,effect:-.0533},{reference_site:"343",wildtype:"Q",mutant:"I",Escape:-.0107,epitope:1,times_seen:3.6667,effect:-.0092},{reference_site:"343",wildtype:"Q",mutant:"K",Escape:.012,epitope:1,times_seen:19,effect:.0375},{reference_site:"343",wildtype:"Q",mutant:"L",Escape:.0725,epitope:1,times_seen:19.3333,effect:-.1127},{reference_site:"343",wildtype:"Q",mutant:"M",Escape:.0054,epitope:1,times_seen:7.6667,effect:.0273},{reference_site:"343",wildtype:"Q",mutant:"N",Escape:-.0094,epitope:1,times_seen:6,effect:.0248},{reference_site:"343",wildtype:"Q",mutant:"R",Escape:.0204,epitope:1,times_seen:6.6667,effect:-.0615},{reference_site:"343",wildtype:"Q",mutant:"S",Escape:2e-4,epitope:1,times_seen:4.3333,effect:-.0576},{reference_site:"343",wildtype:"Q",mutant:"T",Escape:.0052,epitope:1,times_seen:2.5,effect:-.255},{reference_site:"343",wildtype:"Q",mutant:"V",Escape:-.0157,epitope:1,times_seen:3.3333,effect:-.2635},{reference_site:"343",wildtype:"Q",mutant:"W",Escape:.0082,epitope:1,times_seen:9.6667,effect:-.0597},{reference_site:"343",wildtype:"Q",mutant:"Y",Escape:.0019,epitope:1,times_seen:5.3333,effect:.1883},{reference_site:"344",wildtype:"K",mutant:"D",Escape:-.0106,epitope:1,times_seen:6.3333,effect:-.0617},{reference_site:"344",wildtype:"K",mutant:"E",Escape:-.0311,epitope:1,times_seen:6.3333,effect:-.3733},{reference_site:"344",wildtype:"K",mutant:"F",Escape:.0041,epitope:1,times_seen:1,effect:-.6653},{reference_site:"344",wildtype:"K",mutant:"H",Escape:-.01,epitope:1,times_seen:1,effect:-.8229},{reference_site:"344",wildtype:"K",mutant:"I",Escape:-.0089,epitope:1,times_seen:2.6667,effect:-.3193},{reference_site:"344",wildtype:"K",mutant:"L",Escape:.001,epitope:1,times_seen:1.6667,effect:-1.1205},{reference_site:"344",wildtype:"K",mutant:"M",Escape:.0478,epitope:1,times_seen:6.3333,effect:-.0398},{reference_site:"344",wildtype:"K",mutant:"N",Escape:-.0172,epitope:1,times_seen:14.6667,effect:-.1479},{reference_site:"344",wildtype:"K",mutant:"Q",Escape:.0491,epitope:1,times_seen:11.3333,effect:-.0061},{reference_site:"344",wildtype:"K",mutant:"R",Escape:-.0033,epitope:1,times_seen:2.6667,effect:-.054},{reference_site:"344",wildtype:"K",mutant:"S",Escape:-.0315,epitope:1,times_seen:2.5,effect:-.4316},{reference_site:"344",wildtype:"K",mutant:"T",Escape:-.032,epitope:1,times_seen:1.3333,effect:-.1946},{reference_site:"344",wildtype:"K",mutant:"V",Escape:.0039,epitope:1,times_seen:2.3333,effect:-.1457},{reference_site:"344",wildtype:"K",mutant:"W",Escape:-.0051,epitope:1,times_seen:2.3333,effect:-.2796},{reference_site:"344",wildtype:"K",mutant:"Y",Escape:-.0061,epitope:1,times_seen:2.6667,effect:-.2209},{reference_site:"345",wildtype:"V",mutant:"A",Escape:-.0114,epitope:1,times_seen:1,effect:-1.0694},{reference_site:"345",wildtype:"V",mutant:"I",Escape:-.0019,epitope:1,times_seen:3,effect:.1419},{reference_site:"345",wildtype:"V",mutant:"K",Escape:.0341,epitope:1,times_seen:1.3333,effect:-3.156},{reference_site:"345",wildtype:"V",mutant:"L",Escape:-.0211,epitope:1,times_seen:4.6667,effect:.0416},{reference_site:"345",wildtype:"V",mutant:"M",Escape:.0067,epitope:1,times_seen:10.6667,effect:-.1583},{reference_site:"346",wildtype:"A",mutant:"D",Escape:.0513,epitope:1,times_seen:4.6667,effect:-3.244},{reference_site:"346",wildtype:"A",mutant:"E",Escape:.0063,epitope:1,times_seen:1,effect:-1.2465},{reference_site:"346",wildtype:"A",mutant:"F",Escape:-.0042,epitope:1,times_seen:3,effect:-1.9862},{reference_site:"346",wildtype:"A",mutant:"G",Escape:-.0395,epitope:1,times_seen:5.3333,effect:-.3328},{reference_site:"346",wildtype:"A",mutant:"I",Escape:.053,epitope:1,times_seen:5,effect:-.3265},{reference_site:"346",wildtype:"A",mutant:"K",Escape:.0061,epitope:1,times_seen:1.3333,effect:-1.1377},{reference_site:"346",wildtype:"A",mutant:"L",Escape:.004,epitope:1,times_seen:2.6667,effect:-1.7508},{reference_site:"346",wildtype:"A",mutant:"M",Escape:-.0038,epitope:1,times_seen:1.3333,effect:-.6547},{reference_site:"346",wildtype:"A",mutant:"N",Escape:-.0044,epitope:1,times_seen:1.3333,effect:-1.6944},{reference_site:"346",wildtype:"A",mutant:"Q",Escape:-.0014,epitope:1,times_seen:1,effect:-1.0298},{reference_site:"346",wildtype:"A",mutant:"S",Escape:-.028,epitope:1,times_seen:13.3333,effect:-.0451},{reference_site:"346",wildtype:"A",mutant:"T",Escape:.0046,epitope:1,times_seen:16.3333,effect:-.2934},{reference_site:"346",wildtype:"A",mutant:"V",Escape:.0355,epitope:1,times_seen:10,effect:-.0781},{reference_site:"346",wildtype:"A",mutant:"Y",Escape:-.0101,epitope:1,times_seen:2,effect:-.7393},{reference_site:"347",wildtype:"N",mutant:"A",Escape:-.0026,epitope:1,times_seen:2,effect:-.6187},{reference_site:"347",wildtype:"N",mutant:"D",Escape:-.0217,epitope:1,times_seen:3,effect:-.1193},{reference_site:"347",wildtype:"N",mutant:"E",Escape:.0291,epitope:1,times_seen:4.3333,effect:.1101},{reference_site:"347",wildtype:"N",mutant:"F",Escape:-.0106,epitope:1,times_seen:8,effect:-.0839},{reference_site:"347",wildtype:"N",mutant:"H",Escape:.0215,epitope:1,times_seen:5.6667,effect:-.1908},{reference_site:"347",wildtype:"N",mutant:"I",Escape:1e-4,epitope:1,times_seen:5.6667,effect:.0299},{reference_site:"347",wildtype:"N",mutant:"K",Escape:.0181,epitope:1,times_seen:11.6667,effect:.1669},{reference_site:"347",wildtype:"N",mutant:"L",Escape:8e-4,epitope:1,times_seen:2,effect:-.1841},{reference_site:"347",wildtype:"N",mutant:"M",Escape:-.0146,epitope:1,times_seen:12.3333,effect:.0664},{reference_site:"347",wildtype:"N",mutant:"Q",Escape:.0074,epitope:1,times_seen:1,effect:-.2915},{reference_site:"347",wildtype:"N",mutant:"S",Escape:-.0119,epitope:1,times_seen:1,effect:-.0877},{reference_site:"347",wildtype:"N",mutant:"T",Escape:.0248,epitope:1,times_seen:3.6667,effect:-.3547},{reference_site:"347",wildtype:"N",mutant:"V",Escape:-.0056,epitope:1,times_seen:3,effect:.1004},{reference_site:"347",wildtype:"N",mutant:"W",Escape:2e-4,epitope:1,times_seen:1.6667,effect:.1642},{reference_site:"347",wildtype:"N",mutant:"Y",Escape:-.0129,epitope:1,times_seen:8,effect:.0821},{reference_site:"348",wildtype:"Q",mutant:"A",Escape:1e-4,epitope:1,times_seen:2,effect:-.1237},{reference_site:"348",wildtype:"Q",mutant:"C",Escape:-.0013,epitope:1,times_seen:3.5,effect:-.1434},{reference_site:"348",wildtype:"Q",mutant:"E",Escape:-.0345,epitope:1,times_seen:17.3333,effect:-.1816},{reference_site:"348",wildtype:"Q",mutant:"F",Escape:-.0204,epitope:1,times_seen:4.3333,effect:-.339},{reference_site:"348",wildtype:"Q",mutant:"G",Escape:.0378,epitope:1,times_seen:2,effect:.4111},{reference_site:"348",wildtype:"Q",mutant:"H",Escape:-.0324,epitope:1,times_seen:8,effect:-.2142},{reference_site:"348",wildtype:"Q",mutant:"I",Escape:.0271,epitope:1,times_seen:8.3333,effect:.0344},{reference_site:"348",wildtype:"Q",mutant:"K",Escape:-.0051,epitope:1,times_seen:15.6667,effect:.0123},{reference_site:"348",wildtype:"Q",mutant:"L",Escape:-.0485,epitope:1,times_seen:7.3333,effect:-.1774},{reference_site:"348",wildtype:"Q",mutant:"M",Escape:-.0052,epitope:1,times_seen:10.3333,effect:-.0407},{reference_site:"348",wildtype:"Q",mutant:"N",Escape:.1055,epitope:1,times_seen:5.3333,effect:-.0927},{reference_site:"348",wildtype:"Q",mutant:"R",Escape:-.0117,epitope:1,times_seen:13.6667,effect:-.1927},{reference_site:"348",wildtype:"Q",mutant:"S",Escape:.1488,epitope:1,times_seen:8,effect:-.2642},{reference_site:"348",wildtype:"Q",mutant:"T",Escape:-.0038,epitope:1,times_seen:6.6667,effect:-.0064},{reference_site:"348",wildtype:"Q",mutant:"V",Escape:.0043,epitope:1,times_seen:6.3333,effect:-.0848},{reference_site:"348",wildtype:"Q",mutant:"W",Escape:.0382,epitope:1,times_seen:5,effect:-.8195},{reference_site:"348",wildtype:"Q",mutant:"Y",Escape:-.0317,epitope:1,times_seen:5.3333,effect:-.2231},{reference_site:"349",wildtype:"L",mutant:"F",Escape:-.0332,epitope:1,times_seen:6,effect:-.2613},{reference_site:"349",wildtype:"L",mutant:"I",Escape:2e-4,epitope:1,times_seen:2,effect:-1.6264},{reference_site:"349",wildtype:"L",mutant:"K",Escape:.0317,epitope:1,times_seen:2,effect:-3.2287},{reference_site:"349",wildtype:"L",mutant:"M",Escape:-.0046,epitope:1,times_seen:13,effect:-.3592},{reference_site:"349",wildtype:"L",mutant:"P",Escape:-.0038,epitope:1,times_seen:1,effect:-2.5889},{reference_site:"349",wildtype:"L",mutant:"V",Escape:.003,epitope:1,times_seen:6.6667,effect:-.9204},{reference_site:"350",wildtype:"R",mutant:"E",Escape:2e-4,epitope:1,times_seen:2.3333,effect:-1.27},{reference_site:"350",wildtype:"R",mutant:"F",Escape:.0191,epitope:1,times_seen:3.6667,effect:-.3214},{reference_site:"350",wildtype:"R",mutant:"G",Escape:-.0107,epitope:1,times_seen:1,effect:-.7415},{reference_site:"350",wildtype:"R",mutant:"H",Escape:-.0121,epitope:1,times_seen:3.6667,effect:-.0977},{reference_site:"350",wildtype:"R",mutant:"I",Escape:.0036,epitope:1,times_seen:8.3333,effect:-.2434},{reference_site:"350",wildtype:"R",mutant:"K",Escape:.0326,epitope:1,times_seen:10,effect:-.3969},{reference_site:"350",wildtype:"R",mutant:"M",Escape:.0172,epitope:1,times_seen:6,effect:.0967},{reference_site:"350",wildtype:"R",mutant:"N",Escape:.0414,epitope:1,times_seen:5.6667,effect:-.1424},{reference_site:"350",wildtype:"R",mutant:"Q",Escape:-.0065,epitope:1,times_seen:2.6667,effect:.0934},{reference_site:"350",wildtype:"R",mutant:"S",Escape:.0128,epitope:1,times_seen:2,effect:-.3306},{reference_site:"350",wildtype:"R",mutant:"T",Escape:-.0011,epitope:1,times_seen:2.3333,effect:-.0913},{reference_site:"350",wildtype:"R",mutant:"V",Escape:-.011,epitope:1,times_seen:4,effect:-.2396},{reference_site:"350",wildtype:"R",mutant:"W",Escape:.0129,epitope:1,times_seen:2.3333,effect:-.2742},{reference_site:"350",wildtype:"R",mutant:"Y",Escape:.0898,epitope:1,times_seen:4.3333,effect:-.0797},{reference_site:"351",wildtype:"P",mutant:"A",Escape:.0029,epitope:1,times_seen:2.6667,effect:.0601},{reference_site:"351",wildtype:"P",mutant:"C",Escape:-.0384,epitope:1,times_seen:4.6667,effect:-.1263},{reference_site:"351",wildtype:"P",mutant:"D",Escape:.0229,epitope:1,times_seen:5.3333,effect:.0265},{reference_site:"351",wildtype:"P",mutant:"E",Escape:-.0612,epitope:1,times_seen:7.6667,effect:.0483},{reference_site:"351",wildtype:"P",mutant:"F",Escape:-.033,epitope:1,times_seen:8.3333,effect:.1015},{reference_site:"351",wildtype:"P",mutant:"G",Escape:-.0102,epitope:1,times_seen:2,effect:-.2576},{reference_site:"351",wildtype:"P",mutant:"H",Escape:-.003,epitope:1,times_seen:10.3333,effect:.0245},{reference_site:"351",wildtype:"P",mutant:"I",Escape:-.0076,epitope:1,times_seen:5,effect:.1069},{reference_site:"351",wildtype:"P",mutant:"K",Escape:.0301,epitope:1,times_seen:6.3333,effect:-.24},{reference_site:"351",wildtype:"P",mutant:"L",Escape:.0441,epitope:1,times_seen:10.3333,effect:.053},{reference_site:"351",wildtype:"P",mutant:"M",Escape:-.0123,epitope:1,times_seen:5.3333,effect:-.1603},{reference_site:"351",wildtype:"P",mutant:"N",Escape:-.004,epitope:1,times_seen:8,effect:-.0699},{reference_site:"351",wildtype:"P",mutant:"Q",Escape:.0336,epitope:1,times_seen:9,effect:-.1115},{reference_site:"351",wildtype:"P",mutant:"R",Escape:.0699,epitope:1,times_seen:3,effect:.0492},{reference_site:"351",wildtype:"P",mutant:"S",Escape:-.0843,epitope:1,times_seen:4.6667,effect:-.1268},{reference_site:"351",wildtype:"P",mutant:"T",Escape:.0138,epitope:1,times_seen:5.6667,effect:-.0332},{reference_site:"351",wildtype:"P",mutant:"V",Escape:-.033,epitope:1,times_seen:5.5,effect:-.0754},{reference_site:"351",wildtype:"P",mutant:"W",Escape:-.0349,epitope:1,times_seen:8,effect:-.0087},{reference_site:"351",wildtype:"P",mutant:"Y",Escape:-.0288,epitope:1,times_seen:7.6667,effect:-.17},{reference_site:"352",wildtype:"Y",mutant:"A",Escape:-.006,epitope:1,times_seen:2,effect:-.7035},{reference_site:"352",wildtype:"Y",mutant:"C",Escape:-.0223,epitope:1,times_seen:3.6667,effect:-.9835},{reference_site:"352",wildtype:"Y",mutant:"D",Escape:.0094,epitope:1,times_seen:1.3333,effect:-2.0837},{reference_site:"352",wildtype:"Y",mutant:"E",Escape:-.0301,epitope:1,times_seen:2,effect:-.8969},{reference_site:"352",wildtype:"Y",mutant:"F",Escape:-.0494,epitope:1,times_seen:6.3333,effect:-.1409},{reference_site:"352",wildtype:"Y",mutant:"H",Escape:-.0573,epitope:1,times_seen:6,effect:.0335},{reference_site:"352",wildtype:"Y",mutant:"I",Escape:-.013,epitope:1,times_seen:6,effect:-.3398},{reference_site:"352",wildtype:"Y",mutant:"K",Escape:-.0142,epitope:1,times_seen:2.3333,effect:-.2522},{reference_site:"352",wildtype:"Y",mutant:"L",Escape:.0199,epitope:1,times_seen:2.6667,effect:-.5108},{reference_site:"352",wildtype:"Y",mutant:"M",Escape:.0172,epitope:1,times_seen:5.3333,effect:-.3393},{reference_site:"352",wildtype:"Y",mutant:"N",Escape:-.0536,epitope:1,times_seen:3.5,effect:-.3084},{reference_site:"352",wildtype:"Y",mutant:"P",Escape:-.0011,epitope:1,times_seen:1.6667,effect:-1.6313},{reference_site:"352",wildtype:"Y",mutant:"Q",Escape:-.0608,epitope:1,times_seen:1,effect:-1.4997},{reference_site:"352",wildtype:"Y",mutant:"R",Escape:-.0174,epitope:1,times_seen:1.3333,effect:-.1905},{reference_site:"352",wildtype:"Y",mutant:"S",Escape:-.0231,epitope:1,times_seen:2.3333,effect:-.5826},{reference_site:"352",wildtype:"Y",mutant:"T",Escape:.0836,epitope:1,times_seen:2.6667,effect:-1.6944},{reference_site:"352",wildtype:"Y",mutant:"V",Escape:-.0472,epitope:1,times_seen:2,effect:-1.0242},{reference_site:"352",wildtype:"Y",mutant:"W",Escape:-.0553,epitope:1,times_seen:3.3333,effect:-.1266},{reference_site:"353",wildtype:"F",mutant:"A",Escape:.0038,epitope:1,times_seen:1,effect:-1.1185},{reference_site:"353",wildtype:"F",mutant:"C",Escape:-.0173,epitope:1,times_seen:2,effect:-1.1148},{reference_site:"353",wildtype:"F",mutant:"D",Escape:.0313,epitope:1,times_seen:1.3333,effect:-2.4288},{reference_site:"353",wildtype:"F",mutant:"G",Escape:.0129,epitope:1,times_seen:1.5,effect:-2.016},{reference_site:"353",wildtype:"F",mutant:"H",Escape:5e-4,epitope:1,times_seen:3,effect:-.6802},{reference_site:"353",wildtype:"F",mutant:"I",Escape:.0262,epitope:1,times_seen:2.6667,effect:-.4529},{reference_site:"353",wildtype:"F",mutant:"K",Escape:.0451,epitope:1,times_seen:1.5,effect:-2.9142},{reference_site:"353",wildtype:"F",mutant:"L",Escape:.0313,epitope:1,times_seen:4.3333,effect:-.658},{reference_site:"353",wildtype:"F",mutant:"N",Escape:.0742,epitope:1,times_seen:1,effect:-2.8788},{reference_site:"353",wildtype:"F",mutant:"P",Escape:.0041,epitope:1,times_seen:1,effect:-2.698},{reference_site:"353",wildtype:"F",mutant:"Q",Escape:.0383,epitope:1,times_seen:1,effect:-2.4038},{reference_site:"353",wildtype:"F",mutant:"S",Escape:-.0124,epitope:1,times_seen:1.5,effect:-1.1187},{reference_site:"353",wildtype:"F",mutant:"T",Escape:.0435,epitope:1,times_seen:5.3333,effect:-1.0401},{reference_site:"353",wildtype:"F",mutant:"V",Escape:.0602,epitope:1,times_seen:4.3333,effect:-.2689},{reference_site:"353",wildtype:"F",mutant:"W",Escape:.0028,epitope:1,times_seen:4.6667,effect:.1176},{reference_site:"353",wildtype:"F",mutant:"Y",Escape:.0076,epitope:1,times_seen:7,effect:-.1741},{reference_site:"354",wildtype:"K",mutant:"A",Escape:-.0157,epitope:1,times_seen:2.3333,effect:-.2179},{reference_site:"354",wildtype:"K",mutant:"C",Escape:-.0164,epitope:1,times_seen:2,effect:-.2104},{reference_site:"354",wildtype:"K",mutant:"D",Escape:-5e-4,epitope:1,times_seen:3.3333,effect:-.0813},{reference_site:"354",wildtype:"K",mutant:"E",Escape:.0137,epitope:1,times_seen:6.3333,effect:-.063},{reference_site:"354",wildtype:"K",mutant:"F",Escape:-.0307,epitope:1,times_seen:4,effect:-.0547},{reference_site:"354",wildtype:"K",mutant:"G",Escape:.0214,epitope:1,times_seen:4,effect:-.8494},{reference_site:"354",wildtype:"K",mutant:"H",Escape:-.0081,epitope:1,times_seen:2,effect:-.0534},{reference_site:"354",wildtype:"K",mutant:"I",Escape:-.0116,epitope:1,times_seen:5,effect:-.1569},{reference_site:"354",wildtype:"K",mutant:"L",Escape:-.019,epitope:1,times_seen:3.3333,effect:.2082},{reference_site:"354",wildtype:"K",mutant:"M",Escape:-.034,epitope:1,times_seen:7,effect:-.1228},{reference_site:"354",wildtype:"K",mutant:"N",Escape:-.0126,epitope:1,times_seen:11,effect:.1635},{reference_site:"354",wildtype:"K",mutant:"P",Escape:.0344,epitope:1,times_seen:5.6667,effect:-.1859},{reference_site:"354",wildtype:"K",mutant:"Q",Escape:.0033,epitope:1,times_seen:1.6667,effect:-.0437},{reference_site:"354",wildtype:"K",mutant:"R",Escape:-.0238,epitope:1,times_seen:8.6667,effect:-.1754},{reference_site:"354",wildtype:"K",mutant:"S",Escape:-.0212,epitope:1,times_seen:3.3333,effect:.2101},{reference_site:"354",wildtype:"K",mutant:"T",Escape:-.0078,epitope:1,times_seen:2.3333,effect:.1139},{reference_site:"354",wildtype:"K",mutant:"V",Escape:-.0119,epitope:1,times_seen:5.3333,effect:.0551},{reference_site:"354",wildtype:"K",mutant:"W",Escape:-.0137,epitope:1,times_seen:5.6667,effect:-.1514},{reference_site:"354",wildtype:"K",mutant:"Y",Escape:.0011,epitope:1,times_seen:3,effect:-.3081},{reference_site:"355",wildtype:"N",mutant:"A",Escape:.0021,epitope:1,times_seen:2,effect:-.4556},{reference_site:"355",wildtype:"N",mutant:"C",Escape:-.0136,epitope:1,times_seen:1,effect:-1.1003},{reference_site:"355",wildtype:"N",mutant:"D",Escape:.029,epitope:1,times_seen:3.6667,effect:-.1282},{reference_site:"355",wildtype:"N",mutant:"E",Escape:-.0111,epitope:1,times_seen:4.3333,effect:-.0465},{reference_site:"355",wildtype:"N",mutant:"F",Escape:-.0151,epitope:1,times_seen:5,effect:-.08},{reference_site:"355",wildtype:"N",mutant:"G",Escape:-.0051,epitope:1,times_seen:1,effect:-.932},{reference_site:"355",wildtype:"N",mutant:"H",Escape:-.008,epitope:1,times_seen:1.3333,effect:-.0803},{reference_site:"355",wildtype:"N",mutant:"I",Escape:.0248,epitope:1,times_seen:3.3333,effect:-.6962},{reference_site:"355",wildtype:"N",mutant:"K",Escape:.0055,epitope:1,times_seen:3.3333,effect:-.3411},{reference_site:"355",wildtype:"N",mutant:"L",Escape:-.0136,epitope:1,times_seen:1.6667,effect:-.3294},{reference_site:"355",wildtype:"N",mutant:"M",Escape:0,epitope:1,times_seen:3.3333,effect:-.3177},{reference_site:"355",wildtype:"N",mutant:"P",Escape:-.0028,epitope:1,times_seen:2,effect:-.1187},{reference_site:"355",wildtype:"N",mutant:"Q",Escape:.0148,epitope:1,times_seen:4.6667,effect:-.2794},{reference_site:"355",wildtype:"N",mutant:"R",Escape:-.0257,epitope:1,times_seen:6,effect:.217},{reference_site:"355",wildtype:"N",mutant:"S",Escape:-9e-4,epitope:1,times_seen:1.3333,effect:-.8571},{reference_site:"355",wildtype:"N",mutant:"T",Escape:-.0136,epitope:1,times_seen:2,effect:-.2673},{reference_site:"355",wildtype:"N",mutant:"V",Escape:-.0176,epitope:1,times_seen:3.6667,effect:-.0912},{reference_site:"355",wildtype:"N",mutant:"W",Escape:-.0085,epitope:1,times_seen:1,effect:-.384},{reference_site:"355",wildtype:"N",mutant:"Y",Escape:-.0216,epitope:1,times_seen:3,effect:-.3305},{reference_site:"356",wildtype:"N",mutant:"A",Escape:.0027,epitope:1,times_seen:1,effect:.072},{reference_site:"356",wildtype:"N",mutant:"C",Escape:.0173,epitope:1,times_seen:1.3333,effect:-.2966},{reference_site:"356",wildtype:"N",mutant:"D",Escape:-.0096,epitope:1,times_seen:5,effect:-.0659},{reference_site:"356",wildtype:"N",mutant:"E",Escape:-.0225,epitope:1,times_seen:3.3333,effect:.1677},{reference_site:"356",wildtype:"N",mutant:"F",Escape:-.0098,epitope:1,times_seen:2,effect:-.5771},{reference_site:"356",wildtype:"N",mutant:"G",Escape:-.0106,epitope:1,times_seen:1.3333,effect:-.016},{reference_site:"356",wildtype:"N",mutant:"H",Escape:.0044,epitope:1,times_seen:2.3333,effect:-.2269},{reference_site:"356",wildtype:"N",mutant:"I",Escape:-9e-4,epitope:1,times_seen:5.6667,effect:-.034},{reference_site:"356",wildtype:"N",mutant:"K",Escape:.0381,epitope:1,times_seen:11.3333,effect:-.0431},{reference_site:"356",wildtype:"N",mutant:"L",Escape:.0144,epitope:1,times_seen:2,effect:.0492},{reference_site:"356",wildtype:"N",mutant:"M",Escape:.017,epitope:1,times_seen:7.6667,effect:-.0068},{reference_site:"356",wildtype:"N",mutant:"P",Escape:.0823,epitope:1,times_seen:3,effect:-.2821},{reference_site:"356",wildtype:"N",mutant:"Q",Escape:-.0049,epitope:1,times_seen:2.6667,effect:-.3259},{reference_site:"356",wildtype:"N",mutant:"R",Escape:.0025,epitope:1,times_seen:1.3333,effect:-.323},{reference_site:"356",wildtype:"N",mutant:"S",Escape:-.0047,epitope:1,times_seen:2.6667,effect:-.284},{reference_site:"356",wildtype:"N",mutant:"T",Escape:.0093,epitope:1,times_seen:2,effect:.5346},{reference_site:"356",wildtype:"N",mutant:"V",Escape:.0277,epitope:1,times_seen:2.6667,effect:.0446},{reference_site:"356",wildtype:"N",mutant:"W",Escape:.0182,epitope:1,times_seen:3.5,effect:-.221},{reference_site:"356",wildtype:"N",mutant:"Y",Escape:.0181,epitope:1,times_seen:5.6667,effect:-.1014},{reference_site:"357",wildtype:"T",mutant:"A",Escape:.0485,epitope:1,times_seen:9.6667,effect:-.1242},{reference_site:"357",wildtype:"T",mutant:"C",Escape:.0049,epitope:1,times_seen:2.6667,effect:-.9162},{reference_site:"357",wildtype:"T",mutant:"D",Escape:.0071,epitope:1,times_seen:4,effect:-.4311},{reference_site:"357",wildtype:"T",mutant:"E",Escape:-8e-4,epitope:1,times_seen:2,effect:-.3845},{reference_site:"357",wildtype:"T",mutant:"F",Escape:-.0167,epitope:1,times_seen:2.3333,effect:-.3256},{reference_site:"357",wildtype:"T",mutant:"G",Escape:.0037,epitope:1,times_seen:5.3333,effect:-.6964},{reference_site:"357",wildtype:"T",mutant:"H",Escape:-.0035,epitope:1,times_seen:5,effect:-.2501},{reference_site:"357",wildtype:"T",mutant:"I",Escape:-.0388,epitope:1,times_seen:6,effect:-.2518},{reference_site:"357",wildtype:"T",mutant:"K",Escape:-.0096,epitope:1,times_seen:1.6667,effect:-.1819},{reference_site:"357",wildtype:"T",mutant:"L",Escape:-.0228,epitope:1,times_seen:3,effect:.3451},{reference_site:"357",wildtype:"T",mutant:"M",Escape:.0066,epitope:1,times_seen:5.5,effect:-.8379},{reference_site:"357",wildtype:"T",mutant:"N",Escape:-.0174,epitope:1,times_seen:3,effect:.2741},{reference_site:"357",wildtype:"T",mutant:"P",Escape:-.031,epitope:1,times_seen:6.6667,effect:-.0529},{reference_site:"357",wildtype:"T",mutant:"Q",Escape:-.0268,epitope:1,times_seen:2.3333,effect:.1207},{reference_site:"357",wildtype:"T",mutant:"R",Escape:-.0082,epitope:1,times_seen:1.3333,effect:-.24},{reference_site:"357",wildtype:"T",mutant:"S",Escape:.0184,epitope:1,times_seen:4,effect:-.0293},{reference_site:"357",wildtype:"T",mutant:"V",Escape:-.0178,epitope:1,times_seen:2.6667,effect:.112},{reference_site:"357",wildtype:"T",mutant:"W",Escape:-.0097,epitope:1,times_seen:2.3333,effect:-.5348},{reference_site:"357",wildtype:"T",mutant:"Y",Escape:.0213,epitope:1,times_seen:3.3333,effect:-.6881},{reference_site:"358",wildtype:"I",mutant:"A",Escape:-.0068,epitope:1,times_seen:3.6667,effect:.1997},{reference_site:"358",wildtype:"I",mutant:"C",Escape:.0082,epitope:1,times_seen:2.3333,effect:-.8529},{reference_site:"358",wildtype:"I",mutant:"D",Escape:-.0182,epitope:1,times_seen:5,effect:.0402},{reference_site:"358",wildtype:"I",mutant:"E",Escape:-.0335,epitope:1,times_seen:2,effect:-.0998},{reference_site:"358",wildtype:"I",mutant:"F",Escape:-.0178,epitope:1,times_seen:3.6667,effect:-.1154},{reference_site:"358",wildtype:"I",mutant:"G",Escape:-.0141,epitope:1,times_seen:2,effect:.0518},{reference_site:"358",wildtype:"I",mutant:"H",Escape:-.0096,epitope:1,times_seen:2,effect:-.5642},{reference_site:"358",wildtype:"I",mutant:"K",Escape:-.0376,epitope:1,times_seen:4.6667,effect:-.1855},{reference_site:"358",wildtype:"I",mutant:"L",Escape:.0142,epitope:1,times_seen:2.3333,effect:-.2389},{reference_site:"358",wildtype:"I",mutant:"M",Escape:-.0176,epitope:1,times_seen:2.6667,effect:-.1517},{reference_site:"358",wildtype:"I",mutant:"N",Escape:-.0391,epitope:1,times_seen:5.6667,effect:.0124},{reference_site:"358",wildtype:"I",mutant:"P",Escape:-.0251,epitope:1,times_seen:2.3333,effect:-.6759},{reference_site:"358",wildtype:"I",mutant:"Q",Escape:.0012,epitope:1,times_seen:1,effect:-.1135},{reference_site:"358",wildtype:"I",mutant:"R",Escape:-.0053,epitope:1,times_seen:1,effect:.2712},{reference_site:"358",wildtype:"I",mutant:"S",Escape:-.0094,epitope:1,times_seen:3.3333,effect:-.1349},{reference_site:"358",wildtype:"I",mutant:"T",Escape:.0232,epitope:1,times_seen:5.6667,effect:-.0938},{reference_site:"358",wildtype:"I",mutant:"V",Escape:.0121,epitope:1,times_seen:3.6667,effect:-.0829},{reference_site:"358",wildtype:"I",mutant:"W",Escape:-.0341,epitope:1,times_seen:3.3333,effect:-.0466},{reference_site:"358",wildtype:"I",mutant:"Y",Escape:-.0296,epitope:1,times_seen:4.3333,effect:-.0904},{reference_site:"359",wildtype:"I",mutant:"L",Escape:-.0079,epitope:1,times_seen:1.6667,effect:-.4436},{reference_site:"359",wildtype:"I",mutant:"M",Escape:.0031,epitope:1,times_seen:1.6667,effect:-.1229},{reference_site:"359",wildtype:"I",mutant:"N",Escape:.0092,epitope:1,times_seen:1,effect:-3.2485},{reference_site:"359",wildtype:"I",mutant:"T",Escape:.015,epitope:1,times_seen:1.6667,effect:-2.4891},{reference_site:"359",wildtype:"I",mutant:"V",Escape:-5e-4,epitope:1,times_seen:1.3333,effect:-.3133},{reference_site:"360",wildtype:"K",mutant:"A",Escape:-.0188,epitope:1,times_seen:1.3333,effect:-.3061},{reference_site:"360",wildtype:"K",mutant:"D",Escape:-.0135,epitope:1,times_seen:2.3333,effect:-.8739},{reference_site:"360",wildtype:"K",mutant:"E",Escape:-.1232,epitope:1,times_seen:11,effect:.1396},{reference_site:"360",wildtype:"K",mutant:"F",Escape:.0132,epitope:1,times_seen:1.6667,effect:-.2215},{reference_site:"360",wildtype:"K",mutant:"H",Escape:-.0386,epitope:1,times_seen:5,effect:-.0882},{reference_site:"360",wildtype:"K",mutant:"I",Escape:-.0058,epitope:1,times_seen:1,effect:-.7817},{reference_site:"360",wildtype:"K",mutant:"L",Escape:-.0209,epitope:1,times_seen:5,effect:-.4519},{reference_site:"360",wildtype:"K",mutant:"M",Escape:-.0253,epitope:1,times_seen:4.3333,effect:-.0144},{reference_site:"360",wildtype:"K",mutant:"N",Escape:-.0112,epitope:1,times_seen:9.6667,effect:.1172},{reference_site:"360",wildtype:"K",mutant:"Q",Escape:-.0417,epitope:1,times_seen:8.3333,effect:-.0202},{reference_site:"360",wildtype:"K",mutant:"R",Escape:.0377,epitope:1,times_seen:5.3333,effect:-.4275},{reference_site:"360",wildtype:"K",mutant:"S",Escape:-.0048,epitope:1,times_seen:3,effect:-.1216},{reference_site:"360",wildtype:"K",mutant:"T",Escape:-.057,epitope:1,times_seen:4,effect:.0224},{reference_site:"360",wildtype:"K",mutant:"V",Escape:-.0557,epitope:1,times_seen:4,effect:-.1484},{reference_site:"360",wildtype:"K",mutant:"Y",Escape:-.013,epitope:1,times_seen:4.6667,effect:.0975},{reference_site:"361",wildtype:"F",mutant:"A",Escape:.0262,epitope:1,times_seen:1,effect:-3.0561},{reference_site:"361",wildtype:"F",mutant:"D",Escape:.0762,epitope:1,times_seen:2,effect:-3.3836},{reference_site:"361",wildtype:"F",mutant:"E",Escape:.0486,epitope:1,times_seen:1,effect:-3.2019},{reference_site:"361",wildtype:"F",mutant:"I",Escape:.0287,epitope:1,times_seen:1.6667,effect:-2.677},{reference_site:"361",wildtype:"F",mutant:"L",Escape:.0087,epitope:1,times_seen:2,effect:-1.7579},{reference_site:"361",wildtype:"F",mutant:"Q",Escape:.0435,epitope:1,times_seen:1,effect:-2.2936},{reference_site:"361",wildtype:"F",mutant:"S",Escape:.018,epitope:1,times_seen:1,effect:-2.6076},{reference_site:"361",wildtype:"F",mutant:"T",Escape:.0125,epitope:1,times_seen:1,effect:-1.8078},{reference_site:"361",wildtype:"F",mutant:"Y",Escape:-.0165,epitope:1,times_seen:10.3333,effect:-.087},{reference_site:"362",wildtype:"A",mutant:"C",Escape:.0044,epitope:1,times_seen:1.6667,effect:-.3502},{reference_site:"362",wildtype:"A",mutant:"D",Escape:-.0669,epitope:1,times_seen:14,effect:-.0992},{reference_site:"362",wildtype:"A",mutant:"E",Escape:-.0309,epitope:1,times_seen:7,effect:.0849},{reference_site:"362",wildtype:"A",mutant:"F",Escape:-.0249,epitope:1,times_seen:5.6667,effect:-.5757},{reference_site:"362",wildtype:"A",mutant:"G",Escape:.0313,epitope:1,times_seen:3,effect:-.9996},{reference_site:"362",wildtype:"A",mutant:"H",Escape:-.0752,epitope:1,times_seen:2.6667,effect:-.5445},{reference_site:"362",wildtype:"A",mutant:"I",Escape:.0022,epitope:1,times_seen:1.6667,effect:-.537},{reference_site:"362",wildtype:"A",mutant:"K",Escape:-.0185,epitope:1,times_seen:6.3333,effect:-.1123},{reference_site:"362",wildtype:"A",mutant:"L",Escape:.0135,epitope:1,times_seen:3.3333,effect:.0414},{reference_site:"362",wildtype:"A",mutant:"M",Escape:.0325,epitope:1,times_seen:5.3333,effect:-.1783},{reference_site:"362",wildtype:"A",mutant:"N",Escape:.0613,epitope:1,times_seen:10,effect:-.1628},{reference_site:"362",wildtype:"A",mutant:"P",Escape:.0621,epitope:1,times_seen:1,effect:-3.0786},{reference_site:"362",wildtype:"A",mutant:"Q",Escape:-.0076,epitope:1,times_seen:4.3333,effect:.0447},{reference_site:"362",wildtype:"A",mutant:"R",Escape:-.0253,epitope:1,times_seen:1.5,effect:-.1505},{reference_site:"362",wildtype:"A",mutant:"S",Escape:-.0247,epitope:1,times_seen:20.6667,effect:-.0718},{reference_site:"362",wildtype:"A",mutant:"T",Escape:-.0476,epitope:1,times_seen:18.3333,effect:-.1984},{reference_site:"362",wildtype:"A",mutant:"V",Escape:-.0533,epitope:1,times_seen:8.6667,effect:-.1593},{reference_site:"362",wildtype:"A",mutant:"W",Escape:.0204,epitope:1,times_seen:3.6667,effect:-.6785},{reference_site:"362",wildtype:"A",mutant:"Y",Escape:-.012,epitope:1,times_seen:4.3333,effect:-.662},{reference_site:"363",wildtype:"N",mutant:"C",Escape:-.025,epitope:1,times_seen:1,effect:-.6284},{reference_site:"363",wildtype:"N",mutant:"E",Escape:-.0077,epitope:1,times_seen:1.5,effect:-.5896},{reference_site:"363",wildtype:"N",mutant:"F",Escape:.0034,epitope:1,times_seen:1.3333,effect:-1.7142},{reference_site:"363",wildtype:"N",mutant:"G",Escape:.0105,epitope:1,times_seen:1,effect:-.3944},{reference_site:"363",wildtype:"N",mutant:"H",Escape:-.0041,epitope:1,times_seen:2.3333,effect:-.2999},{reference_site:"363",wildtype:"N",mutant:"I",Escape:-.0215,epitope:1,times_seen:2.6667,effect:-.3751},{reference_site:"363",wildtype:"N",mutant:"K",Escape:-.017,epitope:1,times_seen:4.6667,effect:-.2409},{reference_site:"363",wildtype:"N",mutant:"M",Escape:.0243,epitope:1,times_seen:2.3333,effect:-.2038},{reference_site:"363",wildtype:"N",mutant:"Q",Escape:.0119,epitope:1,times_seen:3.3333,effect:.1981},{reference_site:"363",wildtype:"N",mutant:"R",Escape:-.0033,epitope:1,times_seen:2.6667,effect:-.2959},{reference_site:"363",wildtype:"N",mutant:"S",Escape:-.0305,epitope:1,times_seen:3.6667,effect:-.2098},{reference_site:"363",wildtype:"N",mutant:"T",Escape:.0205,epitope:1,times_seen:5.6667,effect:-.5334},{reference_site:"363",wildtype:"N",mutant:"V",Escape:.0066,epitope:1,times_seen:2,effect:-.241},{reference_site:"363",wildtype:"N",mutant:"-",Escape:.009,epitope:1,times_seen:1,effect:.4595},{reference_site:"364",wildtype:"S",mutant:"A",Escape:-.0041,epitope:1,times_seen:3,effect:-.5706},{reference_site:"364",wildtype:"S",mutant:"G",Escape:-.0194,epitope:1,times_seen:1,effect:-2.8356},{reference_site:"364",wildtype:"S",mutant:"H",Escape:.0565,epitope:1,times_seen:6.6667,effect:-.4663},{reference_site:"364",wildtype:"S",mutant:"I",Escape:-.0064,epitope:1,times_seen:1,effect:-3.5188},{reference_site:"364",wildtype:"S",mutant:"N",Escape:-.0222,epitope:1,times_seen:18.3333,effect:-.2811},{reference_site:"364",wildtype:"S",mutant:"P",Escape:-.0255,epitope:1,times_seen:3.6667,effect:-.6992},{reference_site:"364",wildtype:"S",mutant:"R",Escape:.0124,epitope:1,times_seen:1,effect:-3.2029},{reference_site:"364",wildtype:"S",mutant:"T",Escape:.0214,epitope:1,times_seen:5,effect:-2.7122},{reference_site:"364",wildtype:"S",mutant:"Y",Escape:.0243,epitope:1,times_seen:1,effect:-2.9889},{reference_site:"365",wildtype:"S",mutant:"C",Escape:-.0131,epitope:1,times_seen:1,effect:-.7516},{reference_site:"365",wildtype:"S",mutant:"G",Escape:-.0153,epitope:1,times_seen:2.3333,effect:-1.6801},{reference_site:"365",wildtype:"S",mutant:"I",Escape:.0065,epitope:1,times_seen:2,effect:-2.833},{reference_site:"365",wildtype:"S",mutant:"K",Escape:.0228,epitope:1,times_seen:1,effect:-2.7903},{reference_site:"365",wildtype:"S",mutant:"N",Escape:.0145,epitope:1,times_seen:1,effect:-2.2307},{reference_site:"365",wildtype:"S",mutant:"P",Escape:.0115,epitope:1,times_seen:1.3333,effect:-1.2571},{reference_site:"365",wildtype:"S",mutant:"R",Escape:.0639,epitope:1,times_seen:1,effect:-2.8525},{reference_site:"365",wildtype:"S",mutant:"T",Escape:.0118,epitope:1,times_seen:2.5,effect:-1.2178},{reference_site:"365",wildtype:"S",mutant:"Y",Escape:.0106,epitope:1,times_seen:2,effect:-1.9412},{reference_site:"366",wildtype:"G",mutant:"C",Escape:.0429,epitope:1,times_seen:2.5,effect:-2.9104},{reference_site:"366",wildtype:"G",mutant:"E",Escape:.01,epitope:1,times_seen:1.3333,effect:-2.2186},{reference_site:"366",wildtype:"G",mutant:"R",Escape:.0073,epitope:1,times_seen:2,effect:-3.1981},{reference_site:"366",wildtype:"G",mutant:"S",Escape:.0068,epitope:1,times_seen:1,effect:-3.1327},{reference_site:"366",wildtype:"G",mutant:"V",Escape:-.0206,epitope:1,times_seen:1,effect:-3.1065},{reference_site:"366",wildtype:"G",mutant:"-",Escape:.202,epitope:1,times_seen:1,effect:-1.2042},{reference_site:"367",wildtype:"G",mutant:"C",Escape:.042,epitope:1,times_seen:2.5,effect:-3.1365},{reference_site:"367",wildtype:"G",mutant:"D",Escape:.0049,epitope:1,times_seen:1,effect:-2.7614},{reference_site:"367",wildtype:"G",mutant:"E",Escape:-.0048,epitope:1,times_seen:1,effect:-2.0961},{reference_site:"367",wildtype:"G",mutant:"V",Escape:.0062,epitope:1,times_seen:1,effect:-3.0588},{reference_site:"367",wildtype:"G",mutant:"W",Escape:-.0178,epitope:1,times_seen:1,effect:1.7497},{reference_site:"368",wildtype:"D",mutant:"A",Escape:.0108,epitope:1,times_seen:1.3333,effect:-3.6184},{reference_site:"368",wildtype:"D",mutant:"E",Escape:-.0194,epitope:1,times_seen:3,effect:-3.2011},{reference_site:"368",wildtype:"D",mutant:"G",Escape:-.0136,epitope:1,times_seen:1,effect:-3.5874},{reference_site:"368",wildtype:"D",mutant:"N",Escape:.0933,epitope:1,times_seen:4.6667,effect:-3.3002},{reference_site:"368",wildtype:"D",mutant:"T",Escape:.0256,epitope:1,times_seen:2.5,effect:-3.052},{reference_site:"368",wildtype:"D",mutant:"Y",Escape:.0057,epitope:1,times_seen:1,effect:-2.0807},{reference_site:"369",wildtype:"L",mutant:"A",Escape:.0116,epitope:1,times_seen:3,effect:-.7788},{reference_site:"369",wildtype:"L",mutant:"F",Escape:.0904,epitope:1,times_seen:6,effect:-.1993},{reference_site:"369",wildtype:"L",mutant:"H",Escape:-.0199,epitope:1,times_seen:17.3333,effect:-.4445},{reference_site:"369",wildtype:"L",mutant:"I",Escape:.0689,epitope:1,times_seen:7,effect:-.3576},{reference_site:"369",wildtype:"L",mutant:"M",Escape:-.0554,epitope:1,times_seen:23,effect:.1334},{reference_site:"369",wildtype:"L",mutant:"N",Escape:-.012,epitope:1,times_seen:1,effect:-1.2762},{reference_site:"369",wildtype:"L",mutant:"P",Escape:.0343,epitope:1,times_seen:10.3333,effect:-.8214},{reference_site:"369",wildtype:"L",mutant:"Q",Escape:-.0138,epitope:1,times_seen:15.6667,effect:-.6486},{reference_site:"369",wildtype:"L",mutant:"R",Escape:.0537,epitope:1,times_seen:5,effect:-.9084},{reference_site:"369",wildtype:"L",mutant:"T",Escape:.0264,epitope:1,times_seen:4,effect:-1.3834},{reference_site:"369",wildtype:"L",mutant:"V",Escape:.2255,epitope:1,times_seen:14,effect:-.3859},{reference_site:"369",wildtype:"L",mutant:"W",Escape:.0568,epitope:1,times_seen:6.3333,effect:-.6372},{reference_site:"369",wildtype:"L",mutant:"Y",Escape:.0352,epitope:1,times_seen:1.6667,effect:-.3495},{reference_site:"370",wildtype:"E",mutant:"N",Escape:.0116,epitope:1,times_seen:3,effect:-3.3402},{reference_site:"370",wildtype:"E",mutant:"Q",Escape:.0211,epitope:1,times_seen:2,effect:-3.3113},{reference_site:"371",wildtype:"I",mutant:"L",Escape:.0129,epitope:1,times_seen:1,effect:-1.6235},{reference_site:"371",wildtype:"I",mutant:"M",Escape:.0179,epitope:1,times_seen:1,effect:-3.0293},{reference_site:"371",wildtype:"I",mutant:"S",Escape:-.008,epitope:1,times_seen:1.5,effect:-3.2654},{reference_site:"371",wildtype:"I",mutant:"V",Escape:.0176,epitope:1,times_seen:2,effect:-.8491},{reference_site:"372",wildtype:"T",mutant:"A",Escape:.0666,epitope:1,times_seen:6,effect:-.1209},{reference_site:"372",wildtype:"T",mutant:"C",Escape:-.0069,epitope:1,times_seen:2.5,effect:-1.3862},{reference_site:"372",wildtype:"T",mutant:"E",Escape:.0177,epitope:1,times_seen:2,effect:-.1567},{reference_site:"372",wildtype:"T",mutant:"F",Escape:-.0031,epitope:1,times_seen:1,effect:-2.9116},{reference_site:"372",wildtype:"T",mutant:"G",Escape:.1026,epitope:1,times_seen:2,effect:-.7668},{reference_site:"372",wildtype:"T",mutant:"I",Escape:.0715,epitope:1,times_seen:10,effect:.0042},{reference_site:"372",wildtype:"T",mutant:"K",Escape:-.021,epitope:1,times_seen:1,effect:-1.2012},{reference_site:"372",wildtype:"T",mutant:"L",Escape:.0102,epitope:1,times_seen:2.6667,effect:-1.5528},{reference_site:"372",wildtype:"T",mutant:"M",Escape:.0318,epitope:1,times_seen:6.6667,effect:-.6543},{reference_site:"372",wildtype:"T",mutant:"N",Escape:-.0236,epitope:1,times_seen:2.3333,effect:-2.9557},{reference_site:"372",wildtype:"T",mutant:"Q",Escape:-.0066,epitope:1,times_seen:1,effect:-1.3478},{reference_site:"372",wildtype:"T",mutant:"R",Escape:.0072,epitope:1,times_seen:1,effect:-1.634},{reference_site:"372",wildtype:"T",mutant:"S",Escape:-.0055,epitope:1,times_seen:6,effect:-.6048},{reference_site:"372",wildtype:"T",mutant:"V",Escape:.0066,epitope:1,times_seen:1,effect:-.0786},{reference_site:"373",wildtype:"T",mutant:"A",Escape:-.007,epitope:1,times_seen:4.3333,effect:-.2993},{reference_site:"373",wildtype:"T",mutant:"D",Escape:-.0081,epitope:1,times_seen:3,effect:-.4747},{reference_site:"373",wildtype:"T",mutant:"E",Escape:-.0121,epitope:1,times_seen:2,effect:-.6176},{reference_site:"373",wildtype:"T",mutant:"F",Escape:.1341,epitope:1,times_seen:4.6667,effect:-.2185},{reference_site:"373",wildtype:"T",mutant:"H",Escape:.0138,epitope:1,times_seen:4.3333,effect:-.2462},{reference_site:"373",wildtype:"T",mutant:"I",Escape:-.0288,epitope:1,times_seen:1,effect:-2.1209},{reference_site:"373",wildtype:"T",mutant:"K",Escape:-.0207,epitope:1,times_seen:2,effect:-1.0025},{reference_site:"373",wildtype:"T",mutant:"L",Escape:.0215,epitope:1,times_seen:1,effect:-.9156},{reference_site:"373",wildtype:"T",mutant:"M",Escape:.0128,epitope:1,times_seen:2.6667,effect:-.4128},{reference_site:"373",wildtype:"T",mutant:"N",Escape:.0457,epitope:1,times_seen:3.6667,effect:-1.107},{reference_site:"373",wildtype:"T",mutant:"Q",Escape:.0225,epitope:1,times_seen:1.6667,effect:-.3581},{reference_site:"373",wildtype:"T",mutant:"R",Escape:-.0168,epitope:1,times_seen:1,effect:-1.3129},{reference_site:"373",wildtype:"T",mutant:"S",Escape:-.0253,epitope:1,times_seen:3.3333,effect:-.2888},{reference_site:"373",wildtype:"T",mutant:"W",Escape:.0282,epitope:1,times_seen:1,effect:-1.4045},{reference_site:"373",wildtype:"T",mutant:"Y",Escape:.0377,epitope:1,times_seen:3,effect:-.9802},{reference_site:"374",wildtype:"H",mutant:"A",Escape:-.0031,epitope:1,times_seen:4,effect:-.3349},{reference_site:"374",wildtype:"H",mutant:"C",Escape:-.0568,epitope:1,times_seen:7.6667,effect:-.0732},{reference_site:"374",wildtype:"H",mutant:"D",Escape:.01,epitope:1,times_seen:1,effect:-2.7204},{reference_site:"374",wildtype:"H",mutant:"F",Escape:-.0026,epitope:1,times_seen:5.3333,effect:-.6282},{reference_site:"374",wildtype:"H",mutant:"I",Escape:.0589,epitope:1,times_seen:1.5,effect:-3.2712},{reference_site:"374",wildtype:"H",mutant:"L",Escape:-.0016,epitope:1,times_seen:2,effect:-1.345},{reference_site:"374",wildtype:"H",mutant:"N",Escape:-.0951,epitope:1,times_seen:19.3333,effect:-.8314},{reference_site:"374",wildtype:"H",mutant:"Q",Escape:.0036,epitope:1,times_seen:3,effect:-1.9057},{reference_site:"374",wildtype:"H",mutant:"R",Escape:.02,epitope:1,times_seen:1,effect:-2.9365},{reference_site:"374",wildtype:"H",mutant:"S",Escape:-.0039,epitope:1,times_seen:6.6667,effect:-.0401},{reference_site:"374",wildtype:"H",mutant:"T",Escape:.0119,epitope:1,times_seen:4,effect:-.2881},{reference_site:"374",wildtype:"H",mutant:"W",Escape:-.0043,epitope:1,times_seen:2.6667,effect:-.6197},{reference_site:"374",wildtype:"H",mutant:"Y",Escape:.0019,epitope:1,times_seen:8.3333,effect:-.8802},{reference_site:"375",wildtype:"S",mutant:"A",Escape:-.0133,epitope:1,times_seen:2.3333,effect:-.4222},{reference_site:"375",wildtype:"S",mutant:"C",Escape:-.0404,epitope:1,times_seen:9.3333,effect:-.4777},{reference_site:"375",wildtype:"S",mutant:"F",Escape:.0056,epitope:1,times_seen:6.3333,effect:-.6751},{reference_site:"375",wildtype:"S",mutant:"G",Escape:-.0313,epitope:1,times_seen:2.6667,effect:-1.6836},{reference_site:"375",wildtype:"S",mutant:"H",Escape:.2598,epitope:1,times_seen:6.3333,effect:.0748},{reference_site:"375",wildtype:"S",mutant:"I",Escape:-.0853,epitope:1,times_seen:12,effect:-.6496},{reference_site:"375",wildtype:"S",mutant:"L",Escape:-.0313,epitope:1,times_seen:2,effect:-.4094},{reference_site:"375",wildtype:"S",mutant:"M",Escape:-.0688,epitope:1,times_seen:11.6667,effect:-.0848},{reference_site:"375",wildtype:"S",mutant:"N",Escape:.0196,epitope:1,times_seen:14.6667,effect:-.5074},{reference_site:"375",wildtype:"S",mutant:"Q",Escape:.0267,epitope:1,times_seen:2.3333,effect:-.5586},{reference_site:"375",wildtype:"S",mutant:"R",Escape:.0026,epitope:1,times_seen:1,effect:-2.8778},{reference_site:"375",wildtype:"S",mutant:"T",Escape:.0525,epitope:1,times_seen:12.3333,effect:-.0051},{reference_site:"375",wildtype:"S",mutant:"V",Escape:.0111,epitope:1,times_seen:2,effect:-.7293},{reference_site:"375",wildtype:"S",mutant:"W",Escape:-.0137,epitope:1,times_seen:2.3333,effect:-1.1315},{reference_site:"375",wildtype:"S",mutant:"Y",Escape:.3914,epitope:1,times_seen:11,effect:-.0392},{reference_site:"376",wildtype:"F",mutant:"C",Escape:.0074,epitope:1,times_seen:1,effect:-.7902},{reference_site:"376",wildtype:"F",mutant:"I",Escape:-.0118,epitope:1,times_seen:1,effect:-1.6777},{reference_site:"376",wildtype:"F",mutant:"L",Escape:-.0233,epitope:1,times_seen:1.6667,effect:-1.3444},{reference_site:"376",wildtype:"F",mutant:"Q",Escape:-.0111,epitope:1,times_seen:1,effect:-2.0764},{reference_site:"376",wildtype:"F",mutant:"S",Escape:-.0082,epitope:1,times_seen:2,effect:-2.1911},{reference_site:"376",wildtype:"F",mutant:"V",Escape:-.002,epitope:1,times_seen:1,effect:-1.0898},{reference_site:"376",wildtype:"F",mutant:"Y",Escape:-.0117,epitope:1,times_seen:6.6667,effect:-.8306},{reference_site:"377",wildtype:"N",mutant:"C",Escape:-.0065,epitope:1,times_seen:1,effect:.588},{reference_site:"377",wildtype:"N",mutant:"D",Escape:-.0067,epitope:1,times_seen:2,effect:-1.0861},{reference_site:"377",wildtype:"N",mutant:"F",Escape:-.0194,epitope:1,times_seen:2.6667,effect:-.6736},{reference_site:"377",wildtype:"N",mutant:"H",Escape:.0157,epitope:1,times_seen:2.6667,effect:-.7491},{reference_site:"377",wildtype:"N",mutant:"I",Escape:.0024,epitope:1,times_seen:4,effect:-.6535},{reference_site:"377",wildtype:"N",mutant:"K",Escape:-.0129,epitope:1,times_seen:3.6667,effect:-2.129},{reference_site:"377",wildtype:"N",mutant:"M",Escape:-.0238,epitope:1,times_seen:5.3333,effect:-.0723},{reference_site:"377",wildtype:"N",mutant:"Q",Escape:.0092,epitope:1,times_seen:1,effect:-.5578},{reference_site:"377",wildtype:"N",mutant:"S",Escape:-7e-4,epitope:1,times_seen:3,effect:.0915},{reference_site:"377",wildtype:"N",mutant:"T",Escape:.0433,epitope:1,times_seen:5.6667,effect:-.2036},{reference_site:"377",wildtype:"N",mutant:"V",Escape:.1197,epitope:1,times_seen:2,effect:-.5572},{reference_site:"377",wildtype:"N",mutant:"W",Escape:.0063,epitope:1,times_seen:2,effect:-1.3697},{reference_site:"377",wildtype:"N",mutant:"Y",Escape:.0225,epitope:1,times_seen:3.6667,effect:-1.405},{reference_site:"378",wildtype:"C",mutant:"F",Escape:-.0022,epitope:1,times_seen:2,effect:-1.767},{reference_site:"378",wildtype:"C",mutant:"G",Escape:.0222,epitope:1,times_seen:1.3333,effect:-3.0405},{reference_site:"378",wildtype:"C",mutant:"W",Escape:.005,epitope:1,times_seen:1.6667,effect:-3.3471},{reference_site:"378",wildtype:"C",mutant:"Y",Escape:-.0025,epitope:1,times_seen:1,effect:-2.3613},{reference_site:"378",wildtype:"C",mutant:"*",Escape:-.0038,epitope:1,times_seen:1,effect:-1.5886},{reference_site:"379",wildtype:"G",mutant:"A",Escape:-.0401,epitope:1,times_seen:6.6667,effect:-.2175},{reference_site:"379",wildtype:"G",mutant:"C",Escape:.2037,epitope:1,times_seen:3.6667,effect:-2.9001},{reference_site:"379",wildtype:"G",mutant:"D",Escape:.1851,epitope:1,times_seen:12,effect:-.4161},{reference_site:"379",wildtype:"G",mutant:"E",Escape:.2303,epitope:1,times_seen:6.6667,effect:-.7278},{reference_site:"379",wildtype:"G",mutant:"F",Escape:-.0251,epitope:1,times_seen:5,effect:-.9647},{reference_site:"379",wildtype:"G",mutant:"H",Escape:-.0562,epitope:1,times_seen:5,effect:-.6984},{reference_site:"379",wildtype:"G",mutant:"I",Escape:-.0052,epitope:1,times_seen:5.6667,effect:-.9212},{reference_site:"379",wildtype:"G",mutant:"K",Escape:-.0952,epitope:1,times_seen:5,effect:-.3293},{reference_site:"379",wildtype:"G",mutant:"L",Escape:.0101,epitope:1,times_seen:5.3333,effect:-.3214},{reference_site:"379",wildtype:"G",mutant:"M",Escape:-.0241,epitope:1,times_seen:4,effect:.033},{reference_site:"379",wildtype:"G",mutant:"N",Escape:-.0346,epitope:1,times_seen:4.6667,effect:-.5673},{reference_site:"379",wildtype:"G",mutant:"Q",Escape:.0023,epitope:1,times_seen:5,effect:-.291},{reference_site:"379",wildtype:"G",mutant:"R",Escape:-.0935,epitope:1,times_seen:4,effect:-.4999},{reference_site:"379",wildtype:"G",mutant:"S",Escape:.0049,epitope:1,times_seen:1.6667,effect:-3.4826},{reference_site:"379",wildtype:"G",mutant:"V",Escape:-.0189,epitope:1,times_seen:6.3333,effect:-.7247},{reference_site:"379",wildtype:"G",mutant:"W",Escape:.045,epitope:1,times_seen:1.6667,effect:-.4581},{reference_site:"379",wildtype:"G",mutant:"Y",Escape:-.0424,epitope:1,times_seen:7.6667,effect:-.9346},{reference_site:"380",wildtype:"G",mutant:"C",Escape:.027,epitope:1,times_seen:1.5,effect:-2.6374},{reference_site:"380",wildtype:"G",mutant:"D",Escape:.0459,epitope:1,times_seen:1.5,effect:-1.5102},{reference_site:"380",wildtype:"G",mutant:"E",Escape:.0077,epitope:1,times_seen:1,effect:-2.6986},{reference_site:"380",wildtype:"G",mutant:"Q",Escape:-5e-4,epitope:1,times_seen:2,effect:-.6709},{reference_site:"380",wildtype:"G",mutant:"R",Escape:-.0188,epitope:1,times_seen:3,effect:-1.329},{reference_site:"380",wildtype:"G",mutant:"S",Escape:-.0113,epitope:1,times_seen:4,effect:-1.1206},{reference_site:"380",wildtype:"G",mutant:"W",Escape:-.0252,epitope:1,times_seen:2,effect:-1.9141},{reference_site:"381",wildtype:"E",mutant:"D",Escape:.0192,epitope:1,times_seen:10.3333,effect:-.8381},{reference_site:"381",wildtype:"E",mutant:"F",Escape:.0097,epitope:1,times_seen:1,effect:-2.7059},{reference_site:"381",wildtype:"E",mutant:"G",Escape:-.0023,epitope:1,times_seen:1,effect:-3.1214},{reference_site:"381",wildtype:"E",mutant:"K",Escape:.0529,epitope:1,times_seen:2.5,effect:-2.8793},{reference_site:"381",wildtype:"E",mutant:"M",Escape:-.0596,epitope:1,times_seen:5.3333,effect:-1.3532},{reference_site:"381",wildtype:"E",mutant:"N",Escape:-.0375,epitope:1,times_seen:4.6667,effect:-.5552},{reference_site:"381",wildtype:"E",mutant:"Q",Escape:-.0585,epitope:1,times_seen:6.6667,effect:-.4388},{reference_site:"381",wildtype:"E",mutant:"V",Escape:.079,epitope:1,times_seen:3,effect:-3.3095},{reference_site:"382",wildtype:"F",mutant:"L",Escape:.0562,epitope:1,times_seen:1.3333,effect:-3.4207},{reference_site:"382",wildtype:"F",mutant:"V",Escape:.0211,epitope:1,times_seen:1,effect:-3.3238},{reference_site:"382",wildtype:"F",mutant:"W",Escape:-.0658,epitope:1,times_seen:10,effect:-.3857},{reference_site:"382",wildtype:"F",mutant:"Y",Escape:.117,epitope:1,times_seen:16.3333,effect:-.0792},{reference_site:"383",wildtype:"F",mutant:"C",Escape:-6e-4,epitope:1,times_seen:1,effect:-2.9114},{reference_site:"383",wildtype:"F",mutant:"L",Escape:-.0281,epitope:1,times_seen:10.3333,effect:-.5089},{reference_site:"383",wildtype:"F",mutant:"V",Escape:-.0127,epitope:1,times_seen:1,effect:.174},{reference_site:"384",wildtype:"Y",mutant:"F",Escape:-.0095,epitope:1,times_seen:6.3333,effect:-.4393},{reference_site:"384",wildtype:"Y",mutant:"H",Escape:.0139,epitope:1,times_seen:6,effect:-.7888},{reference_site:"384",wildtype:"Y",mutant:"L",Escape:.0367,epitope:1,times_seen:4.6667,effect:-.6725},{reference_site:"384",wildtype:"Y",mutant:"N",Escape:-.0128,epitope:1,times_seen:1,effect:.7264},{reference_site:"384",wildtype:"Y",mutant:"S",Escape:.0349,epitope:1,times_seen:2.3333,effect:-2.7264},{reference_site:"384",wildtype:"Y",mutant:"*",Escape:.0376,epitope:1,times_seen:1,effect:-2.0403},{reference_site:"385",wildtype:"C",mutant:"F",Escape:.0274,epitope:1,times_seen:3,effect:-3.2079},{reference_site:"385",wildtype:"C",mutant:"G",Escape:-.0103,epitope:1,times_seen:1,effect:-2.7305},{reference_site:"385",wildtype:"C",mutant:"S",Escape:-.0082,epitope:1,times_seen:1,effect:-2.3118},{reference_site:"385",wildtype:"C",mutant:"W",Escape:-.018,epitope:1,times_seen:2,effect:-3.0133},{reference_site:"385",wildtype:"C",mutant:"Y",Escape:.0461,epitope:1,times_seen:2.6667,effect:-2.9303},{reference_site:"385",wildtype:"C",mutant:"*",Escape:-.003,epitope:1,times_seen:1,effect:-3.5803},{reference_site:"386",wildtype:"N",mutant:"C",Escape:-.0271,epitope:1,times_seen:2.3333,effect:-.3607},{reference_site:"386",wildtype:"N",mutant:"D",Escape:.0025,epitope:1,times_seen:2.3333,effect:.3529},{reference_site:"386",wildtype:"N",mutant:"E",Escape:.0727,epitope:1,times_seen:1.5,effect:-.2234},{reference_site:"386",wildtype:"N",mutant:"F",Escape:-.0455,epitope:1,times_seen:3.3333,effect:-1.1077},{reference_site:"386",wildtype:"N",mutant:"H",Escape:.04,epitope:1,times_seen:2.5,effect:-.2407},{reference_site:"386",wildtype:"N",mutant:"I",Escape:-.0244,epitope:1,times_seen:3.6667,effect:-.4465},{reference_site:"386",wildtype:"N",mutant:"K",Escape:.1913,epitope:1,times_seen:7.3333,effect:-.7884},{reference_site:"386",wildtype:"N",mutant:"L",Escape:-.0496,epitope:1,times_seen:3,effect:-.281},{reference_site:"386",wildtype:"N",mutant:"M",Escape:-.0144,epitope:1,times_seen:4.3333,effect:-.3769},{reference_site:"386",wildtype:"N",mutant:"P",Escape:-.0248,epitope:1,times_seen:1.5,effect:-1.0553},{reference_site:"386",wildtype:"N",mutant:"Q",Escape:8e-4,epitope:1,times_seen:1,effect:-1.6145},{reference_site:"386",wildtype:"N",mutant:"S",Escape:.0015,epitope:1,times_seen:2.6667,effect:-.1457},{reference_site:"386",wildtype:"N",mutant:"T",Escape:-.0216,epitope:1,times_seen:2,effect:-.3573},{reference_site:"386",wildtype:"N",mutant:"V",Escape:-.0038,epitope:1,times_seen:1.3333,effect:-.1226},{reference_site:"386",wildtype:"N",mutant:"W",Escape:-.0029,epitope:1,times_seen:1,effect:-.6006},{reference_site:"386",wildtype:"N",mutant:"Y",Escape:-.0345,epitope:1,times_seen:6,effect:-.4676},{reference_site:"387",wildtype:"T",mutant:"A",Escape:.0041,epitope:1,times_seen:1.3333,effect:-2.3044},{reference_site:"387",wildtype:"T",mutant:"I",Escape:.0101,epitope:1,times_seen:1.6667,effect:-2.4372},{reference_site:"387",wildtype:"T",mutant:"K",Escape:.0415,epitope:1,times_seen:2,effect:-1.9412},{reference_site:"387",wildtype:"T",mutant:"L",Escape:-.0031,epitope:1,times_seen:1,effect:-2.0129},{reference_site:"387",wildtype:"T",mutant:"S",Escape:-6e-4,epitope:1,times_seen:3,effect:-.522},{reference_site:"387",wildtype:"T",mutant:"V",Escape:.0245,epitope:1,times_seen:1.5,effect:-2.7733},{reference_site:"388",wildtype:"S",mutant:"A",Escape:-.0123,epitope:1,times_seen:2,effect:-.2916},{reference_site:"388",wildtype:"S",mutant:"C",Escape:-.0044,epitope:1,times_seen:7.3333,effect:-.386},{reference_site:"388",wildtype:"S",mutant:"D",Escape:.0138,epitope:1,times_seen:4.3333,effect:-.0344},{reference_site:"388",wildtype:"S",mutant:"E",Escape:.01,epitope:1,times_seen:3,effect:-.0178},{reference_site:"388",wildtype:"S",mutant:"F",Escape:-.0079,epitope:1,times_seen:4.6667,effect:-.3791},{reference_site:"388",wildtype:"S",mutant:"G",Escape:.002,epitope:1,times_seen:7,effect:-.5075},{reference_site:"388",wildtype:"S",mutant:"H",Escape:.002,epitope:1,times_seen:3,effect:-.3251},{reference_site:"388",wildtype:"S",mutant:"I",Escape:.0455,epitope:1,times_seen:8.3333,effect:-.391},{reference_site:"388",wildtype:"S",mutant:"K",Escape:.0405,epitope:1,times_seen:6.3333,effect:-.4758},{reference_site:"388",wildtype:"S",mutant:"L",Escape:-.014,epitope:1,times_seen:1,effect:-.8309},{reference_site:"388",wildtype:"S",mutant:"M",Escape:-.0491,epitope:1,times_seen:10.6667,effect:.0204},{reference_site:"388",wildtype:"S",mutant:"N",Escape:.0296,epitope:1,times_seen:5.3333,effect:-.4925},{reference_site:"388",wildtype:"S",mutant:"P",Escape:.0972,epitope:1,times_seen:3.5,effect:-1.9821},{reference_site:"388",wildtype:"S",mutant:"Q",Escape:-.0105,epitope:1,times_seen:3,effect:-.0184},{reference_site:"388",wildtype:"S",mutant:"R",Escape:.0459,epitope:1,times_seen:5,effect:-.5517},{reference_site:"388",wildtype:"S",mutant:"T",Escape:.0799,epitope:1,times_seen:9.3333,effect:-.078},{reference_site:"388",wildtype:"S",mutant:"V",Escape:.0166,epitope:1,times_seen:4,effect:-.3682},{reference_site:"388",wildtype:"S",mutant:"W",Escape:-.0393,epitope:1,times_seen:5,effect:-.0986},{reference_site:"388",wildtype:"S",mutant:"Y",Escape:.0462,epitope:1,times_seen:6,effect:-.0663},{reference_site:"389",wildtype:"G",mutant:"A",Escape:.0368,epitope:1,times_seen:5.3333,effect:.155},{reference_site:"389",wildtype:"G",mutant:"C",Escape:.0251,epitope:1,times_seen:4,effect:-.0142},{reference_site:"389",wildtype:"G",mutant:"D",Escape:-.0255,epitope:1,times_seen:8.3333,effect:.1349},{reference_site:"389",wildtype:"G",mutant:"E",Escape:-.0363,epitope:1,times_seen:5.6667,effect:.0153},{reference_site:"389",wildtype:"G",mutant:"F",Escape:.0074,epitope:1,times_seen:8.6667,effect:.1865},{reference_site:"389",wildtype:"G",mutant:"H",Escape:-.0422,epitope:1,times_seen:5,effect:.0967},{reference_site:"389",wildtype:"G",mutant:"I",Escape:.115,epitope:1,times_seen:9.6667,effect:-.132},{reference_site:"389",wildtype:"G",mutant:"K",Escape:.0299,epitope:1,times_seen:5.6667,effect:-.0155},{reference_site:"389",wildtype:"G",mutant:"L",Escape:-.016,epitope:1,times_seen:1,effect:.6516},{reference_site:"389",wildtype:"G",mutant:"M",Escape:-.0161,epitope:1,times_seen:6,effect:-.2454},{reference_site:"389",wildtype:"G",mutant:"N",Escape:-.0332,epitope:1,times_seen:7.6667,effect:-.0806},{reference_site:"389",wildtype:"G",mutant:"P",Escape:-.0463,epitope:1,times_seen:6,effect:.1354},{reference_site:"389",wildtype:"G",mutant:"Q",Escape:.0828,epitope:1,times_seen:7.3333,effect:.0572},{reference_site:"389",wildtype:"G",mutant:"R",Escape:-.0356,epitope:1,times_seen:9,effect:.0233},{reference_site:"389",wildtype:"G",mutant:"S",Escape:.0317,epitope:1,times_seen:6,effect:.0253},{reference_site:"389",wildtype:"G",mutant:"T",Escape:.0012,epitope:1,times_seen:5.3333,effect:-.0555},{reference_site:"389",wildtype:"G",mutant:"V",Escape:.0746,epitope:1,times_seen:6.6667,effect:-.0656},{reference_site:"389",wildtype:"G",mutant:"W",Escape:-.0048,epitope:1,times_seen:3.3333,effect:-.3189},{reference_site:"389",wildtype:"G",mutant:"Y",Escape:-.0076,epitope:1,times_seen:7,effect:.1042},{reference_site:"389",wildtype:"G",mutant:"*",Escape:.0022,epitope:1,times_seen:1.6667,effect:-3.3163},{reference_site:"390",wildtype:"L",mutant:"I",Escape:-.0183,epitope:1,times_seen:3.6667,effect:-.3805},{reference_site:"390",wildtype:"L",mutant:"M",Escape:.0029,epitope:1,times_seen:11.6667,effect:-.1559},{reference_site:"390",wildtype:"L",mutant:"V",Escape:.0318,epitope:1,times_seen:1,effect:-.1107},{reference_site:"391",wildtype:"F",mutant:"I",Escape:.0457,epitope:1,times_seen:3.5,effect:-3.0891},{reference_site:"391",wildtype:"F",mutant:"L",Escape:.0308,epitope:1,times_seen:1,effect:-1.0162},{reference_site:"391",wildtype:"F",mutant:"S",Escape:4e-4,epitope:1,times_seen:1,effect:-1.5218},{reference_site:"391",wildtype:"F",mutant:"W",Escape:7e-4,epitope:1,times_seen:1.6667,effect:-.8377},{reference_site:"391",wildtype:"F",mutant:"Y",Escape:-.0045,epitope:1,times_seen:6.3333,effect:-.5665},{reference_site:"392",wildtype:"N",mutant:"A",Escape:.0055,epitope:1,times_seen:1.5,effect:.0105},{reference_site:"392",wildtype:"N",mutant:"D",Escape:-.0275,epitope:1,times_seen:3,effect:-.1338},{reference_site:"392",wildtype:"N",mutant:"E",Escape:-.0545,epitope:1,times_seen:6.6667,effect:.183},{reference_site:"392",wildtype:"N",mutant:"F",Escape:-.0609,epitope:1,times_seen:4.6667,effect:-.0619},{reference_site:"392",wildtype:"N",mutant:"G",Escape:-.0333,epitope:1,times_seen:2.6667,effect:-.0763},{reference_site:"392",wildtype:"N",mutant:"H",Escape:.0011,epitope:1,times_seen:2.3333,effect:-.3445},{reference_site:"392",wildtype:"N",mutant:"I",Escape:-.0986,epitope:1,times_seen:6,effect:-.7182},{reference_site:"392",wildtype:"N",mutant:"K",Escape:-.0175,epitope:1,times_seen:10,effect:-.265},{reference_site:"392",wildtype:"N",mutant:"L",Escape:-.0257,epitope:1,times_seen:2,effect:-.7167},{reference_site:"392",wildtype:"N",mutant:"M",Escape:-.0574,epitope:1,times_seen:5.3333,effect:.0219},{reference_site:"392",wildtype:"N",mutant:"P",Escape:-.0013,epitope:1,times_seen:2,effect:-.8657},{reference_site:"392",wildtype:"N",mutant:"Q",Escape:-.0237,epitope:1,times_seen:2.3333,effect:.0433},{reference_site:"392",wildtype:"N",mutant:"S",Escape:.0093,epitope:1,times_seen:2.3333,effect:-.2025},{reference_site:"392",wildtype:"N",mutant:"T",Escape:-.011,epitope:1,times_seen:1,effect:-.4024},{reference_site:"392",wildtype:"N",mutant:"V",Escape:.0043,epitope:1,times_seen:1,effect:-.8928},{reference_site:"392",wildtype:"N",mutant:"W",Escape:-.0442,epitope:1,times_seen:4,effect:-.8096},{reference_site:"392",wildtype:"N",mutant:"Y",Escape:-.0192,epitope:1,times_seen:3,effect:-.4191},{reference_site:"393",wildtype:"S",mutant:"A",Escape:-3e-4,epitope:1,times_seen:3,effect:-.3479},{reference_site:"393",wildtype:"S",mutant:"D",Escape:-.0131,epitope:1,times_seen:5,effect:-.3259},{reference_site:"393",wildtype:"S",mutant:"E",Escape:-.0468,epitope:1,times_seen:4.6667,effect:.1119},{reference_site:"393",wildtype:"S",mutant:"F",Escape:.0147,epitope:1,times_seen:3.3333,effect:-.4405},{reference_site:"393",wildtype:"S",mutant:"G",Escape:-.0041,epitope:1,times_seen:8.3333,effect:-.6274},{reference_site:"393",wildtype:"S",mutant:"H",Escape:.018,epitope:1,times_seen:10,effect:.0078},{reference_site:"393",wildtype:"S",mutant:"I",Escape:.0163,epitope:1,times_seen:5.6667,effect:-1.1413},{reference_site:"393",wildtype:"S",mutant:"K",Escape:.0183,epitope:1,times_seen:6.6667,effect:-1.0517},{reference_site:"393",wildtype:"S",mutant:"L",Escape:-3e-4,epitope:1,times_seen:2,effect:-1.2893},{reference_site:"393",wildtype:"S",mutant:"M",Escape:-.0213,epitope:1,times_seen:4,effect:-.681},{reference_site:"393",wildtype:"S",mutant:"N",Escape:.0686,epitope:1,times_seen:14,effect:-.3528},{reference_site:"393",wildtype:"S",mutant:"P",Escape:-.0293,epitope:1,times_seen:3,effect:-.5966},{reference_site:"393",wildtype:"S",mutant:"Q",Escape:-.0035,epitope:1,times_seen:3,effect:-.5814},{reference_site:"393",wildtype:"S",mutant:"R",Escape:.0071,epitope:1,times_seen:2.6667,effect:-1.0544},{reference_site:"393",wildtype:"S",mutant:"T",Escape:-.0202,epitope:1,times_seen:3,effect:-.3982},{reference_site:"393",wildtype:"S",mutant:"V",Escape:-.0096,epitope:1,times_seen:1,effect:-1.6688},{reference_site:"393",wildtype:"S",mutant:"W",Escape:-.0371,epitope:1,times_seen:4.3333,effect:-.9862},{reference_site:"393",wildtype:"S",mutant:"Y",Escape:.0022,epitope:1,times_seen:11.6667,effect:-.3164},{reference_site:"394",wildtype:"T",mutant:"A",Escape:-.0416,epitope:1,times_seen:10.3333,effect:-.0256},{reference_site:"394",wildtype:"T",mutant:"C",Escape:-.0676,epitope:1,times_seen:4.6667,effect:-.2222},{reference_site:"394",wildtype:"T",mutant:"D",Escape:-.0455,epitope:1,times_seen:6,effect:-.5055},{reference_site:"394",wildtype:"T",mutant:"E",Escape:-.0646,epitope:1,times_seen:5.6667,effect:-.0099},{reference_site:"394",wildtype:"T",mutant:"F",Escape:-.0558,epitope:1,times_seen:9,effect:-.358},{reference_site:"394",wildtype:"T",mutant:"G",Escape:-.0216,epitope:1,times_seen:6.3333,effect:-.2904},{reference_site:"394",wildtype:"T",mutant:"H",Escape:-.0011,epitope:1,times_seen:5.6667,effect:-.2084},{reference_site:"394",wildtype:"T",mutant:"I",Escape:-.0678,epitope:1,times_seen:12.6667,effect:-.152},{reference_site:"394",wildtype:"T",mutant:"K",Escape:-.0298,epitope:1,times_seen:8.3333,effect:-.047},{reference_site:"394",wildtype:"T",mutant:"L",Escape:-.0116,epitope:1,times_seen:3.3333,effect:-.3161},{reference_site:"394",wildtype:"T",mutant:"M",Escape:-.0512,epitope:1,times_seen:5,effect:-.2695},{reference_site:"394",wildtype:"T",mutant:"N",Escape:-.0732,epitope:1,times_seen:8.3333,effect:-.5156},{reference_site:"394",wildtype:"T",mutant:"P",Escape:.0244,epitope:1,times_seen:5,effect:-.3113},{reference_site:"394",wildtype:"T",mutant:"Q",Escape:-.0203,epitope:1,times_seen:4.3333,effect:-.0976},{reference_site:"394",wildtype:"T",mutant:"R",Escape:-.0213,epitope:1,times_seen:3,effect:-.3686},{reference_site:"394",wildtype:"T",mutant:"S",Escape:-.0221,epitope:1,times_seen:10.3333,effect:.206},{reference_site:"394",wildtype:"T",mutant:"V",Escape:-.0371,epitope:1,times_seen:4.6667,effect:-.1143},{reference_site:"394",wildtype:"T",mutant:"W",Escape:-.0306,epitope:1,times_seen:2.6667,effect:-.324},{reference_site:"394",wildtype:"T",mutant:"Y",Escape:-.0304,epitope:1,times_seen:4,effect:-.0482},{reference_site:"395",wildtype:"W",mutant:"A",Escape:.0119,epitope:1,times_seen:1.3333,effect:-.3324},{reference_site:"395",wildtype:"W",mutant:"C",Escape:.0304,epitope:1,times_seen:10.6667,effect:-.5806},{reference_site:"395",wildtype:"W",mutant:"D",Escape:-7e-4,epitope:1,times_seen:2,effect:-1.2481},{reference_site:"395",wildtype:"W",mutant:"E",Escape:.0366,epitope:1,times_seen:6.6667,effect:-.3455},{reference_site:"395",wildtype:"W",mutant:"F",Escape:-.0278,epitope:1,times_seen:4.6667,effect:-.0958},{reference_site:"395",wildtype:"W",mutant:"G",Escape:-.0203,epitope:1,times_seen:2.3333,effect:-.7874},{reference_site:"395",wildtype:"W",mutant:"H",Escape:.0193,epitope:1,times_seen:2,effect:-.133},{reference_site:"395",wildtype:"W",mutant:"I",Escape:-.0044,epitope:1,times_seen:2.3333,effect:-.8393},{reference_site:"395",wildtype:"W",mutant:"K",Escape:-.0294,epitope:1,times_seen:2.3333,effect:-1.6124},{reference_site:"395",wildtype:"W",mutant:"L",Escape:-.0036,epitope:1,times_seen:23,effect:-.225},{reference_site:"395",wildtype:"W",mutant:"M",Escape:.0183,epitope:1,times_seen:6.6667,effect:-.0079},{reference_site:"395",wildtype:"W",mutant:"N",Escape:.1219,epitope:1,times_seen:4.5,effect:-1.096},{reference_site:"395",wildtype:"W",mutant:"P",Escape:.0262,epitope:1,times_seen:3.3333,effect:-.2353},{reference_site:"395",wildtype:"W",mutant:"Q",Escape:.0023,epitope:1,times_seen:2,effect:-1.2242},{reference_site:"395",wildtype:"W",mutant:"R",Escape:.0038,epitope:1,times_seen:8,effect:-.9508},{reference_site:"395",wildtype:"W",mutant:"S",Escape:-.0116,epitope:1,times_seen:2.3333,effect:-.461},{reference_site:"395",wildtype:"W",mutant:"T",Escape:.0159,epitope:1,times_seen:5.3333,effect:-.3009},{reference_site:"395",wildtype:"W",mutant:"V",Escape:.0217,epitope:1,times_seen:4.3333,effect:.0509},{reference_site:"395",wildtype:"W",mutant:"Y",Escape:-.0087,epitope:1,times_seen:4,effect:-.2},{reference_site:"395",wildtype:"W",mutant:"*",Escape:.0228,epitope:1,times_seen:1,effect:-3.0468},{reference_site:"395a",wildtype:"E",mutant:"A",Escape:-.0383,epitope:1,times_seen:7,effect:.0388},{reference_site:"395a",wildtype:"E",mutant:"D",Escape:-.038,epitope:1,times_seen:13.3333,effect:-.0945},{reference_site:"395a",wildtype:"E",mutant:"F",Escape:-.0248,epitope:1,times_seen:9.3333,effect:-.0178},{reference_site:"395a",wildtype:"E",mutant:"G",Escape:-4e-4,epitope:1,times_seen:5.3333,effect:.0572},{reference_site:"395a",wildtype:"E",mutant:"H",Escape:-.0351,epitope:1,times_seen:3.6667,effect:-.8123},{reference_site:"395a",wildtype:"E",mutant:"I",Escape:.0288,epitope:1,times_seen:7,effect:.0292},{reference_site:"395a",wildtype:"E",mutant:"K",Escape:.0112,epitope:1,times_seen:9,effect:-.0432},{reference_site:"395a",wildtype:"E",mutant:"L",Escape:.0374,epitope:1,times_seen:6.3333,effect:-.4793},{reference_site:"395a",wildtype:"E",mutant:"M",Escape:-.0017,epitope:1,times_seen:6.6667,effect:-.0753},{reference_site:"395a",wildtype:"E",mutant:"N",Escape:.0422,epitope:1,times_seen:6.6667,effect:-.173},{reference_site:"395a",wildtype:"E",mutant:"P",Escape:-.0143,epitope:1,times_seen:2.3333,effect:.0717},{reference_site:"395a",wildtype:"E",mutant:"Q",Escape:-.0436,epitope:1,times_seen:12.3333,effect:.1775},{reference_site:"395a",wildtype:"E",mutant:"R",Escape:-.0211,epitope:1,times_seen:3.6667,effect:-.1038},{reference_site:"395a",wildtype:"E",mutant:"S",Escape:-.0872,epitope:1,times_seen:5.3333,effect:-.1558},{reference_site:"395a",wildtype:"E",mutant:"T",Escape:.0204,epitope:1,times_seen:4.6667,effect:.1478},{reference_site:"395a",wildtype:"E",mutant:"V",Escape:-.0011,epitope:1,times_seen:4.6667,effect:.1411},{reference_site:"395a",wildtype:"E",mutant:"W",Escape:-.0061,epitope:1,times_seen:1,effect:-.0949},{reference_site:"395a",wildtype:"E",mutant:"Y",Escape:.0037,epitope:1,times_seen:4.3333,effect:.0713},{reference_site:"395a",wildtype:"E",mutant:"*",Escape:.5033,epitope:1,times_seen:1.3333,effect:-3.0885},{reference_site:"396",wildtype:"F",mutant:"A",Escape:-.0014,epitope:1,times_seen:7.3333,effect:-.0592},{reference_site:"396",wildtype:"F",mutant:"C",Escape:-.0135,epitope:1,times_seen:4,effect:-1.2308},{reference_site:"396",wildtype:"F",mutant:"D",Escape:-3e-4,epitope:1,times_seen:3,effect:-.0522},{reference_site:"396",wildtype:"F",mutant:"E",Escape:-.0189,epitope:1,times_seen:3,effect:-.4007},{reference_site:"396",wildtype:"F",mutant:"G",Escape:.0309,epitope:1,times_seen:3.3333,effect:-.1927},{reference_site:"396",wildtype:"F",mutant:"H",Escape:.0106,epitope:1,times_seen:7,effect:-.0061},{reference_site:"396",wildtype:"F",mutant:"I",Escape:.0018,epitope:1,times_seen:9,effect:.0467},{reference_site:"396",wildtype:"F",mutant:"K",Escape:-.0078,epitope:1,times_seen:3.5,effect:-.2767},{reference_site:"396",wildtype:"F",mutant:"L",Escape:.0137,epitope:1,times_seen:8,effect:-.0518},{reference_site:"396",wildtype:"F",mutant:"M",Escape:-.0186,epitope:1,times_seen:6.6667,effect:.1182},{reference_site:"396",wildtype:"F",mutant:"N",Escape:-.015,epitope:1,times_seen:8.6667,effect:.1298},{reference_site:"396",wildtype:"F",mutant:"P",Escape:-.0047,epitope:1,times_seen:3.6667,effect:.1012},{reference_site:"396",wildtype:"F",mutant:"Q",Escape:.0075,epitope:1,times_seen:1,effect:-.8664},{reference_site:"396",wildtype:"F",mutant:"R",Escape:-.0066,epitope:1,times_seen:1,effect:-.4755},{reference_site:"396",wildtype:"F",mutant:"S",Escape:.0216,epitope:1,times_seen:4.3333,effect:.1254},{reference_site:"396",wildtype:"F",mutant:"T",Escape:-.005,epitope:1,times_seen:6.6667,effect:-.1808},{reference_site:"396",wildtype:"F",mutant:"V",Escape:-.005,epitope:1,times_seen:1,effect:-8e-4},{reference_site:"396",wildtype:"F",mutant:"W",Escape:-.0027,epitope:1,times_seen:1,effect:.362},{reference_site:"396",wildtype:"F",mutant:"Y",Escape:.0129,epitope:1,times_seen:13.3333,effect:.0033},{reference_site:"397",wildtype:"N",mutant:"D",Escape:.003,epitope:1,times_seen:1,effect:-.6916},{reference_site:"397",wildtype:"N",mutant:"E",Escape:-.0153,epitope:1,times_seen:3.3333,effect:-.2833},{reference_site:"397",wildtype:"N",mutant:"F",Escape:-.0056,epitope:1,times_seen:3.3333,effect:.1736},{reference_site:"397",wildtype:"N",mutant:"H",Escape:.0029,epitope:1,times_seen:1,effect:-.2271},{reference_site:"397",wildtype:"N",mutant:"I",Escape:.0308,epitope:1,times_seen:3.6667,effect:.1151},{reference_site:"397",wildtype:"N",mutant:"K",Escape:.0233,epitope:1,times_seen:10.3333,effect:-.0938},{reference_site:"397",wildtype:"N",mutant:"L",Escape:-.0126,epitope:1,times_seen:1,effect:-1.3627},{reference_site:"397",wildtype:"N",mutant:"M",Escape:.0096,epitope:1,times_seen:5,effect:-.1437},{reference_site:"397",wildtype:"N",mutant:"R",Escape:-.0073,epitope:1,times_seen:1.5,effect:-.2084},{reference_site:"397",wildtype:"N",mutant:"S",Escape:-.0058,epitope:1,times_seen:2,effect:.0029},{reference_site:"397",wildtype:"N",mutant:"T",Escape:-.008,epitope:1,times_seen:1.6667,effect:-.4207},{reference_site:"397",wildtype:"N",mutant:"Y",Escape:-.0057,epitope:1,times_seen:4.6667,effect:-.2599},{reference_site:"398",wildtype:"S",mutant:"A",Escape:.1645,epitope:1,times_seen:1.3333,effect:-.6571},{reference_site:"398",wildtype:"S",mutant:"D",Escape:-.0218,epitope:1,times_seen:5.6667,effect:-.0641},{reference_site:"398",wildtype:"S",mutant:"E",Escape:.0076,epitope:1,times_seen:3,effect:-.1283},{reference_site:"398",wildtype:"S",mutant:"F",Escape:-.0295,epitope:1,times_seen:10,effect:-.2953},{reference_site:"398",wildtype:"S",mutant:"G",Escape:.0136,epitope:1,times_seen:3.3333,effect:-.2293},{reference_site:"398",wildtype:"S",mutant:"H",Escape:-.032,epitope:1,times_seen:6.6667,effect:-.2458},{reference_site:"398",wildtype:"S",mutant:"I",Escape:-.0697,epitope:1,times_seen:6,effect:-.6788},{reference_site:"398",wildtype:"S",mutant:"K",Escape:.0019,epitope:1,times_seen:5.3333,effect:-.165},{reference_site:"398",wildtype:"S",mutant:"L",Escape:-.0638,epitope:1,times_seen:3.6667,effect:-.1527},{reference_site:"398",wildtype:"S",mutant:"M",Escape:.0722,epitope:1,times_seen:1.6667,effect:-.3135},{reference_site:"398",wildtype:"S",mutant:"N",Escape:.1004,epitope:1,times_seen:6,effect:-.1921},{reference_site:"398",wildtype:"S",mutant:"P",Escape:.0386,epitope:1,times_seen:5,effect:-.3416},{reference_site:"398",wildtype:"S",mutant:"Q",Escape:.048,epitope:1,times_seen:3,effect:-.6443},{reference_site:"398",wildtype:"S",mutant:"R",Escape:.0077,epitope:1,times_seen:2.6667,effect:.0936},{reference_site:"398",wildtype:"S",mutant:"T",Escape:-.025,epitope:1,times_seen:3.3333,effect:-.5502},{reference_site:"398",wildtype:"S",mutant:"V",Escape:-.0085,epitope:1,times_seen:1.3333,effect:-.6233},{reference_site:"398",wildtype:"S",mutant:"W",Escape:-.0161,epitope:1,times_seen:2.6667,effect:-.1481},{reference_site:"398",wildtype:"S",mutant:"Y",Escape:-.0268,epitope:1,times_seen:12.6667,effect:-.0028},{reference_site:"399",wildtype:"T",mutant:"A",Escape:.0051,epitope:1,times_seen:6,effect:-.2087},{reference_site:"399",wildtype:"T",mutant:"C",Escape:-.0823,epitope:1,times_seen:3.6667,effect:-.3704},{reference_site:"399",wildtype:"T",mutant:"D",Escape:-.0095,epitope:1,times_seen:4,effect:-.0079},{reference_site:"399",wildtype:"T",mutant:"E",Escape:.0598,epitope:1,times_seen:3.3333,effect:.2288},{reference_site:"399",wildtype:"T",mutant:"F",Escape:-.0354,epitope:1,times_seen:1.3333,effect:-.3755},{reference_site:"399",wildtype:"T",mutant:"G",Escape:-.0503,epitope:1,times_seen:7.3333,effect:-.1313},{reference_site:"399",wildtype:"T",mutant:"H",Escape:.0111,epitope:1,times_seen:3.3333,effect:-.3184},{reference_site:"399",wildtype:"T",mutant:"I",Escape:-.0016,epitope:1,times_seen:8,effect:-.1292},{reference_site:"399",wildtype:"T",mutant:"K",Escape:-.0107,epitope:1,times_seen:2.3333,effect:-.255},{reference_site:"399",wildtype:"T",mutant:"L",Escape:.0069,epitope:1,times_seen:1.3333,effect:.0823},{reference_site:"399",wildtype:"T",mutant:"M",Escape:.0106,epitope:1,times_seen:1,effect:-.4431},{reference_site:"399",wildtype:"T",mutant:"N",Escape:-.0195,epitope:1,times_seen:6.6667,effect:-.1398},{reference_site:"399",wildtype:"T",mutant:"P",Escape:.0235,epitope:1,times_seen:9,effect:-.0436},{reference_site:"399",wildtype:"T",mutant:"Q",Escape:.0197,epitope:1,times_seen:1,effect:-.1391},{reference_site:"399",wildtype:"T",mutant:"R",Escape:.0478,epitope:1,times_seen:4.6667,effect:-.1502},{reference_site:"399",wildtype:"T",mutant:"S",Escape:.008,epitope:1,times_seen:5,effect:-.0483},{reference_site:"399",wildtype:"T",mutant:"V",Escape:-.0559,epitope:1,times_seen:3.5,effect:-.0973},{reference_site:"399",wildtype:"T",mutant:"W",Escape:-.0278,epitope:1,times_seen:3,effect:-.4909},{reference_site:"399",wildtype:"T",mutant:"Y",Escape:-.0277,epitope:1,times_seen:5.3333,effect:.0242},{reference_site:"400",wildtype:"W",mutant:"A",Escape:.0141,epitope:1,times_seen:5.6667,effect:.0644},{reference_site:"400",wildtype:"W",mutant:"C",Escape:-.0367,epitope:1,times_seen:9,effect:-.244},{reference_site:"400",wildtype:"W",mutant:"D",Escape:.0504,epitope:1,times_seen:4,effect:-.1209},{reference_site:"400",wildtype:"W",mutant:"E",Escape:-.0121,epitope:1,times_seen:3.3333,effect:.1243},{reference_site:"400",wildtype:"W",mutant:"F",Escape:.0977,epitope:1,times_seen:4.3333,effect:.0303},{reference_site:"400",wildtype:"W",mutant:"G",Escape:-.0184,epitope:1,times_seen:5.6667,effect:-.0163},{reference_site:"400",wildtype:"W",mutant:"H",Escape:.0975,epitope:1,times_seen:7.6667,effect:.0444},{reference_site:"400",wildtype:"W",mutant:"I",Escape:.03,epitope:1,times_seen:7,effect:-.0829},{reference_site:"400",wildtype:"W",mutant:"K",Escape:.0029,epitope:1,times_seen:8,effect:-.149},{reference_site:"400",wildtype:"W",mutant:"L",Escape:-.0113,epitope:1,times_seen:22,effect:-.0799},{reference_site:"400",wildtype:"W",mutant:"M",Escape:-.0131,epitope:1,times_seen:2,effect:.037},{reference_site:"400",wildtype:"W",mutant:"N",Escape:-.006,epitope:1,times_seen:4.6667,effect:-.1793},{reference_site:"400",wildtype:"W",mutant:"P",Escape:.2367,epitope:1,times_seen:2,effect:-.138},{reference_site:"400",wildtype:"W",mutant:"Q",Escape:-.0088,epitope:1,times_seen:11,effect:-.0108},{reference_site:"400",wildtype:"W",mutant:"R",Escape:.0645,epitope:1,times_seen:14.6667,effect:-.0595},{reference_site:"400",wildtype:"W",mutant:"S",Escape:.0366,epitope:1,times_seen:4,effect:.0846},{reference_site:"400",wildtype:"W",mutant:"T",Escape:.093,epitope:1,times_seen:3.6667,effect:-.0571},{reference_site:"400",wildtype:"W",mutant:"V",Escape:.0099,epitope:1,times_seen:5.6667,effect:-.1166},{reference_site:"400",wildtype:"W",mutant:"Y",Escape:-.0121,epitope:1,times_seen:6,effect:-.214},{reference_site:"400",wildtype:"W",mutant:"*",Escape:.0107,epitope:1,times_seen:2,effect:-2.9702},{reference_site:"406",wildtype:"N",mutant:"A",Escape:.0136,epitope:1,times_seen:1.6667,effect:.0477},{reference_site:"406",wildtype:"N",mutant:"C",Escape:.1273,epitope:1,times_seen:2.3333,effect:-.6228},{reference_site:"406",wildtype:"N",mutant:"D",Escape:-.0031,epitope:1,times_seen:8.6667,effect:-.0499},{reference_site:"406",wildtype:"N",mutant:"E",Escape:-.2057,epitope:1,times_seen:2,effect:-.069},{reference_site:"406",wildtype:"N",mutant:"F",Escape:.0163,epitope:1,times_seen:9,effect:-.0579},{reference_site:"406",wildtype:"N",mutant:"G",Escape:-.0052,epitope:1,times_seen:1,effect:-.0354},{reference_site:"406",wildtype:"N",mutant:"H",Escape:.0384,epitope:1,times_seen:4.5,effect:.2396},{reference_site:"406",wildtype:"N",mutant:"I",Escape:.0184,epitope:1,times_seen:4,effect:-.2865},{reference_site:"406",wildtype:"N",mutant:"K",Escape:.003,epitope:1,times_seen:8.3333,effect:.0311},{reference_site:"406",wildtype:"N",mutant:"L",Escape:-.006,epitope:1,times_seen:6,effect:.1035},{reference_site:"406",wildtype:"N",mutant:"M",Escape:.0094,epitope:1,times_seen:5,effect:.036},{reference_site:"406",wildtype:"N",mutant:"P",Escape:-.0045,epitope:1,times_seen:1.5,effect:.0591},{reference_site:"406",wildtype:"N",mutant:"Q",Escape:.0691,epitope:1,times_seen:4,effect:-.2874},{reference_site:"406",wildtype:"N",mutant:"R",Escape:.0231,epitope:1,times_seen:2.3333,effect:.0022},{reference_site:"406",wildtype:"N",mutant:"S",Escape:-.0125,epitope:1,times_seen:3.6667,effect:-.3398},{reference_site:"406",wildtype:"N",mutant:"T",Escape:.144,epitope:1,times_seen:9.3333,effect:-.1263},{reference_site:"406",wildtype:"N",mutant:"V",Escape:.0103,epitope:1,times_seen:2.6667,effect:.0793},{reference_site:"406",wildtype:"N",mutant:"W",Escape:-.0089,epitope:1,times_seen:1,effect:-.2413},{reference_site:"406",wildtype:"N",mutant:"Y",Escape:-.0946,epitope:1,times_seen:17,effect:.0133},{reference_site:"407",wildtype:"N",mutant:"A",Escape:.0615,epitope:1,times_seen:3,effect:-.6411},{reference_site:"407",wildtype:"N",mutant:"C",Escape:-.017,epitope:1,times_seen:1,effect:-1.2059},{reference_site:"407",wildtype:"N",mutant:"D",Escape:-.002,epitope:1,times_seen:3.3333,effect:-.0018},{reference_site:"407",wildtype:"N",mutant:"E",Escape:-.0036,epitope:1,times_seen:5.6667,effect:-.0664},{reference_site:"407",wildtype:"N",mutant:"F",Escape:-.0387,epitope:1,times_seen:4.6667,effect:.0115},{reference_site:"407",wildtype:"N",mutant:"G",Escape:-.0085,epitope:1,times_seen:1,effect:.1741},{reference_site:"407",wildtype:"N",mutant:"H",Escape:-.4469,epitope:1,times_seen:3.3333,effect:-.1689},{reference_site:"407",wildtype:"N",mutant:"I",Escape:.0037,epitope:1,times_seen:6.3333,effect:-.2214},{reference_site:"407",wildtype:"N",mutant:"K",Escape:-.0678,epitope:1,times_seen:12.6667,effect:.0184},{reference_site:"407",wildtype:"N",mutant:"L",Escape:-.0314,epitope:1,times_seen:5.3333,effect:.1043},{reference_site:"407",wildtype:"N",mutant:"M",Escape:.0176,epitope:1,times_seen:5.3333,effect:-.1849},{reference_site:"407",wildtype:"N",mutant:"P",Escape:-.0049,epitope:1,times_seen:3,effect:-.1768},{reference_site:"407",wildtype:"N",mutant:"Q",Escape:.1299,epitope:1,times_seen:3.3333,effect:.0251},{reference_site:"407",wildtype:"N",mutant:"R",Escape:-.0057,epitope:1,times_seen:3,effect:.1481},{reference_site:"407",wildtype:"N",mutant:"S",Escape:-.0126,epitope:1,times_seen:6.6667,effect:.1541},{reference_site:"407",wildtype:"N",mutant:"T",Escape:-.0214,epitope:1,times_seen:3.3333,effect:-.2601},{reference_site:"407",wildtype:"N",mutant:"V",Escape:.2545,epitope:1,times_seen:2,effect:.2345},{reference_site:"407",wildtype:"N",mutant:"W",Escape:-.0686,epitope:1,times_seen:4.6667,effect:-.2182},{reference_site:"407",wildtype:"N",mutant:"Y",Escape:-.0082,epitope:1,times_seen:6.3333,effect:-.1584},{reference_site:"408",wildtype:"S",mutant:"A",Escape:-.0313,epitope:1,times_seen:3.3333,effect:-.2057},{reference_site:"408",wildtype:"S",mutant:"C",Escape:.008,epitope:1,times_seen:8.6667,effect:-.1902},{reference_site:"408",wildtype:"S",mutant:"D",Escape:.2312,epitope:1,times_seen:3.3333,effect:.1237},{reference_site:"408",wildtype:"S",mutant:"E",Escape:-.055,epitope:1,times_seen:5.3333,effect:.1693},{reference_site:"408",wildtype:"S",mutant:"F",Escape:-.0419,epitope:1,times_seen:3,effect:.1435},{reference_site:"408",wildtype:"S",mutant:"G",Escape:-.0021,epitope:1,times_seen:7,effect:.0491},{reference_site:"408",wildtype:"S",mutant:"H",Escape:.0062,epitope:1,times_seen:2.3333,effect:.0221},{reference_site:"408",wildtype:"S",mutant:"I",Escape:-.0146,epitope:1,times_seen:7,effect:-.2184},{reference_site:"408",wildtype:"S",mutant:"K",Escape:-.0133,epitope:1,times_seen:4.6667,effect:.0663},{reference_site:"408",wildtype:"S",mutant:"L",Escape:-.0377,epitope:1,times_seen:3.3333,effect:.1192},{reference_site:"408",wildtype:"S",mutant:"M",Escape:.009,epitope:1,times_seen:3.6667,effect:-.2488},{reference_site:"408",wildtype:"S",mutant:"N",Escape:.0813,epitope:1,times_seen:6.6667,effect:.0863},{reference_site:"408",wildtype:"S",mutant:"P",Escape:.04,epitope:1,times_seen:4.3333,effect:.044},{reference_site:"408",wildtype:"S",mutant:"Q",Escape:.0154,epitope:1,times_seen:3.3333,effect:.1007},{reference_site:"408",wildtype:"S",mutant:"R",Escape:.0425,epitope:1,times_seen:8,effect:.0375},{reference_site:"408",wildtype:"S",mutant:"T",Escape:.0147,epitope:1,times_seen:7.6667,effect:-.0994},{reference_site:"408",wildtype:"S",mutant:"V",Escape:.0096,epitope:1,times_seen:8.6667,effect:-.0011},{reference_site:"408",wildtype:"S",mutant:"W",Escape:.0304,epitope:1,times_seen:1,effect:-.7474},{reference_site:"408",wildtype:"S",mutant:"Y",Escape:.1187,epitope:1,times_seen:4.6667,effect:-.2584},{reference_site:"409",wildtype:"N",mutant:"A",Escape:-.0131,epitope:1,times_seen:2.6667,effect:.1782},{reference_site:"409",wildtype:"N",mutant:"C",Escape:-.0766,epitope:1,times_seen:4,effect:-.2883},{reference_site:"409",wildtype:"N",mutant:"D",Escape:-.0204,epitope:1,times_seen:4.3333,effect:.1856},{reference_site:"409",wildtype:"N",mutant:"E",Escape:-.0166,epitope:1,times_seen:3.5,effect:-.1273},{reference_site:"409",wildtype:"N",mutant:"F",Escape:-.0293,epitope:1,times_seen:3.3333,effect:-.2365},{reference_site:"409",wildtype:"N",mutant:"G",Escape:.032,epitope:1,times_seen:1,effect:-.5191},{reference_site:"409",wildtype:"N",mutant:"H",Escape:.0396,epitope:1,times_seen:2,effect:-.105},{reference_site:"409",wildtype:"N",mutant:"I",Escape:-.0352,epitope:1,times_seen:6.3333,effect:-.2774},{reference_site:"409",wildtype:"N",mutant:"K",Escape:-.0405,epitope:1,times_seen:4.3333,effect:.0784},{reference_site:"409",wildtype:"N",mutant:"L",Escape:-.0834,epitope:1,times_seen:6,effect:-.0011},{reference_site:"409",wildtype:"N",mutant:"M",Escape:-.002,epitope:1,times_seen:6.3333,effect:-.1405},{reference_site:"409",wildtype:"N",mutant:"P",Escape:-.041,epitope:1,times_seen:2,effect:-.1726},{reference_site:"409",wildtype:"N",mutant:"Q",Escape:.3787,epitope:1,times_seen:7.3333,effect:-.1511},{reference_site:"409",wildtype:"N",mutant:"R",Escape:-.0236,epitope:1,times_seen:2.6667,effect:-.7032},{reference_site:"409",wildtype:"N",mutant:"S",Escape:-.0309,epitope:1,times_seen:3.6667,effect:-.2884},{reference_site:"409",wildtype:"N",mutant:"T",Escape:-.0292,epitope:1,times_seen:8,effect:-.0256},{reference_site:"409",wildtype:"N",mutant:"V",Escape:-.0151,epitope:1,times_seen:2.3333,effect:.1639},{reference_site:"409",wildtype:"N",mutant:"W",Escape:-.022,epitope:1,times_seen:3,effect:-.0823},{reference_site:"409",wildtype:"N",mutant:"Y",Escape:.0234,epitope:1,times_seen:5,effect:.053},{reference_site:"410",wildtype:"S",mutant:"A",Escape:-.04,epitope:1,times_seen:2.6667,effect:-.1446},{reference_site:"410",wildtype:"S",mutant:"C",Escape:-.0465,epitope:1,times_seen:13.3333,effect:-.1056},{reference_site:"410",wildtype:"S",mutant:"D",Escape:.0131,epitope:1,times_seen:6.6667,effect:-.0807},{reference_site:"410",wildtype:"S",mutant:"E",Escape:-.0179,epitope:1,times_seen:2.3333,effect:.0498},{reference_site:"410",wildtype:"S",mutant:"F",Escape:-.0413,epitope:1,times_seen:7,effect:-.1333},{reference_site:"410",wildtype:"S",mutant:"G",Escape:-.0104,epitope:1,times_seen:7.3333,effect:-.1355},{reference_site:"410",wildtype:"S",mutant:"H",Escape:-.0425,epitope:1,times_seen:3,effect:-.3085},{reference_site:"410",wildtype:"S",mutant:"I",Escape:.0051,epitope:1,times_seen:11.6667,effect:-.1156},{reference_site:"410",wildtype:"S",mutant:"K",Escape:-.0434,epitope:1,times_seen:8,effect:-.3774},{reference_site:"410",wildtype:"S",mutant:"L",Escape:.0221,epitope:1,times_seen:4,effect:-.1757},{reference_site:"410",wildtype:"S",mutant:"M",Escape:.0317,epitope:1,times_seen:7.3333,effect:-.1124},{reference_site:"410",wildtype:"S",mutant:"N",Escape:-.0393,epitope:1,times_seen:12,effect:.0197},{reference_site:"410",wildtype:"S",mutant:"P",Escape:-.0114,epitope:1,times_seen:5.3333,effect:-.2202},{reference_site:"410",wildtype:"S",mutant:"Q",Escape:.0196,epitope:1,times_seen:1,effect:-.4926},{reference_site:"410",wildtype:"S",mutant:"R",Escape:-.0039,epitope:1,times_seen:6,effect:-.2098},{reference_site:"410",wildtype:"S",mutant:"T",Escape:.0725,epitope:1,times_seen:5.6667,effect:-.3444},{reference_site:"410",wildtype:"S",mutant:"V",Escape:-.0473,epitope:1,times_seen:5.6667,effect:.0086},{reference_site:"410",wildtype:"S",mutant:"W",Escape:-.0105,epitope:1,times_seen:3,effect:-.5138},{reference_site:"410",wildtype:"S",mutant:"Y",Escape:.0098,epitope:1,times_seen:3.6667,effect:-.3414},{reference_site:"411",wildtype:"T",mutant:"A",Escape:.0302,epitope:1,times_seen:4,effect:.052},{reference_site:"411",wildtype:"T",mutant:"C",Escape:.055,epitope:1,times_seen:2.5,effect:-.9569},{reference_site:"411",wildtype:"T",mutant:"D",Escape:-.0295,epitope:1,times_seen:5,effect:.098},{reference_site:"411",wildtype:"T",mutant:"E",Escape:.0117,epitope:1,times_seen:5.3333,effect:.0534},{reference_site:"411",wildtype:"T",mutant:"F",Escape:-.0537,epitope:1,times_seen:10.6667,effect:-.1001},{reference_site:"411",wildtype:"T",mutant:"G",Escape:.0289,epitope:1,times_seen:4.6667,effect:.0309},{reference_site:"411",wildtype:"T",mutant:"H",Escape:.0251,epitope:1,times_seen:12.6667,effect:.1045},{reference_site:"411",wildtype:"T",mutant:"I",Escape:-.0238,epitope:1,times_seen:10.3333,effect:-.0712},{reference_site:"411",wildtype:"T",mutant:"K",Escape:.0082,epitope:1,times_seen:2,effect:-.058},{reference_site:"411",wildtype:"T",mutant:"L",Escape:-.0193,epitope:1,times_seen:3.6667,effect:-.0358},{reference_site:"411",wildtype:"T",mutant:"M",Escape:.0572,epitope:1,times_seen:5.3333,effect:.1873},{reference_site:"411",wildtype:"T",mutant:"N",Escape:-.0055,epitope:1,times_seen:7.6667,effect:.1581},{reference_site:"411",wildtype:"T",mutant:"P",Escape:-.014,epitope:1,times_seen:5.3333,effect:-.0558},{reference_site:"411",wildtype:"T",mutant:"Q",Escape:-.0137,epitope:1,times_seen:2.6667,effect:-.0378},{reference_site:"411",wildtype:"T",mutant:"S",Escape:-.0034,epitope:1,times_seen:4.6667,effect:-.0029},{reference_site:"411",wildtype:"T",mutant:"W",Escape:-.005,epitope:1,times_seen:2,effect:.0198},{reference_site:"411",wildtype:"T",mutant:"Y",Escape:.0032,epitope:1,times_seen:4.3333,effect:-.1918},{reference_site:"412",wildtype:"E",mutant:"A",Escape:-4e-4,epitope:1,times_seen:5.3333,effect:-.3535},{reference_site:"412",wildtype:"E",mutant:"C",Escape:-.0096,epitope:1,times_seen:2.3333,effect:-.8424},{reference_site:"412",wildtype:"E",mutant:"D",Escape:-.0099,epitope:1,times_seen:7,effect:-.1463},{reference_site:"412",wildtype:"E",mutant:"F",Escape:-.0198,epitope:1,times_seen:2,effect:-.3913},{reference_site:"412",wildtype:"E",mutant:"G",Escape:-.0076,epitope:1,times_seen:5,effect:-.3366},{reference_site:"412",wildtype:"E",mutant:"H",Escape:-.0027,epitope:1,times_seen:1.3333,effect:-1.3251},{reference_site:"412",wildtype:"E",mutant:"I",Escape:-.0213,epitope:1,times_seen:6.6667,effect:-.509},{reference_site:"412",wildtype:"E",mutant:"K",Escape:.0202,epitope:1,times_seen:11,effect:-.3123},{reference_site:"412",wildtype:"E",mutant:"L",Escape:-.0061,epitope:1,times_seen:6,effect:-.0936},{reference_site:"412",wildtype:"E",mutant:"M",Escape:-.0424,epitope:1,times_seen:4.6667,effect:-.3138},{reference_site:"412",wildtype:"E",mutant:"N",Escape:-.0089,epitope:1,times_seen:2.5,effect:-.3933},{reference_site:"412",wildtype:"E",mutant:"P",Escape:-.0234,epitope:1,times_seen:1,effect:-1.2016},{reference_site:"412",wildtype:"E",mutant:"Q",Escape:.0478,epitope:1,times_seen:5,effect:-.7014},{reference_site:"412",wildtype:"E",mutant:"R",Escape:.0258,epitope:1,times_seen:4,effect:-.616},{reference_site:"412",wildtype:"E",mutant:"S",Escape:.0122,epitope:1,times_seen:2.6667,effect:-.2944},{reference_site:"412",wildtype:"E",mutant:"T",Escape:-.0309,epitope:1,times_seen:5,effect:.0131},{reference_site:"412",wildtype:"E",mutant:"V",Escape:.0053,epitope:1,times_seen:10.3333,effect:-.382},{reference_site:"412",wildtype:"E",mutant:"W",Escape:8e-4,epitope:1,times_seen:2.6667,effect:-.9866},{reference_site:"412",wildtype:"E",mutant:"Y",Escape:-.0298,epitope:1,times_seen:4,effect:-.4499},{reference_site:"412",wildtype:"E",mutant:"*",Escape:.038,epitope:1,times_seen:1,effect:-2.9211},{reference_site:"413",wildtype:"N",mutant:"C",Escape:.0078,epitope:1,times_seen:1,effect:-.3242},{reference_site:"413",wildtype:"N",mutant:"D",Escape:.1753,epitope:1,times_seen:10.5,effect:-.4287},{reference_site:"413",wildtype:"N",mutant:"E",Escape:-.0118,epitope:1,times_seen:6,effect:-.0835},{reference_site:"413",wildtype:"N",mutant:"F",Escape:.005,epitope:1,times_seen:3.6667,effect:-.1968},{reference_site:"413",wildtype:"N",mutant:"G",Escape:-.0416,epitope:1,times_seen:3,effect:-.3421},{reference_site:"413",wildtype:"N",mutant:"H",Escape:.0247,epitope:1,times_seen:5,effect:-.0616},{reference_site:"413",wildtype:"N",mutant:"I",Escape:-.017,epitope:1,times_seen:7,effect:-.1346},{reference_site:"413",wildtype:"N",mutant:"K",Escape:-.0272,epitope:1,times_seen:8.3333,effect:-.1079},{reference_site:"413",wildtype:"N",mutant:"L",Escape:.0154,epitope:1,times_seen:3.6667,effect:.0696},{reference_site:"413",wildtype:"N",mutant:"M",Escape:-.0291,epitope:1,times_seen:7,effect:-.0404},{reference_site:"413",wildtype:"N",mutant:"P",Escape:-.026,epitope:1,times_seen:2,effect:-.4614},{reference_site:"413",wildtype:"N",mutant:"Q",Escape:.0043,epitope:1,times_seen:3.3333,effect:.2467},{reference_site:"413",wildtype:"N",mutant:"R",Escape:-.0091,epitope:1,times_seen:1,effect:-1.7428},{reference_site:"413",wildtype:"N",mutant:"S",Escape:-.0286,epitope:1,times_seen:5.6667,effect:.04},{reference_site:"413",wildtype:"N",mutant:"T",Escape:3e-4,epitope:1,times_seen:2.3333,effect:.2498},{reference_site:"413",wildtype:"N",mutant:"V",Escape:-.0119,epitope:1,times_seen:2,effect:.1031},{reference_site:"413",wildtype:"N",mutant:"W",Escape:.022,epitope:1,times_seen:2.3333,effect:.1053},{reference_site:"413",wildtype:"N",mutant:"Y",Escape:.0059,epitope:1,times_seen:3.3333,effect:-.3526},{reference_site:"414",wildtype:"I",mutant:"E",Escape:.0048,epitope:1,times_seen:2.3333,effect:-.7081},{reference_site:"414",wildtype:"I",mutant:"F",Escape:.003,epitope:1,times_seen:2,effect:-.8955},{reference_site:"414",wildtype:"I",mutant:"H",Escape:.0092,epitope:1,times_seen:1.3333,effect:-.738},{reference_site:"414",wildtype:"I",mutant:"K",Escape:-.0055,epitope:1,times_seen:2.6667,effect:-2.1302},{reference_site:"414",wildtype:"I",mutant:"L",Escape:-.0037,epitope:1,times_seen:1,effect:.2891},{reference_site:"414",wildtype:"I",mutant:"M",Escape:.0205,epitope:1,times_seen:2,effect:-.6914},{reference_site:"414",wildtype:"I",mutant:"N",Escape:-.006,epitope:1,times_seen:3.3333,effect:-.876},{reference_site:"414",wildtype:"I",mutant:"S",Escape:.0362,epitope:1,times_seen:1,effect:-2.8349},{reference_site:"414",wildtype:"I",mutant:"T",Escape:.0145,epitope:1,times_seen:2,effect:-.8703},{reference_site:"414",wildtype:"I",mutant:"V",Escape:.0178,epitope:1,times_seen:2,effect:-.9706},{reference_site:"414",wildtype:"I",mutant:"Y",Escape:.0035,epitope:1,times_seen:3.6667,effect:.138},{reference_site:"415",wildtype:"T",mutant:"A",Escape:.0559,epitope:1,times_seen:6.3333,effect:-.6006},{reference_site:"415",wildtype:"T",mutant:"C",Escape:-.0255,epitope:1,times_seen:3,effect:-.4786},{reference_site:"415",wildtype:"T",mutant:"E",Escape:.0102,epitope:1,times_seen:2.3333,effect:-.4273},{reference_site:"415",wildtype:"T",mutant:"F",Escape:.0402,epitope:1,times_seen:1.5,effect:-.9988},{reference_site:"415",wildtype:"T",mutant:"H",Escape:-.0559,epitope:1,times_seen:6,effect:-.3769},{reference_site:"415",wildtype:"T",mutant:"I",Escape:-.0044,epitope:1,times_seen:5.3333,effect:.1591},{reference_site:"415",wildtype:"T",mutant:"K",Escape:.0135,epitope:1,times_seen:2.6667,effect:-1.1717},{reference_site:"415",wildtype:"T",mutant:"M",Escape:-.0025,epitope:1,times_seen:2.3333,effect:-.559},{reference_site:"415",wildtype:"T",mutant:"N",Escape:.0026,epitope:1,times_seen:4.3333,effect:-.252},{reference_site:"415",wildtype:"T",mutant:"P",Escape:-.0224,epitope:1,times_seen:3.3333,effect:-.448},{reference_site:"415",wildtype:"T",mutant:"Q",Escape:.0391,epitope:1,times_seen:5,effect:-.1529},{reference_site:"415",wildtype:"T",mutant:"R",Escape:-.0074,epitope:1,times_seen:2.5,effect:-.6221},{reference_site:"415",wildtype:"T",mutant:"S",Escape:-.0263,epitope:1,times_seen:3.3333,effect:-.6292},{reference_site:"415",wildtype:"T",mutant:"V",Escape:-.0296,epitope:1,times_seen:2,effect:-.0118},{reference_site:"415",wildtype:"T",mutant:"W",Escape:.0077,epitope:1,times_seen:1,effect:-1.0269},{reference_site:"415",wildtype:"T",mutant:"Y",Escape:.0268,epitope:1,times_seen:4,effect:-.7264},{reference_site:"416",wildtype:"L",mutant:"C",Escape:-.0104,epitope:1,times_seen:1,effect:-1.5581},{reference_site:"416",wildtype:"L",mutant:"F",Escape:.0013,epitope:1,times_seen:2,effect:-1.129},{reference_site:"416",wildtype:"L",mutant:"H",Escape:.0231,epitope:1,times_seen:1,effect:-2.5969},{reference_site:"416",wildtype:"L",mutant:"I",Escape:-.0104,epitope:1,times_seen:2,effect:.1105},{reference_site:"416",wildtype:"L",mutant:"M",Escape:.0025,epitope:1,times_seen:22,effect:-.0975},{reference_site:"416",wildtype:"L",mutant:"V",Escape:.0051,epitope:1,times_seen:3,effect:-.5655},{reference_site:"417",wildtype:"Q",mutant:"A",Escape:-.0488,epitope:1,times_seen:3,effect:-.5001},{reference_site:"417",wildtype:"Q",mutant:"C",Escape:-.0141,epitope:1,times_seen:3,effect:-.5259},{reference_site:"417",wildtype:"Q",mutant:"D",Escape:-7e-4,epitope:1,times_seen:2.3333,effect:.0231},{reference_site:"417",wildtype:"Q",mutant:"E",Escape:.0551,epitope:1,times_seen:3.6667,effect:-.0507},{reference_site:"417",wildtype:"Q",mutant:"F",Escape:5e-4,epitope:1,times_seen:2,effect:-.5953},{reference_site:"417",wildtype:"Q",mutant:"G",Escape:.0106,epitope:1,times_seen:1,effect:-.4312},{reference_site:"417",wildtype:"Q",mutant:"H",Escape:.0045,epitope:1,times_seen:4.6667,effect:.068},{reference_site:"417",wildtype:"Q",mutant:"I",Escape:-.0138,epitope:1,times_seen:2.6667,effect:-.3186},{reference_site:"417",wildtype:"Q",mutant:"K",Escape:-.0011,epitope:1,times_seen:3,effect:-.0383},{reference_site:"417",wildtype:"Q",mutant:"L",Escape:-.0073,epitope:1,times_seen:2,effect:-.178},{reference_site:"417",wildtype:"Q",mutant:"M",Escape:-.1027,epitope:1,times_seen:6,effect:-.1342},{reference_site:"417",wildtype:"Q",mutant:"N",Escape:.0022,epitope:1,times_seen:2.6667,effect:.093},{reference_site:"417",wildtype:"Q",mutant:"P",Escape:-.0053,epitope:1,times_seen:1.5,effect:-.1634},{reference_site:"417",wildtype:"Q",mutant:"R",Escape:-.0335,epitope:1,times_seen:4.6667,effect:-.4932},{reference_site:"417",wildtype:"Q",mutant:"S",Escape:-.0068,epitope:1,times_seen:2,effect:-.2147},{reference_site:"417",wildtype:"Q",mutant:"T",Escape:.0363,epitope:1,times_seen:1,effect:-1.2071},{reference_site:"417",wildtype:"Q",mutant:"V",Escape:.0146,epitope:1,times_seen:2,effect:-.5808},{reference_site:"417",wildtype:"Q",mutant:"W",Escape:.0035,epitope:1,times_seen:1,effect:-1.5996},{reference_site:"417",wildtype:"Q",mutant:"Y",Escape:.0084,epitope:1,times_seen:2,effect:-.3986},{reference_site:"417",wildtype:"Q",mutant:"*",Escape:-9e-4,epitope:1,times_seen:1,effect:-3.0355},{reference_site:"418",wildtype:"C",mutant:"S",Escape:4e-4,epitope:1,times_seen:1.3333,effect:-2.3114},{reference_site:"418",wildtype:"C",mutant:"Y",Escape:-.0035,epitope:1,times_seen:2,effect:-2.4178},{reference_site:"419",wildtype:"R",mutant:"A",Escape:.0114,epitope:1,times_seen:1,effect:-1.0496},{reference_site:"419",wildtype:"R",mutant:"C",Escape:-.013,epitope:1,times_seen:3,effect:-.8774},{reference_site:"419",wildtype:"R",mutant:"F",Escape:.0161,epitope:1,times_seen:4.3333,effect:-.3228},{reference_site:"419",wildtype:"R",mutant:"G",Escape:.0018,epitope:1,times_seen:2,effect:-1.6711},{reference_site:"419",wildtype:"R",mutant:"I",Escape:.1609,epitope:1,times_seen:2.3333,effect:-3.1703},{reference_site:"419",wildtype:"R",mutant:"K",Escape:-.027,epitope:1,times_seen:5.3333,effect:-.1751},{reference_site:"419",wildtype:"R",mutant:"M",Escape:.0206,epitope:1,times_seen:3.3333,effect:-1.117},{reference_site:"419",wildtype:"R",mutant:"N",Escape:-4e-4,epitope:1,times_seen:5.6667,effect:-.6347},{reference_site:"419",wildtype:"R",mutant:"Q",Escape:.0012,epitope:1,times_seen:1.5,effect:-.8275},{reference_site:"419",wildtype:"R",mutant:"S",Escape:.0237,epitope:1,times_seen:3.6667,effect:-.6838},{reference_site:"419",wildtype:"R",mutant:"T",Escape:.0054,epitope:1,times_seen:1,effect:-1.372},{reference_site:"419",wildtype:"R",mutant:"W",Escape:-.0211,epitope:1,times_seen:1.6667,effect:.0225},{reference_site:"419",wildtype:"R",mutant:"*",Escape:.0888,epitope:1,times_seen:1,effect:-2.9112},{reference_site:"420",wildtype:"I",mutant:"L",Escape:-.0089,epitope:1,times_seen:1.6667,effect:.1621},{reference_site:"420",wildtype:"I",mutant:"M",Escape:.0359,epitope:1,times_seen:4.6667,effect:-.5288},{reference_site:"420",wildtype:"I",mutant:"N",Escape:.0306,epitope:1,times_seen:2,effect:-2.938},{reference_site:"420",wildtype:"I",mutant:"T",Escape:.0235,epitope:1,times_seen:1,effect:-2.7146},{reference_site:"420",wildtype:"I",mutant:"V",Escape:-.0105,epitope:1,times_seen:1,effect:-1.3353},{reference_site:"421",wildtype:"K",mutant:"E",Escape:.0092,epitope:1,times_seen:1,effect:-2.6291},{reference_site:"421",wildtype:"K",mutant:"I",Escape:.0074,epitope:1,times_seen:1,effect:-2.2412},{reference_site:"421",wildtype:"K",mutant:"N",Escape:-.0087,epitope:1,times_seen:1,effect:-3.4311},{reference_site:"421",wildtype:"K",mutant:"Q",Escape:.0247,epitope:1,times_seen:1,effect:-2.0532},{reference_site:"421",wildtype:"K",mutant:"R",Escape:.0225,epitope:1,times_seen:1.5,effect:-.3222},{reference_site:"421",wildtype:"K",mutant:"V",Escape:.0035,epitope:1,times_seen:2,effect:-2.1277},{reference_site:"421",wildtype:"K",mutant:"Y",Escape:.0392,epitope:1,times_seen:1,effect:-2.5668},{reference_site:"421",wildtype:"K",mutant:"*",Escape:.0056,epitope:1,times_seen:1,effect:.1059},{reference_site:"422",wildtype:"Q",mutant:"H",Escape:.0559,epitope:1,times_seen:2.6667,effect:-2.2028},{reference_site:"422",wildtype:"Q",mutant:"I",Escape:-.0029,epitope:1,times_seen:1,effect:-2.7025},{reference_site:"422",wildtype:"Q",mutant:"K",Escape:-.0218,epitope:1,times_seen:1,effect:-2.599},{reference_site:"422",wildtype:"Q",mutant:"L",Escape:.0155,epitope:1,times_seen:1,effect:-2.1549},{reference_site:"422",wildtype:"Q",mutant:"P",Escape:.0384,epitope:1,times_seen:1,effect:-1.8674},{reference_site:"422",wildtype:"Q",mutant:"R",Escape:-.0194,epitope:1,times_seen:4.6667,effect:-.8853},{reference_site:"422",wildtype:"Q",mutant:"S",Escape:-.0179,epitope:1,times_seen:2,effect:-1.0008},{reference_site:"422",wildtype:"Q",mutant:"*",Escape:.1088,epitope:1,times_seen:1,effect:-2.4129},{reference_site:"423",wildtype:"I",mutant:"F",Escape:.2747,epitope:1,times_seen:3.3333,effect:-.4324},{reference_site:"423",wildtype:"I",mutant:"H",Escape:.0134,epitope:1,times_seen:1,effect:-2.834},{reference_site:"423",wildtype:"I",mutant:"L",Escape:.0117,epitope:1,times_seen:1.5,effect:-.4239},{reference_site:"423",wildtype:"I",mutant:"M",Escape:-.0032,epitope:1,times_seen:3,effect:-.7143},{reference_site:"423",wildtype:"I",mutant:"V",Escape:-.0049,epitope:1,times_seen:1,effect:-.4511},{reference_site:"423",wildtype:"I",mutant:"Y",Escape:-.0081,epitope:1,times_seen:1,effect:-2.9111},{reference_site:"424",wildtype:"I",mutant:"L",Escape:-.0194,epitope:1,times_seen:3.6667,effect:-.6173},{reference_site:"424",wildtype:"I",mutant:"M",Escape:-.0445,epitope:1,times_seen:2.6667,effect:-.6451},{reference_site:"424",wildtype:"I",mutant:"N",Escape:-.0043,epitope:1,times_seen:1,effect:-1.02},{reference_site:"424",wildtype:"I",mutant:"R",Escape:-.0085,epitope:1,times_seen:1,effect:-1.1038},{reference_site:"424",wildtype:"I",mutant:"T",Escape:-.0243,epitope:1,times_seen:2.3333,effect:-.8786},{reference_site:"424",wildtype:"I",mutant:"V",Escape:-4e-4,epitope:1,times_seen:1.6667,effect:-.5539},{reference_site:"425",wildtype:"N",mutant:"A",Escape:-.0041,epitope:1,times_seen:2,effect:-.4945},{reference_site:"425",wildtype:"N",mutant:"D",Escape:.0965,epitope:1,times_seen:3.5,effect:-2.389},{reference_site:"425",wildtype:"N",mutant:"E",Escape:-.0103,epitope:1,times_seen:1,effect:-.859},{reference_site:"425",wildtype:"N",mutant:"F",Escape:-.0051,epitope:1,times_seen:2,effect:-.8279},{reference_site:"425",wildtype:"N",mutant:"G",Escape:-.0011,epitope:1,times_seen:1,effect:-.5791},{reference_site:"425",wildtype:"N",mutant:"H",Escape:.2097,epitope:1,times_seen:1.3333,effect:-.9003},{reference_site:"425",wildtype:"N",mutant:"I",Escape:.0087,epitope:1,times_seen:1.3333,effect:-1.4508},{reference_site:"425",wildtype:"N",mutant:"K",Escape:-.0074,epitope:1,times_seen:6,effect:-.1836},{reference_site:"425",wildtype:"N",mutant:"L",Escape:.0067,epitope:1,times_seen:1,effect:-.3485},{reference_site:"425",wildtype:"N",mutant:"M",Escape:-.0119,epitope:1,times_seen:3.6667,effect:-.1038},{reference_site:"425",wildtype:"N",mutant:"Q",Escape:-.0131,epitope:1,times_seen:1.3333,effect:.5785},{reference_site:"425",wildtype:"N",mutant:"R",Escape:-.015,epitope:1,times_seen:1,effect:-.297},{reference_site:"425",wildtype:"N",mutant:"S",Escape:.0248,epitope:1,times_seen:4.6667,effect:-.4609},{reference_site:"425",wildtype:"N",mutant:"T",Escape:.0201,epitope:1,times_seen:1,effect:-.8931},{reference_site:"425",wildtype:"N",mutant:"V",Escape:.0454,epitope:1,times_seen:2,effect:-.489},{reference_site:"425",wildtype:"N",mutant:"W",Escape:-.0387,epitope:1,times_seen:2.5,effect:-.4784},{reference_site:"425",wildtype:"N",mutant:"Y",Escape:.0129,epitope:1,times_seen:1.5,effect:-1.4948},{reference_site:"426",wildtype:"M",mutant:"A",Escape:.0353,epitope:1,times_seen:3,effect:-.3411},{reference_site:"426",wildtype:"M",mutant:"F",Escape:-.018,epitope:1,times_seen:4,effect:-.8266},{reference_site:"426",wildtype:"M",mutant:"G",Escape:.0025,epitope:1,times_seen:1,effect:-1.4862},{reference_site:"426",wildtype:"M",mutant:"H",Escape:.2171,epitope:1,times_seen:3.5,effect:-2.3149},{reference_site:"426",wildtype:"M",mutant:"I",Escape:-.1432,epitope:1,times_seen:7.6667,effect:-.304},{reference_site:"426",wildtype:"M",mutant:"K",Escape:-.0096,epitope:1,times_seen:2,effect:-.8182},{reference_site:"426",wildtype:"M",mutant:"L",Escape:-.0515,epitope:1,times_seen:3,effect:-.1716},{reference_site:"426",wildtype:"M",mutant:"N",Escape:-.0034,epitope:1,times_seen:1,effect:-.5271},{reference_site:"426",wildtype:"M",mutant:"R",Escape:.0096,epitope:1,times_seen:5.3333,effect:-.9638},{reference_site:"426",wildtype:"M",mutant:"S",Escape:.0161,epitope:1,times_seen:3.6667,effect:-.3792},{reference_site:"426",wildtype:"M",mutant:"T",Escape:-.0532,epitope:1,times_seen:3.6667,effect:-.3071},{reference_site:"426",wildtype:"M",mutant:"V",Escape:-.0678,epitope:1,times_seen:5,effect:-.1884},{reference_site:"426",wildtype:"M",mutant:"W",Escape:-.006,epitope:1,times_seen:1,effect:-2.2225},{reference_site:"426",wildtype:"M",mutant:"Y",Escape:-.0141,epitope:1,times_seen:1,effect:-.8594},{reference_site:"427",wildtype:"W",mutant:"C",Escape:.0364,epitope:1,times_seen:1,effect:-2.9219},{reference_site:"427",wildtype:"W",mutant:"G",Escape:.065,epitope:1,times_seen:1,effect:-1.7599},{reference_site:"427",wildtype:"W",mutant:"L",Escape:.5742,epitope:1,times_seen:3,effect:-2.9005},{reference_site:"427",wildtype:"W",mutant:"Q",Escape:.0289,epitope:1,times_seen:1,effect:-2.7259},{reference_site:"427",wildtype:"W",mutant:"R",Escape:.0631,epitope:1,times_seen:1,effect:-2.1778},{reference_site:"427",wildtype:"W",mutant:"S",Escape:-.0264,epitope:1,times_seen:1,effect:2.4851},{reference_site:"427",wildtype:"W",mutant:"*",Escape:.0245,epitope:1,times_seen:1.5,effect:-2.3227},{reference_site:"428",wildtype:"Q",mutant:"F",Escape:.4569,epitope:1,times_seen:1.6667,effect:-2.1301},{reference_site:"428",wildtype:"Q",mutant:"H",Escape:.1997,epitope:1,times_seen:7.3333,effect:-.7433},{reference_site:"428",wildtype:"Q",mutant:"K",Escape:.3096,epitope:1,times_seen:2.6667,effect:-3.4318},{reference_site:"428",wildtype:"Q",mutant:"L",Escape:1.1778,epitope:1,times_seen:4.6667,effect:-1.2946},{reference_site:"428",wildtype:"Q",mutant:"M",Escape:.793,epitope:1,times_seen:4.3333,effect:-1.1332},{reference_site:"428",wildtype:"Q",mutant:"N",Escape:-.0081,epitope:1,times_seen:1,effect:-2.3473},{reference_site:"428",wildtype:"Q",mutant:"R",Escape:.0172,epitope:1,times_seen:1,effect:-3.5857},{reference_site:"428",wildtype:"Q",mutant:"S",Escape:.0033,epitope:1,times_seen:1,effect:-1.2986},{reference_site:"428",wildtype:"Q",mutant:"T",Escape:.0781,epitope:1,times_seen:2,effect:-.1408},{reference_site:"428",wildtype:"Q",mutant:"V",Escape:.5932,epitope:1,times_seen:1.3333,effect:-.9834},{reference_site:"428",wildtype:"Q",mutant:"W",Escape:.0824,epitope:1,times_seen:1.3333,effect:-1.8428},{reference_site:"428",wildtype:"Q",mutant:"Y",Escape:1.2481,epitope:1,times_seen:2.6667,effect:-1.076},{reference_site:"429",wildtype:"R",mutant:"A",Escape:.0031,epitope:1,times_seen:1,effect:-.2004},{reference_site:"429",wildtype:"R",mutant:"D",Escape:.1075,epitope:1,times_seen:2,effect:-1.1831},{reference_site:"429",wildtype:"R",mutant:"E",Escape:-.0163,epitope:1,times_seen:1,effect:.3165},{reference_site:"429",wildtype:"R",mutant:"G",Escape:.7225,epitope:1,times_seen:3.6667,effect:-.8212},{reference_site:"429",wildtype:"R",mutant:"H",Escape:.0778,epitope:1,times_seen:1.6667,effect:.0246},{reference_site:"429",wildtype:"R",mutant:"I",Escape:.555,epitope:1,times_seen:4,effect:-1.2951},{reference_site:"429",wildtype:"R",mutant:"K",Escape:-.0069,epitope:1,times_seen:2.6667,effect:-.3087},{reference_site:"429",wildtype:"R",mutant:"L",Escape:-.0706,epitope:1,times_seen:1,effect:-1.3142},{reference_site:"429",wildtype:"R",mutant:"M",Escape:.0032,epitope:1,times_seen:1,effect:-.1624},{reference_site:"429",wildtype:"R",mutant:"N",Escape:.0994,epitope:1,times_seen:3.6667,effect:-.0967},{reference_site:"429",wildtype:"R",mutant:"Q",Escape:-.0166,epitope:1,times_seen:2,effect:-.1518},{reference_site:"429",wildtype:"R",mutant:"S",Escape:.2542,epitope:1,times_seen:6.3333,effect:-.0923},{reference_site:"429",wildtype:"R",mutant:"T",Escape:.0101,epitope:1,times_seen:1.6667,effect:-.0061},{reference_site:"429",wildtype:"R",mutant:"W",Escape:.0307,epitope:1,times_seen:1,effect:-1.6443},{reference_site:"429",wildtype:"R",mutant:"*",Escape:.0887,epitope:1,times_seen:1,effect:-2.3706},{reference_site:"430",wildtype:"A",mutant:"D",Escape:.9506,epitope:1,times_seen:3,effect:-2.2233},{reference_site:"430",wildtype:"A",mutant:"E",Escape:1.2214,epitope:1,times_seen:5.3333,effect:-1.6354},{reference_site:"430",wildtype:"A",mutant:"F",Escape:-.038,epitope:1,times_seen:4.6667,effect:.1927},{reference_site:"430",wildtype:"A",mutant:"G",Escape:-.0095,epitope:1,times_seen:10,effect:-.0135},{reference_site:"430",wildtype:"A",mutant:"H",Escape:-.007,epitope:1,times_seen:2,effect:-.7204},{reference_site:"430",wildtype:"A",mutant:"I",Escape:.0019,epitope:1,times_seen:3.3333,effect:-.0532},{reference_site:"430",wildtype:"A",mutant:"K",Escape:-.0215,epitope:1,times_seen:1.5,effect:-1.7175},{reference_site:"430",wildtype:"A",mutant:"L",Escape:-.0154,epitope:1,times_seen:2,effect:-.0451},{reference_site:"430",wildtype:"A",mutant:"M",Escape:.0859,epitope:1,times_seen:6.3333,effect:-.3336},{reference_site:"430",wildtype:"A",mutant:"N",Escape:-.0292,epitope:1,times_seen:3.6667,effect:-.2901},{reference_site:"430",wildtype:"A",mutant:"P",Escape:-.0227,epitope:1,times_seen:4.6667,effect:-.4654},{reference_site:"430",wildtype:"A",mutant:"Q",Escape:.0066,epitope:1,times_seen:6.3333,effect:-.1413},{reference_site:"430",wildtype:"A",mutant:"R",Escape:-.1335,epitope:1,times_seen:5.3333,effect:-.5614},{reference_site:"430",wildtype:"A",mutant:"S",Escape:.1658,epitope:1,times_seen:23.6667,effect:-.2458},{reference_site:"430",wildtype:"A",mutant:"T",Escape:-.0421,epitope:1,times_seen:18.3333,effect:.0468},{reference_site:"430",wildtype:"A",mutant:"V",Escape:.1656,epitope:1,times_seen:16.3333,effect:.0833},{reference_site:"430",wildtype:"A",mutant:"W",Escape:-.014,epitope:1,times_seen:2,effect:.2577},{reference_site:"430",wildtype:"A",mutant:"Y",Escape:.0779,epitope:1,times_seen:9.6667,effect:-.0944},{reference_site:"431",wildtype:"G",mutant:"A",Escape:.028,epitope:1,times_seen:2,effect:-.4485},{reference_site:"431",wildtype:"G",mutant:"C",Escape:.0166,epitope:1,times_seen:2,effect:-2.1863},{reference_site:"431",wildtype:"G",mutant:"D",Escape:.1153,epitope:1,times_seen:2,effect:-2.7382},{reference_site:"431",wildtype:"G",mutant:"E",Escape:.2706,epitope:1,times_seen:2,effect:-1.3117},{reference_site:"431",wildtype:"G",mutant:"F",Escape:-.0082,epitope:1,times_seen:2.3333,effect:-1.288},{reference_site:"431",wildtype:"G",mutant:"H",Escape:.0375,epitope:1,times_seen:2,effect:-1.1019},{reference_site:"431",wildtype:"G",mutant:"K",Escape:-.0117,epitope:1,times_seen:1,effect:-1.4198},{reference_site:"431",wildtype:"G",mutant:"L",Escape:-.0123,epitope:1,times_seen:1,effect:-.5191},{reference_site:"431",wildtype:"G",mutant:"M",Escape:-.0058,epitope:1,times_seen:1.6667,effect:-.6165},{reference_site:"431",wildtype:"G",mutant:"N",Escape:-.0369,epitope:1,times_seen:2.6667,effect:-.7095},{reference_site:"431",wildtype:"G",mutant:"Q",Escape:-.0125,epitope:1,times_seen:1,effect:-.3213},{reference_site:"431",wildtype:"G",mutant:"R",Escape:-.0144,epitope:1,times_seen:1,effect:-1.3769},{reference_site:"431",wildtype:"G",mutant:"S",Escape:.0781,epitope:1,times_seen:14.3333,effect:-.756},{reference_site:"431",wildtype:"G",mutant:"T",Escape:.0364,epitope:1,times_seen:3,effect:-.8666},{reference_site:"431",wildtype:"G",mutant:"V",Escape:-.0162,epitope:1,times_seen:12.3333,effect:-.3709},{reference_site:"431",wildtype:"G",mutant:"W",Escape:-.0334,epitope:1,times_seen:1,effect:-2.165},{reference_site:"432",wildtype:"Q",mutant:"E",Escape:.02,epitope:1,times_seen:2.6667,effect:-.2288},{reference_site:"432",wildtype:"Q",mutant:"F",Escape:-.0035,epitope:1,times_seen:1,effect:.0887},{reference_site:"432",wildtype:"Q",mutant:"G",Escape:-.0196,epitope:1,times_seen:1,effect:.3206},{reference_site:"432",wildtype:"Q",mutant:"H",Escape:.0128,epitope:1,times_seen:13.3333,effect:-.0972},{reference_site:"432",wildtype:"Q",mutant:"K",Escape:-.047,epitope:1,times_seen:4,effect:-1.1836},{reference_site:"432",wildtype:"Q",mutant:"L",Escape:.0308,epitope:1,times_seen:13.6667,effect:.0536},{reference_site:"432",wildtype:"Q",mutant:"M",Escape:.0197,epitope:1,times_seen:6,effect:-.3722},{reference_site:"432",wildtype:"Q",mutant:"N",Escape:0,epitope:1,times_seen:1,effect:-.4642},{reference_site:"432",wildtype:"Q",mutant:"P",Escape:.0233,epitope:1,times_seen:1,effect:-.4282},{reference_site:"432",wildtype:"Q",mutant:"R",Escape:.0386,epitope:1,times_seen:5.3333,effect:-.3249},{reference_site:"432",wildtype:"Q",mutant:"T",Escape:.0037,epitope:1,times_seen:3,effect:-.2963},{reference_site:"432",wildtype:"Q",mutant:"V",Escape:-.0628,epitope:1,times_seen:3.6667,effect:.2365},{reference_site:"432",wildtype:"Q",mutant:"W",Escape:.0801,epitope:1,times_seen:4.6667,effect:-.4344},{reference_site:"432",wildtype:"Q",mutant:"Y",Escape:.0025,epitope:1,times_seen:2,effect:-.1614},{reference_site:"432",wildtype:"Q",mutant:"*",Escape:.0187,epitope:1,times_seen:1,effect:-2.937},{reference_site:"433",wildtype:"A",mutant:"D",Escape:.0561,epitope:1,times_seen:3,effect:-.8527},{reference_site:"433",wildtype:"A",mutant:"F",Escape:-.0434,epitope:1,times_seen:4.3333,effect:-.8133},{reference_site:"433",wildtype:"A",mutant:"G",Escape:.0155,epitope:1,times_seen:4.6667,effect:-.3431},{reference_site:"433",wildtype:"A",mutant:"H",Escape:-.0145,epitope:1,times_seen:2.6667,effect:.1679},{reference_site:"433",wildtype:"A",mutant:"I",Escape:-.0246,epitope:1,times_seen:7.3333,effect:-.4482},{reference_site:"433",wildtype:"A",mutant:"M",Escape:.0456,epitope:1,times_seen:3,effect:.2114},{reference_site:"433",wildtype:"A",mutant:"P",Escape:.0139,epitope:1,times_seen:4,effect:-2.7075},{reference_site:"433",wildtype:"A",mutant:"S",Escape:-7e-4,epitope:1,times_seen:14,effect:-.0442},{reference_site:"433",wildtype:"A",mutant:"T",Escape:-.0906,epitope:1,times_seen:31.6667,effect:-.0627},{reference_site:"433",wildtype:"A",mutant:"V",Escape:.087,epitope:1,times_seen:7.3333,effect:-.138},{reference_site:"433",wildtype:"A",mutant:"W",Escape:-.0397,epitope:1,times_seen:1.6667,effect:-.992},{reference_site:"433",wildtype:"A",mutant:"Y",Escape:.0176,epitope:1,times_seen:6,effect:-.3191},{reference_site:"434",wildtype:"I",mutant:"K",Escape:-.0139,epitope:1,times_seen:1,effect:-2.7347},{reference_site:"434",wildtype:"I",mutant:"L",Escape:-.0097,epitope:1,times_seen:1,effect:-.3275},{reference_site:"434",wildtype:"I",mutant:"M",Escape:-.0046,epitope:1,times_seen:2.6667,effect:-.0586},{reference_site:"434",wildtype:"I",mutant:"R",Escape:-.0083,epitope:1,times_seen:1,effect:.6686},{reference_site:"434",wildtype:"I",mutant:"T",Escape:-.0606,epitope:1,times_seen:5.6667,effect:-.1823},{reference_site:"434",wildtype:"I",mutant:"Y",Escape:.0151,epitope:1,times_seen:2.3333,effect:-1.1915},{reference_site:"435",wildtype:"Y",mutant:"C",Escape:-.0027,epitope:1,times_seen:1,effect:-3.2914},{reference_site:"435",wildtype:"Y",mutant:"D",Escape:.0435,epitope:1,times_seen:1,effect:-2.901},{reference_site:"435",wildtype:"Y",mutant:"F",Escape:.0285,epitope:1,times_seen:6,effect:-.1634},{reference_site:"435",wildtype:"Y",mutant:"H",Escape:-.0136,epitope:1,times_seen:1,effect:-3.1057},{reference_site:"435",wildtype:"Y",mutant:"N",Escape:.0422,epitope:1,times_seen:4,effect:-3.2185},{reference_site:"435",wildtype:"Y",mutant:"S",Escape:.044,epitope:1,times_seen:1,effect:-2.3628},{reference_site:"435",wildtype:"Y",mutant:"W",Escape:-.0082,epitope:1,times_seen:1,effect:.7191},{reference_site:"436",wildtype:"A",mutant:"D",Escape:.0445,epitope:1,times_seen:1,effect:-3.3025},{reference_site:"436",wildtype:"A",mutant:"F",Escape:-.0137,epitope:1,times_seen:1,effect:-2.4392},{reference_site:"436",wildtype:"A",mutant:"I",Escape:.0021,epitope:1,times_seen:2.3333,effect:-1.6707},{reference_site:"436",wildtype:"A",mutant:"L",Escape:.0115,epitope:1,times_seen:1,effect:-.6738},{reference_site:"436",wildtype:"A",mutant:"M",Escape:-.0392,epitope:1,times_seen:2.6667,effect:-.7149},{reference_site:"436",wildtype:"A",mutant:"N",Escape:-.002,epitope:1,times_seen:3,effect:.2571},{reference_site:"436",wildtype:"A",mutant:"P",Escape:.0383,epitope:1,times_seen:1.3333,effect:-2.6907},{reference_site:"436",wildtype:"A",mutant:"Q",Escape:.0749,epitope:1,times_seen:3,effect:.0476},{reference_site:"436",wildtype:"A",mutant:"S",Escape:-.0327,epitope:1,times_seen:3.3333,effect:-.3347},{reference_site:"436",wildtype:"A",mutant:"T",Escape:-.0628,epitope:1,times_seen:9,effect:-.0602},{reference_site:"436",wildtype:"A",mutant:"V",Escape:-.0511,epitope:1,times_seen:7,effect:-.9419},{reference_site:"436",wildtype:"A",mutant:"W",Escape:-.0173,epitope:1,times_seen:1,effect:.8352},{reference_site:"436",wildtype:"A",mutant:"Y",Escape:.0031,epitope:1,times_seen:2.3333,effect:-.7012},{reference_site:"437",wildtype:"P",mutant:"A",Escape:.0064,epitope:1,times_seen:3,effect:-.0865},{reference_site:"437",wildtype:"P",mutant:"H",Escape:-.0159,epitope:1,times_seen:8.3333,effect:-1.0075},{reference_site:"437",wildtype:"P",mutant:"I",Escape:-.0154,epitope:1,times_seen:2.3333,effect:-1.5582},{reference_site:"437",wildtype:"P",mutant:"L",Escape:-.0238,epitope:1,times_seen:7.5,effect:-.9502},{reference_site:"437",wildtype:"P",mutant:"N",Escape:.0917,epitope:1,times_seen:6.3333,effect:-.0272},{reference_site:"437",wildtype:"P",mutant:"Q",Escape:-.003,epitope:1,times_seen:1.3333,effect:-.086},{reference_site:"437",wildtype:"P",mutant:"S",Escape:.0253,epitope:1,times_seen:1,effect:-.2953},{reference_site:"437",wildtype:"P",mutant:"T",Escape:.0762,epitope:1,times_seen:6.3333,effect:-.6391},{reference_site:"437",wildtype:"P",mutant:"V",Escape:.05,epitope:1,times_seen:3,effect:-.0686},{reference_site:"437",wildtype:"P",mutant:"Y",Escape:4e-4,epitope:1,times_seen:2,effect:-.9597},{reference_site:"438",wildtype:"P",mutant:"A",Escape:-.0033,epitope:1,times_seen:1,effect:-1.0535},{reference_site:"438",wildtype:"P",mutant:"H",Escape:.0454,epitope:1,times_seen:3,effect:-3.1103},{reference_site:"438",wildtype:"P",mutant:"L",Escape:.0128,epitope:1,times_seen:1,effect:-2.8565},{reference_site:"438",wildtype:"P",mutant:"S",Escape:-.0212,epitope:1,times_seen:2.3333,effect:-.4644},{reference_site:"438",wildtype:"P",mutant:"T",Escape:.0558,epitope:1,times_seen:8.3333,effect:-1.1461},{reference_site:"438",wildtype:"P",mutant:"V",Escape:.0081,epitope:1,times_seen:1.6667,effect:-.3693},{reference_site:"439",wildtype:"I",mutant:"L",Escape:-.0075,epitope:1,times_seen:1,effect:.0552},{reference_site:"439",wildtype:"I",mutant:"M",Escape:-.017,epitope:1,times_seen:3.3333,effect:-.2562},{reference_site:"439",wildtype:"I",mutant:"N",Escape:.0833,epitope:1,times_seen:8.6667,effect:-.4576},{reference_site:"439",wildtype:"I",mutant:"S",Escape:.0922,epitope:1,times_seen:4,effect:-.0643},{reference_site:"439",wildtype:"I",mutant:"T",Escape:.0597,epitope:1,times_seen:8.6667,effect:-.5467},{reference_site:"439",wildtype:"I",mutant:"V",Escape:-.019,epitope:1,times_seen:1,effect:.8169},{reference_site:"440",wildtype:"P",mutant:"A",Escape:-.0146,epitope:1,times_seen:2,effect:-.0756},{reference_site:"440",wildtype:"P",mutant:"C",Escape:.5694,epitope:1,times_seen:3.3333,effect:-.4479},{reference_site:"440",wildtype:"P",mutant:"D",Escape:.2359,epitope:1,times_seen:3.3333,effect:-.7576},{reference_site:"440",wildtype:"P",mutant:"E",Escape:.1343,epitope:1,times_seen:3,effect:.2378},{reference_site:"440",wildtype:"P",mutant:"G",Escape:.0463,epitope:1,times_seen:2,effect:-.0921},{reference_site:"440",wildtype:"P",mutant:"H",Escape:-.1612,epitope:1,times_seen:13.3333,effect:-.372},{reference_site:"440",wildtype:"P",mutant:"I",Escape:-.0096,epitope:1,times_seen:2,effect:-.7892},{reference_site:"440",wildtype:"P",mutant:"K",Escape:-.0599,epitope:1,times_seen:2.3333,effect:-.5934},{reference_site:"440",wildtype:"P",mutant:"L",Escape:-.0154,epitope:1,times_seen:1,effect:-.4005},{reference_site:"440",wildtype:"P",mutant:"M",Escape:-.0092,epitope:1,times_seen:1.6667,effect:-1.0302},{reference_site:"440",wildtype:"P",mutant:"N",Escape:-.0119,epitope:1,times_seen:1,effect:-1.0616},{reference_site:"440",wildtype:"P",mutant:"Q",Escape:-.0013,epitope:1,times_seen:4.3333,effect:-.1617},{reference_site:"440",wildtype:"P",mutant:"R",Escape:-.0541,epitope:1,times_seen:2,effect:-.0054},{reference_site:"440",wildtype:"P",mutant:"S",Escape:-.0278,epitope:1,times_seen:5.3333,effect:-.373},{reference_site:"440",wildtype:"P",mutant:"T",Escape:-.0033,epitope:1,times_seen:12.6667,effect:-.1221},{reference_site:"440",wildtype:"P",mutant:"V",Escape:-.0118,epitope:1,times_seen:1,effect:.1044},{reference_site:"441",wildtype:"G",mutant:"A",Escape:.006,epitope:1,times_seen:2,effect:-2.1406},{reference_site:"441",wildtype:"G",mutant:"C",Escape:.0068,epitope:1,times_seen:4.3333,effect:-2.244},{reference_site:"441",wildtype:"G",mutant:"D",Escape:.0208,epitope:1,times_seen:2,effect:-1.8445},{reference_site:"441",wildtype:"G",mutant:"E",Escape:6e-4,epitope:1,times_seen:2.5,effect:-1.5431},{reference_site:"441",wildtype:"G",mutant:"R",Escape:-.0354,epitope:1,times_seen:2,effect:-2.2483},{reference_site:"441",wildtype:"G",mutant:"S",Escape:-.0214,epitope:1,times_seen:2.6667,effect:-2.5652},{reference_site:"441",wildtype:"G",mutant:"V",Escape:.0053,epitope:1,times_seen:1,effect:-2.4185},{reference_site:"442",wildtype:"V",mutant:"A",Escape:-.0828,epitope:1,times_seen:4,effect:.078},{reference_site:"442",wildtype:"V",mutant:"E",Escape:-.0313,epitope:1,times_seen:4,effect:-.6192},{reference_site:"442",wildtype:"V",mutant:"F",Escape:-.0246,epitope:1,times_seen:2.6667,effect:-.2667},{reference_site:"442",wildtype:"V",mutant:"G",Escape:-.0151,epitope:1,times_seen:2.3333,effect:-.4819},{reference_site:"442",wildtype:"V",mutant:"H",Escape:.0382,epitope:1,times_seen:1,effect:-1.2821},{reference_site:"442",wildtype:"V",mutant:"K",Escape:-.0353,epitope:1,times_seen:4.6667,effect:-.0135},{reference_site:"442",wildtype:"V",mutant:"L",Escape:-.0061,epitope:1,times_seen:3.6667,effect:-.2685},{reference_site:"442",wildtype:"V",mutant:"M",Escape:-.0776,epitope:1,times_seen:5.3333,effect:-.035},{reference_site:"442",wildtype:"V",mutant:"N",Escape:.0504,epitope:1,times_seen:3,effect:-1.2625},{reference_site:"442",wildtype:"V",mutant:"P",Escape:-.0149,epitope:1,times_seen:1,effect:-.074},{reference_site:"442",wildtype:"V",mutant:"Q",Escape:-.0728,epitope:1,times_seen:6.5,effect:-.1653},{reference_site:"442",wildtype:"V",mutant:"R",Escape:-.0112,epitope:1,times_seen:2,effect:-.246},{reference_site:"442",wildtype:"V",mutant:"S",Escape:-.0137,epitope:1,times_seen:1,effect:-.5609},{reference_site:"442",wildtype:"V",mutant:"T",Escape:.0209,epitope:1,times_seen:1,effect:-.3285},{reference_site:"442",wildtype:"V",mutant:"W",Escape:-9e-4,epitope:1,times_seen:1.3333,effect:-1.368},{reference_site:"442",wildtype:"V",mutant:"Y",Escape:-.0448,epitope:1,times_seen:3.6667,effect:-.429},{reference_site:"443",wildtype:"I",mutant:"A",Escape:.0094,epitope:1,times_seen:1,effect:-.86},{reference_site:"443",wildtype:"I",mutant:"C",Escape:.0463,epitope:1,times_seen:2,effect:-.6211},{reference_site:"443",wildtype:"I",mutant:"E",Escape:-.0025,epitope:1,times_seen:1,effect:-2.2556},{reference_site:"443",wildtype:"I",mutant:"L",Escape:-.0185,epitope:1,times_seen:1,effect:-.0138},{reference_site:"443",wildtype:"I",mutant:"M",Escape:-.0172,epitope:1,times_seen:2.6667,effect:-.7152},{reference_site:"443",wildtype:"I",mutant:"N",Escape:.0067,epitope:1,times_seen:1,effect:-3.3342},{reference_site:"443",wildtype:"I",mutant:"P",Escape:.0072,epitope:1,times_seen:1.5,effect:-2.5494},{reference_site:"443",wildtype:"I",mutant:"T",Escape:.0097,epitope:1,times_seen:2.6667,effect:-2.5754},{reference_site:"443",wildtype:"I",mutant:"V",Escape:-.011,epitope:1,times_seen:1,effect:-1.2157},{reference_site:"443",wildtype:"I",mutant:"Y",Escape:-.0478,epitope:1,times_seen:4,effect:-1.8012},{reference_site:"444",wildtype:"R",mutant:"A",Escape:-.0092,epitope:1,times_seen:1,effect:-.5873},{reference_site:"444",wildtype:"R",mutant:"C",Escape:-.0506,epitope:1,times_seen:3,effect:.0034},{reference_site:"444",wildtype:"R",mutant:"D",Escape:.0077,epitope:1,times_seen:5.3333,effect:-.0781},{reference_site:"444",wildtype:"R",mutant:"E",Escape:.0075,epitope:1,times_seen:6,effect:-.185},{reference_site:"444",wildtype:"R",mutant:"F",Escape:.0222,epitope:1,times_seen:4,effect:.0443},{reference_site:"444",wildtype:"R",mutant:"G",Escape:.0026,epitope:1,times_seen:4.3333,effect:-.1943},{reference_site:"444",wildtype:"R",mutant:"H",Escape:.0312,epitope:1,times_seen:3.3333,effect:.1392},{reference_site:"444",wildtype:"R",mutant:"I",Escape:-.0181,epitope:1,times_seen:9,effect:-.3337},{reference_site:"444",wildtype:"R",mutant:"K",Escape:.0134,epitope:1,times_seen:8.6667,effect:.072},{reference_site:"444",wildtype:"R",mutant:"L",Escape:.0315,epitope:1,times_seen:4,effect:-.2169},{reference_site:"444",wildtype:"R",mutant:"M",Escape:.0124,epitope:1,times_seen:7,effect:-.0371},{reference_site:"444",wildtype:"R",mutant:"N",Escape:-.0047,epitope:1,times_seen:6,effect:.1039},{reference_site:"444",wildtype:"R",mutant:"Q",Escape:-.0114,epitope:1,times_seen:1.6667,effect:.1439},{reference_site:"444",wildtype:"R",mutant:"S",Escape:.0131,epitope:1,times_seen:12,effect:.0147},{reference_site:"444",wildtype:"R",mutant:"T",Escape:.0946,epitope:1,times_seen:5,effect:-.0652},{reference_site:"444",wildtype:"R",mutant:"V",Escape:.0267,epitope:1,times_seen:4.6667,effect:-.0514},{reference_site:"444",wildtype:"R",mutant:"W",Escape:.0088,epitope:1,times_seen:3.6667,effect:-.1073},{reference_site:"444",wildtype:"R",mutant:"Y",Escape:.0371,epitope:1,times_seen:3,effect:-.2426},{reference_site:"445",wildtype:"C",mutant:"A",Escape:.0074,epitope:1,times_seen:1.5,effect:-1.8433},{reference_site:"445",wildtype:"C",mutant:"F",Escape:.0342,epitope:1,times_seen:1,effect:-2.1586},{reference_site:"445",wildtype:"C",mutant:"G",Escape:.0264,epitope:1,times_seen:1,effect:-3.3814},{reference_site:"445",wildtype:"C",mutant:"R",Escape:-.001,epitope:1,times_seen:1,effect:-3.2749},{reference_site:"445",wildtype:"C",mutant:"S",Escape:.0074,epitope:1,times_seen:1.6667,effect:-2.8626},{reference_site:"445",wildtype:"C",mutant:"Y",Escape:.0018,epitope:1,times_seen:1,effect:-1.9435},{reference_site:"445",wildtype:"C",mutant:"*",Escape:-.0132,epitope:1,times_seen:1,effect:-2.3155},{reference_site:"446",wildtype:"K",mutant:"A",Escape:.0042,epitope:1,times_seen:1.6667,effect:-.3402},{reference_site:"446",wildtype:"K",mutant:"C",Escape:-.0409,epitope:1,times_seen:6,effect:-.6985},{reference_site:"446",wildtype:"K",mutant:"D",Escape:-.0076,epitope:1,times_seen:1,effect:.1903},{reference_site:"446",wildtype:"K",mutant:"E",Escape:-.0023,epitope:1,times_seen:7.6667,effect:.1748},{reference_site:"446",wildtype:"K",mutant:"F",Escape:-.0049,epitope:1,times_seen:3.3333,effect:-.0775},{reference_site:"446",wildtype:"K",mutant:"G",Escape:.0086,epitope:1,times_seen:2.6667,effect:-.4846},{reference_site:"446",wildtype:"K",mutant:"H",Escape:.022,epitope:1,times_seen:2,effect:-.219},{reference_site:"446",wildtype:"K",mutant:"I",Escape:.0114,epitope:1,times_seen:3.3333,effect:-.0655},{reference_site:"446",wildtype:"K",mutant:"L",Escape:.0173,epitope:1,times_seen:3,effect:-.3164},{reference_site:"446",wildtype:"K",mutant:"M",Escape:.0067,epitope:1,times_seen:5.3333,effect:-.2519},{reference_site:"446",wildtype:"K",mutant:"N",Escape:.0072,epitope:1,times_seen:12,effect:.0497},{reference_site:"446",wildtype:"K",mutant:"P",Escape:.0237,epitope:1,times_seen:2.5,effect:-.6646},{reference_site:"446",wildtype:"K",mutant:"Q",Escape:-.0345,epitope:1,times_seen:4.6667,effect:.0293},{reference_site:"446",wildtype:"K",mutant:"R",Escape:-.0108,epitope:1,times_seen:3,effect:-.3185},{reference_site:"446",wildtype:"K",mutant:"S",Escape:-.0211,epitope:1,times_seen:2.6667,effect:-.5681},{reference_site:"446",wildtype:"K",mutant:"T",Escape:-.0178,epitope:1,times_seen:5.3333,effect:-.1264},{reference_site:"446",wildtype:"K",mutant:"V",Escape:-.0088,epitope:1,times_seen:1.3333,effect:.1056},{reference_site:"446",wildtype:"K",mutant:"W",Escape:-.0306,epitope:1,times_seen:3.6667,effect:-.6562},{reference_site:"447",wildtype:"S",mutant:"A",Escape:-.0284,epitope:1,times_seen:1.5,effect:-1.6294},{reference_site:"447",wildtype:"S",mutant:"C",Escape:.0016,epitope:1,times_seen:2,effect:-2.5273},{reference_site:"447",wildtype:"S",mutant:"F",Escape:.0375,epitope:1,times_seen:3,effect:-1.3395},{reference_site:"447",wildtype:"S",mutant:"G",Escape:.034,epitope:1,times_seen:3.3333,effect:-.7611},{reference_site:"447",wildtype:"S",mutant:"H",Escape:-.0409,epitope:1,times_seen:3.3333,effect:-1.1727},{reference_site:"447",wildtype:"S",mutant:"K",Escape:.1092,epitope:1,times_seen:3,effect:-3.4793},{reference_site:"447",wildtype:"S",mutant:"M",Escape:-.0166,epitope:1,times_seen:3,effect:-1.6241},{reference_site:"447",wildtype:"S",mutant:"N",Escape:.0082,epitope:1,times_seen:9.3333,effect:-.2183},{reference_site:"447",wildtype:"S",mutant:"Q",Escape:-.0115,epitope:1,times_seen:4.3333,effect:-.5438},{reference_site:"447",wildtype:"S",mutant:"T",Escape:-.0407,epitope:1,times_seen:9,effect:-1.0172},{reference_site:"447",wildtype:"S",mutant:"W",Escape:-.0361,epitope:1,times_seen:4.6667,effect:-1.6291},{reference_site:"447",wildtype:"S",mutant:"Y",Escape:-.04,epitope:1,times_seen:5.3333,effect:-1.0773},{reference_site:"448",wildtype:"N",mutant:"A",Escape:.0317,epitope:1,times_seen:1,effect:-1.0909},{reference_site:"448",wildtype:"N",mutant:"D",Escape:-.0219,epitope:1,times_seen:3,effect:-.0792},{reference_site:"448",wildtype:"N",mutant:"E",Escape:-.0025,epitope:1,times_seen:3.3333,effect:-.0588},{reference_site:"448",wildtype:"N",mutant:"F",Escape:-.0477,epitope:1,times_seen:7,effect:-.2813},{reference_site:"448",wildtype:"N",mutant:"G",Escape:-.0122,epitope:1,times_seen:1,effect:-.6793},{reference_site:"448",wildtype:"N",mutant:"H",Escape:-.0073,epitope:1,times_seen:1.3333,effect:-1.2384},{reference_site:"448",wildtype:"N",mutant:"I",Escape:-.0147,epitope:1,times_seen:6.3333,effect:-.0428},{reference_site:"448",wildtype:"N",mutant:"K",Escape:-.0347,epitope:1,times_seen:10.3333,effect:-.0675},{reference_site:"448",wildtype:"N",mutant:"M",Escape:-.1158,epitope:1,times_seen:12.6667,effect:-.2065},{reference_site:"448",wildtype:"N",mutant:"Q",Escape:-.0131,epitope:1,times_seen:1,effect:-.5464},{reference_site:"448",wildtype:"N",mutant:"S",Escape:-.0061,epitope:1,times_seen:1.6667,effect:-.4292},{reference_site:"448",wildtype:"N",mutant:"T",Escape:-.0207,epitope:1,times_seen:5,effect:-.1778},{reference_site:"448",wildtype:"N",mutant:"V",Escape:.0518,epitope:1,times_seen:1.5,effect:-.3622},{reference_site:"448",wildtype:"N",mutant:"W",Escape:-.0102,epitope:1,times_seen:2,effect:-.7157},{reference_site:"448",wildtype:"N",mutant:"Y",Escape:-.0495,epitope:1,times_seen:10.3333,effect:-.0809},{reference_site:"449",wildtype:"I",mutant:"F",Escape:.024,epitope:1,times_seen:1.6667,effect:-3.1742},{reference_site:"449",wildtype:"I",mutant:"L",Escape:-.0046,epitope:1,times_seen:1.6667,effect:-1.171},{reference_site:"449",wildtype:"I",mutant:"S",Escape:.0173,epitope:1,times_seen:1.6667,effect:-3.3067},{reference_site:"449",wildtype:"I",mutant:"T",Escape:-.006,epitope:1,times_seen:1,effect:-2.9844},{reference_site:"449",wildtype:"I",mutant:"V",Escape:-.0075,epitope:1,times_seen:3,effect:-.054},{reference_site:"449",wildtype:"I",mutant:"Y",Escape:-.0069,epitope:1,times_seen:3,effect:-3.1357},{reference_site:"450",wildtype:"T",mutant:"A",Escape:.0101,epitope:1,times_seen:2.6667,effect:-2.8985},{reference_site:"450",wildtype:"T",mutant:"I",Escape:.0433,epitope:1,times_seen:3.5,effect:-2.5688},{reference_site:"450",wildtype:"T",mutant:"N",Escape:-.0103,epitope:1,times_seen:1,effect:-.1901},{reference_site:"450",wildtype:"T",mutant:"S",Escape:.004,epitope:1,times_seen:10.6667,effect:-.1305},{reference_site:"450",wildtype:"T",mutant:"V",Escape:-.0173,epitope:1,times_seen:2.6667,effect:-1.4032},{reference_site:"450",wildtype:"T",mutant:"-",Escape:.0478,epitope:1,times_seen:1,effect:1.3784},{reference_site:"451",wildtype:"G",mutant:"A",Escape:.0118,epitope:1,times_seen:6.6667,effect:-.7008},{reference_site:"451",wildtype:"G",mutant:"C",Escape:.0089,epitope:1,times_seen:1.3333,effect:-3.2145},{reference_site:"451",wildtype:"G",mutant:"D",Escape:.1564,epitope:1,times_seen:5,effect:-3.2302},{reference_site:"451",wildtype:"G",mutant:"E",Escape:.012,epitope:1,times_seen:1.5,effect:-2.8035},{reference_site:"451",wildtype:"G",mutant:"I",Escape:.031,epitope:1,times_seen:3.5,effect:-3.0059},{reference_site:"451",wildtype:"G",mutant:"S",Escape:-.049,epitope:1,times_seen:10.3333,effect:-.6345},{reference_site:"451",wildtype:"G",mutant:"V",Escape:.1539,epitope:1,times_seen:2.5,effect:-3.2435},{reference_site:"452",wildtype:"L",mutant:"F",Escape:-.0221,epitope:1,times_seen:4,effect:-.5544},{reference_site:"452",wildtype:"L",mutant:"I",Escape:-.0034,epitope:1,times_seen:2,effect:-.618},{reference_site:"452",wildtype:"L",mutant:"M",Escape:-.0552,epitope:1,times_seen:12.6667,effect:-.0164},{reference_site:"452",wildtype:"L",mutant:"S",Escape:.0497,epitope:1,times_seen:1,effect:-3.1278},{reference_site:"452",wildtype:"L",mutant:"V",Escape:-.0169,epitope:1,times_seen:4.3333,effect:-.5456},{reference_site:"452",wildtype:"L",mutant:"W",Escape:-.0164,epitope:1,times_seen:4.6667,effect:-1.0806},{reference_site:"453",wildtype:"I",mutant:"F",Escape:-.0113,epitope:1,times_seen:5,effect:-.7721},{reference_site:"453",wildtype:"I",mutant:"L",Escape:.0039,epitope:1,times_seen:2,effect:-.5646},{reference_site:"453",wildtype:"I",mutant:"M",Escape:-.0377,epitope:1,times_seen:4,effect:-.3298},{reference_site:"453",wildtype:"I",mutant:"T",Escape:.0829,epitope:1,times_seen:3,effect:-2.4626},{reference_site:"453",wildtype:"I",mutant:"V",Escape:-.008,epitope:1,times_seen:2,effect:-.6784},{reference_site:"454",wildtype:"L",mutant:"D",Escape:.0912,epitope:1,times_seen:2,effect:-3.0145},{reference_site:"454",wildtype:"L",mutant:"F",Escape:-.0123,epitope:1,times_seen:1,effect:-1.6328},{reference_site:"454",wildtype:"L",mutant:"H",Escape:3e-4,epitope:1,times_seen:1.5,effect:-2.9769},{reference_site:"454",wildtype:"L",mutant:"I",Escape:-.01,epitope:1,times_seen:5.3333,effect:.2026},{reference_site:"454",wildtype:"L",mutant:"M",Escape:-.0665,epitope:1,times_seen:19,effect:-.209},{reference_site:"454",wildtype:"L",mutant:"P",Escape:.0395,epitope:1,times_seen:1,effect:-2.2715},{reference_site:"454",wildtype:"L",mutant:"S",Escape:.0112,epitope:1,times_seen:1,effect:-2.2866},{reference_site:"454",wildtype:"L",mutant:"V",Escape:.0087,epitope:1,times_seen:6,effect:-.2957},{reference_site:"454",wildtype:"L",mutant:"W",Escape:.0026,epitope:1,times_seen:1,effect:-3.471},{reference_site:"455",wildtype:"T",mutant:"A",Escape:.0021,epitope:1,times_seen:1,effect:-1.9274},{reference_site:"455",wildtype:"T",mutant:"E",Escape:.0014,epitope:1,times_seen:1,effect:-2.7608},{reference_site:"455",wildtype:"T",mutant:"F",Escape:-.0049,epitope:1,times_seen:2.3333,effect:-1.3496},{reference_site:"455",wildtype:"T",mutant:"I",Escape:.0731,epitope:1,times_seen:2,effect:-2.5534},{reference_site:"455",wildtype:"T",mutant:"M",Escape:.0056,epitope:1,times_seen:2.6667,effect:-1.6804},{reference_site:"455",wildtype:"T",mutant:"N",Escape:7e-4,epitope:1,times_seen:3.3333,effect:-1.891},{reference_site:"455",wildtype:"T",mutant:"P",Escape:.1561,epitope:1,times_seen:2,effect:-3.0813},{reference_site:"455",wildtype:"T",mutant:"Q",Escape:.0067,epitope:1,times_seen:1,effect:-2.04},{reference_site:"455",wildtype:"T",mutant:"S",Escape:-.0357,epitope:1,times_seen:6.6667,effect:-.6319},{reference_site:"455",wildtype:"T",mutant:"V",Escape:-.0014,epitope:1,times_seen:1,effect:-1.5995},{reference_site:"456",wildtype:"R",mutant:"D",Escape:-.0077,epitope:1,times_seen:2.5,effect:-2.2705},{reference_site:"456",wildtype:"R",mutant:"F",Escape:.0407,epitope:1,times_seen:1,effect:-2.555},{reference_site:"456",wildtype:"R",mutant:"I",Escape:.0202,epitope:1,times_seen:1.6667,effect:-2.7063},{reference_site:"456",wildtype:"R",mutant:"K",Escape:.0026,epitope:1,times_seen:1,effect:-3.0744},{reference_site:"456",wildtype:"R",mutant:"M",Escape:-.0093,epitope:1,times_seen:2,effect:-1.5256},{reference_site:"456",wildtype:"R",mutant:"N",Escape:.0505,epitope:1,times_seen:1.6667,effect:-1.5776},{reference_site:"456",wildtype:"R",mutant:"P",Escape:.0373,epitope:1,times_seen:1,effect:-1.9874},{reference_site:"456",wildtype:"R",mutant:"S",Escape:-.0107,epitope:1,times_seen:4.3333,effect:-1.7158},{reference_site:"456",wildtype:"R",mutant:"T",Escape:.0203,epitope:1,times_seen:1,effect:-2.8416},{reference_site:"456",wildtype:"R",mutant:"W",Escape:-.0426,epitope:1,times_seen:6.6667,effect:-.9847},{reference_site:"457",wildtype:"D",mutant:"A",Escape:.0174,epitope:1,times_seen:1,effect:-3.3591},{reference_site:"457",wildtype:"D",mutant:"E",Escape:.0113,epitope:1,times_seen:1.3333,effect:-3.4378},{reference_site:"457",wildtype:"D",mutant:"G",Escape:.0588,epitope:1,times_seen:4,effect:-3.3217},{reference_site:"457",wildtype:"D",mutant:"H",Escape:.0142,epitope:1,times_seen:1.5,effect:-3.5287},{reference_site:"457",wildtype:"D",mutant:"N",Escape:.0498,epitope:1,times_seen:1.5,effect:-3.2942},{reference_site:"457",wildtype:"D",mutant:"Y",Escape:.0081,epitope:1,times_seen:1,effect:-2.9091},{reference_site:"458",wildtype:"G",mutant:"A",Escape:-.0061,epitope:1,times_seen:1,effect:-2.9601},{reference_site:"458",wildtype:"G",mutant:"C",Escape:-4e-4,epitope:1,times_seen:1,effect:-3.0753},{reference_site:"458",wildtype:"G",mutant:"D",Escape:.017,epitope:1,times_seen:2.5,effect:-3.3433},{reference_site:"458",wildtype:"G",mutant:"E",Escape:.0075,epitope:1,times_seen:1.6667,effect:-2.2824},{reference_site:"458",wildtype:"G",mutant:"N",Escape:.0255,epitope:1,times_seen:1,effect:-3.0441},{reference_site:"458",wildtype:"G",mutant:"R",Escape:.0053,epitope:1,times_seen:1,effect:-2.5631},{reference_site:"458",wildtype:"G",mutant:"S",Escape:.0086,epitope:1,times_seen:1,effect:-2.8943},{reference_site:"458",wildtype:"G",mutant:"T",Escape:.0483,epitope:1,times_seen:1,effect:-3.1528},{reference_site:"458",wildtype:"G",mutant:"V",Escape:5e-4,epitope:1,times_seen:2,effect:-3.467},{reference_site:"459",wildtype:"G",mutant:"C",Escape:-6e-4,epitope:1,times_seen:1.6667,effect:-2.9679},{reference_site:"459",wildtype:"G",mutant:"D",Escape:-.0558,epitope:1,times_seen:7.3333,effect:-1.1718},{reference_site:"459",wildtype:"G",mutant:"E",Escape:.0033,epitope:1,times_seen:2,effect:-2.0176},{reference_site:"459",wildtype:"G",mutant:"H",Escape:-.017,epitope:1,times_seen:1.3333,effect:-2.0376},{reference_site:"459",wildtype:"G",mutant:"I",Escape:-.0114,epitope:1,times_seen:1,effect:-2.1047},{reference_site:"459",wildtype:"G",mutant:"K",Escape:.0279,epitope:1,times_seen:1.6667,effect:-1.9313},{reference_site:"459",wildtype:"G",mutant:"M",Escape:.0499,epitope:1,times_seen:1.6667,effect:-1.9399},{reference_site:"459",wildtype:"G",mutant:"N",Escape:.0056,epitope:1,times_seen:2.3333,effect:-1.9944},{reference_site:"459",wildtype:"G",mutant:"P",Escape:.0133,epitope:1,times_seen:3.3333,effect:-2.294},{reference_site:"459",wildtype:"G",mutant:"Q",Escape:-.0028,epitope:1,times_seen:1,effect:-2.573},{reference_site:"459",wildtype:"G",mutant:"R",Escape:-.0195,epitope:1,times_seen:1.6667,effect:-2.6888},{reference_site:"459",wildtype:"G",mutant:"S",Escape:.1939,epitope:1,times_seen:6.3333,effect:-2.4529},{reference_site:"459",wildtype:"G",mutant:"T",Escape:.0106,epitope:1,times_seen:1.3333,effect:-2.5815},{reference_site:"459",wildtype:"G",mutant:"V",Escape:-.0153,epitope:1,times_seen:3,effect:-2.2342},{reference_site:"460",wildtype:"S",mutant:"A",Escape:-.0088,epitope:1,times_seen:2,effect:-.1032},{reference_site:"460",wildtype:"S",mutant:"C",Escape:-.1333,epitope:1,times_seen:15.6667,effect:-.0033},{reference_site:"460",wildtype:"S",mutant:"D",Escape:-.0477,epitope:1,times_seen:8.3333,effect:.0921},{reference_site:"460",wildtype:"S",mutant:"E",Escape:-.0209,epitope:1,times_seen:3.3333,effect:-.3057},{reference_site:"460",wildtype:"S",mutant:"F",Escape:-.0636,epitope:1,times_seen:7.3333,effect:.1166},{reference_site:"460",wildtype:"S",mutant:"G",Escape:-.0855,epitope:1,times_seen:14.6667,effect:-.0987},{reference_site:"460",wildtype:"S",mutant:"H",Escape:.0037,epitope:1,times_seen:7,effect:.0326},{reference_site:"460",wildtype:"S",mutant:"I",Escape:.0413,epitope:1,times_seen:9,effect:-.0582},{reference_site:"460",wildtype:"S",mutant:"K",Escape:.2332,epitope:1,times_seen:9,effect:-.0278},{reference_site:"460",wildtype:"S",mutant:"L",Escape:.0309,epitope:1,times_seen:4.6667,effect:.0988},{reference_site:"460",wildtype:"S",mutant:"M",Escape:-.0038,epitope:1,times_seen:6,effect:.0364},{reference_site:"460",wildtype:"S",mutant:"N",Escape:.0188,epitope:1,times_seen:15,effect:.0079},{reference_site:"460",wildtype:"S",mutant:"P",Escape:-.0167,epitope:1,times_seen:5,effect:.2519},{reference_site:"460",wildtype:"S",mutant:"Q",Escape:.027,epitope:1,times_seen:7.6667,effect:.0545},{reference_site:"460",wildtype:"S",mutant:"R",Escape:.0262,epitope:1,times_seen:7.3333,effect:.0581},{reference_site:"460",wildtype:"S",mutant:"T",Escape:.0222,epitope:1,times_seen:7.6667,effect:.1861},{reference_site:"460",wildtype:"S",mutant:"V",Escape:.007,epitope:1,times_seen:6,effect:.1992},{reference_site:"460",wildtype:"S",mutant:"W",Escape:-.0589,epitope:1,times_seen:3.6667,effect:-.3324},{reference_site:"460",wildtype:"S",mutant:"Y",Escape:-.068,epitope:1,times_seen:5.3333,effect:.022},{reference_site:"460",wildtype:"S",mutant:"-",Escape:.0079,epitope:1,times_seen:1.6667,effect:-.5077},{reference_site:"461",wildtype:"N",mutant:"C",Escape:-.011,epitope:1,times_seen:1,effect:-.5587},{reference_site:"461",wildtype:"N",mutant:"D",Escape:-.012,epitope:1,times_seen:1,effect:-.2148},{reference_site:"461",wildtype:"N",mutant:"E",Escape:.0161,epitope:1,times_seen:2,effect:.0818},{reference_site:"461",wildtype:"N",mutant:"F",Escape:-.002,epitope:1,times_seen:1,effect:-.2002},{reference_site:"461",wildtype:"N",mutant:"H",Escape:-.0033,epitope:1,times_seen:1,effect:-.8073},{reference_site:"461",wildtype:"N",mutant:"I",Escape:.0072,epitope:1,times_seen:1,effect:-.3996},{reference_site:"461",wildtype:"N",mutant:"K",Escape:.0342,epitope:1,times_seen:5.6667,effect:-.4555},{reference_site:"461",wildtype:"N",mutant:"M",Escape:-.0077,epitope:1,times_seen:2,effect:-.23},{reference_site:"461",wildtype:"N",mutant:"R",Escape:-.0012,epitope:1,times_seen:1,effect:-.7711},{reference_site:"461",wildtype:"N",mutant:"S",Escape:-.0228,epitope:1,times_seen:4,effect:-.3731},{reference_site:"461",wildtype:"N",mutant:"T",Escape:-.037,epitope:1,times_seen:3.6667,effect:-.0654},{reference_site:"461",wildtype:"N",mutant:"V",Escape:-.0019,epitope:1,times_seen:1,effect:7e-4},{reference_site:"461",wildtype:"N",mutant:"W",Escape:-.0117,epitope:1,times_seen:1,effect:-.5443},{reference_site:"461",wildtype:"N",mutant:"Y",Escape:-.0104,epitope:1,times_seen:2,effect:-.0086},{reference_site:"462",wildtype:"K",mutant:"C",Escape:-.0614,epitope:1,times_seen:5.3333,effect:.2559},{reference_site:"462",wildtype:"K",mutant:"D",Escape:-.0173,epitope:1,times_seen:2.6667,effect:-.0547},{reference_site:"462",wildtype:"K",mutant:"E",Escape:.0087,epitope:1,times_seen:17.3333,effect:.126},{reference_site:"462",wildtype:"K",mutant:"F",Escape:-1e-4,epitope:1,times_seen:2.6667,effect:-.0328},{reference_site:"462",wildtype:"K",mutant:"G",Escape:-.0127,epitope:1,times_seen:1,effect:-.7894},{reference_site:"462",wildtype:"K",mutant:"H",Escape:.002,epitope:1,times_seen:3,effect:-.1072},{reference_site:"462",wildtype:"K",mutant:"I",Escape:-.006,epitope:1,times_seen:3.3333,effect:-.1687},{reference_site:"462",wildtype:"K",mutant:"L",Escape:-.0065,epitope:1,times_seen:8.3333,effect:.1001},{reference_site:"462",wildtype:"K",mutant:"M",Escape:.0491,epitope:1,times_seen:6.6667,effect:.0282},{reference_site:"462",wildtype:"K",mutant:"N",Escape:-.034,epitope:1,times_seen:12.3333,effect:.2766},{reference_site:"462",wildtype:"K",mutant:"P",Escape:-.0135,epitope:1,times_seen:2,effect:-.0612},{reference_site:"462",wildtype:"K",mutant:"Q",Escape:-.0259,epitope:1,times_seen:10,effect:.2261},{reference_site:"462",wildtype:"K",mutant:"R",Escape:.0257,epitope:1,times_seen:9.3333,effect:.1762},{reference_site:"462",wildtype:"K",mutant:"S",Escape:-.0038,epitope:1,times_seen:5,effect:.0317},{reference_site:"462",wildtype:"K",mutant:"T",Escape:-.0239,epitope:1,times_seen:5,effect:-.0499},{reference_site:"462",wildtype:"K",mutant:"V",Escape:-.0212,epitope:1,times_seen:2.6667,effect:.0048},{reference_site:"462",wildtype:"K",mutant:"W",Escape:-.0405,epitope:1,times_seen:4.3333,effect:-.7228},{reference_site:"462",wildtype:"K",mutant:"Y",Escape:-.051,epitope:1,times_seen:6.3333,effect:-.0789},{reference_site:"463",wildtype:"N",mutant:"A",Escape:-.0202,epitope:1,times_seen:1.6667,effect:.0913},{reference_site:"463",wildtype:"N",mutant:"C",Escape:-.0778,epitope:1,times_seen:4,effect:.0801},{reference_site:"463",wildtype:"N",mutant:"D",Escape:-.0595,epitope:1,times_seen:4,effect:-.423},{reference_site:"463",wildtype:"N",mutant:"E",Escape:-.0385,epitope:1,times_seen:3,effect:.0821},{reference_site:"463",wildtype:"N",mutant:"F",Escape:-.0295,epitope:1,times_seen:4,effect:-.0484},{reference_site:"463",wildtype:"N",mutant:"G",Escape:-.0158,epitope:1,times_seen:1,effect:.5321},{reference_site:"463",wildtype:"N",mutant:"H",Escape:-.0419,epitope:1,times_seen:2.3333,effect:.1624},{reference_site:"463",wildtype:"N",mutant:"I",Escape:-.1087,epitope:1,times_seen:9.3333,effect:.1791},{reference_site:"463",wildtype:"N",mutant:"K",Escape:-.044,epitope:1,times_seen:8.6667,effect:.1337},{reference_site:"463",wildtype:"N",mutant:"M",Escape:-.0351,epitope:1,times_seen:5,effect:-.1726},{reference_site:"463",wildtype:"N",mutant:"Q",Escape:-.0167,epitope:1,times_seen:1,effect:.2627},{reference_site:"463",wildtype:"N",mutant:"R",Escape:-.0038,epitope:1,times_seen:1,effect:-.117},{reference_site:"463",wildtype:"N",mutant:"S",Escape:.1483,epitope:1,times_seen:3.6667,effect:-.3513},{reference_site:"463",wildtype:"N",mutant:"T",Escape:.024,epitope:1,times_seen:2.6667,effect:.1164},{reference_site:"463",wildtype:"N",mutant:"V",Escape:-.0383,epitope:1,times_seen:3,effect:.1779},{reference_site:"463",wildtype:"N",mutant:"W",Escape:-.0565,epitope:1,times_seen:4,effect:-.0519},{reference_site:"463",wildtype:"N",mutant:"Y",Escape:-.0604,epitope:1,times_seen:4.3333,effect:-.1167},{reference_site:"464",wildtype:"T",mutant:"A",Escape:.0399,epitope:1,times_seen:7,effect:-.1955},{reference_site:"464",wildtype:"T",mutant:"C",Escape:.0096,epitope:1,times_seen:2,effect:-.1716},{reference_site:"464",wildtype:"T",mutant:"D",Escape:-.0252,epitope:1,times_seen:4,effect:-.2288},{reference_site:"464",wildtype:"T",mutant:"E",Escape:-.0114,epitope:1,times_seen:2,effect:-.2199},{reference_site:"464",wildtype:"T",mutant:"F",Escape:-1e-4,epitope:1,times_seen:4.3333,effect:-.2594},{reference_site:"464",wildtype:"T",mutant:"G",Escape:.0154,epitope:1,times_seen:5.3333,effect:-.2938},{reference_site:"464",wildtype:"T",mutant:"H",Escape:.0044,epitope:1,times_seen:1.5,effect:-.406},{reference_site:"464",wildtype:"T",mutant:"I",Escape:-.0734,epitope:1,times_seen:13.6667,effect:-.142},{reference_site:"464",wildtype:"T",mutant:"K",Escape:.0748,epitope:1,times_seen:7.6667,effect:.1323},{reference_site:"464",wildtype:"T",mutant:"L",Escape:-.008,epitope:1,times_seen:1.6667,effect:-.2789},{reference_site:"464",wildtype:"T",mutant:"M",Escape:.0416,epitope:1,times_seen:2,effect:-.657},{reference_site:"464",wildtype:"T",mutant:"N",Escape:-4e-4,epitope:1,times_seen:11.6667,effect:.0376},{reference_site:"464",wildtype:"T",mutant:"P",Escape:-.0776,epitope:1,times_seen:8.6667,effect:.0213},{reference_site:"464",wildtype:"T",mutant:"Q",Escape:-.0181,epitope:1,times_seen:2.6667,effect:-.3337},{reference_site:"464",wildtype:"T",mutant:"R",Escape:.002,epitope:1,times_seen:1,effect:-.2438},{reference_site:"464",wildtype:"T",mutant:"S",Escape:.0152,epitope:1,times_seen:5.3333,effect:.0504},{reference_site:"464",wildtype:"T",mutant:"V",Escape:-.0057,epitope:1,times_seen:2.3333,effect:-.1028},{reference_site:"464",wildtype:"T",mutant:"W",Escape:-.021,epitope:1,times_seen:4.3333,effect:-.2569},{reference_site:"464",wildtype:"T",mutant:"Y",Escape:-.0204,epitope:1,times_seen:5,effect:-.0394},{reference_site:"465",wildtype:"S",mutant:"A",Escape:-.029,epitope:1,times_seen:1.6667,effect:-.0364},{reference_site:"465",wildtype:"S",mutant:"C",Escape:-.1011,epitope:1,times_seen:9.3333,effect:.0139},{reference_site:"465",wildtype:"S",mutant:"D",Escape:-.0419,epitope:1,times_seen:7.6667,effect:-.0266},{reference_site:"465",wildtype:"S",mutant:"E",Escape:-.203,epitope:1,times_seen:10,effect:.1694},{reference_site:"465",wildtype:"S",mutant:"F",Escape:-.131,epitope:1,times_seen:9.3333,effect:.2327},{reference_site:"465",wildtype:"S",mutant:"G",Escape:-.0679,epitope:1,times_seen:5.6667,effect:-.2044},{reference_site:"465",wildtype:"S",mutant:"H",Escape:-.0431,epitope:1,times_seen:3.6667,effect:-.0119},{reference_site:"465",wildtype:"S",mutant:"I",Escape:-.2157,epitope:1,times_seen:17,effect:.161},{reference_site:"465",wildtype:"S",mutant:"K",Escape:-.0906,epitope:1,times_seen:5.6667,effect:-.0701},{reference_site:"465",wildtype:"S",mutant:"L",Escape:-.0663,epitope:1,times_seen:5.3333,effect:-.0429},{reference_site:"465",wildtype:"S",mutant:"M",Escape:-.044,epitope:1,times_seen:5.3333,effect:-.1466},{reference_site:"465",wildtype:"S",mutant:"N",Escape:-.0147,epitope:1,times_seen:7,effect:.0725},{reference_site:"465",wildtype:"S",mutant:"P",Escape:-.1787,epitope:1,times_seen:7.6667,effect:.1012},{reference_site:"465",wildtype:"S",mutant:"Q",Escape:-.0947,epitope:1,times_seen:7.6667,effect:-.1806},{reference_site:"465",wildtype:"S",mutant:"R",Escape:-.0291,epitope:1,times_seen:9.3333,effect:-.0978},{reference_site:"465",wildtype:"S",mutant:"T",Escape:.168,epitope:1,times_seen:5,effect:-.3494},{reference_site:"465",wildtype:"S",mutant:"V",Escape:-.0387,epitope:1,times_seen:5,effect:.2943},{reference_site:"465",wildtype:"S",mutant:"W",Escape:-.0721,epitope:1,times_seen:7.6667,effect:.0824},{reference_site:"465",wildtype:"S",mutant:"Y",Escape:-.1109,epitope:1,times_seen:9,effect:.1642},{reference_site:"466",wildtype:"E",mutant:"A",Escape:-.0241,epitope:1,times_seen:1,effect:-2.1493},{reference_site:"466",wildtype:"E",mutant:"D",Escape:.0557,epitope:1,times_seen:7,effect:-.4861},{reference_site:"466",wildtype:"E",mutant:"F",Escape:.003,epitope:1,times_seen:1.5,effect:-2.5909},{reference_site:"466",wildtype:"E",mutant:"G",Escape:.0391,epitope:1,times_seen:2,effect:-2.3139},{reference_site:"466",wildtype:"E",mutant:"H",Escape:.0508,epitope:1,times_seen:1.6667,effect:-2.2637},{reference_site:"466",wildtype:"E",mutant:"I",Escape:.0111,epitope:1,times_seen:1,effect:-3.3056},{reference_site:"466",wildtype:"E",mutant:"K",Escape:-.0083,epitope:1,times_seen:3.6667,effect:-2.0436},{reference_site:"466",wildtype:"E",mutant:"L",Escape:.0154,epitope:1,times_seen:1,effect:-2.8468},{reference_site:"466",wildtype:"E",mutant:"N",Escape:.0039,epitope:1,times_seen:1,effect:-1.6789},{reference_site:"466",wildtype:"E",mutant:"Q",Escape:6e-4,epitope:1,times_seen:5,effect:-.8513},{reference_site:"466",wildtype:"E",mutant:"V",Escape:-.0011,epitope:1,times_seen:2,effect:-3.0412},{reference_site:"466",wildtype:"E",mutant:"Y",Escape:.0205,epitope:1,times_seen:1,effect:-2.681},{reference_site:"466",wildtype:"E",mutant:"*",Escape:-.0076,epitope:1,times_seen:1,effect:-2.8041},{reference_site:"467",wildtype:"T",mutant:"A",Escape:.0677,epitope:1,times_seen:6,effect:-1.1241},{reference_site:"467",wildtype:"T",mutant:"C",Escape:-.0213,epitope:1,times_seen:2.6667,effect:-.2979},{reference_site:"467",wildtype:"T",mutant:"D",Escape:.0496,epitope:1,times_seen:3.3333,effect:-1.6894},{reference_site:"467",wildtype:"T",mutant:"F",Escape:4e-4,epitope:1,times_seen:4.6667,effect:-.2967},{reference_site:"467",wildtype:"T",mutant:"H",Escape:-.005,epitope:1,times_seen:2.3333,effect:-1.2214},{reference_site:"467",wildtype:"T",mutant:"I",Escape:.0535,epitope:1,times_seen:12,effect:.0566},{reference_site:"467",wildtype:"T",mutant:"K",Escape:.0175,epitope:1,times_seen:4.3333,effect:-.6498},{reference_site:"467",wildtype:"T",mutant:"L",Escape:.0098,epitope:1,times_seen:1.6667,effect:-.7803},{reference_site:"467",wildtype:"T",mutant:"M",Escape:-.0373,epitope:1,times_seen:8.6667,effect:-.6151},{reference_site:"467",wildtype:"T",mutant:"N",Escape:.0671,epitope:1,times_seen:11.6667,effect:-.5115},{reference_site:"467",wildtype:"T",mutant:"R",Escape:.0033,epitope:1,times_seen:2,effect:-1.598},{reference_site:"467",wildtype:"T",mutant:"S",Escape:.0132,epitope:1,times_seen:5.6667,effect:-.8133},{reference_site:"467",wildtype:"T",mutant:"V",Escape:.0025,epitope:1,times_seen:2,effect:-.1515},{reference_site:"467",wildtype:"T",mutant:"W",Escape:-.0263,epitope:1,times_seen:1.6667,effect:-1.5049},{reference_site:"467",wildtype:"T",mutant:"Y",Escape:-.0106,epitope:1,times_seen:4,effect:-.5717},{reference_site:"468",wildtype:"F",mutant:"I",Escape:.0186,epitope:1,times_seen:7.3333,effect:-1.2548},{reference_site:"468",wildtype:"F",mutant:"L",Escape:-.0293,epitope:1,times_seen:10.6667,effect:-.5922},{reference_site:"468",wildtype:"F",mutant:"M",Escape:.0109,epitope:1,times_seen:2.5,effect:-1.4498},{reference_site:"468",wildtype:"F",mutant:"R",Escape:-.0038,epitope:1,times_seen:1,effect:-1.4691},{reference_site:"468",wildtype:"F",mutant:"S",Escape:.0577,epitope:1,times_seen:1,effect:-2.6879},{reference_site:"468",wildtype:"F",mutant:"V",Escape:-.0023,epitope:1,times_seen:3.6667,effect:-1.1411},{reference_site:"468",wildtype:"F",mutant:"Y",Escape:.0201,epitope:1,times_seen:1,effect:-.6702},{reference_site:"469",wildtype:"R",mutant:"G",Escape:.0155,epitope:1,times_seen:2.3333,effect:-1.9882},{reference_site:"469",wildtype:"R",mutant:"I",Escape:.0063,epitope:1,times_seen:1,effect:-3.613},{reference_site:"469",wildtype:"R",mutant:"P",Escape:.0103,epitope:1,times_seen:1,effect:-2.7285},{reference_site:"469",wildtype:"R",mutant:"S",Escape:.0461,epitope:1,times_seen:1,effect:-3.2495},{reference_site:"470",wildtype:"P",mutant:"H",Escape:-.0112,epitope:1,times_seen:1,effect:-2.4165},{reference_site:"470",wildtype:"P",mutant:"L",Escape:.0404,epitope:1,times_seen:1.5,effect:-3.0784},{reference_site:"470",wildtype:"P",mutant:"R",Escape:.0028,epitope:1,times_seen:1,effect:-2.7133},{reference_site:"470",wildtype:"P",mutant:"S",Escape:.0138,epitope:1,times_seen:1,effect:-2.2384},{reference_site:"470",wildtype:"P",mutant:"-",Escape:.0171,epitope:1,times_seen:1.3333,effect:-2.3176},{reference_site:"471",wildtype:"G",mutant:"A",Escape:.0606,epitope:1,times_seen:6,effect:-.0636},{reference_site:"471",wildtype:"G",mutant:"C",Escape:.284,epitope:1,times_seen:9.6667,effect:-1.7523},{reference_site:"471",wildtype:"G",mutant:"E",Escape:.0247,epitope:1,times_seen:4,effect:-1.3506},{reference_site:"471",wildtype:"G",mutant:"F",Escape:2.7051,epitope:1,times_seen:3,effect:-1.3595},{reference_site:"471",wildtype:"G",mutant:"H",Escape:2.7412,epitope:1,times_seen:6.6667,effect:.138},{reference_site:"471",wildtype:"G",mutant:"I",Escape:1.3749,epitope:1,times_seen:15,effect:.1618},{reference_site:"471",wildtype:"G",mutant:"L",Escape:.1897,epitope:1,times_seen:11.3333,effect:.0782},{reference_site:"471",wildtype:"G",mutant:"M",Escape:.1583,epitope:1,times_seen:4.6667,effect:.1012},{reference_site:"471",wildtype:"G",mutant:"N",Escape:.6411,epitope:1,times_seen:7.3333,effect:-.4893},{reference_site:"471",wildtype:"G",mutant:"Q",Escape:.0598,epitope:1,times_seen:3.3333,effect:-.6267},{reference_site:"471",wildtype:"G",mutant:"R",Escape:-.0448,epitope:1,times_seen:2,effect:-2.9833},{reference_site:"471",wildtype:"G",mutant:"S",Escape:.0738,epitope:1,times_seen:26.3333,effect:.0548},{reference_site:"471",wildtype:"G",mutant:"T",Escape:.3073,epitope:1,times_seen:6,effect:.0937},{reference_site:"471",wildtype:"G",mutant:"V",Escape:.4935,epitope:1,times_seen:10.6667,effect:-.0943},{reference_site:"471",wildtype:"G",mutant:"W",Escape:.0277,epitope:1,times_seen:1,effect:-2.9143},{reference_site:"471",wildtype:"G",mutant:"Y",Escape:1.1312,epitope:1,times_seen:9.6667,effect:-1.3811},{reference_site:"471",wildtype:"G",mutant:"-",Escape:.0403,epitope:1,times_seen:2,effect:-1.6067},{reference_site:"472",wildtype:"G",mutant:"C",Escape:.0105,epitope:1,times_seen:2,effect:-3.5397},{reference_site:"472",wildtype:"G",mutant:"D",Escape:-.0127,epitope:1,times_seen:3.5,effect:-3.4668},{reference_site:"472",wildtype:"G",mutant:"E",Escape:-.0032,epitope:1,times_seen:1,effect:-3.177},{reference_site:"472",wildtype:"G",mutant:"K",Escape:.0353,epitope:1,times_seen:1,effect:-3.1082},{reference_site:"473",wildtype:"G",mutant:"C",Escape:.0306,epitope:1,times_seen:2.3333,effect:-3.2565},{reference_site:"473",wildtype:"G",mutant:"D",Escape:.0309,epitope:1,times_seen:2.3333,effect:-3.0999},{reference_site:"473",wildtype:"G",mutant:"E",Escape:.0453,epitope:1,times_seen:1.5,effect:-1.2504},{reference_site:"473",wildtype:"G",mutant:"R",Escape:.0041,epitope:1,times_seen:1,effect:-2.5317},{reference_site:"473",wildtype:"G",mutant:"S",Escape:.0298,epitope:1,times_seen:1,effect:-3.3914},{reference_site:"473",wildtype:"G",mutant:"V",Escape:-.008,epitope:1,times_seen:1,effect:-2.7336},{reference_site:"474",wildtype:"D",mutant:"A",Escape:.0087,epitope:1,times_seen:1,effect:-1.4304},{reference_site:"474",wildtype:"D",mutant:"E",Escape:1.4504,epitope:1,times_seen:21.6667,effect:.1248},{reference_site:"474",wildtype:"D",mutant:"G",Escape:.0405,epitope:1,times_seen:4,effect:-2.5539},{reference_site:"474",wildtype:"D",mutant:"M",Escape:.0203,epitope:1,times_seen:2,effect:-2.0656},{reference_site:"474",wildtype:"D",mutant:"N",Escape:-.0198,epitope:1,times_seen:16.6667,effect:-.0862},{reference_site:"474",wildtype:"D",mutant:"Q",Escape:.0823,epitope:1,times_seen:4,effect:-.3032},{reference_site:"474",wildtype:"D",mutant:"Y",Escape:.3022,epitope:1,times_seen:2,effect:-1.2532},{reference_site:"475",wildtype:"M",mutant:"C",Escape:.0215,epitope:1,times_seen:2,effect:-2.9777},{reference_site:"475",wildtype:"M",mutant:"F",Escape:-.0097,epitope:1,times_seen:1,effect:-3.0155},{reference_site:"475",wildtype:"M",mutant:"I",Escape:.0532,epitope:1,times_seen:8,effect:-1.6453},{reference_site:"475",wildtype:"M",mutant:"K",Escape:-.0066,epitope:1,times_seen:1,effect:-3.3197},{reference_site:"475",wildtype:"M",mutant:"L",Escape:.0779,epitope:1,times_seen:4,effect:-.9735},{reference_site:"475",wildtype:"M",mutant:"N",Escape:.0216,epitope:1,times_seen:1,effect:-3.0445},{reference_site:"475",wildtype:"M",mutant:"P",Escape:.0386,epitope:1,times_seen:1,effect:-2.9385},{reference_site:"475",wildtype:"M",mutant:"Q",Escape:.0933,epitope:1,times_seen:1.6667,effect:-1.0884},{reference_site:"475",wildtype:"M",mutant:"R",Escape:.4238,epitope:1,times_seen:1.3333,effect:-3.5035},{reference_site:"475",wildtype:"M",mutant:"T",Escape:.0025,epitope:1,times_seen:1,effect:-1.8831},{reference_site:"475",wildtype:"M",mutant:"V",Escape:.0168,epitope:1,times_seen:1.6667,effect:-1.5849},{reference_site:"476",wildtype:"R",mutant:"A",Escape:.029,epitope:1,times_seen:1,effect:-.989},{reference_site:"476",wildtype:"R",mutant:"D",Escape:.7486,epitope:1,times_seen:1.3333,effect:-3.085},{reference_site:"476",wildtype:"R",mutant:"E",Escape:.6626,epitope:1,times_seen:2.3333,effect:-1.924},{reference_site:"476",wildtype:"R",mutant:"H",Escape:.4748,epitope:1,times_seen:3,effect:-.5523},{reference_site:"476",wildtype:"R",mutant:"I",Escape:3.1822,epitope:1,times_seen:4.6667,effect:-1.9856},{reference_site:"476",wildtype:"R",mutant:"K",Escape:.3322,epitope:1,times_seen:14.6667,effect:-.1605},{reference_site:"476",wildtype:"R",mutant:"L",Escape:1.3483,epitope:1,times_seen:2,effect:-1.7276},{reference_site:"476",wildtype:"R",mutant:"M",Escape:1.2239,epitope:1,times_seen:9.6667,effect:-.382},{reference_site:"476",wildtype:"R",mutant:"N",Escape:.5017,epitope:1,times_seen:4.6667,effect:-.8125},{reference_site:"476",wildtype:"R",mutant:"Q",Escape:.2936,epitope:1,times_seen:3,effect:-.4301},{reference_site:"476",wildtype:"R",mutant:"S",Escape:.1889,epitope:1,times_seen:3.3333,effect:-1.5938},{reference_site:"476",wildtype:"R",mutant:"T",Escape:1.7069,epitope:1,times_seen:3.6667,effect:-1.1127},{reference_site:"477",wildtype:"D",mutant:"E",Escape:.006,epitope:1,times_seen:6,effect:-1.608},{reference_site:"477",wildtype:"D",mutant:"H",Escape:.0399,epitope:1,times_seen:3,effect:-2.8408},{reference_site:"477",wildtype:"D",mutant:"N",Escape:.0014,epitope:1,times_seen:2,effect:-3.3235},{reference_site:"477",wildtype:"D",mutant:"R",Escape:.0054,epitope:1,times_seen:1,effect:-2.5039},{reference_site:"478",wildtype:"N",mutant:"C",Escape:-.0064,epitope:1,times_seen:1.3333,effect:.0934},{reference_site:"478",wildtype:"N",mutant:"D",Escape:.0048,epitope:1,times_seen:1,effect:-2.9969},{reference_site:"478",wildtype:"N",mutant:"I",Escape:.0057,epitope:1,times_seen:6.6667,effect:-.3053},{reference_site:"478",wildtype:"N",mutant:"K",Escape:.0445,epitope:1,times_seen:5.3333,effect:-1.3291},{reference_site:"478",wildtype:"N",mutant:"S",Escape:.0086,epitope:1,times_seen:1.5,effect:-1.6338},{reference_site:"478",wildtype:"N",mutant:"V",Escape:-.0134,epitope:1,times_seen:1,effect:-.5685},{reference_site:"478",wildtype:"N",mutant:"W",Escape:-.0093,epitope:1,times_seen:1,effect:-2.0073},{reference_site:"478",wildtype:"N",mutant:"Y",Escape:.0368,epitope:1,times_seen:1,effect:-2.4928},{reference_site:"479",wildtype:"W",mutant:"C",Escape:.0284,epitope:1,times_seen:3,effect:-2.0937},{reference_site:"479",wildtype:"W",mutant:"F",Escape:-.0074,epitope:1,times_seen:5.3333,effect:-.2741},{reference_site:"479",wildtype:"W",mutant:"I",Escape:.0232,epitope:1,times_seen:1.6667,effect:-.8238},{reference_site:"479",wildtype:"W",mutant:"L",Escape:.0218,epitope:1,times_seen:2.6667,effect:-2.7068},{reference_site:"479",wildtype:"W",mutant:"N",Escape:.0668,epitope:1,times_seen:1,effect:-2.1164},{reference_site:"479",wildtype:"W",mutant:"R",Escape:.0369,epitope:1,times_seen:1,effect:-3.0667},{reference_site:"479",wildtype:"W",mutant:"*",Escape:.0598,epitope:1,times_seen:3.5,effect:-2.3057},{reference_site:"480",wildtype:"R",mutant:"A",Escape:.0083,epitope:1,times_seen:1.5,effect:-.6992},{reference_site:"480",wildtype:"R",mutant:"G",Escape:.0342,epitope:1,times_seen:3,effect:-2.0821},{reference_site:"480",wildtype:"R",mutant:"I",Escape:.0193,epitope:1,times_seen:1,effect:-1.1342},{reference_site:"480",wildtype:"R",mutant:"K",Escape:-.0076,epitope:1,times_seen:11.6667,effect:-.5063},{reference_site:"480",wildtype:"R",mutant:"M",Escape:.0415,epitope:1,times_seen:3.6667,effect:-1.2059},{reference_site:"480",wildtype:"R",mutant:"S",Escape:.0379,epitope:1,times_seen:5,effect:-1.0424},{reference_site:"481",wildtype:"S",mutant:"A",Escape:.0224,epitope:1,times_seen:3,effect:-.0198},{reference_site:"481",wildtype:"S",mutant:"E",Escape:.0235,epitope:1,times_seen:2.3333,effect:-2.0256},{reference_site:"481",wildtype:"S",mutant:"F",Escape:.0115,epitope:1,times_seen:1,effect:-.6116},{reference_site:"481",wildtype:"S",mutant:"G",Escape:.0044,epitope:1,times_seen:9,effect:-.6477},{reference_site:"481",wildtype:"S",mutant:"I",Escape:-.0112,epitope:1,times_seen:1,effect:-2.3283},{reference_site:"481",wildtype:"S",mutant:"N",Escape:.0725,epitope:1,times_seen:5.3333,effect:-.8593},{reference_site:"481",wildtype:"S",mutant:"Q",Escape:.0119,epitope:1,times_seen:2.6667,effect:.0102},{reference_site:"481",wildtype:"S",mutant:"R",Escape:.0326,epitope:1,times_seen:1,effect:-3.2778},{reference_site:"481",wildtype:"S",mutant:"T",Escape:-.0196,epitope:1,times_seen:4,effect:-.543},{reference_site:"482",wildtype:"E",mutant:"A",Escape:-.0084,epitope:1,times_seen:1.6667,effect:-.9781},{reference_site:"482",wildtype:"E",mutant:"D",Escape:.0056,epitope:1,times_seen:1,effect:-2.2126},{reference_site:"482",wildtype:"E",mutant:"H",Escape:.0072,epitope:1,times_seen:1,effect:-1.5752},{reference_site:"482",wildtype:"E",mutant:"K",Escape:-.0163,epitope:1,times_seen:2.5,effect:-3.1385},{reference_site:"482",wildtype:"E",mutant:"*",Escape:.0272,epitope:1,times_seen:1,effect:-3.3758},{reference_site:"483",wildtype:"L",mutant:"F",Escape:.0227,epitope:1,times_seen:1,effect:-.8178},{reference_site:"483",wildtype:"L",mutant:"I",Escape:.0034,epitope:1,times_seen:1.6667,effect:-.7537},{reference_site:"483",wildtype:"L",mutant:"M",Escape:.0105,epitope:1,times_seen:5,effect:-.7464},{reference_site:"483",wildtype:"L",mutant:"R",Escape:.026,epitope:1,times_seen:1,effect:-1.8611},{reference_site:"484",wildtype:"Y",mutant:"A",Escape:.0023,epitope:1,times_seen:2.5,effect:-.7707},{reference_site:"484",wildtype:"Y",mutant:"C",Escape:-.0038,epitope:1,times_seen:2,effect:-1.2475},{reference_site:"484",wildtype:"Y",mutant:"F",Escape:-.0129,epitope:1,times_seen:6.6667,effect:.165},{reference_site:"484",wildtype:"Y",mutant:"G",Escape:5e-4,epitope:1,times_seen:2.6667,effect:-.8482},{reference_site:"484",wildtype:"Y",mutant:"H",Escape:-.0047,epitope:1,times_seen:3,effect:-1.6778},{reference_site:"484",wildtype:"Y",mutant:"K",Escape:.0573,epitope:1,times_seen:2,effect:-2.7336},{reference_site:"484",wildtype:"Y",mutant:"L",Escape:-.0312,epitope:1,times_seen:2.5,effect:-.8284},{reference_site:"484",wildtype:"Y",mutant:"N",Escape:.0424,epitope:1,times_seen:3.3333,effect:-1.7096},{reference_site:"484",wildtype:"Y",mutant:"Q",Escape:-.0143,epitope:1,times_seen:1.3333,effect:-.9331},{reference_site:"484",wildtype:"Y",mutant:"W",Escape:-.0401,epitope:1,times_seen:5,effect:-.4284},{reference_site:"484",wildtype:"Y",mutant:"*",Escape:-.0115,epitope:1,times_seen:1,effect:-2.98},{reference_site:"485",wildtype:"K",mutant:"A",Escape:-.0017,epitope:1,times_seen:2,effect:-.0684},{reference_site:"485",wildtype:"K",mutant:"C",Escape:-.0595,epitope:1,times_seen:8.3333,effect:-.3418},{reference_site:"485",wildtype:"K",mutant:"D",Escape:.0116,epitope:1,times_seen:4,effect:-.7771},{reference_site:"485",wildtype:"K",mutant:"E",Escape:.0133,epitope:1,times_seen:6.3333,effect:-.5072},{reference_site:"485",wildtype:"K",mutant:"F",Escape:.006,epitope:1,times_seen:3.3333,effect:-.5945},{reference_site:"485",wildtype:"K",mutant:"G",Escape:.0047,epitope:1,times_seen:2,effect:-.351},{reference_site:"485",wildtype:"K",mutant:"H",Escape:-.0447,epitope:1,times_seen:4.5,effect:-.2333},{reference_site:"485",wildtype:"K",mutant:"I",Escape:-.0135,epitope:1,times_seen:5,effect:-.6468},{reference_site:"485",wildtype:"K",mutant:"L",Escape:-.0663,epitope:1,times_seen:3.3333,effect:.0698},{reference_site:"485",wildtype:"K",mutant:"M",Escape:.0064,epitope:1,times_seen:6,effect:-.0085},{reference_site:"485",wildtype:"K",mutant:"N",Escape:.0309,epitope:1,times_seen:11,effect:-.0958},{reference_site:"485",wildtype:"K",mutant:"P",Escape:-.009,epitope:1,times_seen:2,effect:-.7659},{reference_site:"485",wildtype:"K",mutant:"Q",Escape:-.0147,epitope:1,times_seen:9,effect:-.0684},{reference_site:"485",wildtype:"K",mutant:"R",Escape:-.021,epitope:1,times_seen:2.6667,effect:-.1573},{reference_site:"485",wildtype:"K",mutant:"S",Escape:.0132,epitope:1,times_seen:2.6667,effect:-.2725},{reference_site:"485",wildtype:"K",mutant:"T",Escape:-.0156,epitope:1,times_seen:1.3333,effect:-.4679},{reference_site:"485",wildtype:"K",mutant:"V",Escape:-.0201,epitope:1,times_seen:4.3333,effect:-.7524},{reference_site:"485",wildtype:"K",mutant:"W",Escape:-.0494,epitope:1,times_seen:12.3333,effect:-.2948},{reference_site:"485",wildtype:"K",mutant:"Y",Escape:-.026,epitope:1,times_seen:5.3333,effect:-.0518},{reference_site:"486",wildtype:"Y",mutant:"C",Escape:.0124,epitope:1,times_seen:1.3333,effect:-2.6833},{reference_site:"487",wildtype:"K",mutant:"E",Escape:-.0058,epitope:1,times_seen:1,effect:-3.0789},{reference_site:"487",wildtype:"K",mutant:"M",Escape:-.0041,epitope:1,times_seen:1,effect:-2.4126},{reference_site:"487",wildtype:"K",mutant:"N",Escape:-.0061,epitope:1,times_seen:2.5,effect:-2.1822},{reference_site:"487",wildtype:"K",mutant:"R",Escape:.011,epitope:1,times_seen:1.5,effect:-2.5383},{reference_site:"488",wildtype:"V",mutant:"A",Escape:-8e-4,epitope:1,times_seen:1,effect:-.2391},{reference_site:"488",wildtype:"V",mutant:"I",Escape:-.0245,epitope:1,times_seen:5,effect:-.3205},{reference_site:"488",wildtype:"V",mutant:"L",Escape:-.0307,epitope:1,times_seen:7.6667,effect:-.3192},{reference_site:"488",wildtype:"V",mutant:"T",Escape:-.0097,epitope:1,times_seen:2.3333,effect:-.3283},{reference_site:"489",wildtype:"V",mutant:"A",Escape:1e-4,epitope:1,times_seen:2,effect:-2.1318},{reference_site:"489",wildtype:"V",mutant:"I",Escape:-.006,epitope:1,times_seen:2.3333,effect:-.124},{reference_site:"489",wildtype:"V",mutant:"K",Escape:.0037,epitope:1,times_seen:2.5,effect:-2.9158},{reference_site:"489",wildtype:"V",mutant:"L",Escape:.0169,epitope:1,times_seen:1.5,effect:-2.7275},{reference_site:"490",wildtype:"K",mutant:"A",Escape:-.0128,epitope:1,times_seen:1,effect:-.2195},{reference_site:"490",wildtype:"K",mutant:"E",Escape:-.0104,epitope:1,times_seen:11.3333,effect:-.0847},{reference_site:"490",wildtype:"K",mutant:"G",Escape:-.0201,epitope:1,times_seen:3,effect:-1.1633},{reference_site:"490",wildtype:"K",mutant:"I",Escape:.0064,epitope:1,times_seen:2.6667,effect:-.551},{reference_site:"490",wildtype:"K",mutant:"L",Escape:-.0025,epitope:1,times_seen:4.3333,effect:-.2217},{reference_site:"490",wildtype:"K",mutant:"M",Escape:-.0203,epitope:1,times_seen:10,effect:-.0872},{reference_site:"490",wildtype:"K",mutant:"N",Escape:-.0285,epitope:1,times_seen:5,effect:-.6548},{reference_site:"490",wildtype:"K",mutant:"Q",Escape:-.0041,epitope:1,times_seen:2,effect:-.1412},{reference_site:"490",wildtype:"K",mutant:"R",Escape:.0073,epitope:1,times_seen:4,effect:-.0231},{reference_site:"490",wildtype:"K",mutant:"S",Escape:-.0017,epitope:1,times_seen:1,effect:-.3196},{reference_site:"490",wildtype:"K",mutant:"T",Escape:-.0074,epitope:1,times_seen:2.3333,effect:-.9941},{reference_site:"490",wildtype:"K",mutant:"V",Escape:.012,epitope:1,times_seen:7,effect:-.4362},{reference_site:"490",wildtype:"K",mutant:"W",Escape:-.0011,epitope:1,times_seen:2.5,effect:-1.5022},{reference_site:"490",wildtype:"K",mutant:"Y",Escape:.0082,epitope:1,times_seen:3,effect:-1.4614},{reference_site:"491",wildtype:"I",mutant:"L",Escape:-.0082,epitope:1,times_seen:3.5,effect:.1258},{reference_site:"491",wildtype:"I",mutant:"N",Escape:.0042,epitope:1,times_seen:1.5,effect:-2.9512},{reference_site:"491",wildtype:"I",mutant:"P",Escape:-.004,epitope:1,times_seen:1,effect:-3.2743},{reference_site:"491",wildtype:"I",mutant:"S",Escape:.052,epitope:1,times_seen:2,effect:-2.8509},{reference_site:"491",wildtype:"I",mutant:"T",Escape:-.0016,epitope:1,times_seen:2.5,effect:-.8186},{reference_site:"491",wildtype:"I",mutant:"V",Escape:-.0066,epitope:1,times_seen:1.3333,effect:-.1808},{reference_site:"492",wildtype:"E",mutant:"A",Escape:.0604,epitope:1,times_seen:2,effect:.081},{reference_site:"492",wildtype:"E",mutant:"C",Escape:.0206,epitope:1,times_seen:3.5,effect:.0582},{reference_site:"492",wildtype:"E",mutant:"D",Escape:-.0218,epitope:1,times_seen:10.3333,effect:-.2255},{reference_site:"492",wildtype:"E",mutant:"F",Escape:.0149,epitope:1,times_seen:1.6667,effect:-.2108},{reference_site:"492",wildtype:"E",mutant:"G",Escape:-.0137,epitope:1,times_seen:1,effect:-1.6497},{reference_site:"492",wildtype:"E",mutant:"H",Escape:-.0224,epitope:1,times_seen:1.5,effect:.1773},{reference_site:"492",wildtype:"E",mutant:"I",Escape:-.0095,epitope:1,times_seen:1,effect:-.2951},{reference_site:"492",wildtype:"E",mutant:"K",Escape:-.0049,epitope:1,times_seen:2.6667,effect:-.5261},{reference_site:"492",wildtype:"E",mutant:"L",Escape:-.0019,epitope:1,times_seen:2.3333,effect:.0445},{reference_site:"492",wildtype:"E",mutant:"M",Escape:.009,epitope:1,times_seen:2,effect:.0312},{reference_site:"492",wildtype:"E",mutant:"N",Escape:-.0017,epitope:1,times_seen:1.6667,effect:-.6014},{reference_site:"492",wildtype:"E",mutant:"Q",Escape:-.001,epitope:1,times_seen:1,effect:-.1675},{reference_site:"492",wildtype:"E",mutant:"R",Escape:-.0049,epitope:1,times_seen:2,effect:.0253},{reference_site:"492",wildtype:"E",mutant:"S",Escape:.0146,epitope:1,times_seen:4.3333,effect:.0399},{reference_site:"492",wildtype:"E",mutant:"T",Escape:.0134,epitope:1,times_seen:2,effect:-.1621},{reference_site:"492",wildtype:"E",mutant:"V",Escape:-.032,epitope:1,times_seen:8.3333,effect:-.0742},{reference_site:"492",wildtype:"E",mutant:"W",Escape:-.0287,epitope:1,times_seen:2,effect:-.8402},{reference_site:"492",wildtype:"E",mutant:"Y",Escape:.0052,epitope:1,times_seen:3.6667,effect:.1414},{reference_site:"492",wildtype:"E",mutant:"*",Escape:.0044,epitope:1,times_seen:1,effect:-2.855},{reference_site:"493",wildtype:"P",mutant:"A",Escape:-.0015,epitope:1,times_seen:2,effect:-.8835},{reference_site:"493",wildtype:"P",mutant:"L",Escape:-.0017,epitope:1,times_seen:1,effect:-2.0217},{reference_site:"493",wildtype:"P",mutant:"S",Escape:.0015,epitope:1,times_seen:1,effect:-1.9338},{reference_site:"493",wildtype:"P",mutant:"T",Escape:.0028,epitope:1,times_seen:1,effect:-3.2106},{reference_site:"494",wildtype:"I",mutant:"F",Escape:-8e-4,epitope:1,times_seen:1.5,effect:-1.1268},{reference_site:"494",wildtype:"I",mutant:"-",Escape:.0061,epitope:1,times_seen:1,effect:-.2268},{reference_site:"495",wildtype:"G",mutant:"C",Escape:.0067,epitope:1,times_seen:2,effect:-2.3496},{reference_site:"495",wildtype:"G",mutant:"R",Escape:.0082,epitope:1,times_seen:1,effect:-3.4494},{reference_site:"495",wildtype:"G",mutant:"-",Escape:.0081,epitope:1,times_seen:1,effect:-.2268},{reference_site:"496",wildtype:"V",mutant:"F",Escape:-.0059,epitope:1,times_seen:1,effect:.0842},{reference_site:"496",wildtype:"V",mutant:"H",Escape:.004,epitope:1,times_seen:1,effect:-3.0567},{reference_site:"496",wildtype:"V",mutant:"I",Escape:-.007,epitope:1,times_seen:1.5,effect:-.4896},{reference_site:"496",wildtype:"V",mutant:"K",Escape:.001,epitope:1,times_seen:1,effect:-2.6337},{reference_site:"496",wildtype:"V",mutant:"L",Escape:-.0045,epitope:1,times_seen:1,effect:-.9108},{reference_site:"496",wildtype:"V",mutant:"M",Escape:-.004,epitope:1,times_seen:5,effect:-.7291},{reference_site:"496",wildtype:"V",mutant:"-",Escape:.0118,epitope:1,times_seen:1,effect:-.2268},{reference_site:"497",wildtype:"A",mutant:"D",Escape:-.0012,epitope:1,times_seen:4,effect:-3.6129},{reference_site:"497",wildtype:"A",mutant:"S",Escape:.0062,epitope:1,times_seen:2,effect:-2.1549},{reference_site:"497",wildtype:"A",mutant:"T",Escape:.0132,epitope:1,times_seen:2,effect:-3.1918},{reference_site:"497",wildtype:"A",mutant:"V",Escape:-7e-4,epitope:1,times_seen:3.6667,effect:.0075},{reference_site:"497",wildtype:"A",mutant:"-",Escape:.0087,epitope:1,times_seen:1,effect:-.2268},{reference_site:"498",wildtype:"P",mutant:"H",Escape:.0168,epitope:1,times_seen:1.6667,effect:-2.8482},{reference_site:"498",wildtype:"P",mutant:"L",Escape:.0022,epitope:1,times_seen:1,effect:-.2757},{reference_site:"498",wildtype:"P",mutant:"S",Escape:-7e-4,epitope:1,times_seen:1,effect:-.9101},{reference_site:"498",wildtype:"P",mutant:"T",Escape:-7e-4,epitope:1,times_seen:1,effect:-1.1004},{reference_site:"498",wildtype:"P",mutant:"-",Escape:.0098,epitope:1,times_seen:1,effect:-.2268},{reference_site:"499",wildtype:"T",mutant:"I",Escape:-8e-4,epitope:1,times_seen:1,effect:.5226},{reference_site:"499",wildtype:"T",mutant:"-",Escape:.0037,epitope:1,times_seen:1,effect:-.6379},{reference_site:"500",wildtype:"R",mutant:"E",Escape:-.006,epitope:1,times_seen:2,effect:-.4315},{reference_site:"500",wildtype:"R",mutant:"G",Escape:.0024,epitope:1,times_seen:3,effect:-.7008},{reference_site:"500",wildtype:"R",mutant:"H",Escape:-.0042,epitope:1,times_seen:1,effect:.3072},{reference_site:"500",wildtype:"R",mutant:"I",Escape:-.0119,epitope:1,times_seen:3.6667,effect:-1.1514},{reference_site:"500",wildtype:"R",mutant:"K",Escape:-.0078,epitope:1,times_seen:4,effect:-.1151},{reference_site:"500",wildtype:"R",mutant:"L",Escape:-.0065,epitope:1,times_seen:1,effect:-.2989},{reference_site:"500",wildtype:"R",mutant:"M",Escape:-.0022,epitope:1,times_seen:2.6667,effect:-.3131},{reference_site:"500",wildtype:"R",mutant:"N",Escape:-.0131,epitope:1,times_seen:3.5,effect:-.5716},{reference_site:"500",wildtype:"R",mutant:"Q",Escape:-.0031,epitope:1,times_seen:1,effect:-.0821},{reference_site:"500",wildtype:"R",mutant:"S",Escape:3e-4,epitope:1,times_seen:2,effect:-.6173},{reference_site:"500",wildtype:"R",mutant:"T",Escape:-.002,epitope:1,times_seen:2,effect:-.9611},{reference_site:"500",wildtype:"R",mutant:"W",Escape:-.0017,epitope:1,times_seen:1,effect:-.7898},{reference_site:"500",wildtype:"R",mutant:"-",Escape:.0121,epitope:1,times_seen:1,effect:-.2104},{reference_site:"501",wildtype:"A",mutant:"G",Escape:5e-4,epitope:1,times_seen:1.6667,effect:-1.0443},{reference_site:"501",wildtype:"A",mutant:"S",Escape:-.0062,epitope:1,times_seen:25.6667,effect:-.1678},{reference_site:"501",wildtype:"A",mutant:"T",Escape:5e-4,epitope:1,times_seen:2,effect:-2.1809},{reference_site:"501",wildtype:"A",mutant:"-",Escape:.0063,epitope:1,times_seen:1,effect:-.2104},{reference_site:"502",wildtype:"K",mutant:"E",Escape:-.0026,epitope:1,times_seen:1,effect:-1.8474},{reference_site:"502",wildtype:"K",mutant:"H",Escape:-4e-4,epitope:1,times_seen:1,effect:.532},{reference_site:"502",wildtype:"K",mutant:"M",Escape:-.0084,epitope:1,times_seen:7,effect:-.3373},{reference_site:"502",wildtype:"K",mutant:"N",Escape:7e-4,epitope:1,times_seen:2,effect:-2.6457},{reference_site:"502",wildtype:"K",mutant:"Q",Escape:-.01,epitope:1,times_seen:4,effect:-.0816},{reference_site:"502",wildtype:"K",mutant:"R",Escape:-.0052,epitope:1,times_seen:4.3333,effect:.1495},{reference_site:"502",wildtype:"K",mutant:"T",Escape:.0013,epitope:1,times_seen:1,effect:-1.3956},{reference_site:"503",wildtype:"R",mutant:"G",Escape:-1e-4,epitope:1,times_seen:1,effect:-1.0341},{reference_site:"503",wildtype:"R",mutant:"I",Escape:.0045,epitope:1,times_seen:1,effect:-3.2914},{reference_site:"503",wildtype:"R",mutant:"K",Escape:-.0038,epitope:1,times_seen:3.3333,effect:-1.549},{reference_site:"504",wildtype:"R",mutant:"A",Escape:.0156,epitope:1,times_seen:1,effect:.5653},{reference_site:"504",wildtype:"R",mutant:"C",Escape:.0053,epitope:1,times_seen:2,effect:-1.705},{reference_site:"504",wildtype:"R",mutant:"E",Escape:.0079,epitope:1,times_seen:1.3333,effect:-3.1742},{reference_site:"504",wildtype:"R",mutant:"F",Escape:3e-4,epitope:1,times_seen:1,effect:-1.1365},{reference_site:"504",wildtype:"R",mutant:"I",Escape:-.0136,epitope:1,times_seen:7.6667,effect:-.3976},{reference_site:"504",wildtype:"R",mutant:"K",Escape:-.0081,epitope:1,times_seen:2.6667,effect:-2.0634},{reference_site:"504",wildtype:"R",mutant:"L",Escape:-.014,epitope:1,times_seen:2,effect:-.4341},{reference_site:"504",wildtype:"R",mutant:"M",Escape:-.0059,epitope:1,times_seen:4.3333,effect:-.2172},{reference_site:"504",wildtype:"R",mutant:"N",Escape:.0011,epitope:1,times_seen:1,effect:-2.2031},{reference_site:"504",wildtype:"R",mutant:"Q",Escape:-.0042,epitope:1,times_seen:1.6667,effect:-1.2288},{reference_site:"504",wildtype:"R",mutant:"T",Escape:-.0012,epitope:1,times_seen:1,effect:-1.5831},{reference_site:"504",wildtype:"R",mutant:"Y",Escape:.0061,epitope:1,times_seen:1.3333,effect:-.2084},{reference_site:"505",wildtype:"V",mutant:"A",Escape:.0375,epitope:1,times_seen:2,effect:-.0997},{reference_site:"505",wildtype:"V",mutant:"G",Escape:-.0229,epitope:1,times_seen:2,effect:-.5266},{reference_site:"505",wildtype:"V",mutant:"L",Escape:.0481,epitope:1,times_seen:7.6667,effect:-.1575},{reference_site:"505",wildtype:"V",mutant:"M",Escape:.0117,epitope:1,times_seen:6,effect:-.5308},{reference_site:"505",wildtype:"V",mutant:"T",Escape:-.0294,epitope:1,times_seen:1,effect:-.4368},{reference_site:"506",wildtype:"V",mutant:"A",Escape:-.0148,epitope:1,times_seen:1,effect:-.9482},{reference_site:"506",wildtype:"V",mutant:"E",Escape:.0084,epitope:1,times_seen:1,effect:-.4566},{reference_site:"506",wildtype:"V",mutant:"M",Escape:-.076,epitope:1,times_seen:3,effect:-.5148},{reference_site:"507",wildtype:"E",mutant:"D",Escape:8e-4,epitope:1,times_seen:11,effect:-.0046},{reference_site:"507",wildtype:"E",mutant:"G",Escape:-.0042,epitope:1,times_seen:6,effect:-.4965},{reference_site:"507",wildtype:"E",mutant:"H",Escape:.0047,epitope:1,times_seen:1,effect:-.7053},{reference_site:"507",wildtype:"E",mutant:"K",Escape:-.0474,epitope:1,times_seen:9.3333,effect:-.4697},{reference_site:"507",wildtype:"E",mutant:"L",Escape:.024,epitope:1,times_seen:1,effect:-.5734},{reference_site:"507",wildtype:"E",mutant:"N",Escape:.0077,epitope:1,times_seen:4.3333,effect:-.1202},{reference_site:"507",wildtype:"E",mutant:"P",Escape:-.0157,epitope:1,times_seen:1,effect:-1.2222},{reference_site:"507",wildtype:"E",mutant:"Q",Escape:-.0055,epitope:1,times_seen:1,effect:-.0784},{reference_site:"507",wildtype:"E",mutant:"R",Escape:-.0347,epitope:1,times_seen:2,effect:-.3459},{reference_site:"507",wildtype:"E",mutant:"S",Escape:-.0244,epitope:1,times_seen:5.3333,effect:-.0688},{reference_site:"507",wildtype:"E",mutant:"T",Escape:-.0228,epitope:1,times_seen:2.3333,effect:.0573},{reference_site:"507",wildtype:"E",mutant:"V",Escape:-.0044,epitope:1,times_seen:1,effect:-1.5609},{reference_site:"507",wildtype:"E",mutant:"*",Escape:.0864,epitope:1,times_seen:1,effect:-3.1791},{reference_site:"508",wildtype:"R",mutant:"E",Escape:-.0256,epitope:1,times_seen:1,effect:-3.2646},{reference_site:"508",wildtype:"R",mutant:"I",Escape:.2596,epitope:1,times_seen:9.3333,effect:-.5008},{reference_site:"508",wildtype:"R",mutant:"K",Escape:-.0098,epitope:1,times_seen:9,effect:-.1961},{reference_site:"508",wildtype:"R",mutant:"M",Escape:-.05,epitope:1,times_seen:4.3333,effect:-.8378},{reference_site:"509",wildtype:"E",mutant:"A",Escape:-.0435,epitope:1,times_seen:1.6667,effect:-.198},{reference_site:"509",wildtype:"E",mutant:"D",Escape:-.041,epitope:1,times_seen:12,effect:.0334},{reference_site:"509",wildtype:"E",mutant:"F",Escape:-.0157,epitope:1,times_seen:3.6667,effect:-.0926},{reference_site:"509",wildtype:"E",mutant:"G",Escape:.0245,epitope:1,times_seen:6.6667,effect:-.0202},{reference_site:"509",wildtype:"E",mutant:"H",Escape:.0533,epitope:1,times_seen:2.3333,effect:-.0651},{reference_site:"509",wildtype:"E",mutant:"K",Escape:-.1314,epitope:1,times_seen:13.6667,effect:-.1089},{reference_site:"509",wildtype:"E",mutant:"L",Escape:-.0433,epitope:1,times_seen:5.6667,effect:-.1635},{reference_site:"509",wildtype:"E",mutant:"M",Escape:.0389,epitope:1,times_seen:8,effect:-.3443},{reference_site:"509",wildtype:"E",mutant:"N",Escape:-6e-4,epitope:1,times_seen:5.6667,effect:.0801},{reference_site:"509",wildtype:"E",mutant:"P",Escape:.0016,epitope:1,times_seen:1,effect:-.5374},{reference_site:"509",wildtype:"E",mutant:"Q",Escape:.0037,epitope:1,times_seen:10.6667,effect:-.1167},{reference_site:"509",wildtype:"E",mutant:"R",Escape:-.033,epitope:1,times_seen:5.6667,effect:.0065},{reference_site:"509",wildtype:"E",mutant:"T",Escape:-.0061,epitope:1,times_seen:1.3333,effect:-.0386},{reference_site:"509",wildtype:"E",mutant:"V",Escape:-.0251,epitope:1,times_seen:11,effect:-.2509},{reference_site:"509",wildtype:"E",mutant:"W",Escape:-.0253,epitope:1,times_seen:6.6667,effect:-.2472},{reference_site:"509",wildtype:"E",mutant:"Y",Escape:-.0095,epitope:1,times_seen:2,effect:-.4143},{reference_site:"509",wildtype:"E",mutant:"*",Escape:.3338,epitope:1,times_seen:2.5,effect:-3.188},{reference_site:"510",wildtype:"K",mutant:"C",Escape:6e-4,epitope:1,times_seen:1,effect:-1.8071},{reference_site:"510",wildtype:"K",mutant:"E",Escape:.0715,epitope:1,times_seen:10,effect:-.9526},{reference_site:"510",wildtype:"K",mutant:"N",Escape:.0259,epitope:1,times_seen:1,effect:-2.6487},{reference_site:"510",wildtype:"K",mutant:"P",Escape:-.003,epitope:1,times_seen:1,effect:-1.0171},{reference_site:"510",wildtype:"K",mutant:"R",Escape:-.0147,epitope:1,times_seen:8.6667,effect:-.0378},{reference_site:"510",wildtype:"K",mutant:"S",Escape:.0117,epitope:1,times_seen:1,effect:-2.1544},{reference_site:"510",wildtype:"K",mutant:"T",Escape:-.0249,epitope:1,times_seen:2,effect:-.6303},{reference_site:"511",wildtype:"R",mutant:"G",Escape:.01,epitope:1,times_seen:1,effect:-1.2718},{reference_site:"511",wildtype:"R",mutant:"K",Escape:.014,epitope:1,times_seen:6.3333,effect:-.6875},{reference_site:"511",wildtype:"R",mutant:"M",Escape:.0116,epitope:1,times_seen:2,effect:-2.537},{reference_site:"511",wildtype:"R",mutant:"S",Escape:1.0814,epitope:1,times_seen:1,effect:-3.4028},{reference_site:"512",wildtype:"A",mutant:"D",Escape:-.104,epitope:1,times_seen:15.3333,effect:-.2181},{reference_site:"512",wildtype:"A",mutant:"E",Escape:-.0019,epitope:1,times_seen:1.3333,effect:-.4516},{reference_site:"512",wildtype:"A",mutant:"G",Escape:-.0205,epitope:1,times_seen:8.6667,effect:-.0051},{reference_site:"512",wildtype:"A",mutant:"R",Escape:.0082,epitope:1,times_seen:1,effect:-3.2964},{reference_site:"512",wildtype:"A",mutant:"S",Escape:-.1161,epitope:1,times_seen:12.3333,effect:-.0606},{reference_site:"512",wildtype:"A",mutant:"T",Escape:.0552,epitope:1,times_seen:5.3333,effect:-.6484},{reference_site:"512",wildtype:"A",mutant:"V",Escape:-.05,epitope:1,times_seen:5,effect:-.5429},{reference_site:"513",wildtype:"V",mutant:"A",Escape:.0034,epitope:1,times_seen:2.6667,effect:-.6513},{reference_site:"513",wildtype:"V",mutant:"F",Escape:-.0119,epitope:1,times_seen:1.6667,effect:-1.3492},{reference_site:"513",wildtype:"V",mutant:"G",Escape:-.0064,epitope:1,times_seen:3.3333,effect:-.2279},{reference_site:"513",wildtype:"V",mutant:"I",Escape:-.0321,epitope:1,times_seen:1,effect:-.4816},{reference_site:"513",wildtype:"V",mutant:"L",Escape:-.0109,epitope:1,times_seen:7.3333,effect:.0676},{reference_site:"513",wildtype:"V",mutant:"M",Escape:.0747,epitope:1,times_seen:15.3333,effect:.0584},{reference_site:"513",wildtype:"V",mutant:"P",Escape:.0274,epitope:1,times_seen:3.6667,effect:-.4867},{reference_site:"513",wildtype:"V",mutant:"S",Escape:9e-4,epitope:1,times_seen:1,effect:-.5668},{reference_site:"513",wildtype:"V",mutant:"T",Escape:.0168,epitope:1,times_seen:2.5,effect:-.611},{reference_site:"514",wildtype:"G",mutant:"A",Escape:-.1127,epitope:1,times_seen:11,effect:-.5471},{reference_site:"514",wildtype:"G",mutant:"C",Escape:-1e-4,epitope:1,times_seen:4,effect:-3.1372},{reference_site:"514",wildtype:"G",mutant:"D",Escape:.1385,epitope:1,times_seen:5.6667,effect:-2.5929},{reference_site:"514",wildtype:"G",mutant:"E",Escape:.0082,epitope:1,times_seen:1.5,effect:-1.5406},{reference_site:"514",wildtype:"G",mutant:"F",Escape:.1504,epitope:1,times_seen:5.3333,effect:-.5464},{reference_site:"514",wildtype:"G",mutant:"H",Escape:-.0187,epitope:1,times_seen:2.6667,effect:-.4844},{reference_site:"514",wildtype:"G",mutant:"I",Escape:-.0457,epitope:1,times_seen:6.6667,effect:-1.1469},{reference_site:"514",wildtype:"G",mutant:"L",Escape:.0032,epitope:1,times_seen:1,effect:-1.5033},{reference_site:"514",wildtype:"G",mutant:"M",Escape:-.0161,epitope:1,times_seen:1.5,effect:-1.014},{reference_site:"514",wildtype:"G",mutant:"N",Escape:-.0307,epitope:1,times_seen:4.3333,effect:-.845},{reference_site:"514",wildtype:"G",mutant:"P",Escape:.0364,epitope:1,times_seen:3.3333,effect:-.6738},{reference_site:"514",wildtype:"G",mutant:"Q",Escape:-.0233,epitope:1,times_seen:1,effect:-.3659},{reference_site:"514",wildtype:"G",mutant:"R",Escape:.2156,epitope:1,times_seen:1,effect:-3.1921},{reference_site:"514",wildtype:"G",mutant:"S",Escape:.0068,epitope:1,times_seen:17,effect:-.2857},{reference_site:"514",wildtype:"G",mutant:"T",Escape:-.0804,epitope:1,times_seen:7.6667,effect:-.2069},{reference_site:"514",wildtype:"G",mutant:"V",Escape:-.0602,epitope:1,times_seen:5.6667,effect:-1.1583},{reference_site:"514",wildtype:"G",mutant:"W",Escape:-.0552,epitope:1,times_seen:5.6667,effect:-.9673},{reference_site:"515",wildtype:"I",mutant:"F",Escape:.0128,epitope:1,times_seen:11.3333,effect:-.126},{reference_site:"515",wildtype:"I",mutant:"H",Escape:-.0145,epitope:1,times_seen:1,effect:-3.0533},{reference_site:"515",wildtype:"I",mutant:"K",Escape:.0056,epitope:1,times_seen:1.6667,effect:-2.4381},{reference_site:"515",wildtype:"I",mutant:"L",Escape:-.0234,epitope:1,times_seen:2.6667,effect:.0139},{reference_site:"515",wildtype:"I",mutant:"M",Escape:.0239,epitope:1,times_seen:11.6667,effect:-.2015},{reference_site:"515",wildtype:"I",mutant:"P",Escape:-.0479,epitope:1,times_seen:3,effect:-1.0325},{reference_site:"515",wildtype:"I",mutant:"T",Escape:-.0962,epitope:1,times_seen:6.6667,effect:-.7033},{reference_site:"515",wildtype:"I",mutant:"V",Escape:-.0635,epitope:1,times_seen:3.6667,effect:-.1915},{reference_site:"515",wildtype:"I",mutant:"Y",Escape:.0472,epitope:1,times_seen:2.6667,effect:-.345},{reference_site:"516",wildtype:"G",mutant:"A",Escape:.0336,epitope:1,times_seen:2.6667,effect:-.4984},{reference_site:"516",wildtype:"G",mutant:"C",Escape:.531,epitope:1,times_seen:3,effect:-3.247},{reference_site:"516",wildtype:"G",mutant:"D",Escape:.0134,epitope:1,times_seen:1,effect:-1.0483},{reference_site:"516",wildtype:"G",mutant:"E",Escape:-.0096,epitope:1,times_seen:3.6667,effect:-1.2983},{reference_site:"516",wildtype:"G",mutant:"I",Escape:-.0152,epitope:1,times_seen:1,effect:-.3815},{reference_site:"516",wildtype:"G",mutant:"S",Escape:.0164,epitope:1,times_seen:8,effect:.0108},{reference_site:"516",wildtype:"G",mutant:"V",Escape:-.0371,epitope:1,times_seen:4.6667,effect:-.5631},{reference_site:"517",wildtype:"A",mutant:"G",Escape:.0301,epitope:1,times_seen:4,effect:.0251},{reference_site:"517",wildtype:"A",mutant:"L",Escape:-.0155,epitope:1,times_seen:1,effect:-.7952},{reference_site:"517",wildtype:"A",mutant:"S",Escape:-.1036,epitope:1,times_seen:15.6667,effect:-.0989},{reference_site:"517",wildtype:"A",mutant:"T",Escape:.0105,epitope:1,times_seen:17,effect:-.1214},{reference_site:"517",wildtype:"A",mutant:"V",Escape:-.0164,epitope:1,times_seen:3.3333,effect:-.5021},{reference_site:"518",wildtype:"V",mutant:"A",Escape:-.034,epitope:1,times_seen:3.5,effect:-.4563},{reference_site:"518",wildtype:"V",mutant:"F",Escape:-.0079,epitope:1,times_seen:2,effect:-.1404},{reference_site:"518",wildtype:"V",mutant:"G",Escape:-2e-4,epitope:1,times_seen:1,effect:-1.5166},{reference_site:"518",wildtype:"V",mutant:"I",Escape:.0159,epitope:1,times_seen:1.3333,effect:-.0403},{reference_site:"518",wildtype:"V",mutant:"L",Escape:.0289,epitope:1,times_seen:4.3333,effect:-.1917},{reference_site:"518",wildtype:"V",mutant:"M",Escape:.0795,epitope:1,times_seen:9.3333,effect:.0602},{reference_site:"518",wildtype:"V",mutant:"T",Escape:-.0073,epitope:1,times_seen:1,effect:-.8174},{reference_site:"518",wildtype:"V",mutant:"W",Escape:.0017,epitope:1,times_seen:1,effect:-.1778},{reference_site:"519",wildtype:"F",mutant:"A",Escape:-.0108,epitope:1,times_seen:1.5,effect:-1.2414},{reference_site:"519",wildtype:"F",mutant:"I",Escape:-.0137,epitope:1,times_seen:5.6667,effect:-.6762},{reference_site:"519",wildtype:"F",mutant:"L",Escape:-.0173,epitope:1,times_seen:6.6667,effect:-.234},{reference_site:"519",wildtype:"F",mutant:"T",Escape:-.0045,epitope:1,times_seen:1,effect:-.4641},{reference_site:"519",wildtype:"F",mutant:"V",Escape:-.011,epitope:1,times_seen:2,effect:-1.2893},{reference_site:"519",wildtype:"F",mutant:"Y",Escape:.0106,epitope:1,times_seen:2,effect:.682},{reference_site:"520",wildtype:"I",mutant:"F",Escape:-.0023,epitope:1,times_seen:1.6667,effect:-.2108},{reference_site:"520",wildtype:"I",mutant:"L",Escape:-2e-4,epitope:1,times_seen:1,effect:-.231},{reference_site:"520",wildtype:"I",mutant:"S",Escape:.0047,epitope:1,times_seen:1.6667,effect:-.6571},{reference_site:"520",wildtype:"I",mutant:"T",Escape:-.0116,epitope:1,times_seen:5,effect:-.9404},{reference_site:"520",wildtype:"I",mutant:"V",Escape:.0012,epitope:1,times_seen:1.6667,effect:-.7887},{reference_site:"521",wildtype:"G",mutant:"C",Escape:.0127,epitope:1,times_seen:2.3333,effect:-2.8693},{reference_site:"521",wildtype:"G",mutant:"D",Escape:.0083,epitope:1,times_seen:1,effect:-2.0797},{reference_site:"521",wildtype:"G",mutant:"R",Escape:.0071,epitope:1,times_seen:1,effect:-3.4618},{reference_site:"521",wildtype:"G",mutant:"S",Escape:-.0054,epitope:1,times_seen:3.3333,effect:-.2762},{reference_site:"521",wildtype:"G",mutant:"V",Escape:.0087,epitope:1,times_seen:1,effect:-2.294},{reference_site:"522",wildtype:"F",mutant:"I",Escape:-1e-4,epitope:1,times_seen:2.6667,effect:-2.5753},{reference_site:"522",wildtype:"F",mutant:"L",Escape:-1e-4,epitope:1,times_seen:1.3333,effect:-1.7912},{reference_site:"523",wildtype:"L",mutant:"M",Escape:-.0094,epitope:1,times_seen:7,effect:-.6167},{reference_site:"523",wildtype:"L",mutant:"Q",Escape:-.0012,epitope:1,times_seen:1,effect:-.0344},{reference_site:"524",wildtype:"G",mutant:"C",Escape:-.0051,epitope:1,times_seen:4.6667,effect:-1.5858},{reference_site:"524",wildtype:"G",mutant:"D",Escape:.0021,epitope:1,times_seen:1.5,effect:-2.8818},{reference_site:"524",wildtype:"G",mutant:"H",Escape:-.0045,epitope:1,times_seen:2,effect:-.3518},{reference_site:"524",wildtype:"G",mutant:"S",Escape:-.0114,epitope:1,times_seen:4.6667,effect:-.2579},{reference_site:"524",wildtype:"G",mutant:"T",Escape:.0051,epitope:1,times_seen:1,effect:.0793},{reference_site:"524",wildtype:"G",mutant:"V",Escape:-.0038,epitope:1,times_seen:3,effect:-1.0742},{reference_site:"525",wildtype:"A",mutant:"S",Escape:-.0073,epitope:1,times_seen:10,effect:.0532},{reference_site:"525",wildtype:"A",mutant:"T",Escape:.0053,epitope:1,times_seen:11.3333,effect:.0494},{reference_site:"525",wildtype:"A",mutant:"V",Escape:-.0017,epitope:1,times_seen:1.6667,effect:-1.5107},{reference_site:"526",wildtype:"A",mutant:"D",Escape:.003,epitope:1,times_seen:1,effect:-3.3051},{reference_site:"526",wildtype:"A",mutant:"P",Escape:.007,epitope:1,times_seen:3,effect:-1.0262},{reference_site:"526",wildtype:"A",mutant:"S",Escape:-.0082,epitope:1,times_seen:3.3333,effect:-1.595},{reference_site:"526",wildtype:"A",mutant:"T",Escape:.005,epitope:1,times_seen:2.6667,effect:-2.6519},{reference_site:"526",wildtype:"A",mutant:"V",Escape:-.0045,epitope:1,times_seen:1,effect:-2.9126},{reference_site:"527",wildtype:"G",mutant:"D",Escape:3e-4,epitope:1,times_seen:1,effect:-3.1035},{reference_site:"527",wildtype:"G",mutant:"S",Escape:.0011,epitope:1,times_seen:1.6667,effect:-1.9191},{reference_site:"528",wildtype:"S",mutant:"G",Escape:-.0025,epitope:1,times_seen:2,effect:-.7072},{reference_site:"528",wildtype:"S",mutant:"I",Escape:9e-4,epitope:1,times_seen:2.3333,effect:-.2147},{reference_site:"528",wildtype:"S",mutant:"N",Escape:.0014,epitope:1,times_seen:2.6667,effect:-1.3231},{reference_site:"528",wildtype:"S",mutant:"R",Escape:.0137,epitope:1,times_seen:1,effect:-2.2352},{reference_site:"528",wildtype:"S",mutant:"T",Escape:-.0054,epitope:1,times_seen:2,effect:-.0821},{reference_site:"528",wildtype:"S",mutant:"-",Escape:.0114,epitope:1,times_seen:1,effect:-.4445},{reference_site:"529",wildtype:"T",mutant:"A",Escape:.0022,epitope:1,times_seen:2,effect:-.3085},{reference_site:"529",wildtype:"T",mutant:"I",Escape:.0024,epitope:1,times_seen:4.3333,effect:-.9256},{reference_site:"529",wildtype:"T",mutant:"P",Escape:.0113,epitope:1,times_seen:1,effect:-1.9036},{reference_site:"529",wildtype:"T",mutant:"S",Escape:-.0025,epitope:1,times_seen:1,effect:-.2451},{reference_site:"529",wildtype:"T",mutant:"-",Escape:.0084,epitope:1,times_seen:1,effect:-.4445},{reference_site:"530",wildtype:"M",mutant:"I",Escape:-.0012,epitope:1,times_seen:1,effect:-3.386},{reference_site:"530",wildtype:"M",mutant:"T",Escape:.0109,epitope:1,times_seen:1,effect:-.7543},{reference_site:"530",wildtype:"M",mutant:"V",Escape:.0164,epitope:1,times_seen:1,effect:-2.6803},{reference_site:"530",wildtype:"M",mutant:"-",Escape:.0085,epitope:1,times_seen:1,effect:-.4445},{reference_site:"531",wildtype:"G",mutant:"C",Escape:.007,epitope:1,times_seen:1,effect:-3.1921},{reference_site:"531",wildtype:"G",mutant:"D",Escape:.0129,epitope:1,times_seen:1,effect:-2.7387},{reference_site:"531",wildtype:"G",mutant:"S",Escape:-8e-4,epitope:1,times_seen:2.3333,effect:-.4688},{reference_site:"531",wildtype:"G",mutant:"V",Escape:.001,epitope:1,times_seen:1,effect:-1.5992},{reference_site:"531",wildtype:"G",mutant:"-",Escape:.0077,epitope:1,times_seen:1,effect:-.0335},{reference_site:"532",wildtype:"A",mutant:"D",Escape:.0027,epitope:1,times_seen:1,effect:-3.1473},{reference_site:"532",wildtype:"A",mutant:"G",Escape:-.0024,epitope:1,times_seen:1,effect:-.3451},{reference_site:"532",wildtype:"A",mutant:"P",Escape:.0031,epitope:1,times_seen:1,effect:-1.4763},{reference_site:"532",wildtype:"A",mutant:"S",Escape:-.0167,epitope:1,times_seen:12.3333,effect:-.4578},{reference_site:"532",wildtype:"A",mutant:"T",Escape:-.0188,epitope:1,times_seen:12.6667,effect:-.2853},{reference_site:"532",wildtype:"A",mutant:"V",Escape:.0018,epitope:1,times_seen:2,effect:-.3506},{reference_site:"532",wildtype:"A",mutant:"-",Escape:.0112,epitope:1,times_seen:1,effect:-.0335},{reference_site:"533",wildtype:"A",mutant:"D",Escape:.0177,epitope:1,times_seen:1,effect:-3.0931},{reference_site:"533",wildtype:"A",mutant:"G",Escape:-.0036,epitope:1,times_seen:1,effect:-1.4715},{reference_site:"533",wildtype:"A",mutant:"S",Escape:-.0324,epitope:1,times_seen:11.3333,effect:-.4458},{reference_site:"533",wildtype:"A",mutant:"T",Escape:-.0158,epitope:1,times_seen:7,effect:-.8271},{reference_site:"533",wildtype:"A",mutant:"V",Escape:.0142,epitope:1,times_seen:1.3333,effect:-1.9534},{reference_site:"533",wildtype:"A",mutant:"-",Escape:.0123,epitope:1,times_seen:1,effect:-.1975},{reference_site:"534",wildtype:"S",mutant:"A",Escape:-8e-4,epitope:1,times_seen:1.6667,effect:.0451},{reference_site:"534",wildtype:"S",mutant:"C",Escape:-.0103,epitope:1,times_seen:8.6667,effect:-.5628},{reference_site:"534",wildtype:"S",mutant:"F",Escape:.0198,epitope:1,times_seen:1,effect:-2.7263},{reference_site:"534",wildtype:"S",mutant:"G",Escape:-.0098,epitope:1,times_seen:4,effect:-.4445},{reference_site:"534",wildtype:"S",mutant:"I",Escape:-.0016,epitope:1,times_seen:1,effect:-3.1405},{reference_site:"534",wildtype:"S",mutant:"L",Escape:.011,epitope:1,times_seen:1,effect:-.5059},{reference_site:"534",wildtype:"S",mutant:"P",Escape:6e-4,epitope:1,times_seen:1,effect:-2.8485},{reference_site:"534",wildtype:"S",mutant:"R",Escape:.0026,epitope:1,times_seen:1,effect:-2.4252},{reference_site:"534",wildtype:"S",mutant:"T",Escape:-.0016,epitope:1,times_seen:6.3333,effect:-.2394},{reference_site:"534",wildtype:"S",mutant:"-",Escape:.0143,epitope:1,times_seen:1,effect:.175},{reference_site:"535",wildtype:"V",mutant:"A",Escape:-.0041,epitope:1,times_seen:1,effect:-.6799},{reference_site:"535",wildtype:"V",mutant:"E",Escape:-3e-4,epitope:1,times_seen:1.5,effect:-2.3136},{reference_site:"535",wildtype:"V",mutant:"F",Escape:-.0012,epitope:1,times_seen:1,effect:.2397},{reference_site:"535",wildtype:"V",mutant:"L",Escape:.0083,epitope:1,times_seen:4.3333,effect:.0072},{reference_site:"535",wildtype:"V",mutant:"M",Escape:.0386,epitope:1,times_seen:12.6667,effect:.0644},{reference_site:"535",wildtype:"V",mutant:"T",Escape:9e-4,epitope:1,times_seen:1,effect:-.2016},{reference_site:"535",wildtype:"V",mutant:"W",Escape:-.0049,epitope:1,times_seen:1,effect:-.8319},{reference_site:"535",wildtype:"V",mutant:"Y",Escape:.001,epitope:1,times_seen:2,effect:-1.5399},{reference_site:"536",wildtype:"T",mutant:"A",Escape:-.0018,epitope:1,times_seen:5,effect:.0998},{reference_site:"536",wildtype:"T",mutant:"G",Escape:-.0033,epitope:1,times_seen:1,effect:-.7616},{reference_site:"536",wildtype:"T",mutant:"I",Escape:-.0038,epitope:1,times_seen:1,effect:-.6012},{reference_site:"536",wildtype:"T",mutant:"M",Escape:-.0027,epitope:1,times_seen:1,effect:-.961},{reference_site:"536",wildtype:"T",mutant:"S",Escape:.0203,epitope:1,times_seen:4,effect:-.2452},{reference_site:"537",wildtype:"L",mutant:"M",Escape:-.0106,epitope:1,times_seen:14.6667,effect:-.3818},{reference_site:"537",wildtype:"L",mutant:"R",Escape:.0077,epitope:1,times_seen:1.6667,effect:-2.7848},{reference_site:"538",wildtype:"T",mutant:"A",Escape:-.0139,epitope:1,times_seen:8,effect:-.1622},{reference_site:"538",wildtype:"T",mutant:"I",Escape:-.002,epitope:1,times_seen:1.6667,effect:-.7994},{reference_site:"538",wildtype:"T",mutant:"M",Escape:-.0072,epitope:1,times_seen:3,effect:-.6173},{reference_site:"538",wildtype:"T",mutant:"N",Escape:.0011,epitope:1,times_seen:2,effect:-.6616},{reference_site:"539",wildtype:"V",mutant:"A",Escape:-3e-4,epitope:1,times_seen:1.3333,effect:.0139},{reference_site:"539",wildtype:"V",mutant:"E",Escape:-.0139,epitope:1,times_seen:5,effect:-.5048},{reference_site:"539",wildtype:"V",mutant:"G",Escape:-.0023,epitope:1,times_seen:2,effect:-.2834},{reference_site:"539",wildtype:"V",mutant:"L",Escape:.0056,epitope:1,times_seen:3.6667,effect:.0156},{reference_site:"539",wildtype:"V",mutant:"M",Escape:0,epitope:1,times_seen:11,effect:.1216},{reference_site:"540",wildtype:"Q",mutant:"H",Escape:-.0021,epitope:1,times_seen:2.6667,effect:-1.5661},{reference_site:"540",wildtype:"Q",mutant:"K",Escape:-2e-4,epitope:1,times_seen:1,effect:-1.6236},{reference_site:"540",wildtype:"Q",mutant:"R",Escape:.0024,epitope:1,times_seen:1,effect:-3.3245},{reference_site:"540",wildtype:"Q",mutant:"*",Escape:.0055,epitope:1,times_seen:3,effect:-3.0691},{reference_site:"541",wildtype:"A",mutant:"D",Escape:-.0039,epitope:1,times_seen:2,effect:-2.4288},{reference_site:"541",wildtype:"A",mutant:"G",Escape:-4e-4,epitope:1,times_seen:1,effect:-.848},{reference_site:"541",wildtype:"A",mutant:"S",Escape:-.0223,epitope:1,times_seen:10,effect:-.562},{reference_site:"541",wildtype:"A",mutant:"T",Escape:2e-4,epitope:1,times_seen:9.3333,effect:-.1498},{reference_site:"541",wildtype:"A",mutant:"V",Escape:-.01,epitope:1,times_seen:5,effect:.0954},{reference_site:"542",wildtype:"R",mutant:"I",Escape:.0038,epitope:1,times_seen:4.6667,effect:-2.033},{reference_site:"542",wildtype:"R",mutant:"K",Escape:-.0036,epitope:1,times_seen:7.3333,effect:-.0409},{reference_site:"542",wildtype:"R",mutant:"T",Escape:-4e-4,epitope:1,times_seen:2,effect:-1.5378},{reference_site:"543",wildtype:"Q",mutant:"D",Escape:-.0103,epitope:1,times_seen:1,effect:-.5669},{reference_site:"543",wildtype:"Q",mutant:"E",Escape:-.0227,epitope:1,times_seen:2.3333,effect:-.1972},{reference_site:"543",wildtype:"Q",mutant:"F",Escape:-.0111,epitope:1,times_seen:1,effect:.0581},{reference_site:"543",wildtype:"Q",mutant:"H",Escape:-.0339,epitope:1,times_seen:6.3333,effect:.1112},{reference_site:"543",wildtype:"Q",mutant:"I",Escape:-.006,epitope:1,times_seen:1,effect:-1.5839},{reference_site:"543",wildtype:"Q",mutant:"K",Escape:.0022,epitope:1,times_seen:5,effect:-.1206},{reference_site:"543",wildtype:"Q",mutant:"L",Escape:-.0342,epitope:1,times_seen:5,effect:-.4185},{reference_site:"543",wildtype:"Q",mutant:"M",Escape:.0304,epitope:1,times_seen:3.3333,effect:-.4455},{reference_site:"543",wildtype:"Q",mutant:"N",Escape:.0118,epitope:1,times_seen:1,effect:-.179},{reference_site:"543",wildtype:"Q",mutant:"P",Escape:-.0235,epitope:1,times_seen:2.3333,effect:-.4339},{reference_site:"543",wildtype:"Q",mutant:"R",Escape:-.0062,epitope:1,times_seen:8.3333,effect:-.1418},{reference_site:"543",wildtype:"Q",mutant:"S",Escape:-.0052,epitope:1,times_seen:1,effect:.1788},{reference_site:"543",wildtype:"Q",mutant:"T",Escape:.0107,epitope:1,times_seen:1,effect:-.347},{reference_site:"543",wildtype:"Q",mutant:"W",Escape:6e-4,epitope:1,times_seen:2,effect:-.5432},{reference_site:"543",wildtype:"Q",mutant:"Y",Escape:4e-4,epitope:1,times_seen:1,effect:.0282},{reference_site:"544",wildtype:"L",mutant:"C",Escape:.0015,epitope:1,times_seen:1,effect:-.0226},{reference_site:"544",wildtype:"L",mutant:"F",Escape:5e-4,epitope:1,times_seen:2,effect:-.2557},{reference_site:"544",wildtype:"L",mutant:"I",Escape:-.0238,epitope:1,times_seen:4,effect:-.0935},{reference_site:"544",wildtype:"L",mutant:"M",Escape:.0413,epitope:1,times_seen:11,effect:-.1589},{reference_site:"544",wildtype:"L",mutant:"N",Escape:.0231,epitope:1,times_seen:1,effect:-1.4895},{reference_site:"544",wildtype:"L",mutant:"Q",Escape:-.0031,epitope:1,times_seen:4.3333,effect:-1.1531},{reference_site:"544",wildtype:"L",mutant:"V",Escape:-.0126,epitope:1,times_seen:4,effect:.0547},{reference_site:"544",wildtype:"L",mutant:"W",Escape:-.0069,epitope:1,times_seen:1.3333,effect:-.932},{reference_site:"544",wildtype:"L",mutant:"Y",Escape:-.0132,epitope:1,times_seen:4,effect:-.6956},{reference_site:"545",wildtype:"L",mutant:"F",Escape:-.0013,epitope:1,times_seen:1,effect:-1.9945},{reference_site:"545",wildtype:"L",mutant:"M",Escape:-.0119,epitope:1,times_seen:12.6667,effect:-.3224},{reference_site:"546",wildtype:"S",mutant:"A",Escape:-.0015,epitope:1,times_seen:2,effect:-.1273},{reference_site:"546",wildtype:"S",mutant:"C",Escape:.0025,epitope:1,times_seen:1,effect:-.5235},{reference_site:"546",wildtype:"S",mutant:"G",Escape:.0129,epitope:1,times_seen:6,effect:-.9132},{reference_site:"546",wildtype:"S",mutant:"I",Escape:-.0055,epitope:1,times_seen:4,effect:-.3515},{reference_site:"546",wildtype:"S",mutant:"N",Escape:.0103,epitope:1,times_seen:3,effect:.4832},{reference_site:"546",wildtype:"S",mutant:"R",Escape:-.0081,epitope:1,times_seen:2,effect:-.8711},{reference_site:"546",wildtype:"S",mutant:"T",Escape:-.0042,epitope:1,times_seen:3.3333,effect:-.0553},{reference_site:"547",wildtype:"G",mutant:"C",Escape:.0261,epitope:1,times_seen:3.6667,effect:-.4448},{reference_site:"547",wildtype:"G",mutant:"D",Escape:.1159,epitope:1,times_seen:11,effect:-.2646},{reference_site:"547",wildtype:"G",mutant:"E",Escape:.0384,epitope:1,times_seen:2,effect:-.3837},{reference_site:"547",wildtype:"G",mutant:"S",Escape:.0403,epitope:1,times_seen:7.6667,effect:.1459},{reference_site:"547",wildtype:"G",mutant:"V",Escape:.1121,epitope:1,times_seen:2,effect:-.4037},{reference_site:"548",wildtype:"I",mutant:"M",Escape:.0218,epitope:1,times_seen:3,effect:-.7102},{reference_site:"548",wildtype:"I",mutant:"T",Escape:.1261,epitope:1,times_seen:2,effect:-2.2459},{reference_site:"548",wildtype:"I",mutant:"V",Escape:.0963,epitope:1,times_seen:1,effect:-.2203},{reference_site:"548",wildtype:"I",mutant:"Y",Escape:-.0126,epitope:1,times_seen:4,effect:-.9717},{reference_site:"549",wildtype:"V",mutant:"A",Escape:-.0277,epitope:1,times_seen:3,effect:-.3978},{reference_site:"549",wildtype:"V",mutant:"E",Escape:.012,epitope:1,times_seen:1.3333,effect:-.1902},{reference_site:"549",wildtype:"V",mutant:"I",Escape:.0012,epitope:1,times_seen:1,effect:.1563},{reference_site:"549",wildtype:"V",mutant:"L",Escape:-.0077,epitope:1,times_seen:1.6667,effect:-.1417},{reference_site:"549",wildtype:"V",mutant:"M",Escape:.0705,epitope:1,times_seen:5,effect:-.0368},{reference_site:"550",wildtype:"Q",mutant:"C",Escape:-.0579,epitope:1,times_seen:2,effect:-1.759},{reference_site:"550",wildtype:"Q",mutant:"D",Escape:.0133,epitope:1,times_seen:1,effect:-.3297},{reference_site:"550",wildtype:"Q",mutant:"E",Escape:.109,epitope:1,times_seen:5.6667,effect:.0561},{reference_site:"550",wildtype:"Q",mutant:"F",Escape:-.0271,epitope:1,times_seen:1,effect:-.7744},{reference_site:"550",wildtype:"Q",mutant:"H",Escape:.0219,epitope:1,times_seen:3.6667,effect:-.0355},{reference_site:"550",wildtype:"Q",mutant:"K",Escape:-.0551,epitope:1,times_seen:14.3333,effect:-.0032},{reference_site:"550",wildtype:"Q",mutant:"L",Escape:.0223,epitope:1,times_seen:1,effect:-.1465},{reference_site:"550",wildtype:"Q",mutant:"M",Escape:-.0078,epitope:1,times_seen:3.3333,effect:.0259},{reference_site:"550",wildtype:"Q",mutant:"N",Escape:-.0346,epitope:1,times_seen:4,effect:.2633},{reference_site:"550",wildtype:"Q",mutant:"R",Escape:-.0503,epitope:1,times_seen:1.6667,effect:-.4922},{reference_site:"550",wildtype:"Q",mutant:"S",Escape:-.0137,epitope:1,times_seen:3.3333,effect:-.2678},{reference_site:"550",wildtype:"Q",mutant:"V",Escape:-.0226,epitope:1,times_seen:2,effect:-.9466},{reference_site:"550",wildtype:"Q",mutant:"W",Escape:.0085,epitope:1,times_seen:1.3333,effect:-.427},{reference_site:"550",wildtype:"Q",mutant:"Y",Escape:-.0388,epitope:1,times_seen:3,effect:-.4324},{reference_site:"551",wildtype:"Q",mutant:"H",Escape:-.0531,epitope:1,times_seen:5.3333,effect:-.4379},{reference_site:"551",wildtype:"Q",mutant:"K",Escape:.0135,epitope:1,times_seen:1,effect:-1.0488},{reference_site:"551",wildtype:"Q",mutant:"W",Escape:.0116,epitope:1,times_seen:1,effect:-.2965},{reference_site:"551",wildtype:"Q",mutant:"*",Escape:.0154,epitope:1,times_seen:1.5,effect:-2.1583},{reference_site:"552",wildtype:"Q",mutant:"H",Escape:-.0135,epitope:1,times_seen:5.6667,effect:-.0672},{reference_site:"552",wildtype:"Q",mutant:"K",Escape:-.0196,epitope:1,times_seen:1,effect:-1.7218},{reference_site:"552",wildtype:"Q",mutant:"R",Escape:.0199,epitope:1,times_seen:2,effect:-.8153},{reference_site:"553",wildtype:"S",mutant:"D",Escape:.0117,epitope:1,times_seen:1,effect:-.774},{reference_site:"553",wildtype:"S",mutant:"G",Escape:-.0048,epitope:1,times_seen:1.3333,effect:-.0141},{reference_site:"553",wildtype:"S",mutant:"H",Escape:-.0164,epitope:1,times_seen:1,effect:-1.8404},{reference_site:"553",wildtype:"S",mutant:"I",Escape:.0263,epitope:1,times_seen:1,effect:-.8596},{reference_site:"553",wildtype:"S",mutant:"N",Escape:.0736,epitope:1,times_seen:7,effect:-.4893},{reference_site:"553",wildtype:"S",mutant:"Y",Escape:-.0336,epitope:1,times_seen:1,effect:-.1257},{reference_site:"554",wildtype:"N",mutant:"D",Escape:.0047,epitope:1,times_seen:1,effect:-.8939},{reference_site:"554",wildtype:"N",mutant:"K",Escape:-.0042,epitope:1,times_seen:1,effect:-.183},{reference_site:"555",wildtype:"L",mutant:"M",Escape:.0229,epitope:1,times_seen:7.6667,effect:.0462},{reference_site:"556",wildtype:"L",mutant:"H",Escape:.0414,epitope:1,times_seen:2.3333,effect:-.7258},{reference_site:"556",wildtype:"L",mutant:"M",Escape:.0291,epitope:1,times_seen:9,effect:.1147},{reference_site:"556",wildtype:"L",mutant:"V",Escape:.0502,epitope:1,times_seen:5,effect:-.2652},{reference_site:"557",wildtype:"R",mutant:"G",Escape:2.8197,epitope:1,times_seen:1,effect:-2.3096},{reference_site:"557",wildtype:"R",mutant:"I",Escape:.1401,epitope:1,times_seen:2,effect:-2.9301},{reference_site:"557",wildtype:"R",mutant:"K",Escape:-.0081,epitope:1,times_seen:2.3333,effect:-.0786},{reference_site:"557",wildtype:"R",mutant:"M",Escape:.0839,epitope:1,times_seen:2,effect:.3111},{reference_site:"557",wildtype:"R",mutant:"Q",Escape:.082,epitope:1,times_seen:1,effect:-.7922},{reference_site:"558",wildtype:"A",mutant:"I",Escape:-.0165,epitope:1,times_seen:1,effect:-1.9368},{reference_site:"558",wildtype:"A",mutant:"S",Escape:.0393,epitope:1,times_seen:2.3333,effect:-3.6222},{reference_site:"558",wildtype:"A",mutant:"T",Escape:.0155,epitope:1,times_seen:2,effect:-2.672},{reference_site:"558",wildtype:"A",mutant:"V",Escape:-.1397,epitope:1,times_seen:8.3333,effect:-.9912},{reference_site:"559",wildtype:"I",mutant:"A",Escape:.068,epitope:1,times_seen:1,effect:-1.0498},{reference_site:"559",wildtype:"I",mutant:"C",Escape:-.0287,epitope:1,times_seen:1,effect:-1.4499},{reference_site:"559",wildtype:"I",mutant:"F",Escape:.0191,epitope:1,times_seen:1,effect:-2.7762},{reference_site:"559",wildtype:"I",mutant:"M",Escape:-2e-4,epitope:1,times_seen:2.6667,effect:-1.1266},{reference_site:"559",wildtype:"I",mutant:"T",Escape:-.0051,epitope:1,times_seen:1,effect:-1.9035},{reference_site:"559",wildtype:"I",mutant:"V",Escape:2e-4,epitope:1,times_seen:1,effect:-.5559},{reference_site:"560",wildtype:"E",mutant:"D",Escape:-.0201,epitope:1,times_seen:9.6667,effect:.1101},{reference_site:"560",wildtype:"E",mutant:"K",Escape:-.0999,epitope:1,times_seen:4.3333,effect:-.5889},{reference_site:"560",wildtype:"E",mutant:"Q",Escape:-.027,epitope:1,times_seen:1.3333,effect:.0908},{reference_site:"560",wildtype:"E",mutant:"S",Escape:-.0037,epitope:1,times_seen:1,effect:-.6407},{reference_site:"560",wildtype:"E",mutant:"W",Escape:-.0511,epitope:1,times_seen:2,effect:-1.0323},{reference_site:"560",wildtype:"E",mutant:"*",Escape:.036,epitope:1,times_seen:2,effect:-2.2727},{reference_site:"561",wildtype:"A",mutant:"C",Escape:-.0206,epitope:1,times_seen:1,effect:-3.3474},{reference_site:"561",wildtype:"A",mutant:"D",Escape:-.0226,epitope:1,times_seen:2,effect:-3.5766},{reference_site:"561",wildtype:"A",mutant:"F",Escape:-.0616,epitope:1,times_seen:3,effect:-1.8418},{reference_site:"561",wildtype:"A",mutant:"H",Escape:.0288,epitope:1,times_seen:3.3333,effect:-.3372},{reference_site:"561",wildtype:"A",mutant:"K",Escape:.0282,epitope:1,times_seen:1,effect:-1.1014},{reference_site:"561",wildtype:"A",mutant:"M",Escape:-7e-4,epitope:1,times_seen:1,effect:-1.2021},{reference_site:"561",wildtype:"A",mutant:"S",Escape:.1014,epitope:1,times_seen:4.6667,effect:-1.4189},{reference_site:"561",wildtype:"A",mutant:"T",Escape:.0909,epitope:1,times_seen:7.6667,effect:-1.1492},{reference_site:"561",wildtype:"A",mutant:"V",Escape:.0478,epitope:1,times_seen:4,effect:-.1402},{reference_site:"561",wildtype:"A",mutant:"Y",Escape:-.2577,epitope:1,times_seen:4.6667,effect:-.4992},{reference_site:"562",wildtype:"Q",mutant:"H",Escape:-.0234,epitope:1,times_seen:7.6667,effect:-.5854},{reference_site:"562",wildtype:"Q",mutant:"K",Escape:.4909,epitope:1,times_seen:2,effect:-3.1806},{reference_site:"563",wildtype:"Q",mutant:"H",Escape:.0148,epitope:1,times_seen:4.6667,effect:-.1857},{reference_site:"563",wildtype:"Q",mutant:"K",Escape:.0127,epitope:1,times_seen:1.3333,effect:-1.8509},{reference_site:"563",wildtype:"Q",mutant:"R",Escape:-.0051,epitope:1,times_seen:5,effect:-.7583},{reference_site:"563",wildtype:"Q",mutant:"*",Escape:.0071,epitope:1,times_seen:1,effect:-3.2941},{reference_site:"564",wildtype:"H",mutant:"A",Escape:-.0418,epitope:1,times_seen:1,effect:-.178},{reference_site:"564",wildtype:"H",mutant:"E",Escape:.0011,epitope:1,times_seen:1,effect:.3603},{reference_site:"564",wildtype:"H",mutant:"F",Escape:-.0134,epitope:1,times_seen:1,effect:-.6999},{reference_site:"564",wildtype:"H",mutant:"G",Escape:.0193,epitope:1,times_seen:1,effect:-.6271},{reference_site:"564",wildtype:"H",mutant:"K",Escape:-.0095,epitope:1,times_seen:1,effect:-1.1636},{reference_site:"564",wildtype:"H",mutant:"M",Escape:-.0065,epitope:1,times_seen:1,effect:-1.0773},{reference_site:"564",wildtype:"H",mutant:"N",Escape:.0276,epitope:1,times_seen:4.6667,effect:-.2324},{reference_site:"564",wildtype:"H",mutant:"Q",Escape:-.0335,epitope:1,times_seen:2.6667,effect:-.2092},{reference_site:"564",wildtype:"H",mutant:"S",Escape:-.0202,epitope:1,times_seen:1,effect:-.2157},{reference_site:"564",wildtype:"H",mutant:"T",Escape:-.0019,epitope:1,times_seen:1,effect:-.4213},{reference_site:"564",wildtype:"H",mutant:"Y",Escape:-.0289,epitope:1,times_seen:8.6667,effect:-.1919},{reference_site:"565",wildtype:"L",mutant:"F",Escape:.0155,epitope:1,times_seen:1.6667,effect:-1.6619},{reference_site:"565",wildtype:"L",mutant:"I",Escape:-.0258,epitope:1,times_seen:12,effect:-.2594},{reference_site:"565",wildtype:"L",mutant:"M",Escape:.0331,epitope:1,times_seen:1,effect:-.5071},{reference_site:"565",wildtype:"L",mutant:"T",Escape:0,epitope:1,times_seen:2,effect:-.442},{reference_site:"566",wildtype:"L",mutant:"F",Escape:-.0373,epitope:1,times_seen:2,effect:-.542},{reference_site:"566",wildtype:"L",mutant:"M",Escape:.0789,epitope:1,times_seen:10,effect:-.5491},{reference_site:"566",wildtype:"L",mutant:"P",Escape:-.0237,epitope:1,times_seen:1,effect:-3.0163},{reference_site:"566",wildtype:"L",mutant:"Q",Escape:.0302,epitope:1,times_seen:1,effect:-3.0132},{reference_site:"567",wildtype:"K",mutant:"E",Escape:-.0031,epitope:1,times_seen:1,effect:-3.3962},{reference_site:"567",wildtype:"K",mutant:"L",Escape:2.8411,epitope:1,times_seen:1,effect:-3.0908},{reference_site:"567",wildtype:"K",mutant:"Q",Escape:.0302,epitope:1,times_seen:2.6667,effect:-.2555},{reference_site:"567",wildtype:"K",mutant:"R",Escape:.0031,epitope:1,times_seen:1,effect:-.3909},{reference_site:"567",wildtype:"K",mutant:"S",Escape:.0321,epitope:1,times_seen:2.6667,effect:-1.2056},{reference_site:"567",wildtype:"K",mutant:"T",Escape:.101,epitope:1,times_seen:2,effect:-1.3436},{reference_site:"568",wildtype:"L",mutant:"M",Escape:-.0314,epitope:1,times_seen:2.6667,effect:-.6011},{reference_site:"568",wildtype:"L",mutant:"V",Escape:-.0142,epitope:1,times_seen:3,effect:-.7033},{reference_site:"569",wildtype:"T",mutant:"A",Escape:.0203,epitope:1,times_seen:2.3333,effect:-2.4776},{reference_site:"569",wildtype:"T",mutant:"G",Escape:-.0038,epitope:1,times_seen:5.3333,effect:-.9004},{reference_site:"569",wildtype:"T",mutant:"N",Escape:-.046,epitope:1,times_seen:12.6667,effect:-.8852},{reference_site:"569",wildtype:"T",mutant:"P",Escape:.0803,epitope:1,times_seen:1.3333,effect:-2.6073},{reference_site:"569",wildtype:"T",mutant:"S",Escape:-.0533,epitope:1,times_seen:10.3333,effect:-.0974},{reference_site:"570",wildtype:"V",mutant:"A",Escape:-.0064,epitope:1,times_seen:1,effect:-1.0607},{reference_site:"570",wildtype:"V",mutant:"F",Escape:-.0175,epitope:1,times_seen:6,effect:-.8042},{reference_site:"570",wildtype:"V",mutant:"I",Escape:.0511,epitope:1,times_seen:3.3333,effect:.1103},{reference_site:"570",wildtype:"V",mutant:"L",Escape:-.0142,epitope:1,times_seen:6,effect:-.4097},{reference_site:"570",wildtype:"V",mutant:"M",Escape:-.0073,epitope:1,times_seen:6.3333,effect:-.3304},{reference_site:"570",wildtype:"V",mutant:"Y",Escape:-.002,epitope:1,times_seen:1,effect:-1.3073},{reference_site:"571",wildtype:"W",mutant:"C",Escape:.0442,epitope:1,times_seen:3.6667,effect:-2.6606},{reference_site:"571",wildtype:"W",mutant:"L",Escape:.0158,epitope:1,times_seen:1,effect:-3.1659},{reference_site:"571",wildtype:"W",mutant:"*",Escape:.0315,epitope:1,times_seen:3.3333,effect:-1.9149},{reference_site:"572",wildtype:"G",mutant:"C",Escape:.0044,epitope:1,times_seen:3,effect:-2.3135},{reference_site:"572",wildtype:"G",mutant:"D",Escape:.0199,epitope:1,times_seen:2.3333,effect:-3.6102},{reference_site:"572",wildtype:"G",mutant:"S",Escape:.0097,epitope:1,times_seen:1,effect:-2.6447},{reference_site:"573",wildtype:"I",mutant:"A",Escape:-.0282,epitope:1,times_seen:2.6667,effect:-.4705},{reference_site:"573",wildtype:"I",mutant:"E",Escape:-.0135,epitope:1,times_seen:1,effect:-.2666},{reference_site:"573",wildtype:"I",mutant:"F",Escape:.0079,epitope:1,times_seen:3.3333,effect:-.8802},{reference_site:"573",wildtype:"I",mutant:"L",Escape:-.0118,epitope:1,times_seen:3,effect:-.0253},{reference_site:"573",wildtype:"I",mutant:"M",Escape:-.0138,epitope:1,times_seen:12.3333,effect:.1456},{reference_site:"573",wildtype:"I",mutant:"N",Escape:-.0093,epitope:1,times_seen:8.6667,effect:-.8016},{reference_site:"573",wildtype:"I",mutant:"S",Escape:-.0349,epitope:1,times_seen:2.6667,effect:-1.4009},{reference_site:"573",wildtype:"I",mutant:"T",Escape:-.0487,epitope:1,times_seen:4.6667,effect:.1108},{reference_site:"573",wildtype:"I",mutant:"V",Escape:.0923,epitope:1,times_seen:4,effect:-.7514},{reference_site:"573",wildtype:"I",mutant:"Y",Escape:.0046,epitope:1,times_seen:3,effect:-1.1311},{reference_site:"574",wildtype:"K",mutant:"H",Escape:-.0089,epitope:1,times_seen:1,effect:-.0051},{reference_site:"574",wildtype:"K",mutant:"N",Escape:.0033,epitope:1,times_seen:4.6667,effect:-.1666},{reference_site:"574",wildtype:"K",mutant:"Q",Escape:-.0091,epitope:1,times_seen:2.3333,effect:-.5995},{reference_site:"574",wildtype:"K",mutant:"R",Escape:1e-4,epitope:1,times_seen:1.6667,effect:-.1254},{reference_site:"575",wildtype:"Q",mutant:"E",Escape:.0223,epitope:1,times_seen:2,effect:-.7719},{reference_site:"575",wildtype:"Q",mutant:"F",Escape:.0183,epitope:1,times_seen:1,effect:-2.6951},{reference_site:"575",wildtype:"Q",mutant:"K",Escape:-.0044,epitope:1,times_seen:2,effect:-2.2187},{reference_site:"575",wildtype:"Q",mutant:"M",Escape:.0031,epitope:1,times_seen:3,effect:-.7387},{reference_site:"575",wildtype:"Q",mutant:"N",Escape:-.0082,epitope:1,times_seen:1,effect:-.392},{reference_site:"575",wildtype:"Q",mutant:"R",Escape:-.0043,epitope:1,times_seen:1,effect:-1.9834},{reference_site:"575",wildtype:"Q",mutant:"T",Escape:-.0174,epitope:1,times_seen:2,effect:-2.1178},{reference_site:"575",wildtype:"Q",mutant:"V",Escape:-.0029,epitope:1,times_seen:1,effect:-.9389},{reference_site:"575",wildtype:"Q",mutant:"W",Escape:-.0074,epitope:1,times_seen:1,effect:-2.794},{reference_site:"575",wildtype:"Q",mutant:"*",Escape:.0382,epitope:1,times_seen:1,effect:-2.9691},{reference_site:"576",wildtype:"L",mutant:"M",Escape:-.0079,epitope:1,times_seen:4.6667,effect:-.48},{reference_site:"577",wildtype:"Q",mutant:"H",Escape:.0171,epitope:1,times_seen:3.6667,effect:-.702},{reference_site:"577",wildtype:"Q",mutant:"K",Escape:-.0054,epitope:1,times_seen:3.3333,effect:-.6935},{reference_site:"577",wildtype:"Q",mutant:"L",Escape:-.0136,epitope:1,times_seen:3,effect:-.9219},{reference_site:"577",wildtype:"Q",mutant:"R",Escape:-.0185,epitope:1,times_seen:7.6667,effect:-.701},{reference_site:"577",wildtype:"Q",mutant:"*",Escape:.0364,epitope:1,times_seen:2,effect:-1.8119},{reference_site:"578",wildtype:"A",mutant:"C",Escape:-.0085,epitope:1,times_seen:1,effect:-1.4182},{reference_site:"578",wildtype:"A",mutant:"D",Escape:.0119,epitope:1,times_seen:1.6667,effect:-2.6383},{reference_site:"578",wildtype:"A",mutant:"S",Escape:-.024,epitope:1,times_seen:10.3333,effect:-.2885},{reference_site:"578",wildtype:"A",mutant:"T",Escape:.0041,epitope:1,times_seen:2.3333,effect:.1371},{reference_site:"578",wildtype:"A",mutant:"V",Escape:-.0065,epitope:1,times_seen:1.5,effect:-.5091},{reference_site:"579",wildtype:"R",mutant:"G",Escape:.004,epitope:1,times_seen:1,effect:-2.3575},{reference_site:"579",wildtype:"R",mutant:"I",Escape:.0108,epitope:1,times_seen:2,effect:-3.4925},{reference_site:"579",wildtype:"R",mutant:"K",Escape:.0099,epitope:1,times_seen:2,effect:-1.4605},{reference_site:"580",wildtype:"V",mutant:"L",Escape:-.005,epitope:1,times_seen:1.6667,effect:-.2134},{reference_site:"580",wildtype:"V",mutant:"M",Escape:-.0085,epitope:1,times_seen:4,effect:-.1739},{reference_site:"581",wildtype:"L",mutant:"I",Escape:-.0052,epitope:1,times_seen:1.3333,effect:-1.0109},{reference_site:"581",wildtype:"L",mutant:"M",Escape:.0034,epitope:1,times_seen:11,effect:.0632},{reference_site:"581",wildtype:"L",mutant:"Q",Escape:-.0055,epitope:1,times_seen:4.6667,effect:.1646},{reference_site:"581",wildtype:"L",mutant:"R",Escape:-.0058,epitope:1,times_seen:2,effect:-.1913},{reference_site:"581",wildtype:"L",mutant:"V",Escape:-.0189,epitope:1,times_seen:3.3333,effect:-.1813},{reference_site:"581",wildtype:"L",mutant:"Y",Escape:-.0163,epitope:1,times_seen:2,effect:.3627},{reference_site:"582",wildtype:"A",mutant:"D",Escape:.003,epitope:1,times_seen:1,effect:-2.745},{reference_site:"582",wildtype:"A",mutant:"G",Escape:-.0069,epitope:1,times_seen:1,effect:-.7954},{reference_site:"582",wildtype:"A",mutant:"S",Escape:.0362,epitope:1,times_seen:15,effect:-.2589},{reference_site:"582",wildtype:"A",mutant:"T",Escape:.0026,epitope:1,times_seen:6,effect:-.8743},{reference_site:"582",wildtype:"A",mutant:"V",Escape:-3e-4,epitope:1,times_seen:5,effect:-.5657},{reference_site:"583",wildtype:"V",mutant:"A",Escape:-.0014,epitope:1,times_seen:1,effect:-2.501},{reference_site:"583",wildtype:"V",mutant:"I",Escape:-3e-4,epitope:1,times_seen:1,effect:-.0819},{reference_site:"583",wildtype:"V",mutant:"L",Escape:.0028,epitope:1,times_seen:3.6667,effect:.0764},{reference_site:"583",wildtype:"V",mutant:"M",Escape:.0075,epitope:1,times_seen:8,effect:-.1152},{reference_site:"584",wildtype:"E",mutant:"D",Escape:4e-4,epitope:1,times_seen:1,effect:-3.199},{reference_site:"584",wildtype:"E",mutant:"K",Escape:-6e-4,epitope:1,times_seen:2,effect:-3.3484},{reference_site:"584",wildtype:"E",mutant:"*",Escape:.0038,epitope:1,times_seen:1.3333,effect:-2.0617},{reference_site:"585",wildtype:"R",mutant:"G",Escape:.0069,epitope:1,times_seen:1.6667,effect:-.7594},{reference_site:"585",wildtype:"R",mutant:"I",Escape:.0402,epitope:1,times_seen:1,effect:-2.6784},{reference_site:"585",wildtype:"R",mutant:"K",Escape:.0114,epitope:1,times_seen:4.3333,effect:-.5454},{reference_site:"585",wildtype:"R",mutant:"M",Escape:-.0251,epitope:1,times_seen:4,effect:-.377},{reference_site:"585",wildtype:"R",mutant:"N",Escape:-.0056,epitope:1,times_seen:1,effect:-.6962},{reference_site:"585",wildtype:"R",mutant:"S",Escape:.0025,epitope:1,times_seen:3.6667,effect:-.4459},{reference_site:"585",wildtype:"R",mutant:"T",Escape:-.0058,epitope:1,times_seen:1,effect:-.8014},{reference_site:"585",wildtype:"R",mutant:"W",Escape:-.0071,epitope:1,times_seen:1,effect:-1.4828},{reference_site:"586",wildtype:"Y",mutant:"C",Escape:-.0164,epitope:1,times_seen:4.6667,effect:-.8234},{reference_site:"586",wildtype:"Y",mutant:"F",Escape:-.0072,epitope:1,times_seen:2.3333,effect:-.3939},{reference_site:"586",wildtype:"Y",mutant:"H",Escape:-.0159,epitope:1,times_seen:2,effect:-.7471},{reference_site:"586",wildtype:"Y",mutant:"*",Escape:.0087,epitope:1,times_seen:1,effect:-.8152},{reference_site:"587",wildtype:"L",mutant:"I",Escape:0,epitope:1,times_seen:3.6667,effect:-.2855},{reference_site:"587",wildtype:"L",mutant:"M",Escape:-.0029,epitope:1,times_seen:3.6667,effect:-.3602},{reference_site:"587",wildtype:"L",mutant:"P",Escape:.0037,epitope:1,times_seen:1.5,effect:-3.055},{reference_site:"588",wildtype:"K",mutant:"E",Escape:.0015,epitope:1,times_seen:1,effect:-.5383},{reference_site:"588",wildtype:"K",mutant:"F",Escape:-.0049,epitope:1,times_seen:3,effect:-.3973},{reference_site:"588",wildtype:"K",mutant:"M",Escape:.0208,epitope:1,times_seen:2.3333,effect:-.8505},{reference_site:"588",wildtype:"K",mutant:"N",Escape:-.0283,epitope:1,times_seen:12.6667,effect:-.1888},{reference_site:"588",wildtype:"K",mutant:"Q",Escape:-.0112,epitope:1,times_seen:3,effect:-.1429},{reference_site:"588",wildtype:"K",mutant:"R",Escape:-.0067,epitope:1,times_seen:2.6667,effect:-.6341},{reference_site:"588",wildtype:"K",mutant:"S",Escape:.0014,epitope:1,times_seen:4.5,effect:-.0702},{reference_site:"588",wildtype:"K",mutant:"T",Escape:.0011,epitope:1,times_seen:2,effect:-.3187},{reference_site:"588",wildtype:"K",mutant:"V",Escape:-.0049,epitope:1,times_seen:1,effect:-1.6576},{reference_site:"588",wildtype:"K",mutant:"W",Escape:.0207,epitope:1,times_seen:2,effect:-.4664},{reference_site:"588",wildtype:"K",mutant:"Y",Escape:.0025,epitope:1,times_seen:1.3333,effect:-1.0126},{reference_site:"589",wildtype:"D",mutant:"C",Escape:.0075,epitope:1,times_seen:1.6667,effect:-1.2812},{reference_site:"589",wildtype:"D",mutant:"E",Escape:-.0355,epitope:1,times_seen:7,effect:-.1784},{reference_site:"589",wildtype:"D",mutant:"F",Escape:.0011,epitope:1,times_seen:1,effect:-2.5763},{reference_site:"589",wildtype:"D",mutant:"G",Escape:-3e-4,epitope:1,times_seen:1,effect:-2.3073},{reference_site:"589",wildtype:"D",mutant:"H",Escape:-.005,epitope:1,times_seen:1,effect:-1.307},{reference_site:"589",wildtype:"D",mutant:"I",Escape:-9e-4,epitope:1,times_seen:2,effect:-.6805},{reference_site:"589",wildtype:"D",mutant:"N",Escape:-.0215,epitope:1,times_seen:4.3333,effect:-1.0438},{reference_site:"589",wildtype:"D",mutant:"Y",Escape:.0128,epitope:1,times_seen:6.6667,effect:-.2801},{reference_site:"590",wildtype:"Q",mutant:"C",Escape:.1043,epitope:1,times_seen:1,effect:-1.5981},{reference_site:"590",wildtype:"Q",mutant:"E",Escape:-.0134,epitope:1,times_seen:1.6667,effect:-.6553},{reference_site:"590",wildtype:"Q",mutant:"F",Escape:-.0039,epitope:1,times_seen:1,effect:-.2787},{reference_site:"590",wildtype:"Q",mutant:"H",Escape:-.0093,epitope:1,times_seen:4,effect:-.5146},{reference_site:"590",wildtype:"Q",mutant:"K",Escape:-.0232,epitope:1,times_seen:5.6667,effect:-.4942},{reference_site:"590",wildtype:"Q",mutant:"L",Escape:-.0205,epitope:1,times_seen:3,effect:-.572},{reference_site:"590",wildtype:"Q",mutant:"M",Escape:-.0127,epitope:1,times_seen:2,effect:-.1728},{reference_site:"590",wildtype:"Q",mutant:"R",Escape:-.0288,epitope:1,times_seen:4,effect:-.6449},{reference_site:"590",wildtype:"Q",mutant:"V",Escape:.0078,epitope:1,times_seen:1.6667,effect:-.4706},{reference_site:"590",wildtype:"Q",mutant:"W",Escape:-.0093,epitope:1,times_seen:3,effect:-.3109},{reference_site:"590",wildtype:"Q",mutant:"Y",Escape:-.0125,epitope:1,times_seen:1.5,effect:-.2587},{reference_site:"590",wildtype:"Q",mutant:"*",Escape:.0062,epitope:1,times_seen:1,effect:-1.5977},{reference_site:"591",wildtype:"Q",mutant:"H",Escape:.0012,epitope:1,times_seen:6.6667,effect:-.2013},{reference_site:"591",wildtype:"Q",mutant:"K",Escape:-.0032,epitope:1,times_seen:1,effect:-1.3791},{reference_site:"591",wildtype:"Q",mutant:"R",Escape:-.0124,epitope:1,times_seen:4.5,effect:-1.3207},{reference_site:"592",wildtype:"L",mutant:"I",Escape:-.0035,epitope:1,times_seen:2,effect:-1.0057},{reference_site:"592",wildtype:"L",mutant:"M",Escape:-.002,epitope:1,times_seen:1,effect:.0762},{reference_site:"592",wildtype:"L",mutant:"R",Escape:-.0036,epitope:1,times_seen:3,effect:-.7758},{reference_site:"593",wildtype:"L",mutant:"M",Escape:-.0038,epitope:1,times_seen:10.6667,effect:-.251},{reference_site:"594",wildtype:"G",mutant:"A",Escape:.0043,epitope:1,times_seen:3.3333,effect:-.6218},{reference_site:"594",wildtype:"G",mutant:"C",Escape:-.0075,epitope:1,times_seen:1,effect:-3.0611},{reference_site:"594",wildtype:"G",mutant:"D",Escape:-.0189,epitope:1,times_seen:6.3333,effect:-.8294},{reference_site:"594",wildtype:"G",mutant:"E",Escape:.0212,epitope:1,times_seen:1,effect:-2.1549},{reference_site:"594",wildtype:"G",mutant:"F",Escape:.0014,epitope:1,times_seen:1,effect:-.1693},{reference_site:"594",wildtype:"G",mutant:"I",Escape:-.0059,epitope:1,times_seen:1,effect:-1.0423},{reference_site:"594",wildtype:"G",mutant:"L",Escape:-.0064,epitope:1,times_seen:1,effect:-.658},{reference_site:"594",wildtype:"G",mutant:"N",Escape:-.0027,epitope:1,times_seen:2,effect:-.7128},{reference_site:"594",wildtype:"G",mutant:"R",Escape:-.005,epitope:1,times_seen:1,effect:-1.2752},{reference_site:"594",wildtype:"G",mutant:"S",Escape:-.0048,epitope:1,times_seen:2.6667,effect:.2848},{reference_site:"594",wildtype:"G",mutant:"T",Escape:-.0059,epitope:1,times_seen:2.3333,effect:-.8289},{reference_site:"594",wildtype:"G",mutant:"V",Escape:-.0073,epitope:1,times_seen:2.6667,effect:-1.132},{reference_site:"594",wildtype:"G",mutant:"Y",Escape:-.0041,epitope:1,times_seen:1,effect:-.2687},{reference_site:"595",wildtype:"I",mutant:"F",Escape:.0159,epitope:1,times_seen:9.3333,effect:-.1706},{reference_site:"595",wildtype:"I",mutant:"L",Escape:-.0012,epitope:1,times_seen:1.5,effect:-.5209},{reference_site:"595",wildtype:"I",mutant:"M",Escape:-.0067,epitope:1,times_seen:6.6667,effect:.217},{reference_site:"595",wildtype:"I",mutant:"S",Escape:-.01,epitope:1,times_seen:3.6667,effect:-.9355},{reference_site:"595",wildtype:"I",mutant:"T",Escape:-.0171,epitope:1,times_seen:4,effect:-1.6928},{reference_site:"595",wildtype:"I",mutant:"V",Escape:-.0123,epitope:1,times_seen:2,effect:-1.3882},{reference_site:"596",wildtype:"W",mutant:"C",Escape:.0122,epitope:1,times_seen:2.3333,effect:-2.6255},{reference_site:"596",wildtype:"W",mutant:"F",Escape:.0012,epitope:1,times_seen:2,effect:-.0432},{reference_site:"596",wildtype:"W",mutant:"L",Escape:.0071,epitope:1,times_seen:1.5,effect:-1.3192},{reference_site:"596",wildtype:"W",mutant:"M",Escape:-.0093,epitope:1,times_seen:3,effect:-.6456},{reference_site:"596",wildtype:"W",mutant:"R",Escape:.0103,epitope:1,times_seen:1.5,effect:-3.0551},{reference_site:"596",wildtype:"W",mutant:"*",Escape:.0164,epitope:1,times_seen:1,effect:-2.4917},{reference_site:"597",wildtype:"G",mutant:"C",Escape:8e-4,epitope:1,times_seen:1,effect:-2.8771},{reference_site:"597",wildtype:"G",mutant:"D",Escape:.0012,epitope:1,times_seen:1,effect:-3.453},{reference_site:"597",wildtype:"G",mutant:"S",Escape:-.002,epitope:1,times_seen:1,effect:-2.3538},{reference_site:"598",wildtype:"C",mutant:"Y",Escape:.0022,epitope:1,times_seen:1.5,effect:-3.0088},{reference_site:"599",wildtype:"S",mutant:"A",Escape:-4e-4,epitope:1,times_seen:3.6667,effect:.1376},{reference_site:"599",wildtype:"S",mutant:"F",Escape:-.0068,epitope:1,times_seen:4,effect:-.119},{reference_site:"599",wildtype:"S",mutant:"G",Escape:.0064,epitope:1,times_seen:8.3333,effect:-.0334},{reference_site:"599",wildtype:"S",mutant:"H",Escape:-.0045,epitope:1,times_seen:3,effect:-.1443},{reference_site:"599",wildtype:"S",mutant:"I",Escape:-.0119,epitope:1,times_seen:5,effect:-.3588},{reference_site:"599",wildtype:"S",mutant:"N",Escape:-.0082,epitope:1,times_seen:3,effect:-.0806},{reference_site:"599",wildtype:"S",mutant:"P",Escape:.0045,epitope:1,times_seen:1.5,effect:-1.4997},{reference_site:"599",wildtype:"S",mutant:"R",Escape:-.0045,epitope:1,times_seen:1.5,effect:-.6797},{reference_site:"599",wildtype:"S",mutant:"T",Escape:-.011,epitope:1,times_seen:7.6667,effect:-.1226},{reference_site:"599",wildtype:"S",mutant:"Y",Escape:-.0139,epitope:1,times_seen:6,effect:-.4436},{reference_site:"600",wildtype:"G",mutant:"A",Escape:-.0163,epitope:1,times_seen:2,effect:-.8859},{reference_site:"600",wildtype:"G",mutant:"C",Escape:-8e-4,epitope:1,times_seen:1.3333,effect:-2.2086},{reference_site:"600",wildtype:"G",mutant:"D",Escape:-.0046,epitope:1,times_seen:4.6667,effect:-1.3937},{reference_site:"600",wildtype:"G",mutant:"H",Escape:-.0014,epitope:1,times_seen:1,effect:-.4153},{reference_site:"600",wildtype:"G",mutant:"N",Escape:-.007,epitope:1,times_seen:3.3333,effect:-.7351},{reference_site:"600",wildtype:"G",mutant:"R",Escape:-1e-4,epitope:1,times_seen:1,effect:-1.3537},{reference_site:"600",wildtype:"G",mutant:"S",Escape:-.0078,epitope:1,times_seen:3,effect:-.4798},{reference_site:"600",wildtype:"G",mutant:"V",Escape:-.0076,epitope:1,times_seen:1,effect:-2.4399},{reference_site:"601",wildtype:"K",mutant:"E",Escape:.0092,epitope:1,times_seen:1,effect:-1.2807},{reference_site:"601",wildtype:"K",mutant:"H",Escape:-6e-4,epitope:1,times_seen:3,effect:-1.6285},{reference_site:"601",wildtype:"K",mutant:"R",Escape:.0022,epitope:1,times_seen:5.3333,effect:-.0358},{reference_site:"602",wildtype:"L",mutant:"F",Escape:-.0068,epitope:1,times_seen:3,effect:-.3056},{reference_site:"602",wildtype:"L",mutant:"H",Escape:.0033,epitope:1,times_seen:1,effect:-.8762},{reference_site:"602",wildtype:"L",mutant:"I",Escape:-.0045,epitope:1,times_seen:3.6667,effect:-.2965},{reference_site:"602",wildtype:"L",mutant:"M",Escape:-.0023,epitope:1,times_seen:1.3333,effect:-.2524},{reference_site:"602",wildtype:"L",mutant:"Q",Escape:-.0076,epitope:1,times_seen:2.6667,effect:-1.017},{reference_site:"602",wildtype:"L",mutant:"R",Escape:-.001,epitope:1,times_seen:8.6667,effect:-.4593},{reference_site:"602",wildtype:"L",mutant:"S",Escape:-.0088,epitope:1,times_seen:1,effect:-1.1552},{reference_site:"602",wildtype:"L",mutant:"V",Escape:-.0129,epitope:1,times_seen:4,effect:-.6513},{reference_site:"603",wildtype:"I",mutant:"T",Escape:7e-4,epitope:1,times_seen:2,effect:-2.541},{reference_site:"603",wildtype:"I",mutant:"V",Escape:-.0028,epitope:1,times_seen:1.6667,effect:-1.1353},{reference_site:"604",wildtype:"C",mutant:"R",Escape:1e-4,epitope:1,times_seen:2,effect:-2.2431},{reference_site:"604",wildtype:"C",mutant:"Y",Escape:.0056,epitope:1,times_seen:3.5,effect:-3.1786},{reference_site:"605",wildtype:"T",mutant:"A",Escape:-.0027,epitope:1,times_seen:1.3333,effect:-.2078},{reference_site:"605",wildtype:"T",mutant:"H",Escape:-.0033,epitope:1,times_seen:4.6667,effect:-.4478},{reference_site:"605",wildtype:"T",mutant:"I",Escape:.0037,epitope:1,times_seen:1,effect:-.2204},{reference_site:"605",wildtype:"T",mutant:"N",Escape:.005,epitope:1,times_seen:8.6667,effect:-.2761},{reference_site:"605",wildtype:"T",mutant:"P",Escape:.003,epitope:1,times_seen:5.3333,effect:.1476},{reference_site:"605",wildtype:"T",mutant:"S",Escape:-.0074,epitope:1,times_seen:4.6667,effect:-.2652},{reference_site:"605",wildtype:"T",mutant:"Y",Escape:-.0039,epitope:1,times_seen:3.6667,effect:-.5696},{reference_site:"606",wildtype:"T",mutant:"A",Escape:.0058,epitope:1,times_seen:1,effect:-2.0384},{reference_site:"606",wildtype:"T",mutant:"I",Escape:-7e-4,epitope:1,times_seen:2,effect:-2.9145},{reference_site:"606",wildtype:"T",mutant:"S",Escape:.0029,epitope:1,times_seen:1,effect:-1.6599},{reference_site:"607",wildtype:"N",mutant:"D",Escape:-.0045,epitope:1,times_seen:2,effect:-.4918},{reference_site:"607",wildtype:"N",mutant:"G",Escape:-.0051,epitope:1,times_seen:2,effect:-.2344},{reference_site:"607",wildtype:"N",mutant:"I",Escape:-.0125,epitope:1,times_seen:5,effect:-.5402},{reference_site:"607",wildtype:"N",mutant:"K",Escape:-.003,epitope:1,times_seen:2,effect:-2.0381},{reference_site:"607",wildtype:"N",mutant:"M",Escape:.0038,epitope:1,times_seen:1,effect:-.2837},{reference_site:"607",wildtype:"N",mutant:"S",Escape:-.002,epitope:1,times_seen:1,effect:-.2433},{reference_site:"607",wildtype:"N",mutant:"T",Escape:.0014,epitope:1,times_seen:3.3333,effect:.123},{reference_site:"607",wildtype:"N",mutant:"V",Escape:-.007,epitope:1,times_seen:3,effect:.1077},{reference_site:"608",wildtype:"V",mutant:"L",Escape:.0059,epitope:1,times_seen:4.3333,effect:-2.1928},{reference_site:"608",wildtype:"V",mutant:"M",Escape:.0027,epitope:1,times_seen:2,effect:-2.4153},{reference_site:"609",wildtype:"P",mutant:"A",Escape:3e-4,epitope:1,times_seen:2.3333,effect:-.8372},{reference_site:"609",wildtype:"P",mutant:"E",Escape:.0011,epitope:1,times_seen:1.5,effect:-.0738},{reference_site:"609",wildtype:"P",mutant:"F",Escape:.0043,epitope:1,times_seen:3.6667,effect:-1.491},{reference_site:"609",wildtype:"P",mutant:"H",Escape:-.0416,epitope:1,times_seen:8.3333,effect:-.6613},{reference_site:"609",wildtype:"P",mutant:"I",Escape:-.0051,epitope:1,times_seen:5.3333,effect:-.3597},{reference_site:"609",wildtype:"P",mutant:"K",Escape:-.0174,epitope:1,times_seen:4,effect:-.157},{reference_site:"609",wildtype:"P",mutant:"L",Escape:-.0135,epitope:1,times_seen:6.3333,effect:-.3382},{reference_site:"609",wildtype:"P",mutant:"Q",Escape:-.0088,epitope:1,times_seen:6.3333,effect:-.5524},{reference_site:"609",wildtype:"P",mutant:"R",Escape:.0071,epitope:1,times_seen:1.5,effect:-.0142},{reference_site:"609",wildtype:"P",mutant:"S",Escape:.0049,epitope:1,times_seen:2.6667,effect:-1.7118},{reference_site:"609",wildtype:"P",mutant:"T",Escape:-.0018,epitope:1,times_seen:1,effect:-.7333},{reference_site:"609",wildtype:"P",mutant:"Y",Escape:-.0076,epitope:1,times_seen:2,effect:-1.2274},{reference_site:"610",wildtype:"W",mutant:"L",Escape:.0024,epitope:1,times_seen:1.6667,effect:-3.0265},{reference_site:"610",wildtype:"W",mutant:"R",Escape:.007,epitope:1,times_seen:1.5,effect:-1.1681},{reference_site:"611",wildtype:"N",mutant:"A",Escape:-.0057,epitope:1,times_seen:1,effect:-.5425},{reference_site:"611",wildtype:"N",mutant:"C",Escape:1e-4,epitope:1,times_seen:1,effect:-.3694},{reference_site:"611",wildtype:"N",mutant:"D",Escape:-.0027,epitope:1,times_seen:1,effect:-.5857},{reference_site:"611",wildtype:"N",mutant:"E",Escape:.0017,epitope:1,times_seen:5,effect:-.3317},{reference_site:"611",wildtype:"N",mutant:"F",Escape:.0052,epitope:1,times_seen:1,effect:-2.6454},{reference_site:"611",wildtype:"N",mutant:"K",Escape:-.0022,epitope:1,times_seen:4,effect:-.4785},{reference_site:"611",wildtype:"N",mutant:"L",Escape:-.0026,epitope:1,times_seen:1,effect:-.4548},{reference_site:"611",wildtype:"N",mutant:"M",Escape:6e-4,epitope:1,times_seen:3.5,effect:-.6275},{reference_site:"611",wildtype:"N",mutant:"S",Escape:.0033,epitope:1,times_seen:2.6667,effect:-.0029},{reference_site:"612",wildtype:"S",mutant:"A",Escape:-.0039,epitope:1,times_seen:2.3333,effect:.0298},{reference_site:"612",wildtype:"S",mutant:"C",Escape:.017,epitope:1,times_seen:7.6667,effect:-.3193},{reference_site:"612",wildtype:"S",mutant:"D",Escape:-.0136,epitope:1,times_seen:5.6667,effect:-.0492},{reference_site:"612",wildtype:"S",mutant:"E",Escape:-.0146,epitope:1,times_seen:4.3333,effect:.0063},{reference_site:"612",wildtype:"S",mutant:"F",Escape:-.0162,epitope:1,times_seen:4,effect:-.5534},{reference_site:"612",wildtype:"S",mutant:"G",Escape:-.0328,epitope:1,times_seen:5.3333,effect:-.4517},{reference_site:"612",wildtype:"S",mutant:"H",Escape:-.0138,epitope:1,times_seen:4,effect:.0415},{reference_site:"612",wildtype:"S",mutant:"I",Escape:-.0393,epitope:1,times_seen:7,effect:-.2301},{reference_site:"612",wildtype:"S",mutant:"K",Escape:.0614,epitope:1,times_seen:5.6667,effect:-.1024},{reference_site:"612",wildtype:"S",mutant:"L",Escape:-.0123,epitope:1,times_seen:8.3333,effect:-.0403},{reference_site:"612",wildtype:"S",mutant:"M",Escape:-.0396,epitope:1,times_seen:5.6667,effect:-.0366},{reference_site:"612",wildtype:"S",mutant:"N",Escape:-.0109,epitope:1,times_seen:8,effect:-.2271},{reference_site:"612",wildtype:"S",mutant:"P",Escape:.0102,epitope:1,times_seen:2.3333,effect:.1898},{reference_site:"612",wildtype:"S",mutant:"Q",Escape:-.0072,epitope:1,times_seen:6.3333,effect:-.3025},{reference_site:"612",wildtype:"S",mutant:"R",Escape:-.0025,epitope:1,times_seen:3,effect:-.0559},{reference_site:"612",wildtype:"S",mutant:"T",Escape:.0072,epitope:1,times_seen:15,effect:.0252},{reference_site:"612",wildtype:"S",mutant:"V",Escape:-.0148,epitope:1,times_seen:2.3333,effect:-.2302},{reference_site:"612",wildtype:"S",mutant:"Y",Escape:-.0102,epitope:1,times_seen:5,effect:-.43},{reference_site:"613",wildtype:"S",mutant:"A",Escape:.0283,epitope:1,times_seen:3.3333,effect:-.1825},{reference_site:"613",wildtype:"S",mutant:"C",Escape:.0276,epitope:1,times_seen:8.3333,effect:-.2459},{reference_site:"613",wildtype:"S",mutant:"D",Escape:-.007,epitope:1,times_seen:7.6667,effect:-.1642},{reference_site:"613",wildtype:"S",mutant:"E",Escape:.0176,epitope:1,times_seen:3.3333,effect:-.6097},{reference_site:"613",wildtype:"S",mutant:"F",Escape:-.0051,epitope:1,times_seen:3.3333,effect:-.424},{reference_site:"613",wildtype:"S",mutant:"G",Escape:-.0285,epitope:1,times_seen:7.6667,effect:-.3249},{reference_site:"613",wildtype:"S",mutant:"H",Escape:.0258,epitope:1,times_seen:2.6667,effect:-.775},{reference_site:"613",wildtype:"S",mutant:"I",Escape:.0122,epitope:1,times_seen:11,effect:-.1823},{reference_site:"613",wildtype:"S",mutant:"K",Escape:1e-4,epitope:1,times_seen:3.6667,effect:.0267},{reference_site:"613",wildtype:"S",mutant:"L",Escape:-.0025,epitope:1,times_seen:1,effect:-1.5896},{reference_site:"613",wildtype:"S",mutant:"M",Escape:.0068,epitope:1,times_seen:3,effect:-.5461},{reference_site:"613",wildtype:"S",mutant:"N",Escape:.0706,epitope:1,times_seen:7.6667,effect:-.0101},{reference_site:"613",wildtype:"S",mutant:"Q",Escape:.0397,epitope:1,times_seen:6.3333,effect:.2323},{reference_site:"613",wildtype:"S",mutant:"R",Escape:.009,epitope:1,times_seen:6.3333,effect:.1236},{reference_site:"613",wildtype:"S",mutant:"T",Escape:-.0475,epitope:1,times_seen:10,effect:-.1251},{reference_site:"613",wildtype:"S",mutant:"V",Escape:.0442,epitope:1,times_seen:8.6667,effect:-.0024},{reference_site:"613",wildtype:"S",mutant:"Y",Escape:-.0207,epitope:1,times_seen:6,effect:-.2456},{reference_site:"614",wildtype:"W",mutant:"C",Escape:-.0026,epitope:1,times_seen:1,effect:-3.02},{reference_site:"614",wildtype:"W",mutant:"L",Escape:.0138,epitope:1,times_seen:5.6667,effect:-2.5771},{reference_site:"614",wildtype:"W",mutant:"R",Escape:0,epitope:1,times_seen:1.3333,effect:-3.2936},{reference_site:"614",wildtype:"W",mutant:"*",Escape:.0028,epitope:1,times_seen:2,effect:-2.5971},{reference_site:"615",wildtype:"S",mutant:"C",Escape:-.0037,epitope:1,times_seen:4,effect:-.2222},{reference_site:"615",wildtype:"S",mutant:"G",Escape:-2e-4,epitope:1,times_seen:6,effect:-.7462},{reference_site:"615",wildtype:"S",mutant:"I",Escape:-.0475,epitope:1,times_seen:1,effect:-1.4591},{reference_site:"615",wildtype:"S",mutant:"N",Escape:-.025,epitope:1,times_seen:8,effect:-.2556},{reference_site:"615",wildtype:"S",mutant:"T",Escape:-.0068,epitope:1,times_seen:2.3333,effect:-.8019},{reference_site:"615",wildtype:"S",mutant:"V",Escape:-.0081,epitope:1,times_seen:2,effect:-.9062},{reference_site:"616",wildtype:"N",mutant:"A",Escape:-.005,epitope:1,times_seen:1.5,effect:-.1322},{reference_site:"616",wildtype:"N",mutant:"D",Escape:-.0212,epitope:1,times_seen:4.5,effect:-.583},{reference_site:"616",wildtype:"N",mutant:"E",Escape:.0037,epitope:1,times_seen:2.3333,effect:-.7856},{reference_site:"616",wildtype:"N",mutant:"G",Escape:-.0015,epitope:1,times_seen:1,effect:-.0697},{reference_site:"616",wildtype:"N",mutant:"H",Escape:-.0028,epitope:1,times_seen:1,effect:-1.0933},{reference_site:"616",wildtype:"N",mutant:"I",Escape:-.006,epitope:1,times_seen:2,effect:-2.3571},{reference_site:"616",wildtype:"N",mutant:"K",Escape:.0014,epitope:1,times_seen:7.3333,effect:-.1391},{reference_site:"616",wildtype:"N",mutant:"S",Escape:-.0065,epitope:1,times_seen:3.3333,effect:-.1143},{reference_site:"616",wildtype:"N",mutant:"T",Escape:-.008,epitope:1,times_seen:3,effect:-.887},{reference_site:"616",wildtype:"N",mutant:"Y",Escape:.0098,epitope:1,times_seen:1,effect:-2.8659},{reference_site:"617",wildtype:"K",mutant:"D",Escape:.0025,epitope:1,times_seen:1,effect:-2.4457},{reference_site:"617",wildtype:"K",mutant:"E",Escape:.0174,epitope:1,times_seen:1.5,effect:-3.3563},{reference_site:"617",wildtype:"K",mutant:"H",Escape:.0153,epitope:1,times_seen:3,effect:-.3393},{reference_site:"617",wildtype:"K",mutant:"I",Escape:-.0116,epitope:1,times_seen:5,effect:-.9336},{reference_site:"617",wildtype:"K",mutant:"L",Escape:-.0078,epitope:1,times_seen:5,effect:-.5127},{reference_site:"617",wildtype:"K",mutant:"Q",Escape:.0014,epitope:1,times_seen:1,effect:-2.3063},{reference_site:"617",wildtype:"K",mutant:"R",Escape:-6e-4,epitope:1,times_seen:9.3333,effect:.0024},{reference_site:"617",wildtype:"K",mutant:"S",Escape:.0029,epitope:1,times_seen:1,effect:-2.5911},{reference_site:"617",wildtype:"K",mutant:"T",Escape:-.0022,epitope:1,times_seen:2,effect:-2.2144},{reference_site:"618",wildtype:"S",mutant:"A",Escape:-.0265,epitope:1,times_seen:5.3333,effect:-.6924},{reference_site:"618",wildtype:"S",mutant:"C",Escape:-.0027,epitope:1,times_seen:1,effect:.2983},{reference_site:"618",wildtype:"S",mutant:"D",Escape:-.0241,epitope:1,times_seen:3.6667,effect:-1.1156},{reference_site:"618",wildtype:"S",mutant:"E",Escape:.0063,epitope:1,times_seen:1.3333,effect:-1.5913},{reference_site:"618",wildtype:"S",mutant:"G",Escape:-.0271,epitope:1,times_seen:6.6667,effect:-.5248},{reference_site:"618",wildtype:"S",mutant:"I",Escape:.0156,epitope:1,times_seen:1.5,effect:-3.1888},{reference_site:"618",wildtype:"S",mutant:"K",Escape:-.0165,epitope:1,times_seen:4.6667,effect:-.4794},{reference_site:"618",wildtype:"S",mutant:"L",Escape:4e-4,epitope:1,times_seen:1,effect:-2.4458},{reference_site:"618",wildtype:"S",mutant:"N",Escape:-.0196,epitope:1,times_seen:6.3333,effect:-.4819},{reference_site:"618",wildtype:"S",mutant:"P",Escape:-.0122,epitope:1,times_seen:1.6667,effect:-.6255},{reference_site:"618",wildtype:"S",mutant:"Q",Escape:-.0301,epitope:1,times_seen:3.6667,effect:-1.0388},{reference_site:"618",wildtype:"S",mutant:"R",Escape:-.0031,epitope:1,times_seen:4.6667,effect:-.9004},{reference_site:"618",wildtype:"S",mutant:"T",Escape:-.0189,epitope:1,times_seen:7.6667,effect:.0962},{reference_site:"619",wildtype:"Q",mutant:"A",Escape:-.0138,epitope:1,times_seen:2.6667,effect:-.1819},{reference_site:"619",wildtype:"Q",mutant:"C",Escape:-.0058,epitope:1,times_seen:3,effect:-.5252},{reference_site:"619",wildtype:"Q",mutant:"D",Escape:-.0271,epitope:1,times_seen:2.6667,effect:-.5109},{reference_site:"619",wildtype:"Q",mutant:"E",Escape:-.0035,epitope:1,times_seen:5,effect:-.0909},{reference_site:"619",wildtype:"Q",mutant:"F",Escape:.0045,epitope:1,times_seen:2.3333,effect:-.2103},{reference_site:"619",wildtype:"Q",mutant:"H",Escape:-.0362,epitope:1,times_seen:19.6667,effect:-.0445},{reference_site:"619",wildtype:"Q",mutant:"I",Escape:8e-4,epitope:1,times_seen:4,effect:.0961},{reference_site:"619",wildtype:"Q",mutant:"K",Escape:.0257,epitope:1,times_seen:10.6667,effect:-1.3715},{reference_site:"619",wildtype:"Q",mutant:"L",Escape:.0583,epitope:1,times_seen:11.6667,effect:.0804},{reference_site:"619",wildtype:"Q",mutant:"M",Escape:.0051,epitope:1,times_seen:5,effect:-.0536},{reference_site:"619",wildtype:"Q",mutant:"N",Escape:-.0199,epitope:1,times_seen:3.6667,effect:-.9273},{reference_site:"619",wildtype:"Q",mutant:"P",Escape:-.0039,epitope:1,times_seen:1.3333,effect:-1.2279},{reference_site:"619",wildtype:"Q",mutant:"R",Escape:-.0052,epitope:1,times_seen:3.3333,effect:-1.2651},{reference_site:"619",wildtype:"Q",mutant:"S",Escape:.0099,epitope:1,times_seen:3.3333,effect:-.8209},{reference_site:"619",wildtype:"Q",mutant:"T",Escape:-.0045,epitope:1,times_seen:1.3333,effect:-.0943},{reference_site:"619",wildtype:"Q",mutant:"V",Escape:-.0104,epitope:1,times_seen:3.6667,effect:-.0283},{reference_site:"619",wildtype:"Q",mutant:"W",Escape:-.0209,epitope:1,times_seen:5.3333,effect:-.4751},{reference_site:"619",wildtype:"Q",mutant:"Y",Escape:.0101,epitope:1,times_seen:6.3333,effect:-.0512},{reference_site:"620",wildtype:"D",mutant:"A",Escape:-.0084,epitope:1,times_seen:4,effect:.2743},{reference_site:"620",wildtype:"D",mutant:"C",Escape:-.0241,epitope:1,times_seen:6.3333,effect:-.3966},{reference_site:"620",wildtype:"D",mutant:"E",Escape:-.0061,epitope:1,times_seen:9.3333,effect:-.0387},{reference_site:"620",wildtype:"D",mutant:"F",Escape:-.0079,epitope:1,times_seen:10,effect:-.2959},{reference_site:"620",wildtype:"D",mutant:"G",Escape:-.0232,epitope:1,times_seen:6.6667,effect:-.0722},{reference_site:"620",wildtype:"D",mutant:"H",Escape:-.0138,epitope:1,times_seen:8,effect:-.2535},{reference_site:"620",wildtype:"D",mutant:"I",Escape:.0138,epitope:1,times_seen:3.6667,effect:-.4272},{reference_site:"620",wildtype:"D",mutant:"K",Escape:-.0033,epitope:1,times_seen:2.6667,effect:-.0306},{reference_site:"620",wildtype:"D",mutant:"L",Escape:-.0224,epitope:1,times_seen:3,effect:-.7516},{reference_site:"620",wildtype:"D",mutant:"M",Escape:.0235,epitope:1,times_seen:3.3333,effect:.0027},{reference_site:"620",wildtype:"D",mutant:"N",Escape:-.0226,epitope:1,times_seen:13.6667,effect:-.0144},{reference_site:"620",wildtype:"D",mutant:"P",Escape:.001,epitope:1,times_seen:4.3333,effect:-.8507},{reference_site:"620",wildtype:"D",mutant:"Q",Escape:7e-4,epitope:1,times_seen:5,effect:-.2116},{reference_site:"620",wildtype:"D",mutant:"R",Escape:-.0055,epitope:1,times_seen:1,effect:-.5771},{reference_site:"620",wildtype:"D",mutant:"S",Escape:-.024,epitope:1,times_seen:7.6667,effect:-.0666},{reference_site:"620",wildtype:"D",mutant:"T",Escape:.0107,epitope:1,times_seen:4.6667,effect:-.1659},{reference_site:"620",wildtype:"D",mutant:"V",Escape:-.014,epitope:1,times_seen:2.6667,effect:.1601},{reference_site:"620",wildtype:"D",mutant:"W",Escape:-.0147,epitope:1,times_seen:3.3333,effect:-.6787},{reference_site:"620",wildtype:"D",mutant:"Y",Escape:-.0153,epitope:1,times_seen:20.3333,effect:-.3929},{reference_site:"621",wildtype:"E",mutant:"A",Escape:-.0044,epitope:1,times_seen:1.6667,effect:-.7444},{reference_site:"621",wildtype:"E",mutant:"C",Escape:-.0146,epitope:1,times_seen:1.6667,effect:-.9855},{reference_site:"621",wildtype:"E",mutant:"D",Escape:-.0334,epitope:1,times_seen:7,effect:-.3513},{reference_site:"621",wildtype:"E",mutant:"F",Escape:-1e-4,epitope:1,times_seen:4.6667,effect:-.6948},{reference_site:"621",wildtype:"E",mutant:"G",Escape:-.0052,epitope:1,times_seen:1,effect:-2.229},{reference_site:"621",wildtype:"E",mutant:"H",Escape:-.0068,epitope:1,times_seen:1,effect:-.719},{reference_site:"621",wildtype:"E",mutant:"I",Escape:-.0056,epitope:1,times_seen:2.3333,effect:-.5501},{reference_site:"621",wildtype:"E",mutant:"K",Escape:-.0195,epitope:1,times_seen:8,effect:-.4883},{reference_site:"621",wildtype:"E",mutant:"L",Escape:-.0205,epitope:1,times_seen:3.6667,effect:-.8646},{reference_site:"621",wildtype:"E",mutant:"M",Escape:-.028,epitope:1,times_seen:4.3333,effect:-.336},{reference_site:"621",wildtype:"E",mutant:"N",Escape:-.0037,epitope:1,times_seen:3,effect:-.6485},{reference_site:"621",wildtype:"E",mutant:"Q",Escape:.0034,epitope:1,times_seen:5,effect:-.1426},{reference_site:"621",wildtype:"E",mutant:"R",Escape:-.0215,epitope:1,times_seen:2.6667,effect:-.7006},{reference_site:"621",wildtype:"E",mutant:"S",Escape:-.0129,epitope:1,times_seen:3.3333,effect:-.2942},{reference_site:"621",wildtype:"E",mutant:"T",Escape:-.006,epitope:1,times_seen:1.3333,effect:-.094},{reference_site:"621",wildtype:"E",mutant:"V",Escape:-.0045,epitope:1,times_seen:12.3333,effect:-.2204},{reference_site:"621",wildtype:"E",mutant:"W",Escape:-.0141,epitope:1,times_seen:2,effect:-2.4722},{reference_site:"621",wildtype:"E",mutant:"Y",Escape:-.0227,epitope:1,times_seen:4,effect:-.1051},{reference_site:"621",wildtype:"E",mutant:"*",Escape:-.0064,epitope:1,times_seen:1.3333,effect:-2.6975},{reference_site:"622",wildtype:"I",mutant:"E",Escape:.0061,epitope:1,times_seen:1.6667,effect:-2.5328},{reference_site:"622",wildtype:"I",mutant:"N",Escape:.0081,epitope:1,times_seen:2.3333,effect:-2.2347},{reference_site:"622",wildtype:"I",mutant:"V",Escape:-.0062,epitope:1,times_seen:3.3333,effect:-.4687},{reference_site:"623",wildtype:"W",mutant:"C",Escape:.0051,epitope:1,times_seen:1.3333,effect:-3.3106},{reference_site:"623",wildtype:"W",mutant:"K",Escape:-.0051,epitope:1,times_seen:1.3333,effect:-2.946},{reference_site:"623",wildtype:"W",mutant:"L",Escape:.0012,epitope:1,times_seen:1,effect:-3.1224},{reference_site:"623",wildtype:"W",mutant:"N",Escape:.0129,epitope:1,times_seen:2,effect:-2.6529},{reference_site:"624",wildtype:"G",mutant:"A",Escape:-.0709,epitope:1,times_seen:11,effect:-.2684},{reference_site:"624",wildtype:"G",mutant:"C",Escape:-.0567,epitope:1,times_seen:12,effect:-.7164},{reference_site:"624",wildtype:"G",mutant:"D",Escape:-.0438,epitope:1,times_seen:15.6667,effect:.0063},{reference_site:"624",wildtype:"G",mutant:"E",Escape:-.0143,epitope:1,times_seen:9,effect:-.3771},{reference_site:"624",wildtype:"G",mutant:"F",Escape:-.0266,epitope:1,times_seen:7,effect:-.1871},{reference_site:"624",wildtype:"G",mutant:"H",Escape:-.0021,epitope:1,times_seen:7,effect:.0675},{reference_site:"624",wildtype:"G",mutant:"K",Escape:-.0274,epitope:1,times_seen:8.3333,effect:-.0905},{reference_site:"624",wildtype:"G",mutant:"L",Escape:.0107,epitope:1,times_seen:5,effect:-.4335},{reference_site:"624",wildtype:"G",mutant:"M",Escape:.0046,epitope:1,times_seen:7.6667,effect:-.148},{reference_site:"624",wildtype:"G",mutant:"N",Escape:.0238,epitope:1,times_seen:12.6667,effect:.0985},{reference_site:"624",wildtype:"G",mutant:"Q",Escape:.0092,epitope:1,times_seen:5,effect:-.3009},{reference_site:"624",wildtype:"G",mutant:"R",Escape:-.0144,epitope:1,times_seen:5,effect:.0916},{reference_site:"624",wildtype:"G",mutant:"S",Escape:-.0497,epitope:1,times_seen:16.3333,effect:-.0628},{reference_site:"624",wildtype:"G",mutant:"T",Escape:-.0081,epitope:1,times_seen:6,effect:-.3834},{reference_site:"624",wildtype:"G",mutant:"V",Escape:.001,epitope:1,times_seen:1.5,effect:-1.6493},{reference_site:"624",wildtype:"G",mutant:"W",Escape:.0144,epitope:1,times_seen:5,effect:.1307},{reference_site:"624",wildtype:"G",mutant:"Y",Escape:-.0157,epitope:1,times_seen:6.6667,effect:-.0723},{reference_site:"625",wildtype:"N",mutant:"C",Escape:-.0109,epitope:1,times_seen:1,effect:-1.5855},{reference_site:"625",wildtype:"N",mutant:"D",Escape:-.0075,epitope:1,times_seen:1,effect:-.595},{reference_site:"625",wildtype:"N",mutant:"E",Escape:-.0049,epitope:1,times_seen:1,effect:-.1791},{reference_site:"625",wildtype:"N",mutant:"F",Escape:.0115,epitope:1,times_seen:1.5,effect:-1.8618},{reference_site:"625",wildtype:"N",mutant:"G",Escape:.0016,epitope:1,times_seen:1,effect:-.6207},{reference_site:"625",wildtype:"N",mutant:"H",Escape:-8e-4,epitope:1,times_seen:1.6667,effect:.0857},{reference_site:"625",wildtype:"N",mutant:"K",Escape:-.001,epitope:1,times_seen:3.3333,effect:-.0881},{reference_site:"625",wildtype:"N",mutant:"L",Escape:-.0109,epitope:1,times_seen:1,effect:-.5845},{reference_site:"625",wildtype:"N",mutant:"M",Escape:.0119,epitope:1,times_seen:2,effect:-.9929},{reference_site:"625",wildtype:"N",mutant:"Q",Escape:.0133,epitope:1,times_seen:2,effect:-.3006},{reference_site:"625",wildtype:"N",mutant:"R",Escape:.0215,epitope:1,times_seen:2,effect:.196},{reference_site:"625",wildtype:"N",mutant:"S",Escape:.004,epitope:1,times_seen:1,effect:.234},{reference_site:"625",wildtype:"N",mutant:"T",Escape:.0245,epitope:1,times_seen:1.6667,effect:-.0158},{reference_site:"625",wildtype:"N",mutant:"V",Escape:-.0072,epitope:1,times_seen:1.6667,effect:-1.234},{reference_site:"625",wildtype:"N",mutant:"W",Escape:-.0085,epitope:1,times_seen:1,effect:-1.3829},{reference_site:"625",wildtype:"N",mutant:"Y",Escape:-.0137,epitope:1,times_seen:4.3333,effect:-.6537},{reference_site:"626",wildtype:"M",mutant:"I",Escape:-.0416,epitope:1,times_seen:12.6667,effect:-.9162},{reference_site:"626",wildtype:"M",mutant:"K",Escape:9e-4,epitope:1,times_seen:3.6667,effect:-1.5149},{reference_site:"626",wildtype:"M",mutant:"L",Escape:.0079,epitope:1,times_seen:5.3333,effect:-.0726},{reference_site:"626",wildtype:"M",mutant:"R",Escape:-.0186,epitope:1,times_seen:3.6667,effect:-2.0858},{reference_site:"626",wildtype:"M",mutant:"T",Escape:.0093,epitope:1,times_seen:2.3333,effect:-.1164},{reference_site:"626",wildtype:"M",mutant:"V",Escape:.0023,epitope:1,times_seen:1.3333,effect:-1.2984},{reference_site:"626",wildtype:"M",mutant:"Y",Escape:-.0283,epitope:1,times_seen:5,effect:-.5209},{reference_site:"627",wildtype:"T",mutant:"A",Escape:.0037,epitope:1,times_seen:1,effect:-1.9346},{reference_site:"627",wildtype:"T",mutant:"I",Escape:-5e-4,epitope:1,times_seen:1,effect:-1.38},{reference_site:"627",wildtype:"T",mutant:"P",Escape:.0278,epitope:1,times_seen:2,effect:-2.4813},{reference_site:"627",wildtype:"T",mutant:"S",Escape:-.0086,epitope:1,times_seen:6,effect:-.8869},{reference_site:"628",wildtype:"W",mutant:"C",Escape:.0035,epitope:1,times_seen:1,effect:-1.7518},{reference_site:"628",wildtype:"W",mutant:"*",Escape:-.001,epitope:1,times_seen:1,effect:-2.3708},{reference_site:"629",wildtype:"L",mutant:"C",Escape:.0062,epitope:1,times_seen:2.3333,effect:-.4995},{reference_site:"629",wildtype:"L",mutant:"E",Escape:-.0181,epitope:1,times_seen:2.3333,effect:-1.4839},{reference_site:"629",wildtype:"L",mutant:"F",Escape:-.0038,epitope:1,times_seen:1,effect:-1.3038},{reference_site:"629",wildtype:"L",mutant:"K",Escape:-.0126,epitope:1,times_seen:8.6667,effect:-.047},{reference_site:"629",wildtype:"L",mutant:"M",Escape:.0441,epitope:1,times_seen:29.3333,effect:-.0237},{reference_site:"629",wildtype:"L",mutant:"N",Escape:.0086,epitope:1,times_seen:1.6667,effect:-.013},{reference_site:"629",wildtype:"L",mutant:"Q",Escape:.0397,epitope:1,times_seen:6,effect:-.1843},{reference_site:"629",wildtype:"L",mutant:"R",Escape:.0464,epitope:1,times_seen:17,effect:-.0352},{reference_site:"629",wildtype:"L",mutant:"S",Escape:-.0176,epitope:1,times_seen:2.6667,effect:-1.4556},{reference_site:"629",wildtype:"L",mutant:"T",Escape:.0155,epitope:1,times_seen:2,effect:-1.1739},{reference_site:"629",wildtype:"L",mutant:"V",Escape:.0135,epitope:1,times_seen:2.5,effect:-1.6148},{reference_site:"630",wildtype:"Q",mutant:"D",Escape:-.0128,epitope:1,times_seen:5,effect:-1.5159},{reference_site:"630",wildtype:"Q",mutant:"E",Escape:-.0083,epitope:1,times_seen:8,effect:-.0503},{reference_site:"630",wildtype:"Q",mutant:"H",Escape:-.0063,epitope:1,times_seen:5.3333,effect:-.882},{reference_site:"630",wildtype:"Q",mutant:"K",Escape:-.0771,epitope:1,times_seen:13,effect:-.0515},{reference_site:"630",wildtype:"Q",mutant:"L",Escape:-.0148,epitope:1,times_seen:1,effect:-.068},{reference_site:"630",wildtype:"Q",mutant:"M",Escape:-.042,epitope:1,times_seen:7.3333,effect:-.6087},{reference_site:"630",wildtype:"Q",mutant:"R",Escape:-.0458,epitope:1,times_seen:10.3333,effect:-.4778},{reference_site:"630",wildtype:"Q",mutant:"S",Escape:-.0255,epitope:1,times_seen:2.5,effect:-.7949},{reference_site:"631",wildtype:"W",mutant:"C",Escape:.006,epitope:1,times_seen:1.6667,effect:-2.7793},{reference_site:"631",wildtype:"W",mutant:"L",Escape:.0089,epitope:1,times_seen:1.3333,effect:-3.4132},{reference_site:"631",wildtype:"W",mutant:"*",Escape:.0049,epitope:1,times_seen:2,effect:-3.3478},{reference_site:"632",wildtype:"D",mutant:"A",Escape:.0397,epitope:1,times_seen:18.3333,effect:-.0553},{reference_site:"632",wildtype:"D",mutant:"C",Escape:-.0259,epitope:1,times_seen:3,effect:-1.4819},{reference_site:"632",wildtype:"D",mutant:"E",Escape:-.0119,epitope:1,times_seen:13.3333,effect:-.1273},{reference_site:"632",wildtype:"D",mutant:"F",Escape:.0057,epitope:1,times_seen:4,effect:-1.1851},{reference_site:"632",wildtype:"D",mutant:"G",Escape:-.047,epitope:1,times_seen:12,effect:-.1671},{reference_site:"632",wildtype:"D",mutant:"H",Escape:-.0267,epitope:1,times_seen:4,effect:-.3777},{reference_site:"632",wildtype:"D",mutant:"I",Escape:-.0175,epitope:1,times_seen:5,effect:-.8481},{reference_site:"632",wildtype:"D",mutant:"K",Escape:-.0926,epitope:1,times_seen:9.3333,effect:-.1814},{reference_site:"632",wildtype:"D",mutant:"M",Escape:.0767,epitope:1,times_seen:3,effect:-.349},{reference_site:"632",wildtype:"D",mutant:"N",Escape:-.0135,epitope:1,times_seen:14.6667,effect:.0945},{reference_site:"632",wildtype:"D",mutant:"Q",Escape:.003,epitope:1,times_seen:1.3333,effect:-.1655},{reference_site:"632",wildtype:"D",mutant:"R",Escape:-.0102,epitope:1,times_seen:1,effect:-2.1131},{reference_site:"632",wildtype:"D",mutant:"S",Escape:-.0051,epitope:1,times_seen:9.3333,effect:-.0968},{reference_site:"632",wildtype:"D",mutant:"T",Escape:.006,epitope:1,times_seen:9,effect:.0344},{reference_site:"632",wildtype:"D",mutant:"V",Escape:-.0328,epitope:1,times_seen:8,effect:-.2321},{reference_site:"632",wildtype:"D",mutant:"W",Escape:-.0163,epitope:1,times_seen:3.3333,effect:-.4492},{reference_site:"632",wildtype:"D",mutant:"Y",Escape:-.0116,epitope:1,times_seen:19.6667,effect:-.2227},{reference_site:"633",wildtype:"K",mutant:"A",Escape:-.0081,epitope:1,times_seen:1,effect:-.2193},{reference_site:"633",wildtype:"K",mutant:"E",Escape:-.0315,epitope:1,times_seen:10.6667,effect:-.7159},{reference_site:"633",wildtype:"K",mutant:"G",Escape:-.0794,epitope:1,times_seen:4.3333,effect:-.6811},{reference_site:"633",wildtype:"K",mutant:"H",Escape:.0043,epitope:1,times_seen:2,effect:-.0533},{reference_site:"633",wildtype:"K",mutant:"I",Escape:-.0222,epitope:1,times_seen:3.3333,effect:-.8884},{reference_site:"633",wildtype:"K",mutant:"L",Escape:-.0163,epitope:1,times_seen:2.3333,effect:-1.0321},{reference_site:"633",wildtype:"K",mutant:"M",Escape:-.0589,epitope:1,times_seen:10.3333,effect:-.5018},{reference_site:"633",wildtype:"K",mutant:"N",Escape:-.0716,epitope:1,times_seen:19.3333,effect:-.4514},{reference_site:"633",wildtype:"K",mutant:"Q",Escape:-.021,epitope:1,times_seen:3.6667,effect:-.3646},{reference_site:"633",wildtype:"K",mutant:"R",Escape:5e-4,epitope:1,times_seen:8.3333,effect:-.2565},{reference_site:"633",wildtype:"K",mutant:"S",Escape:-.0091,epitope:1,times_seen:2.3333,effect:-.151},{reference_site:"633",wildtype:"K",mutant:"T",Escape:.0468,epitope:1,times_seen:2,effect:.2013},{reference_site:"633",wildtype:"K",mutant:"Y",Escape:-.0755,epitope:1,times_seen:10.3333,effect:-.5823},{reference_site:"634",wildtype:"E",mutant:"A",Escape:-.0503,epitope:1,times_seen:5.6667,effect:-.759},{reference_site:"634",wildtype:"E",mutant:"C",Escape:-.0361,epitope:1,times_seen:3.6667,effect:-.2979},{reference_site:"634",wildtype:"E",mutant:"D",Escape:-.0336,epitope:1,times_seen:10.6667,effect:-.7492},{reference_site:"634",wildtype:"E",mutant:"F",Escape:-.0225,epitope:1,times_seen:2,effect:-.9395},{reference_site:"634",wildtype:"E",mutant:"G",Escape:.0038,epitope:1,times_seen:1,effect:-2.7898},{reference_site:"634",wildtype:"E",mutant:"H",Escape:-.0452,epitope:1,times_seen:6.6667,effect:.0807},{reference_site:"634",wildtype:"E",mutant:"I",Escape:-.0198,epitope:1,times_seen:6.3333,effect:-.2593},{reference_site:"634",wildtype:"E",mutant:"K",Escape:.0072,epitope:1,times_seen:1.6667,effect:-1.662},{reference_site:"634",wildtype:"E",mutant:"L",Escape:-.0328,epitope:1,times_seen:7.6667,effect:.0905},{reference_site:"634",wildtype:"E",mutant:"M",Escape:-.0465,epitope:1,times_seen:6,effect:-.3872},{reference_site:"634",wildtype:"E",mutant:"Q",Escape:-.0344,epitope:1,times_seen:7.6667,effect:-.2832},{reference_site:"634",wildtype:"E",mutant:"S",Escape:-.038,epitope:1,times_seen:4,effect:-.8287},{reference_site:"634",wildtype:"E",mutant:"T",Escape:-.0345,epitope:1,times_seen:7.6667,effect:-.2126},{reference_site:"634",wildtype:"E",mutant:"V",Escape:-.0155,epitope:1,times_seen:10.6667,effect:-.0825},{reference_site:"634",wildtype:"E",mutant:"Y",Escape:-.0192,epitope:1,times_seen:3,effect:-1.1584},{reference_site:"635",wildtype:"V",mutant:"I",Escape:.0236,epitope:1,times_seen:14,effect:.1411},{reference_site:"635",wildtype:"V",mutant:"L",Escape:-.005,epitope:1,times_seen:14.3333,effect:-.1995},{reference_site:"635",wildtype:"V",mutant:"M",Escape:-.0066,epitope:1,times_seen:14,effect:-.6913},{reference_site:"635",wildtype:"V",mutant:"T",Escape:-.0178,epitope:1,times_seen:9.3333,effect:-.2197},{reference_site:"636",wildtype:"S",mutant:"A",Escape:-6e-4,epitope:1,times_seen:7,effect:.0937},{reference_site:"636",wildtype:"S",mutant:"C",Escape:-.0406,epitope:1,times_seen:10.3333,effect:-.5579},{reference_site:"636",wildtype:"S",mutant:"D",Escape:-.0097,epitope:1,times_seen:6.3333,effect:-.4099},{reference_site:"636",wildtype:"S",mutant:"E",Escape:-.0179,epitope:1,times_seen:4.3333,effect:-.1884},{reference_site:"636",wildtype:"S",mutant:"F",Escape:-.0488,epitope:1,times_seen:13,effect:-.3146},{reference_site:"636",wildtype:"S",mutant:"G",Escape:.0307,epitope:1,times_seen:10.3333,effect:.02},{reference_site:"636",wildtype:"S",mutant:"H",Escape:-.0407,epitope:1,times_seen:5.3333,effect:-.1661},{reference_site:"636",wildtype:"S",mutant:"I",Escape:-.0333,epitope:1,times_seen:9.6667,effect:-.5946},{reference_site:"636",wildtype:"S",mutant:"K",Escape:-.0296,epitope:1,times_seen:6.6667,effect:-.2357},{reference_site:"636",wildtype:"S",mutant:"N",Escape:-1e-4,epitope:1,times_seen:9.6667,effect:-.3342},{reference_site:"636",wildtype:"S",mutant:"Q",Escape:-.0134,epitope:1,times_seen:2.6667,effect:-.2927},{reference_site:"636",wildtype:"S",mutant:"R",Escape:-.0407,epitope:1,times_seen:6,effect:.0289},{reference_site:"636",wildtype:"S",mutant:"T",Escape:-.0984,epitope:1,times_seen:16.3333,effect:-.2858},{reference_site:"636",wildtype:"S",mutant:"V",Escape:-.0438,epitope:1,times_seen:8.5,effect:-.74},{reference_site:"636",wildtype:"S",mutant:"Y",Escape:-.0448,epitope:1,times_seen:7.6667,effect:-.1815},{reference_site:"637",wildtype:"N",mutant:"A",Escape:-.013,epitope:1,times_seen:1.3333,effect:-.3347},{reference_site:"637",wildtype:"N",mutant:"D",Escape:-.0267,epitope:1,times_seen:4,effect:-.6005},{reference_site:"637",wildtype:"N",mutant:"E",Escape:-.1324,epitope:1,times_seen:6.3333,effect:-.303},{reference_site:"637",wildtype:"N",mutant:"F",Escape:-.0315,epitope:1,times_seen:5.3333,effect:-1.4585},{reference_site:"637",wildtype:"N",mutant:"G",Escape:-.0022,epitope:1,times_seen:1.6667,effect:-.3402},{reference_site:"637",wildtype:"N",mutant:"H",Escape:-.0336,epitope:1,times_seen:3.6667,effect:-.7016},{reference_site:"637",wildtype:"N",mutant:"I",Escape:-.0171,epitope:1,times_seen:5,effect:-.7739},{reference_site:"637",wildtype:"N",mutant:"K",Escape:-.0645,epitope:1,times_seen:9,effect:-.2475},{reference_site:"637",wildtype:"N",mutant:"L",Escape:-.015,epitope:1,times_seen:1.3333,effect:-1.4924},{reference_site:"637",wildtype:"N",mutant:"M",Escape:-.0683,epitope:1,times_seen:6.6667,effect:-.7362},{reference_site:"637",wildtype:"N",mutant:"Q",Escape:-.0358,epitope:1,times_seen:4.6667,effect:-.5472},{reference_site:"637",wildtype:"N",mutant:"R",Escape:-.019,epitope:1,times_seen:2,effect:-.5456},{reference_site:"637",wildtype:"N",mutant:"S",Escape:-.035,epitope:1,times_seen:3,effect:-.1775},{reference_site:"637",wildtype:"N",mutant:"T",Escape:-.0275,epitope:1,times_seen:2.6667,effect:-1.0823},{reference_site:"637",wildtype:"N",mutant:"V",Escape:-.0026,epitope:1,times_seen:1,effect:-.6048},{reference_site:"637",wildtype:"N",mutant:"-",Escape:.0131,epitope:1,times_seen:1,effect:-1.2007},{reference_site:"638",wildtype:"Y",mutant:"A",Escape:-.0231,epitope:1,times_seen:6,effect:-.7648},{reference_site:"638",wildtype:"Y",mutant:"C",Escape:-.0562,epitope:1,times_seen:9.6667,effect:-.9146},{reference_site:"638",wildtype:"Y",mutant:"D",Escape:-.0115,epitope:1,times_seen:1,effect:1.1466},{reference_site:"638",wildtype:"Y",mutant:"F",Escape:-.0161,epitope:1,times_seen:11,effect:-.1266},{reference_site:"638",wildtype:"Y",mutant:"H",Escape:-.0308,epitope:1,times_seen:8.3333,effect:-.0689},{reference_site:"638",wildtype:"Y",mutant:"N",Escape:-.0049,epitope:1,times_seen:1,effect:-.3094},{reference_site:"638",wildtype:"Y",mutant:"S",Escape:-.0039,epitope:1,times_seen:7,effect:-.291},{reference_site:"638",wildtype:"Y",mutant:"V",Escape:-.0233,epitope:1,times_seen:4,effect:-.2884},{reference_site:"638",wildtype:"Y",mutant:"W",Escape:-.0074,epitope:1,times_seen:9.3333,effect:-.1031},{reference_site:"638",wildtype:"Y",mutant:"*",Escape:.011,epitope:1,times_seen:1,effect:-1.6976},{reference_site:"638",wildtype:"Y",mutant:"-",Escape:.0102,epitope:1,times_seen:1,effect:-.4118},{reference_site:"639",wildtype:"T",mutant:"A",Escape:-.1221,epitope:1,times_seen:8.6667,effect:-.7601},{reference_site:"639",wildtype:"T",mutant:"C",Escape:.0138,epitope:1,times_seen:5,effect:-1.6283},{reference_site:"639",wildtype:"T",mutant:"E",Escape:-.0274,epitope:1,times_seen:2.3333,effect:-1.4842},{reference_site:"639",wildtype:"T",mutant:"F",Escape:-.0388,epitope:1,times_seen:7.6667,effect:-.9526},{reference_site:"639",wildtype:"T",mutant:"H",Escape:-.0567,epitope:1,times_seen:8.6667,effect:-.0506},{reference_site:"639",wildtype:"T",mutant:"I",Escape:-.0335,epitope:1,times_seen:5.3333,effect:-1.0612},{reference_site:"639",wildtype:"T",mutant:"K",Escape:-.0076,epitope:1,times_seen:7.3333,effect:-.2235},{reference_site:"639",wildtype:"T",mutant:"L",Escape:-.0124,epitope:1,times_seen:2.3333,effect:-.7156},{reference_site:"639",wildtype:"T",mutant:"M",Escape:-.0116,epitope:1,times_seen:2.6667,effect:-1.2275},{reference_site:"639",wildtype:"T",mutant:"N",Escape:-.0846,epitope:1,times_seen:10,effect:-.7665},{reference_site:"639",wildtype:"T",mutant:"P",Escape:.0183,epitope:1,times_seen:2.6667,effect:-3.3847},{reference_site:"639",wildtype:"T",mutant:"R",Escape:-.0298,epitope:1,times_seen:4.3333,effect:-.2035},{reference_site:"639",wildtype:"T",mutant:"S",Escape:-.041,epitope:1,times_seen:8.6667,effect:-.2096},{reference_site:"639",wildtype:"T",mutant:"V",Escape:-.0466,epitope:1,times_seen:5,effect:-.6697},{reference_site:"639",wildtype:"T",mutant:"Y",Escape:-.0138,epitope:1,times_seen:9,effect:-.0582},{reference_site:"639",wildtype:"T",mutant:"-",Escape:.0135,epitope:1,times_seen:1,effect:-.4118},{reference_site:"640",wildtype:"Q",mutant:"A",Escape:.0317,epitope:1,times_seen:4.6667,effect:-.2733},{reference_site:"640",wildtype:"Q",mutant:"D",Escape:.0358,epitope:1,times_seen:12.3333,effect:.0359},{reference_site:"640",wildtype:"Q",mutant:"E",Escape:.037,epitope:1,times_seen:10,effect:-.0242},{reference_site:"640",wildtype:"Q",mutant:"F",Escape:-.014,epitope:1,times_seen:5,effect:-.5924},{reference_site:"640",wildtype:"Q",mutant:"G",Escape:.0138,epitope:1,times_seen:5,effect:-.6569},{reference_site:"640",wildtype:"Q",mutant:"H",Escape:.0527,epitope:1,times_seen:27,effect:.0156},{reference_site:"640",wildtype:"Q",mutant:"I",Escape:-.0113,epitope:1,times_seen:2.3333,effect:-1.7466},{reference_site:"640",wildtype:"Q",mutant:"K",Escape:-.0275,epitope:1,times_seen:19.3333,effect:-.0198},{reference_site:"640",wildtype:"Q",mutant:"L",Escape:-.053,epitope:1,times_seen:15.6667,effect:-.7506},{reference_site:"640",wildtype:"Q",mutant:"M",Escape:-.0619,epitope:1,times_seen:9.3333,effect:-.2012},{reference_site:"640",wildtype:"Q",mutant:"N",Escape:.0293,epitope:1,times_seen:6.3333,effect:-.1597},{reference_site:"640",wildtype:"Q",mutant:"P",Escape:.002,epitope:1,times_seen:1.6667,effect:-2.1954},{reference_site:"640",wildtype:"Q",mutant:"R",Escape:-.0205,epitope:1,times_seen:15.3333,effect:-.1181},{reference_site:"640",wildtype:"Q",mutant:"S",Escape:.0349,epitope:1,times_seen:12.6667,effect:-.0554},{reference_site:"640",wildtype:"Q",mutant:"T",Escape:-.0453,epitope:1,times_seen:15.6667,effect:-.2231},{reference_site:"640",wildtype:"Q",mutant:"V",Escape:-.0287,epitope:1,times_seen:8,effect:-1.2435},{reference_site:"640",wildtype:"Q",mutant:"Y",Escape:-.0445,epitope:1,times_seen:13.6667,effect:-.107},{reference_site:"640",wildtype:"Q",mutant:"-",Escape:.0151,epitope:1,times_seen:1,effect:-.4603},{reference_site:"641",wildtype:"I",mutant:"A",Escape:-.0085,epitope:1,times_seen:6,effect:-.1424},{reference_site:"641",wildtype:"I",mutant:"C",Escape:-.0926,epitope:1,times_seen:13.6667,effect:-.1464},{reference_site:"641",wildtype:"I",mutant:"D",Escape:.0078,epitope:1,times_seen:8.3333,effect:-.2732},{reference_site:"641",wildtype:"I",mutant:"E",Escape:.0284,epitope:1,times_seen:7,effect:.0294},{reference_site:"641",wildtype:"I",mutant:"F",Escape:-.0374,epitope:1,times_seen:9.6667,effect:-.414},{reference_site:"641",wildtype:"I",mutant:"G",Escape:-.0213,epitope:1,times_seen:2,effect:-.3842},{reference_site:"641",wildtype:"I",mutant:"H",Escape:-.029,epitope:1,times_seen:15,effect:.0903},{reference_site:"641",wildtype:"I",mutant:"K",Escape:.0095,epitope:1,times_seen:11.3333,effect:.0107},{reference_site:"641",wildtype:"I",mutant:"L",Escape:-.0524,epitope:1,times_seen:9,effect:.072},{reference_site:"641",wildtype:"I",mutant:"M",Escape:-.0034,epitope:1,times_seen:12,effect:.0403},{reference_site:"641",wildtype:"I",mutant:"N",Escape:-.0511,epitope:1,times_seen:12.3333,effect:-.177},{reference_site:"641",wildtype:"I",mutant:"P",Escape:.0083,epitope:1,times_seen:1,effect:-2.8327},{reference_site:"641",wildtype:"I",mutant:"Q",Escape:.0206,epitope:1,times_seen:6.6667,effect:-.0955},{reference_site:"641",wildtype:"I",mutant:"R",Escape:-.0078,epitope:1,times_seen:2.6667,effect:-.5063},{reference_site:"641",wildtype:"I",mutant:"S",Escape:-.0138,epitope:1,times_seen:3.6667,effect:-.3362},{reference_site:"641",wildtype:"I",mutant:"T",Escape:.0019,epitope:1,times_seen:13,effect:-.1573},{reference_site:"641",wildtype:"I",mutant:"V",Escape:.0249,epitope:1,times_seen:5.3333,effect:-.024},{reference_site:"641",wildtype:"I",mutant:"W",Escape:-.0057,epitope:1,times_seen:3,effect:-.2944},{reference_site:"641",wildtype:"I",mutant:"Y",Escape:-.0527,epitope:1,times_seen:10.3333,effect:.0062},{reference_site:"641",wildtype:"I",mutant:"-",Escape:.0142,epitope:1,times_seen:1,effect:-.3743},{reference_site:"642",wildtype:"I",mutant:"F",Escape:.0037,epitope:1,times_seen:1,effect:-.1427},{reference_site:"642",wildtype:"I",mutant:"K",Escape:-.0014,epitope:1,times_seen:1,effect:-2.8605},{reference_site:"642",wildtype:"I",mutant:"L",Escape:.0119,epitope:1,times_seen:1,effect:-1.8266},{reference_site:"642",wildtype:"I",mutant:"V",Escape:-.0068,epitope:1,times_seen:2.6667,effect:-1.897},{reference_site:"643",wildtype:"Y",mutant:"F",Escape:-.0069,epitope:1,times_seen:9.6667,effect:-.0587},{reference_site:"643",wildtype:"Y",mutant:"H",Escape:-.0195,epitope:1,times_seen:6.6667,effect:-.6553},{reference_site:"643",wildtype:"Y",mutant:"Q",Escape:-.0146,epitope:1,times_seen:5,effect:-1.4263},{reference_site:"643",wildtype:"Y",mutant:"W",Escape:-.0017,epitope:1,times_seen:1,effect:-.6468},{reference_site:"644",wildtype:"T",mutant:"A",Escape:.0297,epitope:1,times_seen:9.3333,effect:-.0212},{reference_site:"644",wildtype:"T",mutant:"C",Escape:-.0083,epitope:1,times_seen:2,effect:-1.2364},{reference_site:"644",wildtype:"T",mutant:"D",Escape:.017,epitope:1,times_seen:6,effect:-.2051},{reference_site:"644",wildtype:"T",mutant:"E",Escape:.0023,epitope:1,times_seen:3,effect:-.6981},{reference_site:"644",wildtype:"T",mutant:"F",Escape:-.003,epitope:1,times_seen:4,effect:-.5319},{reference_site:"644",wildtype:"T",mutant:"G",Escape:-.0121,epitope:1,times_seen:3.6667,effect:-.0731},{reference_site:"644",wildtype:"T",mutant:"H",Escape:-.0087,epitope:1,times_seen:4.6667,effect:-.107},{reference_site:"644",wildtype:"T",mutant:"I",Escape:-8e-4,epitope:1,times_seen:5.3333,effect:-1.6258},{reference_site:"644",wildtype:"T",mutant:"K",Escape:3e-4,epitope:1,times_seen:3,effect:-.7168},{reference_site:"644",wildtype:"T",mutant:"L",Escape:-.0055,epitope:1,times_seen:1.6667,effect:-1.4003},{reference_site:"644",wildtype:"T",mutant:"M",Escape:-.0051,epitope:1,times_seen:3,effect:.1687},{reference_site:"644",wildtype:"T",mutant:"N",Escape:-6e-4,epitope:1,times_seen:9.6667,effect:.0514},{reference_site:"644",wildtype:"T",mutant:"Q",Escape:-.0065,epitope:1,times_seen:2,effect:.0986},{reference_site:"644",wildtype:"T",mutant:"R",Escape:-.0047,epitope:1,times_seen:4,effect:-.158},{reference_site:"644",wildtype:"T",mutant:"S",Escape:-.0029,epitope:1,times_seen:4.3333,effect:.0106},{reference_site:"644",wildtype:"T",mutant:"V",Escape:-.0099,epitope:1,times_seen:1.3333,effect:-1.082},{reference_site:"644",wildtype:"T",mutant:"W",Escape:3e-4,epitope:1,times_seen:4.3333,effect:-.4136},{reference_site:"644",wildtype:"T",mutant:"Y",Escape:-.0383,epitope:1,times_seen:7,effect:-.2902},{reference_site:"645",wildtype:"L",mutant:"A",Escape:.0045,epitope:1,times_seen:1,effect:-.4013},{reference_site:"645",wildtype:"L",mutant:"E",Escape:-.003,epitope:1,times_seen:1.3333,effect:-2.1676},{reference_site:"645",wildtype:"L",mutant:"I",Escape:-.0059,epitope:1,times_seen:4.6667,effect:-1.366},{reference_site:"645",wildtype:"L",mutant:"K",Escape:.0099,epitope:1,times_seen:10.6667,effect:-.5648},{reference_site:"645",wildtype:"L",mutant:"M",Escape:-.0027,epitope:1,times_seen:28.6667,effect:-.1232},{reference_site:"645",wildtype:"L",mutant:"P",Escape:-.0064,epitope:1,times_seen:1,effect:-2.7984},{reference_site:"645",wildtype:"L",mutant:"R",Escape:.0014,epitope:1,times_seen:3.6667,effect:-.5522},{reference_site:"645",wildtype:"L",mutant:"S",Escape:1e-4,epitope:1,times_seen:1.6667,effect:-1.2695},{reference_site:"645",wildtype:"L",mutant:"Y",Escape:3e-4,epitope:1,times_seen:2,effect:-.5753},{reference_site:"646",wildtype:"I",mutant:"F",Escape:.0081,epitope:1,times_seen:2,effect:-3.3246},{reference_site:"646",wildtype:"I",mutant:"L",Escape:.0053,epitope:1,times_seen:2,effect:.0362},{reference_site:"646",wildtype:"I",mutant:"M",Escape:.0014,epitope:1,times_seen:4.6667,effect:-.0967},{reference_site:"646",wildtype:"I",mutant:"V",Escape:-.0111,epitope:1,times_seen:7.6667,effect:-.2595},{reference_site:"647",wildtype:"E",mutant:"A",Escape:.0072,epitope:1,times_seen:1.3333,effect:-.1079},{reference_site:"647",wildtype:"E",mutant:"D",Escape:-.0228,epitope:1,times_seen:16,effect:-.7065},{reference_site:"647",wildtype:"E",mutant:"F",Escape:-.0346,epitope:1,times_seen:8.3333,effect:-.1054},{reference_site:"647",wildtype:"E",mutant:"G",Escape:-.0083,epitope:1,times_seen:4,effect:-.1739},{reference_site:"647",wildtype:"E",mutant:"H",Escape:-.0175,epitope:1,times_seen:6.6667,effect:-1.6576},{reference_site:"647",wildtype:"E",mutant:"I",Escape:-.0421,epitope:1,times_seen:7.3333,effect:-.8669},{reference_site:"647",wildtype:"E",mutant:"K",Escape:.0216,epitope:1,times_seen:1,effect:-3.1799},{reference_site:"647",wildtype:"E",mutant:"L",Escape:-.0123,epitope:1,times_seen:3.3333,effect:-.5632},{reference_site:"647",wildtype:"E",mutant:"M",Escape:-.0042,epitope:1,times_seen:3.6667,effect:-.4164},{reference_site:"647",wildtype:"E",mutant:"Q",Escape:.0102,epitope:1,times_seen:10,effect:-.289},{reference_site:"647",wildtype:"E",mutant:"S",Escape:.0122,epitope:1,times_seen:10.3333,effect:-.0927},{reference_site:"647",wildtype:"E",mutant:"T",Escape:-.0066,epitope:1,times_seen:3.5,effect:-.9876},{reference_site:"647",wildtype:"E",mutant:"V",Escape:-.0149,epitope:1,times_seen:10.3333,effect:-1.1749},{reference_site:"647",wildtype:"E",mutant:"W",Escape:-.0175,epitope:1,times_seen:4,effect:-.4527},{reference_site:"647",wildtype:"E",mutant:"Y",Escape:.015,epitope:1,times_seen:5.3333,effect:-.3423},{reference_site:"647",wildtype:"E",mutant:"*",Escape:.0549,epitope:1,times_seen:2,effect:-2.5692},{reference_site:"648",wildtype:"E",mutant:"A",Escape:-.0122,epitope:1,times_seen:3.3333,effect:-.3515},{reference_site:"648",wildtype:"E",mutant:"C",Escape:-.0203,epitope:1,times_seen:1.6667,effect:-1.1321},{reference_site:"648",wildtype:"E",mutant:"D",Escape:.0127,epitope:1,times_seen:10.6667,effect:-.123},{reference_site:"648",wildtype:"E",mutant:"F",Escape:-.0284,epitope:1,times_seen:6.6667,effect:-.1359},{reference_site:"648",wildtype:"E",mutant:"G",Escape:-.0187,epitope:1,times_seen:3.3333,effect:-.4793},{reference_site:"648",wildtype:"E",mutant:"H",Escape:-.0128,epitope:1,times_seen:4.3333,effect:.0428},{reference_site:"648",wildtype:"E",mutant:"I",Escape:.0031,epitope:1,times_seen:4,effect:.0381},{reference_site:"648",wildtype:"E",mutant:"K",Escape:.0165,epitope:1,times_seen:8.6667,effect:-.0535},{reference_site:"648",wildtype:"E",mutant:"L",Escape:.0189,epitope:1,times_seen:5.5,effect:-.1737},{reference_site:"648",wildtype:"E",mutant:"M",Escape:-.018,epitope:1,times_seen:9,effect:-.0793},{reference_site:"648",wildtype:"E",mutant:"N",Escape:-.0055,epitope:1,times_seen:8,effect:-.2842},{reference_site:"648",wildtype:"E",mutant:"Q",Escape:-.0142,epitope:1,times_seen:7,effect:-.1186},{reference_site:"648",wildtype:"E",mutant:"R",Escape:-.003,epitope:1,times_seen:3,effect:-.3447},{reference_site:"648",wildtype:"E",mutant:"S",Escape:-.0069,epitope:1,times_seen:8,effect:-.1024},{reference_site:"648",wildtype:"E",mutant:"T",Escape:.0019,epitope:1,times_seen:2.6667,effect:.3205},{reference_site:"648",wildtype:"E",mutant:"V",Escape:-.0062,epitope:1,times_seen:3.6667,effect:-.1003},{reference_site:"648",wildtype:"E",mutant:"W",Escape:-.0098,epitope:1,times_seen:5.3333,effect:-.0115},{reference_site:"648",wildtype:"E",mutant:"Y",Escape:.0068,epitope:1,times_seen:4,effect:-.2283},{reference_site:"648",wildtype:"E",mutant:"*",Escape:-.0012,epitope:1,times_seen:2,effect:-3.2318},{reference_site:"649",wildtype:"S",mutant:"A",Escape:-.003,epitope:1,times_seen:2,effect:-.2397},{reference_site:"649",wildtype:"S",mutant:"G",Escape:-.0095,epitope:1,times_seen:1,effect:-1.153},{reference_site:"649",wildtype:"S",mutant:"H",Escape:.004,epitope:1,times_seen:11,effect:-.2225},{reference_site:"649",wildtype:"S",mutant:"I",Escape:-.0023,epitope:1,times_seen:7.3333,effect:-1.4703},{reference_site:"649",wildtype:"S",mutant:"L",Escape:-.0022,epitope:1,times_seen:2,effect:-1.025},{reference_site:"649",wildtype:"S",mutant:"N",Escape:-.0108,epitope:1,times_seen:1.6667,effect:-.5259},{reference_site:"649",wildtype:"S",mutant:"Q",Escape:-.001,epitope:1,times_seen:1.3333,effect:-.4499},{reference_site:"649",wildtype:"S",mutant:"R",Escape:4e-4,epitope:1,times_seen:2.3333,effect:-.5482},{reference_site:"649",wildtype:"S",mutant:"T",Escape:-.0129,epitope:1,times_seen:3.3333,effect:-.1651},{reference_site:"649",wildtype:"S",mutant:"Y",Escape:.0019,epitope:1,times_seen:5.3333,effect:-.0728},{reference_site:"650",wildtype:"Q",mutant:"E",Escape:-.0193,epitope:1,times_seen:5.3333,effect:-.5049},{reference_site:"650",wildtype:"Q",mutant:"F",Escape:.0149,epitope:1,times_seen:6.3333,effect:-.1082},{reference_site:"650",wildtype:"Q",mutant:"H",Escape:-.066,epitope:1,times_seen:11.6667,effect:-.2219},{reference_site:"650",wildtype:"Q",mutant:"K",Escape:.0085,epitope:1,times_seen:2.6667,effect:-2.5035},{reference_site:"650",wildtype:"Q",mutant:"M",Escape:8e-4,epitope:1,times_seen:5.6667,effect:-.1623},{reference_site:"650",wildtype:"Q",mutant:"N",Escape:-.0033,epitope:1,times_seen:2.6667,effect:-.3825},{reference_site:"650",wildtype:"Q",mutant:"R",Escape:-.0133,epitope:1,times_seen:6.6667,effect:-.9382},{reference_site:"650",wildtype:"Q",mutant:"W",Escape:.0013,epitope:1,times_seen:4.3333,effect:-.0527},{reference_site:"650",wildtype:"Q",mutant:"Y",Escape:-.0035,epitope:1,times_seen:4,effect:-.182},{reference_site:"650",wildtype:"Q",mutant:"*",Escape:.0097,epitope:1,times_seen:1,effect:-2.6183},{reference_site:"651",wildtype:"N",mutant:"E",Escape:-.0077,epitope:1,times_seen:3,effect:-.7469},{reference_site:"651",wildtype:"N",mutant:"F",Escape:.0178,epitope:1,times_seen:3.5,effect:-1.022},{reference_site:"651",wildtype:"N",mutant:"H",Escape:.0031,epitope:1,times_seen:3,effect:-1.1263},{reference_site:"651",wildtype:"N",mutant:"I",Escape:.0263,epitope:1,times_seen:6,effect:.0828},{reference_site:"651",wildtype:"N",mutant:"K",Escape:-.0045,epitope:1,times_seen:6,effect:-1.1679},{reference_site:"651",wildtype:"N",mutant:"L",Escape:.0067,epitope:1,times_seen:1,effect:-.3577},{reference_site:"651",wildtype:"N",mutant:"M",Escape:.0033,epitope:1,times_seen:2,effect:5e-4},{reference_site:"651",wildtype:"N",mutant:"S",Escape:-.0065,epitope:1,times_seen:3,effect:-.7414},{reference_site:"651",wildtype:"N",mutant:"T",Escape:-.0156,epitope:1,times_seen:3.3333,effect:-.3049},{reference_site:"651",wildtype:"N",mutant:"V",Escape:-.005,epitope:1,times_seen:1.3333,effect:.0175},{reference_site:"651",wildtype:"N",mutant:"W",Escape:6e-4,epitope:1,times_seen:3,effect:-.3564},{reference_site:"651",wildtype:"N",mutant:"Y",Escape:.0587,epitope:1,times_seen:7.6667,effect:-.2165},{reference_site:"652",wildtype:"Q",mutant:"A",Escape:-.0024,epitope:1,times_seen:2.6667,effect:-.3084},{reference_site:"652",wildtype:"Q",mutant:"C",Escape:-.0282,epitope:1,times_seen:7.6667,effect:-.4984},{reference_site:"652",wildtype:"Q",mutant:"D",Escape:-.0052,epitope:1,times_seen:2,effect:-.1003},{reference_site:"652",wildtype:"Q",mutant:"E",Escape:-.0177,epitope:1,times_seen:7.3333,effect:-.0154},{reference_site:"652",wildtype:"Q",mutant:"F",Escape:-.0102,epitope:1,times_seen:5.6667,effect:-.0886},{reference_site:"652",wildtype:"Q",mutant:"H",Escape:.0016,epitope:1,times_seen:3,effect:-.0354},{reference_site:"652",wildtype:"Q",mutant:"I",Escape:.0047,epitope:1,times_seen:8.6667,effect:.1825},{reference_site:"652",wildtype:"Q",mutant:"K",Escape:.0917,epitope:1,times_seen:14.3333,effect:-.0321},{reference_site:"652",wildtype:"Q",mutant:"L",Escape:8e-4,epitope:1,times_seen:5.6667,effect:.0458},{reference_site:"652",wildtype:"Q",mutant:"M",Escape:.0341,epitope:1,times_seen:6.3333,effect:.3291},{reference_site:"652",wildtype:"Q",mutant:"N",Escape:.0106,epitope:1,times_seen:3,effect:-.0671},{reference_site:"652",wildtype:"Q",mutant:"R",Escape:.0266,epitope:1,times_seen:11.6667,effect:-.3214},{reference_site:"652",wildtype:"Q",mutant:"S",Escape:-.0121,epitope:1,times_seen:3,effect:-.2599},{reference_site:"652",wildtype:"Q",mutant:"T",Escape:-.0142,epitope:1,times_seen:5.3333,effect:-.3478},{reference_site:"652",wildtype:"Q",mutant:"V",Escape:.0055,epitope:1,times_seen:5,effect:-.0654},{reference_site:"652",wildtype:"Q",mutant:"W",Escape:.0125,epitope:1,times_seen:2.3333,effect:-.5655},{reference_site:"652",wildtype:"Q",mutant:"Y",Escape:-.0072,epitope:1,times_seen:2,effect:-.5269},{reference_site:"652",wildtype:"Q",mutant:"*",Escape:-6e-4,epitope:1,times_seen:1,effect:-3.0204},{reference_site:"653",wildtype:"Q",mutant:"A",Escape:-.0051,epitope:1,times_seen:1.6667,effect:-.3258},{reference_site:"653",wildtype:"Q",mutant:"E",Escape:.0083,epitope:1,times_seen:2,effect:-1.67},{reference_site:"653",wildtype:"Q",mutant:"H",Escape:-.0141,epitope:1,times_seen:8,effect:-.3794},{reference_site:"653",wildtype:"Q",mutant:"I",Escape:.0022,epitope:1,times_seen:1.3333,effect:-.3621},{reference_site:"653",wildtype:"Q",mutant:"L",Escape:-.0117,epitope:1,times_seen:12.6667,effect:-.11},{reference_site:"653",wildtype:"Q",mutant:"M",Escape:.0121,epitope:1,times_seen:5.6667,effect:-.4016},{reference_site:"653",wildtype:"Q",mutant:"N",Escape:-.022,epitope:1,times_seen:7.3333,effect:-.2489},{reference_site:"653",wildtype:"Q",mutant:"R",Escape:-.0022,epitope:1,times_seen:1,effect:-2.6761},{reference_site:"653",wildtype:"Q",mutant:"S",Escape:-.0049,epitope:1,times_seen:1.5,effect:-1.5967},{reference_site:"653",wildtype:"Q",mutant:"V",Escape:-.0055,epitope:1,times_seen:3.3333,effect:-1.3769},{reference_site:"653",wildtype:"Q",mutant:"*",Escape:.0145,epitope:1,times_seen:2.6667,effect:-3.4513},{reference_site:"654",wildtype:"E",mutant:"A",Escape:2e-4,epitope:1,times_seen:1.5,effect:-.392},{reference_site:"654",wildtype:"E",mutant:"D",Escape:-.0067,epitope:1,times_seen:10.6667,effect:-.4964},{reference_site:"654",wildtype:"E",mutant:"G",Escape:.0111,epitope:1,times_seen:1,effect:-2.1481},{reference_site:"654",wildtype:"E",mutant:"K",Escape:.0285,epitope:1,times_seen:1,effect:-3.0792},{reference_site:"654",wildtype:"E",mutant:"N",Escape:-.0077,epitope:1,times_seen:2.6667,effect:-.4052},{reference_site:"654",wildtype:"E",mutant:"Q",Escape:-.0031,epitope:1,times_seen:1.3333,effect:-.8848},{reference_site:"654",wildtype:"E",mutant:"V",Escape:-.0027,epitope:1,times_seen:4.3333,effect:-.337},{reference_site:"655",wildtype:"K",mutant:"D",Escape:.0228,epitope:1,times_seen:1.5,effect:-2.9829},{reference_site:"655",wildtype:"K",mutant:"E",Escape:-.0134,epitope:1,times_seen:3,effect:-1.9218},{reference_site:"655",wildtype:"K",mutant:"F",Escape:.0025,epitope:1,times_seen:3,effect:-.8655},{reference_site:"655",wildtype:"K",mutant:"I",Escape:.0065,epitope:1,times_seen:3.6667,effect:.0267},{reference_site:"655",wildtype:"K",mutant:"L",Escape:-.0103,epitope:1,times_seen:1,effect:-.3368},{reference_site:"655",wildtype:"K",mutant:"M",Escape:.0191,epitope:1,times_seen:4,effect:-.1498},{reference_site:"655",wildtype:"K",mutant:"N",Escape:-.0079,epitope:1,times_seen:6.3333,effect:-.379},{reference_site:"655",wildtype:"K",mutant:"Q",Escape:.0198,epitope:1,times_seen:5.3333,effect:-.3057},{reference_site:"655",wildtype:"K",mutant:"R",Escape:-.0077,epitope:1,times_seen:2.3333,effect:-.6245},{reference_site:"655",wildtype:"K",mutant:"S",Escape:-.0072,epitope:1,times_seen:3.6667,effect:-.4716},{reference_site:"655",wildtype:"K",mutant:"T",Escape:.0039,epitope:1,times_seen:1,effect:-1.349},{reference_site:"655",wildtype:"K",mutant:"V",Escape:.0142,epitope:1,times_seen:3,effect:.051},{reference_site:"655",wildtype:"K",mutant:"W",Escape:3e-4,epitope:1,times_seen:4,effect:-.2917},{reference_site:"655",wildtype:"K",mutant:"Y",Escape:.0176,epitope:1,times_seen:4.6667,effect:-.438},{reference_site:"656",wildtype:"N",mutant:"C",Escape:-.0047,epitope:1,times_seen:1,effect:-1.018},{reference_site:"656",wildtype:"N",mutant:"D",Escape:-.0095,epitope:1,times_seen:2,effect:-.075},{reference_site:"656",wildtype:"N",mutant:"E",Escape:-.0066,epitope:1,times_seen:3.3333,effect:.1928},{reference_site:"656",wildtype:"N",mutant:"I",Escape:-.004,epitope:1,times_seen:2.3333,effect:-.2229},{reference_site:"656",wildtype:"N",mutant:"M",Escape:.0311,epitope:1,times_seen:5,effect:-.0632},{reference_site:"656",wildtype:"N",mutant:"Q",Escape:-.003,epitope:1,times_seen:1,effect:-.462},{reference_site:"656",wildtype:"N",mutant:"R",Escape:.0016,epitope:1,times_seen:2,effect:-.2382},{reference_site:"656",wildtype:"N",mutant:"S",Escape:-.0032,epitope:1,times_seen:1.6667,effect:-.4676},{reference_site:"656",wildtype:"N",mutant:"T",Escape:.0021,epitope:1,times_seen:1.3333,effect:-.2963},{reference_site:"656",wildtype:"N",mutant:"V",Escape:-.0121,epitope:1,times_seen:6,effect:-.897},{reference_site:"656",wildtype:"N",mutant:"Y",Escape:-.0022,epitope:1,times_seen:4,effect:-.2045},{reference_site:"657",wildtype:"E",mutant:"A",Escape:-8e-4,epitope:1,times_seen:1,effect:.3587},{reference_site:"657",wildtype:"E",mutant:"D",Escape:.0097,epitope:1,times_seen:3.3333,effect:-1.8104},{reference_site:"657",wildtype:"E",mutant:"G",Escape:.0101,epitope:1,times_seen:1.3333,effect:-.4039},{reference_site:"657",wildtype:"E",mutant:"H",Escape:.0011,epitope:1,times_seen:1,effect:.0224},{reference_site:"657",wildtype:"E",mutant:"I",Escape:-.0058,epitope:1,times_seen:1,effect:-.9201},{reference_site:"657",wildtype:"E",mutant:"K",Escape:-.0169,epitope:1,times_seen:7,effect:-.6485},{reference_site:"657",wildtype:"E",mutant:"L",Escape:-2e-4,epitope:1,times_seen:2.6667,effect:.3674},{reference_site:"657",wildtype:"E",mutant:"M",Escape:.0122,epitope:1,times_seen:5,effect:-.2509},{reference_site:"657",wildtype:"E",mutant:"W",Escape:.0037,epitope:1,times_seen:3.5,effect:-.215},{reference_site:"657",wildtype:"E",mutant:"Y",Escape:.0171,epitope:1,times_seen:3.6667,effect:-.2733},{reference_site:"657",wildtype:"E",mutant:"*",Escape:.0199,epitope:1,times_seen:2,effect:-2.9858},{reference_site:"658",wildtype:"Q",mutant:"E",Escape:.0036,epitope:1,times_seen:2.3333,effect:-.2682},{reference_site:"658",wildtype:"Q",mutant:"F",Escape:.0122,epitope:1,times_seen:2,effect:.1261},{reference_site:"658",wildtype:"Q",mutant:"H",Escape:.0273,epitope:1,times_seen:10.6667,effect:.003},{reference_site:"658",wildtype:"Q",mutant:"I",Escape:-.0043,epitope:1,times_seen:1.5,effect:-.709},{reference_site:"658",wildtype:"Q",mutant:"K",Escape:-.0122,epitope:1,times_seen:7.3333,effect:-.1236},{reference_site:"658",wildtype:"Q",mutant:"L",Escape:.0097,epitope:1,times_seen:4.6667,effect:.2226},{reference_site:"658",wildtype:"Q",mutant:"M",Escape:.0357,epitope:1,times_seen:5.3333,effect:.0097},{reference_site:"658",wildtype:"Q",mutant:"N",Escape:-.0079,epitope:1,times_seen:1.5,effect:-1.201},{reference_site:"658",wildtype:"Q",mutant:"R",Escape:-1e-4,epitope:1,times_seen:2.3333,effect:-.7268},{reference_site:"658",wildtype:"Q",mutant:"V",Escape:.0046,epitope:1,times_seen:1,effect:-.6361},{reference_site:"658",wildtype:"Q",mutant:"W",Escape:.0225,epitope:1,times_seen:3,effect:-.8722},{reference_site:"658",wildtype:"Q",mutant:"Y",Escape:-2e-4,epitope:1,times_seen:1.6667,effect:-.9726},{reference_site:"658",wildtype:"Q",mutant:"*",Escape:.0106,epitope:1,times_seen:1.6667,effect:-1.3447},{reference_site:"659",wildtype:"D",mutant:"C",Escape:.0143,epitope:1,times_seen:1,effect:-2.1658},{reference_site:"659",wildtype:"D",mutant:"E",Escape:-.0051,epitope:1,times_seen:4,effect:.1862},{reference_site:"659",wildtype:"D",mutant:"G",Escape:.0017,epitope:1,times_seen:1,effect:-1.6756},{reference_site:"659",wildtype:"D",mutant:"I",Escape:-.0049,epitope:1,times_seen:2,effect:-.0528},{reference_site:"659",wildtype:"D",mutant:"K",Escape:-.0067,epitope:1,times_seen:1,effect:-1.842},{reference_site:"659",wildtype:"D",mutant:"N",Escape:-.0019,epitope:1,times_seen:7,effect:-.8266},{reference_site:"659",wildtype:"D",mutant:"Q",Escape:-2e-4,epitope:1,times_seen:1,effect:-.5552},{reference_site:"659",wildtype:"D",mutant:"T",Escape:7e-4,epitope:1,times_seen:2,effect:-.264},{reference_site:"659",wildtype:"D",mutant:"Y",Escape:-.0123,epitope:1,times_seen:3.3333,effect:-.6194},{reference_site:"660",wildtype:"L",mutant:"M",Escape:-.0021,epitope:1,times_seen:6.3333,effect:-.8634},{reference_site:"660",wildtype:"L",mutant:"P",Escape:5e-4,epitope:1,times_seen:1,effect:-2.8288},{reference_site:"660",wildtype:"L",mutant:"Q",Escape:.001,epitope:1,times_seen:1,effect:-.644},{reference_site:"661",wildtype:"L",mutant:"F",Escape:-.0025,epitope:1,times_seen:1,effect:-.8312},{reference_site:"661",wildtype:"L",mutant:"M",Escape:-8e-4,epitope:1,times_seen:2,effect:-.2425},{reference_site:"661",wildtype:"L",mutant:"P",Escape:-.002,epitope:1,times_seen:1,effect:-2.1349},{reference_site:"661",wildtype:"L",mutant:"V",Escape:.0128,epitope:1,times_seen:1.6667,effect:-1.7603},{reference_site:"661",wildtype:"L",mutant:"Y",Escape:-9e-4,epitope:1,times_seen:1,effect:-.7336},{reference_site:"662",wildtype:"A",mutant:"D",Escape:.0052,epitope:1,times_seen:3,effect:-2.9318},{reference_site:"662",wildtype:"A",mutant:"E",Escape:-7e-4,epitope:1,times_seen:2.6667,effect:-.2082},{reference_site:"662",wildtype:"A",mutant:"G",Escape:-.0025,epitope:1,times_seen:1,effect:-.6003},{reference_site:"662",wildtype:"A",mutant:"S",Escape:-.0012,epitope:1,times_seen:10,effect:-.1007},{reference_site:"662",wildtype:"A",mutant:"T",Escape:-.0046,epitope:1,times_seen:2.6667,effect:-.4699},{reference_site:"662",wildtype:"A",mutant:"V",Escape:-.001,epitope:1,times_seen:1,effect:-.8224},{reference_site:"663",wildtype:"L",mutant:"H",Escape:.0019,epitope:1,times_seen:1.5,effect:-.6706},{reference_site:"663",wildtype:"L",mutant:"M",Escape:-.0038,epitope:1,times_seen:11.6667,effect:-.062},{reference_site:"663",wildtype:"L",mutant:"P",Escape:.0027,epitope:1,times_seen:1,effect:-3.039},{reference_site:"663",wildtype:"L",mutant:"Q",Escape:.0016,epitope:1,times_seen:1,effect:-1.0879},{reference_site:"663",wildtype:"L",mutant:"V",Escape:3e-4,epitope:1,times_seen:1,effect:-.3519},{reference_site:"663",wildtype:"L",mutant:"W",Escape:-.0017,epitope:1,times_seen:1,effect:-.8835},{reference_site:"664",wildtype:"D",mutant:"A",Escape:-.0137,epitope:1,times_seen:1.6667,effect:-.3885},{reference_site:"664",wildtype:"D",mutant:"E",Escape:-.0265,epitope:1,times_seen:2.3333,effect:-.2797},{reference_site:"664",wildtype:"D",mutant:"G",Escape:.09,epitope:1,times_seen:4,effect:-.5005},{reference_site:"664",wildtype:"D",mutant:"L",Escape:.0349,epitope:1,times_seen:1.5,effect:-.6706},{reference_site:"664",wildtype:"D",mutant:"N",Escape:.0036,epitope:1,times_seen:2,effect:-.4469},{reference_site:"664",wildtype:"D",mutant:"V",Escape:-.0278,epitope:1,times_seen:1,effect:-1.62},{reference_site:"664",wildtype:"D",mutant:"Y",Escape:.1208,epitope:1,times_seen:2,effect:-1.954},{reference_site:"665",wildtype:"K",mutant:"E",Escape:.013,epitope:1,times_seen:2.6667,effect:-.1118},{reference_site:"665",wildtype:"K",mutant:"I",Escape:-.023,epitope:1,times_seen:1,effect:.0654},{reference_site:"665",wildtype:"K",mutant:"M",Escape:-.036,epitope:1,times_seen:5.5,effect:.2836},{reference_site:"665",wildtype:"K",mutant:"N",Escape:.0029,epitope:1,times_seen:1.3333,effect:-.254},{reference_site:"665",wildtype:"K",mutant:"R",Escape:-.0042,epitope:1,times_seen:1.6667,effect:-.5532},{reference_site:"665",wildtype:"K",mutant:"S",Escape:.0348,epitope:1,times_seen:1.5,effect:-.983},{reference_site:"665",wildtype:"K",mutant:"V",Escape:.006,epitope:1,times_seen:1,effect:.2763},{reference_site:"666",wildtype:"W",mutant:"F",Escape:-.023,epitope:1,times_seen:1,effect:-.3798},{reference_site:"666",wildtype:"W",mutant:"L",Escape:.3485,epitope:1,times_seen:3,effect:-2.2075},{reference_site:"666",wildtype:"W",mutant:"R",Escape:.0365,epitope:1,times_seen:1.5,effect:-2.6386},{reference_site:"666",wildtype:"W",mutant:"Y",Escape:-.0079,epitope:1,times_seen:1,effect:-1.2627},{reference_site:"666",wildtype:"W",mutant:"*",Escape:.0046,epitope:1,times_seen:1,effect:-2.7168},{reference_site:"667",wildtype:"A",mutant:"C",Escape:.034,epitope:1,times_seen:3,effect:-1.0593},{reference_site:"667",wildtype:"A",mutant:"D",Escape:-.0382,epitope:1,times_seen:23.3333,effect:.0148},{reference_site:"667",wildtype:"A",mutant:"F",Escape:-.0042,epitope:1,times_seen:1.3333,effect:-.9342},{reference_site:"667",wildtype:"A",mutant:"G",Escape:-.0406,epitope:1,times_seen:2.3333,effect:-.2444},{reference_site:"667",wildtype:"A",mutant:"H",Escape:.0103,epitope:1,times_seen:1,effect:.256},{reference_site:"667",wildtype:"A",mutant:"I",Escape:-.0095,epitope:1,times_seen:2,effect:-1.167},{reference_site:"667",wildtype:"A",mutant:"K",Escape:-.0027,epitope:1,times_seen:1.5,effect:-.4377},{reference_site:"667",wildtype:"A",mutant:"M",Escape:-.004,epitope:1,times_seen:1,effect:-1.1884},{reference_site:"667",wildtype:"A",mutant:"N",Escape:.0213,epitope:1,times_seen:2.6667,effect:.0323},{reference_site:"667",wildtype:"A",mutant:"S",Escape:-.0308,epitope:1,times_seen:15,effect:.0776},{reference_site:"667",wildtype:"A",mutant:"T",Escape:.0271,epitope:1,times_seen:7.3333,effect:-.0532},{reference_site:"667",wildtype:"A",mutant:"V",Escape:-.032,epitope:1,times_seen:8.3333,effect:-.0605},{reference_site:"667",wildtype:"A",mutant:"Y",Escape:.0408,epitope:1,times_seen:3,effect:-.2793},{reference_site:"668",wildtype:"S",mutant:"A",Escape:-.0086,epitope:1,times_seen:1,effect:-1.6987},{reference_site:"668",wildtype:"S",mutant:"D",Escape:.0083,epitope:1,times_seen:1,effect:.0501},{reference_site:"668",wildtype:"S",mutant:"F",Escape:-.0073,epitope:1,times_seen:1.3333,effect:-.1804},{reference_site:"668",wildtype:"S",mutant:"G",Escape:-.0844,epitope:1,times_seen:5,effect:-.1947},{reference_site:"668",wildtype:"S",mutant:"I",Escape:.0506,epitope:1,times_seen:3,effect:-.5579},{reference_site:"668",wildtype:"S",mutant:"M",Escape:.058,epitope:1,times_seen:1.6667,effect:.1609},{reference_site:"668",wildtype:"S",mutant:"N",Escape:0,epitope:1,times_seen:4.3333,effect:.0389},{reference_site:"668",wildtype:"S",mutant:"R",Escape:.025,epitope:1,times_seen:1,effect:-2.1635},{reference_site:"668",wildtype:"S",mutant:"T",Escape:-.0042,epitope:1,times_seen:1,effect:-.0587},{reference_site:"668",wildtype:"S",mutant:"V",Escape:.0055,epitope:1,times_seen:1,effect:-.2479},{reference_site:"669",wildtype:"L",mutant:"M",Escape:-.0045,epitope:1,times_seen:1.6667,effect:-2.2144},{reference_site:"669",wildtype:"L",mutant:"P",Escape:.0106,epitope:1,times_seen:1,effect:-2.3891},{reference_site:"669",wildtype:"L",mutant:"V",Escape:.025,epitope:1,times_seen:1,effect:-1.8648},{reference_site:"670",wildtype:"W",mutant:"C",Escape:.032,epitope:1,times_seen:1,effect:-2.1444},{reference_site:"670",wildtype:"W",mutant:"E",Escape:-.0695,epitope:1,times_seen:6.6667,effect:-.2122},{reference_site:"670",wildtype:"W",mutant:"F",Escape:-.0233,epitope:1,times_seen:2,effect:-.1121},{reference_site:"670",wildtype:"W",mutant:"I",Escape:-.0139,epitope:1,times_seen:1,effect:-.746},{reference_site:"670",wildtype:"W",mutant:"L",Escape:-.0027,epitope:1,times_seen:11,effect:-.6991},{reference_site:"670",wildtype:"W",mutant:"M",Escape:-.0083,epitope:1,times_seen:1.3333,effect:-.6701},{reference_site:"670",wildtype:"W",mutant:"R",Escape:.1921,epitope:1,times_seen:2,effect:-2.578},{reference_site:"670",wildtype:"W",mutant:"V",Escape:-.0029,epitope:1,times_seen:2,effect:-1.2571},{reference_site:"670",wildtype:"W",mutant:"Y",Escape:-.0115,epitope:1,times_seen:1.6667,effect:-.4719},{reference_site:"670",wildtype:"W",mutant:"*",Escape:.5814,epitope:1,times_seen:1.6667,effect:-2.7901},{reference_site:"671",wildtype:"N",mutant:"D",Escape:.0136,epitope:1,times_seen:2,effect:-.6097},{reference_site:"671",wildtype:"N",mutant:"K",Escape:.0195,epitope:1,times_seen:1,effect:-2.5915},{reference_site:"671",wildtype:"N",mutant:"S",Escape:-.0361,epitope:1,times_seen:1,effect:-1.243},{reference_site:"671",wildtype:"N",mutant:"T",Escape:-.0183,epitope:1,times_seen:1,effect:-.1441},{reference_site:"672",wildtype:"W",mutant:"L",Escape:-.0427,epitope:1,times_seen:1,effect:-2.2213},{reference_site:"672",wildtype:"W",mutant:"*",Escape:-.0167,epitope:1,times_seen:1,effect:-2.5314},{reference_site:"673",wildtype:"F",mutant:"L",Escape:.0109,epitope:1,times_seen:1.5,effect:-1.8349},{reference_site:"673",wildtype:"F",mutant:"S",Escape:-.0087,epitope:1,times_seen:1,effect:-.8028},{reference_site:"673",wildtype:"F",mutant:"W",Escape:-.0084,epitope:1,times_seen:2,effect:-.489},{reference_site:"673",wildtype:"F",mutant:"Y",Escape:.1868,epitope:1,times_seen:5.3333,effect:-.355},{reference_site:"674",wildtype:"N",mutant:"A",Escape:.0395,epitope:1,times_seen:1.3333,effect:-.1254},{reference_site:"674",wildtype:"N",mutant:"C",Escape:-.0071,epitope:1,times_seen:1,effect:.0308},{reference_site:"674",wildtype:"N",mutant:"D",Escape:.0542,epitope:1,times_seen:5.6667,effect:-.1085},{reference_site:"674",wildtype:"N",mutant:"E",Escape:-.002,epitope:1,times_seen:2,effect:.0473},{reference_site:"674",wildtype:"N",mutant:"H",Escape:.0167,epitope:1,times_seen:1.3333,effect:-.4463},{reference_site:"674",wildtype:"N",mutant:"I",Escape:.0029,epitope:1,times_seen:2.6667,effect:-.5323},{reference_site:"674",wildtype:"N",mutant:"K",Escape:-.0209,epitope:1,times_seen:5.3333,effect:.2409},{reference_site:"674",wildtype:"N",mutant:"L",Escape:.0633,epitope:1,times_seen:1.6667,effect:-1.6425},{reference_site:"674",wildtype:"N",mutant:"M",Escape:.0138,epitope:1,times_seen:2,effect:-.7823},{reference_site:"674",wildtype:"N",mutant:"Q",Escape:.0191,epitope:1,times_seen:2,effect:-.1085},{reference_site:"674",wildtype:"N",mutant:"S",Escape:.0457,epitope:1,times_seen:2.3333,effect:-.4289},{reference_site:"674",wildtype:"N",mutant:"T",Escape:.0135,epitope:1,times_seen:1.3333,effect:-.2182},{reference_site:"674",wildtype:"N",mutant:"Y",Escape:-.0481,epitope:1,times_seen:3,effect:-.0952},{reference_site:"675",wildtype:"I",mutant:"L",Escape:-.0028,epitope:1,times_seen:2,effect:-.5997},{reference_site:"675",wildtype:"I",mutant:"M",Escape:-.0101,epitope:1,times_seen:1.6667,effect:-1.098},{reference_site:"675",wildtype:"I",mutant:"N",Escape:-.029,epitope:1,times_seen:1,effect:-1.7019},{reference_site:"676",wildtype:"S",mutant:"A",Escape:-.0323,epitope:1,times_seen:1,effect:-.5724},{reference_site:"676",wildtype:"S",mutant:"C",Escape:.0185,epitope:1,times_seen:1,effect:-1.0688},{reference_site:"676",wildtype:"S",mutant:"G",Escape:.0019,epitope:1,times_seen:1,effect:-1.5245},{reference_site:"676",wildtype:"S",mutant:"I",Escape:-.0891,epitope:1,times_seen:38.6667,effect:-.2829},{reference_site:"676",wildtype:"S",mutant:"M",Escape:-.0231,epitope:1,times_seen:2.6667,effect:-.4441},{reference_site:"676",wildtype:"S",mutant:"N",Escape:-.0288,epitope:1,times_seen:1.5,effect:-2.4894},{reference_site:"676",wildtype:"S",mutant:"R",Escape:.001,epitope:1,times_seen:1,effect:-2.1265},{reference_site:"676",wildtype:"S",mutant:"T",Escape:.0234,epitope:1,times_seen:1.6667,effect:-.2459},{reference_site:"676",wildtype:"S",mutant:"V",Escape:.0857,epitope:1,times_seen:2,effect:.0359},{reference_site:"677",wildtype:"Q",mutant:"A",Escape:-.0164,epitope:1,times_seen:1,effect:-.1718},{reference_site:"677",wildtype:"Q",mutant:"E",Escape:-.0421,epitope:1,times_seen:1.6667,effect:-.0797},{reference_site:"677",wildtype:"Q",mutant:"F",Escape:-.004,epitope:1,times_seen:3.6667,effect:-.5911},{reference_site:"677",wildtype:"Q",mutant:"H",Escape:.1838,epitope:1,times_seen:1,effect:.0426},{reference_site:"677",wildtype:"Q",mutant:"K",Escape:-.0133,epitope:1,times_seen:15.6667,effect:-.0131},{reference_site:"677",wildtype:"Q",mutant:"L",Escape:.1629,epitope:1,times_seen:1.6667,effect:-.3154},{reference_site:"677",wildtype:"Q",mutant:"M",Escape:-.0026,epitope:1,times_seen:4.5,effect:-.5156},{reference_site:"677",wildtype:"Q",mutant:"N",Escape:-.0096,epitope:1,times_seen:2.3333,effect:-.4723},{reference_site:"677",wildtype:"Q",mutant:"R",Escape:.0134,epitope:1,times_seen:1.6667,effect:-.0466},{reference_site:"677",wildtype:"Q",mutant:"T",Escape:-.0186,epitope:1,times_seen:4,effect:-.0528},{reference_site:"677",wildtype:"Q",mutant:"W",Escape:-.0373,epitope:1,times_seen:5,effect:-.2119},{reference_site:"677",wildtype:"Q",mutant:"Y",Escape:.0267,epitope:1,times_seen:3.3333,effect:-.6097},{reference_site:"678",wildtype:"W",mutant:"Q",Escape:.9153,epitope:1,times_seen:2,effect:-2.6753},{reference_site:"678",wildtype:"W",mutant:"R",Escape:.0066,epitope:1,times_seen:1,effect:-1.8995},{reference_site:"678",wildtype:"W",mutant:"*",Escape:.0572,epitope:1,times_seen:1,effect:-2.2765},{reference_site:"679",wildtype:"L",mutant:"M",Escape:-.1022,epitope:1,times_seen:15.3333,effect:-.8715},{reference_site:"679",wildtype:"L",mutant:"P",Escape:.031,epitope:1,times_seen:1,effect:-.1953},{reference_site:"680",wildtype:"W",mutant:"C",Escape:-.0263,epitope:1,times_seen:1,effect:-1.8006},{reference_site:"680",wildtype:"W",mutant:"E",Escape:.1585,epitope:1,times_seen:1,effect:-2.175},{reference_site:"680",wildtype:"W",mutant:"F",Escape:-.0225,epitope:1,times_seen:3.6667,effect:-.362},{reference_site:"680",wildtype:"W",mutant:"G",Escape:.0305,epitope:1,times_seen:1,effect:-1.9217},{reference_site:"680",wildtype:"W",mutant:"H",Escape:.0788,epitope:1,times_seen:1,effect:-1.746},{reference_site:"680",wildtype:"W",mutant:"K",Escape:.0754,epitope:1,times_seen:1,effect:-1.291},{reference_site:"680",wildtype:"W",mutant:"L",Escape:-.0093,epitope:1,times_seen:1.6667,effect:-1.756},{reference_site:"680",wildtype:"W",mutant:"N",Escape:-.0052,epitope:1,times_seen:1,effect:-.9327},{reference_site:"680",wildtype:"W",mutant:"R",Escape:.1731,epitope:1,times_seen:1.6667,effect:-1.9803},{reference_site:"680",wildtype:"W",mutant:"S",Escape:-.0098,epitope:1,times_seen:1.3333,effect:-.4697},{reference_site:"680",wildtype:"W",mutant:"Y",Escape:-.0295,epitope:1,times_seen:2,effect:.174},{reference_site:"680",wildtype:"W",mutant:"*",Escape:-1e-4,epitope:1,times_seen:1.3333,effect:-1.9368},{reference_site:"681",wildtype:"Y",mutant:"C",Escape:.0158,epitope:1,times_seen:1.5,effect:-2.527},{reference_site:"681",wildtype:"Y",mutant:"H",Escape:.0227,epitope:1,times_seen:1,effect:-1.0561},{reference_site:"681",wildtype:"Y",mutant:"S",Escape:.0415,epitope:1,times_seen:1,effect:-1.1555},{reference_site:"682",wildtype:"I",mutant:"C",Escape:-.004,epitope:1,times_seen:3,effect:-.0976},{reference_site:"682",wildtype:"I",mutant:"K",Escape:.3369,epitope:1,times_seen:3,effect:-2.6937},{reference_site:"682",wildtype:"I",mutant:"L",Escape:.0149,epitope:1,times_seen:2,effect:-.3336},{reference_site:"682",wildtype:"I",mutant:"M",Escape:.0131,epitope:1,times_seen:1,effect:-.1426},{reference_site:"682",wildtype:"I",mutant:"N",Escape:8e-4,epitope:1,times_seen:1.6667,effect:-1.4655},{reference_site:"682",wildtype:"I",mutant:"S",Escape:-.0122,epitope:1,times_seen:3.3333,effect:-.285},{reference_site:"682",wildtype:"I",mutant:"T",Escape:.1025,epitope:1,times_seen:8.6667,effect:-.178},{reference_site:"682",wildtype:"I",mutant:"V",Escape:-.0151,epitope:1,times_seen:2.6667,effect:-.1387},{reference_site:"682",wildtype:"I",mutant:"Y",Escape:.1528,epitope:1,times_seen:2,effect:-1.8247},{reference_site:"683",wildtype:"K",mutant:"E",Escape:1.2627,epitope:1,times_seen:2.3333,effect:-2.6798},{reference_site:"683",wildtype:"K",mutant:"H",Escape:.0755,epitope:1,times_seen:2,effect:-.3469},{reference_site:"683",wildtype:"K",mutant:"N",Escape:.0216,epitope:1,times_seen:1,effect:-1.6443},{reference_site:"683",wildtype:"K",mutant:"Q",Escape:-.0993,epitope:1,times_seen:10,effect:-.1206},{reference_site:"683",wildtype:"K",mutant:"R",Escape:.0156,epitope:1,times_seen:4.3333,effect:.0637},{reference_site:"683",wildtype:"K",mutant:"W",Escape:-.0084,epitope:1,times_seen:5,effect:-.5116},{reference_site:"683",wildtype:"K",mutant:"Y",Escape:-.038,epitope:1,times_seen:7,effect:-.2001},{reference_site:"684",wildtype:"I",mutant:"D",Escape:.0133,epitope:1,times_seen:1,effect:-3.1061},{reference_site:"684",wildtype:"I",mutant:"G",Escape:.0186,epitope:1,times_seen:9,effect:-.2576},{reference_site:"684",wildtype:"I",mutant:"H",Escape:.0013,epitope:1,times_seen:3,effect:-.695},{reference_site:"684",wildtype:"I",mutant:"K",Escape:.0063,epitope:1,times_seen:2.5,effect:-1.9445},{reference_site:"684",wildtype:"I",mutant:"L",Escape:.3529,epitope:1,times_seen:5.6667,effect:-.5322},{reference_site:"684",wildtype:"I",mutant:"M",Escape:.0105,epitope:1,times_seen:7,effect:-.1295},{reference_site:"684",wildtype:"I",mutant:"N",Escape:.0128,epitope:1,times_seen:3.3333,effect:-.7352},{reference_site:"684",wildtype:"I",mutant:"Q",Escape:-.009,epitope:1,times_seen:1,effect:-.5942},{reference_site:"684",wildtype:"I",mutant:"S",Escape:.1188,epitope:1,times_seen:4.3333,effect:-.74},{reference_site:"684",wildtype:"I",mutant:"T",Escape:-.005,epitope:1,times_seen:4.6667,effect:-.1897},{reference_site:"684",wildtype:"I",mutant:"V",Escape:.0567,epitope:1,times_seen:2.3333,effect:-.4143},{reference_site:"684",wildtype:"I",mutant:"W",Escape:-.008,epitope:1,times_seen:2.3333,effect:-.0585},{reference_site:"684",wildtype:"I",mutant:"Y",Escape:.0394,epitope:1,times_seen:6.5,effect:-.1515},{reference_site:"685",wildtype:"F",mutant:"A",Escape:.0748,epitope:1,times_seen:7.6667,effect:.0874},{reference_site:"685",wildtype:"F",mutant:"C",Escape:-.0438,epitope:1,times_seen:5,effect:-.3679},{reference_site:"685",wildtype:"F",mutant:"G",Escape:-.0333,epitope:1,times_seen:2.6667,effect:-.2154},{reference_site:"685",wildtype:"F",mutant:"H",Escape:-.004,epitope:1,times_seen:2,effect:-1.6417},{reference_site:"685",wildtype:"F",mutant:"I",Escape:-.0977,epitope:1,times_seen:13,effect:-.2104},{reference_site:"685",wildtype:"F",mutant:"L",Escape:-.0401,epitope:1,times_seen:4,effect:-.7769},{reference_site:"685",wildtype:"F",mutant:"M",Escape:7e-4,epitope:1,times_seen:3.6667,effect:-.3855},{reference_site:"685",wildtype:"F",mutant:"N",Escape:.0048,epitope:1,times_seen:5,effect:-1.5073},{reference_site:"685",wildtype:"F",mutant:"Q",Escape:-.0351,epitope:1,times_seen:2.6667,effect:-1.2098},{reference_site:"685",wildtype:"F",mutant:"S",Escape:.0182,epitope:1,times_seen:5.6667,effect:-.2129},{reference_site:"685",wildtype:"F",mutant:"T",Escape:-.0264,epitope:1,times_seen:5.3333,effect:-.5531},{reference_site:"685",wildtype:"F",mutant:"V",Escape:-.007,epitope:1,times_seen:3,effect:-.1749},{reference_site:"685",wildtype:"F",mutant:"W",Escape:.0276,epitope:1,times_seen:2.3333,effect:-.3561},{reference_site:"685",wildtype:"F",mutant:"Y",Escape:-.0074,epitope:1,times_seen:1,effect:-1.5292},{reference_site:"686",wildtype:"I",mutant:"C",Escape:-.0484,epitope:1,times_seen:2.6667,effect:-.4302},{reference_site:"686",wildtype:"I",mutant:"F",Escape:-.0107,epitope:1,times_seen:1,effect:-.7285},{reference_site:"686",wildtype:"I",mutant:"H",Escape:-.0219,epitope:1,times_seen:2,effect:-1.4079},{reference_site:"686",wildtype:"I",mutant:"L",Escape:-.0495,epitope:1,times_seen:3.6667,effect:-.1683},{reference_site:"686",wildtype:"I",mutant:"M",Escape:-.0447,epitope:1,times_seen:2,effect:-.9912},{reference_site:"686",wildtype:"I",mutant:"N",Escape:-.0388,epitope:1,times_seen:8,effect:-.3194},{reference_site:"686",wildtype:"I",mutant:"T",Escape:-.0123,epitope:1,times_seen:6.6667,effect:-.1578},{reference_site:"686",wildtype:"I",mutant:"V",Escape:.0342,epitope:1,times_seen:2.6667,effect:-.2312},{reference_site:"686",wildtype:"I",mutant:"W",Escape:-.0027,epitope:1,times_seen:2,effect:-1.0274},{reference_site:"686",wildtype:"I",mutant:"Y",Escape:-.0052,epitope:1,times_seen:8,effect:-1.0602},{reference_site:"686",wildtype:"I",mutant:"-",Escape:.1191,epitope:1,times_seen:1,effect:-3.0499},{reference_site:"687",wildtype:"I",mutant:"A",Escape:-.0193,epitope:1,times_seen:1,effect:-.5871},{reference_site:"687",wildtype:"I",mutant:"C",Escape:-.0275,epitope:1,times_seen:3,effect:-.3626},{reference_site:"687",wildtype:"I",mutant:"E",Escape:-.0044,epitope:1,times_seen:1,effect:-1.9212},{reference_site:"687",wildtype:"I",mutant:"F",Escape:-.0014,epitope:1,times_seen:10,effect:-.1845},{reference_site:"687",wildtype:"I",mutant:"H",Escape:.0647,epitope:1,times_seen:4,effect:-1.0013},{reference_site:"687",wildtype:"I",mutant:"L",Escape:-.0125,epitope:1,times_seen:1,effect:-.1086},{reference_site:"687",wildtype:"I",mutant:"M",Escape:-.0794,epitope:1,times_seen:5.6667,effect:-.1085},{reference_site:"687",wildtype:"I",mutant:"N",Escape:-.0081,epitope:1,times_seen:5.6667,effect:-.719},{reference_site:"687",wildtype:"I",mutant:"Q",Escape:-.0282,epitope:1,times_seen:1,effect:-1.2637},{reference_site:"687",wildtype:"I",mutant:"S",Escape:-.018,epitope:1,times_seen:3.6667,effect:-.2707},{reference_site:"687",wildtype:"I",mutant:"T",Escape:.0238,epitope:1,times_seen:3.6667,effect:-.5989},{reference_site:"687",wildtype:"I",mutant:"V",Escape:-.0271,epitope:1,times_seen:2,effect:-.3691},{reference_site:"687",wildtype:"I",mutant:"W",Escape:-.0095,epitope:1,times_seen:2.6667,effect:-.8043},{reference_site:"687",wildtype:"I",mutant:"Y",Escape:-.0147,epitope:1,times_seen:5.3333,effect:-.5155},{reference_site:"688",wildtype:"I",mutant:"C",Escape:-.0114,epitope:1,times_seen:3,effect:.0066},{reference_site:"688",wildtype:"I",mutant:"F",Escape:-.0505,epitope:1,times_seen:8,effect:-.1228},{reference_site:"688",wildtype:"I",mutant:"G",Escape:.0127,epitope:1,times_seen:1,effect:-.5267},{reference_site:"688",wildtype:"I",mutant:"L",Escape:-.015,epitope:1,times_seen:1,effect:-.1981},{reference_site:"688",wildtype:"I",mutant:"M",Escape:.022,epitope:1,times_seen:7.3333,effect:-.2285},{reference_site:"688",wildtype:"I",mutant:"N",Escape:-.0213,epitope:1,times_seen:4,effect:-1.0725},{reference_site:"688",wildtype:"I",mutant:"P",Escape:-.009,epitope:1,times_seen:1,effect:-1.9051},{reference_site:"688",wildtype:"I",mutant:"Q",Escape:-.0058,epitope:1,times_seen:1,effect:-.4871},{reference_site:"688",wildtype:"I",mutant:"S",Escape:-.0327,epitope:1,times_seen:2,effect:-.0448},{reference_site:"688",wildtype:"I",mutant:"T",Escape:-.0512,epitope:1,times_seen:6.6667,effect:-.2831},{reference_site:"688",wildtype:"I",mutant:"V",Escape:.0085,epitope:1,times_seen:1,effect:-.2817},{reference_site:"688",wildtype:"I",mutant:"W",Escape:-.0174,epitope:1,times_seen:1,effect:-.4863},{reference_site:"689",wildtype:"V",mutant:"A",Escape:-.0069,epitope:1,times_seen:1,effect:.828},{reference_site:"689",wildtype:"V",mutant:"C",Escape:-.0226,epitope:1,times_seen:1.3333,effect:.3638},{reference_site:"689",wildtype:"V",mutant:"E",Escape:.9105,epitope:1,times_seen:2,effect:-2.7891},{reference_site:"689",wildtype:"V",mutant:"F",Escape:-.0137,epitope:1,times_seen:3.6667,effect:-.3416},{reference_site:"689",wildtype:"V",mutant:"G",Escape:.009,epitope:1,times_seen:1,effect:-.1896},{reference_site:"689",wildtype:"V",mutant:"I",Escape:-.0102,epitope:1,times_seen:3.6667,effect:-.2507},{reference_site:"689",wildtype:"V",mutant:"L",Escape:-.0617,epitope:1,times_seen:5,effect:-.2446},{reference_site:"689",wildtype:"V",mutant:"M",Escape:.0738,epitope:1,times_seen:14.3333,effect:-.0752},{reference_site:"689",wildtype:"V",mutant:"N",Escape:1e-4,epitope:1,times_seen:3,effect:-.6148},{reference_site:"689",wildtype:"V",mutant:"Q",Escape:-.0044,epitope:1,times_seen:3,effect:-.6676},{reference_site:"689",wildtype:"V",mutant:"S",Escape:-.0122,epitope:1,times_seen:2.3333,effect:.0392},{reference_site:"689",wildtype:"V",mutant:"T",Escape:-.0113,epitope:1,times_seen:1,effect:-.1061},{reference_site:"689",wildtype:"V",mutant:"W",Escape:-8e-4,epitope:1,times_seen:3.3333,effect:-.2591},{reference_site:"689",wildtype:"V",mutant:"Y",Escape:.0033,epitope:1,times_seen:2.3333,effect:-.1622},{reference_site:"690",wildtype:"G",mutant:"A",Escape:.0397,epitope:1,times_seen:6.3333,effect:-.2575},{reference_site:"690",wildtype:"G",mutant:"C",Escape:-.0764,epitope:1,times_seen:17,effect:-.0808},{reference_site:"690",wildtype:"G",mutant:"D",Escape:.0017,epitope:1,times_seen:1,effect:-2.4566},{reference_site:"690",wildtype:"G",mutant:"E",Escape:-.0254,epitope:1,times_seen:1.5,effect:-2.0571},{reference_site:"690",wildtype:"G",mutant:"F",Escape:-.0333,epitope:1,times_seen:1.6667,effect:-.4337},{reference_site:"690",wildtype:"G",mutant:"H",Escape:.0305,epitope:1,times_seen:1,effect:-2.014},{reference_site:"690",wildtype:"G",mutant:"I",Escape:0,epitope:1,times_seen:2.3333,effect:-.2106},{reference_site:"690",wildtype:"G",mutant:"L",Escape:-.0126,epitope:1,times_seen:1,effect:-.0834},{reference_site:"690",wildtype:"G",mutant:"M",Escape:.1662,epitope:1,times_seen:2.5,effect:-.0929},{reference_site:"690",wildtype:"G",mutant:"N",Escape:-.0293,epitope:1,times_seen:2,effect:-1.2874},{reference_site:"690",wildtype:"G",mutant:"P",Escape:-.0232,epitope:1,times_seen:3,effect:-.2932},{reference_site:"690",wildtype:"G",mutant:"S",Escape:-.0516,epitope:1,times_seen:7.3333,effect:.0275},{reference_site:"690",wildtype:"G",mutant:"T",Escape:-.0155,epitope:1,times_seen:1.6667,effect:-.005},{reference_site:"690",wildtype:"G",mutant:"V",Escape:-.0074,epitope:1,times_seen:6.3333,effect:-.2052},{reference_site:"690",wildtype:"G",mutant:"W",Escape:.0113,epitope:1,times_seen:2,effect:-.4728},{reference_site:"691",wildtype:"G",mutant:"A",Escape:-.0071,epitope:1,times_seen:9.3333,effect:.1249},{reference_site:"691",wildtype:"G",mutant:"C",Escape:-.0799,epitope:1,times_seen:16.6667,effect:-.0459},{reference_site:"691",wildtype:"G",mutant:"D",Escape:-.0433,epitope:1,times_seen:1.3333,effect:-2.2368},{reference_site:"691",wildtype:"G",mutant:"E",Escape:.0321,epitope:1,times_seen:1,effect:-2.4238},{reference_site:"691",wildtype:"G",mutant:"F",Escape:-.0097,epitope:1,times_seen:9.6667,effect:-.0296},{reference_site:"691",wildtype:"G",mutant:"H",Escape:-.0081,epitope:1,times_seen:1,effect:-.5296},{reference_site:"691",wildtype:"G",mutant:"I",Escape:-.0033,epitope:1,times_seen:2.6667,effect:-.1279},{reference_site:"691",wildtype:"G",mutant:"K",Escape:.0109,epitope:1,times_seen:1,effect:-1.3178},{reference_site:"691",wildtype:"G",mutant:"M",Escape:.018,epitope:1,times_seen:2,effect:-1.0825},{reference_site:"691",wildtype:"G",mutant:"N",Escape:.032,epitope:1,times_seen:5.6667,effect:7e-4},{reference_site:"691",wildtype:"G",mutant:"P",Escape:.0365,epitope:1,times_seen:1,effect:-.6826},{reference_site:"691",wildtype:"G",mutant:"Q",Escape:.0098,epitope:1,times_seen:1,effect:-.4206},{reference_site:"691",wildtype:"G",mutant:"S",Escape:.1066,epitope:1,times_seen:8.6667,effect:.0292},{reference_site:"691",wildtype:"G",mutant:"T",Escape:.0236,epitope:1,times_seen:4.3333,effect:-.1095},{reference_site:"691",wildtype:"G",mutant:"V",Escape:-.086,epitope:1,times_seen:9.6667,effect:-.0271},{reference_site:"691",wildtype:"G",mutant:"W",Escape:.0093,epitope:1,times_seen:1,effect:.2501},{reference_site:"691",wildtype:"G",mutant:"Y",Escape:.0928,epitope:1,times_seen:4.6667,effect:-1.1145},{reference_site:"692",wildtype:"L",mutant:"C",Escape:-.0024,epitope:1,times_seen:1,effect:-.3882},{reference_site:"692",wildtype:"L",mutant:"F",Escape:.0109,epitope:1,times_seen:2,effect:.0925},{reference_site:"692",wildtype:"L",mutant:"G",Escape:.0181,epitope:1,times_seen:1,effect:.1656},{reference_site:"692",wildtype:"L",mutant:"H",Escape:.0057,epitope:1,times_seen:1,effect:-1.1714},{reference_site:"692",wildtype:"L",mutant:"I",Escape:.0036,epitope:1,times_seen:2,effect:-1.2411},{reference_site:"692",wildtype:"L",mutant:"K",Escape:.2265,epitope:1,times_seen:2,effect:-1.816},{reference_site:"692",wildtype:"L",mutant:"M",Escape:.0739,epitope:1,times_seen:16.3333,effect:.0525},{reference_site:"692",wildtype:"L",mutant:"P",Escape:3e-4,epitope:1,times_seen:3,effect:-1.0736},{reference_site:"692",wildtype:"L",mutant:"Q",Escape:.05,epitope:1,times_seen:2.6667,effect:-1.1371},{reference_site:"692",wildtype:"L",mutant:"S",Escape:.0096,epitope:1,times_seen:1,effect:-.3475},{reference_site:"692",wildtype:"L",mutant:"T",Escape:.0276,epitope:1,times_seen:1.5,effect:-.8464},{reference_site:"692",wildtype:"L",mutant:"V",Escape:-.0406,epitope:1,times_seen:9,effect:-.123},{reference_site:"692",wildtype:"L",mutant:"W",Escape:.0125,epitope:1,times_seen:2,effect:-1.0989},{reference_site:"692",wildtype:"L",mutant:"Y",Escape:-.0192,epitope:1,times_seen:1,effect:-.8736},{reference_site:"693",wildtype:"I",mutant:"G",Escape:-.0747,epitope:1,times_seen:5,effect:-.1792},{reference_site:"693",wildtype:"I",mutant:"S",Escape:.0095,epitope:1,times_seen:1,effect:-.0076},{reference_site:"693",wildtype:"I",mutant:"V",Escape:.0412,epitope:1,times_seen:1,effect:-.9047},{reference_site:"694",wildtype:"G",mutant:"A",Escape:-.0209,epitope:1,times_seen:1,effect:-.4579},{reference_site:"694",wildtype:"G",mutant:"C",Escape:.0446,epitope:1,times_seen:13.3333,effect:-.1636},{reference_site:"694",wildtype:"G",mutant:"D",Escape:-.0325,epitope:1,times_seen:2,effect:-2.1469},{reference_site:"694",wildtype:"G",mutant:"F",Escape:-.0505,epitope:1,times_seen:4.6667,effect:-.1511},{reference_site:"694",wildtype:"G",mutant:"H",Escape:.057,epitope:1,times_seen:2,effect:-1.681},{reference_site:"694",wildtype:"G",mutant:"I",Escape:-.0426,epitope:1,times_seen:6.3333,effect:-.1358},{reference_site:"694",wildtype:"G",mutant:"L",Escape:.0069,epitope:1,times_seen:3,effect:.0724},{reference_site:"694",wildtype:"G",mutant:"M",Escape:-.012,epitope:1,times_seen:1.6667,effect:.2239},{reference_site:"694",wildtype:"G",mutant:"N",Escape:-.0589,epitope:1,times_seen:1.6667,effect:-.8151},{reference_site:"694",wildtype:"G",mutant:"P",Escape:.0189,epitope:1,times_seen:1,effect:-.8975},{reference_site:"694",wildtype:"G",mutant:"Q",Escape:-.0212,epitope:1,times_seen:1,effect:-1.1807},{reference_site:"694",wildtype:"G",mutant:"S",Escape:.0152,epitope:1,times_seen:7.3333,effect:.0621},{reference_site:"694",wildtype:"G",mutant:"T",Escape:-.0168,epitope:1,times_seen:3.3333,effect:.0603},{reference_site:"694",wildtype:"G",mutant:"V",Escape:.0159,epitope:1,times_seen:10.6667,effect:-.0904},{reference_site:"694",wildtype:"G",mutant:"W",Escape:.0912,epitope:1,times_seen:4,effect:-.3688},{reference_site:"695",wildtype:"L",mutant:"A",Escape:-.0138,epitope:1,times_seen:1,effect:.0116},{reference_site:"695",wildtype:"L",mutant:"C",Escape:.0548,epitope:1,times_seen:2.6667,effect:-.0346},{reference_site:"695",wildtype:"L",mutant:"E",Escape:.0681,epitope:1,times_seen:1,effect:-1.1158},{reference_site:"695",wildtype:"L",mutant:"F",Escape:-.0205,epitope:1,times_seen:5,effect:-.0791},{reference_site:"695",wildtype:"L",mutant:"H",Escape:.0185,epitope:1,times_seen:3,effect:-.8746},{reference_site:"695",wildtype:"L",mutant:"I",Escape:.3869,epitope:1,times_seen:2.6667,effect:.1645},{reference_site:"695",wildtype:"L",mutant:"K",Escape:.0167,epitope:1,times_seen:1,effect:-1.5982},{reference_site:"695",wildtype:"L",mutant:"M",Escape:.0041,epitope:1,times_seen:19,effect:.0198},{reference_site:"695",wildtype:"L",mutant:"N",Escape:.0186,epitope:1,times_seen:3,effect:-.714},{reference_site:"695",wildtype:"L",mutant:"P",Escape:.0094,epitope:1,times_seen:4.6667,effect:-1.2471},{reference_site:"695",wildtype:"L",mutant:"Q",Escape:-.0271,epitope:1,times_seen:7.6667,effect:-.3505},{reference_site:"695",wildtype:"L",mutant:"S",Escape:-.0016,epitope:1,times_seen:2,effect:-.0015},{reference_site:"695",wildtype:"L",mutant:"V",Escape:-.0202,epitope:1,times_seen:4.3333,effect:-.1887},{reference_site:"695",wildtype:"L",mutant:"W",Escape:.0252,epitope:1,times_seen:5,effect:-.1065},{reference_site:"696",wildtype:"R",mutant:"C",Escape:.0399,epitope:1,times_seen:1.3333,effect:-.997},{reference_site:"696",wildtype:"R",mutant:"D",Escape:.006,epitope:1,times_seen:1,effect:-1.1982},{reference_site:"696",wildtype:"R",mutant:"G",Escape:-.0134,epitope:1,times_seen:1.6667,effect:-1.2486},{reference_site:"696",wildtype:"R",mutant:"H",Escape:-.025,epitope:1,times_seen:1,effect:-1.274},{reference_site:"696",wildtype:"R",mutant:"I",Escape:-.0339,epitope:1,times_seen:6,effect:-.9338},{reference_site:"696",wildtype:"R",mutant:"K",Escape:-.0848,epitope:1,times_seen:16.6667,effect:-.0411},{reference_site:"696",wildtype:"R",mutant:"P",Escape:.0298,epitope:1,times_seen:1,effect:.1019},{reference_site:"696",wildtype:"R",mutant:"S",Escape:4e-4,epitope:1,times_seen:1,effect:-1.3759},{reference_site:"696",wildtype:"R",mutant:"W",Escape:-.016,epitope:1,times_seen:1,effect:-2.1064},{reference_site:"696",wildtype:"R",mutant:"Y",Escape:-.0824,epitope:1,times_seen:3.6667,effect:-1.0459},{reference_site:"697",wildtype:"I",mutant:"A",Escape:-.0616,epitope:1,times_seen:2,effect:-.4066},{reference_site:"697",wildtype:"I",mutant:"C",Escape:-.0353,epitope:1,times_seen:4.6667,effect:.0114},{reference_site:"697",wildtype:"I",mutant:"F",Escape:-.0447,epitope:1,times_seen:15,effect:.0644},{reference_site:"697",wildtype:"I",mutant:"G",Escape:-.0177,epitope:1,times_seen:1.5,effect:-.2751},{reference_site:"697",wildtype:"I",mutant:"L",Escape:.0418,epitope:1,times_seen:1,effect:-.3219},{reference_site:"697",wildtype:"I",mutant:"M",Escape:-.0243,epitope:1,times_seen:7.6667,effect:.0478},{reference_site:"697",wildtype:"I",mutant:"S",Escape:-.0451,epitope:1,times_seen:16.3333,effect:-.1816},{reference_site:"697",wildtype:"I",mutant:"T",Escape:-.0114,epitope:1,times_seen:8,effect:-.2923},{reference_site:"697",wildtype:"I",mutant:"V",Escape:5e-4,epitope:1,times_seen:2.3333,effect:-.3481},{reference_site:"697",wildtype:"I",mutant:"W",Escape:.0332,epitope:1,times_seen:1,effect:-1.0974},{reference_site:"698",wildtype:"V",mutant:"A",Escape:.0839,epitope:1,times_seen:6.3333,effect:-.1978},{reference_site:"698",wildtype:"V",mutant:"C",Escape:.0064,epitope:1,times_seen:3.6667,effect:-.129},{reference_site:"698",wildtype:"V",mutant:"F",Escape:-.0145,epitope:1,times_seen:3,effect:-.195},{reference_site:"698",wildtype:"V",mutant:"G",Escape:-.0161,epitope:1,times_seen:1,effect:.1718},{reference_site:"698",wildtype:"V",mutant:"H",Escape:.8114,epitope:1,times_seen:1,effect:-1.4519},{reference_site:"698",wildtype:"V",mutant:"I",Escape:-.0073,epitope:1,times_seen:4,effect:-.1179},{reference_site:"698",wildtype:"V",mutant:"L",Escape:-.0907,epitope:1,times_seen:6.3333,effect:-.0988},{reference_site:"698",wildtype:"V",mutant:"M",Escape:-.0317,epitope:1,times_seen:12,effect:-.312},{reference_site:"698",wildtype:"V",mutant:"N",Escape:.6201,epitope:1,times_seen:3,effect:-1.1721},{reference_site:"698",wildtype:"V",mutant:"P",Escape:-.0661,epitope:1,times_seen:2,effect:-.6415},{reference_site:"698",wildtype:"V",mutant:"S",Escape:-.0051,epitope:1,times_seen:2,effect:-.713},{reference_site:"698",wildtype:"V",mutant:"T",Escape:.0161,epitope:1,times_seen:1,effect:-.3665},{reference_site:"698",wildtype:"V",mutant:"W",Escape:-.0712,epitope:1,times_seen:7,effect:-.2121},{reference_site:"698",wildtype:"V",mutant:"Y",Escape:.3885,epitope:1,times_seen:4,effect:-.7636},{reference_site:"699",wildtype:"F",mutant:"A",Escape:-1e-4,epitope:1,times_seen:2.3333,effect:-.4082},{reference_site:"699",wildtype:"F",mutant:"C",Escape:.0373,epitope:1,times_seen:13.6667,effect:-.1132},{reference_site:"699",wildtype:"F",mutant:"D",Escape:.0381,epitope:1,times_seen:2.6667,effect:-1.4165},{reference_site:"699",wildtype:"F",mutant:"E",Escape:.0897,epitope:1,times_seen:2.6667,effect:-.7818},{reference_site:"699",wildtype:"F",mutant:"G",Escape:.0215,epitope:1,times_seen:4,effect:-.5927},{reference_site:"699",wildtype:"F",mutant:"H",Escape:.0312,epitope:1,times_seen:1.6667,effect:-.333},{reference_site:"699",wildtype:"F",mutant:"I",Escape:-.1051,epitope:1,times_seen:11,effect:-.206},{reference_site:"699",wildtype:"F",mutant:"K",Escape:.0137,epitope:1,times_seen:2.3333,effect:-.2861},{reference_site:"699",wildtype:"F",mutant:"L",Escape:-.0474,epitope:1,times_seen:6.6667,effect:-.0804},{reference_site:"699",wildtype:"F",mutant:"M",Escape:-.0614,epitope:1,times_seen:3.6667,effect:.2351},{reference_site:"699",wildtype:"F",mutant:"N",Escape:.0241,epitope:1,times_seen:2,effect:.001},{reference_site:"699",wildtype:"F",mutant:"P",Escape:.0269,epitope:1,times_seen:1.6667,effect:-.4508},{reference_site:"699",wildtype:"F",mutant:"Q",Escape:-.0277,epitope:1,times_seen:1,effect:-.5306},{reference_site:"699",wildtype:"F",mutant:"R",Escape:.0614,epitope:1,times_seen:1.3333,effect:-.1657},{reference_site:"699",wildtype:"F",mutant:"S",Escape:.0253,epitope:1,times_seen:7.3333,effect:-.3471},{reference_site:"699",wildtype:"F",mutant:"T",Escape:.0033,epitope:1,times_seen:2.6667,effect:-.5772},{reference_site:"699",wildtype:"F",mutant:"V",Escape:.0621,epitope:1,times_seen:7,effect:.137},{reference_site:"699",wildtype:"F",mutant:"W",Escape:-.1474,epitope:1,times_seen:5.3333,effect:-.1278},{reference_site:"699",wildtype:"F",mutant:"Y",Escape:-.055,epitope:1,times_seen:8.3333,effect:-.056},{reference_site:"700",wildtype:"A",mutant:"C",Escape:-.0011,epitope:1,times_seen:3.3333,effect:-.0431},{reference_site:"700",wildtype:"A",mutant:"D",Escape:-.0307,epitope:1,times_seen:11.6667,effect:-1.0796},{reference_site:"700",wildtype:"A",mutant:"E",Escape:-.0697,epitope:1,times_seen:6.3333,effect:-.2345},{reference_site:"700",wildtype:"A",mutant:"F",Escape:.034,epitope:1,times_seen:9.3333,effect:.0593},{reference_site:"700",wildtype:"A",mutant:"G",Escape:-.004,epitope:1,times_seen:8.3333,effect:-.0073},{reference_site:"700",wildtype:"A",mutant:"H",Escape:-.0213,epitope:1,times_seen:4.6667,effect:-.0594},{reference_site:"700",wildtype:"A",mutant:"I",Escape:-.0246,epitope:1,times_seen:4.3333,effect:-.0335},{reference_site:"700",wildtype:"A",mutant:"K",Escape:.1094,epitope:1,times_seen:5.3333,effect:-.2987},{reference_site:"700",wildtype:"A",mutant:"L",Escape:.002,epitope:1,times_seen:8,effect:-.2165},{reference_site:"700",wildtype:"A",mutant:"M",Escape:.0216,epitope:1,times_seen:8.6667,effect:.0891},{reference_site:"700",wildtype:"A",mutant:"N",Escape:-.0596,epitope:1,times_seen:11,effect:-.2957},{reference_site:"700",wildtype:"A",mutant:"P",Escape:-.055,epitope:1,times_seen:11,effect:-.7091},{reference_site:"700",wildtype:"A",mutant:"Q",Escape:-.0272,epitope:1,times_seen:3,effect:-.3964},{reference_site:"700",wildtype:"A",mutant:"R",Escape:3e-4,epitope:1,times_seen:1.5,effect:-.4751},{reference_site:"700",wildtype:"A",mutant:"S",Escape:-.0564,epitope:1,times_seen:19.6667,effect:-.112},{reference_site:"700",wildtype:"A",mutant:"T",Escape:-.0349,epitope:1,times_seen:16,effect:.0029},{reference_site:"700",wildtype:"A",mutant:"V",Escape:.0066,epitope:1,times_seen:9,effect:-8e-4},{reference_site:"700",wildtype:"A",mutant:"W",Escape:-.0485,epitope:1,times_seen:2.3333,effect:.305},{reference_site:"700",wildtype:"A",mutant:"Y",Escape:-.0337,epitope:1,times_seen:6.3333,effect:-.2405},{reference_site:"700",wildtype:"A",mutant:"-",Escape:-.0111,epitope:1,times_seen:1.5,effect:-.1776},{reference_site:"701",wildtype:"V",mutant:"A",Escape:.0061,epitope:1,times_seen:1,effect:-.6037},{reference_site:"701",wildtype:"V",mutant:"C",Escape:.0104,epitope:1,times_seen:2,effect:-.5953},{reference_site:"701",wildtype:"V",mutant:"F",Escape:.0344,epitope:1,times_seen:6.6667,effect:-.3755},{reference_site:"701",wildtype:"V",mutant:"G",Escape:-.0182,epitope:1,times_seen:2,effect:-.5558},{reference_site:"701",wildtype:"V",mutant:"I",Escape:-.0291,epitope:1,times_seen:3.6667,effect:-.0669},{reference_site:"701",wildtype:"V",mutant:"L",Escape:-.0146,epitope:1,times_seen:13.6667,effect:-.1593},{reference_site:"701",wildtype:"V",mutant:"M",Escape:-.0334,epitope:1,times_seen:20.3333,effect:.0666},{reference_site:"701",wildtype:"V",mutant:"S",Escape:-.0198,epitope:1,times_seen:6,effect:-.068},{reference_site:"701",wildtype:"V",mutant:"T",Escape:-.0127,epitope:1,times_seen:3,effect:-.171},{reference_site:"701",wildtype:"V",mutant:"W",Escape:-.0148,epitope:1,times_seen:3.3333,effect:-.468},{reference_site:"701",wildtype:"V",mutant:"-",Escape:-.009,epitope:1,times_seen:1.5,effect:-.1776},{reference_site:"702",wildtype:"L",mutant:"A",Escape:-.022,epitope:1,times_seen:2,effect:-.2732},{reference_site:"702",wildtype:"L",mutant:"C",Escape:.01,epitope:1,times_seen:2.6667,effect:-.2802},{reference_site:"702",wildtype:"L",mutant:"D",Escape:.1034,epitope:1,times_seen:1,effect:-1.2452},{reference_site:"702",wildtype:"L",mutant:"E",Escape:-.0391,epitope:1,times_seen:4,effect:-.9524},{reference_site:"702",wildtype:"L",mutant:"F",Escape:-.0124,epitope:1,times_seen:4.6667,effect:-.0868},{reference_site:"702",wildtype:"L",mutant:"G",Escape:-.0378,epitope:1,times_seen:2,effect:-.1122},{reference_site:"702",wildtype:"L",mutant:"H",Escape:-.003,epitope:1,times_seen:11.6667,effect:-1e-4},{reference_site:"702",wildtype:"L",mutant:"I",Escape:-.0115,epitope:1,times_seen:2.6667,effect:-.0367},{reference_site:"702",wildtype:"L",mutant:"K",Escape:-.0496,epitope:1,times_seen:11.6667,effect:.0604},{reference_site:"702",wildtype:"L",mutant:"M",Escape:.0047,epitope:1,times_seen:19.6667,effect:-4e-4},{reference_site:"702",wildtype:"L",mutant:"N",Escape:-.07,epitope:1,times_seen:5,effect:-.1967},{reference_site:"702",wildtype:"L",mutant:"P",Escape:.0068,epitope:1,times_seen:5.6667,effect:-.5205},{reference_site:"702",wildtype:"L",mutant:"Q",Escape:-.1191,epitope:1,times_seen:15.6667,effect:-.092},{reference_site:"702",wildtype:"L",mutant:"R",Escape:-.0023,epitope:1,times_seen:19.3333,effect:.0529},{reference_site:"702",wildtype:"L",mutant:"S",Escape:.0056,epitope:1,times_seen:2.6667,effect:-.2378},{reference_site:"702",wildtype:"L",mutant:"T",Escape:-.0611,epitope:1,times_seen:2.3333,effect:-.3969},{reference_site:"702",wildtype:"L",mutant:"V",Escape:.0168,epitope:1,times_seen:13.3333,effect:.1365},{reference_site:"702",wildtype:"L",mutant:"W",Escape:.0798,epitope:1,times_seen:9.6667,effect:.136},{reference_site:"702",wildtype:"L",mutant:"Y",Escape:-.0332,epitope:1,times_seen:4,effect:-.1229},{reference_site:"702",wildtype:"L",mutant:"-",Escape:-.0098,epitope:1,times_seen:1.5,effect:-.1776},{reference_site:"703",wildtype:"S",mutant:"C",Escape:.0126,epitope:1,times_seen:1,effect:-.5976},{reference_site:"703",wildtype:"S",mutant:"I",Escape:-.0217,epitope:1,times_seen:5,effect:-.0436},{reference_site:"703",wildtype:"S",mutant:"R",Escape:.0099,epitope:1,times_seen:2,effect:.1066},{reference_site:"704",wildtype:"V",mutant:"A",Escape:.0038,epitope:1,times_seen:1,effect:.1639},{reference_site:"704",wildtype:"V",mutant:"L",Escape:.0102,epitope:1,times_seen:4.6667,effect:.0395},{reference_site:"704",wildtype:"V",mutant:"M",Escape:-.0028,epitope:1,times_seen:5.3333,effect:-.1667},{reference_site:"705",wildtype:"I",mutant:"F",Escape:5e-4,epitope:1,times_seen:1,effect:.1883},{reference_site:"706",wildtype:"N",mutant:"D",Escape:-.001,epitope:1,times_seen:2,effect:-.0828},{reference_site:"706",wildtype:"N",mutant:"Y",Escape:.0062,epitope:1,times_seen:1,effect:-.8912},{reference_site:"707",wildtype:"R",mutant:"G",Escape:-.0157,epitope:1,times_seen:1,effect:.0355},{reference_site:"707",wildtype:"R",mutant:"I",Escape:-.0171,epitope:1,times_seen:7,effect:-.5872},{reference_site:"707",wildtype:"R",mutant:"K",Escape:-.0025,epitope:1,times_seen:1.3333,effect:-.0679},{reference_site:"708",wildtype:"V",mutant:"A",Escape:-.0014,epitope:1,times_seen:1,effect:-.1852},{reference_site:"708",wildtype:"V",mutant:"M",Escape:-.0012,epitope:1,times_seen:1,effect:.6237},{reference_site:"708",wildtype:"V",mutant:"S",Escape:.0015,epitope:1,times_seen:1,effect:-.1529},{reference_site:"709",wildtype:"R",mutant:"A",Escape:.0025,epitope:1,times_seen:1,effect:-.1529},{reference_site:"709",wildtype:"R",mutant:"I",Escape:-.0095,epitope:1,times_seen:8,effect:-.5748},{reference_site:"709",wildtype:"R",mutant:"K",Escape:4e-4,epitope:1,times_seen:1.6667,effect:-.296},{reference_site:"710",wildtype:"Q",mutant:"E",Escape:-.0023,epitope:1,times_seen:1.3333,effect:-.0577},{reference_site:"710",wildtype:"Q",mutant:"H",Escape:-.0018,epitope:1,times_seen:15,effect:-.0679},{reference_site:"710",wildtype:"Q",mutant:"K",Escape:-.0027,epitope:1,times_seen:1.3333,effect:-.4912},{reference_site:"710",wildtype:"Q",mutant:"R",Escape:-.0053,epitope:1,times_seen:4,effect:-.2413},{reference_site:"710",wildtype:"Q",mutant:"*",Escape:.0412,epitope:1,times_seen:2.5,effect:-1.5225},{reference_site:"711",wildtype:"G",mutant:"C",Escape:-.0209,epitope:1,times_seen:7,effect:-.5632},{reference_site:"711",wildtype:"G",mutant:"D",Escape:.0126,epitope:1,times_seen:4.3333,effect:-.3582},{reference_site:"711",wildtype:"G",mutant:"R",Escape:-.013,epitope:1,times_seen:1,effect:-.294},{reference_site:"711",wildtype:"G",mutant:"S",Escape:-.0119,epitope:1,times_seen:1,effect:-.6193},{reference_site:"711",wildtype:"G",mutant:"V",Escape:-.0144,epitope:1,times_seen:2,effect:-.2651},{reference_site:"712",wildtype:"Y",mutant:"C",Escape:-.0036,epitope:1,times_seen:1,effect:.2246},{reference_site:"712",wildtype:"Y",mutant:"*",Escape:-.0064,epitope:1,times_seen:1,effect:-1.4764},{reference_site:"713",wildtype:"S",mutant:"G",Escape:-.0043,epitope:1,times_seen:2.3333,effect:-.1172},{reference_site:"713",wildtype:"S",mutant:"I",Escape:.0484,epitope:1,times_seen:6.6667,effect:-.0013},{reference_site:"713",wildtype:"S",mutant:"N",Escape:-.0019,epitope:1,times_seen:1.6667,effect:-.2938},{reference_site:"713",wildtype:"S",mutant:"R",Escape:-.0022,epitope:1,times_seen:1.6667,effect:.0794},{reference_site:"714",wildtype:"P",mutant:"H",Escape:.0494,epitope:1,times_seen:9.3333,effect:-.1806},{reference_site:"714",wildtype:"P",mutant:"L",Escape:-.0346,epitope:1,times_seen:2.3333,effect:-.001},{reference_site:"714",wildtype:"P",mutant:"S",Escape:-.0097,epitope:1,times_seen:1,effect:-.9888},{reference_site:"714",wildtype:"P",mutant:"T",Escape:-.0361,epitope:1,times_seen:8,effect:-.0064},{reference_site:"715",wildtype:"L",mutant:"M",Escape:.0083,epitope:1,times_seen:1.3333,effect:-.3901},{reference_site:"715",wildtype:"L",mutant:"P",Escape:-.0226,epitope:1,times_seen:7.6667,effect:-.4802},{reference_site:"716",wildtype:"S",mutant:"G",Escape:.0046,epitope:1,times_seen:1.6667,effect:.3388},{reference_site:"716",wildtype:"S",mutant:"I",Escape:-.0452,epitope:1,times_seen:2.3333,effect:.1463},{reference_site:"716",wildtype:"S",mutant:"N",Escape:.0033,epitope:1,times_seen:3,effect:.2349},{reference_site:"716",wildtype:"S",mutant:"R",Escape:-.0059,epitope:1,times_seen:3.3333,effect:-.0846},{reference_site:"716",wildtype:"S",mutant:"T",Escape:.0849,epitope:1,times_seen:1,effect:-.0153},{reference_site:"717",wildtype:"F",mutant:"L",Escape:.0975,epitope:1,times_seen:3.6667,effect:.2219},{reference_site:"717",wildtype:"F",mutant:"S",Escape:.9106,epitope:1,times_seen:1.6667,effect:-.23},{reference_site:"718",wildtype:"Q",mutant:"H",Escape:-.0117,epitope:1,times_seen:3.3333,effect:6e-4},{reference_site:"718",wildtype:"Q",mutant:"K",Escape:.018,epitope:1,times_seen:8.6667,effect:.0559},{reference_site:"718",wildtype:"Q",mutant:"R",Escape:-.0375,epitope:1,times_seen:1.3333,effect:-.4309},{reference_site:"719",wildtype:"T",mutant:"A",Escape:.0833,epitope:1,times_seen:1,effect:-.4942},{reference_site:"719",wildtype:"T",mutant:"I",Escape:-.0027,epitope:1,times_seen:1,effect:.16},{reference_site:"719",wildtype:"T",mutant:"N",Escape:-.0028,epitope:1,times_seen:1.3333,effect:-.4177},{reference_site:"719",wildtype:"T",mutant:"S",Escape:.1983,epitope:1,times_seen:1,effect:-.7386},{reference_site:"720",wildtype:"R",mutant:"G",Escape:.0052,epitope:1,times_seen:1,effect:.2539},{reference_site:"720",wildtype:"R",mutant:"I",Escape:-.0014,epitope:1,times_seen:2.3333,effect:-.1203},{reference_site:"720",wildtype:"R",mutant:"K",Escape:-.0213,epitope:1,times_seen:4,effect:.5775},{reference_site:"721",wildtype:"T",mutant:"I",Escape:.0328,epitope:1,times_seen:3,effect:.3759},{reference_site:"721",wildtype:"T",mutant:"K",Escape:-.015,epitope:1,times_seen:1,effect:-.0909},{reference_site:"721",wildtype:"T",mutant:"R",Escape:.0132,epitope:1,times_seen:1,effect:.1358},{reference_site:"722",wildtype:"P",mutant:"H",Escape:.0934,epitope:1,times_seen:4.6667,effect:-.0873},{reference_site:"722",wildtype:"P",mutant:"L",Escape:-.0184,epitope:1,times_seen:2,effect:-.7028},{reference_site:"722",wildtype:"P",mutant:"R",Escape:.0068,epitope:1,times_seen:1,effect:.193},{reference_site:"722",wildtype:"P",mutant:"S",Escape:-.0156,epitope:1,times_seen:1,effect:-.5887},{reference_site:"722",wildtype:"P",mutant:"T",Escape:.2613,epitope:1,times_seen:2,effect:-.5473},{reference_site:"723",wildtype:"N",mutant:"K",Escape:-.0025,epitope:1,times_seen:1,effect:-.4333},{reference_site:"724",wildtype:"P",mutant:"H",Escape:.0138,epitope:1,times_seen:10.3333,effect:-.1397},{reference_site:"724",wildtype:"P",mutant:"L",Escape:.0922,epitope:1,times_seen:1,effect:.1549},{reference_site:"724",wildtype:"P",mutant:"T",Escape:.0545,epitope:1,times_seen:4,effect:.4492},{reference_site:"725",wildtype:"G",mutant:"A",Escape:.0203,epitope:1,times_seen:1,effect:.5007},{reference_site:"725",wildtype:"G",mutant:"C",Escape:.0099,epitope:1,times_seen:12.3333,effect:.1614},{reference_site:"725",wildtype:"G",mutant:"D",Escape:-.0303,epitope:1,times_seen:2.6667,effect:-.068},{reference_site:"725",wildtype:"G",mutant:"S",Escape:-.0041,epitope:1,times_seen:5,effect:.1638},{reference_site:"725",wildtype:"G",mutant:"V",Escape:-.001,epitope:1,times_seen:4.6667,effect:-.1192},{reference_site:"726",wildtype:"E",mutant:"D",Escape:-.016,epitope:1,times_seen:3.6667,effect:.0178},{reference_site:"726",wildtype:"E",mutant:"G",Escape:-.0023,epitope:1,times_seen:1,effect:-.8635},{reference_site:"726",wildtype:"E",mutant:"K",Escape:.0106,epitope:1,times_seen:9,effect:-.1976},{reference_site:"726",wildtype:"E",mutant:"Y",Escape:-.0266,epitope:1,times_seen:1,effect:-.1232},{reference_site:"726",wildtype:"E",mutant:"*",Escape:.0059,epitope:1,times_seen:1.3333,effect:-2.432},{reference_site:"727",wildtype:"L",mutant:"M",Escape:.0018,epitope:1,times_seen:2.3333,effect:-.2932},{reference_site:"727",wildtype:"L",mutant:"P",Escape:-.0044,epitope:1,times_seen:4,effect:-.2198},{reference_site:"727",wildtype:"L",mutant:"Q",Escape:-.0021,epitope:1,times_seen:2,effect:-.0997},{reference_site:"727",wildtype:"L",mutant:"R",Escape:.011,epitope:1,times_seen:2.6667,effect:-.2305},{reference_site:"727",wildtype:"L",mutant:"V",Escape:-.0208,epitope:1,times_seen:1,effect:.1002},{reference_site:"728",wildtype:"D",mutant:"F",Escape:.0404,epitope:1,times_seen:3.6667,effect:-.326},{reference_site:"728",wildtype:"D",mutant:"G",Escape:.3604,epitope:1,times_seen:4,effect:-.1582},{reference_site:"728",wildtype:"D",mutant:"H",Escape:.0093,epitope:1,times_seen:1,effect:.0076},{reference_site:"728",wildtype:"D",mutant:"N",Escape:-.0085,epitope:1,times_seen:1,effect:-.2469},{reference_site:"728",wildtype:"D",mutant:"V",Escape:-.0108,epitope:1,times_seen:1,effect:1.0006},{reference_site:"728",wildtype:"D",mutant:"Y",Escape:.2014,epitope:1,times_seen:9.3333,effect:.0213},{reference_site:"729",wildtype:"R",mutant:"G",Escape:-.012,epitope:1,times_seen:4,effect:.1474},{reference_site:"729",wildtype:"R",mutant:"I",Escape:.0126,epitope:1,times_seen:3.3333,effect:.1995},{reference_site:"729",wildtype:"R",mutant:"K",Escape:-.0164,epitope:1,times_seen:1.6667,effect:-.6919},{reference_site:"729",wildtype:"R",mutant:"S",Escape:-.0172,epitope:1,times_seen:1,effect:.069},{reference_site:"730",wildtype:"P",mutant:"H",Escape:.0302,epitope:1,times_seen:5,effect:-.0133},{reference_site:"730",wildtype:"P",mutant:"L",Escape:-.019,epitope:1,times_seen:2.3333,effect:.0945},{reference_site:"730",wildtype:"P",mutant:"S",Escape:-.0142,epitope:1,times_seen:1.3333,effect:-.5629},{reference_site:"730",wildtype:"P",mutant:"T",Escape:-.0284,epitope:1,times_seen:1,effect:.3434},{reference_site:"731",wildtype:"G",mutant:"A",Escape:.0144,epitope:1,times_seen:2,effect:.1482},{reference_site:"731",wildtype:"G",mutant:"C",Escape:.0332,epitope:1,times_seen:9.6667,effect:-.0446},{reference_site:"731",wildtype:"G",mutant:"D",Escape:.0044,epitope:1,times_seen:5,effect:.0679},{reference_site:"731",wildtype:"G",mutant:"S",Escape:-.0627,epitope:1,times_seen:3,effect:.2084},{reference_site:"731",wildtype:"G",mutant:"V",Escape:-.0115,epitope:1,times_seen:1.6667,effect:.2094},{reference_site:"731",wildtype:"G",mutant:"-",Escape:-.0211,epitope:1,times_seen:2,effect:-.3547},{reference_site:"732",wildtype:"R",mutant:"G",Escape:-.1329,epitope:1,times_seen:2,effect:-.7422},{reference_site:"732",wildtype:"R",mutant:"I",Escape:.0264,epitope:1,times_seen:2.6667,effect:-.1037},{reference_site:"732",wildtype:"R",mutant:"K",Escape:.0458,epitope:1,times_seen:4,effect:.2165},{reference_site:"732",wildtype:"R",mutant:"-",Escape:-.0196,epitope:1,times_seen:2,effect:-.0799},{reference_site:"733",wildtype:"I",mutant:"N",Escape:-.0116,epitope:1,times_seen:1,effect:.5344},{reference_site:"733",wildtype:"I",mutant:"-",Escape:-.0212,epitope:1,times_seen:2,effect:-.0799},{reference_site:"734",wildtype:"E",mutant:"D",Escape:.0622,epitope:1,times_seen:16,effect:-.0924},{reference_site:"734",wildtype:"E",mutant:"G",Escape:.0257,epitope:1,times_seen:1,effect:-.1324},{reference_site:"734",wildtype:"E",mutant:"K",Escape:-.0504,epitope:1,times_seen:4.3333,effect:-.1691},{reference_site:"734",wildtype:"E",mutant:"*",Escape:-.0107,epitope:1,times_seen:2,effect:-1.2915},{reference_site:"734",wildtype:"E",mutant:"-",Escape:-.008,epitope:1,times_seen:13,effect:-.0425},{reference_site:"735",wildtype:"E",mutant:"D",Escape:-.0254,epitope:1,times_seen:18.3333,effect:-.08},{reference_site:"735",wildtype:"E",mutant:"G",Escape:.0215,epitope:1,times_seen:2,effect:-.928},{reference_site:"735",wildtype:"E",mutant:"K",Escape:-.0148,epitope:1,times_seen:1,effect:-.7861},{reference_site:"735",wildtype:"E",mutant:"*",Escape:.0303,epitope:1,times_seen:3,effect:-1.1543},{reference_site:"735",wildtype:"E",mutant:"-",Escape:-.0206,epitope:1,times_seen:2,effect:-.0799},{reference_site:"736",wildtype:"E",mutant:"A",Escape:.0021,epitope:1,times_seen:1,effect:.354},{reference_site:"736",wildtype:"E",mutant:"D",Escape:.0319,epitope:1,times_seen:17.6667,effect:.0058},{reference_site:"736",wildtype:"E",mutant:"G",Escape:-.0036,epitope:1,times_seen:5.3333,effect:.1077},{reference_site:"736",wildtype:"E",mutant:"K",Escape:-.0058,epitope:1,times_seen:6,effect:-.1068},{reference_site:"736",wildtype:"E",mutant:"M",Escape:-.0194,epitope:1,times_seen:1,effect:1.5057},{reference_site:"736",wildtype:"E",mutant:"V",Escape:.0221,epitope:1,times_seen:2.6667,effect:-.5707},{reference_site:"736",wildtype:"E",mutant:"*",Escape:-.0012,epitope:1,times_seen:2,effect:-1.966},{reference_site:"737",wildtype:"G",mutant:"C",Escape:-.0659,epitope:1,times_seen:9.6667,effect:.1522},{reference_site:"737",wildtype:"G",mutant:"D",Escape:-.0209,epitope:1,times_seen:1.6667,effect:-.1222},{reference_site:"737",wildtype:"G",mutant:"K",Escape:-.0087,epitope:1,times_seen:1.6667,effect:4e-4},{reference_site:"737",wildtype:"G",mutant:"S",Escape:-.0042,epitope:1,times_seen:2.3333,effect:-.0798},{reference_site:"737",wildtype:"G",mutant:"V",Escape:-.0606,epitope:1,times_seen:3.6667,effect:.3544},{reference_site:"737",wildtype:"G",mutant:"-",Escape:-.0189,epitope:1,times_seen:5.6667,effect:-.6234},{reference_site:"738",wildtype:"G",mutant:"A",Escape:.0059,epitope:1,times_seen:1,effect:-.2552},{reference_site:"738",wildtype:"G",mutant:"C",Escape:.0089,epitope:1,times_seen:15.6667,effect:-.0494},{reference_site:"738",wildtype:"G",mutant:"D",Escape:.0098,epitope:1,times_seen:5.6667,effect:-.0361},{reference_site:"738",wildtype:"G",mutant:"E",Escape:-.0047,epitope:1,times_seen:1,effect:-1.3602},{reference_site:"738",wildtype:"G",mutant:"H",Escape:-.0075,epitope:1,times_seen:1.6667,effect:4e-4},{reference_site:"738",wildtype:"G",mutant:"N",Escape:-.0319,epitope:1,times_seen:1,effect:-.442},{reference_site:"738",wildtype:"G",mutant:"S",Escape:.0394,epitope:1,times_seen:7,effect:.0356},{reference_site:"738",wildtype:"G",mutant:"V",Escape:-.002,epitope:1,times_seen:3,effect:-1.1454},{reference_site:"739",wildtype:"E",mutant:"D",Escape:-.0046,epitope:1,times_seen:1.5,effect:-.6595},{reference_site:"739",wildtype:"E",mutant:"G",Escape:-.0194,epitope:1,times_seen:1,effect:.2015},{reference_site:"739",wildtype:"E",mutant:"K",Escape:.0028,epitope:1,times_seen:2.6667,effect:-.1244},{reference_site:"739",wildtype:"E",mutant:"L",Escape:.0353,epitope:1,times_seen:1,effect:-.1413},{reference_site:"739",wildtype:"E",mutant:"Q",Escape:-3e-4,epitope:1,times_seen:1,effect:-.613},{reference_site:"739",wildtype:"E",mutant:"R",Escape:-.0144,epitope:1,times_seen:1,effect:-1.417},{reference_site:"739",wildtype:"E",mutant:"V",Escape:-.0071,epitope:1,times_seen:2,effect:-.3832},{reference_site:"740",wildtype:"Q",mutant:"H",Escape:.0812,epitope:1,times_seen:10,effect:-.0031},{reference_site:"740",wildtype:"Q",mutant:"K",Escape:.0211,epitope:1,times_seen:1.5,effect:.2509},{reference_site:"740",wildtype:"Q",mutant:"L",Escape:-.0154,epitope:1,times_seen:5,effect:-.3184},{reference_site:"740",wildtype:"Q",mutant:"P",Escape:.0263,epitope:1,times_seen:1,effect:-.5366},{reference_site:"740",wildtype:"Q",mutant:"R",Escape:-.0051,epitope:1,times_seen:3,effect:-.1844},{reference_site:"740",wildtype:"Q",mutant:"*",Escape:.1641,epitope:1,times_seen:2.3333,effect:-2.0217},{reference_site:"741",wildtype:"D",mutant:"E",Escape:.0095,epitope:1,times_seen:2,effect:.1767},{reference_site:"741",wildtype:"D",mutant:"G",Escape:.0287,epitope:1,times_seen:3,effect:.0256},{reference_site:"741",wildtype:"D",mutant:"N",Escape:-.0151,epitope:1,times_seen:1,effect:-1.4527},{reference_site:"741",wildtype:"D",mutant:"Y",Escape:.0107,epitope:1,times_seen:8.6667,effect:-.0621},{reference_site:"742",wildtype:"R",mutant:"G",Escape:.4798,epitope:1,times_seen:4.3333,effect:.1377},{reference_site:"742",wildtype:"R",mutant:"I",Escape:.0328,epitope:1,times_seen:6.6667,effect:-6e-4},{reference_site:"742",wildtype:"R",mutant:"K",Escape:-.0135,epitope:1,times_seen:3,effect:.1397},{reference_site:"742",wildtype:"R",mutant:"S",Escape:.0084,epitope:1,times_seen:1.6667,effect:-.1265},{reference_site:"742",wildtype:"R",mutant:"-",Escape:.0079,epitope:1,times_seen:1,effect:-.0875},{reference_site:"743",wildtype:"G",mutant:"C",Escape:-.1296,epitope:1,times_seen:12,effect:-.0141},{reference_site:"743",wildtype:"G",mutant:"D",Escape:.007,epitope:1,times_seen:2.6667,effect:-.0924},{reference_site:"743",wildtype:"G",mutant:"S",Escape:-.0246,epitope:1,times_seen:1.6667,effect:.1605},{reference_site:"743",wildtype:"G",mutant:"V",Escape:.012,epitope:1,times_seen:2,effect:-.4571},{reference_site:"743",wildtype:"G",mutant:"-",Escape:.0052,epitope:1,times_seen:1,effect:-.0875},{reference_site:"744",wildtype:"R",mutant:"G",Escape:-.0683,epitope:1,times_seen:4,effect:-.8371},{reference_site:"744",wildtype:"R",mutant:"I",Escape:.0083,epitope:1,times_seen:3,effect:-.4566},{reference_site:"744",wildtype:"R",mutant:"K",Escape:-.0039,epitope:1,times_seen:2,effect:-.1874},{reference_site:"744",wildtype:"R",mutant:"S",Escape:.0117,epitope:1,times_seen:1,effect:-.4797},{reference_site:"744",wildtype:"R",mutant:"-",Escape:.0065,epitope:1,times_seen:1,effect:-.0875},{reference_site:"745",wildtype:"S",mutant:"G",Escape:-.0053,epitope:1,times_seen:1,effect:-.2761},{reference_site:"745",wildtype:"S",mutant:"I",Escape:.0058,epitope:1,times_seen:2.6667,effect:.2572},{reference_site:"745",wildtype:"S",mutant:"N",Escape:-.0035,epitope:1,times_seen:4.3333,effect:.133},{reference_site:"745",wildtype:"S",mutant:"R",Escape:-.0078,epitope:1,times_seen:1.3333,effect:-.0588},{reference_site:"745",wildtype:"S",mutant:"-",Escape:.007,epitope:1,times_seen:1,effect:-.0875},{reference_site:"746",wildtype:"I",mutant:"T",Escape:-.0039,epitope:1,times_seen:1,effect:-.4738},{reference_site:"746",wildtype:"I",mutant:"V",Escape:.0016,epitope:1,times_seen:1,effect:.6888},{reference_site:"746",wildtype:"I",mutant:"-",Escape:.0071,epitope:1,times_seen:1,effect:-.0875},{reference_site:"747",wildtype:"R",mutant:"G",Escape:-.0542,epitope:1,times_seen:3.3333,effect:-.3974},{reference_site:"747",wildtype:"R",mutant:"I",Escape:-.0562,epitope:1,times_seen:5,effect:-.5686},{reference_site:"747",wildtype:"R",mutant:"K",Escape:.0049,epitope:1,times_seen:2,effect:.1401},{reference_site:"747",wildtype:"R",mutant:"-",Escape:.0061,epitope:1,times_seen:1,effect:-.0875},{reference_site:"748",wildtype:"L",mutant:"M",Escape:-.0294,epitope:1,times_seen:1.3333,effect:-.1617},{reference_site:"748",wildtype:"L",mutant:"P",Escape:.0309,epitope:1,times_seen:1,effect:-.7282},{reference_site:"748",wildtype:"L",mutant:"Q",Escape:-.0327,epitope:1,times_seen:2,effect:-.1999},{reference_site:"748",wildtype:"L",mutant:"R",Escape:-.021,epitope:1,times_seen:1,effect:-.0398},{reference_site:"748",wildtype:"L",mutant:"-",Escape:.0062,epitope:1,times_seen:1,effect:-.0875},{reference_site:"749",wildtype:"V",mutant:"A",Escape:-.0346,epitope:1,times_seen:3,effect:-.1206},{reference_site:"749",wildtype:"V",mutant:"L",Escape:-.026,epitope:1,times_seen:1,effect:.0382},{reference_site:"749",wildtype:"V",mutant:"M",Escape:.0048,epitope:1,times_seen:2,effect:.0667},{reference_site:"749",wildtype:"V",mutant:"-",Escape:.0065,epitope:1,times_seen:1,effect:-.0875},{reference_site:"750",wildtype:"S",mutant:"G",Escape:-3e-4,epitope:1,times_seen:1,effect:2e-4},{reference_site:"750",wildtype:"S",mutant:"I",Escape:.0185,epitope:1,times_seen:3,effect:-.2226},{reference_site:"750",wildtype:"S",mutant:"N",Escape:-.0064,epitope:1,times_seen:2,effect:-.2369},{reference_site:"750",wildtype:"S",mutant:"R",Escape:-.0152,epitope:1,times_seen:3.5,effect:.2364},{reference_site:"750",wildtype:"S",mutant:"-",Escape:.0071,epitope:1,times_seen:1,effect:-.0875},{reference_site:"751",wildtype:"G",mutant:"C",Escape:.2412,epitope:1,times_seen:7,effect:-.1313},{reference_site:"751",wildtype:"G",mutant:"D",Escape:-.025,epitope:1,times_seen:4.6667,effect:-.9152},{reference_site:"751",wildtype:"G",mutant:"S",Escape:.2235,epitope:1,times_seen:2.6667,effect:-.2591},{reference_site:"751",wildtype:"G",mutant:"V",Escape:.0049,epitope:1,times_seen:2,effect:-.1102},{reference_site:"751",wildtype:"G",mutant:"-",Escape:.0084,epitope:1,times_seen:1,effect:-.0875},{reference_site:"752",wildtype:"F",mutant:"L",Escape:.033,epitope:1,times_seen:3.5,effect:-.4391},{reference_site:"752",wildtype:"F",mutant:"S",Escape:-.0283,epitope:1,times_seen:1,effect:-1.2415},{reference_site:"753",wildtype:"L",mutant:"M",Escape:-.0198,epitope:1,times_seen:11.3333,effect:-.0625},{reference_site:"753",wildtype:"L",mutant:"P",Escape:-.0466,epitope:1,times_seen:5,effect:-.2411},{reference_site:"753",wildtype:"L",mutant:"-",Escape:-.0426,epitope:1,times_seen:2,effect:-.0202},{reference_site:"754",wildtype:"A",mutant:"D",Escape:.0106,epitope:1,times_seen:6,effect:-.2262},{reference_site:"754",wildtype:"A",mutant:"S",Escape:0,epitope:1,times_seen:7.6667,effect:-.1814},{reference_site:"754",wildtype:"A",mutant:"T",Escape:-4e-4,epitope:1,times_seen:1,effect:-.4306},{reference_site:"754",wildtype:"A",mutant:"V",Escape:.0101,epitope:1,times_seen:2.3333,effect:-.555},{reference_site:"754",wildtype:"A",mutant:"-",Escape:-.0412,epitope:1,times_seen:2,effect:-.0202},{reference_site:"755",wildtype:"L",mutant:"M",Escape:-.0806,epitope:1,times_seen:12.6667,effect:-.38},{reference_site:"755",wildtype:"L",mutant:"P",Escape:-.04,epitope:1,times_seen:3.5,effect:-1.3615},{reference_site:"756",wildtype:"A",mutant:"D",Escape:.0534,epitope:1,times_seen:6.3333,effect:-1.0499},{reference_site:"756",wildtype:"A",mutant:"G",Escape:-.0233,epitope:1,times_seen:1,effect:-1.2534},{reference_site:"756",wildtype:"A",mutant:"S",Escape:-.0605,epitope:1,times_seen:7.6667,effect:-.4524},{reference_site:"756",wildtype:"A",mutant:"T",Escape:-.0074,epitope:1,times_seen:11,effect:-.1704},{reference_site:"756",wildtype:"A",mutant:"V",Escape:.0178,epitope:1,times_seen:5.6667,effect:-.4096},{reference_site:"757",wildtype:"W",mutant:"C",Escape:-.0505,epitope:1,times_seen:16.3333,effect:-.1307},{reference_site:"757",wildtype:"W",mutant:"G",Escape:-.0186,epitope:1,times_seen:1,effect:-.5944},{reference_site:"757",wildtype:"W",mutant:"L",Escape:-.0382,epitope:1,times_seen:21,effect:.0575},{reference_site:"757",wildtype:"W",mutant:"R",Escape:.1569,epitope:1,times_seen:4,effect:-.2118},{reference_site:"757",wildtype:"W",mutant:"*",Escape:-.0313,epitope:1,times_seen:7,effect:-.1969},{reference_site:"758",wildtype:"D",mutant:"E",Escape:.0204,epitope:1,times_seen:2,effect:-.6631},{reference_site:"758",wildtype:"D",mutant:"G",Escape:-.0115,epitope:1,times_seen:6.3333,effect:-.7071},{reference_site:"758",wildtype:"D",mutant:"N",Escape:-.0157,epitope:1,times_seen:2.6667,effect:-.8681},{reference_site:"758",wildtype:"D",mutant:"Y",Escape:.0041,epitope:1,times_seen:5.3333,effect:.117},{reference_site:"759",wildtype:"D",mutant:"E",Escape:-.0129,epitope:1,times_seen:1.3333,effect:-1.4753},{reference_site:"759",wildtype:"D",mutant:"H",Escape:.0076,epitope:1,times_seen:1,effect:-.7289},{reference_site:"759",wildtype:"D",mutant:"N",Escape:6e-4,epitope:1,times_seen:1.3333,effect:-1.1968},{reference_site:"759",wildtype:"D",mutant:"Y",Escape:-.0082,epitope:1,times_seen:2.3333,effect:-1.2204},{reference_site:"760",wildtype:"L",mutant:"M",Escape:-.091,epitope:1,times_seen:10.3333,effect:-.0736},{reference_site:"760",wildtype:"L",mutant:"P",Escape:-.0665,epitope:1,times_seen:3.6667,effect:-.5868},{reference_site:"760",wildtype:"L",mutant:"R",Escape:.021,epitope:1,times_seen:1,effect:-1.2638},{reference_site:"761",wildtype:"R",mutant:"G",Escape:.2102,epitope:1,times_seen:3.6667,effect:.1659},{reference_site:"761",wildtype:"R",mutant:"I",Escape:-.0218,epitope:1,times_seen:2.6667,effect:.1218},{reference_site:"761",wildtype:"R",mutant:"K",Escape:-.0445,epitope:1,times_seen:3,effect:-.0706},{reference_site:"761",wildtype:"R",mutant:"T",Escape:-.0224,epitope:1,times_seen:2,effect:-.0074},{reference_site:"762",wildtype:"S",mutant:"C",Escape:-.0019,epitope:1,times_seen:1,effect:.0456},{reference_site:"762",wildtype:"S",mutant:"I",Escape:-.0243,epitope:1,times_seen:6.6667,effect:-.331},{reference_site:"762",wildtype:"S",mutant:"N",Escape:.011,epitope:1,times_seen:2.3333,effect:.2733},{reference_site:"762",wildtype:"S",mutant:"R",Escape:-.0052,epitope:1,times_seen:2.3333,effect:.2487},{reference_site:"763",wildtype:"L",mutant:"M",Escape:-.0316,epitope:1,times_seen:7.3333,effect:-.004},{reference_site:"763",wildtype:"L",mutant:"P",Escape:.0119,epitope:1,times_seen:4.6667,effect:-1.0542},{reference_site:"763",wildtype:"L",mutant:"Q",Escape:-.0251,epitope:1,times_seen:1,effect:-.2362},{reference_site:"764",wildtype:"C",mutant:"F",Escape:-.044,epitope:1,times_seen:6.3333,effect:-.1655},{reference_site:"764",wildtype:"C",mutant:"W",Escape:-.0147,epitope:1,times_seen:1,effect:-.4109},{reference_site:"764",wildtype:"C",mutant:"Y",Escape:-.0229,epitope:1,times_seen:1,effect:-.4726},{reference_site:"765",wildtype:"L",mutant:"M",Escape:-3e-4,epitope:1,times_seen:4.3333,effect:.1369},{reference_site:"765",wildtype:"L",mutant:"P",Escape:.0476,epitope:1,times_seen:3,effect:-1.5721},{reference_site:"765",wildtype:"L",mutant:"R",Escape:-.0035,epitope:1,times_seen:1,effect:.3085},{reference_site:"766",wildtype:"F",mutant:"I",Escape:-.0472,epitope:1,times_seen:1,effect:-.8512},{reference_site:"766",wildtype:"F",mutant:"L",Escape:-.1117,epitope:1,times_seen:9.3333,effect:-.0714},{reference_site:"766",wildtype:"F",mutant:"S",Escape:.0016,epitope:1,times_seen:1,effect:-1.0551},{reference_site:"766",wildtype:"F",mutant:"V",Escape:-.0162,epitope:1,times_seen:2,effect:-.3448},{reference_site:"767",wildtype:"S",mutant:"C",Escape:-.0168,epitope:1,times_seen:1,effect:.1224},{reference_site:"767",wildtype:"S",mutant:"G",Escape:.0072,epitope:1,times_seen:9,effect:-.0545},{reference_site:"767",wildtype:"S",mutant:"I",Escape:-.0278,epitope:1,times_seen:4,effect:.0136},{reference_site:"767",wildtype:"S",mutant:"N",Escape:-.0383,epitope:1,times_seen:1.5,effect:-.2747},{reference_site:"767",wildtype:"S",mutant:"R",Escape:-.0171,epitope:1,times_seen:2.5,effect:-.8474},{reference_site:"768",wildtype:"Y",mutant:"H",Escape:-.0278,epitope:1,times_seen:2.5,effect:-.4899},{reference_site:"768",wildtype:"Y",mutant:"N",Escape:-.0031,epitope:1,times_seen:1,effect:.3485},{reference_site:"769",wildtype:"H",mutant:"D",Escape:-.0084,epitope:1,times_seen:1,effect:-1.4287},{reference_site:"769",wildtype:"H",mutant:"N",Escape:-.035,epitope:1,times_seen:5,effect:.043},{reference_site:"769",wildtype:"H",mutant:"Q",Escape:-.0494,epitope:1,times_seen:3,effect:-.3646},{reference_site:"769",wildtype:"H",mutant:"R",Escape:-.0261,epitope:1,times_seen:1.5,effect:-.1211},{reference_site:"769",wildtype:"H",mutant:"Y",Escape:-.0421,epitope:1,times_seen:2.6667,effect:-.3486},{reference_site:"770",wildtype:"R",mutant:"G",Escape:-.0717,epitope:1,times_seen:4.5,effect:-.5702},{reference_site:"770",wildtype:"R",mutant:"I",Escape:-.0072,epitope:1,times_seen:2,effect:-1.3275},{reference_site:"770",wildtype:"R",mutant:"K",Escape:.0263,epitope:1,times_seen:1,effect:.0313},{reference_site:"771",wildtype:"L",mutant:"M",Escape:.061,epitope:1,times_seen:1,effect:.0219},{reference_site:"771",wildtype:"L",mutant:"P",Escape:-.0139,epitope:1,times_seen:1,effect:-.4777},{reference_site:"771",wildtype:"L",mutant:"R",Escape:.1112,epitope:1,times_seen:1,effect:.7971},{reference_site:"772",wildtype:"R",mutant:"G",Escape:.0137,epitope:1,times_seen:6,effect:-.0208},{reference_site:"772",wildtype:"R",mutant:"I",Escape:-.0022,epitope:1,times_seen:3.3333,effect:-.4817},{reference_site:"772",wildtype:"R",mutant:"S",Escape:.0028,epitope:1,times_seen:1,effect:.1032},{reference_site:"773",wildtype:"D",mutant:"E",Escape:-.0258,epitope:1,times_seen:1,effect:-.8329},{reference_site:"773",wildtype:"D",mutant:"G",Escape:-.0284,epitope:1,times_seen:1,effect:-.1183},{reference_site:"773",wildtype:"D",mutant:"N",Escape:-.013,epitope:1,times_seen:2,effect:-1.2035},{reference_site:"773",wildtype:"D",mutant:"Y",Escape:-.0312,epitope:1,times_seen:2,effect:-1.4881},{reference_site:"774",wildtype:"F",mutant:"I",Escape:-.0157,epitope:1,times_seen:1,effect:.6858},{reference_site:"774",wildtype:"F",mutant:"L",Escape:-.0278,epitope:1,times_seen:2.3333,effect:-.1305},{reference_site:"774",wildtype:"F",mutant:"S",Escape:-.0136,epitope:1,times_seen:3,effect:.2994},{reference_site:"775",wildtype:"I",mutant:"F",Escape:.0351,epitope:1,times_seen:1,effect:-.1065},{reference_site:"775",wildtype:"I",mutant:"N",Escape:-.0172,epitope:1,times_seen:1,effect:-.042},{reference_site:"775",wildtype:"I",mutant:"T",Escape:-.0222,epitope:1,times_seen:1,effect:-1.1776},{reference_site:"776",wildtype:"L",mutant:"M",Escape:.0412,epitope:1,times_seen:14.3333,effect:.174},{reference_site:"776",wildtype:"L",mutant:"P",Escape:-.0038,epitope:1,times_seen:2.3333,effect:-1.3279},{reference_site:"776",wildtype:"L",mutant:"Q",Escape:-.021,epitope:1,times_seen:1,effect:-.8862},{reference_site:"777",wildtype:"I",mutant:"N",Escape:-.0146,epitope:1,times_seen:1,effect:-1.2529},{reference_site:"777",wildtype:"I",mutant:"V",Escape:-.0122,epitope:1,times_seen:1,effect:-.6966},{reference_site:"778",wildtype:"A",mutant:"D",Escape:-.0136,epitope:1,times_seen:1.3333,effect:-1.6732},{reference_site:"778",wildtype:"A",mutant:"G",Escape:-.0127,epitope:1,times_seen:1,effect:-.7016},{reference_site:"778",wildtype:"A",mutant:"S",Escape:-.0511,epitope:1,times_seen:17.3333,effect:.0077},{reference_site:"778",wildtype:"A",mutant:"T",Escape:-.0536,epitope:1,times_seen:7.6667,effect:-.0587},{reference_site:"779",wildtype:"T",mutant:"A",Escape:-.0156,epitope:1,times_seen:2.6667,effect:-.4984},{reference_site:"779",wildtype:"T",mutant:"H",Escape:-.0188,epitope:1,times_seen:1,effect:-.0532},{reference_site:"779",wildtype:"T",mutant:"I",Escape:-.0176,epitope:1,times_seen:1.3333,effect:-.1789},{reference_site:"779",wildtype:"T",mutant:"N",Escape:.0063,epitope:1,times_seen:1,effect:-.3562},{reference_site:"780",wildtype:"R",mutant:"G",Escape:-.0227,epitope:1,times_seen:1,effect:-1.5031},{reference_site:"780",wildtype:"R",mutant:"K",Escape:.0148,epitope:1,times_seen:1,effect:-.9899},{reference_site:"780",wildtype:"R",mutant:"T",Escape:-.0155,epitope:1,times_seen:1,effect:-1.6828},{reference_site:"781",wildtype:"T",mutant:"I",Escape:.039,epitope:1,times_seen:3.6667,effect:-.963},{reference_site:"781",wildtype:"T",mutant:"N",Escape:-.0072,epitope:1,times_seen:1,effect:.0765},{reference_site:"781",wildtype:"T",mutant:"S",Escape:.0215,epitope:1,times_seen:1,effect:-1.3874},{reference_site:"782",wildtype:"V",mutant:"A",Escape:.0114,epitope:1,times_seen:1.3333,effect:-.1025},{reference_site:"782",wildtype:"V",mutant:"L",Escape:.0323,epitope:1,times_seen:2,effect:-.1619},{reference_site:"782",wildtype:"V",mutant:"M",Escape:.0142,epitope:1,times_seen:9.3333,effect:.01},{reference_site:"783",wildtype:"E",mutant:"D",Escape:-.0756,epitope:1,times_seen:5.3333,effect:-.6673},{reference_site:"783",wildtype:"E",mutant:"G",Escape:-9e-4,epitope:1,times_seen:1,effect:-.4666},{reference_site:"783",wildtype:"E",mutant:"K",Escape:.0127,epitope:1,times_seen:1.6667,effect:-1.3736},{reference_site:"783",wildtype:"E",mutant:"V",Escape:.0256,epitope:1,times_seen:1,effect:.308},{reference_site:"783",wildtype:"E",mutant:"*",Escape:.1091,epitope:1,times_seen:2,effect:-2.8372},{reference_site:"784",wildtype:"L",mutant:"M",Escape:-.0281,epitope:1,times_seen:5,effect:-.2456},{reference_site:"784",wildtype:"L",mutant:"P",Escape:.2449,epitope:1,times_seen:3,effect:-.6199},{reference_site:"784",wildtype:"L",mutant:"Q",Escape:-.0212,epitope:1,times_seen:1,effect:-.1766},{reference_site:"784",wildtype:"L",mutant:"-",Escape:-.0243,epitope:1,times_seen:1,effect:-.108},{reference_site:"785",wildtype:"L",mutant:"M",Escape:.0032,epitope:1,times_seen:1.6667,effect:.1314},{reference_site:"785",wildtype:"L",mutant:"Q",Escape:-.0768,epitope:1,times_seen:1,effect:-.7095},{reference_site:"785",wildtype:"L",mutant:"-",Escape:-.0406,epitope:1,times_seen:1.5,effect:-.0917},{reference_site:"786",wildtype:"G",mutant:"C",Escape:.0042,epitope:1,times_seen:8.3333,effect:-.201},{reference_site:"786",wildtype:"G",mutant:"D",Escape:-.0097,epitope:1,times_seen:2.6667,effect:-1.5852},{reference_site:"786",wildtype:"G",mutant:"S",Escape:-.0199,epitope:1,times_seen:2,effect:-.0631},{reference_site:"786",wildtype:"G",mutant:"V",Escape:.094,epitope:1,times_seen:18,effect:.0458},{reference_site:"786",wildtype:"G",mutant:"W",Escape:-.0331,epitope:1,times_seen:2,effect:-.3156},{reference_site:"786",wildtype:"G",mutant:"-",Escape:-.04,epitope:1,times_seen:1.5,effect:-.0917},{reference_site:"786a",wildtype:"H",mutant:"N",Escape:-.0524,epitope:1,times_seen:4.3333,effect:-.2391},{reference_site:"786a",wildtype:"H",mutant:"P",Escape:-.0336,epitope:1,times_seen:2,effect:-.2378},{reference_site:"786a",wildtype:"H",mutant:"Q",Escape:.0314,epitope:1,times_seen:3,effect:.3035},{reference_site:"786a",wildtype:"H",mutant:"Y",Escape:.014,epitope:1,times_seen:2.3333,effect:-.2531},{reference_site:"786a",wildtype:"H",mutant:"-",Escape:-.0403,epitope:1,times_seen:1.5,effect:-.0917},{reference_site:"786b",wildtype:"S",mutant:"G",Escape:-.0148,epitope:1,times_seen:6.3333,effect:-.0882},{reference_site:"786b",wildtype:"S",mutant:"I",Escape:-.0042,epitope:1,times_seen:1.3333,effect:-1.7022},{reference_site:"786b",wildtype:"S",mutant:"N",Escape:-.0215,epitope:1,times_seen:3.6667,effect:-.4273},{reference_site:"786b",wildtype:"S",mutant:"R",Escape:6e-4,epitope:1,times_seen:1,effect:-.9059},{reference_site:"786b",wildtype:"S",mutant:"W",Escape:-.0069,epitope:1,times_seen:1,effect:-.8083},{reference_site:"786b",wildtype:"S",mutant:"-",Escape:-.0205,epitope:1,times_seen:1,effect:-.1766},{reference_site:"786c",wildtype:"S",mutant:"C",Escape:.0256,epitope:1,times_seen:1,effect:-.2554},{reference_site:"786c",wildtype:"S",mutant:"G",Escape:-.0205,epitope:1,times_seen:1,effect:-.2419},{reference_site:"786c",wildtype:"S",mutant:"I",Escape:.14,epitope:1,times_seen:11.6667,effect:-.0185},{reference_site:"786c",wildtype:"S",mutant:"N",Escape:.6261,epitope:1,times_seen:2.3333,effect:-.2001},{reference_site:"786c",wildtype:"S",mutant:"Y",Escape:-.0261,epitope:1,times_seen:1.5,effect:-.0917},{reference_site:"786d",wildtype:"L",mutant:"M",Escape:.1309,epitope:1,times_seen:4.3333,effect:-.422},{reference_site:"786d",wildtype:"L",mutant:"P",Escape:-.0223,epitope:1,times_seen:2,effect:-.9674},{reference_site:"786d",wildtype:"L",mutant:"Q",Escape:-.0315,epitope:1,times_seen:2,effect:.317},{reference_site:"786e",wildtype:"K",mutant:"E",Escape:-.0148,epitope:1,times_seen:2,effect:-.7434},{reference_site:"786e",wildtype:"K",mutant:"G",Escape:-.0048,epitope:1,times_seen:1,effect:.6018},{reference_site:"786e",wildtype:"K",mutant:"M",Escape:.2941,epitope:1,times_seen:1.3333,effect:-.8443},{reference_site:"786e",wildtype:"K",mutant:"N",Escape:.0768,epitope:1,times_seen:7,effect:-.0532},{reference_site:"786e",wildtype:"K",mutant:"R",Escape:-.0017,epitope:1,times_seen:3.5,effect:-1.0449},{reference_site:"786e",wildtype:"K",mutant:"T",Escape:.0078,epitope:1,times_seen:1,effect:-.4798},{reference_site:"786f",wildtype:"G",mutant:"C",Escape:-.6333,epitope:1,times_seen:6.3333,effect:.1343},{reference_site:"786f",wildtype:"G",mutant:"D",Escape:-.0431,epitope:1,times_seen:2.6667,effect:-.3952},{reference_site:"786f",wildtype:"G",mutant:"S",Escape:-.0267,epitope:1,times_seen:2.6667,effect:.0425},{reference_site:"786f",wildtype:"G",mutant:"V",Escape:-.0747,epitope:1,times_seen:5.3333,effect:.0133},{reference_site:"786g",wildtype:"L",mutant:"M",Escape:-.0111,epitope:1,times_seen:5.3333,effect:-.027},{reference_site:"786g",wildtype:"L",mutant:"P",Escape:.0577,epitope:1,times_seen:5,effect:-.4334},{reference_site:"786g",wildtype:"L",mutant:"R",Escape:-.0616,epitope:1,times_seen:2.3333,effect:-.6386},{reference_site:"787",wildtype:"R",mutant:"G",Escape:-.0149,epitope:1,times_seen:3.3333,effect:-.4087},{reference_site:"787",wildtype:"R",mutant:"I",Escape:-.0609,epitope:1,times_seen:6,effect:-.0204},{reference_site:"787",wildtype:"R",mutant:"K",Escape:-4e-4,epitope:1,times_seen:1.3333,effect:-.3775},{reference_site:"788",wildtype:"L",mutant:"M",Escape:.006,epitope:1,times_seen:4,effect:-.0739},{reference_site:"788",wildtype:"L",mutant:"P",Escape:.0206,epitope:1,times_seen:2,effect:-.5197},{reference_site:"788",wildtype:"L",mutant:"Q",Escape:-.0328,epitope:1,times_seen:2.3333,effect:-.0704},{reference_site:"788",wildtype:"L",mutant:"R",Escape:-.0104,epitope:1,times_seen:1,effect:-.4921},{reference_site:"788",wildtype:"L",mutant:"V",Escape:.0013,epitope:1,times_seen:1,effect:.0264},{reference_site:"789",wildtype:"G",mutant:"A",Escape:-.0632,epitope:1,times_seen:2,effect:.1721},{reference_site:"789",wildtype:"G",mutant:"C",Escape:.014,epitope:1,times_seen:13,effect:-.0474},{reference_site:"789",wildtype:"G",mutant:"D",Escape:.0339,epitope:1,times_seen:2.3333,effect:-1.3118},{reference_site:"789",wildtype:"G",mutant:"S",Escape:.0012,epitope:1,times_seen:2.3333,effect:-.1059},{reference_site:"789",wildtype:"G",mutant:"V",Escape:-.0017,epitope:1,times_seen:2.6667,effect:.2344},{reference_site:"790",wildtype:"W",mutant:"C",Escape:-.0773,epitope:1,times_seen:16.6667,effect:-.3078},{reference_site:"790",wildtype:"W",mutant:"L",Escape:-.0561,epitope:1,times_seen:16.6667,effect:-.5696},{reference_site:"790",wildtype:"W",mutant:"S",Escape:-.0044,epitope:1,times_seen:1,effect:-.1458},{reference_site:"790",wildtype:"W",mutant:"*",Escape:.0185,epitope:1,times_seen:3.3333,effect:-3.2001},{reference_site:"791",wildtype:"E",mutant:"D",Escape:-.0362,epitope:1,times_seen:6.6667,effect:.0872},{reference_site:"791",wildtype:"E",mutant:"G",Escape:-.0158,epitope:1,times_seen:7.3333,effect:.0573},{reference_site:"791",wildtype:"E",mutant:"K",Escape:-.0545,epitope:1,times_seen:5.3333,effect:-.3295},{reference_site:"791",wildtype:"E",mutant:"Q",Escape:.0308,epitope:1,times_seen:1,effect:-1.6466},{reference_site:"791",wildtype:"E",mutant:"*",Escape:.0515,epitope:1,times_seen:1,effect:-2.72},{reference_site:"792",wildtype:"S",mutant:"I",Escape:.0193,epitope:1,times_seen:11.3333,effect:-.3669},{reference_site:"792",wildtype:"S",mutant:"N",Escape:7e-4,epitope:1,times_seen:2.6667,effect:-.0096},{reference_site:"792",wildtype:"S",mutant:"R",Escape:-.0613,epitope:1,times_seen:2,effect:-.0987},{reference_site:"793",wildtype:"L",mutant:"M",Escape:-.0193,epitope:1,times_seen:6.3333,effect:-9e-4},{reference_site:"793",wildtype:"L",mutant:"P",Escape:-.0109,epitope:1,times_seen:3,effect:-.3975},{reference_site:"793",wildtype:"L",mutant:"Q",Escape:.0142,epitope:1,times_seen:2,effect:-.2086},{reference_site:"793",wildtype:"L",mutant:"V",Escape:-.0083,epitope:1,times_seen:1,effect:-.5994},{reference_site:"794",wildtype:"K",mutant:"E",Escape:.1832,epitope:1,times_seen:2,effect:-.2618},{reference_site:"794",wildtype:"K",mutant:"M",Escape:.0369,epitope:1,times_seen:1,effect:-.8128},{reference_site:"794",wildtype:"K",mutant:"R",Escape:.0057,epitope:1,times_seen:2,effect:.245},{reference_site:"794",wildtype:"K",mutant:"T",Escape:-.0016,epitope:1,times_seen:1,effect:-.3922},{reference_site:"794",wildtype:"K",mutant:"-",Escape:-.0224,epitope:1,times_seen:2,effect:.4227},{reference_site:"795",wildtype:"Y",mutant:"C",Escape:.069,epitope:1,times_seen:1,effect:-.4425},{reference_site:"795",wildtype:"Y",mutant:"D",Escape:-.0026,epitope:1,times_seen:1,effect:.0513},{reference_site:"795",wildtype:"Y",mutant:"H",Escape:-.019,epitope:1,times_seen:2,effect:-.6192},{reference_site:"795",wildtype:"Y",mutant:"*",Escape:.12,epitope:1,times_seen:1,effect:-2.3026},{reference_site:"796",wildtype:"L",mutant:"M",Escape:.1045,epitope:1,times_seen:8.3333,effect:.0057},{reference_site:"796",wildtype:"L",mutant:"P",Escape:-.0166,epitope:1,times_seen:3,effect:.1779},{reference_site:"796",wildtype:"L",mutant:"V",Escape:-.0075,epitope:1,times_seen:1,effect:.0794},{reference_site:"796",wildtype:"L",mutant:"-",Escape:-.0077,epitope:1,times_seen:1,effect:.1313},{reference_site:"797",wildtype:"G",mutant:"A",Escape:-.0341,epitope:1,times_seen:1,effect:-.7943},{reference_site:"797",wildtype:"G",mutant:"C",Escape:.0605,epitope:1,times_seen:4.6667,effect:-.6282},{reference_site:"797",wildtype:"G",mutant:"D",Escape:-.0041,epitope:1,times_seen:4,effect:-.6341},{reference_site:"797",wildtype:"G",mutant:"S",Escape:.0115,epitope:1,times_seen:2,effect:-.2835},{reference_site:"797",wildtype:"G",mutant:"V",Escape:-.0622,epitope:1,times_seen:2,effect:-.3191},{reference_site:"797",wildtype:"G",mutant:"W",Escape:-.0103,epitope:1,times_seen:1,effect:.1313},{reference_site:"798",wildtype:"N",mutant:"D",Escape:-.0271,epitope:1,times_seen:1,effect:-.4581},{reference_site:"798",wildtype:"N",mutant:"K",Escape:-.0102,epitope:1,times_seen:1,effect:-.9185},{reference_site:"798",wildtype:"N",mutant:"Q",Escape:-.0118,epitope:1,times_seen:1,effect:.2267},{reference_site:"799",wildtype:"L",mutant:"M",Escape:-.0247,epitope:1,times_seen:1,effect:-.7563},{reference_site:"799",wildtype:"L",mutant:"P",Escape:-.0364,epitope:1,times_seen:5,effect:-.446},{reference_site:"799",wildtype:"L",mutant:"Q",Escape:-.0245,epitope:1,times_seen:2,effect:-.7461},{reference_site:"800",wildtype:"L",mutant:"M",Escape:.0809,epitope:1,times_seen:2.6667,effect:-.0669},{reference_site:"800",wildtype:"L",mutant:"P",Escape:-.0313,epitope:1,times_seen:1,effect:-.5594},{reference_site:"800",wildtype:"L",mutant:"Q",Escape:1.6257,epitope:1,times_seen:2,effect:-.9258},{reference_site:"801",wildtype:"V",mutant:"E",Escape:-.0222,epitope:1,times_seen:1,effect:.3804},{reference_site:"801",wildtype:"V",mutant:"I",Escape:.0049,epitope:1,times_seen:1,effect:-.5611},{reference_site:"801",wildtype:"V",mutant:"L",Escape:-.0319,epitope:1,times_seen:1.3333,effect:.5934},{reference_site:"801",wildtype:"V",mutant:"M",Escape:.0313,epitope:1,times_seen:1.6667,effect:-.0194},{reference_site:"802",wildtype:"Y",mutant:"C",Escape:-.0231,epitope:1,times_seen:2.3333,effect:.0453},{reference_site:"802",wildtype:"Y",mutant:"D",Escape:-.0077,epitope:1,times_seen:1,effect:-.463},{reference_site:"802",wildtype:"Y",mutant:"F",Escape:-.0052,epitope:1,times_seen:1,effect:-.0051},{reference_site:"802",wildtype:"Y",mutant:"H",Escape:.023,epitope:1,times_seen:3,effect:-.4387},{reference_site:"802",wildtype:"Y",mutant:"I",Escape:-.0023,epitope:1,times_seen:2.6667,effect:-.1661},{reference_site:"803",wildtype:"W",mutant:"C",Escape:.1181,epitope:1,times_seen:22,effect:-.2043},{reference_site:"803",wildtype:"W",mutant:"L",Escape:.0346,epitope:1,times_seen:11.3333,effect:-.2676},{reference_site:"803",wildtype:"W",mutant:"R",Escape:.0268,epitope:1,times_seen:2.6667,effect:-.02},{reference_site:"803",wildtype:"W",mutant:"S",Escape:.002,epitope:1,times_seen:1,effect:-.3913},{reference_site:"803",wildtype:"W",mutant:"*",Escape:.2333,epitope:1,times_seen:2,effect:-2.5757},{reference_site:"804",wildtype:"G",mutant:"C",Escape:-.1085,epitope:1,times_seen:10.6667,effect:-.0689},{reference_site:"804",wildtype:"G",mutant:"D",Escape:-.0452,epitope:1,times_seen:4,effect:-.8263},{reference_site:"804",wildtype:"G",mutant:"S",Escape:-.0184,epitope:1,times_seen:3,effect:-.3142},{reference_site:"804",wildtype:"G",mutant:"V",Escape:.0577,epitope:1,times_seen:3,effect:.0883},{reference_site:"805",wildtype:"R",mutant:"G",Escape:.0301,epitope:1,times_seen:3.6667,effect:.1367},{reference_site:"805",wildtype:"R",mutant:"I",Escape:.0186,epitope:1,times_seen:9,effect:-.4718},{reference_site:"805",wildtype:"R",mutant:"K",Escape:-1e-4,epitope:1,times_seen:1,effect:-.151},{reference_site:"806",wildtype:"E",mutant:"D",Escape:-.0466,epitope:1,times_seen:1,effect:-.4216},{reference_site:"806",wildtype:"E",mutant:"K",Escape:-.0233,epitope:1,times_seen:2,effect:-.3498},{reference_site:"806",wildtype:"E",mutant:"*",Escape:.8893,epitope:1,times_seen:3,effect:-2.0564},{reference_site:"807",wildtype:"L",mutant:"M",Escape:.0609,epitope:1,times_seen:5.3333,effect:.0586},{reference_site:"807",wildtype:"L",mutant:"P",Escape:.0783,epitope:1,times_seen:2.5,effect:-1.2688},{reference_site:"808",wildtype:"K",mutant:"E",Escape:-.0137,epitope:1,times_seen:1,effect:-1.2863},{reference_site:"808",wildtype:"K",mutant:"M",Escape:.1707,epitope:1,times_seen:2,effect:-.4888},{reference_site:"808",wildtype:"K",mutant:"N",Escape:.0055,epitope:1,times_seen:3,effect:-.9516},{reference_site:"808",wildtype:"K",mutant:"R",Escape:.0417,epitope:1,times_seen:1,effect:-.0146},{reference_site:"809",wildtype:"I",mutant:"N",Escape:.0092,epitope:1,times_seen:3,effect:.1961},{reference_site:"809",wildtype:"I",mutant:"T",Escape:-.0231,epitope:1,times_seen:1,effect:-.1252},{reference_site:"809",wildtype:"I",mutant:"V",Escape:.0052,epitope:1,times_seen:1,effect:.1065},{reference_site:"810",wildtype:"S",mutant:"G",Escape:.0467,epitope:1,times_seen:5.3333,effect:-.2159},{reference_site:"810",wildtype:"S",mutant:"I",Escape:-.004,epitope:1,times_seen:1.6667,effect:-.4708},{reference_site:"810",wildtype:"S",mutant:"R",Escape:.0169,epitope:1,times_seen:1.5,effect:-.2408},{reference_site:"810",wildtype:"S",mutant:"T",Escape:-.0256,epitope:1,times_seen:1,effect:.0857},{reference_site:"811",wildtype:"A",mutant:"D",Escape:3e-4,epitope:1,times_seen:3,effect:-.4405},{reference_site:"811",wildtype:"A",mutant:"S",Escape:-.0446,epitope:1,times_seen:12,effect:.0074},{reference_site:"811",wildtype:"A",mutant:"T",Escape:-.0221,epitope:1,times_seen:3,effect:-.1667},{reference_site:"811",wildtype:"A",mutant:"V",Escape:-.0226,epitope:1,times_seen:1,effect:-.7255},{reference_site:"812",wildtype:"I",mutant:"T",Escape:-.0215,epitope:1,times_seen:3,effect:.1284},{reference_site:"813",wildtype:"N",mutant:"K",Escape:-.01,epitope:1,times_seen:1,effect:-.1377},{reference_site:"814",wildtype:"L",mutant:"M",Escape:-.0181,epitope:1,times_seen:3.3333,effect:.083},{reference_site:"814",wildtype:"L",mutant:"P",Escape:.0663,epitope:1,times_seen:1,effect:-.8202},{reference_site:"815",wildtype:"C",mutant:"F",Escape:.0338,epitope:1,times_seen:2.6667,effect:-.1488},{reference_site:"815",wildtype:"C",mutant:"R",Escape:-.0127,epitope:1,times_seen:1.6667,effect:.3488},{reference_site:"815",wildtype:"C",mutant:"Y",Escape:-.006,epitope:1,times_seen:2.6667,effect:-.4689},{reference_site:"815",wildtype:"C",mutant:"*",Escape:.0057,epitope:1,times_seen:1,effect:-2.024},{reference_site:"816",wildtype:"D",mutant:"E",Escape:-.0036,epitope:1,times_seen:2.6667,effect:-.1681},{reference_site:"816",wildtype:"D",mutant:"G",Escape:-.023,epitope:1,times_seen:1,effect:-.4033},{reference_site:"816",wildtype:"D",mutant:"H",Escape:-.0204,epitope:1,times_seen:1,effect:.2321},{reference_site:"816",wildtype:"D",mutant:"N",Escape:-.0157,epitope:1,times_seen:6,effect:.047},{reference_site:"816",wildtype:"D",mutant:"Y",Escape:.1411,epitope:1,times_seen:5.6667,effect:.069},{reference_site:"817",wildtype:"T",mutant:"A",Escape:-.0567,epitope:1,times_seen:3,effect:-.9901},{reference_site:"817",wildtype:"T",mutant:"I",Escape:-.0298,epitope:1,times_seen:1.6667,effect:-.2552},{reference_site:"817",wildtype:"T",mutant:"N",Escape:.0418,epitope:1,times_seen:1,effect:-.3921},{reference_site:"818",wildtype:"I",mutant:"M",Escape:.0533,epitope:1,times_seen:1,effect:.0664},{reference_site:"818",wildtype:"I",mutant:"N",Escape:.022,epitope:1,times_seen:1.5,effect:-.0098},{reference_site:"818",wildtype:"I",mutant:"S",Escape:-.0036,epitope:1,times_seen:1,effect:-.571},{reference_site:"818",wildtype:"I",mutant:"-",Escape:.0093,epitope:1,times_seen:1,effect:-1.0955},{reference_site:"819",wildtype:"A",mutant:"D",Escape:-.0158,epitope:1,times_seen:1.3333,effect:-.7899},{reference_site:"819",wildtype:"A",mutant:"S",Escape:-.0308,epitope:1,times_seen:18.3333,effect:.0476},{reference_site:"819",wildtype:"A",mutant:"T",Escape:-.0314,epitope:1,times_seen:14.3333,effect:.0427},{reference_site:"819",wildtype:"A",mutant:"V",Escape:-.0364,epitope:1,times_seen:3,effect:-.0313},{reference_site:"819",wildtype:"A",mutant:"-",Escape:.0093,epitope:1,times_seen:1,effect:-1.0955},{reference_site:"820",wildtype:"I",mutant:"A",Escape:-.001,epitope:1,times_seen:1,effect:-.9663},{reference_site:"820",wildtype:"I",mutant:"M",Escape:-.0054,epitope:1,times_seen:1,effect:-.2758},{reference_site:"820",wildtype:"I",mutant:"S",Escape:-.0101,epitope:1,times_seen:1,effect:-.3572},{reference_site:"820",wildtype:"I",mutant:"V",Escape:-.0076,epitope:1,times_seen:1,effect:-.6384},{reference_site:"821",wildtype:"A",mutant:"D",Escape:.0712,epitope:1,times_seen:6,effect:.0208},{reference_site:"821",wildtype:"A",mutant:"S",Escape:-.05,epitope:1,times_seen:14.3333,effect:.0186},{reference_site:"821",wildtype:"A",mutant:"T",Escape:.1267,epitope:1,times_seen:8.3333,effect:-.0746},{reference_site:"821",wildtype:"A",mutant:"V",Escape:.0081,epitope:1,times_seen:3.6667,effect:.0495},{reference_site:"822",wildtype:"V",mutant:"A",Escape:.0367,epitope:1,times_seen:1.3333,effect:-.1138},{reference_site:"822",wildtype:"V",mutant:"L",Escape:.0523,epitope:1,times_seen:2.3333,effect:-.0188},{reference_site:"822",wildtype:"V",mutant:"M",Escape:-.0394,epitope:1,times_seen:4.3333,effect:-.0821},{reference_site:"823",wildtype:"A",mutant:"D",Escape:.2794,epitope:1,times_seen:10.3333,effect:-.0233},{reference_site:"823",wildtype:"A",mutant:"G",Escape:-.0144,epitope:1,times_seen:1,effect:-.3234},{reference_site:"823",wildtype:"A",mutant:"S",Escape:-.0025,epitope:1,times_seen:12.3333,effect:-.0521},{reference_site:"823",wildtype:"A",mutant:"T",Escape:-.0351,epitope:1,times_seen:14,effect:-.0746},{reference_site:"823",wildtype:"A",mutant:"V",Escape:-.002,epitope:1,times_seen:7.3333,effect:-.1159},{reference_site:"823",wildtype:"A",mutant:"-",Escape:-.0347,epitope:1,times_seen:1,effect:.1404},{reference_site:"824",wildtype:"G",mutant:"A",Escape:.0026,epitope:1,times_seen:1,effect:.4504},{reference_site:"824",wildtype:"G",mutant:"C",Escape:.0017,epitope:1,times_seen:12,effect:-.1251},{reference_site:"824",wildtype:"G",mutant:"D",Escape:.0084,epitope:1,times_seen:4.3333,effect:-.0702},{reference_site:"824",wildtype:"G",mutant:"S",Escape:.0039,epitope:1,times_seen:7.3333,effect:-.1959},{reference_site:"824",wildtype:"G",mutant:"V",Escape:.0783,epitope:1,times_seen:3,effect:-.0467},{reference_site:"824",wildtype:"G",mutant:"-",Escape:-.0105,epitope:1,times_seen:2,effect:-.18},{reference_site:"825",wildtype:"W",mutant:"C",Escape:-.0144,epitope:1,times_seen:4,effect:.2061},{reference_site:"825",wildtype:"W",mutant:"L",Escape:.0174,epitope:1,times_seen:9.6667,effect:-.1989},{reference_site:"825",wildtype:"W",mutant:"R",Escape:-.0517,epitope:1,times_seen:4.6667,effect:-.0206},{reference_site:"825",wildtype:"W",mutant:"*",Escape:.0103,epitope:1,times_seen:1.3333,effect:-2.9705},{reference_site:"825",wildtype:"W",mutant:"-",Escape:-.0115,epitope:1,times_seen:2,effect:-.18},{reference_site:"826",wildtype:"T",mutant:"A",Escape:-.019,epitope:1,times_seen:2.6667,effect:.1718},{reference_site:"826",wildtype:"T",mutant:"I",Escape:.0018,epitope:1,times_seen:5.3333,effect:-.2489},{reference_site:"826",wildtype:"T",mutant:"N",Escape:-.0868,epitope:1,times_seen:3,effect:-.0789},{reference_site:"826",wildtype:"T",mutant:"P",Escape:.0077,epitope:1,times_seen:1,effect:.017},{reference_site:"826",wildtype:"T",mutant:"S",Escape:-.0188,epitope:1,times_seen:2,effect:-.2697},{reference_site:"826",wildtype:"T",mutant:"-",Escape:-.0117,epitope:1,times_seen:2,effect:-.0496},{reference_site:"827",wildtype:"D",mutant:"E",Escape:-.0441,epitope:1,times_seen:2,effect:-.1727},{reference_site:"827",wildtype:"D",mutant:"G",Escape:-.0378,epitope:1,times_seen:1,effect:.1677},{reference_site:"827",wildtype:"D",mutant:"N",Escape:.0418,epitope:1,times_seen:10.6667,effect:-.2471},{reference_site:"827",wildtype:"D",mutant:"S",Escape:.0195,epitope:1,times_seen:1,effect:.017},{reference_site:"827",wildtype:"D",mutant:"Y",Escape:.2836,epitope:1,times_seen:6.3333,effect:-.2844},{reference_site:"827",wildtype:"D",mutant:"-",Escape:.026,epitope:1,times_seen:1,effect:-.6717},{reference_site:"828",wildtype:"R",mutant:"G",Escape:.0703,epitope:1,times_seen:7,effect:-.2233},{reference_site:"828",wildtype:"R",mutant:"I",Escape:.3136,epitope:1,times_seen:7.3333,effect:-.6366},{reference_site:"828",wildtype:"R",mutant:"K",Escape:-.005,epitope:1,times_seen:1,effect:-2.0666},{reference_site:"828",wildtype:"R",mutant:"S",Escape:-.0023,epitope:1,times_seen:2.3333,effect:.3807},{reference_site:"829",wildtype:"V",mutant:"I",Escape:.0073,epitope:1,times_seen:1,effect:.017},{reference_site:"829",wildtype:"V",mutant:"L",Escape:.0222,epitope:1,times_seen:1.6667,effect:.2567},{reference_site:"829",wildtype:"V",mutant:"M",Escape:.0781,epitope:1,times_seen:2.3333,effect:-.4704},{reference_site:"830",wildtype:"I",mutant:"T",Escape:-.0139,epitope:1,times_seen:1.6667,effect:-.1391},{reference_site:"831",wildtype:"E",mutant:"D",Escape:.0185,epitope:1,times_seen:3,effect:-.0829},{reference_site:"831",wildtype:"E",mutant:"G",Escape:.0489,epitope:1,times_seen:3,effect:.0471},{reference_site:"831",wildtype:"E",mutant:"K",Escape:.0018,epitope:1,times_seen:3.3333,effect:-.079},{reference_site:"831",wildtype:"E",mutant:"L",Escape:.0117,epitope:1,times_seen:1,effect:.017},{reference_site:"831",wildtype:"E",mutant:"V",Escape:.0528,epitope:1,times_seen:2,effect:.6602},{reference_site:"831",wildtype:"E",mutant:"*",Escape:.5884,epitope:1,times_seen:8.3333,effect:-.9727},{reference_site:"832",wildtype:"L",mutant:"M",Escape:.016,epitope:1,times_seen:4.6667,effect:-.1047},{reference_site:"832",wildtype:"L",mutant:"P",Escape:-.0028,epitope:1,times_seen:1.5,effect:-1.5811},{reference_site:"832",wildtype:"L",mutant:"S",Escape:.0082,epitope:1,times_seen:1,effect:.017},{reference_site:"832",wildtype:"L",mutant:"V",Escape:.0087,epitope:1,times_seen:1,effect:.1541},{reference_site:"833",wildtype:"G",mutant:"A",Escape:-.0109,epitope:1,times_seen:1,effect:-.1172},{reference_site:"833",wildtype:"G",mutant:"C",Escape:.0042,epitope:1,times_seen:14.3333,effect:.1016},{reference_site:"833",wildtype:"G",mutant:"D",Escape:.0418,epitope:1,times_seen:2,effect:-1.7496},{reference_site:"833",wildtype:"G",mutant:"R",Escape:.0206,epitope:1,times_seen:1,effect:-.2174},{reference_site:"833",wildtype:"G",mutant:"S",Escape:.0018,epitope:1,times_seen:1.6667,effect:-.0525},{reference_site:"833",wildtype:"G",mutant:"V",Escape:.0598,epitope:1,times_seen:11,effect:-.255},{reference_site:"834",wildtype:"Q",mutant:"H",Escape:-.067,epitope:1,times_seen:5.6667,effect:.1037},{reference_site:"834",wildtype:"Q",mutant:"K",Escape:-.0167,epitope:1,times_seen:2.3333,effect:-1.0878},{reference_site:"834",wildtype:"Q",mutant:"L",Escape:.0091,epitope:1,times_seen:1,effect:-1.1212},{reference_site:"834",wildtype:"Q",mutant:"R",Escape:-.031,epitope:1,times_seen:1.6667,effect:-.6687},{reference_site:"834",wildtype:"Q",mutant:"*",Escape:.1091,epitope:1,times_seen:1.5,effect:-2.29},{reference_site:"834",wildtype:"Q",mutant:"-",Escape:.0023,epitope:1,times_seen:1,effect:-.3507},{reference_site:"835",wildtype:"R",mutant:"G",Escape:-.0335,epitope:1,times_seen:2.3333,effect:-.1014},{reference_site:"835",wildtype:"R",mutant:"I",Escape:.0361,epitope:1,times_seen:6.6667,effect:-.1119},{reference_site:"835",wildtype:"R",mutant:"K",Escape:-.0356,epitope:1,times_seen:2,effect:-.7272},{reference_site:"835",wildtype:"R",mutant:"S",Escape:-.0318,epitope:1,times_seen:1,effect:.2062},{reference_site:"835",wildtype:"R",mutant:"-",Escape:8e-4,epitope:1,times_seen:1,effect:-.3507},{reference_site:"836",wildtype:"L",mutant:"M",Escape:.013,epitope:1,times_seen:2,effect:-.155},{reference_site:"836",wildtype:"L",mutant:"P",Escape:.6129,epitope:1,times_seen:1,effect:-.7237},{reference_site:"836",wildtype:"L",mutant:"Q",Escape:.0068,epitope:1,times_seen:1,effect:-1.0835},{reference_site:"836",wildtype:"L",mutant:"V",Escape:-.0134,epitope:1,times_seen:1,effect:-.582},{reference_site:"837",wildtype:"C",mutant:"F",Escape:.022,epitope:1,times_seen:2.3333,effect:-.2679},{reference_site:"837",wildtype:"C",mutant:"R",Escape:-.0229,epitope:1,times_seen:1.3333,effect:.196},{reference_site:"837",wildtype:"C",mutant:"S",Escape:-.0042,epitope:1,times_seen:1,effect:.0444},{reference_site:"837",wildtype:"C",mutant:"Y",Escape:.0325,epitope:1,times_seen:5.6667,effect:.0697},{reference_site:"838",wildtype:"R",mutant:"G",Escape:1e-4,epitope:1,times_seen:2.6667,effect:-.5032},{reference_site:"838",wildtype:"R",mutant:"I",Escape:.0287,epitope:1,times_seen:7.3333,effect:-.0652},{reference_site:"838",wildtype:"R",mutant:"K",Escape:.0294,epitope:1,times_seen:1.6667,effect:-1.1236},{reference_site:"839",wildtype:"A",mutant:"D",Escape:.0034,epitope:1,times_seen:1.6667,effect:-.0678},{reference_site:"839",wildtype:"A",mutant:"M",Escape:-.0183,epitope:1,times_seen:53,effect:-.044},{reference_site:"839",wildtype:"A",mutant:"S",Escape:-.053,epitope:1,times_seen:17.3333,effect:-.222},{reference_site:"839",wildtype:"A",mutant:"T",Escape:-.027,epitope:1,times_seen:3.6667,effect:-.0802},{reference_site:"839",wildtype:"A",mutant:"V",Escape:.0175,epitope:1,times_seen:5.6667,effect:-.1155},{reference_site:"840",wildtype:"I",mutant:"A",Escape:-.0168,epitope:1,times_seen:53,effect:-.044},{reference_site:"840",wildtype:"I",mutant:"T",Escape:-.0312,epitope:1,times_seen:1,effect:-.4434},{reference_site:"840",wildtype:"I",mutant:"V",Escape:.0137,epitope:1,times_seen:1,effect:.0859},{reference_site:"840",wildtype:"I",mutant:"-",Escape:.0102,epitope:1,times_seen:1,effect:-.0538},{reference_site:"841",wildtype:"L",mutant:"M",Escape:-.0298,epitope:1,times_seen:15.3333,effect:-.0081},{reference_site:"841",wildtype:"L",mutant:"P",Escape:-.0211,epitope:1,times_seen:3,effect:-.4111},{reference_site:"841",wildtype:"L",mutant:"Q",Escape:-.0257,epitope:1,times_seen:1,effect:.4398},{reference_site:"841",wildtype:"L",mutant:"-",Escape:.0101,epitope:1,times_seen:1,effect:-.0538},{reference_site:"842",wildtype:"H",mutant:"N",Escape:.0065,epitope:1,times_seen:2.3333,effect:-.0232},{reference_site:"842",wildtype:"H",mutant:"Q",Escape:-.0066,epitope:1,times_seen:2,effect:-.5244},{reference_site:"842",wildtype:"H",mutant:"Y",Escape:.0408,epitope:1,times_seen:5,effect:-.3121},{reference_site:"842",wildtype:"H",mutant:"-",Escape:.0121,epitope:1,times_seen:1,effect:-.0585},{reference_site:"843",wildtype:"I",mutant:"N",Escape:-.0039,epitope:1,times_seen:1,effect:.4211},{reference_site:"843",wildtype:"I",mutant:"T",Escape:-.0129,epitope:1,times_seen:1,effect:-1.3792},{reference_site:"844",wildtype:"P",mutant:"A",Escape:.072,epitope:1,times_seen:1,effect:-.035},{reference_site:"844",wildtype:"P",mutant:"H",Escape:-.0996,epitope:1,times_seen:18.6667,effect:-.1708},{reference_site:"844",wildtype:"P",mutant:"L",Escape:.0366,epitope:1,times_seen:1.6667,effect:.2485},{reference_site:"844",wildtype:"P",mutant:"T",Escape:-.0489,epitope:1,times_seen:15.3333,effect:.0686},{reference_site:"845",wildtype:"R",mutant:"G",Escape:.0134,epitope:1,times_seen:1.6667,effect:-.3134},{reference_site:"845",wildtype:"R",mutant:"I",Escape:.0992,epitope:1,times_seen:3.6667,effect:-.0686},{reference_site:"845",wildtype:"R",mutant:"K",Escape:.0254,epitope:1,times_seen:6,effect:-.9378},{reference_site:"845",wildtype:"R",mutant:"T",Escape:.1107,epitope:1,times_seen:1,effect:-.1205},{reference_site:"846",wildtype:"R",mutant:"G",Escape:-.0925,epitope:1,times_seen:1,effect:-1.1526},{reference_site:"846",wildtype:"R",mutant:"I",Escape:-.0309,epitope:1,times_seen:3.6667,effect:-.3995},{reference_site:"846",wildtype:"R",mutant:"K",Escape:-.0562,epitope:1,times_seen:6.6667,effect:-.6302},{reference_site:"847",wildtype:"I",mutant:"N",Escape:.0108,epitope:1,times_seen:2,effect:.0852},{reference_site:"847",wildtype:"I",mutant:"S",Escape:.0184,epitope:1,times_seen:1,effect:.1995},{reference_site:"847",wildtype:"I",mutant:"V",Escape:.0237,epitope:1,times_seen:1,effect:-.3135},{reference_site:"848",wildtype:"R",mutant:"G",Escape:.0645,epitope:1,times_seen:5.6667,effect:-.2147},{reference_site:"848",wildtype:"R",mutant:"I",Escape:.0956,epitope:1,times_seen:9.3333,effect:-.336},{reference_site:"848",wildtype:"R",mutant:"K",Escape:-.0129,epitope:1,times_seen:1,effect:-.8709},{reference_site:"849",wildtype:"Q",mutant:"H",Escape:.0504,epitope:1,times_seen:10.6667,effect:-.1344},{reference_site:"849",wildtype:"Q",mutant:"K",Escape:.0528,epitope:1,times_seen:3,effect:-.6124},{reference_site:"849",wildtype:"Q",mutant:"R",Escape:.0601,epitope:1,times_seen:4.6667,effect:-.1929},{reference_site:"849",wildtype:"Q",mutant:"*",Escape:-.0139,epitope:1,times_seen:1.6667,effect:-.6461},{reference_site:"850",wildtype:"G",mutant:"C",Escape:-.0686,epitope:1,times_seen:7.6667,effect:-.0046},{reference_site:"850",wildtype:"G",mutant:"D",Escape:.0168,epitope:1,times_seen:2.6667,effect:-.5802},{reference_site:"850",wildtype:"G",mutant:"S",Escape:-.0037,epitope:1,times_seen:1,effect:-.0154},{reference_site:"850",wildtype:"G",mutant:"V",Escape:.0141,epitope:1,times_seen:2,effect:-.5983},{reference_site:"851",wildtype:"F",mutant:"I",Escape:.0139,epitope:1,times_seen:1,effect:-.4393},{reference_site:"851",wildtype:"F",mutant:"L",Escape:.0308,epitope:1,times_seen:6.3333,effect:-.1043},{reference_site:"851",wildtype:"F",mutant:"S",Escape:-.0028,epitope:1,times_seen:12,effect:-.6663},{reference_site:"852",wildtype:"E",mutant:"D",Escape:-.059,epitope:1,times_seen:9.6667,effect:-.159},{reference_site:"852",wildtype:"E",mutant:"G",Escape:-.0157,epitope:1,times_seen:1.3333,effect:-1.7322},{reference_site:"852",wildtype:"E",mutant:"K",Escape:.0652,epitope:1,times_seen:2.3333,effect:-.657},{reference_site:"852",wildtype:"E",mutant:"L",Escape:-.0049,epitope:1,times_seen:12,effect:-.529},{reference_site:"852",wildtype:"E",mutant:"Q",Escape:-.0042,epitope:1,times_seen:1.5,effect:-.1568},{reference_site:"852",wildtype:"E",mutant:"*",Escape:-.004,epitope:1,times_seen:1,effect:.2364},{reference_site:"853",wildtype:"R",mutant:"E",Escape:-.0044,epitope:1,times_seen:12,effect:-1.1012},{reference_site:"853",wildtype:"R",mutant:"G",Escape:-.0107,epitope:1,times_seen:2.6667,effect:-.5928},{reference_site:"853",wildtype:"R",mutant:"I",Escape:.0493,epitope:1,times_seen:6.6667,effect:-.1306},{reference_site:"853",wildtype:"R",mutant:"K",Escape:-.0033,epitope:1,times_seen:2.3333,effect:.0549},{reference_site:"854",wildtype:"A",mutant:"D",Escape:-.0225,epitope:1,times_seen:1,effect:-.4183},{reference_site:"854",wildtype:"A",mutant:"P",Escape:.027,epitope:1,times_seen:1,effect:-.683},{reference_site:"854",wildtype:"A",mutant:"S",Escape:-.0215,epitope:1,times_seen:8.3333,effect:-.2341},{reference_site:"854",wildtype:"A",mutant:"T",Escape:.1137,epitope:1,times_seen:3.3333,effect:-.315},{reference_site:"854",wildtype:"A",mutant:"V",Escape:.0471,epitope:1,times_seen:6.6667,effect:-.0399},{reference_site:"855",wildtype:"L",mutant:"M",Escape:.0167,epitope:1,times_seen:8,effect:-.0826},{reference_site:"855",wildtype:"L",mutant:"P",Escape:-.0283,epitope:1,times_seen:2,effect:-.5001},{reference_site:"856",wildtype:"L",mutant:"M",Escape:.0049,epitope:1,times_seen:3,effect:-.2324},{reference_site:"856",wildtype:"L",mutant:"P",Escape:-.0251,epitope:1,times_seen:2.6667,effect:-.1147},{reference_site:"856",wildtype:"L",mutant:"Q",Escape:-.0106,epitope:1,times_seen:1,effect:.4623},{reference_site:"856",wildtype:"L",mutant:"V",Escape:.0343,epitope:1,times_seen:1,effect:.094},{reference_site:"856a",wildtype:"*",mutant:"C",Escape:.0036,epitope:1,times_seen:2,effect:-.7048},{reference_site:"856a",wildtype:"*",mutant:"L",Escape:-.0185,epitope:1,times_seen:3.3333,effect:-.7415},{reference_site:"856a",wildtype:"*",mutant:"R",Escape:-.0071,epitope:1,times_seen:1,effect:-1.1067},{reference_site:"856a",wildtype:"*",mutant:"W",Escape:-.019,epitope:1,times_seen:2,effect:-.4001}],metric_col:"Escape",sitemap:{1:{sequential_site:1,sequential_wt:"M",reference_wt:"M",region:"signal peptide",protein_site:"1",chains:"C F M G J P"},2:{sequential_site:2,sequential_wt:"R",reference_wt:"R",region:"signal peptide",protein_site:"2",chains:"C F M G J P"},3:{sequential_site:3,sequential_wt:"V",reference_wt:"V",region:"signal peptide",protein_site:"3",chains:"C F M G J P"},4:{sequential_site:4,sequential_wt:"K",reference_wt:"K",region:"signal peptide",protein_site:"4",chains:"C F M G J P"},5:{sequential_site:8,sequential_wt:"M",reference_wt:"E",region:"signal peptide",protein_site:"5",chains:"C F M G J P"},6:{sequential_site:9,sequential_wt:"N",reference_wt:"K",region:"signal peptide",protein_site:"6",chains:"C F M G J P"},7:{sequential_site:10,sequential_wt:"S",reference_wt:"Y",region:"signal peptide",protein_site:"7",chains:"C F M G J P"},8:{sequential_site:11,sequential_wt:"Q",reference_wt:"Q",region:"signal peptide",protein_site:"8",chains:"C F M G J P"},9:{sequential_site:12,sequential_wt:"H",reference_wt:"H",region:"signal peptide",protein_site:"9",chains:"C F M G J P"},10:{sequential_site:13,sequential_wt:"L",reference_wt:"L",region:"signal peptide",protein_site:"10",chains:"C F M G J P"},15:{sequential_site:14,sequential_wt:"L",reference_wt:"W",region:"signal peptide",protein_site:"15",chains:"C F M G J P"},16:{sequential_site:15,sequential_wt:"R",reference_wt:"R",region:"signal peptide",protein_site:"16",chains:"C F M G J P"},17:{sequential_site:16,sequential_wt:"W",reference_wt:"W",region:"signal peptide",protein_site:"17",chains:"C F M G J P"},18:{sequential_site:17,sequential_wt:"G",reference_wt:"G",region:"signal peptide",protein_site:"18",chains:"C F M G J P"},19:{sequential_site:18,sequential_wt:"I",reference_wt:"T",region:"signal peptide",protein_site:"19",chains:"C F M G J P"},20:{sequential_site:19,sequential_wt:"M",reference_wt:"M",region:"signal peptide",protein_site:"20",chains:"C F M G J P"},21:{sequential_site:20,sequential_wt:"I",reference_wt:"L",region:"signal peptide",protein_site:"21",chains:"C F M G J P"},22:{sequential_site:21,sequential_wt:"L",reference_wt:"L",region:"signal peptide",protein_site:"22",chains:"C F M G J P"},23:{sequential_site:22,sequential_wt:"G",reference_wt:"G",region:"signal peptide",protein_site:"23",chains:"C F M G J P"},24:{sequential_site:23,sequential_wt:"M",reference_wt:"M",region:"signal peptide",protein_site:"24",chains:"C F M G J P"},25:{sequential_site:24,sequential_wt:"I",reference_wt:"L",region:"signal peptide",protein_site:"25",chains:"C F M G J P"},26:{sequential_site:25,sequential_wt:"M",reference_wt:"M",region:"signal peptide",protein_site:"26",chains:"C F M G J P"},27:{sequential_site:26,sequential_wt:"I",reference_wt:"I",region:"signal peptide",protein_site:"27",chains:"C F M G J P"},28:{sequential_site:27,sequential_wt:"C",reference_wt:"C",region:"signal peptide",protein_site:"28",chains:"C F M G J P"},29:{sequential_site:28,sequential_wt:"S",reference_wt:"S",region:"signal peptide",protein_site:"29",chains:"C F M G J P"},30:{sequential_site:29,sequential_wt:"V",reference_wt:"A",region:"signal peptide",protein_site:"30",chains:"C F M G J P"},31:{sequential_site:30,sequential_wt:"A",reference_wt:"T",region:"signal peptide",protein_site:"31",chains:"C F M G J P"},32:{sequential_site:31,sequential_wt:"G",reference_wt:"E",region:"signal peptide",protein_site:"32",chains:"C F M G J P"},33:{sequential_site:32,sequential_wt:"N",reference_wt:"K",region:"signal peptide",protein_site:"33",chains:"C F M G J P"},34:{sequential_site:33,sequential_wt:"L",reference_wt:"L",region:"signal peptide",protein_site:"34",chains:"C F M G J P"},35:{sequential_site:34,sequential_wt:"W",reference_wt:"W",region:"signal peptide",protein_site:"35",chains:"C F M G J P"},36:{sequential_site:35,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"36",chains:"C F M G J P"},37:{sequential_site:36,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"37",chains:"C F M G J P"},38:{sequential_site:37,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"38",chains:"C F M G J P"},39:{sequential_site:38,sequential_wt:"Y",reference_wt:"Y",region:"gp120/gp41 interface",protein_site:"39",chains:"C F M G J P"},40:{sequential_site:39,sequential_wt:"Y",reference_wt:"Y",region:"gp120/gp41 interface",protein_site:"40",chains:"C F M G J P"},41:{sequential_site:40,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"41",chains:"C F M G J P"},42:{sequential_site:41,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"42",chains:"C F M G J P"},43:{sequential_site:42,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"43",chains:"C F M G J P"},44:{sequential_site:43,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"44",chains:"C F M G J P"},45:{sequential_site:44,sequential_wt:"W",reference_wt:"W",region:"gp120/gp41 interface",protein_site:"45",chains:"C F M G J P"},46:{sequential_site:45,sequential_wt:"K",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"46",chains:"C F M G J P"},47:{sequential_site:46,sequential_wt:"D",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"47",chains:"C F M G J P"},48:{sequential_site:47,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"48",chains:"C F M G J P"},49:{sequential_site:48,sequential_wt:"E",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"49",chains:"C F M G J P"},50:{sequential_site:49,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"50",chains:"C F M G J P"},51:{sequential_site:50,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"51",chains:"C F M G J P"},52:{sequential_site:51,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"52",chains:"C F M G J P"},53:{sequential_site:52,sequential_wt:"F",reference_wt:"F",region:"gp120/gp41 interface",protein_site:"53",chains:"C F M G J P"},54:{sequential_site:53,sequential_wt:"C",reference_wt:"C",region:"gp120/gp41 interface",protein_site:"54",chains:"C F M G J P"},55:{sequential_site:54,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"55",chains:"C F M G J P"},56:{sequential_site:55,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"56",chains:"C F M G J P"},57:{sequential_site:56,sequential_wt:"D",reference_wt:"D",region:"gp120/gp41 interface",protein_site:"57",chains:"C F M G J P"},58:{sequential_site:57,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"58",chains:"C F M G J P"},59:{sequential_site:58,sequential_wt:"K",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"59",chains:"C F M G J P"},60:{sequential_site:59,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"60",chains:"C F M G J P"},61:{sequential_site:60,sequential_wt:"Y",reference_wt:"Y",region:"gp120/gp41 interface",protein_site:"61",chains:"C F M G J P"},62:{sequential_site:61,sequential_wt:"D",reference_wt:"D",region:"gp120/gp41 interface",protein_site:"62",chains:"C F M G J P"},63:{sequential_site:62,sequential_wt:"A",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"63",chains:"C F M G J P"},64:{sequential_site:63,sequential_wt:"E",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"64",chains:"C F M G J P"},65:{sequential_site:64,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"65",chains:"C F M G J P"},66:{sequential_site:65,sequential_wt:"H",reference_wt:"H",region:"gp120/gp41 interface",protein_site:"66",chains:"C F M G J P"},67:{sequential_site:66,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"67",chains:"C F M G J P"},68:{sequential_site:67,sequential_wt:"I",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"68",chains:"C F M G J P"},69:{sequential_site:68,sequential_wt:"W",reference_wt:"W",region:"gp120/gp41 interface",protein_site:"69",chains:"C F M G J P"},70:{sequential_site:69,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"70",chains:"C F M G J P"},71:{sequential_site:70,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"71",chains:"C F M G J P"},72:{sequential_site:71,sequential_wt:"H",reference_wt:"H",region:"gp120/gp41 interface",protein_site:"72",chains:"C F M G J P"},73:{sequential_site:72,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"73",chains:"C F M G J P"},74:{sequential_site:73,sequential_wt:"C",reference_wt:"C",region:"gp120/gp41 interface",protein_site:"74",chains:"C F M G J P"},75:{sequential_site:74,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"75",chains:"C F M G J P"},76:{sequential_site:75,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"76",chains:"C F M G J P"},77:{sequential_site:76,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"77",chains:"C F M G J P"},78:{sequential_site:77,sequential_wt:"D",reference_wt:"D",region:"gp120/gp41 interface",protein_site:"78",chains:"C F M G J P"},79:{sequential_site:78,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"79",chains:"C F M G J P"},80:{sequential_site:79,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"80",chains:"C F M G J P"},81:{sequential_site:80,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"81",chains:"C F M G J P"},82:{sequential_site:81,sequential_wt:"Q",reference_wt:"Q",region:"gp120/gp41 interface",protein_site:"82",chains:"C F M G J P"},83:{sequential_site:82,sequential_wt:"E",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"83",chains:"C F M G J P"},84:{sequential_site:83,sequential_wt:"I",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"84",chains:"C F M G J P"},85:{sequential_site:84,sequential_wt:"N",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"85",chains:"C F M G J P"},86:{sequential_site:85,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"86",chains:"C F M G J P"},87:{sequential_site:86,sequential_wt:"E",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"87",chains:"C F M G J P"},88:{sequential_site:87,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"88",chains:"C F M G J P"},89:{sequential_site:88,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"89",chains:"C F M G J P"},90:{sequential_site:89,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"90",chains:"C F M G J P"},91:{sequential_site:90,sequential_wt:"E",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"91",chains:"C F M G J P"},92:{sequential_site:91,sequential_wt:"E",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"92",chains:"C F M G J P"},93:{sequential_site:92,sequential_wt:"F",reference_wt:"F",region:"gp120/gp41 interface",protein_site:"93",chains:"C F M G J P"},94:{sequential_site:93,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"94",chains:"C F M G J P"},95:{sequential_site:94,sequential_wt:"M",reference_wt:"M",region:"gp120/gp41 interface",protein_site:"95",chains:"C F M G J P"},96:{sequential_site:95,sequential_wt:"W",reference_wt:"W",region:"gp120/gp41 interface",protein_site:"96",chains:"C F M G J P"},97:{sequential_site:96,sequential_wt:"K",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"97",chains:"C F M G J P"},98:{sequential_site:97,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"98",chains:"C F M G J P"},99:{sequential_site:98,sequential_wt:"N",reference_wt:"D",region:"gp120/gp41 interface",protein_site:"99",chains:"C F M G J P"},100:{sequential_site:99,sequential_wt:"M",reference_wt:"M",region:"gp120/gp41 interface",protein_site:"100",chains:"C F M G J P"},101:{sequential_site:100,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"101",chains:"C F M G J P"},102:{sequential_site:101,sequential_wt:"E",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"102",chains:"C F M G J P"},103:{sequential_site:102,sequential_wt:"Q",reference_wt:"Q",region:"gp120/gp41 interface",protein_site:"103",chains:"C F M G J P"},104:{sequential_site:103,sequential_wt:"M",reference_wt:"M",region:"gp120/gp41 interface",protein_site:"104",chains:"C F M G J P"},105:{sequential_site:104,sequential_wt:"H",reference_wt:"H",region:"gp120/gp41 interface",protein_site:"105",chains:"C F M G J P"},106:{sequential_site:105,sequential_wt:"T",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"106",chains:"C F M G J P"},107:{sequential_site:106,sequential_wt:"D",reference_wt:"D",region:"gp120/gp41 interface",protein_site:"107",chains:"C F M G J P"},108:{sequential_site:107,sequential_wt:"I",reference_wt:"I",region:"gp120/gp41 interface",protein_site:"108",chains:"C F M G J P"},109:{sequential_site:108,sequential_wt:"I",reference_wt:"I",region:"gp120/gp41 interface",protein_site:"109",chains:"C F M G J P"},110:{sequential_site:109,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"110",chains:"C F M G J P"},111:{sequential_site:110,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"111",chains:"C F M G J P"},112:{sequential_site:111,sequential_wt:"W",reference_wt:"W",region:"gp120/gp41 interface",protein_site:"112",chains:"C F M G J P"},113:{sequential_site:112,sequential_wt:"D",reference_wt:"D",region:"gp120/gp41 interface",protein_site:"113",chains:"C F M G J P"},114:{sequential_site:113,sequential_wt:"Q",reference_wt:"Q",region:"gp120/gp41 interface",protein_site:"114",chains:"C F M G J P"},115:{sequential_site:114,sequential_wt:"G",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"115",chains:"C F M G J P"},116:{sequential_site:115,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"116",chains:"C F M G J P"},117:{sequential_site:116,sequential_wt:"K",reference_wt:"K",region:"Coreceptor binding site",protein_site:"117",chains:"C F M G J P"},118:{sequential_site:117,sequential_wt:"P",reference_wt:"P",region:"Coreceptor binding site",protein_site:"118",chains:"C F M G J P"},119:{sequential_site:118,sequential_wt:"C",reference_wt:"C",region:"Coreceptor binding site",protein_site:"119",chains:"C F M G J P"},120:{sequential_site:119,sequential_wt:"V",reference_wt:"V",region:"Coreceptor binding site",protein_site:"120",chains:"C F M G J P"},121:{sequential_site:120,sequential_wt:"K",reference_wt:"K",region:"Coreceptor binding site",protein_site:"121",chains:"C F M G J P"},122:{sequential_site:121,sequential_wt:"L",reference_wt:"L",region:"Coreceptor binding site",protein_site:"122",chains:"C F M G J P"},123:{sequential_site:122,sequential_wt:"T",reference_wt:"T",region:"Coreceptor binding site",protein_site:"123",chains:"C F M G J P"},124:{sequential_site:123,sequential_wt:"P",reference_wt:"P",region:"CD4 contact residue",protein_site:"124",chains:"C F M G J P"},125:{sequential_site:124,sequential_wt:"L",reference_wt:"L",region:"CD4 contact residue",protein_site:"125",chains:"C F M G J P"},126:{sequential_site:125,sequential_wt:"C",reference_wt:"C",region:"CD4 contact residue",protein_site:"126",chains:"C F M G J P"},127:{sequential_site:126,sequential_wt:"V",reference_wt:"V",region:"CD4 contact residue",protein_site:"127",chains:"C F M G J P"},128:{sequential_site:127,sequential_wt:"T",reference_wt:"S",region:"CD4 contact residue",protein_site:"128",chains:"C F M G J P"},129:{sequential_site:128,sequential_wt:"L",reference_wt:"L",region:"CD4 contact residue",protein_site:"129",chains:"C F M G J P"},130:{sequential_site:129,sequential_wt:"D",reference_wt:"K",region:"CD4 contact residue",protein_site:"130",chains:"C F M G J P"},131:{sequential_site:130,sequential_wt:"C",reference_wt:"C",region:"V1 loop",protein_site:"131",chains:"C F M G J P"},132:{sequential_site:131,sequential_wt:"H",reference_wt:"T",region:"V1 loop",protein_site:"132",chains:"C F M G J P"},133:{sequential_site:132,sequential_wt:"N",reference_wt:"D",region:"V1 loop",protein_site:"133",chains:"C F M G J P"},134:{sequential_site:133,sequential_wt:"V",reference_wt:"L",region:"V1 loop",protein_site:"134",chains:"C F M G J P"},135:{sequential_site:134,sequential_wt:"T",reference_wt:"K",region:"V1 loop",protein_site:"135",chains:"C F M G J P"},136:{sequential_site:135,sequential_wt:"Y",reference_wt:"N",region:"V1 loop",protein_site:"136",chains:"C F M G J P"},137:{sequential_site:136,sequential_wt:"N",reference_wt:"D",region:"V1 loop",protein_site:"137",chains:"C F M G J P"},138:{sequential_site:137,sequential_wt:"I",reference_wt:"T",region:"V1 loop",protein_site:"138",chains:"C F M G J P"},139:{sequential_site:138,sequential_wt:"T",reference_wt:"N",region:"V1 loop",protein_site:"139",chains:"C F M G J P"},140:{sequential_site:139,sequential_wt:"S",reference_wt:"T",region:"V1 loop",protein_site:"140",chains:"C F M G J P"},141:{sequential_site:140,sequential_wt:"D",reference_wt:"N",region:"V1 loop",protein_site:"141",chains:"C F M G J P"},142:{sequential_site:141,sequential_wt:"M",reference_wt:"S",region:"V1 loop",protein_site:"142",chains:"C F M G J P"},151:{sequential_site:142,sequential_wt:"K",reference_wt:"K",region:"V1 loop",protein_site:"151",chains:"C F M G J P"},152:{sequential_site:143,sequential_wt:"E",reference_wt:"G",region:"V1 loop",protein_site:"152",chains:"C F M G J P"},153:{sequential_site:144,sequential_wt:"E",reference_wt:"E",region:"V1 loop",protein_site:"153",chains:"C F M G J P"},154:{sequential_site:145,sequential_wt:"I",reference_wt:"I",region:"V1 loop",protein_site:"154",chains:"C F M G J P"},155:{sequential_site:146,sequential_wt:"T",reference_wt:"K",region:"V1 loop",protein_site:"155",chains:"C F M G J P"},156:{sequential_site:147,sequential_wt:"N",reference_wt:"N",region:"V1 loop",protein_site:"156",chains:"C F M G J P"},157:{sequential_site:148,sequential_wt:"C",reference_wt:"C",region:"V2 loop",protein_site:"157",chains:"C F M G J P"},158:{sequential_site:149,sequential_wt:"S",reference_wt:"S",region:"V2 loop",protein_site:"158",chains:"C F M G J P"},159:{sequential_site:150,sequential_wt:"Y",reference_wt:"F",region:"V2 loop",protein_site:"159",chains:"C F M G J P"},160:{sequential_site:151,sequential_wt:"N",reference_wt:"N",region:"V2 loop",protein_site:"160",chains:"C F M G J P"},161:{sequential_site:152,sequential_wt:"V",reference_wt:"I",region:"V2 loop",protein_site:"161",chains:"C F M G J P"},162:{sequential_site:153,sequential_wt:"T",reference_wt:"S",region:"V2 loop",protein_site:"162",chains:"C F M G J P"},163:{sequential_site:154,sequential_wt:"T",reference_wt:"T",region:"V2 loop",protein_site:"163",chains:"C F M G J P"},164:{sequential_site:155,sequential_wt:"V",reference_wt:"S",region:"V2 loop",protein_site:"164",chains:"C F M G J P"},165:{sequential_site:156,sequential_wt:"I",reference_wt:"I",region:"V2 loop",protein_site:"165",chains:"C F M G J P"},166:{sequential_site:157,sequential_wt:"R",reference_wt:"R",region:"V2 loop",protein_site:"166",chains:"C F M G J P"},167:{sequential_site:158,sequential_wt:"D",reference_wt:"G",region:"V2 loop",protein_site:"167",chains:"C F M G J P"},168:{sequential_site:159,sequential_wt:"K",reference_wt:"K",region:"V2 loop",protein_site:"168",chains:"C F M G J P"},169:{sequential_site:160,sequential_wt:"K",reference_wt:"V",region:"V2 loop",protein_site:"169",chains:"C F M G J P"},170:{sequential_site:161,sequential_wt:"Q",reference_wt:"Q",region:"V2 loop",protein_site:"170",chains:"C F M G J P"},171:{sequential_site:162,sequential_wt:"K",reference_wt:"K",region:"V2 loop",protein_site:"171",chains:"C F M G J P"},172:{sequential_site:163,sequential_wt:"V",reference_wt:"E",region:"V2 loop",protein_site:"172",chains:"C F M G J P"},173:{sequential_site:164,sequential_wt:"S",reference_wt:"Y",region:"V2 loop",protein_site:"173",chains:"C F M G J P"},174:{sequential_site:165,sequential_wt:"S",reference_wt:"A",region:"V2 loop",protein_site:"174",chains:"C F M G J P"},175:{sequential_site:166,sequential_wt:"L",reference_wt:"F",region:"V2 loop",protein_site:"175",chains:"C F M G J P"},176:{sequential_site:167,sequential_wt:"F",reference_wt:"F",region:"V2 loop",protein_site:"176",chains:"C F M G J P"},177:{sequential_site:168,sequential_wt:"Y",reference_wt:"Y",region:"V2 loop",protein_site:"177",chains:"C F M G J P"},178:{sequential_site:169,sequential_wt:"K",reference_wt:"K",region:"V2 loop",protein_site:"178",chains:"C F M G J P"},179:{sequential_site:170,sequential_wt:"L",reference_wt:"L",region:"V2 loop",protein_site:"179",chains:"C F M G J P"},180:{sequential_site:171,sequential_wt:"D",reference_wt:"D",region:"V2 loop",protein_site:"180",chains:"C F M G J P"},181:{sequential_site:172,sequential_wt:"V",reference_wt:"I",region:"V2 loop",protein_site:"181",chains:"C F M G J P"},182:{sequential_site:173,sequential_wt:"V",reference_wt:"I",region:"V2 loop",protein_site:"182",chains:"C F M G J P"},183:{sequential_site:174,sequential_wt:"Q",reference_wt:"P",region:"V2 loop",protein_site:"183",chains:"C F M G J P"},184:{sequential_site:175,sequential_wt:"I",reference_wt:"I",region:"V2 loop",protein_site:"184",chains:"C F M G J P"},185:{sequential_site:178,sequential_wt:"N",reference_wt:"D",region:"V2 loop",protein_site:"185",chains:"C F M G J P"},186:{sequential_site:179,sequential_wt:"N",reference_wt:"N",region:"V2 loop",protein_site:"186",chains:"C F M G J P"},187:{sequential_site:180,sequential_wt:"R",reference_wt:"D",region:"V2 loop",protein_site:"187",chains:"C F M G J P"},188:{sequential_site:181,sequential_wt:"T",reference_wt:"T",region:"V2 loop",protein_site:"188",chains:"C F M G J P"},189:{sequential_site:182,sequential_wt:"N",reference_wt:"T",region:"V2 loop",protein_site:"189",chains:"C F M G J P"},190:{sequential_site:183,sequential_wt:"S",reference_wt:"S",region:"V2 loop",protein_site:"190",chains:"C F M G J P"},191:{sequential_site:185,sequential_wt:"Y",reference_wt:"Y",region:"V2 loop",protein_site:"191",chains:"C F M G J P"},192:{sequential_site:186,sequential_wt:"R",reference_wt:"K",region:"V2 loop",protein_site:"192",chains:"C F M G J P"},193:{sequential_site:187,sequential_wt:"L",reference_wt:"L",region:"V2 loop",protein_site:"193",chains:"C F M G J P"},194:{sequential_site:188,sequential_wt:"I",reference_wt:"T",region:"V2 loop",protein_site:"194",chains:"C F M G J P"},195:{sequential_site:189,sequential_wt:"N",reference_wt:"S",region:"V2 loop",protein_site:"195",chains:"C F M G J P"},196:{sequential_site:190,sequential_wt:"C",reference_wt:"C",region:"V2 loop",protein_site:"196",chains:"C F M G J P"},197:{sequential_site:191,sequential_wt:"N",reference_wt:"N",region:"V2 loop",protein_site:"197",chains:"C F M G J P"},198:{sequential_site:192,sequential_wt:"T",reference_wt:"T",region:"CD4 contact residue",protein_site:"198",chains:"C F M G J P"},199:{sequential_site:193,sequential_wt:"S",reference_wt:"S",region:"CD4 contact residue",protein_site:"199",chains:"C F M G J P"},200:{sequential_site:194,sequential_wt:"A",reference_wt:"V",region:"CD4 contact residue",protein_site:"200",chains:"C F M G J P"},201:{sequential_site:195,sequential_wt:"I",reference_wt:"I",region:"CD4 contact residue",protein_site:"201",chains:"C F M G J P"},202:{sequential_site:196,sequential_wt:"T",reference_wt:"T",region:"Coreceptor binding site",protein_site:"202",chains:"C F M G J P"},203:{sequential_site:197,sequential_wt:"Q",reference_wt:"Q",region:"Coreceptor binding site",protein_site:"203",chains:"C F M G J P"},204:{sequential_site:198,sequential_wt:"A",reference_wt:"A",region:"Coreceptor binding site",protein_site:"204",chains:"C F M G J P"},205:{sequential_site:199,sequential_wt:"C",reference_wt:"C",region:"Coreceptor binding site",protein_site:"205",chains:"C F M G J P"},206:{sequential_site:200,sequential_wt:"P",reference_wt:"P",region:"Coreceptor binding site",protein_site:"206",chains:"C F M G J P"},207:{sequential_site:201,sequential_wt:"K",reference_wt:"K",region:"Coreceptor binding site",protein_site:"207",chains:"C F M G J P"},208:{sequential_site:202,sequential_wt:"V",reference_wt:"V",region:"Coreceptor binding site",protein_site:"208",chains:"C F M G J P"},209:{sequential_site:203,sequential_wt:"T",reference_wt:"S",region:"Coreceptor binding site",protein_site:"209",chains:"C F M G J P"},210:{sequential_site:204,sequential_wt:"F",reference_wt:"F",region:"Coreceptor binding site",protein_site:"210",chains:"C F M G J P"},211:{sequential_site:205,sequential_wt:"E",reference_wt:"E",region:"Coreceptor binding site",protein_site:"211",chains:"C F M G J P"},212:{sequential_site:206,sequential_wt:"P",reference_wt:"P",region:"Coreceptor binding site",protein_site:"212",chains:"C F M G J P"},213:{sequential_site:207,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"213",chains:"C F M G J P"},214:{sequential_site:208,sequential_wt:"P",reference_wt:"P",region:"Coreceptor binding site",protein_site:"214",chains:"C F M G J P"},215:{sequential_site:209,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"215",chains:"C F M G J P"},216:{sequential_site:210,sequential_wt:"H",reference_wt:"H",region:"Coreceptor binding site",protein_site:"216",chains:"C F M G J P"},217:{sequential_site:211,sequential_wt:"Y",reference_wt:"Y",region:"Coreceptor binding site",protein_site:"217",chains:"C F M G J P"},218:{sequential_site:212,sequential_wt:"C",reference_wt:"C",region:"Coreceptor binding site",protein_site:"218",chains:"C F M G J P"},219:{sequential_site:213,sequential_wt:"A",reference_wt:"A",region:"Coreceptor binding site",protein_site:"219",chains:"C F M G J P"},220:{sequential_site:214,sequential_wt:"P",reference_wt:"P",region:"Coreceptor binding site",protein_site:"220",chains:"C F M G J P"},221:{sequential_site:215,sequential_wt:"A",reference_wt:"A",region:"Coreceptor binding site",protein_site:"221",chains:"C F M G J P"},222:{sequential_site:216,sequential_wt:"G",reference_wt:"G",region:"Coreceptor binding site",protein_site:"222",chains:"C F M G J P"},223:{sequential_site:217,sequential_wt:"F",reference_wt:"F",region:"Coreceptor binding site",protein_site:"223",chains:"C F M G J P"},224:{sequential_site:218,sequential_wt:"A",reference_wt:"A",region:"Coreceptor binding site",protein_site:"224",chains:"C F M G J P"},225:{sequential_site:219,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"225",chains:"C F M G J P"},226:{sequential_site:220,sequential_wt:"L",reference_wt:"L",region:"Coreceptor binding site",protein_site:"226",chains:"C F M G J P"},227:{sequential_site:221,sequential_wt:"K",reference_wt:"K",region:"Coreceptor binding site",protein_site:"227",chains:"C F M G J P"},228:{sequential_site:222,sequential_wt:"C",reference_wt:"C",region:"Coreceptor binding site",protein_site:"228",chains:"C F M G J P"},229:{sequential_site:223,sequential_wt:"K",reference_wt:"N",region:"Coreceptor binding site",protein_site:"229",chains:"C F M G J P"},230:{sequential_site:224,sequential_wt:"D",reference_wt:"N",region:"Coreceptor binding site",protein_site:"230",chains:"C F M G J P"},231:{sequential_site:225,sequential_wt:"E",reference_wt:"K",region:"Coreceptor binding site",protein_site:"231",chains:"C F M G J P"},232:{sequential_site:226,sequential_wt:"K",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"232",chains:"C F M G J P"},233:{sequential_site:227,sequential_wt:"F",reference_wt:"F",region:"gp120/gp41 interface",protein_site:"233",chains:"C F M G J P"},234:{sequential_site:228,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"234",chains:"C F M G J P"},235:{sequential_site:229,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"235",chains:"C F M G J P"},236:{sequential_site:230,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"236",chains:"C F M G J P"},237:{sequential_site:231,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"237",chains:"C F M G J P"},238:{sequential_site:232,sequential_wt:"L",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"238",chains:"C F M G J P"},239:{sequential_site:233,sequential_wt:"C",reference_wt:"C",region:"gp120/gp41 interface",protein_site:"239",chains:"C F M G J P"},240:{sequential_site:234,sequential_wt:"K",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"240",chains:"C F M G J P"},241:{sequential_site:235,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"241",chains:"C F M G J P"},242:{sequential_site:236,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"242",chains:"C F M G J P"},243:{sequential_site:237,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"243",chains:"C F M G J P"},244:{sequential_site:238,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"244",chains:"C F M G J P"},245:{sequential_site:239,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"245",chains:"C F M G J P"},246:{sequential_site:240,sequential_wt:"Q",reference_wt:"Q",region:"gp120/gp41 interface",protein_site:"246",chains:"C F M G J P"},247:{sequential_site:241,sequential_wt:"C",reference_wt:"C",region:"gp120/gp41 interface",protein_site:"247",chains:"C F M G J P"},248:{sequential_site:242,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"248",chains:"C F M G J P"},249:{sequential_site:243,sequential_wt:"H",reference_wt:"H",region:"gp120/gp41 interface",protein_site:"249",chains:"C F M G J P"},250:{sequential_site:244,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"250",chains:"C F M G J P"},251:{sequential_site:245,sequential_wt:"I",reference_wt:"I",region:"gp120/gp41 interface",protein_site:"251",chains:"C F M G J P"},252:{sequential_site:246,sequential_wt:"K",reference_wt:"R",region:"gp120/gp41 interface",protein_site:"252",chains:"C F M G J P"},253:{sequential_site:247,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"253",chains:"C F M G J P"},254:{sequential_site:248,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"254",chains:"C F M G J P"},255:{sequential_site:249,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"255",chains:"C F M G J P"},256:{sequential_site:250,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"256",chains:"C F M G J P"},257:{sequential_site:251,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"257",chains:"C F M G J P"},258:{sequential_site:252,sequential_wt:"Q",reference_wt:"Q",region:"gp120/gp41 interface",protein_site:"258",chains:"C F M G J P"},259:{sequential_site:253,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"259",chains:"C F M G J P"},260:{sequential_site:254,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"260",chains:"C F M G J P"},261:{sequential_site:255,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"261",chains:"C F M G J P"},262:{sequential_site:256,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"262",chains:"C F M G J P"},263:{sequential_site:257,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"263",chains:"C F M G J P"},264:{sequential_site:258,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"264",chains:"C F M G J P"},265:{sequential_site:259,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"265",chains:"C F M G J P"},266:{sequential_site:260,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"266",chains:"C F M G J P"},267:{sequential_site:261,sequential_wt:"E",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"267",chains:"C F M G J P"},268:{sequential_site:262,sequential_wt:"G",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"268",chains:"C F M G J P"},269:{sequential_site:263,sequential_wt:"E",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"269",chains:"C F M G J P"},270:{sequential_site:264,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"270",chains:"C F M G J P"},271:{sequential_site:265,sequential_wt:"R",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"271",chains:"C F M G J P"},272:{sequential_site:266,sequential_wt:"I",reference_wt:"I",region:"gp120/gp41 interface",protein_site:"272",chains:"C F M G J P"},273:{sequential_site:267,sequential_wt:"R",reference_wt:"R",region:"gp120/gp41 interface",protein_site:"273",chains:"C F M G J P"},274:{sequential_site:268,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"274",chains:"C F M G J P"},275:{sequential_site:269,sequential_wt:"E",reference_wt:"V",region:"D loop",protein_site:"275",chains:"C F M G J P"},276:{sequential_site:270,sequential_wt:"N",reference_wt:"N",region:"D loop",protein_site:"276",chains:"C F M G J P"},277:{sequential_site:271,sequential_wt:"I",reference_wt:"F",region:"D loop",protein_site:"277",chains:"C F M G J P"},278:{sequential_site:272,sequential_wt:"T",reference_wt:"T",region:"D loop",protein_site:"278",chains:"C F M G J P"},279:{sequential_site:273,sequential_wt:"N",reference_wt:"D",region:"D loop",protein_site:"279",chains:"C F M G J P"},280:{sequential_site:274,sequential_wt:"N",reference_wt:"N",region:"D loop",protein_site:"280",chains:"C F M G J P"},281:{sequential_site:275,sequential_wt:"A",reference_wt:"A",region:"D loop",protein_site:"281",chains:"C F M G J P"},282:{sequential_site:276,sequential_wt:"K",reference_wt:"K",region:"D loop",protein_site:"282",chains:"C F M G J P"},283:{sequential_site:277,sequential_wt:"N",reference_wt:"T",region:"D loop",protein_site:"283",chains:"C F M G J P"},284:{sequential_site:278,sequential_wt:"I",reference_wt:"I",region:"D loop",protein_site:"284",chains:"C F M G J P"},285:{sequential_site:279,sequential_wt:"I",reference_wt:"I",region:"D loop",protein_site:"285",chains:"C F M G J P"},286:{sequential_site:280,sequential_wt:"V",reference_wt:"V",region:"D loop",protein_site:"286",chains:"C F M G J P"},287:{sequential_site:281,sequential_wt:"Q",reference_wt:"Q",region:"D loop",protein_site:"287",chains:"C F M G J P"},288:{sequential_site:282,sequential_wt:"L",reference_wt:"L",region:"D loop",protein_site:"288",chains:"C F M G J P"},289:{sequential_site:283,sequential_wt:"A",reference_wt:"N",region:"D loop",protein_site:"289",chains:"C F M G J P"},290:{sequential_site:284,sequential_wt:"S",reference_wt:"T",region:"D loop",protein_site:"290",chains:"C F M G J P"},291:{sequential_site:285,sequential_wt:"P",reference_wt:"S",region:"D loop",protein_site:"291",chains:"C F M G J P"},292:{sequential_site:286,sequential_wt:"V",reference_wt:"V",region:"D loop",protein_site:"292",chains:"C F M G J P"},293:{sequential_site:287,sequential_wt:"T",reference_wt:"E",region:"D loop",protein_site:"293",chains:"C F M G J P"},294:{sequential_site:288,sequential_wt:"I",reference_wt:"I",region:"D loop",protein_site:"294",chains:"C F M G J P"},295:{sequential_site:289,sequential_wt:"N",reference_wt:"N",region:"D loop",protein_site:"295",chains:"C F M G J P"},296:{sequential_site:290,sequential_wt:"C",reference_wt:"C",region:"V3 loop",protein_site:"296",chains:"C F M G J P"},297:{sequential_site:291,sequential_wt:"I",reference_wt:"T",region:"V3 loop",protein_site:"297",chains:"C F M G J P"},298:{sequential_site:292,sequential_wt:"R",reference_wt:"R",region:"Coreceptor binding site",protein_site:"298",chains:"C F M G J P"},299:{sequential_site:293,sequential_wt:"P",reference_wt:"P",region:"V3 loop",protein_site:"299",chains:"C F M G J P"},300:{sequential_site:294,sequential_wt:"N",reference_wt:"N",region:"V3 loop",protein_site:"300",chains:"C F M G J P"},301:{sequential_site:295,sequential_wt:"N",reference_wt:"N",region:"Coreceptor binding site",protein_site:"301",chains:"C F M G J P"},302:{sequential_site:296,sequential_wt:"N",reference_wt:"N",region:"V3 loop",protein_site:"302",chains:"C F M G J P"},303:{sequential_site:297,sequential_wt:"T",reference_wt:"T",region:"Coreceptor binding site",protein_site:"303",chains:"C F M G J P"},304:{sequential_site:298,sequential_wt:"R",reference_wt:"R",region:"V3 loop",protein_site:"304",chains:"C F M G J P"},305:{sequential_site:299,sequential_wt:"K",reference_wt:"K",region:"V3 loop",protein_site:"305",chains:"C F M G J P"},306:{sequential_site:300,sequential_wt:"S",reference_wt:"R",region:"Coreceptor binding site",protein_site:"306",chains:"C F M G J P"},307:{sequential_site:301,sequential_wt:"V",reference_wt:"I",region:"V3 loop",protein_site:"307",chains:"C F M G J P"},308:{sequential_site:302,sequential_wt:"H",reference_wt:"R",region:"Coreceptor binding site",protein_site:"308",chains:"C F M G J P"},309:{sequential_site:303,sequential_wt:"L",reference_wt:"I",region:"V3 loop",protein_site:"309",chains:"C F M G J P"},312:{sequential_site:304,sequential_wt:"G",reference_wt:"G",region:"Coreceptor binding site",protein_site:"312",chains:"C F M G J P"},313:{sequential_site:305,sequential_wt:"P",reference_wt:"P",region:"Coreceptor binding site",protein_site:"313",chains:"C F M G J P"},314:{sequential_site:306,sequential_wt:"G",reference_wt:"G",region:"V3 loop",protein_site:"314",chains:"C F M G J P"},315:{sequential_site:307,sequential_wt:"Q",reference_wt:"R",region:"Coreceptor binding site",protein_site:"315",chains:"C F M G J P"},316:{sequential_site:308,sequential_wt:"A",reference_wt:"A",region:"V3 loop",protein_site:"316",chains:"C F M G J P"},317:{sequential_site:309,sequential_wt:"F",reference_wt:"F",region:"Coreceptor binding site",protein_site:"317",chains:"C F M G J P"},318:{sequential_site:311,sequential_wt:"A",reference_wt:"V",region:"Coreceptor binding site",protein_site:"318",chains:"C F M G J P"},319:{sequential_site:312,sequential_wt:"T",reference_wt:"T",region:"V3 loop",protein_site:"319",chains:"C F M G J P"},320:{sequential_site:313,sequential_wt:"D",reference_wt:"I",region:"V3 loop",protein_site:"320",chains:"C F M G J P"},321:{sequential_site:314,sequential_wt:"G",reference_wt:"G",region:"V3 loop",protein_site:"321",chains:"C F M G J P"},322:{sequential_site:315,sequential_wt:"I",reference_wt:"K",region:"V3 loop",protein_site:"322",chains:"C F M G J P"},323:{sequential_site:316,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"323",chains:"C F M G J P"},324:{sequential_site:317,sequential_wt:"G",reference_wt:"G",region:"V3 loop",protein_site:"324",chains:"C F M G J P"},325:{sequential_site:318,sequential_wt:"E",reference_wt:"N",region:"Coreceptor binding site",protein_site:"325",chains:"C F M G J P"},326:{sequential_site:319,sequential_wt:"I",reference_wt:"M",region:"Coreceptor binding site",protein_site:"326",chains:"C F M G J P"},327:{sequential_site:320,sequential_wt:"R",reference_wt:"R",region:"Coreceptor binding site",protein_site:"327",chains:"C F M G J P"},328:{sequential_site:321,sequential_wt:"Q",reference_wt:"Q",region:"V3 loop",protein_site:"328",chains:"C F M G J P"},329:{sequential_site:322,sequential_wt:"A",reference_wt:"A",region:"V3 loop",protein_site:"329",chains:"C F M G J P"},330:{sequential_site:323,sequential_wt:"H",reference_wt:"H",region:"Coreceptor binding site",protein_site:"330",chains:"C F M G J P"},331:{sequential_site:324,sequential_wt:"C",reference_wt:"C",region:"V3 loop",protein_site:"331",chains:"C F M G J P"},332:{sequential_site:325,sequential_wt:"N",reference_wt:"N",region:"V3 loop",protein_site:"332",chains:"C F M G J P"},333:{sequential_site:326,sequential_wt:"V",reference_wt:"I",region:"V3 loop",protein_site:"333",chains:"C F M G J P"},334:{sequential_site:327,sequential_wt:"S",reference_wt:"S",region:"V3 loop",protein_site:"334",chains:"C F M G J P"},335:{sequential_site:328,sequential_wt:"K",reference_wt:"R",region:"V3 loop",protein_site:"335",chains:"C F M G J P"},336:{sequential_site:329,sequential_wt:"K",reference_wt:"A",region:"V3 loop",protein_site:"336",chains:"C F M G J P"},337:{sequential_site:330,sequential_wt:"E",reference_wt:"K",region:"V3 loop",protein_site:"337",chains:"C F M G J P"},338:{sequential_site:331,sequential_wt:"W",reference_wt:"W",region:"V3 loop",protein_site:"338",chains:"C F M G J P"},339:{sequential_site:332,sequential_wt:"N",reference_wt:"N",region:"V3 loop",protein_site:"339",chains:"C F M G J P"},340:{sequential_site:333,sequential_wt:"S",reference_wt:"N",region:"V3 loop",protein_site:"340",chains:"C F M G J P"},341:{sequential_site:334,sequential_wt:"T",reference_wt:"T",region:"V3 loop",protein_site:"341",chains:"C F M G J P"},342:{sequential_site:335,sequential_wt:"L",reference_wt:"L",region:"V3 loop",protein_site:"342",chains:"C F M G J P"},343:{sequential_site:336,sequential_wt:"Q",reference_wt:"K",region:"V3 loop",protein_site:"343",chains:"C F M G J P"},344:{sequential_site:337,sequential_wt:"K",reference_wt:"Q",region:"V3 loop",protein_site:"344",chains:"C F M G J P"},345:{sequential_site:338,sequential_wt:"V",reference_wt:"I",region:"V3 loop",protein_site:"345",chains:"C F M G J P"},346:{sequential_site:339,sequential_wt:"A",reference_wt:"A",region:"V3 loop",protein_site:"346",chains:"C F M G J P"},347:{sequential_site:340,sequential_wt:"N",reference_wt:"S",region:"V3 loop",protein_site:"347",chains:"C F M G J P"},348:{sequential_site:341,sequential_wt:"Q",reference_wt:"K",region:"V3 loop",protein_site:"348",chains:"C F M G J P"},349:{sequential_site:342,sequential_wt:"L",reference_wt:"L",region:"V3 loop",protein_site:"349",chains:"C F M G J P"},350:{sequential_site:343,sequential_wt:"R",reference_wt:"R",region:"V3 loop",protein_site:"350",chains:"C F M G J P"},351:{sequential_site:344,sequential_wt:"P",reference_wt:"E",region:"V3 loop",protein_site:"351",chains:"C F M G J P"},352:{sequential_site:345,sequential_wt:"Y",reference_wt:"Q",region:"V3 loop",protein_site:"352",chains:"C F M G J P"},353:{sequential_site:346,sequential_wt:"F",reference_wt:"F",region:"V3 loop",protein_site:"353",chains:"C F M G J P"},354:{sequential_site:347,sequential_wt:"K",reference_wt:"G",region:"V3 loop",protein_site:"354",chains:"C F M G J P"},355:{sequential_site:348,sequential_wt:"N",reference_wt:"N",region:"V3 loop",protein_site:"355",chains:"C F M G J P"},356:{sequential_site:349,sequential_wt:"N",reference_wt:"N",region:"V3 loop",protein_site:"356",chains:"C F M G J P"},357:{sequential_site:350,sequential_wt:"T",reference_wt:"K",region:"V3 loop",protein_site:"357",chains:"C F M G J P"},358:{sequential_site:351,sequential_wt:"I",reference_wt:"T",region:"V3 loop",protein_site:"358",chains:"C F M G J P"},359:{sequential_site:352,sequential_wt:"I",reference_wt:"I",region:"V3 loop",protein_site:"359",chains:"C F M G J P"},360:{sequential_site:353,sequential_wt:"K",reference_wt:"I",region:"V3 loop",protein_site:"360",chains:"C F M G J P"},361:{sequential_site:354,sequential_wt:"F",reference_wt:"F",region:"V3 loop",protein_site:"361",chains:"C F M G J P"},362:{sequential_site:355,sequential_wt:"A",reference_wt:"K",region:"V3 loop",protein_site:"362",chains:"C F M G J P"},363:{sequential_site:356,sequential_wt:"N",reference_wt:"Q",region:"V3 loop",protein_site:"363",chains:"C F M G J P"},364:{sequential_site:357,sequential_wt:"S",reference_wt:"S",region:"CD4 binding loop",protein_site:"364",chains:"C F M G J P"},365:{sequential_site:358,sequential_wt:"S",reference_wt:"S",region:"CD4 binding loop",protein_site:"365",chains:"C F M G J P"},366:{sequential_site:359,sequential_wt:"G",reference_wt:"G",region:"CD4 binding loop",protein_site:"366",chains:"C F M G J P"},367:{sequential_site:360,sequential_wt:"G",reference_wt:"G",region:"CD4 binding loop",protein_site:"367",chains:"C F M G J P"},368:{sequential_site:361,sequential_wt:"D",reference_wt:"D",region:"CD4 binding loop",protein_site:"368",chains:"C F M G J P"},369:{sequential_site:362,sequential_wt:"L",reference_wt:"P",region:"CD4 binding loop",protein_site:"369",chains:"C F M G J P"},370:{sequential_site:363,sequential_wt:"E",reference_wt:"E",region:"CD4 binding loop",protein_site:"370",chains:"C F M G J P"},371:{sequential_site:364,sequential_wt:"I",reference_wt:"I",region:"CD4 binding loop",protein_site:"371",chains:"C F M G J P"},372:{sequential_site:365,sequential_wt:"T",reference_wt:"V",region:"CD4 binding loop",protein_site:"372",chains:"C F M G J P"},373:{sequential_site:366,sequential_wt:"T",reference_wt:"T",region:"CD4 binding loop",protein_site:"373",chains:"C F M G J P"},374:{sequential_site:367,sequential_wt:"H",reference_wt:"H",region:"CD4 binding loop",protein_site:"374",chains:"C F M G J P"},375:{sequential_site:368,sequential_wt:"S",reference_wt:"S",region:"CD4 binding loop",protein_site:"375",chains:"C F M G J P"},376:{sequential_site:369,sequential_wt:"F",reference_wt:"F",region:"CD4 binding loop",protein_site:"376",chains:"C F M G J P"},377:{sequential_site:370,sequential_wt:"N",reference_wt:"N",region:"Coreceptor binding site",protein_site:"377",chains:"C F M G J P"},378:{sequential_site:371,sequential_wt:"C",reference_wt:"C",region:"Coreceptor binding site",protein_site:"378",chains:"C F M G J P"},379:{sequential_site:372,sequential_wt:"G",reference_wt:"G",region:"Coreceptor binding site",protein_site:"379",chains:"C F M G J P"},380:{sequential_site:373,sequential_wt:"G",reference_wt:"G",region:"Coreceptor binding site",protein_site:"380",chains:"C F M G J P"},381:{sequential_site:374,sequential_wt:"E",reference_wt:"E",region:"Coreceptor binding site",protein_site:"381",chains:"C F M G J P"},382:{sequential_site:375,sequential_wt:"F",reference_wt:"F",region:"gp120/gp41 interface",protein_site:"382",chains:"C F M G J P"},383:{sequential_site:376,sequential_wt:"F",reference_wt:"F",region:"Coreceptor binding site",protein_site:"383",chains:"C F M G J P"},384:{sequential_site:377,sequential_wt:"Y",reference_wt:"Y",region:"Coreceptor binding site",protein_site:"384",chains:"C F M G J P"},385:{sequential_site:378,sequential_wt:"C",reference_wt:"C",region:"V4 loop",protein_site:"385",chains:"C F M G J P"},386:{sequential_site:379,sequential_wt:"N",reference_wt:"N",region:"V4 loop",protein_site:"386",chains:"C F M G J P"},387:{sequential_site:380,sequential_wt:"T",reference_wt:"S",region:"V4 loop",protein_site:"387",chains:"C F M G J P"},388:{sequential_site:381,sequential_wt:"S",reference_wt:"T",region:"V4 loop",protein_site:"388",chains:"C F M G J P"},389:{sequential_site:382,sequential_wt:"G",reference_wt:"Q",region:"V4 loop",protein_site:"389",chains:"C F M G J P"},390:{sequential_site:383,sequential_wt:"L",reference_wt:"L",region:"V4 loop",protein_site:"390",chains:"C F M G J P"},391:{sequential_site:384,sequential_wt:"F",reference_wt:"F",region:"V4 loop",protein_site:"391",chains:"C F M G J P"},392:{sequential_site:385,sequential_wt:"N",reference_wt:"N",region:"V4 loop",protein_site:"392",chains:"C F M G J P"},393:{sequential_site:386,sequential_wt:"S",reference_wt:"S",region:"V4 loop",protein_site:"393",chains:"C F M G J P"},394:{sequential_site:387,sequential_wt:"T",reference_wt:"T",region:"V4 loop",protein_site:"394",chains:"C F M G J P"},395:{sequential_site:388,sequential_wt:"W",reference_wt:"W",region:"V4 loop",protein_site:"395",chains:"C F M G J P"},396:{sequential_site:390,sequential_wt:"F",reference_wt:"F",region:"V4 loop",protein_site:"396",chains:"C F M G J P"},397:{sequential_site:391,sequential_wt:"N",reference_wt:"N",region:"V4 loop",protein_site:"397",chains:"C F M G J P"},398:{sequential_site:392,sequential_wt:"S",reference_wt:"S",region:"V4 loop",protein_site:"398",chains:"C F M G J P"},399:{sequential_site:393,sequential_wt:"T",reference_wt:"T",region:"V4 loop",protein_site:"399",chains:"C F M G J P"},400:{sequential_site:394,sequential_wt:"W",reference_wt:"W",region:"V4 loop",protein_site:"400",chains:"C F M G J P"},406:{sequential_site:395,sequential_wt:"N",reference_wt:"N",region:"V4 loop",protein_site:"406",chains:"C F M G J P"},407:{sequential_site:396,sequential_wt:"N",reference_wt:"N",region:"V4 loop",protein_site:"407",chains:"C F M G J P"},408:{sequential_site:397,sequential_wt:"S",reference_wt:"T",region:"V4 loop",protein_site:"408",chains:"C F M G J P"},409:{sequential_site:398,sequential_wt:"N",reference_wt:"E",region:"V4 loop",protein_site:"409",chains:"C F M G J P"},410:{sequential_site:399,sequential_wt:"S",reference_wt:"G",region:"V4 loop",protein_site:"410",chains:"C F M G J P"},411:{sequential_site:400,sequential_wt:"T",reference_wt:"S",region:"V4 loop",protein_site:"411",chains:"C F M G J P"},412:{sequential_site:401,sequential_wt:"E",reference_wt:"D",region:"V4 loop",protein_site:"412",chains:"C F M G J P"},413:{sequential_site:402,sequential_wt:"N",reference_wt:"T",region:"V4 loop",protein_site:"413",chains:"C F M G J P"},414:{sequential_site:403,sequential_wt:"I",reference_wt:"I",region:"V4 loop",protein_site:"414",chains:"C F M G J P"},415:{sequential_site:404,sequential_wt:"T",reference_wt:"T",region:"V4 loop",protein_site:"415",chains:"C F M G J P"},416:{sequential_site:405,sequential_wt:"L",reference_wt:"L",region:"V4 loop",protein_site:"416",chains:"C F M G J P"},417:{sequential_site:406,sequential_wt:"Q",reference_wt:"P",region:"V4 loop",protein_site:"417",chains:"C F M G J P"},418:{sequential_site:407,sequential_wt:"C",reference_wt:"C",region:"V4 loop",protein_site:"418",chains:"C F M G J P"},419:{sequential_site:408,sequential_wt:"R",reference_wt:"R",region:"Coreceptor binding site",protein_site:"419",chains:"C F M G J P"},420:{sequential_site:409,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"420",chains:"C F M G J P"},421:{sequential_site:410,sequential_wt:"K",reference_wt:"K",region:"Coreceptor binding site",protein_site:"421",chains:"C F M G J P"},422:{sequential_site:411,sequential_wt:"Q",reference_wt:"Q",region:"Coreceptor binding site",protein_site:"422",chains:"C F M G J P"},423:{sequential_site:412,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"423",chains:"C F M G J P"},424:{sequential_site:413,sequential_wt:"I",reference_wt:"I",region:"gp120/gp41 interface",protein_site:"424",chains:"C F M G J P"},425:{sequential_site:414,sequential_wt:"N",reference_wt:"N",region:"CD4 contact residue",protein_site:"425",chains:"C F M G J P"},426:{sequential_site:415,sequential_wt:"M",reference_wt:"M",region:"CD4 contact residue",protein_site:"426",chains:"C F M G J P"},427:{sequential_site:416,sequential_wt:"W",reference_wt:"W",region:"CD4 contact residue",protein_site:"427",chains:"C F M G J P"},428:{sequential_site:417,sequential_wt:"Q",reference_wt:"Q",region:"CD4 contact residue",protein_site:"428",chains:"C F M G J P"},429:{sequential_site:418,sequential_wt:"R",reference_wt:"K",region:"CD4 contact residue",protein_site:"429",chains:"C F M G J P"},430:{sequential_site:419,sequential_wt:"A",reference_wt:"V",region:"CD4 contact residue",protein_site:"430",chains:"C F M G J P"},431:{sequential_site:420,sequential_wt:"G",reference_wt:"G",region:"CD4 contact residue",protein_site:"431",chains:"C F M G J P"},432:{sequential_site:421,sequential_wt:"Q",reference_wt:"K",region:"CD4 contact residue",protein_site:"432",chains:"C F M G J P"},433:{sequential_site:422,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"433",chains:"C F M G J P"},434:{sequential_site:423,sequential_wt:"I",reference_wt:"M",region:"gp120/gp41 interface",protein_site:"434",chains:"C F M G J P"},435:{sequential_site:424,sequential_wt:"Y",reference_wt:"Y",region:"gp120/gp41 interface",protein_site:"435",chains:"C F M G J P"},436:{sequential_site:425,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"436",chains:"C F M G J P"},437:{sequential_site:426,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"437",chains:"C F M G J P"},438:{sequential_site:427,sequential_wt:"P",reference_wt:"P",region:"Coreceptor binding site",protein_site:"438",chains:"C F M G J P"},439:{sequential_site:428,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"439",chains:"C F M G J P"},440:{sequential_site:429,sequential_wt:"P",reference_wt:"S",region:"Coreceptor binding site",protein_site:"440",chains:"C F M G J P"},441:{sequential_site:430,sequential_wt:"G",reference_wt:"G",region:"Coreceptor binding site",protein_site:"441",chains:"C F M G J P"},442:{sequential_site:431,sequential_wt:"V",reference_wt:"Q",region:"Coreceptor binding site",protein_site:"442",chains:"C F M G J P"},443:{sequential_site:432,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"443",chains:"C F M G J P"},444:{sequential_site:433,sequential_wt:"R",reference_wt:"R",region:"Coreceptor binding site",protein_site:"444",chains:"C F M G J P"},445:{sequential_site:434,sequential_wt:"C",reference_wt:"C",region:"Coreceptor binding site",protein_site:"445",chains:"C F M G J P"},446:{sequential_site:435,sequential_wt:"K",reference_wt:"S",region:"Coreceptor binding site",protein_site:"446",chains:"C F M G J P"},447:{sequential_site:436,sequential_wt:"S",reference_wt:"S",region:"Coreceptor binding site",protein_site:"447",chains:"C F M G J P"},448:{sequential_site:437,sequential_wt:"N",reference_wt:"N",region:"Coreceptor binding site",protein_site:"448",chains:"C F M G J P"},449:{sequential_site:438,sequential_wt:"I",reference_wt:"I",region:"Coreceptor binding site",protein_site:"449",chains:"C F M G J P"},450:{sequential_site:439,sequential_wt:"T",reference_wt:"T",region:"Coreceptor binding site",protein_site:"450",chains:"C F M G J P"},451:{sequential_site:440,sequential_wt:"G",reference_wt:"G",region:"Coreceptor binding site",protein_site:"451",chains:"C F M G J P"},452:{sequential_site:441,sequential_wt:"L",reference_wt:"L",region:"Coreceptor binding site",protein_site:"452",chains:"C F M G J P"},453:{sequential_site:442,sequential_wt:"I",reference_wt:"L",region:"Coreceptor binding site",protein_site:"453",chains:"C F M G J P"},454:{sequential_site:443,sequential_wt:"L",reference_wt:"L",region:"Coreceptor binding site",protein_site:"454",chains:"C F M G J P"},455:{sequential_site:444,sequential_wt:"T",reference_wt:"T",region:"CD4 contact residue",protein_site:"455",chains:"C F M G J P"},456:{sequential_site:445,sequential_wt:"R",reference_wt:"R",region:"CD4 contact residue",protein_site:"456",chains:"C F M G J P"},457:{sequential_site:446,sequential_wt:"D",reference_wt:"D",region:"CD4 contact residue",protein_site:"457",chains:"C F M G J P"},458:{sequential_site:447,sequential_wt:"G",reference_wt:"G",region:"CD4 contact residue",protein_site:"458",chains:"C F M G J P"},459:{sequential_site:448,sequential_wt:"G",reference_wt:"G",region:"CD4 contact residue",protein_site:"459",chains:"C F M G J P"},460:{sequential_site:449,sequential_wt:"S",reference_wt:"N",region:"CD4 contact residue",protein_site:"460",chains:"C F M G J P"},461:{sequential_site:450,sequential_wt:"N",reference_wt:"S",region:"CD4 contact residue",protein_site:"461",chains:"C F M G J P"},462:{sequential_site:451,sequential_wt:"K",reference_wt:"N",region:"V5 loop",protein_site:"462",chains:"C F M G J P"},463:{sequential_site:452,sequential_wt:"N",reference_wt:"N",region:"V5 loop",protein_site:"463",chains:"C F M G J P"},464:{sequential_site:453,sequential_wt:"T",reference_wt:"E",region:"V5 loop",protein_site:"464",chains:"C F M G J P"},465:{sequential_site:454,sequential_wt:"S",reference_wt:"S",region:"V5 loop",protein_site:"465",chains:"C F M G J P"},466:{sequential_site:455,sequential_wt:"E",reference_wt:"E",region:"V5 loop",protein_site:"466",chains:"C F M G J P"},467:{sequential_site:456,sequential_wt:"T",reference_wt:"I",region:"V5 loop",protein_site:"467",chains:"C F M G J P"},468:{sequential_site:457,sequential_wt:"F",reference_wt:"F",region:"V5 loop",protein_site:"468",chains:"C F M G J P"},469:{sequential_site:458,sequential_wt:"R",reference_wt:"R",region:"CD4 contact residue",protein_site:"469",chains:"C F M G J P"},470:{sequential_site:459,sequential_wt:"P",reference_wt:"P",region:"V5 loop",protein_site:"470",chains:"C F M G J P"},471:{sequential_site:460,sequential_wt:"G",reference_wt:"G",region:"CD4 contact residue",protein_site:"471",chains:"C F M G J P"},472:{sequential_site:461,sequential_wt:"G",reference_wt:"G",region:"CD4 contact residue",protein_site:"472",chains:"C F M G J P"},473:{sequential_site:462,sequential_wt:"G",reference_wt:"G",region:"CD4 contact residue",protein_site:"473",chains:"C F M G J P"},474:{sequential_site:463,sequential_wt:"D",reference_wt:"D",region:"CD4 contact residue",protein_site:"474",chains:"C F M G J P"},475:{sequential_site:464,sequential_wt:"M",reference_wt:"M",region:"CD4 contact residue",protein_site:"475",chains:"C F M G J P"},476:{sequential_site:465,sequential_wt:"R",reference_wt:"R",region:"CD4 contact residue",protein_site:"476",chains:"C F M G J P"},477:{sequential_site:466,sequential_wt:"D",reference_wt:"D",region:"CD4 contact residue",protein_site:"477",chains:"C F M G J P"},478:{sequential_site:467,sequential_wt:"N",reference_wt:"N",region:"CD4 contact residue",protein_site:"478",chains:"C F M G J P"},479:{sequential_site:468,sequential_wt:"W",reference_wt:"W",region:"CD4 contact residue",protein_site:"479",chains:"C F M G J P"},480:{sequential_site:469,sequential_wt:"R",reference_wt:"R",region:"CD4 contact residue",protein_site:"480",chains:"C F M G J P"},481:{sequential_site:470,sequential_wt:"S",reference_wt:"S",region:"CD4 contact residue",protein_site:"481",chains:"C F M G J P"},482:{sequential_site:471,sequential_wt:"E",reference_wt:"E",region:"CD4 contact residue",protein_site:"482",chains:"C F M G J P"},483:{sequential_site:472,sequential_wt:"L",reference_wt:"L",region:"CD4 contact residue",protein_site:"483",chains:"C F M G J P"},484:{sequential_site:473,sequential_wt:"Y",reference_wt:"Y",region:"CD4 contact residue",protein_site:"484",chains:"C F M G J P"},485:{sequential_site:474,sequential_wt:"K",reference_wt:"K",region:"CD4 contact residue",protein_site:"485",chains:"C F M G J P"},486:{sequential_site:475,sequential_wt:"Y",reference_wt:"Y",region:"CD4 contact residue",protein_site:"486",chains:"C F M G J P"},487:{sequential_site:476,sequential_wt:"K",reference_wt:"K",region:"CD4 contact residue",protein_site:"487",chains:"C F M G J P"},488:{sequential_site:477,sequential_wt:"V",reference_wt:"V",region:"CD4 contact residue",protein_site:"488",chains:"C F M G J P"},489:{sequential_site:478,sequential_wt:"V",reference_wt:"V",region:"CD4 contact residue",protein_site:"489",chains:"C F M G J P"},490:{sequential_site:479,sequential_wt:"K",reference_wt:"K",region:"CD4 contact residue",protein_site:"490",chains:"C F M G J P"},491:{sequential_site:480,sequential_wt:"I",reference_wt:"I",region:"CD4 contact residue",protein_site:"491",chains:"C F M G J P"},492:{sequential_site:481,sequential_wt:"E",reference_wt:"E",region:"CD4 contact residue",protein_site:"492",chains:"C F M G J P"},493:{sequential_site:482,sequential_wt:"P",reference_wt:"P",region:"CD4 contact residue",protein_site:"493",chains:"C F M G J P"},494:{sequential_site:483,sequential_wt:"I",reference_wt:"L",region:"CD4 contact residue",protein_site:"494",chains:"C F M G J P"},495:{sequential_site:484,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"495",chains:"C F M G J P"},496:{sequential_site:485,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"496",chains:"C F M G J P"},497:{sequential_site:486,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"497",chains:"C F M G J P"},498:{sequential_site:487,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"498",chains:"C F M G J P"},499:{sequential_site:488,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"499",chains:"C F M G J P"},500:{sequential_site:489,sequential_wt:"R",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"500",chains:"C F M G J P"},501:{sequential_site:490,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"501",chains:"C F M G J P"},502:{sequential_site:491,sequential_wt:"K",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"502",chains:"C F M G J P"},503:{sequential_site:492,sequential_wt:"R",reference_wt:"R",region:"gp120/gp41 interface",protein_site:"503",chains:"C F M G J P"},504:{sequential_site:493,sequential_wt:"R",reference_wt:"R",region:"gp120/gp41 interface",protein_site:"504",chains:"C F M G J P"},505:{sequential_site:494,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"505",chains:"C F M G J P"},506:{sequential_site:495,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"506",chains:"C F M G J P"},507:{sequential_site:496,sequential_wt:"E",reference_wt:"Q",region:"gp120/gp41 interface",protein_site:"507",chains:"C F M G J P"},508:{sequential_site:497,sequential_wt:"R",reference_wt:"R",region:"gp120/gp41 interface",protein_site:"508",chains:"C F M G J P"},509:{sequential_site:498,sequential_wt:"E",reference_wt:"E",region:"gp120/gp41 interface",protein_site:"509",chains:"C F M G J P"},510:{sequential_site:499,sequential_wt:"K",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"510",chains:"C F M G J P"},511:{sequential_site:500,sequential_wt:"R",reference_wt:"R",region:"gp120/gp41 interface",protein_site:"511",chains:"C F M G J P"},512:{sequential_site:501,sequential_wt:"A",reference_wt:"A",region:"fusion peptide",protein_site:"512",chains:"C F M G J P"},513:{sequential_site:502,sequential_wt:"V",reference_wt:"V",region:"fusion peptide",protein_site:"513",chains:"C F M G J P"},514:{sequential_site:503,sequential_wt:"G",reference_wt:"G",region:"fusion peptide",protein_site:"514",chains:"C F M G J P"},515:{sequential_site:504,sequential_wt:"I",reference_wt:"I",region:"fusion peptide",protein_site:"515",chains:"C F M G J P"},516:{sequential_site:505,sequential_wt:"G",reference_wt:"G",region:"fusion peptide",protein_site:"516",chains:"C F M G J P"},517:{sequential_site:506,sequential_wt:"A",reference_wt:"A",region:"fusion peptide",protein_site:"517",chains:"C F M G J P"},518:{sequential_site:507,sequential_wt:"V",reference_wt:"L",region:"fusion peptide",protein_site:"518",chains:"C F M G J P"},519:{sequential_site:508,sequential_wt:"F",reference_wt:"F",region:"fusion peptide",protein_site:"519",chains:"C F M G J P"},520:{sequential_site:509,sequential_wt:"I",reference_wt:"L",region:"fusion peptide",protein_site:"520",chains:"C F M G J P"},521:{sequential_site:510,sequential_wt:"G",reference_wt:"G",region:"fusion peptide",protein_site:"521",chains:"C F M G J P"},522:{sequential_site:511,sequential_wt:"F",reference_wt:"F",region:"fusion peptide",protein_site:"522",chains:"C F M G J P"},523:{sequential_site:512,sequential_wt:"L",reference_wt:"L",region:"fusion peptide",protein_site:"523",chains:"C F M G J P"},524:{sequential_site:513,sequential_wt:"G",reference_wt:"G",region:"fusion peptide",protein_site:"524",chains:"C F M G J P"},525:{sequential_site:514,sequential_wt:"A",reference_wt:"A",region:"fusion peptide",protein_site:"525",chains:"C F M G J P"},526:{sequential_site:515,sequential_wt:"A",reference_wt:"A",region:"fusion peptide",protein_site:"526",chains:"C F M G J P"},527:{sequential_site:516,sequential_wt:"G",reference_wt:"G",region:"fusion peptide",protein_site:"527",chains:"C F M G J P"},528:{sequential_site:517,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"528",chains:"C F M G J P"},529:{sequential_site:518,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"529",chains:"C F M G J P"},530:{sequential_site:519,sequential_wt:"M",reference_wt:"M",region:"gp120/gp41 interface",protein_site:"530",chains:"C F M G J P"},531:{sequential_site:520,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"531",chains:"C F M G J P"},532:{sequential_site:521,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"532",chains:"C F M G J P"},533:{sequential_site:522,sequential_wt:"A",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"533",chains:"C F M G J P"},534:{sequential_site:523,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"534",chains:"C F M G J P"},535:{sequential_site:524,sequential_wt:"V",reference_wt:"M",region:"N-helix",protein_site:"535",chains:"C F M G J P"},536:{sequential_site:525,sequential_wt:"T",reference_wt:"T",region:"N-helix",protein_site:"536",chains:"C F M G J P"},537:{sequential_site:526,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"537",chains:"C F M G J P"},538:{sequential_site:527,sequential_wt:"T",reference_wt:"T",region:"N-helix",protein_site:"538",chains:"C F M G J P"},539:{sequential_site:528,sequential_wt:"V",reference_wt:"V",region:"N-helix",protein_site:"539",chains:"C F M G J P"},540:{sequential_site:529,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"540",chains:"C F M G J P"},541:{sequential_site:530,sequential_wt:"A",reference_wt:"A",region:"N-helix",protein_site:"541",chains:"C F M G J P"},542:{sequential_site:531,sequential_wt:"R",reference_wt:"R",region:"N-helix",protein_site:"542",chains:"C F M G J P"},543:{sequential_site:532,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"543",chains:"C F M G J P"},544:{sequential_site:533,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"544",chains:"C F M G J P"},545:{sequential_site:534,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"545",chains:"C F M G J P"},546:{sequential_site:535,sequential_wt:"S",reference_wt:"S",region:"N-helix",protein_site:"546",chains:"C F M G J P"},547:{sequential_site:536,sequential_wt:"G",reference_wt:"G",region:"N-helix",protein_site:"547",chains:"C F M G J P"},548:{sequential_site:537,sequential_wt:"I",reference_wt:"I",region:"N-helix",protein_site:"548",chains:"C F M G J P"},549:{sequential_site:538,sequential_wt:"V",reference_wt:"V",region:"N-helix",protein_site:"549",chains:"C F M G J P"},550:{sequential_site:539,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"550",chains:"C F M G J P"},551:{sequential_site:540,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"551",chains:"C F M G J P"},552:{sequential_site:541,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"552",chains:"C F M G J P"},553:{sequential_site:542,sequential_wt:"S",reference_wt:"N",region:"N-helix",protein_site:"553",chains:"C F M G J P"},554:{sequential_site:543,sequential_wt:"N",reference_wt:"N",region:"N-helix",protein_site:"554",chains:"C F M G J P"},555:{sequential_site:544,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"555",chains:"C F M G J P"},556:{sequential_site:545,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"556",chains:"C F M G J P"},557:{sequential_site:546,sequential_wt:"R",reference_wt:"R",region:"N-helix",protein_site:"557",chains:"C F M G J P"},558:{sequential_site:547,sequential_wt:"A",reference_wt:"A",region:"N-helix",protein_site:"558",chains:"C F M G J P"},559:{sequential_site:548,sequential_wt:"I",reference_wt:"I",region:"N-helix",protein_site:"559",chains:"C F M G J P"},560:{sequential_site:549,sequential_wt:"E",reference_wt:"E",region:"N-helix",protein_site:"560",chains:"C F M G J P"},561:{sequential_site:550,sequential_wt:"A",reference_wt:"A",region:"N-helix",protein_site:"561",chains:"C F M G J P"},562:{sequential_site:551,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"562",chains:"C F M G J P"},563:{sequential_site:552,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"563",chains:"C F M G J P"},564:{sequential_site:553,sequential_wt:"H",reference_wt:"H",region:"N-helix",protein_site:"564",chains:"C F M G J P"},565:{sequential_site:554,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"565",chains:"C F M G J P"},566:{sequential_site:555,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"566",chains:"C F M G J P"},567:{sequential_site:556,sequential_wt:"K",reference_wt:"Q",region:"N-helix",protein_site:"567",chains:"C F M G J P"},568:{sequential_site:557,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"568",chains:"C F M G J P"},569:{sequential_site:558,sequential_wt:"T",reference_wt:"T",region:"N-helix",protein_site:"569",chains:"C F M G J P"},570:{sequential_site:559,sequential_wt:"V",reference_wt:"V",region:"N-helix",protein_site:"570",chains:"C F M G J P"},571:{sequential_site:560,sequential_wt:"W",reference_wt:"W",region:"N-helix",protein_site:"571",chains:"C F M G J P"},572:{sequential_site:561,sequential_wt:"G",reference_wt:"G",region:"N-helix",protein_site:"572",chains:"C F M G J P"},573:{sequential_site:562,sequential_wt:"I",reference_wt:"I",region:"N-helix",protein_site:"573",chains:"C F M G J P"},574:{sequential_site:563,sequential_wt:"K",reference_wt:"K",region:"N-helix",protein_site:"574",chains:"C F M G J P"},575:{sequential_site:564,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"575",chains:"C F M G J P"},576:{sequential_site:565,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"576",chains:"C F M G J P"},577:{sequential_site:566,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"577",chains:"C F M G J P"},578:{sequential_site:567,sequential_wt:"A",reference_wt:"A",region:"N-helix",protein_site:"578",chains:"C F M G J P"},579:{sequential_site:568,sequential_wt:"R",reference_wt:"R",region:"N-helix",protein_site:"579",chains:"C F M G J P"},580:{sequential_site:569,sequential_wt:"V",reference_wt:"I",region:"N-helix",protein_site:"580",chains:"C F M G J P"},581:{sequential_site:570,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"581",chains:"C F M G J P"},582:{sequential_site:571,sequential_wt:"A",reference_wt:"A",region:"N-helix",protein_site:"582",chains:"C F M G J P"},583:{sequential_site:572,sequential_wt:"V",reference_wt:"V",region:"N-helix",protein_site:"583",chains:"C F M G J P"},584:{sequential_site:573,sequential_wt:"E",reference_wt:"E",region:"N-helix",protein_site:"584",chains:"C F M G J P"},585:{sequential_site:574,sequential_wt:"R",reference_wt:"R",region:"N-helix",protein_site:"585",chains:"C F M G J P"},586:{sequential_site:575,sequential_wt:"Y",reference_wt:"Y",region:"N-helix",protein_site:"586",chains:"C F M G J P"},587:{sequential_site:576,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"587",chains:"C F M G J P"},588:{sequential_site:577,sequential_wt:"K",reference_wt:"K",region:"N-helix",protein_site:"588",chains:"C F M G J P"},589:{sequential_site:578,sequential_wt:"D",reference_wt:"D",region:"N-helix",protein_site:"589",chains:"C F M G J P"},590:{sequential_site:579,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"590",chains:"C F M G J P"},591:{sequential_site:580,sequential_wt:"Q",reference_wt:"Q",region:"N-helix",protein_site:"591",chains:"C F M G J P"},592:{sequential_site:581,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"592",chains:"C F M G J P"},593:{sequential_site:582,sequential_wt:"L",reference_wt:"L",region:"N-helix",protein_site:"593",chains:"C F M G J P"},594:{sequential_site:583,sequential_wt:"G",reference_wt:"G",region:"N-helix",protein_site:"594",chains:"C F M G J P"},595:{sequential_site:584,sequential_wt:"I",reference_wt:"I",region:"N-helix",protein_site:"595",chains:"C F M G J P"},596:{sequential_site:585,sequential_wt:"W",reference_wt:"W",region:"gp120/gp41 interface",protein_site:"596",chains:"C F M G J P"},597:{sequential_site:586,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"597",chains:"C F M G J P"},598:{sequential_site:587,sequential_wt:"C",reference_wt:"C",region:"gp120/gp41 interface",protein_site:"598",chains:"C F M G J P"},599:{sequential_site:588,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"599",chains:"C F M G J P"},600:{sequential_site:589,sequential_wt:"G",reference_wt:"G",region:"gp120/gp41 interface",protein_site:"600",chains:"C F M G J P"},601:{sequential_site:590,sequential_wt:"K",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"601",chains:"C F M G J P"},602:{sequential_site:591,sequential_wt:"L",reference_wt:"L",region:"gp120/gp41 interface",protein_site:"602",chains:"C F M G J P"},603:{sequential_site:592,sequential_wt:"I",reference_wt:"I",region:"gp120/gp41 interface",protein_site:"603",chains:"C F M G J P"},604:{sequential_site:593,sequential_wt:"C",reference_wt:"C",region:"gp120/gp41 interface",protein_site:"604",chains:"C F M G J P"},605:{sequential_site:594,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"605",chains:"C F M G J P"},606:{sequential_site:595,sequential_wt:"T",reference_wt:"T",region:"gp120/gp41 interface",protein_site:"606",chains:"C F M G J P"},607:{sequential_site:596,sequential_wt:"N",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"607",chains:"C F M G J P"},608:{sequential_site:597,sequential_wt:"V",reference_wt:"V",region:"gp120/gp41 interface",protein_site:"608",chains:"C F M G J P"},609:{sequential_site:598,sequential_wt:"P",reference_wt:"P",region:"gp120/gp41 interface",protein_site:"609",chains:"C F M G J P"},610:{sequential_site:599,sequential_wt:"W",reference_wt:"W",region:"gp120/gp41 interface",protein_site:"610",chains:"C F M G J P"},611:{sequential_site:600,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"611",chains:"C F M G J P"},612:{sequential_site:601,sequential_wt:"S",reference_wt:"A",region:"gp120/gp41 interface",protein_site:"612",chains:"C F M G J P"},613:{sequential_site:602,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"613",chains:"C F M G J P"},614:{sequential_site:603,sequential_wt:"W",reference_wt:"W",region:"gp120/gp41 interface",protein_site:"614",chains:"C F M G J P"},615:{sequential_site:604,sequential_wt:"S",reference_wt:"S",region:"gp120/gp41 interface",protein_site:"615",chains:"C F M G J P"},616:{sequential_site:605,sequential_wt:"N",reference_wt:"N",region:"gp120/gp41 interface",protein_site:"616",chains:"C F M G J P"},617:{sequential_site:606,sequential_wt:"K",reference_wt:"K",region:"gp120/gp41 interface",protein_site:"617",chains:"C F M G J P"},618:{sequential_site:607,sequential_wt:"S",reference_wt:"S",region:"C-helix",protein_site:"618",chains:"C F M G J P"},619:{sequential_site:608,sequential_wt:"Q",reference_wt:"L",region:"C-helix",protein_site:"619",chains:"C F M G J P"},620:{sequential_site:609,sequential_wt:"D",reference_wt:"E",region:"C-helix",protein_site:"620",chains:"C F M G J P"},621:{sequential_site:610,sequential_wt:"E",reference_wt:"Q",region:"C-helix",protein_site:"621",chains:"C F M G J P"},622:{sequential_site:611,sequential_wt:"I",reference_wt:"I",region:"C-helix",protein_site:"622",chains:"C F M G J P"},623:{sequential_site:612,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"623",chains:"C F M G J P"},624:{sequential_site:613,sequential_wt:"G",reference_wt:"N",region:"C-helix",protein_site:"624",chains:"C F M G J P"},625:{sequential_site:614,sequential_wt:"N",reference_wt:"H",region:"C-helix",protein_site:"625",chains:"C F M G J P"},626:{sequential_site:615,sequential_wt:"M",reference_wt:"T",region:"C-helix",protein_site:"626",chains:"C F M G J P"},627:{sequential_site:616,sequential_wt:"T",reference_wt:"T",region:"C-helix",protein_site:"627",chains:"C F M G J P"},628:{sequential_site:617,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"628",chains:"C F M G J P"},629:{sequential_site:618,sequential_wt:"L",reference_wt:"M",region:"C-helix",protein_site:"629",chains:"C F M G J P"},630:{sequential_site:619,sequential_wt:"Q",reference_wt:"E",region:"C-helix",protein_site:"630",chains:"C F M G J P"},631:{sequential_site:620,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"631",chains:"C F M G J P"},632:{sequential_site:621,sequential_wt:"D",reference_wt:"D",region:"C-helix",protein_site:"632",chains:"C F M G J P"},633:{sequential_site:622,sequential_wt:"K",reference_wt:"R",region:"C-helix",protein_site:"633",chains:"C F M G J P"},634:{sequential_site:623,sequential_wt:"E",reference_wt:"E",region:"C-helix",protein_site:"634",chains:"C F M G J P"},635:{sequential_site:624,sequential_wt:"V",reference_wt:"I",region:"C-helix",protein_site:"635",chains:"C F M G J P"},636:{sequential_site:625,sequential_wt:"S",reference_wt:"N",region:"C-helix",protein_site:"636",chains:"C F M G J P"},637:{sequential_site:626,sequential_wt:"N",reference_wt:"N",region:"C-helix",protein_site:"637",chains:"C F M G J P"},638:{sequential_site:627,sequential_wt:"Y",reference_wt:"Y",region:"C-helix",protein_site:"638",chains:"C F M G J P"},639:{sequential_site:628,sequential_wt:"T",reference_wt:"T",region:"C-helix",protein_site:"639",chains:"C F M G J P"},640:{sequential_site:629,sequential_wt:"Q",reference_wt:"S",region:"C-helix",protein_site:"640",chains:"C F M G J P"},641:{sequential_site:630,sequential_wt:"I",reference_wt:"L",region:"C-helix",protein_site:"641",chains:"C F M G J P"},642:{sequential_site:631,sequential_wt:"I",reference_wt:"I",region:"C-helix",protein_site:"642",chains:"C F M G J P"},643:{sequential_site:632,sequential_wt:"Y",reference_wt:"H",region:"C-helix",protein_site:"643",chains:"C F M G J P"},644:{sequential_site:633,sequential_wt:"T",reference_wt:"S",region:"C-helix",protein_site:"644",chains:"C F M G J P"},645:{sequential_site:634,sequential_wt:"L",reference_wt:"L",region:"C-helix",protein_site:"645",chains:"C F M G J P"},646:{sequential_site:635,sequential_wt:"I",reference_wt:"I",region:"C-helix",protein_site:"646",chains:"C F M G J P"},647:{sequential_site:636,sequential_wt:"E",reference_wt:"E",region:"C-helix",protein_site:"647",chains:"C F M G J P"},648:{sequential_site:637,sequential_wt:"E",reference_wt:"E",region:"C-helix",protein_site:"648",chains:"C F M G J P"},649:{sequential_site:638,sequential_wt:"S",reference_wt:"S",region:"C-helix",protein_site:"649",chains:"C F M G J P"},650:{sequential_site:639,sequential_wt:"Q",reference_wt:"Q",region:"C-helix",protein_site:"650",chains:"C F M G J P"},651:{sequential_site:640,sequential_wt:"N",reference_wt:"N",region:"C-helix",protein_site:"651",chains:"C F M G J P"},652:{sequential_site:641,sequential_wt:"Q",reference_wt:"Q",region:"C-helix",protein_site:"652",chains:"C F M G J P"},653:{sequential_site:642,sequential_wt:"Q",reference_wt:"Q",region:"C-helix",protein_site:"653",chains:"C F M G J P"},654:{sequential_site:643,sequential_wt:"E",reference_wt:"E",region:"C-helix",protein_site:"654",chains:"C F M G J P"},655:{sequential_site:644,sequential_wt:"K",reference_wt:"K",region:"C-helix",protein_site:"655",chains:"C F M G J P"},656:{sequential_site:645,sequential_wt:"N",reference_wt:"N",region:"C-helix",protein_site:"656",chains:"C F M G J P"},657:{sequential_site:646,sequential_wt:"E",reference_wt:"E",region:"C-helix",protein_site:"657",chains:"C F M G J P"},658:{sequential_site:647,sequential_wt:"Q",reference_wt:"Q",region:"C-helix",protein_site:"658",chains:"C F M G J P"},659:{sequential_site:648,sequential_wt:"D",reference_wt:"E",region:"C-helix",protein_site:"659",chains:"C F M G J P"},660:{sequential_site:649,sequential_wt:"L",reference_wt:"L",region:"C-helix",protein_site:"660",chains:"C F M G J P"},661:{sequential_site:650,sequential_wt:"L",reference_wt:"L",region:"C-helix",protein_site:"661",chains:"C F M G J P"},662:{sequential_site:651,sequential_wt:"A",reference_wt:"E",region:"C-helix",protein_site:"662",chains:"C F M G J P"},663:{sequential_site:652,sequential_wt:"L",reference_wt:"L",region:"C-helix",protein_site:"663",chains:"C F M G J P"},664:{sequential_site:653,sequential_wt:"D",reference_wt:"D",region:"C-helix",protein_site:"664",chains:"C F M G J P"},665:{sequential_site:654,sequential_wt:"K",reference_wt:"K",region:"C-helix",protein_site:"665",chains:"C F M G J P"},666:{sequential_site:655,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"666",chains:"C F M G J P"},667:{sequential_site:656,sequential_wt:"A",reference_wt:"A",region:"C-helix",protein_site:"667",chains:"C F M G J P"},668:{sequential_site:657,sequential_wt:"S",reference_wt:"S",region:"C-helix",protein_site:"668",chains:"C F M G J P"},669:{sequential_site:658,sequential_wt:"L",reference_wt:"L",region:"C-helix",protein_site:"669",chains:"C F M G J P"},670:{sequential_site:659,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"670",chains:"C F M G J P"},671:{sequential_site:660,sequential_wt:"N",reference_wt:"N",region:"C-helix",protein_site:"671",chains:"C F M G J P"},672:{sequential_site:661,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"672",chains:"C F M G J P"},673:{sequential_site:662,sequential_wt:"F",reference_wt:"F",region:"C-helix",protein_site:"673",chains:"C F M G J P"},674:{sequential_site:663,sequential_wt:"N",reference_wt:"N",region:"C-helix",protein_site:"674",chains:"C F M G J P"},675:{sequential_site:664,sequential_wt:"I",reference_wt:"I",region:"C-helix",protein_site:"675",chains:"C F M G J P"},676:{sequential_site:665,sequential_wt:"S",reference_wt:"T",region:"C-helix",protein_site:"676",chains:"C F M G J P"},677:{sequential_site:666,sequential_wt:"Q",reference_wt:"N",region:"C-helix",protein_site:"677",chains:"C F M G J P"},678:{sequential_site:667,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"678",chains:"C F M G J P"},679:{sequential_site:668,sequential_wt:"L",reference_wt:"L",region:"C-helix",protein_site:"679",chains:"C F M G J P"},680:{sequential_site:669,sequential_wt:"W",reference_wt:"W",region:"C-helix",protein_site:"680",chains:"C F M G J P"},681:{sequential_site:670,sequential_wt:"Y",reference_wt:"Y",region:"C-helix",protein_site:"681",chains:"C F M G J P"},682:{sequential_site:671,sequential_wt:"I",reference_wt:"I",region:"C-helix",protein_site:"682",chains:"C F M G J P"},683:{sequential_site:672,sequential_wt:"K",reference_wt:"K",region:"C-helix",protein_site:"683",chains:"C F M G J P"},684:{sequential_site:673,sequential_wt:"I",reference_wt:"L",region:"C-helix",protein_site:"684",chains:"C F M G J P"},685:{sequential_site:674,sequential_wt:"F",reference_wt:"F",region:"transmembrane domain",protein_site:"685",chains:"C F M G J P"},686:{sequential_site:675,sequential_wt:"I",reference_wt:"I",region:"transmembrane domain",protein_site:"686",chains:"C F M G J P"},687:{sequential_site:676,sequential_wt:"I",reference_wt:"M",region:"transmembrane domain",protein_site:"687",chains:"C F M G J P"},688:{sequential_site:677,sequential_wt:"I",reference_wt:"I",region:"transmembrane domain",protein_site:"688",chains:"C F M G J P"},689:{sequential_site:678,sequential_wt:"V",reference_wt:"V",region:"transmembrane domain",protein_site:"689",chains:"C F M G J P"},690:{sequential_site:679,sequential_wt:"G",reference_wt:"G",region:"transmembrane domain",protein_site:"690",chains:"C F M G J P"},691:{sequential_site:680,sequential_wt:"G",reference_wt:"G",region:"transmembrane domain",protein_site:"691",chains:"C F M G J P"},692:{sequential_site:681,sequential_wt:"L",reference_wt:"L",region:"transmembrane domain",protein_site:"692",chains:"C F M G J P"},693:{sequential_site:682,sequential_wt:"I",reference_wt:"V",region:"transmembrane domain",protein_site:"693",chains:"C F M G J P"},694:{sequential_site:683,sequential_wt:"G",reference_wt:"G",region:"transmembrane domain",protein_site:"694",chains:"C F M G J P"},695:{sequential_site:684,sequential_wt:"L",reference_wt:"L",region:"transmembrane domain",protein_site:"695",chains:"C F M G J P"},696:{sequential_site:685,sequential_wt:"R",reference_wt:"R",region:"transmembrane domain",protein_site:"696",chains:"C F M G J P"},697:{sequential_site:686,sequential_wt:"I",reference_wt:"I",region:"transmembrane domain",protein_site:"697",chains:"C F M G J P"},698:{sequential_site:687,sequential_wt:"V",reference_wt:"V",region:"transmembrane domain",protein_site:"698",chains:"C F M G J P"},699:{sequential_site:688,sequential_wt:"F",reference_wt:"F",region:"transmembrane domain",protein_site:"699",chains:"C F M G J P"},700:{sequential_site:689,sequential_wt:"A",reference_wt:"A",region:"transmembrane domain",protein_site:"700",chains:"C F M G J P"},701:{sequential_site:690,sequential_wt:"V",reference_wt:"V",region:"transmembrane domain",protein_site:"701",chains:"C F M G J P"},702:{sequential_site:691,sequential_wt:"L",reference_wt:"L",region:"transmembrane domain",protein_site:"702",chains:"C F M G J P"},703:{sequential_site:692,sequential_wt:"S",reference_wt:"S",region:"transmembrane domain",protein_site:"703",chains:"C F M G J P"},704:{sequential_site:693,sequential_wt:"V",reference_wt:"I",region:"transmembrane domain",protein_site:"704",chains:"C F M G J P"},705:{sequential_site:694,sequential_wt:"I",reference_wt:"V",region:"transmembrane domain",protein_site:"705",chains:"C F M G J P"},706:{sequential_site:695,sequential_wt:"N",reference_wt:"N",region:"transmembrane domain",protein_site:"706",chains:"C F M G J P"},707:{sequential_site:696,sequential_wt:"R",reference_wt:"R",region:"transmembrane domain",protein_site:"707",chains:"C F M G J P"},708:{sequential_site:697,sequential_wt:"V",reference_wt:"V",region:"transmembrane domain",protein_site:"708",chains:"C F M G J P"},709:{sequential_site:698,sequential_wt:"R",reference_wt:"R",region:"transmembrane domain",protein_site:"709",chains:"C F M G J P"},710:{sequential_site:699,sequential_wt:"Q",reference_wt:"Q",region:"transmembrane domain",protein_site:"710",chains:"C F M G J P"},711:{sequential_site:700,sequential_wt:"G",reference_wt:"G",region:"transmembrane domain",protein_site:"711",chains:"C F M G J P"},712:{sequential_site:701,sequential_wt:"Y",reference_wt:"Y",region:"transmembrane domain",protein_site:"712",chains:"C F M G J P"},713:{sequential_site:702,sequential_wt:"S",reference_wt:"S",region:"transmembrane domain",protein_site:"713",chains:"C F M G J P"},714:{sequential_site:703,sequential_wt:"P",reference_wt:"P",region:"transmembrane domain",protein_site:"714",chains:"C F M G J P"},715:{sequential_site:704,sequential_wt:"L",reference_wt:"L",region:"transmembrane domain",protein_site:"715",chains:"C F M G J P"},716:{sequential_site:705,sequential_wt:"S",reference_wt:"S",region:"transmembrane domain",protein_site:"716",chains:"C F M G J P"},717:{sequential_site:706,sequential_wt:"F",reference_wt:"F",region:"transmembrane domain",protein_site:"717",chains:"C F M G J P"},718:{sequential_site:707,sequential_wt:"Q",reference_wt:"Q",region:"transmembrane domain",protein_site:"718",chains:"C F M G J P"},719:{sequential_site:708,sequential_wt:"T",reference_wt:"T",region:"transmembrane domain",protein_site:"719",chains:"C F M G J P"},720:{sequential_site:709,sequential_wt:"R",reference_wt:"H",region:"transmembrane domain",protein_site:"720",chains:"C F M G J P"},721:{sequential_site:710,sequential_wt:"T",reference_wt:"L",region:"transmembrane domain",protein_site:"721",chains:"C F M G J P"},722:{sequential_site:711,sequential_wt:"P",reference_wt:"P",region:"transmembrane domain",protein_site:"722",chains:"C F M G J P"},723:{sequential_site:712,sequential_wt:"N",reference_wt:"T",region:"transmembrane domain",protein_site:"723",chains:"C F M G J P"},724:{sequential_site:713,sequential_wt:"P",reference_wt:"P",region:"Cytoplasmic tail",protein_site:"724",chains:"C F M G J P"},725:{sequential_site:714,sequential_wt:"G",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"725",chains:"C F M G J P"},726:{sequential_site:715,sequential_wt:"E",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"726",chains:"C F M G J P"},727:{sequential_site:716,sequential_wt:"L",reference_wt:"P",region:"Cytoplasmic tail",protein_site:"727",chains:"C F M G J P"},728:{sequential_site:717,sequential_wt:"D",reference_wt:"D",region:"Cytoplasmic tail",protein_site:"728",chains:"C F M G J P"},729:{sequential_site:718,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"729",chains:"C F M G J P"},730:{sequential_site:719,sequential_wt:"P",reference_wt:"P",region:"Cytoplasmic tail",protein_site:"730",chains:"C F M G J P"},731:{sequential_site:720,sequential_wt:"G",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"731",chains:"C F M G J P"},732:{sequential_site:721,sequential_wt:"R",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"732",chains:"C F M G J P"},733:{sequential_site:722,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"733",chains:"C F M G J P"},734:{sequential_site:723,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"734",chains:"C F M G J P"},735:{sequential_site:724,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"735",chains:"C F M G J P"},736:{sequential_site:725,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"736",chains:"C F M G J P"},737:{sequential_site:726,sequential_wt:"G",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"737",chains:"C F M G J P"},738:{sequential_site:727,sequential_wt:"G",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"738",chains:"C F M G J P"},739:{sequential_site:728,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"739",chains:"C F M G J P"},740:{sequential_site:729,sequential_wt:"Q",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"740",chains:"C F M G J P"},741:{sequential_site:730,sequential_wt:"D",reference_wt:"D",region:"Cytoplasmic tail",protein_site:"741",chains:"C F M G J P"},742:{sequential_site:731,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"742",chains:"C F M G J P"},743:{sequential_site:732,sequential_wt:"G",reference_wt:"D",region:"Cytoplasmic tail",protein_site:"743",chains:"C F M G J P"},744:{sequential_site:733,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"744",chains:"C F M G J P"},745:{sequential_site:734,sequential_wt:"S",reference_wt:"S",region:"Cytoplasmic tail",protein_site:"745",chains:"C F M G J P"},746:{sequential_site:735,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"746",chains:"C F M G J P"},747:{sequential_site:736,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"747",chains:"C F M G J P"},748:{sequential_site:737,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"748",chains:"C F M G J P"},749:{sequential_site:738,sequential_wt:"V",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"749",chains:"C F M G J P"},750:{sequential_site:739,sequential_wt:"S",reference_wt:"N",region:"Cytoplasmic tail",protein_site:"750",chains:"C F M G J P"},751:{sequential_site:740,sequential_wt:"G",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"751",chains:"C F M G J P"},752:{sequential_site:741,sequential_wt:"F",reference_wt:"S",region:"Cytoplasmic tail",protein_site:"752",chains:"C F M G J P"},753:{sequential_site:742,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"753",chains:"C F M G J P"},754:{sequential_site:743,sequential_wt:"A",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"754",chains:"C F M G J P"},755:{sequential_site:744,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"755",chains:"C F M G J P"},756:{sequential_site:745,sequential_wt:"A",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"756",chains:"C F M G J P"},757:{sequential_site:746,sequential_wt:"W",reference_wt:"W",region:"Cytoplasmic tail",protein_site:"757",chains:"C F M G J P"},758:{sequential_site:747,sequential_wt:"D",reference_wt:"D",region:"Cytoplasmic tail",protein_site:"758",chains:"C F M G J P"},759:{sequential_site:748,sequential_wt:"D",reference_wt:"D",region:"Cytoplasmic tail",protein_site:"759",chains:"C F M G J P"},760:{sequential_site:749,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"760",chains:"C F M G J P"},761:{sequential_site:750,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"761",chains:"C F M G J P"},762:{sequential_site:751,sequential_wt:"S",reference_wt:"S",region:"Cytoplasmic tail",protein_site:"762",chains:"C F M G J P"},763:{sequential_site:752,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"763",chains:"C F M G J P"},764:{sequential_site:753,sequential_wt:"C",reference_wt:"C",region:"Cytoplasmic tail",protein_site:"764",chains:"C F M G J P"},765:{sequential_site:754,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"765",chains:"C F M G J P"},766:{sequential_site:755,sequential_wt:"F",reference_wt:"F",region:"Cytoplasmic tail",protein_site:"766",chains:"C F M G J P"},767:{sequential_site:756,sequential_wt:"S",reference_wt:"S",region:"Cytoplasmic tail",protein_site:"767",chains:"C F M G J P"},768:{sequential_site:757,sequential_wt:"Y",reference_wt:"Y",region:"Cytoplasmic tail",protein_site:"768",chains:"C F M G J P"},769:{sequential_site:758,sequential_wt:"H",reference_wt:"H",region:"Cytoplasmic tail",protein_site:"769",chains:"C F M G J P"},770:{sequential_site:759,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"770",chains:"C F M G J P"},771:{sequential_site:760,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"771",chains:"C F M G J P"},772:{sequential_site:761,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"772",chains:"C F M G J P"},773:{sequential_site:762,sequential_wt:"D",reference_wt:"D",region:"Cytoplasmic tail",protein_site:"773",chains:"C F M G J P"},774:{sequential_site:763,sequential_wt:"F",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"774",chains:"C F M G J P"},775:{sequential_site:764,sequential_wt:"I",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"775",chains:"C F M G J P"},776:{sequential_site:765,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"776",chains:"C F M G J P"},777:{sequential_site:766,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"777",chains:"C F M G J P"},778:{sequential_site:767,sequential_wt:"A",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"778",chains:"C F M G J P"},779:{sequential_site:768,sequential_wt:"T",reference_wt:"T",region:"Cytoplasmic tail",protein_site:"779",chains:"C F M G J P"},780:{sequential_site:769,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"780",chains:"C F M G J P"},781:{sequential_site:770,sequential_wt:"T",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"781",chains:"C F M G J P"},782:{sequential_site:771,sequential_wt:"V",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"782",chains:"C F M G J P"},783:{sequential_site:772,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"783",chains:"C F M G J P"},784:{sequential_site:773,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"784",chains:"C F M G J P"},785:{sequential_site:774,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"785",chains:"C F M G J P"},786:{sequential_site:775,sequential_wt:"G",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"786",chains:"C F M G J P"},787:{sequential_site:783,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"787",chains:"C F M G J P"},788:{sequential_site:784,sequential_wt:"L",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"788",chains:"C F M G J P"},789:{sequential_site:785,sequential_wt:"G",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"789",chains:"C F M G J P"},790:{sequential_site:786,sequential_wt:"W",reference_wt:"W",region:"Cytoplasmic tail",protein_site:"790",chains:"C F M G J P"},791:{sequential_site:787,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"791",chains:"C F M G J P"},792:{sequential_site:788,sequential_wt:"S",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"792",chains:"C F M G J P"},793:{sequential_site:789,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"793",chains:"C F M G J P"},794:{sequential_site:790,sequential_wt:"K",reference_wt:"K",region:"Cytoplasmic tail",protein_site:"794",chains:"C F M G J P"},795:{sequential_site:791,sequential_wt:"Y",reference_wt:"Y",region:"Cytoplasmic tail",protein_site:"795",chains:"C F M G J P"},796:{sequential_site:792,sequential_wt:"L",reference_wt:"W",region:"Cytoplasmic tail",protein_site:"796",chains:"C F M G J P"},797:{sequential_site:793,sequential_wt:"G",reference_wt:"W",region:"Cytoplasmic tail",protein_site:"797",chains:"C F M G J P"},798:{sequential_site:794,sequential_wt:"N",reference_wt:"N",region:"Cytoplasmic tail",protein_site:"798",chains:"C F M G J P"},799:{sequential_site:795,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"799",chains:"C F M G J P"},800:{sequential_site:796,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"800",chains:"C F M G J P"},801:{sequential_site:797,sequential_wt:"V",reference_wt:"Q",region:"Cytoplasmic tail",protein_site:"801",chains:"C F M G J P"},802:{sequential_site:798,sequential_wt:"Y",reference_wt:"Y",region:"Cytoplasmic tail",protein_site:"802",chains:"C F M G J P"},803:{sequential_site:799,sequential_wt:"W",reference_wt:"W",region:"Cytoplasmic tail",protein_site:"803",chains:"C F M G J P"},804:{sequential_site:800,sequential_wt:"G",reference_wt:"S",region:"Cytoplasmic tail",protein_site:"804",chains:"C F M G J P"},805:{sequential_site:801,sequential_wt:"R",reference_wt:"Q",region:"Cytoplasmic tail",protein_site:"805",chains:"C F M G J P"},806:{sequential_site:802,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"806",chains:"C F M G J P"},807:{sequential_site:803,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"807",chains:"C F M G J P"},808:{sequential_site:804,sequential_wt:"K",reference_wt:"K",region:"Cytoplasmic tail",protein_site:"808",chains:"C F M G J P"},809:{sequential_site:805,sequential_wt:"I",reference_wt:"N",region:"Cytoplasmic tail",protein_site:"809",chains:"C F M G J P"},810:{sequential_site:806,sequential_wt:"S",reference_wt:"S",region:"Cytoplasmic tail",protein_site:"810",chains:"C F M G J P"},811:{sequential_site:807,sequential_wt:"A",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"811",chains:"C F M G J P"},812:{sequential_site:808,sequential_wt:"I",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"812",chains:"C F M G J P"},813:{sequential_site:809,sequential_wt:"N",reference_wt:"S",region:"Cytoplasmic tail",protein_site:"813",chains:"C F M G J P"},814:{sequential_site:810,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"814",chains:"C F M G J P"},815:{sequential_site:811,sequential_wt:"C",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"815",chains:"C F M G J P"},816:{sequential_site:812,sequential_wt:"D",reference_wt:"N",region:"Cytoplasmic tail",protein_site:"816",chains:"C F M G J P"},817:{sequential_site:813,sequential_wt:"T",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"817",chains:"C F M G J P"},818:{sequential_site:814,sequential_wt:"I",reference_wt:"T",region:"Cytoplasmic tail",protein_site:"818",chains:"C F M G J P"},819:{sequential_site:815,sequential_wt:"A",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"819",chains:"C F M G J P"},820:{sequential_site:816,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"820",chains:"C F M G J P"},821:{sequential_site:817,sequential_wt:"A",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"821",chains:"C F M G J P"},822:{sequential_site:818,sequential_wt:"V",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"822",chains:"C F M G J P"},823:{sequential_site:819,sequential_wt:"A",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"823",chains:"C F M G J P"},824:{sequential_site:820,sequential_wt:"G",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"824",chains:"C F M G J P"},825:{sequential_site:821,sequential_wt:"W",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"825",chains:"C F M G J P"},826:{sequential_site:822,sequential_wt:"T",reference_wt:"T",region:"Cytoplasmic tail",protein_site:"826",chains:"C F M G J P"},827:{sequential_site:823,sequential_wt:"D",reference_wt:"D",region:"Cytoplasmic tail",protein_site:"827",chains:"C F M G J P"},828:{sequential_site:824,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"828",chains:"C F M G J P"},829:{sequential_site:825,sequential_wt:"V",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"829",chains:"C F M G J P"},830:{sequential_site:826,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"830",chains:"C F M G J P"},831:{sequential_site:827,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"831",chains:"C F M G J P"},832:{sequential_site:828,sequential_wt:"L",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"832",chains:"C F M G J P"},833:{sequential_site:829,sequential_wt:"G",reference_wt:"V",region:"Cytoplasmic tail",protein_site:"833",chains:"C F M G J P"},834:{sequential_site:830,sequential_wt:"Q",reference_wt:"Q",region:"Cytoplasmic tail",protein_site:"834",chains:"C F M G J P"},835:{sequential_site:831,sequential_wt:"R",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"835",chains:"C F M G J P"},836:{sequential_site:832,sequential_wt:"L",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"836",chains:"C F M G J P"},837:{sequential_site:833,sequential_wt:"C",reference_wt:"C",region:"Cytoplasmic tail",protein_site:"837",chains:"C F M G J P"},838:{sequential_site:834,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"838",chains:"C F M G J P"},839:{sequential_site:835,sequential_wt:"A",reference_wt:"A",region:"Cytoplasmic tail",protein_site:"839",chains:"C F M G J P"},840:{sequential_site:836,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"840",chains:"C F M G J P"},841:{sequential_site:837,sequential_wt:"L",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"841",chains:"C F M G J P"},842:{sequential_site:838,sequential_wt:"H",reference_wt:"H",region:"Cytoplasmic tail",protein_site:"842",chains:"C F M G J P"},843:{sequential_site:839,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"843",chains:"C F M G J P"},844:{sequential_site:840,sequential_wt:"P",reference_wt:"P",region:"Cytoplasmic tail",protein_site:"844",chains:"C F M G J P"},845:{sequential_site:841,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"845",chains:"C F M G J P"},846:{sequential_site:842,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"846",chains:"C F M G J P"},847:{sequential_site:843,sequential_wt:"I",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"847",chains:"C F M G J P"},848:{sequential_site:844,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"848",chains:"C F M G J P"},849:{sequential_site:845,sequential_wt:"Q",reference_wt:"Q",region:"Cytoplasmic tail",protein_site:"849",chains:"C F M G J P"},850:{sequential_site:846,sequential_wt:"G",reference_wt:"G",region:"Cytoplasmic tail",protein_site:"850",chains:"C F M G J P"},851:{sequential_site:847,sequential_wt:"F",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"851",chains:"C F M G J P"},852:{sequential_site:848,sequential_wt:"E",reference_wt:"E",region:"Cytoplasmic tail",protein_site:"852",chains:"C F M G J P"},853:{sequential_site:849,sequential_wt:"R",reference_wt:"R",region:"Cytoplasmic tail",protein_site:"853",chains:"C F M G J P"},854:{sequential_site:850,sequential_wt:"A",reference_wt:"I",region:"Cytoplasmic tail",protein_site:"854",chains:"C F M G J P"},855:{sequential_site:851,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"855",chains:"C F M G J P"},856:{sequential_site:852,sequential_wt:"L",reference_wt:"L",region:"Cytoplasmic tail",protein_site:"856",chains:"C F M G J P"},"4a":{sequential_site:5,sequential_wt:"G",reference_wt:"-",region:"signal peptide",protein_site:"",chains:""},"4b":{sequential_site:6,sequential_wt:"I",reference_wt:"-",region:"signal peptide",protein_site:"",chains:""},"4c":{sequential_site:7,sequential_wt:"Q",reference_wt:"-",region:"signal peptide",protein_site:"",chains:""},"184a":{sequential_site:176,sequential_wt:"G",reference_wt:"-",region:"V2 loop",protein_site:"",chains:""},"184b":{sequential_site:177,sequential_wt:"G",reference_wt:"-",region:"V2 loop",protein_site:"",chains:""},"190a":{sequential_site:184,sequential_wt:"Q",reference_wt:"-",region:"V2 loop",protein_site:"",chains:""},"317a":{sequential_site:310,sequential_wt:"Y",reference_wt:"-",region:"Coreceptor binding site",protein_site:"",chains:""},"395a":{sequential_site:389,sequential_wt:"E",reference_wt:"-",region:"V4 loop",protein_site:"",chains:""},"786a":{sequential_site:776,sequential_wt:"H",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""},"786b":{sequential_site:777,sequential_wt:"S",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""},"786c":{sequential_site:778,sequential_wt:"S",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""},"786d":{sequential_site:779,sequential_wt:"L",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""},"786e":{sequential_site:780,sequential_wt:"K",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""},"786f":{sequential_site:781,sequential_wt:"G",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""},"786g":{sequential_site:782,sequential_wt:"L",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""},"856a":{sequential_site:853,sequential_wt:"*",reference_wt:"-",region:"Cytoplasmic tail",protein_site:"",chains:""}},alphabet:["R","K","H","D","E","Q","N","S","T","Y","W","F","A","I","L","M","V","G","P","C","-","*"],pdb:"6UDJ",dataChains:["C","F","M","G","J","P"],excludeChains:["B","L","R","A","Q","K"],epitopes:[1],epitope_colors:{1:"#0072B2"},filter_cols:{times_seen:"Times Seen",effect:"Functional Effect"}}},yn=new zR(HR);Vt("#json-file").on("change",function(){const e=document.getElementById("json-file");if(e.files.length===0){alert("Please select a JSON file to upload.");return}const t=e.files[0];if(t.type!=="application/json"){alert("Please select a valid JSON file.");return}const i=new FileReader;i.onload=function(){const n=JSON.parse(i.result);yn.data=n,yn.initTool()},i.readAsText(t)});Vt("#experiment").on("change",function(){yn.updateExperiment(this)});Vt("#epitope").on("change",function(){yn.updateData(this)});Vt("#summary").on("change",function(){yn.updateData(this)});Vt("#floor").on("change",function(){yn.updateData(this)});Vt("#proteinRepresentation").on("change",function(){yn.updateProtein(this)});Vt("#selectionRepresentation").on("change",function(){yn.updateProtein(this)});Vt("#backgroundRepresentation").on("change",function(){yn.updateProtein(this)});Vt("#proteinColor").on("change",function(){yn.updateProtein(this)});Vt("#backgroundColor").on("change",function(){yn.updateProtein(this)});Vt("#showGlycans").on("change",function(){yn.updateProtein(this)});Vt("#downloadProtein").on("click",function(){yn.protein.stage.makeImage({factor:4,antialias:!0,trim:!1,transparent:!1}).then(function(e){M4(e,"protein_plot.png")})});window.addEventListener("resize",function(){yn.chart.resize(),yn.protein.stage.handleResize()});
