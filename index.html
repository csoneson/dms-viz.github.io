<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dms-viz</title>
  </head>
  <body>
    <div id="root">
      <div class="header">
        <h1><code>dms-viz</code></h1>
        <details>
          <summary><h3 style="display: inline">Instructions</h3></summary>
          <p>
            <strong>To use this visualization tool</strong>, with the menu
            below, select an antibody, epitope, and how escape at each site
            should be summarized. Drag your mouse in the context plot just below
            the menu to zoom into a region of the focus plot. To see how
            individual mutations at a site contribute to escape, click on a
            point. To visualize sites on a protein, drag to select a group of
            points To clear your selections, double click on the plot. You can
            configure the protein options with the collapsible menu below the
            plot.
          </p>
        </details>
        <hr />
      </div>
      <div id="chart">
        <div id="chart-config">
          <label for="Model">Select Model:</label>
          <select name="Model" id="model"></select>
          <label for="Epitope">Select Epitope:</label>
          <select name="Epitope" id="epitope"></select>
          <label for="Metric">Select Summary Metric:</label>
          <select name="Metric" id="metric"></select>
          <label for="Floor">Floor:</label>
          <input type="checkbox" checked="True" name="Floor" id="floor" />
        </div>
      </div>
      <div id="viewport"></div>
      <input type="file" id="json-file" accept=".json" />
      <details>
        <summary>Protein Config</summary>
        <div id="protein-config">
          <label for="ProteinRepr">Protein Representation:</label>
          <select name="ProteinRepr" id="proteinRepr"></select>
          <label for="SelectionRepr">Selection Representation:</label>
          <select name="SelectionRepr" id="selectionRepr"></select>
          <label for="BackgroundRepr">Background Representation:</label>
          <select name="BackgroundRepr" id="backgroundRepr"></select>
          <label for="proteinColor">Protein Color:</label>
          <input type="color" value="#D3D3D3" id="proteinColor" />
          <label for="backgroundColor">Background Color:</label>
          <input type="color" value="#D3D3D3" id="backgroundColor" />
        </div>
        <!-- Download Button for protein structure -->
        <button id="downloadProtein">Download Protein Image</button>
      </details>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
