<!DOCTYPE html>
<html lang="en">
  <!-- Header of the Document -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dms-viz</title>
    <!-- Link to the svg boxicons -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
  </head>
  <!-- Body Contents -->
  <body>
    <!-- Wrap the main contents in a container -->
    <div class="container">
      <!-- Header contains the logo and name of the Application -->
      <header class="header">
        <nav>
          <button class="trigger">
            <i class="bx bx-help-circle help"></i>
          </button>
          <h1 class="logo">
            <a href="https://github.com/dms-viz/dms-viz.github.io">dms-viz</a>
          </h1>
        </nav>
      </header>
      <!-- Modal with Instructions -->
      <div class="modal">
        <div class="modal-content">
          <span class="close-button">&times;</span>
          <h3>Instructions</h3>
          <p>
            To use this visualization tool, with the menu below, select an
            antibody, epitope, and how escape at each site should be summarized.
            Drag your mouse in the context plot just below the menu to zoom into
            a region of the focus plot. To see how individual mutations at a
            site contribute to escape, click on a point. To visualize sites on a
            protein, drag to select a group of points To clear your selections,
            double click on the plot. You can configure the protein options with
            the collapsible menu below the plot.
          </p>
        </div>
      </div>
      <!-- Sidebar contains plot configuration options -->
      <div class="sidebar">
        <input type="file" id="json-file" accept=".json" />
        <label for="Model">Select Model:</label>
        <select name="Model" id="model"></select>
        <label for="Epitope">Select Epitope:</label>
        <select name="Epitope" id="epitope"></select>
        <label for="Metric">Select Summary Metric:</label>
        <select name="Metric" id="metric"></select>
        <label for="Floor">Floor:</label>
        <input type="checkbox" checked="True" name="Floor" id="floor" />
        <label for="ProteinRepr">Protein Representation:</label>
        <select name="ProteinRepr" id="proteinRepr"></select>
        <label for="SelectionRepr">Selection Representation:</label>
        <select name="SelectionRepr" id="selectionRepr"></select>
        <label for="BackgroundRepr">Background Representation:</label>
        <select name="BackgroundRepr" id="backgroundRepr"></select>
        <label for="proteinColor">Protein Color:</label>
        <input type="color" value="#D3D3D3" id="proteinColor" />
        <label for="backgroundColor">Background Color:</label>
        <input type="color" value="#D3D3D3" id="backgroundColor" />
        <button id="downloadProtein">Download Protein Image</button>
      </div>
      <!-- Chart contains the main D3 chart -->
      <div class="chart" id="chart"></div>
      <!-- Protein contains the protein(s) -->
      <div class="protein" id="viewport"></div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
